(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function Ci(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function Vu(s){if(Object.prototype.hasOwnProperty.call(s,"__esModule"))return s;var t=s.default;if(typeof t=="function"){var n=function i(){var o=!1;try{o=this instanceof i}catch{}return o?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(s).forEach(function(i){var o=Object.getOwnPropertyDescriptor(s,i);Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:function(){return s[i]}})}),n}var _h={exports:{}},pl={};var hg;function oR(){if(hg)return pl;hg=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,o,l){var u=null;if(l!==void 0&&(u=""+l),o.key!==void 0&&(u=""+o.key),"key"in o){l={};for(var f in o)f!=="key"&&(l[f]=o[f])}else l=o;return o=l.ref,{$$typeof:s,type:i,key:u,ref:o!==void 0?o:null,props:l}}return pl.Fragment=t,pl.jsx=n,pl.jsxs=n,pl}var pg;function lR(){return pg||(pg=1,_h.exports=oR()),_h.exports}var j=lR(),vh={},ml={},mg;function cR(){if(mg)return ml;mg=1,ml.byteLength=f,ml.toByteArray=w,ml.fromByteArray=I;for(var s=[],t=[],n=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,l=i.length;o<l;++o)s[o]=i[o],t[i.charCodeAt(o)]=o;t[45]=62,t[95]=63;function u(x){var M=x.length;if(M%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var L=x.indexOf("=");L===-1&&(L=M);var z=L===M?0:4-L%4;return[L,z]}function f(x){var M=u(x),L=M[0],z=M[1];return(L+z)*3/4-z}function y(x,M,L){return(M+L)*3/4-L}function w(x){var M,L=u(x),z=L[0],P=L[1],K=new n(y(x,z,P)),G=0,X=P>0?z-4:z,te;for(te=0;te<X;te+=4)M=t[x.charCodeAt(te)]<<18|t[x.charCodeAt(te+1)]<<12|t[x.charCodeAt(te+2)]<<6|t[x.charCodeAt(te+3)],K[G++]=M>>16&255,K[G++]=M>>8&255,K[G++]=M&255;return P===2&&(M=t[x.charCodeAt(te)]<<2|t[x.charCodeAt(te+1)]>>4,K[G++]=M&255),P===1&&(M=t[x.charCodeAt(te)]<<10|t[x.charCodeAt(te+1)]<<4|t[x.charCodeAt(te+2)]>>2,K[G++]=M>>8&255,K[G++]=M&255),K}function S(x){return s[x>>18&63]+s[x>>12&63]+s[x>>6&63]+s[x&63]}function C(x,M,L){for(var z,P=[],K=M;K<L;K+=3)z=(x[K]<<16&16711680)+(x[K+1]<<8&65280)+(x[K+2]&255),P.push(S(z));return P.join("")}function I(x){for(var M,L=x.length,z=L%3,P=[],K=16383,G=0,X=L-z;G<X;G+=K)P.push(C(x,G,G+K>X?X:G+K));return z===1?(M=x[L-1],P.push(s[M>>2]+s[M<<4&63]+"==")):z===2&&(M=(x[L-2]<<8)+x[L-1],P.push(s[M>>10]+s[M>>4&63]+s[M<<2&63]+"=")),P.join("")}return ml}var nu={};var yg;function uR(){return yg||(yg=1,nu.read=function(s,t,n,i,o){var l,u,f=o*8-i-1,y=(1<<f)-1,w=y>>1,S=-7,C=n?o-1:0,I=n?-1:1,x=s[t+C];for(C+=I,l=x&(1<<-S)-1,x>>=-S,S+=f;S>0;l=l*256+s[t+C],C+=I,S-=8);for(u=l&(1<<-S)-1,l>>=-S,S+=i;S>0;u=u*256+s[t+C],C+=I,S-=8);if(l===0)l=1-w;else{if(l===y)return u?NaN:(x?-1:1)*(1/0);u=u+Math.pow(2,i),l=l-w}return(x?-1:1)*u*Math.pow(2,l-i)},nu.write=function(s,t,n,i,o,l){var u,f,y,w=l*8-o-1,S=(1<<w)-1,C=S>>1,I=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=i?0:l-1,M=i?1:-1,L=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(f=isNaN(t)?1:0,u=S):(u=Math.floor(Math.log(t)/Math.LN2),t*(y=Math.pow(2,-u))<1&&(u--,y*=2),u+C>=1?t+=I/y:t+=I*Math.pow(2,1-C),t*y>=2&&(u++,y/=2),u+C>=S?(f=0,u=S):u+C>=1?(f=(t*y-1)*Math.pow(2,o),u=u+C):(f=t*Math.pow(2,C-1)*Math.pow(2,o),u=0));o>=8;s[n+x]=f&255,x+=M,f/=256,o-=8);for(u=u<<o|f,w+=o;w>0;s[n+x]=u&255,x+=M,u/=256,w-=8);s[n+x-M]|=L*128}),nu}var gg;function H0(){return gg||(gg=1,(function(s){const t=cR(),n=uR(),i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;s.Buffer=f,s.SlowBuffer=K,s.INSPECT_MAX_BYTES=50;const o=2147483647;s.kMaxLength=o,f.TYPED_ARRAY_SUPPORT=l(),!f.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function l(){try{const D=new Uint8Array(1),v={foo:function(){return 42}};return Object.setPrototypeOf(v,Uint8Array.prototype),Object.setPrototypeOf(D,v),D.foo()===42}catch{return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}});function u(D){if(D>o)throw new RangeError('The value "'+D+'" is invalid for option "size"');const v=new Uint8Array(D);return Object.setPrototypeOf(v,f.prototype),v}function f(D,v,R){if(typeof D=="number"){if(typeof v=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return C(D)}return y(D,v,R)}f.poolSize=8192;function y(D,v,R){if(typeof D=="string")return I(D,v);if(ArrayBuffer.isView(D))return M(D);if(D==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof D);if(Et(D,ArrayBuffer)||D&&Et(D.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Et(D,SharedArrayBuffer)||D&&Et(D.buffer,SharedArrayBuffer)))return L(D,v,R);if(typeof D=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const V=D.valueOf&&D.valueOf();if(V!=null&&V!==D)return f.from(V,v,R);const ee=z(D);if(ee)return ee;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof D[Symbol.toPrimitive]=="function")return f.from(D[Symbol.toPrimitive]("string"),v,R);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof D)}f.from=function(D,v,R){return y(D,v,R)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array);function w(D){if(typeof D!="number")throw new TypeError('"size" argument must be of type number');if(D<0)throw new RangeError('The value "'+D+'" is invalid for option "size"')}function S(D,v,R){return w(D),D<=0?u(D):v!==void 0?typeof R=="string"?u(D).fill(v,R):u(D).fill(v):u(D)}f.alloc=function(D,v,R){return S(D,v,R)};function C(D){return w(D),u(D<0?0:P(D)|0)}f.allocUnsafe=function(D){return C(D)},f.allocUnsafeSlow=function(D){return C(D)};function I(D,v){if((typeof v!="string"||v==="")&&(v="utf8"),!f.isEncoding(v))throw new TypeError("Unknown encoding: "+v);const R=G(D,v)|0;let V=u(R);const ee=V.write(D,v);return ee!==R&&(V=V.slice(0,ee)),V}function x(D){const v=D.length<0?0:P(D.length)|0,R=u(v);for(let V=0;V<v;V+=1)R[V]=D[V]&255;return R}function M(D){if(Et(D,Uint8Array)){const v=new Uint8Array(D);return L(v.buffer,v.byteOffset,v.byteLength)}return x(D)}function L(D,v,R){if(v<0||D.byteLength<v)throw new RangeError('"offset" is outside of buffer bounds');if(D.byteLength<v+(R||0))throw new RangeError('"length" is outside of buffer bounds');let V;return v===void 0&&R===void 0?V=new Uint8Array(D):R===void 0?V=new Uint8Array(D,v):V=new Uint8Array(D,v,R),Object.setPrototypeOf(V,f.prototype),V}function z(D){if(f.isBuffer(D)){const v=P(D.length)|0,R=u(v);return R.length===0||D.copy(R,0,0,v),R}if(D.length!==void 0)return typeof D.length!="number"||ge(D.length)?u(0):x(D);if(D.type==="Buffer"&&Array.isArray(D.data))return x(D.data)}function P(D){if(D>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return D|0}function K(D){return+D!=D&&(D=0),f.alloc(+D)}f.isBuffer=function(v){return v!=null&&v._isBuffer===!0&&v!==f.prototype},f.compare=function(v,R){if(Et(v,Uint8Array)&&(v=f.from(v,v.offset,v.byteLength)),Et(R,Uint8Array)&&(R=f.from(R,R.offset,R.byteLength)),!f.isBuffer(v)||!f.isBuffer(R))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(v===R)return 0;let V=v.length,ee=R.length;for(let ie=0,re=Math.min(V,ee);ie<re;++ie)if(v[ie]!==R[ie]){V=v[ie],ee=R[ie];break}return V<ee?-1:ee<V?1:0},f.isEncoding=function(v){switch(String(v).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(v,R){if(!Array.isArray(v))throw new TypeError('"list" argument must be an Array of Buffers');if(v.length===0)return f.alloc(0);let V;if(R===void 0)for(R=0,V=0;V<v.length;++V)R+=v[V].length;const ee=f.allocUnsafe(R);let ie=0;for(V=0;V<v.length;++V){let re=v[V];if(Et(re,Uint8Array))ie+re.length>ee.length?(f.isBuffer(re)||(re=f.from(re)),re.copy(ee,ie)):Uint8Array.prototype.set.call(ee,re,ie);else if(f.isBuffer(re))re.copy(ee,ie);else throw new TypeError('"list" argument must be an Array of Buffers');ie+=re.length}return ee};function G(D,v){if(f.isBuffer(D))return D.length;if(ArrayBuffer.isView(D)||Et(D,ArrayBuffer))return D.byteLength;if(typeof D!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof D);const R=D.length,V=arguments.length>2&&arguments[2]===!0;if(!V&&R===0)return 0;let ee=!1;for(;;)switch(v){case"ascii":case"latin1":case"binary":return R;case"utf8":case"utf-8":return We(D).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R*2;case"hex":return R>>>1;case"base64":return Xe(D).length;default:if(ee)return V?-1:We(D).length;v=(""+v).toLowerCase(),ee=!0}}f.byteLength=G;function X(D,v,R){let V=!1;if((v===void 0||v<0)&&(v=0),v>this.length||((R===void 0||R>this.length)&&(R=this.length),R<=0)||(R>>>=0,v>>>=0,R<=v))return"";for(D||(D="utf8");;)switch(D){case"hex":return B(this,v,R);case"utf8":case"utf-8":return h(this,v,R);case"ascii":return O(this,v,R);case"latin1":case"binary":return H(this,v,R);case"base64":return T(this,v,R);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,v,R);default:if(V)throw new TypeError("Unknown encoding: "+D);D=(D+"").toLowerCase(),V=!0}}f.prototype._isBuffer=!0;function te(D,v,R){const V=D[v];D[v]=D[R],D[R]=V}f.prototype.swap16=function(){const v=this.length;if(v%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let R=0;R<v;R+=2)te(this,R,R+1);return this},f.prototype.swap32=function(){const v=this.length;if(v%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let R=0;R<v;R+=4)te(this,R,R+3),te(this,R+1,R+2);return this},f.prototype.swap64=function(){const v=this.length;if(v%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let R=0;R<v;R+=8)te(this,R,R+7),te(this,R+1,R+6),te(this,R+2,R+5),te(this,R+3,R+4);return this},f.prototype.toString=function(){const v=this.length;return v===0?"":arguments.length===0?h(this,0,v):X.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(v){if(!f.isBuffer(v))throw new TypeError("Argument must be a Buffer");return this===v?!0:f.compare(this,v)===0},f.prototype.inspect=function(){let v="";const R=s.INSPECT_MAX_BYTES;return v=this.toString("hex",0,R).replace(/(.{2})/g,"$1 ").trim(),this.length>R&&(v+=" ... "),"<Buffer "+v+">"},i&&(f.prototype[i]=f.prototype.inspect),f.prototype.compare=function(v,R,V,ee,ie){if(Et(v,Uint8Array)&&(v=f.from(v,v.offset,v.byteLength)),!f.isBuffer(v))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof v);if(R===void 0&&(R=0),V===void 0&&(V=v?v.length:0),ee===void 0&&(ee=0),ie===void 0&&(ie=this.length),R<0||V>v.length||ee<0||ie>this.length)throw new RangeError("out of range index");if(ee>=ie&&R>=V)return 0;if(ee>=ie)return-1;if(R>=V)return 1;if(R>>>=0,V>>>=0,ee>>>=0,ie>>>=0,this===v)return 0;let re=ie-ee,Ue=V-R;const Ke=Math.min(re,Ue),Le=this.slice(ee,ie),ht=v.slice(R,V);for(let Je=0;Je<Ke;++Je)if(Le[Je]!==ht[Je]){re=Le[Je],Ue=ht[Je];break}return re<Ue?-1:Ue<re?1:0};function ce(D,v,R,V,ee){if(D.length===0)return-1;if(typeof R=="string"?(V=R,R=0):R>2147483647?R=2147483647:R<-2147483648&&(R=-2147483648),R=+R,ge(R)&&(R=ee?0:D.length-1),R<0&&(R=D.length+R),R>=D.length){if(ee)return-1;R=D.length-1}else if(R<0)if(ee)R=0;else return-1;if(typeof v=="string"&&(v=f.from(v,V)),f.isBuffer(v))return v.length===0?-1:se(D,v,R,V,ee);if(typeof v=="number")return v=v&255,typeof Uint8Array.prototype.indexOf=="function"?ee?Uint8Array.prototype.indexOf.call(D,v,R):Uint8Array.prototype.lastIndexOf.call(D,v,R):se(D,[v],R,V,ee);throw new TypeError("val must be string, number or Buffer")}function se(D,v,R,V,ee){let ie=1,re=D.length,Ue=v.length;if(V!==void 0&&(V=String(V).toLowerCase(),V==="ucs2"||V==="ucs-2"||V==="utf16le"||V==="utf-16le")){if(D.length<2||v.length<2)return-1;ie=2,re/=2,Ue/=2,R/=2}function Ke(ht,Je){return ie===1?ht[Je]:ht.readUInt16BE(Je*ie)}let Le;if(ee){let ht=-1;for(Le=R;Le<re;Le++)if(Ke(D,Le)===Ke(v,ht===-1?0:Le-ht)){if(ht===-1&&(ht=Le),Le-ht+1===Ue)return ht*ie}else ht!==-1&&(Le-=Le-ht),ht=-1}else for(R+Ue>re&&(R=re-Ue),Le=R;Le>=0;Le--){let ht=!0;for(let Je=0;Je<Ue;Je++)if(Ke(D,Le+Je)!==Ke(v,Je)){ht=!1;break}if(ht)return Le}return-1}f.prototype.includes=function(v,R,V){return this.indexOf(v,R,V)!==-1},f.prototype.indexOf=function(v,R,V){return ce(this,v,R,V,!0)},f.prototype.lastIndexOf=function(v,R,V){return ce(this,v,R,V,!1)};function oe(D,v,R,V){R=Number(R)||0;const ee=D.length-R;V?(V=Number(V),V>ee&&(V=ee)):V=ee;const ie=v.length;V>ie/2&&(V=ie/2);let re;for(re=0;re<V;++re){const Ue=parseInt(v.substr(re*2,2),16);if(ge(Ue))return re;D[R+re]=Ue}return re}function F(D,v,R,V){return Ye(We(v,D.length-R),D,R,V)}function Y(D,v,R,V){return Ye($e(v),D,R,V)}function $(D,v,R,V){return Ye(Xe(v),D,R,V)}function W(D,v,R,V){return Ye(kt(v,D.length-R),D,R,V)}f.prototype.write=function(v,R,V,ee){if(R===void 0)ee="utf8",V=this.length,R=0;else if(V===void 0&&typeof R=="string")ee=R,V=this.length,R=0;else if(isFinite(R))R=R>>>0,isFinite(V)?(V=V>>>0,ee===void 0&&(ee="utf8")):(ee=V,V=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ie=this.length-R;if((V===void 0||V>ie)&&(V=ie),v.length>0&&(V<0||R<0)||R>this.length)throw new RangeError("Attempt to write outside buffer bounds");ee||(ee="utf8");let re=!1;for(;;)switch(ee){case"hex":return oe(this,v,R,V);case"utf8":case"utf-8":return F(this,v,R,V);case"ascii":case"latin1":case"binary":return Y(this,v,R,V);case"base64":return $(this,v,R,V);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,v,R,V);default:if(re)throw new TypeError("Unknown encoding: "+ee);ee=(""+ee).toLowerCase(),re=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function T(D,v,R){return v===0&&R===D.length?t.fromByteArray(D):t.fromByteArray(D.slice(v,R))}function h(D,v,R){R=Math.min(D.length,R);const V=[];let ee=v;for(;ee<R;){const ie=D[ee];let re=null,Ue=ie>239?4:ie>223?3:ie>191?2:1;if(ee+Ue<=R){let Ke,Le,ht,Je;switch(Ue){case 1:ie<128&&(re=ie);break;case 2:Ke=D[ee+1],(Ke&192)===128&&(Je=(ie&31)<<6|Ke&63,Je>127&&(re=Je));break;case 3:Ke=D[ee+1],Le=D[ee+2],(Ke&192)===128&&(Le&192)===128&&(Je=(ie&15)<<12|(Ke&63)<<6|Le&63,Je>2047&&(Je<55296||Je>57343)&&(re=Je));break;case 4:Ke=D[ee+1],Le=D[ee+2],ht=D[ee+3],(Ke&192)===128&&(Le&192)===128&&(ht&192)===128&&(Je=(ie&15)<<18|(Ke&63)<<12|(Le&63)<<6|ht&63,Je>65535&&Je<1114112&&(re=Je))}}re===null?(re=65533,Ue=1):re>65535&&(re-=65536,V.push(re>>>10&1023|55296),re=56320|re&1023),V.push(re),ee+=Ue}return A(V)}const _=4096;function A(D){const v=D.length;if(v<=_)return String.fromCharCode.apply(String,D);let R="",V=0;for(;V<v;)R+=String.fromCharCode.apply(String,D.slice(V,V+=_));return R}function O(D,v,R){let V="";R=Math.min(D.length,R);for(let ee=v;ee<R;++ee)V+=String.fromCharCode(D[ee]&127);return V}function H(D,v,R){let V="";R=Math.min(D.length,R);for(let ee=v;ee<R;++ee)V+=String.fromCharCode(D[ee]);return V}function B(D,v,R){const V=D.length;(!v||v<0)&&(v=0),(!R||R<0||R>V)&&(R=V);let ee="";for(let ie=v;ie<R;++ie)ee+=Te[D[ie]];return ee}function E(D,v,R){const V=D.slice(v,R);let ee="";for(let ie=0;ie<V.length-1;ie+=2)ee+=String.fromCharCode(V[ie]+V[ie+1]*256);return ee}f.prototype.slice=function(v,R){const V=this.length;v=~~v,R=R===void 0?V:~~R,v<0?(v+=V,v<0&&(v=0)):v>V&&(v=V),R<0?(R+=V,R<0&&(R=0)):R>V&&(R=V),R<v&&(R=v);const ee=this.subarray(v,R);return Object.setPrototypeOf(ee,f.prototype),ee};function m(D,v,R){if(D%1!==0||D<0)throw new RangeError("offset is not uint");if(D+v>R)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function(v,R,V){v=v>>>0,R=R>>>0,V||m(v,R,this.length);let ee=this[v],ie=1,re=0;for(;++re<R&&(ie*=256);)ee+=this[v+re]*ie;return ee},f.prototype.readUintBE=f.prototype.readUIntBE=function(v,R,V){v=v>>>0,R=R>>>0,V||m(v,R,this.length);let ee=this[v+--R],ie=1;for(;R>0&&(ie*=256);)ee+=this[v+--R]*ie;return ee},f.prototype.readUint8=f.prototype.readUInt8=function(v,R){return v=v>>>0,R||m(v,1,this.length),this[v]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(v,R){return v=v>>>0,R||m(v,2,this.length),this[v]|this[v+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(v,R){return v=v>>>0,R||m(v,2,this.length),this[v]<<8|this[v+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(v,R){return v=v>>>0,R||m(v,4,this.length),(this[v]|this[v+1]<<8|this[v+2]<<16)+this[v+3]*16777216},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(v,R){return v=v>>>0,R||m(v,4,this.length),this[v]*16777216+(this[v+1]<<16|this[v+2]<<8|this[v+3])},f.prototype.readBigUInt64LE=Ve(function(v){v=v>>>0,Oe(v,"offset");const R=this[v],V=this[v+7];(R===void 0||V===void 0)&&Ie(v,this.length-8);const ee=R+this[++v]*2**8+this[++v]*2**16+this[++v]*2**24,ie=this[++v]+this[++v]*2**8+this[++v]*2**16+V*2**24;return BigInt(ee)+(BigInt(ie)<<BigInt(32))}),f.prototype.readBigUInt64BE=Ve(function(v){v=v>>>0,Oe(v,"offset");const R=this[v],V=this[v+7];(R===void 0||V===void 0)&&Ie(v,this.length-8);const ee=R*2**24+this[++v]*2**16+this[++v]*2**8+this[++v],ie=this[++v]*2**24+this[++v]*2**16+this[++v]*2**8+V;return(BigInt(ee)<<BigInt(32))+BigInt(ie)}),f.prototype.readIntLE=function(v,R,V){v=v>>>0,R=R>>>0,V||m(v,R,this.length);let ee=this[v],ie=1,re=0;for(;++re<R&&(ie*=256);)ee+=this[v+re]*ie;return ie*=128,ee>=ie&&(ee-=Math.pow(2,8*R)),ee},f.prototype.readIntBE=function(v,R,V){v=v>>>0,R=R>>>0,V||m(v,R,this.length);let ee=R,ie=1,re=this[v+--ee];for(;ee>0&&(ie*=256);)re+=this[v+--ee]*ie;return ie*=128,re>=ie&&(re-=Math.pow(2,8*R)),re},f.prototype.readInt8=function(v,R){return v=v>>>0,R||m(v,1,this.length),this[v]&128?(255-this[v]+1)*-1:this[v]},f.prototype.readInt16LE=function(v,R){v=v>>>0,R||m(v,2,this.length);const V=this[v]|this[v+1]<<8;return V&32768?V|4294901760:V},f.prototype.readInt16BE=function(v,R){v=v>>>0,R||m(v,2,this.length);const V=this[v+1]|this[v]<<8;return V&32768?V|4294901760:V},f.prototype.readInt32LE=function(v,R){return v=v>>>0,R||m(v,4,this.length),this[v]|this[v+1]<<8|this[v+2]<<16|this[v+3]<<24},f.prototype.readInt32BE=function(v,R){return v=v>>>0,R||m(v,4,this.length),this[v]<<24|this[v+1]<<16|this[v+2]<<8|this[v+3]},f.prototype.readBigInt64LE=Ve(function(v){v=v>>>0,Oe(v,"offset");const R=this[v],V=this[v+7];(R===void 0||V===void 0)&&Ie(v,this.length-8);const ee=this[v+4]+this[v+5]*2**8+this[v+6]*2**16+(V<<24);return(BigInt(ee)<<BigInt(32))+BigInt(R+this[++v]*2**8+this[++v]*2**16+this[++v]*2**24)}),f.prototype.readBigInt64BE=Ve(function(v){v=v>>>0,Oe(v,"offset");const R=this[v],V=this[v+7];(R===void 0||V===void 0)&&Ie(v,this.length-8);const ee=(R<<24)+this[++v]*2**16+this[++v]*2**8+this[++v];return(BigInt(ee)<<BigInt(32))+BigInt(this[++v]*2**24+this[++v]*2**16+this[++v]*2**8+V)}),f.prototype.readFloatLE=function(v,R){return v=v>>>0,R||m(v,4,this.length),n.read(this,v,!0,23,4)},f.prototype.readFloatBE=function(v,R){return v=v>>>0,R||m(v,4,this.length),n.read(this,v,!1,23,4)},f.prototype.readDoubleLE=function(v,R){return v=v>>>0,R||m(v,8,this.length),n.read(this,v,!0,52,8)},f.prototype.readDoubleBE=function(v,R){return v=v>>>0,R||m(v,8,this.length),n.read(this,v,!1,52,8)};function d(D,v,R,V,ee,ie){if(!f.isBuffer(D))throw new TypeError('"buffer" argument must be a Buffer instance');if(v>ee||v<ie)throw new RangeError('"value" argument is out of bounds');if(R+V>D.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function(v,R,V,ee){if(v=+v,R=R>>>0,V=V>>>0,!ee){const Ue=Math.pow(2,8*V)-1;d(this,v,R,V,Ue,0)}let ie=1,re=0;for(this[R]=v&255;++re<V&&(ie*=256);)this[R+re]=v/ie&255;return R+V},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(v,R,V,ee){if(v=+v,R=R>>>0,V=V>>>0,!ee){const Ue=Math.pow(2,8*V)-1;d(this,v,R,V,Ue,0)}let ie=V-1,re=1;for(this[R+ie]=v&255;--ie>=0&&(re*=256);)this[R+ie]=v/re&255;return R+V},f.prototype.writeUint8=f.prototype.writeUInt8=function(v,R,V){return v=+v,R=R>>>0,V||d(this,v,R,1,255,0),this[R]=v&255,R+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(v,R,V){return v=+v,R=R>>>0,V||d(this,v,R,2,65535,0),this[R]=v&255,this[R+1]=v>>>8,R+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(v,R,V){return v=+v,R=R>>>0,V||d(this,v,R,2,65535,0),this[R]=v>>>8,this[R+1]=v&255,R+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(v,R,V){return v=+v,R=R>>>0,V||d(this,v,R,4,4294967295,0),this[R+3]=v>>>24,this[R+2]=v>>>16,this[R+1]=v>>>8,this[R]=v&255,R+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(v,R,V){return v=+v,R=R>>>0,V||d(this,v,R,4,4294967295,0),this[R]=v>>>24,this[R+1]=v>>>16,this[R+2]=v>>>8,this[R+3]=v&255,R+4};function b(D,v,R,V,ee){ke(v,V,ee,D,R,7);let ie=Number(v&BigInt(4294967295));D[R++]=ie,ie=ie>>8,D[R++]=ie,ie=ie>>8,D[R++]=ie,ie=ie>>8,D[R++]=ie;let re=Number(v>>BigInt(32)&BigInt(4294967295));return D[R++]=re,re=re>>8,D[R++]=re,re=re>>8,D[R++]=re,re=re>>8,D[R++]=re,R}function N(D,v,R,V,ee){ke(v,V,ee,D,R,7);let ie=Number(v&BigInt(4294967295));D[R+7]=ie,ie=ie>>8,D[R+6]=ie,ie=ie>>8,D[R+5]=ie,ie=ie>>8,D[R+4]=ie;let re=Number(v>>BigInt(32)&BigInt(4294967295));return D[R+3]=re,re=re>>8,D[R+2]=re,re=re>>8,D[R+1]=re,re=re>>8,D[R]=re,R+8}f.prototype.writeBigUInt64LE=Ve(function(v,R=0){return b(this,v,R,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeBigUInt64BE=Ve(function(v,R=0){return N(this,v,R,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeIntLE=function(v,R,V,ee){if(v=+v,R=R>>>0,!ee){const Ke=Math.pow(2,8*V-1);d(this,v,R,V,Ke-1,-Ke)}let ie=0,re=1,Ue=0;for(this[R]=v&255;++ie<V&&(re*=256);)v<0&&Ue===0&&this[R+ie-1]!==0&&(Ue=1),this[R+ie]=(v/re>>0)-Ue&255;return R+V},f.prototype.writeIntBE=function(v,R,V,ee){if(v=+v,R=R>>>0,!ee){const Ke=Math.pow(2,8*V-1);d(this,v,R,V,Ke-1,-Ke)}let ie=V-1,re=1,Ue=0;for(this[R+ie]=v&255;--ie>=0&&(re*=256);)v<0&&Ue===0&&this[R+ie+1]!==0&&(Ue=1),this[R+ie]=(v/re>>0)-Ue&255;return R+V},f.prototype.writeInt8=function(v,R,V){return v=+v,R=R>>>0,V||d(this,v,R,1,127,-128),v<0&&(v=255+v+1),this[R]=v&255,R+1},f.prototype.writeInt16LE=function(v,R,V){return v=+v,R=R>>>0,V||d(this,v,R,2,32767,-32768),this[R]=v&255,this[R+1]=v>>>8,R+2},f.prototype.writeInt16BE=function(v,R,V){return v=+v,R=R>>>0,V||d(this,v,R,2,32767,-32768),this[R]=v>>>8,this[R+1]=v&255,R+2},f.prototype.writeInt32LE=function(v,R,V){return v=+v,R=R>>>0,V||d(this,v,R,4,2147483647,-2147483648),this[R]=v&255,this[R+1]=v>>>8,this[R+2]=v>>>16,this[R+3]=v>>>24,R+4},f.prototype.writeInt32BE=function(v,R,V){return v=+v,R=R>>>0,V||d(this,v,R,4,2147483647,-2147483648),v<0&&(v=4294967295+v+1),this[R]=v>>>24,this[R+1]=v>>>16,this[R+2]=v>>>8,this[R+3]=v&255,R+4},f.prototype.writeBigInt64LE=Ve(function(v,R=0){return b(this,v,R,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeBigInt64BE=Ve(function(v,R=0){return N(this,v,R,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function U(D,v,R,V,ee,ie){if(R+V>D.length)throw new RangeError("Index out of range");if(R<0)throw new RangeError("Index out of range")}function Z(D,v,R,V,ee){return v=+v,R=R>>>0,ee||U(D,v,R,4),n.write(D,v,R,V,23,4),R+4}f.prototype.writeFloatLE=function(v,R,V){return Z(this,v,R,!0,V)},f.prototype.writeFloatBE=function(v,R,V){return Z(this,v,R,!1,V)};function ae(D,v,R,V,ee){return v=+v,R=R>>>0,ee||U(D,v,R,8),n.write(D,v,R,V,52,8),R+8}f.prototype.writeDoubleLE=function(v,R,V){return ae(this,v,R,!0,V)},f.prototype.writeDoubleBE=function(v,R,V){return ae(this,v,R,!1,V)},f.prototype.copy=function(v,R,V,ee){if(!f.isBuffer(v))throw new TypeError("argument should be a Buffer");if(V||(V=0),!ee&&ee!==0&&(ee=this.length),R>=v.length&&(R=v.length),R||(R=0),ee>0&&ee<V&&(ee=V),ee===V||v.length===0||this.length===0)return 0;if(R<0)throw new RangeError("targetStart out of bounds");if(V<0||V>=this.length)throw new RangeError("Index out of range");if(ee<0)throw new RangeError("sourceEnd out of bounds");ee>this.length&&(ee=this.length),v.length-R<ee-V&&(ee=v.length-R+V);const ie=ee-V;return this===v&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(R,V,ee):Uint8Array.prototype.set.call(v,this.subarray(V,ee),R),ie},f.prototype.fill=function(v,R,V,ee){if(typeof v=="string"){if(typeof R=="string"?(ee=R,R=0,V=this.length):typeof V=="string"&&(ee=V,V=this.length),ee!==void 0&&typeof ee!="string")throw new TypeError("encoding must be a string");if(typeof ee=="string"&&!f.isEncoding(ee))throw new TypeError("Unknown encoding: "+ee);if(v.length===1){const re=v.charCodeAt(0);(ee==="utf8"&&re<128||ee==="latin1")&&(v=re)}}else typeof v=="number"?v=v&255:typeof v=="boolean"&&(v=Number(v));if(R<0||this.length<R||this.length<V)throw new RangeError("Out of range index");if(V<=R)return this;R=R>>>0,V=V===void 0?this.length:V>>>0,v||(v=0);let ie;if(typeof v=="number")for(ie=R;ie<V;++ie)this[ie]=v;else{const re=f.isBuffer(v)?v:f.from(v,ee),Ue=re.length;if(Ue===0)throw new TypeError('The value "'+v+'" is invalid for argument "value"');for(ie=0;ie<V-R;++ie)this[ie+R]=re[ie%Ue]}return this};const we={};function Se(D,v,R){we[D]=class extends R{constructor(){super(),Object.defineProperty(this,"message",{value:v.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${D}]`,this.stack,delete this.name}get code(){return D}set code(ee){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ee,writable:!0})}toString(){return`${this.name} [${D}]: ${this.message}`}}}Se("ERR_BUFFER_OUT_OF_BOUNDS",function(D){return D?`${D} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Se("ERR_INVALID_ARG_TYPE",function(D,v){return`The "${D}" argument must be of type number. Received type ${typeof v}`},TypeError),Se("ERR_OUT_OF_RANGE",function(D,v,R){let V=`The value of "${D}" is out of range.`,ee=R;return Number.isInteger(R)&&Math.abs(R)>2**32?ee=qe(String(R)):typeof R=="bigint"&&(ee=String(R),(R>BigInt(2)**BigInt(32)||R<-(BigInt(2)**BigInt(32)))&&(ee=qe(ee)),ee+="n"),V+=` It must be ${v}. Received ${ee}`,V},RangeError);function qe(D){let v="",R=D.length;const V=D[0]==="-"?1:0;for(;R>=V+4;R-=3)v=`_${D.slice(R-3,R)}${v}`;return`${D.slice(0,R)}${v}`}function ve(D,v,R){Oe(v,"offset"),(D[v]===void 0||D[v+R]===void 0)&&Ie(v,D.length-(R+1))}function ke(D,v,R,V,ee,ie){if(D>R||D<v){const re=typeof v=="bigint"?"n":"";let Ue;throw v===0||v===BigInt(0)?Ue=`>= 0${re} and < 2${re} ** ${(ie+1)*8}${re}`:Ue=`>= -(2${re} ** ${(ie+1)*8-1}${re}) and < 2 ** ${(ie+1)*8-1}${re}`,new we.ERR_OUT_OF_RANGE("value",Ue,D)}ve(V,ee,ie)}function Oe(D,v){if(typeof D!="number")throw new we.ERR_INVALID_ARG_TYPE(v,"number",D)}function Ie(D,v,R){throw Math.floor(D)!==D?(Oe(D,R),new we.ERR_OUT_OF_RANGE("offset","an integer",D)):v<0?new we.ERR_BUFFER_OUT_OF_BOUNDS:new we.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${v}`,D)}const Pe=/[^+/0-9A-Za-z-_]/g;function Ht(D){if(D=D.split("=")[0],D=D.trim().replace(Pe,""),D.length<2)return"";for(;D.length%4!==0;)D=D+"=";return D}function We(D,v){v=v||1/0;let R;const V=D.length;let ee=null;const ie=[];for(let re=0;re<V;++re){if(R=D.charCodeAt(re),R>55295&&R<57344){if(!ee){if(R>56319){(v-=3)>-1&&ie.push(239,191,189);continue}else if(re+1===V){(v-=3)>-1&&ie.push(239,191,189);continue}ee=R;continue}if(R<56320){(v-=3)>-1&&ie.push(239,191,189),ee=R;continue}R=(ee-55296<<10|R-56320)+65536}else ee&&(v-=3)>-1&&ie.push(239,191,189);if(ee=null,R<128){if((v-=1)<0)break;ie.push(R)}else if(R<2048){if((v-=2)<0)break;ie.push(R>>6|192,R&63|128)}else if(R<65536){if((v-=3)<0)break;ie.push(R>>12|224,R>>6&63|128,R&63|128)}else if(R<1114112){if((v-=4)<0)break;ie.push(R>>18|240,R>>12&63|128,R>>6&63|128,R&63|128)}else throw new Error("Invalid code point")}return ie}function $e(D){const v=[];for(let R=0;R<D.length;++R)v.push(D.charCodeAt(R)&255);return v}function kt(D,v){let R,V,ee;const ie=[];for(let re=0;re<D.length&&!((v-=2)<0);++re)R=D.charCodeAt(re),V=R>>8,ee=R%256,ie.push(ee),ie.push(V);return ie}function Xe(D){return t.toByteArray(Ht(D))}function Ye(D,v,R,V){let ee;for(ee=0;ee<V&&!(ee+R>=v.length||ee>=D.length);++ee)v[ee+R]=D[ee];return ee}function Et(D,v){return D instanceof v||D!=null&&D.constructor!=null&&D.constructor.name!=null&&D.constructor.name===v.name}function ge(D){return D!==D}const Te=(function(){const D="0123456789abcdef",v=new Array(256);for(let R=0;R<16;++R){const V=R*16;for(let ee=0;ee<16;++ee)v[V+ee]=D[R]+D[ee]}return v})();function Ve(D){return typeof BigInt>"u"?ze:D}function ze(){throw new Error("BigInt not supported")}})(vh)),vh}var je=H0(),Eh={exports:{}},bg;function fR(){if(bg)return Eh.exports;bg=1;var s=Eh.exports={},t,n;function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?t=setTimeout:t=i}catch{t=i}try{typeof clearTimeout=="function"?n=clearTimeout:n=o}catch{n=o}})();function l(L){if(t===setTimeout)return setTimeout(L,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(L,0);try{return t(L,0)}catch{try{return t.call(null,L,0)}catch{return t.call(this,L,0)}}}function u(L){if(n===clearTimeout)return clearTimeout(L);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(L);try{return n(L)}catch{try{return n.call(null,L)}catch{return n.call(this,L)}}}var f=[],y=!1,w,S=-1;function C(){!y||!w||(y=!1,w.length?f=w.concat(f):S=-1,f.length&&I())}function I(){if(!y){var L=l(C);y=!0;for(var z=f.length;z;){for(w=f,f=[];++S<z;)w&&w[S].run();S=-1,z=f.length}w=null,y=!1,u(L)}}s.nextTick=function(L){var z=new Array(arguments.length-1);if(arguments.length>1)for(var P=1;P<arguments.length;P++)z[P-1]=arguments[P];f.push(new x(L,z)),f.length===1&&!y&&l(I)};function x(L,z){this.fun=L,this.array=z}x.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={};function M(){}return s.on=M,s.addListener=M,s.once=M,s.off=M,s.removeListener=M,s.removeAllListeners=M,s.emit=M,s.prependListener=M,s.prependOnceListener=M,s.listeners=function(L){return[]},s.binding=function(L){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(L){throw new Error("process.chdir is not supported")},s.umask=function(){return 0},Eh.exports}var dR=fR();const hR=Ci(dR);globalThis.Buffer||(globalThis.Buffer=je.Buffer);globalThis.process||(globalThis.process=hR);var Sh={exports:{}},nt={};var wg;function pR(){if(wg)return nt;wg=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),I=Symbol.iterator;function x(m){return m===null||typeof m!="object"?null:(m=I&&m[I]||m["@@iterator"],typeof m=="function"?m:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,z={};function P(m,d,b){this.props=m,this.context=d,this.refs=z,this.updater=b||M}P.prototype.isReactComponent={},P.prototype.setState=function(m,d){if(typeof m!="object"&&typeof m!="function"&&m!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,m,d,"setState")},P.prototype.forceUpdate=function(m){this.updater.enqueueForceUpdate(this,m,"forceUpdate")};function K(){}K.prototype=P.prototype;function G(m,d,b){this.props=m,this.context=d,this.refs=z,this.updater=b||M}var X=G.prototype=new K;X.constructor=G,L(X,P.prototype),X.isPureReactComponent=!0;var te=Array.isArray;function ce(){}var se={H:null,A:null,T:null,S:null},oe=Object.prototype.hasOwnProperty;function F(m,d,b){var N=b.ref;return{$$typeof:s,type:m,key:d,ref:N!==void 0?N:null,props:b}}function Y(m,d){return F(m.type,d,m.props)}function $(m){return typeof m=="object"&&m!==null&&m.$$typeof===s}function W(m){var d={"=":"=0",":":"=2"};return"$"+m.replace(/[=:]/g,function(b){return d[b]})}var T=/\/+/g;function h(m,d){return typeof m=="object"&&m!==null&&m.key!=null?W(""+m.key):d.toString(36)}function _(m){switch(m.status){case"fulfilled":return m.value;case"rejected":throw m.reason;default:switch(typeof m.status=="string"?m.then(ce,ce):(m.status="pending",m.then(function(d){m.status==="pending"&&(m.status="fulfilled",m.value=d)},function(d){m.status==="pending"&&(m.status="rejected",m.reason=d)})),m.status){case"fulfilled":return m.value;case"rejected":throw m.reason}}throw m}function A(m,d,b,N,U){var Z=typeof m;(Z==="undefined"||Z==="boolean")&&(m=null);var ae=!1;if(m===null)ae=!0;else switch(Z){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(m.$$typeof){case s:case t:ae=!0;break;case S:return ae=m._init,A(ae(m._payload),d,b,N,U)}}if(ae)return U=U(m),ae=N===""?"."+h(m,0):N,te(U)?(b="",ae!=null&&(b=ae.replace(T,"$&/")+"/"),A(U,d,b,"",function(qe){return qe})):U!=null&&($(U)&&(U=Y(U,b+(U.key==null||m&&m.key===U.key?"":(""+U.key).replace(T,"$&/")+"/")+ae)),d.push(U)),1;ae=0;var we=N===""?".":N+":";if(te(m))for(var Se=0;Se<m.length;Se++)N=m[Se],Z=we+h(N,Se),ae+=A(N,d,b,Z,U);else if(Se=x(m),typeof Se=="function")for(m=Se.call(m),Se=0;!(N=m.next()).done;)N=N.value,Z=we+h(N,Se++),ae+=A(N,d,b,Z,U);else if(Z==="object"){if(typeof m.then=="function")return A(_(m),d,b,N,U);throw d=String(m),Error("Objects are not valid as a React child (found: "+(d==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":d)+"). If you meant to render a collection of children, use an array instead.")}return ae}function O(m,d,b){if(m==null)return m;var N=[],U=0;return A(m,N,"","",function(Z){return d.call(b,Z,U++)}),N}function H(m){if(m._status===-1){var d=m._result;d=d(),d.then(function(b){(m._status===0||m._status===-1)&&(m._status=1,m._result=b)},function(b){(m._status===0||m._status===-1)&&(m._status=2,m._result=b)}),m._status===-1&&(m._status=0,m._result=d)}if(m._status===1)return m._result.default;throw m._result}var B=typeof reportError=="function"?reportError:function(m){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof m=="object"&&m!==null&&typeof m.message=="string"?String(m.message):String(m),error:m});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",m);return}console.error(m)},E={map:O,forEach:function(m,d,b){O(m,function(){d.apply(this,arguments)},b)},count:function(m){var d=0;return O(m,function(){d++}),d},toArray:function(m){return O(m,function(d){return d})||[]},only:function(m){if(!$(m))throw Error("React.Children.only expected to receive a single React element child.");return m}};return nt.Activity=C,nt.Children=E,nt.Component=P,nt.Fragment=n,nt.Profiler=o,nt.PureComponent=G,nt.StrictMode=i,nt.Suspense=y,nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=se,nt.__COMPILER_RUNTIME={__proto__:null,c:function(m){return se.H.useMemoCache(m)}},nt.cache=function(m){return function(){return m.apply(null,arguments)}},nt.cacheSignal=function(){return null},nt.cloneElement=function(m,d,b){if(m==null)throw Error("The argument must be a React element, but you passed "+m+".");var N=L({},m.props),U=m.key;if(d!=null)for(Z in d.key!==void 0&&(U=""+d.key),d)!oe.call(d,Z)||Z==="key"||Z==="__self"||Z==="__source"||Z==="ref"&&d.ref===void 0||(N[Z]=d[Z]);var Z=arguments.length-2;if(Z===1)N.children=b;else if(1<Z){for(var ae=Array(Z),we=0;we<Z;we++)ae[we]=arguments[we+2];N.children=ae}return F(m.type,U,N)},nt.createContext=function(m){return m={$$typeof:u,_currentValue:m,_currentValue2:m,_threadCount:0,Provider:null,Consumer:null},m.Provider=m,m.Consumer={$$typeof:l,_context:m},m},nt.createElement=function(m,d,b){var N,U={},Z=null;if(d!=null)for(N in d.key!==void 0&&(Z=""+d.key),d)oe.call(d,N)&&N!=="key"&&N!=="__self"&&N!=="__source"&&(U[N]=d[N]);var ae=arguments.length-2;if(ae===1)U.children=b;else if(1<ae){for(var we=Array(ae),Se=0;Se<ae;Se++)we[Se]=arguments[Se+2];U.children=we}if(m&&m.defaultProps)for(N in ae=m.defaultProps,ae)U[N]===void 0&&(U[N]=ae[N]);return F(m,Z,U)},nt.createRef=function(){return{current:null}},nt.forwardRef=function(m){return{$$typeof:f,render:m}},nt.isValidElement=$,nt.lazy=function(m){return{$$typeof:S,_payload:{_status:-1,_result:m},_init:H}},nt.memo=function(m,d){return{$$typeof:w,type:m,compare:d===void 0?null:d}},nt.startTransition=function(m){var d=se.T,b={};se.T=b;try{var N=m(),U=se.S;U!==null&&U(b,N),typeof N=="object"&&N!==null&&typeof N.then=="function"&&N.then(ce,B)}catch(Z){B(Z)}finally{d!==null&&b.types!==null&&(d.types=b.types),se.T=d}},nt.unstable_useCacheRefresh=function(){return se.H.useCacheRefresh()},nt.use=function(m){return se.H.use(m)},nt.useActionState=function(m,d,b){return se.H.useActionState(m,d,b)},nt.useCallback=function(m,d){return se.H.useCallback(m,d)},nt.useContext=function(m){return se.H.useContext(m)},nt.useDebugValue=function(){},nt.useDeferredValue=function(m,d){return se.H.useDeferredValue(m,d)},nt.useEffect=function(m,d){return se.H.useEffect(m,d)},nt.useEffectEvent=function(m){return se.H.useEffectEvent(m)},nt.useId=function(){return se.H.useId()},nt.useImperativeHandle=function(m,d,b){return se.H.useImperativeHandle(m,d,b)},nt.useInsertionEffect=function(m,d){return se.H.useInsertionEffect(m,d)},nt.useLayoutEffect=function(m,d){return se.H.useLayoutEffect(m,d)},nt.useMemo=function(m,d){return se.H.useMemo(m,d)},nt.useOptimistic=function(m,d){return se.H.useOptimistic(m,d)},nt.useReducer=function(m,d,b){return se.H.useReducer(m,d,b)},nt.useRef=function(m){return se.H.useRef(m)},nt.useState=function(m){return se.H.useState(m)},nt.useSyncExternalStore=function(m,d,b){return se.H.useSyncExternalStore(m,d,b)},nt.useTransition=function(){return se.H.useTransition()},nt.version="19.2.3",nt}var _g;function P0(){return _g||(_g=1,Sh.exports=pR()),Sh.exports}var xe=P0();const mR=Ci(xe);var Ah={exports:{}},yl={},Rh={exports:{}},xh={};var vg;function yR(){return vg||(vg=1,(function(s){function t(A,O){var H=A.length;A.push(O);e:for(;0<H;){var B=H-1>>>1,E=A[B];if(0<o(E,O))A[B]=O,A[H]=E,H=B;else break e}}function n(A){return A.length===0?null:A[0]}function i(A){if(A.length===0)return null;var O=A[0],H=A.pop();if(H!==O){A[0]=H;e:for(var B=0,E=A.length,m=E>>>1;B<m;){var d=2*(B+1)-1,b=A[d],N=d+1,U=A[N];if(0>o(b,H))N<E&&0>o(U,b)?(A[B]=U,A[N]=H,B=N):(A[B]=b,A[d]=H,B=d);else if(N<E&&0>o(U,H))A[B]=U,A[N]=H,B=N;else break e}}return O}function o(A,O){var H=A.sortIndex-O.sortIndex;return H!==0?H:A.id-O.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;s.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();s.unstable_now=function(){return u.now()-f}}var y=[],w=[],S=1,C=null,I=3,x=!1,M=!1,L=!1,z=!1,P=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function X(A){for(var O=n(w);O!==null;){if(O.callback===null)i(w);else if(O.startTime<=A)i(w),O.sortIndex=O.expirationTime,t(y,O);else break;O=n(w)}}function te(A){if(L=!1,X(A),!M)if(n(y)!==null)M=!0,ce||(ce=!0,W());else{var O=n(w);O!==null&&_(te,O.startTime-A)}}var ce=!1,se=-1,oe=5,F=-1;function Y(){return z?!0:!(s.unstable_now()-F<oe)}function $(){if(z=!1,ce){var A=s.unstable_now();F=A;var O=!0;try{e:{M=!1,L&&(L=!1,K(se),se=-1),x=!0;var H=I;try{t:{for(X(A),C=n(y);C!==null&&!(C.expirationTime>A&&Y());){var B=C.callback;if(typeof B=="function"){C.callback=null,I=C.priorityLevel;var E=B(C.expirationTime<=A);if(A=s.unstable_now(),typeof E=="function"){C.callback=E,X(A),O=!0;break t}C===n(y)&&i(y),X(A)}else i(y);C=n(y)}if(C!==null)O=!0;else{var m=n(w);m!==null&&_(te,m.startTime-A),O=!1}}break e}finally{C=null,I=H,x=!1}O=void 0}}finally{O?W():ce=!1}}}var W;if(typeof G=="function")W=function(){G($)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,h=T.port2;T.port1.onmessage=$,W=function(){h.postMessage(null)}}else W=function(){P($,0)};function _(A,O){se=P(function(){A(s.unstable_now())},O)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(A){A.callback=null},s.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<A?Math.floor(1e3/A):5},s.unstable_getCurrentPriorityLevel=function(){return I},s.unstable_next=function(A){switch(I){case 1:case 2:case 3:var O=3;break;default:O=I}var H=I;I=O;try{return A()}finally{I=H}},s.unstable_requestPaint=function(){z=!0},s.unstable_runWithPriority=function(A,O){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var H=I;I=A;try{return O()}finally{I=H}},s.unstable_scheduleCallback=function(A,O,H){var B=s.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?B+H:B):H=B,A){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=H+E,A={id:S++,callback:O,priorityLevel:A,startTime:H,expirationTime:E,sortIndex:-1},H>B?(A.sortIndex=H,t(w,A),n(y)===null&&A===n(w)&&(L?(K(se),se=-1):L=!0,_(te,H-B))):(A.sortIndex=E,t(y,A),M||x||(M=!0,ce||(ce=!0,W()))),A},s.unstable_shouldYield=Y,s.unstable_wrapCallback=function(A){var O=I;return function(){var H=I;I=O;try{return A.apply(this,arguments)}finally{I=H}}}})(xh)),xh}var Eg;function gR(){return Eg||(Eg=1,Rh.exports=yR()),Rh.exports}var Th={exports:{}},Mn={};var Sg;function bR(){if(Sg)return Mn;Sg=1;var s=P0();function t(y){var w="https://react.dev/errors/"+y;if(1<arguments.length){w+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)w+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+y+"; visit "+w+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(y,w,S){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:C==null?null:""+C,children:y,containerInfo:w,implementation:S}}var u=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(y,w){if(y==="font")return"";if(typeof w=="string")return w==="use-credentials"?w:""}return Mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Mn.createPortal=function(y,w){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!w||w.nodeType!==1&&w.nodeType!==9&&w.nodeType!==11)throw Error(t(299));return l(y,w,null,S)},Mn.flushSync=function(y){var w=u.T,S=i.p;try{if(u.T=null,i.p=2,y)return y()}finally{u.T=w,i.p=S,i.d.f()}},Mn.preconnect=function(y,w){typeof y=="string"&&(w?(w=w.crossOrigin,w=typeof w=="string"?w==="use-credentials"?w:"":void 0):w=null,i.d.C(y,w))},Mn.prefetchDNS=function(y){typeof y=="string"&&i.d.D(y)},Mn.preinit=function(y,w){if(typeof y=="string"&&w&&typeof w.as=="string"){var S=w.as,C=f(S,w.crossOrigin),I=typeof w.integrity=="string"?w.integrity:void 0,x=typeof w.fetchPriority=="string"?w.fetchPriority:void 0;S==="style"?i.d.S(y,typeof w.precedence=="string"?w.precedence:void 0,{crossOrigin:C,integrity:I,fetchPriority:x}):S==="script"&&i.d.X(y,{crossOrigin:C,integrity:I,fetchPriority:x,nonce:typeof w.nonce=="string"?w.nonce:void 0})}},Mn.preinitModule=function(y,w){if(typeof y=="string")if(typeof w=="object"&&w!==null){if(w.as==null||w.as==="script"){var S=f(w.as,w.crossOrigin);i.d.M(y,{crossOrigin:S,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0})}}else w==null&&i.d.M(y)},Mn.preload=function(y,w){if(typeof y=="string"&&typeof w=="object"&&w!==null&&typeof w.as=="string"){var S=w.as,C=f(S,w.crossOrigin);i.d.L(y,S,{crossOrigin:C,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0,type:typeof w.type=="string"?w.type:void 0,fetchPriority:typeof w.fetchPriority=="string"?w.fetchPriority:void 0,referrerPolicy:typeof w.referrerPolicy=="string"?w.referrerPolicy:void 0,imageSrcSet:typeof w.imageSrcSet=="string"?w.imageSrcSet:void 0,imageSizes:typeof w.imageSizes=="string"?w.imageSizes:void 0,media:typeof w.media=="string"?w.media:void 0})}},Mn.preloadModule=function(y,w){if(typeof y=="string")if(w){var S=f(w.as,w.crossOrigin);i.d.m(y,{as:typeof w.as=="string"&&w.as!=="script"?w.as:void 0,crossOrigin:S,integrity:typeof w.integrity=="string"?w.integrity:void 0})}else i.d.m(y)},Mn.requestFormReset=function(y){i.d.r(y)},Mn.unstable_batchedUpdates=function(y,w){return y(w)},Mn.useFormState=function(y,w,S){return u.H.useFormState(y,w,S)},Mn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Mn.version="19.2.3",Mn}var Ag;function wR(){if(Ag)return Th.exports;Ag=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Th.exports=bR(),Th.exports}var Rg;function _R(){if(Rg)return yl;Rg=1;var s=gR(),t=P0(),n=wR();function i(e){var r="https://react.dev/errors/"+e;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function l(e){var r=e,a=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(a=r.return),e=r.return;while(e)}return r.tag===3?a:null}function u(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function f(e){if(e.tag===31){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function y(e){if(l(e)!==e)throw Error(i(188))}function w(e){var r=e.alternate;if(!r){if(r=l(e),r===null)throw Error(i(188));return r!==e?null:e}for(var a=e,c=r;;){var p=a.return;if(p===null)break;var g=p.alternate;if(g===null){if(c=p.return,c!==null){a=c;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===a)return y(p),e;if(g===c)return y(p),r;g=g.sibling}throw Error(i(188))}if(a.return!==c.return)a=p,c=g;else{for(var k=!1,q=p.child;q;){if(q===a){k=!0,a=p,c=g;break}if(q===c){k=!0,c=p,a=g;break}q=q.sibling}if(!k){for(q=g.child;q;){if(q===a){k=!0,a=g,c=p;break}if(q===c){k=!0,c=g,a=p;break}q=q.sibling}if(!k)throw Error(i(189))}}if(a.alternate!==c)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?e:r}function S(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e;for(e=e.child;e!==null;){if(r=S(e),r!==null)return r;e=e.sibling}return null}var C=Object.assign,I=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),K=Symbol.for("react.consumer"),G=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),se=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),Y=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function W(e){return e===null||typeof e!="object"?null:(e=$&&e[$]||e["@@iterator"],typeof e=="function"?e:null)}var T=Symbol.for("react.client.reference");function h(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===T?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case L:return"Fragment";case P:return"Profiler";case z:return"StrictMode";case te:return"Suspense";case ce:return"SuspenseList";case F:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case M:return"Portal";case G:return e.displayName||"Context";case K:return(e._context.displayName||"Context")+".Consumer";case X:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case se:return r=e.displayName||null,r!==null?r:h(e.type)||"Memo";case oe:r=e._payload,e=e._init;try{return h(e(r))}catch{}}return null}var _=Array.isArray,A=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},B=[],E=-1;function m(e){return{current:e}}function d(e){0>E||(e.current=B[E],B[E]=null,E--)}function b(e,r){E++,B[E]=e.current,e.current=r}var N=m(null),U=m(null),Z=m(null),ae=m(null);function we(e,r){switch(b(Z,r),b(U,e),b(N,null),r.nodeType){case 9:case 11:e=(e=r.documentElement)&&(e=e.namespaceURI)?Ly(e):0;break;default:if(e=r.tagName,r=r.namespaceURI)r=Ly(r),e=Uy(r,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}d(N),b(N,e)}function Se(){d(N),d(U),d(Z)}function qe(e){e.memoizedState!==null&&b(ae,e);var r=N.current,a=Uy(r,e.type);r!==a&&(b(U,e),b(N,a))}function ve(e){U.current===e&&(d(N),d(U)),ae.current===e&&(d(ae),ul._currentValue=H)}var ke,Oe;function Ie(e){if(ke===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);ke=r&&r[1]||"",Oe=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ke+e+Oe}var Pe=!1;function Ht(e,r){if(!e||Pe)return"";Pe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var Ae=function(){throw Error()};if(Object.defineProperty(Ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ae,[])}catch(ye){var pe=ye}Reflect.construct(e,[],Ae)}else{try{Ae.call()}catch(ye){pe=ye}e.call(Ae.prototype)}}else{try{throw Error()}catch(ye){pe=ye}(Ae=e())&&typeof Ae.catch=="function"&&Ae.catch(function(){})}}catch(ye){if(ye&&pe&&typeof ye.stack=="string")return[ye.stack,pe.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),k=g[0],q=g[1];if(k&&q){var J=k.split(`
`),de=q.split(`
`);for(p=c=0;c<J.length&&!J[c].includes("DetermineComponentFrameRoot");)c++;for(;p<de.length&&!de[p].includes("DetermineComponentFrameRoot");)p++;if(c===J.length||p===de.length)for(c=J.length-1,p=de.length-1;1<=c&&0<=p&&J[c]!==de[p];)p--;for(;1<=c&&0<=p;c--,p--)if(J[c]!==de[p]){if(c!==1||p!==1)do if(c--,p--,0>p||J[c]!==de[p]){var be=`
`+J[c].replace(" at new "," at ");return e.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",e.displayName)),be}while(1<=c&&0<=p);break}}}finally{Pe=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ie(a):""}function We(e,r){switch(e.tag){case 26:case 27:case 5:return Ie(e.type);case 16:return Ie("Lazy");case 13:return e.child!==r&&r!==null?Ie("Suspense Fallback"):Ie("Suspense");case 19:return Ie("SuspenseList");case 0:case 15:return Ht(e.type,!1);case 11:return Ht(e.type.render,!1);case 1:return Ht(e.type,!0);case 31:return Ie("Activity");default:return""}}function $e(e){try{var r="",a=null;do r+=We(e,a),a=e,e=e.return;while(e);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var kt=Object.prototype.hasOwnProperty,Xe=s.unstable_scheduleCallback,Ye=s.unstable_cancelCallback,Et=s.unstable_shouldYield,ge=s.unstable_requestPaint,Te=s.unstable_now,Ve=s.unstable_getCurrentPriorityLevel,ze=s.unstable_ImmediatePriority,D=s.unstable_UserBlockingPriority,v=s.unstable_NormalPriority,R=s.unstable_LowPriority,V=s.unstable_IdlePriority,ee=s.log,ie=s.unstable_setDisableYieldValue,re=null,Ue=null;function Ke(e){if(typeof ee=="function"&&ie(e),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(re,e)}catch{}}var Le=Math.clz32?Math.clz32:Dt,ht=Math.log,Je=Math.LN2;function Dt(e){return e>>>=0,e===0?32:31-(ht(e)/Je|0)|0}var Ot=256,_t=262144,Lt=4194304;function fr(e){var r=e&42;if(r!==0)return r;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function lt(e,r,a){var c=e.pendingLanes;if(c===0)return 0;var p=0,g=e.suspendedLanes,k=e.pingedLanes;e=e.warmLanes;var q=c&134217727;return q!==0?(c=q&~g,c!==0?p=fr(c):(k&=q,k!==0?p=fr(k):a||(a=q&~e,a!==0&&(p=fr(a))))):(q=c&~g,q!==0?p=fr(q):k!==0?p=fr(k):a||(a=c&~e,a!==0&&(p=fr(a)))),p===0?0:r!==0&&r!==p&&(r&g)===0&&(g=p&-p,a=r&-r,g>=a||g===32&&(a&4194048)!==0)?r:p}function xt(e,r){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&r)===0}function ca(e,r){switch(e){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xt(){var e=Lt;return Lt<<=1,(Lt&62914560)===0&&(Lt=4194304),e}function Ft(e){for(var r=[],a=0;31>a;a++)r.push(e);return r}function Mi(e,r){e.pendingLanes|=r,r!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function sn(e,r,a,c,p,g){var k=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var q=e.entanglements,J=e.expirationTimes,de=e.hiddenUpdates;for(a=k&~a;0<a;){var be=31-Le(a),Ae=1<<be;q[be]=0,J[be]=-1;var pe=de[be];if(pe!==null)for(de[be]=null,be=0;be<pe.length;be++){var ye=pe[be];ye!==null&&(ye.lane&=-536870913)}a&=~Ae}c!==0&&Qt(e,c,0),g!==0&&p===0&&e.tag!==0&&(e.suspendedLanes|=g&~(k&~r))}function Qt(e,r,a){e.pendingLanes|=r,e.suspendedLanes&=~r;var c=31-Le(r);e.entangledLanes|=r,e.entanglements[c]=e.entanglements[c]|1073741824|a&261930}function So(e,r){var a=e.entangledLanes|=r;for(e=e.entanglements;a;){var c=31-Le(a),p=1<<c;p&r|e[c]&r&&(e[c]|=r),a&=~p}}function Jt(e,r){var a=r&-r;return a=(a&42)!==0?1:Yt(a),(a&(e.suspendedLanes|r))!==0?0:a}function Yt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ua(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function en(){var e=O.p;return e!==0?e:(e=window.event,e===void 0?32:ag(e.type))}function tn(e,r){var a=O.p;try{return O.p=e,r()}finally{O.p=a}}var Rr=Math.random().toString(36).slice(2),ct="__reactFiber$"+Rr,yt="__reactProps$"+Rr,Qr="__reactContainer$"+Rr,Zt="__reactEvents$"+Rr,an="__reactListeners$"+Rr,Ao="__reactHandles$"+Rr,fa="__reactResources$"+Rr,Jr="__reactMarker$"+Rr;function As(e){delete e[ct],delete e[yt],delete e[Zt],delete e[an],delete e[Ao]}function Br(e){var r=e[ct];if(r)return r;for(var a=e.parentNode;a;){if(r=a[Qr]||a[ct]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(e=Gy(e);e!==null;){if(a=e[ct])return a;e=Gy(e)}return r}e=a,a=e.parentNode}return null}function Mr(e){if(e=e[ct]||e[Qr]){var r=e.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return e}return null}function ei(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e.stateNode;throw Error(i(33))}function Dr(e){var r=e[fa];return r||(r=e[fa]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function on(e){e[Jr]=!0}var da=new Set,ha={};function xr(e,r){Lr(e,r),Lr(e+"Capture",r)}function Lr(e,r){for(ha[e]=r,e=0;e<r.length;e++)da.add(r[e])}var Ro=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pa={},ma={};function xo(e){return kt.call(ma,e)?!0:kt.call(pa,e)?!1:Ro.test(e)?ma[e]=!0:(pa[e]=!0,!1)}function Di(e,r,a){if(xo(r))if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(r);return}}e.setAttribute(r,""+a)}}function Li(e,r,a){if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttribute(r,""+a)}}function ti(e,r,a,c){if(c===null)e.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(r,a,""+c)}}function dr(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Op(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function eS(e,r,a){var c=Object.getOwnPropertyDescriptor(e.constructor.prototype,r);if(!e.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,g=c.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return p.call(this)},set:function(k){a=""+k,g.call(this,k)}}),Object.defineProperty(e,r,{enumerable:c.enumerable}),{getValue:function(){return a},setValue:function(k){a=""+k},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function hf(e){if(!e._valueTracker){var r=Op(e)?"checked":"value";e._valueTracker=eS(e,r,""+e[r])}}function Np(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var a=r.getValue(),c="";return e&&(c=Op(e)?e.checked?"true":"false":e.value),e=c,e!==a?(r.setValue(e),!0):!1}function Fl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var tS=/[\n"\\]/g;function hr(e){return e.replace(tS,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function pf(e,r,a,c,p,g,k,q){e.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?e.type=k:e.removeAttribute("type"),r!=null?k==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+dr(r)):e.value!==""+dr(r)&&(e.value=""+dr(r)):k!=="submit"&&k!=="reset"||e.removeAttribute("value"),r!=null?mf(e,k,dr(r)):a!=null?mf(e,k,dr(a)):c!=null&&e.removeAttribute("value"),p==null&&g!=null&&(e.defaultChecked=!!g),p!=null&&(e.checked=p&&typeof p!="function"&&typeof p!="symbol"),q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?e.name=""+dr(q):e.removeAttribute("name")}function kp(e,r,a,c,p,g,k,q){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),r!=null||a!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){hf(e);return}a=a!=null?""+dr(a):"",r=r!=null?""+dr(r):a,q||r===e.value||(e.value=r),e.defaultValue=r}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=q?e.checked:!!c,e.defaultChecked=!!c,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(e.name=k),hf(e)}function mf(e,r,a){r==="number"&&Fl(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ya(e,r,a,c){if(e=e.options,r){r={};for(var p=0;p<a.length;p++)r["$"+a[p]]=!0;for(a=0;a<e.length;a++)p=r.hasOwnProperty("$"+e[a].value),e[a].selected!==p&&(e[a].selected=p),p&&c&&(e[a].defaultSelected=!0)}else{for(a=""+dr(a),r=null,p=0;p<e.length;p++){if(e[p].value===a){e[p].selected=!0,c&&(e[p].defaultSelected=!0);return}r!==null||e[p].disabled||(r=e[p])}r!==null&&(r.selected=!0)}}function Ip(e,r,a){if(r!=null&&(r=""+dr(r),r!==e.value&&(e.value=r),a==null)){e.defaultValue!==r&&(e.defaultValue=r);return}e.defaultValue=a!=null?""+dr(a):""}function Cp(e,r,a,c){if(r==null){if(c!=null){if(a!=null)throw Error(i(92));if(_(c)){if(1<c.length)throw Error(i(93));c=c[0]}a=c}a==null&&(a=""),r=a}a=dr(r),e.defaultValue=a,c=e.textContent,c===a&&c!==""&&c!==null&&(e.value=c),hf(e)}function ga(e,r){if(r){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=r;return}}e.textContent=r}var nS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bp(e,r,a){var c=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="":c?e.setProperty(r,a):typeof a!="number"||a===0||nS.has(r)?r==="float"?e.cssFloat=a:e[r]=(""+a).trim():e[r]=a+"px"}function Mp(e,r,a){if(r!=null&&typeof r!="object")throw Error(i(62));if(e=e.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var p in r)c=r[p],r.hasOwnProperty(p)&&a[p]!==c&&Bp(e,p,c)}else for(var g in r)r.hasOwnProperty(g)&&Bp(e,g,r[g])}function yf(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),iS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yl(e){return iS.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ni(){}var gf=null;function bf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ba=null,wa=null;function Dp(e){var r=Mr(e);if(r&&(e=r.stateNode)){var a=e[yt]||null;e:switch(e=r.stateNode,r.type){case"input":if(pf(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+hr(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var c=a[r];if(c!==e&&c.form===e.form){var p=c[yt]||null;if(!p)throw Error(i(90));pf(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(r=0;r<a.length;r++)c=a[r],c.form===e.form&&Np(c)}break e;case"textarea":Ip(e,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&ya(e,!!a.multiple,r,!1)}}}var wf=!1;function Lp(e,r,a){if(wf)return e(r,a);wf=!0;try{var c=e(r);return c}finally{if(wf=!1,(ba!==null||wa!==null)&&(Mc(),ba&&(r=ba,e=wa,wa=ba=null,Dp(r),e)))for(r=0;r<e.length;r++)Dp(e[r])}}function To(e,r){var a=e.stateNode;if(a===null)return null;var c=a[yt]||null;if(c===null)return null;a=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(i(231,r,typeof a));return a}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_f=!1;if(ri)try{var Oo={};Object.defineProperty(Oo,"passive",{get:function(){_f=!0}}),window.addEventListener("test",Oo,Oo),window.removeEventListener("test",Oo,Oo)}catch{_f=!1}var Ui=null,vf=null,Zl=null;function Up(){if(Zl)return Zl;var e,r=vf,a=r.length,c,p="value"in Ui?Ui.value:Ui.textContent,g=p.length;for(e=0;e<a&&r[e]===p[e];e++);var k=a-e;for(c=1;c<=k&&r[a-c]===p[g-c];c++);return Zl=p.slice(e,1<c?1-c:void 0)}function Wl(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function $l(){return!0}function zp(){return!1}function qn(e){function r(a,c,p,g,k){this._reactName=a,this._targetInst=p,this.type=c,this.nativeEvent=g,this.target=k,this.currentTarget=null;for(var q in e)e.hasOwnProperty(q)&&(a=e[q],this[q]=a?a(g):g[q]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?$l:zp,this.isPropagationStopped=zp,this}return C(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=$l)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=$l)},persist:function(){},isPersistent:$l}),r}var Rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xl=qn(Rs),No=C({},Rs,{view:0,detail:0}),sS=qn(No),Ef,Sf,ko,Ql=C({},No,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ko&&(ko&&e.type==="mousemove"?(Ef=e.screenX-ko.screenX,Sf=e.screenY-ko.screenY):Sf=Ef=0,ko=e),Ef)},movementY:function(e){return"movementY"in e?e.movementY:Sf}}),jp=qn(Ql),aS=C({},Ql,{dataTransfer:0}),oS=qn(aS),lS=C({},No,{relatedTarget:0}),Af=qn(lS),cS=C({},Rs,{animationName:0,elapsedTime:0,pseudoElement:0}),uS=qn(cS),fS=C({},Rs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),dS=qn(fS),hS=C({},Rs,{data:0}),Hp=qn(hS),pS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gS(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=yS[e])?!!r[e]:!1}function Rf(){return gS}var bS=C({},No,{key:function(e){if(e.key){var r=pS[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=Wl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rf,charCode:function(e){return e.type==="keypress"?Wl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Wl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wS=qn(bS),_S=C({},Ql,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pp=qn(_S),vS=C({},No,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rf}),ES=qn(vS),SS=C({},Rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),AS=qn(SS),RS=C({},Ql,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xS=qn(RS),TS=C({},Rs,{newState:0,oldState:0}),OS=qn(TS),NS=[9,13,27,32],xf=ri&&"CompositionEvent"in window,Io=null;ri&&"documentMode"in document&&(Io=document.documentMode);var kS=ri&&"TextEvent"in window&&!Io,qp=ri&&(!xf||Io&&8<Io&&11>=Io),Kp=" ",Gp=!1;function Vp(e,r){switch(e){case"keyup":return NS.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _a=!1;function IS(e,r){switch(e){case"compositionend":return Fp(r);case"keypress":return r.which!==32?null:(Gp=!0,Kp);case"textInput":return e=r.data,e===Kp&&Gp?null:e;default:return null}}function CS(e,r){if(_a)return e==="compositionend"||!xf&&Vp(e,r)?(e=Up(),Zl=vf=Ui=null,_a=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return qp&&r.locale!=="ko"?null:r.data;default:return null}}var BS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yp(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!BS[e.type]:r==="textarea"}function Zp(e,r,a,c){ba?wa?wa.push(c):wa=[c]:ba=c,r=Pc(r,"onChange"),0<r.length&&(a=new Xl("onChange","change",null,a,c),e.push({event:a,listeners:r}))}var Co=null,Bo=null;function MS(e){ky(e,0)}function Jl(e){var r=ei(e);if(Np(r))return e}function Wp(e,r){if(e==="change")return r}var $p=!1;if(ri){var Tf;if(ri){var Of="oninput"in document;if(!Of){var Xp=document.createElement("div");Xp.setAttribute("oninput","return;"),Of=typeof Xp.oninput=="function"}Tf=Of}else Tf=!1;$p=Tf&&(!document.documentMode||9<document.documentMode)}function Qp(){Co&&(Co.detachEvent("onpropertychange",Jp),Bo=Co=null)}function Jp(e){if(e.propertyName==="value"&&Jl(Bo)){var r=[];Zp(r,Bo,e,bf(e)),Lp(MS,r)}}function DS(e,r,a){e==="focusin"?(Qp(),Co=r,Bo=a,Co.attachEvent("onpropertychange",Jp)):e==="focusout"&&Qp()}function LS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Jl(Bo)}function US(e,r){if(e==="click")return Jl(r)}function zS(e,r){if(e==="input"||e==="change")return Jl(r)}function jS(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Qn=typeof Object.is=="function"?Object.is:jS;function Mo(e,r){if(Qn(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var a=Object.keys(e),c=Object.keys(r);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var p=a[c];if(!kt.call(r,p)||!Qn(e[p],r[p]))return!1}return!0}function em(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tm(e,r){var a=em(e);e=0;for(var c;a;){if(a.nodeType===3){if(c=e+a.textContent.length,e<=r&&c>=r)return{node:a,offset:r-e};e=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=em(a)}}function nm(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?nm(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function rm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var r=Fl(e.document);r instanceof e.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)e=r.contentWindow;else break;r=Fl(e.document)}return r}function Nf(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}var HS=ri&&"documentMode"in document&&11>=document.documentMode,va=null,kf=null,Do=null,If=!1;function im(e,r,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;If||va==null||va!==Fl(c)||(c=va,"selectionStart"in c&&Nf(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Do&&Mo(Do,c)||(Do=c,c=Pc(kf,"onSelect"),0<c.length&&(r=new Xl("onSelect","select",null,r,a),e.push({event:r,listeners:c}),r.target=va)))}function xs(e,r){var a={};return a[e.toLowerCase()]=r.toLowerCase(),a["Webkit"+e]="webkit"+r,a["Moz"+e]="moz"+r,a}var Ea={animationend:xs("Animation","AnimationEnd"),animationiteration:xs("Animation","AnimationIteration"),animationstart:xs("Animation","AnimationStart"),transitionrun:xs("Transition","TransitionRun"),transitionstart:xs("Transition","TransitionStart"),transitioncancel:xs("Transition","TransitionCancel"),transitionend:xs("Transition","TransitionEnd")},Cf={},sm={};ri&&(sm=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function Ts(e){if(Cf[e])return Cf[e];if(!Ea[e])return e;var r=Ea[e],a;for(a in r)if(r.hasOwnProperty(a)&&a in sm)return Cf[e]=r[a];return e}var am=Ts("animationend"),om=Ts("animationiteration"),lm=Ts("animationstart"),PS=Ts("transitionrun"),qS=Ts("transitionstart"),KS=Ts("transitioncancel"),cm=Ts("transitionend"),um=new Map,Bf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bf.push("scrollEnd");function Tr(e,r){um.set(e,r),xr(r,[e])}var ec=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},pr=[],Sa=0,Mf=0;function tc(){for(var e=Sa,r=Mf=Sa=0;r<e;){var a=pr[r];pr[r++]=null;var c=pr[r];pr[r++]=null;var p=pr[r];pr[r++]=null;var g=pr[r];if(pr[r++]=null,c!==null&&p!==null){var k=c.pending;k===null?p.next=p:(p.next=k.next,k.next=p),c.pending=p}g!==0&&fm(a,p,g)}}function nc(e,r,a,c){pr[Sa++]=e,pr[Sa++]=r,pr[Sa++]=a,pr[Sa++]=c,Mf|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function Df(e,r,a,c){return nc(e,r,a,c),rc(e)}function Os(e,r){return nc(e,null,null,r),rc(e)}function fm(e,r,a){e.lanes|=a;var c=e.alternate;c!==null&&(c.lanes|=a);for(var p=!1,g=e.return;g!==null;)g.childLanes|=a,c=g.alternate,c!==null&&(c.childLanes|=a),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(p=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,p&&r!==null&&(p=31-Le(a),e=g.hiddenUpdates,c=e[p],c===null?e[p]=[r]:c.push(r),r.lane=a|536870912),g):null}function rc(e){if(50<rl)throw rl=0,Gd=null,Error(i(185));for(var r=e.return;r!==null;)e=r,r=e.return;return e.tag===3?e.stateNode:null}var Aa={};function GS(e,r,a,c){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(e,r,a,c){return new GS(e,r,a,c)}function Lf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ii(e,r){var a=e.alternate;return a===null?(a=Jn(e.tag,r,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=r,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,r=e.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function dm(e,r){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=r,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,r=a.dependencies,e.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),e}function ic(e,r,a,c,p,g){var k=0;if(c=e,typeof e=="function")Lf(e)&&(k=1);else if(typeof e=="string")k=WA(e,a,N.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case F:return e=Jn(31,a,r,p),e.elementType=F,e.lanes=g,e;case L:return Ns(a.children,p,g,r);case z:k=8,p|=24;break;case P:return e=Jn(12,a,r,p|2),e.elementType=P,e.lanes=g,e;case te:return e=Jn(13,a,r,p),e.elementType=te,e.lanes=g,e;case ce:return e=Jn(19,a,r,p),e.elementType=ce,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case G:k=10;break e;case K:k=9;break e;case X:k=11;break e;case se:k=14;break e;case oe:k=16,c=null;break e}k=29,a=Error(i(130,e===null?"null":typeof e,"")),c=null}return r=Jn(k,a,r,p),r.elementType=e,r.type=c,r.lanes=g,r}function Ns(e,r,a,c){return e=Jn(7,e,c,r),e.lanes=a,e}function Uf(e,r,a){return e=Jn(6,e,null,r),e.lanes=a,e}function hm(e){var r=Jn(18,null,null,0);return r.stateNode=e,r}function zf(e,r,a){return r=Jn(4,e.children!==null?e.children:[],e.key,r),r.lanes=a,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}var pm=new WeakMap;function mr(e,r){if(typeof e=="object"&&e!==null){var a=pm.get(e);return a!==void 0?a:(r={value:e,source:r,stack:$e(r)},pm.set(e,r),r)}return{value:e,source:r,stack:$e(r)}}var Ra=[],xa=0,sc=null,Lo=0,yr=[],gr=0,zi=null,Ur=1,zr="";function si(e,r){Ra[xa++]=Lo,Ra[xa++]=sc,sc=e,Lo=r}function mm(e,r,a){yr[gr++]=Ur,yr[gr++]=zr,yr[gr++]=zi,zi=e;var c=Ur;e=zr;var p=32-Le(c)-1;c&=~(1<<p),a+=1;var g=32-Le(r)+p;if(30<g){var k=p-p%5;g=(c&(1<<k)-1).toString(32),c>>=k,p-=k,Ur=1<<32-Le(r)+p|a<<p|c,zr=g+e}else Ur=1<<g|a<<p|c,zr=e}function jf(e){e.return!==null&&(si(e,1),mm(e,1,0))}function Hf(e){for(;e===sc;)sc=Ra[--xa],Ra[xa]=null,Lo=Ra[--xa],Ra[xa]=null;for(;e===zi;)zi=yr[--gr],yr[gr]=null,zr=yr[--gr],yr[gr]=null,Ur=yr[--gr],yr[gr]=null}function ym(e,r){yr[gr++]=Ur,yr[gr++]=zr,yr[gr++]=zi,Ur=r.id,zr=r.overflow,zi=e}var Tn=null,Gt=null,gt=!1,ji=null,br=!1,Pf=Error(i(519));function Hi(e){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Uo(mr(r,e)),Pf}function gm(e){var r=e.stateNode,a=e.type,c=e.memoizedProps;switch(r[ct]=e,r[yt]=c,a){case"dialog":ft("cancel",r),ft("close",r);break;case"iframe":case"object":case"embed":ft("load",r);break;case"video":case"audio":for(a=0;a<sl.length;a++)ft(sl[a],r);break;case"source":ft("error",r);break;case"img":case"image":case"link":ft("error",r),ft("load",r);break;case"details":ft("toggle",r);break;case"input":ft("invalid",r),kp(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":ft("invalid",r);break;case"textarea":ft("invalid",r),Cp(r,c.value,c.defaultValue,c.children)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||c.suppressHydrationWarning===!0||My(r.textContent,a)?(c.popover!=null&&(ft("beforetoggle",r),ft("toggle",r)),c.onScroll!=null&&ft("scroll",r),c.onScrollEnd!=null&&ft("scrollend",r),c.onClick!=null&&(r.onclick=ni),r=!0):r=!1,r||Hi(e,!0)}function bm(e){for(Tn=e.return;Tn;)switch(Tn.tag){case 5:case 31:case 13:br=!1;return;case 27:case 3:br=!0;return;default:Tn=Tn.return}}function Ta(e){if(e!==Tn)return!1;if(!gt)return bm(e),gt=!0,!1;var r=e.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||sh(e.type,e.memoizedProps)),a=!a),a&&Gt&&Hi(e),bm(e),r===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));Gt=Ky(e)}else if(r===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));Gt=Ky(e)}else r===27?(r=Gt,es(e.type)?(e=uh,uh=null,Gt=e):Gt=r):Gt=Tn?_r(e.stateNode.nextSibling):null;return!0}function ks(){Gt=Tn=null,gt=!1}function qf(){var e=ji;return e!==null&&(Fn===null?Fn=e:Fn.push.apply(Fn,e),ji=null),e}function Uo(e){ji===null?ji=[e]:ji.push(e)}var Kf=m(null),Is=null,ai=null;function Pi(e,r,a){b(Kf,r._currentValue),r._currentValue=a}function oi(e){e._currentValue=Kf.current,d(Kf)}function Gf(e,r,a){for(;e!==null;){var c=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),e===a)break;e=e.return}}function Vf(e,r,a,c){var p=e.child;for(p!==null&&(p.return=e);p!==null;){var g=p.dependencies;if(g!==null){var k=p.child;g=g.firstContext;e:for(;g!==null;){var q=g;g=p;for(var J=0;J<r.length;J++)if(q.context===r[J]){g.lanes|=a,q=g.alternate,q!==null&&(q.lanes|=a),Gf(g.return,a,e),c||(k=null);break e}g=q.next}}else if(p.tag===18){if(k=p.return,k===null)throw Error(i(341));k.lanes|=a,g=k.alternate,g!==null&&(g.lanes|=a),Gf(k,a,e),k=null}else k=p.child;if(k!==null)k.return=p;else for(k=p;k!==null;){if(k===e){k=null;break}if(p=k.sibling,p!==null){p.return=k.return,k=p;break}k=k.return}p=k}}function Oa(e,r,a,c){e=null;for(var p=r,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var k=p.alternate;if(k===null)throw Error(i(387));if(k=k.memoizedProps,k!==null){var q=p.type;Qn(p.pendingProps.value,k.value)||(e!==null?e.push(q):e=[q])}}else if(p===ae.current){if(k=p.alternate,k===null)throw Error(i(387));k.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(e!==null?e.push(ul):e=[ul])}p=p.return}e!==null&&Vf(r,e,a,c),r.flags|=262144}function ac(e){for(e=e.firstContext;e!==null;){if(!Qn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Cs(e){Is=e,ai=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function On(e){return wm(Is,e)}function oc(e,r){return Is===null&&Cs(e),wm(e,r)}function wm(e,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},ai===null){if(e===null)throw Error(i(308));ai=r,e.dependencies={lanes:0,firstContext:r},e.flags|=524288}else ai=ai.next=r;return a}var VS=typeof AbortController<"u"?AbortController:function(){var e=[],r=this.signal={aborted:!1,addEventListener:function(a,c){e.push(c)}};this.abort=function(){r.aborted=!0,e.forEach(function(a){return a()})}},FS=s.unstable_scheduleCallback,YS=s.unstable_NormalPriority,gn={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ff(){return{controller:new VS,data:new Map,refCount:0}}function zo(e){e.refCount--,e.refCount===0&&FS(YS,function(){e.controller.abort()})}var jo=null,Yf=0,Na=0,ka=null;function ZS(e,r){if(jo===null){var a=jo=[];Yf=0,Na=$d(),ka={status:"pending",value:void 0,then:function(c){a.push(c)}}}return Yf++,r.then(_m,_m),r}function _m(){if(--Yf===0&&jo!==null){ka!==null&&(ka.status="fulfilled");var e=jo;jo=null,Na=0,ka=null;for(var r=0;r<e.length;r++)(0,e[r])()}}function WS(e,r){var a=[],c={status:"pending",value:null,reason:null,then:function(p){a.push(p)}};return e.then(function(){c.status="fulfilled",c.value=r;for(var p=0;p<a.length;p++)(0,a[p])(r)},function(p){for(c.status="rejected",c.reason=p,p=0;p<a.length;p++)(0,a[p])(void 0)}),c}var vm=A.S;A.S=function(e,r){iy=Te(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&ZS(e,r),vm!==null&&vm(e,r)};var Bs=m(null);function Zf(){var e=Bs.current;return e!==null?e:Pt.pooledCache}function lc(e,r){r===null?b(Bs,Bs.current):b(Bs,r.pool)}function Em(){var e=Zf();return e===null?null:{parent:gn._currentValue,pool:e}}var Ia=Error(i(460)),Wf=Error(i(474)),cc=Error(i(542)),uc={then:function(){}};function Sm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Am(e,r,a){switch(a=e[a],a===void 0?e.push(r):a!==r&&(r.then(ni,ni),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,xm(e),e;default:if(typeof r.status=="string")r.then(ni,ni);else{if(e=Pt,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=r,e.status="pending",e.then(function(c){if(r.status==="pending"){var p=r;p.status="fulfilled",p.value=c}},function(c){if(r.status==="pending"){var p=r;p.status="rejected",p.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,xm(e),e}throw Ds=r,Ia}}function Ms(e){try{var r=e._init;return r(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ds=a,Ia):a}}var Ds=null;function Rm(){if(Ds===null)throw Error(i(459));var e=Ds;return Ds=null,e}function xm(e){if(e===Ia||e===cc)throw Error(i(483))}var Ca=null,Ho=0;function fc(e){var r=Ho;return Ho+=1,Ca===null&&(Ca=[]),Am(Ca,e,r)}function Po(e,r){r=r.props.ref,e.ref=r!==void 0?r:null}function dc(e,r){throw r.$$typeof===I?Error(i(525)):(e=Object.prototype.toString.call(r),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)))}function Tm(e){function r(le,ne){if(e){var fe=le.deletions;fe===null?(le.deletions=[ne],le.flags|=16):fe.push(ne)}}function a(le,ne){if(!e)return null;for(;ne!==null;)r(le,ne),ne=ne.sibling;return null}function c(le){for(var ne=new Map;le!==null;)le.key!==null?ne.set(le.key,le):ne.set(le.index,le),le=le.sibling;return ne}function p(le,ne){return le=ii(le,ne),le.index=0,le.sibling=null,le}function g(le,ne,fe){return le.index=fe,e?(fe=le.alternate,fe!==null?(fe=fe.index,fe<ne?(le.flags|=67108866,ne):fe):(le.flags|=67108866,ne)):(le.flags|=1048576,ne)}function k(le){return e&&le.alternate===null&&(le.flags|=67108866),le}function q(le,ne,fe,Ee){return ne===null||ne.tag!==6?(ne=Uf(fe,le.mode,Ee),ne.return=le,ne):(ne=p(ne,fe),ne.return=le,ne)}function J(le,ne,fe,Ee){var Qe=fe.type;return Qe===L?be(le,ne,fe.props.children,Ee,fe.key):ne!==null&&(ne.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===oe&&Ms(Qe)===ne.type)?(ne=p(ne,fe.props),Po(ne,fe),ne.return=le,ne):(ne=ic(fe.type,fe.key,fe.props,null,le.mode,Ee),Po(ne,fe),ne.return=le,ne)}function de(le,ne,fe,Ee){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==fe.containerInfo||ne.stateNode.implementation!==fe.implementation?(ne=zf(fe,le.mode,Ee),ne.return=le,ne):(ne=p(ne,fe.children||[]),ne.return=le,ne)}function be(le,ne,fe,Ee,Qe){return ne===null||ne.tag!==7?(ne=Ns(fe,le.mode,Ee,Qe),ne.return=le,ne):(ne=p(ne,fe),ne.return=le,ne)}function Ae(le,ne,fe){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return ne=Uf(""+ne,le.mode,fe),ne.return=le,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case x:return fe=ic(ne.type,ne.key,ne.props,null,le.mode,fe),Po(fe,ne),fe.return=le,fe;case M:return ne=zf(ne,le.mode,fe),ne.return=le,ne;case oe:return ne=Ms(ne),Ae(le,ne,fe)}if(_(ne)||W(ne))return ne=Ns(ne,le.mode,fe,null),ne.return=le,ne;if(typeof ne.then=="function")return Ae(le,fc(ne),fe);if(ne.$$typeof===G)return Ae(le,oc(le,ne),fe);dc(le,ne)}return null}function pe(le,ne,fe,Ee){var Qe=ne!==null?ne.key:null;if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return Qe!==null?null:q(le,ne,""+fe,Ee);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case x:return fe.key===Qe?J(le,ne,fe,Ee):null;case M:return fe.key===Qe?de(le,ne,fe,Ee):null;case oe:return fe=Ms(fe),pe(le,ne,fe,Ee)}if(_(fe)||W(fe))return Qe!==null?null:be(le,ne,fe,Ee,null);if(typeof fe.then=="function")return pe(le,ne,fc(fe),Ee);if(fe.$$typeof===G)return pe(le,ne,oc(le,fe),Ee);dc(le,fe)}return null}function ye(le,ne,fe,Ee,Qe){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint")return le=le.get(fe)||null,q(ne,le,""+Ee,Qe);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case x:return le=le.get(Ee.key===null?fe:Ee.key)||null,J(ne,le,Ee,Qe);case M:return le=le.get(Ee.key===null?fe:Ee.key)||null,de(ne,le,Ee,Qe);case oe:return Ee=Ms(Ee),ye(le,ne,fe,Ee,Qe)}if(_(Ee)||W(Ee))return le=le.get(fe)||null,be(ne,le,Ee,Qe,null);if(typeof Ee.then=="function")return ye(le,ne,fe,fc(Ee),Qe);if(Ee.$$typeof===G)return ye(le,ne,fe,oc(ne,Ee),Qe);dc(ne,Ee)}return null}function Ge(le,ne,fe,Ee){for(var Qe=null,St=null,Fe=ne,it=ne=0,mt=null;Fe!==null&&it<fe.length;it++){Fe.index>it?(mt=Fe,Fe=null):mt=Fe.sibling;var At=pe(le,Fe,fe[it],Ee);if(At===null){Fe===null&&(Fe=mt);break}e&&Fe&&At.alternate===null&&r(le,Fe),ne=g(At,ne,it),St===null?Qe=At:St.sibling=At,St=At,Fe=mt}if(it===fe.length)return a(le,Fe),gt&&si(le,it),Qe;if(Fe===null){for(;it<fe.length;it++)Fe=Ae(le,fe[it],Ee),Fe!==null&&(ne=g(Fe,ne,it),St===null?Qe=Fe:St.sibling=Fe,St=Fe);return gt&&si(le,it),Qe}for(Fe=c(Fe);it<fe.length;it++)mt=ye(Fe,le,it,fe[it],Ee),mt!==null&&(e&&mt.alternate!==null&&Fe.delete(mt.key===null?it:mt.key),ne=g(mt,ne,it),St===null?Qe=mt:St.sibling=mt,St=mt);return e&&Fe.forEach(function(ss){return r(le,ss)}),gt&&si(le,it),Qe}function tt(le,ne,fe,Ee){if(fe==null)throw Error(i(151));for(var Qe=null,St=null,Fe=ne,it=ne=0,mt=null,At=fe.next();Fe!==null&&!At.done;it++,At=fe.next()){Fe.index>it?(mt=Fe,Fe=null):mt=Fe.sibling;var ss=pe(le,Fe,At.value,Ee);if(ss===null){Fe===null&&(Fe=mt);break}e&&Fe&&ss.alternate===null&&r(le,Fe),ne=g(ss,ne,it),St===null?Qe=ss:St.sibling=ss,St=ss,Fe=mt}if(At.done)return a(le,Fe),gt&&si(le,it),Qe;if(Fe===null){for(;!At.done;it++,At=fe.next())At=Ae(le,At.value,Ee),At!==null&&(ne=g(At,ne,it),St===null?Qe=At:St.sibling=At,St=At);return gt&&si(le,it),Qe}for(Fe=c(Fe);!At.done;it++,At=fe.next())At=ye(Fe,le,it,At.value,Ee),At!==null&&(e&&At.alternate!==null&&Fe.delete(At.key===null?it:At.key),ne=g(At,ne,it),St===null?Qe=At:St.sibling=At,St=At);return e&&Fe.forEach(function(aR){return r(le,aR)}),gt&&si(le,it),Qe}function jt(le,ne,fe,Ee){if(typeof fe=="object"&&fe!==null&&fe.type===L&&fe.key===null&&(fe=fe.props.children),typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case x:e:{for(var Qe=fe.key;ne!==null;){if(ne.key===Qe){if(Qe=fe.type,Qe===L){if(ne.tag===7){a(le,ne.sibling),Ee=p(ne,fe.props.children),Ee.return=le,le=Ee;break e}}else if(ne.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===oe&&Ms(Qe)===ne.type){a(le,ne.sibling),Ee=p(ne,fe.props),Po(Ee,fe),Ee.return=le,le=Ee;break e}a(le,ne);break}else r(le,ne);ne=ne.sibling}fe.type===L?(Ee=Ns(fe.props.children,le.mode,Ee,fe.key),Ee.return=le,le=Ee):(Ee=ic(fe.type,fe.key,fe.props,null,le.mode,Ee),Po(Ee,fe),Ee.return=le,le=Ee)}return k(le);case M:e:{for(Qe=fe.key;ne!==null;){if(ne.key===Qe)if(ne.tag===4&&ne.stateNode.containerInfo===fe.containerInfo&&ne.stateNode.implementation===fe.implementation){a(le,ne.sibling),Ee=p(ne,fe.children||[]),Ee.return=le,le=Ee;break e}else{a(le,ne);break}else r(le,ne);ne=ne.sibling}Ee=zf(fe,le.mode,Ee),Ee.return=le,le=Ee}return k(le);case oe:return fe=Ms(fe),jt(le,ne,fe,Ee)}if(_(fe))return Ge(le,ne,fe,Ee);if(W(fe)){if(Qe=W(fe),typeof Qe!="function")throw Error(i(150));return fe=Qe.call(fe),tt(le,ne,fe,Ee)}if(typeof fe.then=="function")return jt(le,ne,fc(fe),Ee);if(fe.$$typeof===G)return jt(le,ne,oc(le,fe),Ee);dc(le,fe)}return typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint"?(fe=""+fe,ne!==null&&ne.tag===6?(a(le,ne.sibling),Ee=p(ne,fe),Ee.return=le,le=Ee):(a(le,ne),Ee=Uf(fe,le.mode,Ee),Ee.return=le,le=Ee),k(le)):a(le,ne)}return function(le,ne,fe,Ee){try{Ho=0;var Qe=jt(le,ne,fe,Ee);return Ca=null,Qe}catch(Fe){if(Fe===Ia||Fe===cc)throw Fe;var St=Jn(29,Fe,null,le.mode);return St.lanes=Ee,St.return=le,St}}}var Ls=Tm(!0),Om=Tm(!1),qi=!1;function $f(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xf(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ki(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Gi(e,r,a){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(Tt&2)!==0){var p=c.pending;return p===null?r.next=r:(r.next=p.next,p.next=r),c.pending=r,r=rc(e),fm(e,null,a),r}return nc(e,c,r,a),rc(e)}function qo(e,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var c=r.lanes;c&=e.pendingLanes,a|=c,r.lanes=a,So(e,a)}}function Qf(e,r){var a=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var p=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var k={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};g===null?p=g=k:g=g.next=k,a=a.next}while(a!==null);g===null?p=g=r:g=g.next=r}else p=g=r;a={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=r:e.next=r,a.lastBaseUpdate=r}var Jf=!1;function Ko(){if(Jf){var e=ka;if(e!==null)throw e}}function Go(e,r,a,c){Jf=!1;var p=e.updateQueue;qi=!1;var g=p.firstBaseUpdate,k=p.lastBaseUpdate,q=p.shared.pending;if(q!==null){p.shared.pending=null;var J=q,de=J.next;J.next=null,k===null?g=de:k.next=de,k=J;var be=e.alternate;be!==null&&(be=be.updateQueue,q=be.lastBaseUpdate,q!==k&&(q===null?be.firstBaseUpdate=de:q.next=de,be.lastBaseUpdate=J))}if(g!==null){var Ae=p.baseState;k=0,be=de=J=null,q=g;do{var pe=q.lane&-536870913,ye=pe!==q.lane;if(ye?(pt&pe)===pe:(c&pe)===pe){pe!==0&&pe===Na&&(Jf=!0),be!==null&&(be=be.next={lane:0,tag:q.tag,payload:q.payload,callback:null,next:null});e:{var Ge=e,tt=q;pe=r;var jt=a;switch(tt.tag){case 1:if(Ge=tt.payload,typeof Ge=="function"){Ae=Ge.call(jt,Ae,pe);break e}Ae=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=tt.payload,pe=typeof Ge=="function"?Ge.call(jt,Ae,pe):Ge,pe==null)break e;Ae=C({},Ae,pe);break e;case 2:qi=!0}}pe=q.callback,pe!==null&&(e.flags|=64,ye&&(e.flags|=8192),ye=p.callbacks,ye===null?p.callbacks=[pe]:ye.push(pe))}else ye={lane:pe,tag:q.tag,payload:q.payload,callback:q.callback,next:null},be===null?(de=be=ye,J=Ae):be=be.next=ye,k|=pe;if(q=q.next,q===null){if(q=p.shared.pending,q===null)break;ye=q,q=ye.next,ye.next=null,p.lastBaseUpdate=ye,p.shared.pending=null}}while(!0);be===null&&(J=Ae),p.baseState=J,p.firstBaseUpdate=de,p.lastBaseUpdate=be,g===null&&(p.shared.lanes=0),Wi|=k,e.lanes=k,e.memoizedState=Ae}}function Nm(e,r){if(typeof e!="function")throw Error(i(191,e));e.call(r)}function km(e,r){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Nm(a[e],r)}var Ba=m(null),hc=m(0);function Im(e,r){e=yi,b(hc,e),b(Ba,r),yi=e|r.baseLanes}function ed(){b(hc,yi),b(Ba,Ba.current)}function td(){yi=hc.current,d(Ba),d(hc)}var er=m(null),wr=null;function Vi(e){var r=e.alternate;b(dn,dn.current&1),b(er,e),wr===null&&(r===null||Ba.current!==null||r.memoizedState!==null)&&(wr=e)}function nd(e){b(dn,dn.current),b(er,e),wr===null&&(wr=e)}function Cm(e){e.tag===22?(b(dn,dn.current),b(er,e),wr===null&&(wr=e)):Fi()}function Fi(){b(dn,dn.current),b(er,er.current)}function tr(e){d(er),wr===e&&(wr=null),d(dn)}var dn=m(0);function pc(e){for(var r=e;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||lh(a)||ch(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var li=0,rt=null,Ut=null,bn=null,mc=!1,Ma=!1,Us=!1,yc=0,Vo=0,Da=null,$S=0;function ln(){throw Error(i(321))}function rd(e,r){if(r===null)return!1;for(var a=0;a<r.length&&a<e.length;a++)if(!Qn(e[a],r[a]))return!1;return!0}function id(e,r,a,c,p,g){return li=g,rt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,A.H=e===null||e.memoizedState===null?m1:wd,Us=!1,g=a(c,p),Us=!1,Ma&&(g=Mm(r,a,c,p)),Bm(e),g}function Bm(e){A.H=Zo;var r=Ut!==null&&Ut.next!==null;if(li=0,bn=Ut=rt=null,mc=!1,Vo=0,Da=null,r)throw Error(i(300));e===null||wn||(e=e.dependencies,e!==null&&ac(e)&&(wn=!0))}function Mm(e,r,a,c){rt=e;var p=0;do{if(Ma&&(Da=null),Vo=0,Ma=!1,25<=p)throw Error(i(301));if(p+=1,bn=Ut=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}A.H=y1,g=r(a,c)}while(Ma);return g}function XS(){var e=A.H,r=e.useState()[0];return r=typeof r.then=="function"?Fo(r):r,e=e.useState()[0],(Ut!==null?Ut.memoizedState:null)!==e&&(rt.flags|=1024),r}function sd(){var e=yc!==0;return yc=0,e}function ad(e,r,a){r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~a}function od(e){if(mc){for(e=e.memoizedState;e!==null;){var r=e.queue;r!==null&&(r.pending=null),e=e.next}mc=!1}li=0,bn=Ut=rt=null,Ma=!1,Vo=yc=0,Da=null}function Hn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bn===null?rt.memoizedState=bn=e:bn=bn.next=e,bn}function hn(){if(Ut===null){var e=rt.alternate;e=e!==null?e.memoizedState:null}else e=Ut.next;var r=bn===null?rt.memoizedState:bn.next;if(r!==null)bn=r,Ut=e;else{if(e===null)throw rt.alternate===null?Error(i(467)):Error(i(310));Ut=e,e={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},bn===null?rt.memoizedState=bn=e:bn=bn.next=e}return bn}function gc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fo(e){var r=Vo;return Vo+=1,Da===null&&(Da=[]),e=Am(Da,e,r),r=rt,(bn===null?r.memoizedState:bn.next)===null&&(r=r.alternate,A.H=r===null||r.memoizedState===null?m1:wd),e}function bc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Fo(e);if(e.$$typeof===G)return On(e)}throw Error(i(438,String(e)))}function ld(e){var r=null,a=rt.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var c=rt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(p){return p.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=gc(),rt.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(e),c=0;c<e;c++)a[c]=Y;return r.index++,a}function ci(e,r){return typeof r=="function"?r(e):r}function wc(e){var r=hn();return cd(r,Ut,e)}function cd(e,r,a){var c=e.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=a;var p=e.baseQueue,g=c.pending;if(g!==null){if(p!==null){var k=p.next;p.next=g.next,g.next=k}r.baseQueue=p=g,c.pending=null}if(g=e.baseState,p===null)e.memoizedState=g;else{r=p.next;var q=k=null,J=null,de=r,be=!1;do{var Ae=de.lane&-536870913;if(Ae!==de.lane?(pt&Ae)===Ae:(li&Ae)===Ae){var pe=de.revertLane;if(pe===0)J!==null&&(J=J.next={lane:0,revertLane:0,gesture:null,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),Ae===Na&&(be=!0);else if((li&pe)===pe){de=de.next,pe===Na&&(be=!0);continue}else Ae={lane:0,revertLane:de.revertLane,gesture:null,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},J===null?(q=J=Ae,k=g):J=J.next=Ae,rt.lanes|=pe,Wi|=pe;Ae=de.action,Us&&a(g,Ae),g=de.hasEagerState?de.eagerState:a(g,Ae)}else pe={lane:Ae,revertLane:de.revertLane,gesture:de.gesture,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},J===null?(q=J=pe,k=g):J=J.next=pe,rt.lanes|=Ae,Wi|=Ae;de=de.next}while(de!==null&&de!==r);if(J===null?k=g:J.next=q,!Qn(g,e.memoizedState)&&(wn=!0,be&&(a=ka,a!==null)))throw a;e.memoizedState=g,e.baseState=k,e.baseQueue=J,c.lastRenderedState=g}return p===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function ud(e){var r=hn(),a=r.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=e;var c=a.dispatch,p=a.pending,g=r.memoizedState;if(p!==null){a.pending=null;var k=p=p.next;do g=e(g,k.action),k=k.next;while(k!==p);Qn(g,r.memoizedState)||(wn=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),a.lastRenderedState=g}return[g,c]}function Dm(e,r,a){var c=rt,p=hn(),g=gt;if(g){if(a===void 0)throw Error(i(407));a=a()}else a=r();var k=!Qn((Ut||p).memoizedState,a);if(k&&(p.memoizedState=a,wn=!0),p=p.queue,hd(zm.bind(null,c,p,e),[e]),p.getSnapshot!==r||k||bn!==null&&bn.memoizedState.tag&1){if(c.flags|=2048,La(9,{destroy:void 0},Um.bind(null,c,p,a,r),null),Pt===null)throw Error(i(349));g||(li&127)!==0||Lm(c,r,a)}return a}function Lm(e,r,a){e.flags|=16384,e={getSnapshot:r,value:a},r=rt.updateQueue,r===null?(r=gc(),rt.updateQueue=r,r.stores=[e]):(a=r.stores,a===null?r.stores=[e]:a.push(e))}function Um(e,r,a,c){r.value=a,r.getSnapshot=c,jm(r)&&Hm(e)}function zm(e,r,a){return a(function(){jm(r)&&Hm(e)})}function jm(e){var r=e.getSnapshot;e=e.value;try{var a=r();return!Qn(e,a)}catch{return!0}}function Hm(e){var r=Os(e,2);r!==null&&Yn(r,e,2)}function fd(e){var r=Hn();if(typeof e=="function"){var a=e;if(e=a(),Us){Ke(!0);try{a()}finally{Ke(!1)}}}return r.memoizedState=r.baseState=e,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:e},r}function Pm(e,r,a,c){return e.baseState=a,cd(e,Ut,typeof c=="function"?c:ci)}function QS(e,r,a,c,p){if(Ec(e))throw Error(i(485));if(e=r.action,e!==null){var g={payload:p,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){g.listeners.push(k)}};A.T!==null?a(!0):g.isTransition=!1,c(g),a=r.pending,a===null?(g.next=r.pending=g,qm(r,g)):(g.next=a.next,r.pending=a.next=g)}}function qm(e,r){var a=r.action,c=r.payload,p=e.state;if(r.isTransition){var g=A.T,k={};A.T=k;try{var q=a(p,c),J=A.S;J!==null&&J(k,q),Km(e,r,q)}catch(de){dd(e,r,de)}finally{g!==null&&k.types!==null&&(g.types=k.types),A.T=g}}else try{g=a(p,c),Km(e,r,g)}catch(de){dd(e,r,de)}}function Km(e,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){Gm(e,r,c)},function(c){return dd(e,r,c)}):Gm(e,r,a)}function Gm(e,r,a){r.status="fulfilled",r.value=a,Vm(r),e.state=a,r=e.pending,r!==null&&(a=r.next,a===r?e.pending=null:(a=a.next,r.next=a,qm(e,a)))}function dd(e,r,a){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=a,Vm(r),r=r.next;while(r!==c)}e.action=null}function Vm(e){e=e.listeners;for(var r=0;r<e.length;r++)(0,e[r])()}function Fm(e,r){return r}function Ym(e,r){if(gt){var a=Pt.formState;if(a!==null){e:{var c=rt;if(gt){if(Gt){t:{for(var p=Gt,g=br;p.nodeType!==8;){if(!g){p=null;break t}if(p=_r(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){Gt=_r(p.nextSibling),c=p.data==="F!";break e}}Hi(c)}c=!1}c&&(r=a[0])}}return a=Hn(),a.memoizedState=a.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fm,lastRenderedState:r},a.queue=c,a=d1.bind(null,rt,c),c.dispatch=a,c=fd(!1),g=bd.bind(null,rt,!1,c.queue),c=Hn(),p={state:r,dispatch:null,action:e,pending:null},c.queue=p,a=QS.bind(null,rt,p,g,a),p.dispatch=a,c.memoizedState=e,[r,a,!1]}function Zm(e){var r=hn();return Wm(r,Ut,e)}function Wm(e,r,a){if(r=cd(e,r,Fm)[0],e=wc(ci)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=Fo(r)}catch(k){throw k===Ia?cc:k}else c=r;r=hn();var p=r.queue,g=p.dispatch;return a!==r.memoizedState&&(rt.flags|=2048,La(9,{destroy:void 0},JS.bind(null,p,a),null)),[c,g,e]}function JS(e,r){e.action=r}function $m(e){var r=hn(),a=Ut;if(a!==null)return Wm(r,a,e);hn(),r=r.memoizedState,a=hn();var c=a.queue.dispatch;return a.memoizedState=e,[r,c,!1]}function La(e,r,a,c){return e={tag:e,create:a,deps:c,inst:r,next:null},r=rt.updateQueue,r===null&&(r=gc(),rt.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=e.next=e:(c=a.next,a.next=e,e.next=c,r.lastEffect=e),e}function Xm(){return hn().memoizedState}function _c(e,r,a,c){var p=Hn();rt.flags|=e,p.memoizedState=La(1|r,{destroy:void 0},a,c===void 0?null:c)}function vc(e,r,a,c){var p=hn();c=c===void 0?null:c;var g=p.memoizedState.inst;Ut!==null&&c!==null&&rd(c,Ut.memoizedState.deps)?p.memoizedState=La(r,g,a,c):(rt.flags|=e,p.memoizedState=La(1|r,g,a,c))}function Qm(e,r){_c(8390656,8,e,r)}function hd(e,r){vc(2048,8,e,r)}function eA(e){rt.flags|=4;var r=rt.updateQueue;if(r===null)r=gc(),rt.updateQueue=r,r.events=[e];else{var a=r.events;a===null?r.events=[e]:a.push(e)}}function Jm(e){var r=hn().memoizedState;return eA({ref:r,nextImpl:e}),function(){if((Tt&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function e1(e,r){return vc(4,2,e,r)}function t1(e,r){return vc(4,4,e,r)}function n1(e,r){if(typeof r=="function"){e=e();var a=r(e);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function r1(e,r,a){a=a!=null?a.concat([e]):null,vc(4,4,n1.bind(null,r,e),a)}function pd(){}function i1(e,r){var a=hn();r=r===void 0?null:r;var c=a.memoizedState;return r!==null&&rd(r,c[1])?c[0]:(a.memoizedState=[e,r],e)}function s1(e,r){var a=hn();r=r===void 0?null:r;var c=a.memoizedState;if(r!==null&&rd(r,c[1]))return c[0];if(c=e(),Us){Ke(!0);try{e()}finally{Ke(!1)}}return a.memoizedState=[c,r],c}function md(e,r,a){return a===void 0||(li&1073741824)!==0&&(pt&261930)===0?e.memoizedState=r:(e.memoizedState=a,e=ay(),rt.lanes|=e,Wi|=e,a)}function a1(e,r,a,c){return Qn(a,r)?a:Ba.current!==null?(e=md(e,a,c),Qn(e,r)||(wn=!0),e):(li&42)===0||(li&1073741824)!==0&&(pt&261930)===0?(wn=!0,e.memoizedState=a):(e=ay(),rt.lanes|=e,Wi|=e,r)}function o1(e,r,a,c,p){var g=O.p;O.p=g!==0&&8>g?g:8;var k=A.T,q={};A.T=q,bd(e,!1,r,a);try{var J=p(),de=A.S;if(de!==null&&de(q,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var be=WS(J,c);Yo(e,r,be,ir(e))}else Yo(e,r,c,ir(e))}catch(Ae){Yo(e,r,{then:function(){},status:"rejected",reason:Ae},ir())}finally{O.p=g,k!==null&&q.types!==null&&(k.types=q.types),A.T=k}}function tA(){}function yd(e,r,a,c){if(e.tag!==5)throw Error(i(476));var p=l1(e).queue;o1(e,p,r,H,a===null?tA:function(){return c1(e),a(c)})}function l1(e){var r=e.memoizedState;if(r!==null)return r;r={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:H},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:a},next:null},e.memoizedState=r,e=e.alternate,e!==null&&(e.memoizedState=r),r}function c1(e){var r=l1(e);r.next===null&&(r=e.alternate.memoizedState),Yo(e,r.next.queue,{},ir())}function gd(){return On(ul)}function u1(){return hn().memoizedState}function f1(){return hn().memoizedState}function nA(e){for(var r=e.return;r!==null;){switch(r.tag){case 24:case 3:var a=ir();e=Ki(a);var c=Gi(r,e,a);c!==null&&(Yn(c,r,a),qo(c,r,a)),r={cache:Ff()},e.payload=r;return}r=r.return}}function rA(e,r,a){var c=ir();a={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ec(e)?h1(r,a):(a=Df(e,r,a,c),a!==null&&(Yn(a,e,c),p1(a,r,c)))}function d1(e,r,a){var c=ir();Yo(e,r,a,c)}function Yo(e,r,a,c){var p={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ec(e))h1(r,p);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var k=r.lastRenderedState,q=g(k,a);if(p.hasEagerState=!0,p.eagerState=q,Qn(q,k))return nc(e,r,p,0),Pt===null&&tc(),!1}catch{}if(a=Df(e,r,p,c),a!==null)return Yn(a,e,c),p1(a,r,c),!0}return!1}function bd(e,r,a,c){if(c={lane:2,revertLane:$d(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Ec(e)){if(r)throw Error(i(479))}else r=Df(e,a,c,2),r!==null&&Yn(r,e,2)}function Ec(e){var r=e.alternate;return e===rt||r!==null&&r===rt}function h1(e,r){Ma=mc=!0;var a=e.pending;a===null?r.next=r:(r.next=a.next,a.next=r),e.pending=r}function p1(e,r,a){if((a&4194048)!==0){var c=r.lanes;c&=e.pendingLanes,a|=c,r.lanes=a,So(e,a)}}var Zo={readContext:On,use:bc,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useLayoutEffect:ln,useInsertionEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useSyncExternalStore:ln,useId:ln,useHostTransitionStatus:ln,useFormState:ln,useActionState:ln,useOptimistic:ln,useMemoCache:ln,useCacheRefresh:ln};Zo.useEffectEvent=ln;var m1={readContext:On,use:bc,useCallback:function(e,r){return Hn().memoizedState=[e,r===void 0?null:r],e},useContext:On,useEffect:Qm,useImperativeHandle:function(e,r,a){a=a!=null?a.concat([e]):null,_c(4194308,4,n1.bind(null,r,e),a)},useLayoutEffect:function(e,r){return _c(4194308,4,e,r)},useInsertionEffect:function(e,r){_c(4,2,e,r)},useMemo:function(e,r){var a=Hn();r=r===void 0?null:r;var c=e();if(Us){Ke(!0);try{e()}finally{Ke(!1)}}return a.memoizedState=[c,r],c},useReducer:function(e,r,a){var c=Hn();if(a!==void 0){var p=a(r);if(Us){Ke(!0);try{a(r)}finally{Ke(!1)}}}else p=r;return c.memoizedState=c.baseState=p,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:p},c.queue=e,e=e.dispatch=rA.bind(null,rt,e),[c.memoizedState,e]},useRef:function(e){var r=Hn();return e={current:e},r.memoizedState=e},useState:function(e){e=fd(e);var r=e.queue,a=d1.bind(null,rt,r);return r.dispatch=a,[e.memoizedState,a]},useDebugValue:pd,useDeferredValue:function(e,r){var a=Hn();return md(a,e,r)},useTransition:function(){var e=fd(!1);return e=o1.bind(null,rt,e.queue,!0,!1),Hn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,r,a){var c=rt,p=Hn();if(gt){if(a===void 0)throw Error(i(407));a=a()}else{if(a=r(),Pt===null)throw Error(i(349));(pt&127)!==0||Lm(c,r,a)}p.memoizedState=a;var g={value:a,getSnapshot:r};return p.queue=g,Qm(zm.bind(null,c,g,e),[e]),c.flags|=2048,La(9,{destroy:void 0},Um.bind(null,c,g,a,r),null),a},useId:function(){var e=Hn(),r=Pt.identifierPrefix;if(gt){var a=zr,c=Ur;a=(c&~(1<<32-Le(c)-1)).toString(32)+a,r="_"+r+"R_"+a,a=yc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=$S++,r="_"+r+"r_"+a.toString(32)+"_";return e.memoizedState=r},useHostTransitionStatus:gd,useFormState:Ym,useActionState:Ym,useOptimistic:function(e){var r=Hn();r.memoizedState=r.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=bd.bind(null,rt,!0,a),a.dispatch=r,[e,r]},useMemoCache:ld,useCacheRefresh:function(){return Hn().memoizedState=nA.bind(null,rt)},useEffectEvent:function(e){var r=Hn(),a={impl:e};return r.memoizedState=a,function(){if((Tt&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},wd={readContext:On,use:bc,useCallback:i1,useContext:On,useEffect:hd,useImperativeHandle:r1,useInsertionEffect:e1,useLayoutEffect:t1,useMemo:s1,useReducer:wc,useRef:Xm,useState:function(){return wc(ci)},useDebugValue:pd,useDeferredValue:function(e,r){var a=hn();return a1(a,Ut.memoizedState,e,r)},useTransition:function(){var e=wc(ci)[0],r=hn().memoizedState;return[typeof e=="boolean"?e:Fo(e),r]},useSyncExternalStore:Dm,useId:u1,useHostTransitionStatus:gd,useFormState:Zm,useActionState:Zm,useOptimistic:function(e,r){var a=hn();return Pm(a,Ut,e,r)},useMemoCache:ld,useCacheRefresh:f1};wd.useEffectEvent=Jm;var y1={readContext:On,use:bc,useCallback:i1,useContext:On,useEffect:hd,useImperativeHandle:r1,useInsertionEffect:e1,useLayoutEffect:t1,useMemo:s1,useReducer:ud,useRef:Xm,useState:function(){return ud(ci)},useDebugValue:pd,useDeferredValue:function(e,r){var a=hn();return Ut===null?md(a,e,r):a1(a,Ut.memoizedState,e,r)},useTransition:function(){var e=ud(ci)[0],r=hn().memoizedState;return[typeof e=="boolean"?e:Fo(e),r]},useSyncExternalStore:Dm,useId:u1,useHostTransitionStatus:gd,useFormState:$m,useActionState:$m,useOptimistic:function(e,r){var a=hn();return Ut!==null?Pm(a,Ut,e,r):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:ld,useCacheRefresh:f1};y1.useEffectEvent=Jm;function _d(e,r,a,c){r=e.memoizedState,a=a(c,r),a=a==null?r:C({},r,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var vd={enqueueSetState:function(e,r,a){e=e._reactInternals;var c=ir(),p=Ki(c);p.payload=r,a!=null&&(p.callback=a),r=Gi(e,p,c),r!==null&&(Yn(r,e,c),qo(r,e,c))},enqueueReplaceState:function(e,r,a){e=e._reactInternals;var c=ir(),p=Ki(c);p.tag=1,p.payload=r,a!=null&&(p.callback=a),r=Gi(e,p,c),r!==null&&(Yn(r,e,c),qo(r,e,c))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var a=ir(),c=Ki(a);c.tag=2,r!=null&&(c.callback=r),r=Gi(e,c,a),r!==null&&(Yn(r,e,a),qo(r,e,a))}};function g1(e,r,a,c,p,g,k){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,g,k):r.prototype&&r.prototype.isPureReactComponent?!Mo(a,c)||!Mo(p,g):!0}function b1(e,r,a,c){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,c),r.state!==e&&vd.enqueueReplaceState(r,r.state,null)}function zs(e,r){var a=r;if("ref"in r){a={};for(var c in r)c!=="ref"&&(a[c]=r[c])}if(e=e.defaultProps){a===r&&(a=C({},a));for(var p in e)a[p]===void 0&&(a[p]=e[p])}return a}function w1(e){ec(e)}function _1(e){console.error(e)}function v1(e){ec(e)}function Sc(e,r){try{var a=e.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function E1(e,r,a){try{var c=e.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Ed(e,r,a){return a=Ki(a),a.tag=3,a.payload={element:null},a.callback=function(){Sc(e,r)},a}function S1(e){return e=Ki(e),e.tag=3,e}function A1(e,r,a,c){var p=a.type.getDerivedStateFromError;if(typeof p=="function"){var g=c.value;e.payload=function(){return p(g)},e.callback=function(){E1(r,a,c)}}var k=a.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(e.callback=function(){E1(r,a,c),typeof p!="function"&&($i===null?$i=new Set([this]):$i.add(this));var q=c.stack;this.componentDidCatch(c.value,{componentStack:q!==null?q:""})})}function iA(e,r,a,c,p){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=a.alternate,r!==null&&Oa(r,a,p,!0),a=er.current,a!==null){switch(a.tag){case 31:case 13:return wr===null?Dc():a.alternate===null&&cn===0&&(cn=3),a.flags&=-257,a.flags|=65536,a.lanes=p,c===uc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([c]):r.add(c),Yd(e,c,p)),!1;case 22:return a.flags|=65536,c===uc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([c]):a.add(c)),Yd(e,c,p)),!1}throw Error(i(435,a.tag))}return Yd(e,c,p),Dc(),!1}if(gt)return r=er.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=p,c!==Pf&&(e=Error(i(422),{cause:c}),Uo(mr(e,a)))):(c!==Pf&&(r=Error(i(423),{cause:c}),Uo(mr(r,a))),e=e.current.alternate,e.flags|=65536,p&=-p,e.lanes|=p,c=mr(c,a),p=Ed(e.stateNode,c,p),Qf(e,p),cn!==4&&(cn=2)),!1;var g=Error(i(520),{cause:c});if(g=mr(g,a),nl===null?nl=[g]:nl.push(g),cn!==4&&(cn=2),r===null)return!0;c=mr(c,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,e=p&-p,a.lanes|=e,e=Ed(a.stateNode,c,e),Qf(a,e),!1;case 1:if(r=a.type,g=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&($i===null||!$i.has(g))))return a.flags|=65536,p&=-p,a.lanes|=p,p=S1(p),A1(p,e,a,c),Qf(a,p),!1}a=a.return}while(a!==null);return!1}var Sd=Error(i(461)),wn=!1;function Nn(e,r,a,c){r.child=e===null?Om(r,null,a,c):Ls(r,e.child,a,c)}function R1(e,r,a,c,p){a=a.render;var g=r.ref;if("ref"in c){var k={};for(var q in c)q!=="ref"&&(k[q]=c[q])}else k=c;return Cs(r),c=id(e,r,a,k,g,p),q=sd(),e!==null&&!wn?(ad(e,r,p),ui(e,r,p)):(gt&&q&&jf(r),r.flags|=1,Nn(e,r,c,p),r.child)}function x1(e,r,a,c,p){if(e===null){var g=a.type;return typeof g=="function"&&!Lf(g)&&g.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=g,T1(e,r,g,c,p)):(e=ic(a.type,null,c,r,r.mode,p),e.ref=r.ref,e.return=r,r.child=e)}if(g=e.child,!Id(e,p)){var k=g.memoizedProps;if(a=a.compare,a=a!==null?a:Mo,a(k,c)&&e.ref===r.ref)return ui(e,r,p)}return r.flags|=1,e=ii(g,c),e.ref=r.ref,e.return=r,r.child=e}function T1(e,r,a,c,p){if(e!==null){var g=e.memoizedProps;if(Mo(g,c)&&e.ref===r.ref)if(wn=!1,r.pendingProps=c=g,Id(e,p))(e.flags&131072)!==0&&(wn=!0);else return r.lanes=e.lanes,ui(e,r,p)}return Ad(e,r,a,c,p)}function O1(e,r,a,c){var p=c.children,g=e!==null?e.memoizedState:null;if(e===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|a:a,e!==null){for(c=r.child=e.child,p=0;c!==null;)p=p|c.lanes|c.childLanes,c=c.sibling;c=p&~g}else c=0,r.child=null;return N1(e,r,g,a,c)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},e!==null&&lc(r,g!==null?g.cachePool:null),g!==null?Im(r,g):ed(),Cm(r);else return c=r.lanes=536870912,N1(e,r,g!==null?g.baseLanes|a:a,a,c)}else g!==null?(lc(r,g.cachePool),Im(r,g),Fi(),r.memoizedState=null):(e!==null&&lc(r,null),ed(),Fi());return Nn(e,r,p,a),r.child}function Wo(e,r){return e!==null&&e.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function N1(e,r,a,c,p){var g=Zf();return g=g===null?null:{parent:gn._currentValue,pool:g},r.memoizedState={baseLanes:a,cachePool:g},e!==null&&lc(r,null),ed(),Cm(r),e!==null&&Oa(e,r,c,!0),r.childLanes=p,null}function Ac(e,r){return r=xc({mode:r.mode,children:r.children},e.mode),r.ref=e.ref,e.child=r,r.return=e,r}function k1(e,r,a){return Ls(r,e.child,null,a),e=Ac(r,r.pendingProps),e.flags|=2,tr(r),r.memoizedState=null,e}function sA(e,r,a){var c=r.pendingProps,p=(r.flags&128)!==0;if(r.flags&=-129,e===null){if(gt){if(c.mode==="hidden")return e=Ac(r,c),r.lanes=536870912,Wo(null,e);if(nd(r),(e=Gt)?(e=qy(e,br),e=e!==null&&e.data==="&"?e:null,e!==null&&(r.memoizedState={dehydrated:e,treeContext:zi!==null?{id:Ur,overflow:zr}:null,retryLane:536870912,hydrationErrors:null},a=hm(e),a.return=r,r.child=a,Tn=r,Gt=null)):e=null,e===null)throw Hi(r);return r.lanes=536870912,null}return Ac(r,c)}var g=e.memoizedState;if(g!==null){var k=g.dehydrated;if(nd(r),p)if(r.flags&256)r.flags&=-257,r=k1(e,r,a);else if(r.memoizedState!==null)r.child=e.child,r.flags|=128,r=null;else throw Error(i(558));else if(wn||Oa(e,r,a,!1),p=(a&e.childLanes)!==0,wn||p){if(c=Pt,c!==null&&(k=Jt(c,a),k!==0&&k!==g.retryLane))throw g.retryLane=k,Os(e,k),Yn(c,e,k),Sd;Dc(),r=k1(e,r,a)}else e=g.treeContext,Gt=_r(k.nextSibling),Tn=r,gt=!0,ji=null,br=!1,e!==null&&ym(r,e),r=Ac(r,c),r.flags|=4096;return r}return e=ii(e.child,{mode:c.mode,children:c.children}),e.ref=r.ref,r.child=e,e.return=r,e}function Rc(e,r){var a=r.ref;if(a===null)e!==null&&e.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(e===null||e.ref!==a)&&(r.flags|=4194816)}}function Ad(e,r,a,c,p){return Cs(r),a=id(e,r,a,c,void 0,p),c=sd(),e!==null&&!wn?(ad(e,r,p),ui(e,r,p)):(gt&&c&&jf(r),r.flags|=1,Nn(e,r,a,p),r.child)}function I1(e,r,a,c,p,g){return Cs(r),r.updateQueue=null,a=Mm(r,c,a,p),Bm(e),c=sd(),e!==null&&!wn?(ad(e,r,g),ui(e,r,g)):(gt&&c&&jf(r),r.flags|=1,Nn(e,r,a,g),r.child)}function C1(e,r,a,c,p){if(Cs(r),r.stateNode===null){var g=Aa,k=a.contextType;typeof k=="object"&&k!==null&&(g=On(k)),g=new a(c,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=vd,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=c,g.state=r.memoizedState,g.refs={},$f(r),k=a.contextType,g.context=typeof k=="object"&&k!==null?On(k):Aa,g.state=r.memoizedState,k=a.getDerivedStateFromProps,typeof k=="function"&&(_d(r,a,k,c),g.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(k=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),k!==g.state&&vd.enqueueReplaceState(g,g.state,null),Go(r,c,g,p),Ko(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(e===null){g=r.stateNode;var q=r.memoizedProps,J=zs(a,q);g.props=J;var de=g.context,be=a.contextType;k=Aa,typeof be=="object"&&be!==null&&(k=On(be));var Ae=a.getDerivedStateFromProps;be=typeof Ae=="function"||typeof g.getSnapshotBeforeUpdate=="function",q=r.pendingProps!==q,be||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(q||de!==k)&&b1(r,g,c,k),qi=!1;var pe=r.memoizedState;g.state=pe,Go(r,c,g,p),Ko(),de=r.memoizedState,q||pe!==de||qi?(typeof Ae=="function"&&(_d(r,a,Ae,c),de=r.memoizedState),(J=qi||g1(r,a,J,c,pe,de,k))?(be||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=de),g.props=c,g.state=de,g.context=k,c=J):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{g=r.stateNode,Xf(e,r),k=r.memoizedProps,be=zs(a,k),g.props=be,Ae=r.pendingProps,pe=g.context,de=a.contextType,J=Aa,typeof de=="object"&&de!==null&&(J=On(de)),q=a.getDerivedStateFromProps,(de=typeof q=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(k!==Ae||pe!==J)&&b1(r,g,c,J),qi=!1,pe=r.memoizedState,g.state=pe,Go(r,c,g,p),Ko();var ye=r.memoizedState;k!==Ae||pe!==ye||qi||e!==null&&e.dependencies!==null&&ac(e.dependencies)?(typeof q=="function"&&(_d(r,a,q,c),ye=r.memoizedState),(be=qi||g1(r,a,be,c,pe,ye,J)||e!==null&&e.dependencies!==null&&ac(e.dependencies))?(de||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,ye,J),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,ye,J)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||k===e.memoizedProps&&pe===e.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||k===e.memoizedProps&&pe===e.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=ye),g.props=c,g.state=ye,g.context=J,c=be):(typeof g.componentDidUpdate!="function"||k===e.memoizedProps&&pe===e.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||k===e.memoizedProps&&pe===e.memoizedState||(r.flags|=1024),c=!1)}return g=c,Rc(e,r),c=(r.flags&128)!==0,g||c?(g=r.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,e!==null&&c?(r.child=Ls(r,e.child,null,p),r.child=Ls(r,null,a,p)):Nn(e,r,a,p),r.memoizedState=g.state,e=r.child):e=ui(e,r,p),e}function B1(e,r,a,c){return ks(),r.flags|=256,Nn(e,r,a,c),r.child}var Rd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xd(e){return{baseLanes:e,cachePool:Em()}}function Td(e,r,a){return e=e!==null?e.childLanes&~a:0,r&&(e|=rr),e}function M1(e,r,a){var c=r.pendingProps,p=!1,g=(r.flags&128)!==0,k;if((k=g)||(k=e!==null&&e.memoizedState===null?!1:(dn.current&2)!==0),k&&(p=!0,r.flags&=-129),k=(r.flags&32)!==0,r.flags&=-33,e===null){if(gt){if(p?Vi(r):Fi(),(e=Gt)?(e=qy(e,br),e=e!==null&&e.data!=="&"?e:null,e!==null&&(r.memoizedState={dehydrated:e,treeContext:zi!==null?{id:Ur,overflow:zr}:null,retryLane:536870912,hydrationErrors:null},a=hm(e),a.return=r,r.child=a,Tn=r,Gt=null)):e=null,e===null)throw Hi(r);return ch(e)?r.lanes=32:r.lanes=536870912,null}var q=c.children;return c=c.fallback,p?(Fi(),p=r.mode,q=xc({mode:"hidden",children:q},p),c=Ns(c,p,a,null),q.return=r,c.return=r,q.sibling=c,r.child=q,c=r.child,c.memoizedState=xd(a),c.childLanes=Td(e,k,a),r.memoizedState=Rd,Wo(null,c)):(Vi(r),Od(r,q))}var J=e.memoizedState;if(J!==null&&(q=J.dehydrated,q!==null)){if(g)r.flags&256?(Vi(r),r.flags&=-257,r=Nd(e,r,a)):r.memoizedState!==null?(Fi(),r.child=e.child,r.flags|=128,r=null):(Fi(),q=c.fallback,p=r.mode,c=xc({mode:"visible",children:c.children},p),q=Ns(q,p,a,null),q.flags|=2,c.return=r,q.return=r,c.sibling=q,r.child=c,Ls(r,e.child,null,a),c=r.child,c.memoizedState=xd(a),c.childLanes=Td(e,k,a),r.memoizedState=Rd,r=Wo(null,c));else if(Vi(r),ch(q)){if(k=q.nextSibling&&q.nextSibling.dataset,k)var de=k.dgst;k=de,c=Error(i(419)),c.stack="",c.digest=k,Uo({value:c,source:null,stack:null}),r=Nd(e,r,a)}else if(wn||Oa(e,r,a,!1),k=(a&e.childLanes)!==0,wn||k){if(k=Pt,k!==null&&(c=Jt(k,a),c!==0&&c!==J.retryLane))throw J.retryLane=c,Os(e,c),Yn(k,e,c),Sd;lh(q)||Dc(),r=Nd(e,r,a)}else lh(q)?(r.flags|=192,r.child=e.child,r=null):(e=J.treeContext,Gt=_r(q.nextSibling),Tn=r,gt=!0,ji=null,br=!1,e!==null&&ym(r,e),r=Od(r,c.children),r.flags|=4096);return r}return p?(Fi(),q=c.fallback,p=r.mode,J=e.child,de=J.sibling,c=ii(J,{mode:"hidden",children:c.children}),c.subtreeFlags=J.subtreeFlags&65011712,de!==null?q=ii(de,q):(q=Ns(q,p,a,null),q.flags|=2),q.return=r,c.return=r,c.sibling=q,r.child=c,Wo(null,c),c=r.child,q=e.child.memoizedState,q===null?q=xd(a):(p=q.cachePool,p!==null?(J=gn._currentValue,p=p.parent!==J?{parent:J,pool:J}:p):p=Em(),q={baseLanes:q.baseLanes|a,cachePool:p}),c.memoizedState=q,c.childLanes=Td(e,k,a),r.memoizedState=Rd,Wo(e.child,c)):(Vi(r),a=e.child,e=a.sibling,a=ii(a,{mode:"visible",children:c.children}),a.return=r,a.sibling=null,e!==null&&(k=r.deletions,k===null?(r.deletions=[e],r.flags|=16):k.push(e)),r.child=a,r.memoizedState=null,a)}function Od(e,r){return r=xc({mode:"visible",children:r},e.mode),r.return=e,e.child=r}function xc(e,r){return e=Jn(22,e,null,r),e.lanes=0,e}function Nd(e,r,a){return Ls(r,e.child,null,a),e=Od(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function D1(e,r,a){e.lanes|=r;var c=e.alternate;c!==null&&(c.lanes|=r),Gf(e.return,r,a)}function kd(e,r,a,c,p,g){var k=e.memoizedState;k===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:p,treeForkCount:g}:(k.isBackwards=r,k.rendering=null,k.renderingStartTime=0,k.last=c,k.tail=a,k.tailMode=p,k.treeForkCount=g)}function L1(e,r,a){var c=r.pendingProps,p=c.revealOrder,g=c.tail;c=c.children;var k=dn.current,q=(k&2)!==0;if(q?(k=k&1|2,r.flags|=128):k&=1,b(dn,k),Nn(e,r,c,a),c=gt?Lo:0,!q&&e!==null&&(e.flags&128)!==0)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&D1(e,a,r);else if(e.tag===19)D1(e,a,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(p){case"forwards":for(a=r.child,p=null;a!==null;)e=a.alternate,e!==null&&pc(e)===null&&(p=a),a=a.sibling;a=p,a===null?(p=r.child,r.child=null):(p=a.sibling,a.sibling=null),kd(r,!1,p,a,g,c);break;case"backwards":case"unstable_legacy-backwards":for(a=null,p=r.child,r.child=null;p!==null;){if(e=p.alternate,e!==null&&pc(e)===null){r.child=p;break}e=p.sibling,p.sibling=a,a=p,p=e}kd(r,!0,a,null,g,c);break;case"together":kd(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function ui(e,r,a){if(e!==null&&(r.dependencies=e.dependencies),Wi|=r.lanes,(a&r.childLanes)===0)if(e!==null){if(Oa(e,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(e!==null&&r.child!==e.child)throw Error(i(153));if(r.child!==null){for(e=r.child,a=ii(e,e.pendingProps),r.child=a,a.return=r;e.sibling!==null;)e=e.sibling,a=a.sibling=ii(e,e.pendingProps),a.return=r;a.sibling=null}return r.child}function Id(e,r){return(e.lanes&r)!==0?!0:(e=e.dependencies,!!(e!==null&&ac(e)))}function aA(e,r,a){switch(r.tag){case 3:we(r,r.stateNode.containerInfo),Pi(r,gn,e.memoizedState.cache),ks();break;case 27:case 5:qe(r);break;case 4:we(r,r.stateNode.containerInfo);break;case 10:Pi(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,nd(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(Vi(r),r.flags|=128,null):(a&r.child.childLanes)!==0?M1(e,r,a):(Vi(r),e=ui(e,r,a),e!==null?e.sibling:null);Vi(r);break;case 19:var p=(e.flags&128)!==0;if(c=(a&r.childLanes)!==0,c||(Oa(e,r,a,!1),c=(a&r.childLanes)!==0),p){if(c)return L1(e,r,a);r.flags|=128}if(p=r.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),b(dn,dn.current),c)break;return null;case 22:return r.lanes=0,O1(e,r,a,r.pendingProps);case 24:Pi(r,gn,e.memoizedState.cache)}return ui(e,r,a)}function U1(e,r,a){if(e!==null)if(e.memoizedProps!==r.pendingProps)wn=!0;else{if(!Id(e,a)&&(r.flags&128)===0)return wn=!1,aA(e,r,a);wn=(e.flags&131072)!==0}else wn=!1,gt&&(r.flags&1048576)!==0&&mm(r,Lo,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(e=Ms(r.elementType),r.type=e,typeof e=="function")Lf(e)?(c=zs(e,c),r.tag=1,r=C1(null,r,e,c,a)):(r.tag=0,r=Ad(null,r,e,c,a));else{if(e!=null){var p=e.$$typeof;if(p===X){r.tag=11,r=R1(null,r,e,c,a);break e}else if(p===se){r.tag=14,r=x1(null,r,e,c,a);break e}}throw r=h(e)||e,Error(i(306,r,""))}}return r;case 0:return Ad(e,r,r.type,r.pendingProps,a);case 1:return c=r.type,p=zs(c,r.pendingProps),C1(e,r,c,p,a);case 3:e:{if(we(r,r.stateNode.containerInfo),e===null)throw Error(i(387));c=r.pendingProps;var g=r.memoizedState;p=g.element,Xf(e,r),Go(r,c,null,a);var k=r.memoizedState;if(c=k.cache,Pi(r,gn,c),c!==g.cache&&Vf(r,[gn],a,!0),Ko(),c=k.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:k.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=B1(e,r,c,a);break e}else if(c!==p){p=mr(Error(i(424)),r),Uo(p),r=B1(e,r,c,a);break e}else for(e=r.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Gt=_r(e.firstChild),Tn=r,gt=!0,ji=null,br=!0,a=Om(r,null,c,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ks(),c===p){r=ui(e,r,a);break e}Nn(e,r,c,a)}r=r.child}return r;case 26:return Rc(e,r),e===null?(a=Zy(r.type,null,r.pendingProps,null))?r.memoizedState=a:gt||(a=r.type,e=r.pendingProps,c=qc(Z.current).createElement(a),c[ct]=r,c[yt]=e,kn(c,a,e),on(c),r.stateNode=c):r.memoizedState=Zy(r.type,e.memoizedProps,r.pendingProps,e.memoizedState),null;case 27:return qe(r),e===null&&gt&&(c=r.stateNode=Vy(r.type,r.pendingProps,Z.current),Tn=r,br=!0,p=Gt,es(r.type)?(uh=p,Gt=_r(c.firstChild)):Gt=p),Nn(e,r,r.pendingProps.children,a),Rc(e,r),e===null&&(r.flags|=4194304),r.child;case 5:return e===null&&gt&&((p=c=Gt)&&(c=LA(c,r.type,r.pendingProps,br),c!==null?(r.stateNode=c,Tn=r,Gt=_r(c.firstChild),br=!1,p=!0):p=!1),p||Hi(r)),qe(r),p=r.type,g=r.pendingProps,k=e!==null?e.memoizedProps:null,c=g.children,sh(p,g)?c=null:k!==null&&sh(p,k)&&(r.flags|=32),r.memoizedState!==null&&(p=id(e,r,XS,null,null,a),ul._currentValue=p),Rc(e,r),Nn(e,r,c,a),r.child;case 6:return e===null&&gt&&((e=a=Gt)&&(a=UA(a,r.pendingProps,br),a!==null?(r.stateNode=a,Tn=r,Gt=null,e=!0):e=!1),e||Hi(r)),null;case 13:return M1(e,r,a);case 4:return we(r,r.stateNode.containerInfo),c=r.pendingProps,e===null?r.child=Ls(r,null,c,a):Nn(e,r,c,a),r.child;case 11:return R1(e,r,r.type,r.pendingProps,a);case 7:return Nn(e,r,r.pendingProps,a),r.child;case 8:return Nn(e,r,r.pendingProps.children,a),r.child;case 12:return Nn(e,r,r.pendingProps.children,a),r.child;case 10:return c=r.pendingProps,Pi(r,r.type,c.value),Nn(e,r,c.children,a),r.child;case 9:return p=r.type._context,c=r.pendingProps.children,Cs(r),p=On(p),c=c(p),r.flags|=1,Nn(e,r,c,a),r.child;case 14:return x1(e,r,r.type,r.pendingProps,a);case 15:return T1(e,r,r.type,r.pendingProps,a);case 19:return L1(e,r,a);case 31:return sA(e,r,a);case 22:return O1(e,r,a,r.pendingProps);case 24:return Cs(r),c=On(gn),e===null?(p=Zf(),p===null&&(p=Pt,g=Ff(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=a),p=g),r.memoizedState={parent:c,cache:p},$f(r),Pi(r,gn,p)):((e.lanes&a)!==0&&(Xf(e,r),Go(r,null,null,a),Ko()),p=e.memoizedState,g=r.memoizedState,p.parent!==c?(p={parent:c,cache:c},r.memoizedState=p,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=p),Pi(r,gn,c)):(c=g.cache,Pi(r,gn,c),c!==p.cache&&Vf(r,[gn],a,!0))),Nn(e,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function fi(e){e.flags|=4}function Cd(e,r,a,c,p){if((r=(e.mode&32)!==0)&&(r=!1),r){if(e.flags|=16777216,(p&335544128)===p)if(e.stateNode.complete)e.flags|=8192;else if(uy())e.flags|=8192;else throw Ds=uc,Wf}else e.flags&=-16777217}function z1(e,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Jy(r))if(uy())e.flags|=8192;else throw Ds=uc,Wf}function Tc(e,r){r!==null&&(e.flags|=4),e.flags&16384&&(r=e.tag!==22?Xt():536870912,e.lanes|=r,Ha|=r)}function $o(e,r){if(!gt)switch(e.tailMode){case"hidden":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function Vt(e){var r=e.alternate!==null&&e.alternate.child===e.child,a=0,c=0;if(r)for(var p=e.child;p!==null;)a|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)a|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=c,e.childLanes=a,r}function oA(e,r,a){var c=r.pendingProps;switch(Hf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(r),null;case 1:return Vt(r),null;case 3:return a=r.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),oi(gn),Se(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ta(r)?fi(r):e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,qf())),Vt(r),null;case 26:var p=r.type,g=r.memoizedState;return e===null?(fi(r),g!==null?(Vt(r),z1(r,g)):(Vt(r),Cd(r,p,null,c,a))):g?g!==e.memoizedState?(fi(r),Vt(r),z1(r,g)):(Vt(r),r.flags&=-16777217):(e=e.memoizedProps,e!==c&&fi(r),Vt(r),Cd(r,p,e,c,a)),null;case 27:if(ve(r),a=Z.current,p=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==c&&fi(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return Vt(r),null}e=N.current,Ta(r)?gm(r):(e=Vy(p,c,a),r.stateNode=e,fi(r))}return Vt(r),null;case 5:if(ve(r),p=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==c&&fi(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return Vt(r),null}if(g=N.current,Ta(r))gm(r);else{var k=qc(Z.current);switch(g){case 1:g=k.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:g=k.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":g=k.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":g=k.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":g=k.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?k.createElement("select",{is:c.is}):k.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?k.createElement(p,{is:c.is}):k.createElement(p)}}g[ct]=r,g[yt]=c;e:for(k=r.child;k!==null;){if(k.tag===5||k.tag===6)g.appendChild(k.stateNode);else if(k.tag!==4&&k.tag!==27&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===r)break e;for(;k.sibling===null;){if(k.return===null||k.return===r)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}r.stateNode=g;e:switch(kn(g,p,c),p){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&fi(r)}}return Vt(r),Cd(r,r.type,e===null?null:e.memoizedProps,r.pendingProps,a),null;case 6:if(e&&r.stateNode!=null)e.memoizedProps!==c&&fi(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(i(166));if(e=Z.current,Ta(r)){if(e=r.stateNode,a=r.memoizedProps,c=null,p=Tn,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}e[ct]=r,e=!!(e.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||My(e.nodeValue,a)),e||Hi(r,!0)}else e=qc(e).createTextNode(c),e[ct]=r,r.stateNode=e}return Vt(r),null;case 31:if(a=r.memoizedState,e===null||e.memoizedState!==null){if(c=Ta(r),a!==null){if(e===null){if(!c)throw Error(i(318));if(e=r.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[ct]=r}else ks(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Vt(r),e=!1}else a=qf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return r.flags&256?(tr(r),r):(tr(r),null);if((r.flags&128)!==0)throw Error(i(558))}return Vt(r),null;case 13:if(c=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(p=Ta(r),c!==null&&c.dehydrated!==null){if(e===null){if(!p)throw Error(i(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[ct]=r}else ks(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Vt(r),p=!1}else p=qf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=p),p=!0;if(!p)return r.flags&256?(tr(r),r):(tr(r),null)}return tr(r),(r.flags&128)!==0?(r.lanes=a,r):(a=c!==null,e=e!==null&&e.memoizedState!==null,a&&(c=r.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==p&&(c.flags|=2048)),a!==e&&a&&(r.child.flags|=8192),Tc(r,r.updateQueue),Vt(r),null);case 4:return Se(),e===null&&eh(r.stateNode.containerInfo),Vt(r),null;case 10:return oi(r.type),Vt(r),null;case 19:if(d(dn),c=r.memoizedState,c===null)return Vt(r),null;if(p=(r.flags&128)!==0,g=c.rendering,g===null)if(p)$o(c,!1);else{if(cn!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(g=pc(e),g!==null){for(r.flags|=128,$o(c,!1),e=g.updateQueue,r.updateQueue=e,Tc(r,e),r.subtreeFlags=0,e=a,a=r.child;a!==null;)dm(a,e),a=a.sibling;return b(dn,dn.current&1|2),gt&&si(r,c.treeForkCount),r.child}e=e.sibling}c.tail!==null&&Te()>Cc&&(r.flags|=128,p=!0,$o(c,!1),r.lanes=4194304)}else{if(!p)if(e=pc(g),e!==null){if(r.flags|=128,p=!0,e=e.updateQueue,r.updateQueue=e,Tc(r,e),$o(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!gt)return Vt(r),null}else 2*Te()-c.renderingStartTime>Cc&&a!==536870912&&(r.flags|=128,p=!0,$o(c,!1),r.lanes=4194304);c.isBackwards?(g.sibling=r.child,r.child=g):(e=c.last,e!==null?e.sibling=g:r.child=g,c.last=g)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=Te(),e.sibling=null,a=dn.current,b(dn,p?a&1|2:a&1),gt&&si(r,c.treeForkCount),e):(Vt(r),null);case 22:case 23:return tr(r),td(),c=r.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(a&536870912)!==0&&(r.flags&128)===0&&(Vt(r),r.subtreeFlags&6&&(r.flags|=8192)):Vt(r),a=r.updateQueue,a!==null&&Tc(r,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==a&&(r.flags|=2048),e!==null&&d(Bs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),oi(gn),Vt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function lA(e,r){switch(Hf(r),r.tag){case 1:return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return oi(gn),Se(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 26:case 27:case 5:return ve(r),null;case 31:if(r.memoizedState!==null){if(tr(r),r.alternate===null)throw Error(i(340));ks()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 13:if(tr(r),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(i(340));ks()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return d(dn),null;case 4:return Se(),null;case 10:return oi(r.type),null;case 22:case 23:return tr(r),td(),e!==null&&d(Bs),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 24:return oi(gn),null;case 25:return null;default:return null}}function j1(e,r){switch(Hf(r),r.tag){case 3:oi(gn),Se();break;case 26:case 27:case 5:ve(r);break;case 4:Se();break;case 31:r.memoizedState!==null&&tr(r);break;case 13:tr(r);break;case 19:d(dn);break;case 10:oi(r.type);break;case 22:case 23:tr(r),td(),e!==null&&d(Bs);break;case 24:oi(gn)}}function Xo(e,r){try{var a=r.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var p=c.next;a=p;do{if((a.tag&e)===e){c=void 0;var g=a.create,k=a.inst;c=g(),k.destroy=c}a=a.next}while(a!==p)}}catch(q){Ct(r,r.return,q)}}function Yi(e,r,a){try{var c=r.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var g=p.next;c=g;do{if((c.tag&e)===e){var k=c.inst,q=k.destroy;if(q!==void 0){k.destroy=void 0,p=r;var J=a,de=q;try{de()}catch(be){Ct(p,J,be)}}}c=c.next}while(c!==g)}}catch(be){Ct(r,r.return,be)}}function H1(e){var r=e.updateQueue;if(r!==null){var a=e.stateNode;try{km(r,a)}catch(c){Ct(e,e.return,c)}}}function P1(e,r,a){a.props=zs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(c){Ct(e,r,c)}}function Qo(e,r){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof a=="function"?e.refCleanup=a(c):a.current=c}}catch(p){Ct(e,r,p)}}function jr(e,r){var a=e.ref,c=e.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(p){Ct(e,r,p)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(p){Ct(e,r,p)}else a.current=null}function q1(e){var r=e.type,a=e.memoizedProps,c=e.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break e;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(p){Ct(e,e.return,p)}}function Bd(e,r,a){try{var c=e.stateNode;kA(c,e.type,a,r),c[yt]=r}catch(p){Ct(e,e.return,p)}}function K1(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&es(e.type)||e.tag===4}function Md(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||K1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&es(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Dd(e,r,a){var c=e.tag;if(c===5||c===6)e=e.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(e),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=ni));else if(c!==4&&(c===27&&es(e.type)&&(a=e.stateNode,r=null),e=e.child,e!==null))for(Dd(e,r,a),e=e.sibling;e!==null;)Dd(e,r,a),e=e.sibling}function Oc(e,r,a){var c=e.tag;if(c===5||c===6)e=e.stateNode,r?a.insertBefore(e,r):a.appendChild(e);else if(c!==4&&(c===27&&es(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Oc(e,r,a),e=e.sibling;e!==null;)Oc(e,r,a),e=e.sibling}function G1(e){var r=e.stateNode,a=e.memoizedProps;try{for(var c=e.type,p=r.attributes;p.length;)r.removeAttributeNode(p[0]);kn(r,c,a),r[ct]=e,r[yt]=a}catch(g){Ct(e,e.return,g)}}var di=!1,_n=!1,Ld=!1,V1=typeof WeakSet=="function"?WeakSet:Set,An=null;function cA(e,r){if(e=e.containerInfo,rh=Wc,e=rm(e),Nf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var p=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var k=0,q=-1,J=-1,de=0,be=0,Ae=e,pe=null;t:for(;;){for(var ye;Ae!==a||p!==0&&Ae.nodeType!==3||(q=k+p),Ae!==g||c!==0&&Ae.nodeType!==3||(J=k+c),Ae.nodeType===3&&(k+=Ae.nodeValue.length),(ye=Ae.firstChild)!==null;)pe=Ae,Ae=ye;for(;;){if(Ae===e)break t;if(pe===a&&++de===p&&(q=k),pe===g&&++be===c&&(J=k),(ye=Ae.nextSibling)!==null)break;Ae=pe,pe=Ae.parentNode}Ae=ye}a=q===-1||J===-1?null:{start:q,end:J}}else a=null}a=a||{start:0,end:0}}else a=null;for(ih={focusedElem:e,selectionRange:a},Wc=!1,An=r;An!==null;)if(r=An,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,An=e;else for(;An!==null;){switch(r=An,g=r.alternate,e=r.flags,r.tag){case 0:if((e&4)!==0&&(e=r.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)p=e[a],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,a=r,p=g.memoizedProps,g=g.memoizedState,c=a.stateNode;try{var Ge=zs(a.type,p);e=c.getSnapshotBeforeUpdate(Ge,g),c.__reactInternalSnapshotBeforeUpdate=e}catch(tt){Ct(a,a.return,tt)}}break;case 3:if((e&1024)!==0){if(e=r.stateNode.containerInfo,a=e.nodeType,a===9)oh(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":oh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=r.sibling,e!==null){e.return=r.return,An=e;break}An=r.return}}function F1(e,r,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:pi(e,a),c&4&&Xo(5,a);break;case 1:if(pi(e,a),c&4)if(e=a.stateNode,r===null)try{e.componentDidMount()}catch(k){Ct(a,a.return,k)}else{var p=zs(a.type,r.memoizedProps);r=r.memoizedState;try{e.componentDidUpdate(p,r,e.__reactInternalSnapshotBeforeUpdate)}catch(k){Ct(a,a.return,k)}}c&64&&H1(a),c&512&&Qo(a,a.return);break;case 3:if(pi(e,a),c&64&&(e=a.updateQueue,e!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{km(e,r)}catch(k){Ct(a,a.return,k)}}break;case 27:r===null&&c&4&&G1(a);case 26:case 5:pi(e,a),r===null&&c&4&&q1(a),c&512&&Qo(a,a.return);break;case 12:pi(e,a);break;case 31:pi(e,a),c&4&&W1(e,a);break;case 13:pi(e,a),c&4&&$1(e,a),c&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=bA.bind(null,a),zA(e,a))));break;case 22:if(c=a.memoizedState!==null||di,!c){r=r!==null&&r.memoizedState!==null||_n,p=di;var g=_n;di=c,(_n=r)&&!g?mi(e,a,(a.subtreeFlags&8772)!==0):pi(e,a),di=p,_n=g}break;case 30:break;default:pi(e,a)}}function Y1(e){var r=e.alternate;r!==null&&(e.alternate=null,Y1(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&As(r)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Wt=null,Kn=!1;function hi(e,r,a){for(a=a.child;a!==null;)Z1(e,r,a),a=a.sibling}function Z1(e,r,a){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(re,a)}catch{}switch(a.tag){case 26:_n||jr(a,r),hi(e,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:_n||jr(a,r);var c=Wt,p=Kn;es(a.type)&&(Wt=a.stateNode,Kn=!1),hi(e,r,a),ol(a.stateNode),Wt=c,Kn=p;break;case 5:_n||jr(a,r);case 6:if(c=Wt,p=Kn,Wt=null,hi(e,r,a),Wt=c,Kn=p,Wt!==null)if(Kn)try{(Wt.nodeType===9?Wt.body:Wt.nodeName==="HTML"?Wt.ownerDocument.body:Wt).removeChild(a.stateNode)}catch(g){Ct(a,r,g)}else try{Wt.removeChild(a.stateNode)}catch(g){Ct(a,r,g)}break;case 18:Wt!==null&&(Kn?(e=Wt,Hy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Za(e)):Hy(Wt,a.stateNode));break;case 4:c=Wt,p=Kn,Wt=a.stateNode.containerInfo,Kn=!0,hi(e,r,a),Wt=c,Kn=p;break;case 0:case 11:case 14:case 15:Yi(2,a,r),_n||Yi(4,a,r),hi(e,r,a);break;case 1:_n||(jr(a,r),c=a.stateNode,typeof c.componentWillUnmount=="function"&&P1(a,r,c)),hi(e,r,a);break;case 21:hi(e,r,a);break;case 22:_n=(c=_n)||a.memoizedState!==null,hi(e,r,a),_n=c;break;default:hi(e,r,a)}}function W1(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Za(e)}catch(a){Ct(r,r.return,a)}}}function $1(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Za(e)}catch(a){Ct(r,r.return,a)}}function uA(e){switch(e.tag){case 31:case 13:case 19:var r=e.stateNode;return r===null&&(r=e.stateNode=new V1),r;case 22:return e=e.stateNode,r=e._retryCache,r===null&&(r=e._retryCache=new V1),r;default:throw Error(i(435,e.tag))}}function Nc(e,r){var a=uA(e);r.forEach(function(c){if(!a.has(c)){a.add(c);var p=wA.bind(null,e,c);c.then(p,p)}})}function Gn(e,r){var a=r.deletions;if(a!==null)for(var c=0;c<a.length;c++){var p=a[c],g=e,k=r,q=k;e:for(;q!==null;){switch(q.tag){case 27:if(es(q.type)){Wt=q.stateNode,Kn=!1;break e}break;case 5:Wt=q.stateNode,Kn=!1;break e;case 3:case 4:Wt=q.stateNode.containerInfo,Kn=!0;break e}q=q.return}if(Wt===null)throw Error(i(160));Z1(g,k,p),Wt=null,Kn=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)X1(r,e),r=r.sibling}var Or=null;function X1(e,r){var a=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Gn(r,e),Vn(e),c&4&&(Yi(3,e,e.return),Xo(3,e),Yi(5,e,e.return));break;case 1:Gn(r,e),Vn(e),c&512&&(_n||a===null||jr(a,a.return)),c&64&&di&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var p=Or;if(Gn(r,e),Vn(e),c&512&&(_n||a===null||jr(a,a.return)),c&4){var g=a!==null?a.memoizedState:null;if(c=e.memoizedState,a===null)if(c===null)if(e.stateNode===null){e:{c=e.type,a=e.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":g=p.getElementsByTagName("title")[0],(!g||g[Jr]||g[ct]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(c),p.head.insertBefore(g,p.querySelector("head > title"))),kn(g,c,a),g[ct]=e,on(g),c=g;break e;case"link":var k=Xy("link","href",p).get(c+(a.href||""));if(k){for(var q=0;q<k.length;q++)if(g=k[q],g.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&g.getAttribute("rel")===(a.rel==null?null:a.rel)&&g.getAttribute("title")===(a.title==null?null:a.title)&&g.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){k.splice(q,1);break t}}g=p.createElement(c),kn(g,c,a),p.head.appendChild(g);break;case"meta":if(k=Xy("meta","content",p).get(c+(a.content||""))){for(q=0;q<k.length;q++)if(g=k[q],g.getAttribute("content")===(a.content==null?null:""+a.content)&&g.getAttribute("name")===(a.name==null?null:a.name)&&g.getAttribute("property")===(a.property==null?null:a.property)&&g.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&g.getAttribute("charset")===(a.charSet==null?null:a.charSet)){k.splice(q,1);break t}}g=p.createElement(c),kn(g,c,a),p.head.appendChild(g);break;default:throw Error(i(468,c))}g[ct]=e,on(g),c=g}e.stateNode=c}else Qy(p,e.type,e.stateNode);else e.stateNode=$y(p,c,e.memoizedProps);else g!==c?(g===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):g.count--,c===null?Qy(p,e.type,e.stateNode):$y(p,c,e.memoizedProps)):c===null&&e.stateNode!==null&&Bd(e,e.memoizedProps,a.memoizedProps)}break;case 27:Gn(r,e),Vn(e),c&512&&(_n||a===null||jr(a,a.return)),a!==null&&c&4&&Bd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Gn(r,e),Vn(e),c&512&&(_n||a===null||jr(a,a.return)),e.flags&32){p=e.stateNode;try{ga(p,"")}catch(Ge){Ct(e,e.return,Ge)}}c&4&&e.stateNode!=null&&(p=e.memoizedProps,Bd(e,p,a!==null?a.memoizedProps:p)),c&1024&&(Ld=!0);break;case 6:if(Gn(r,e),Vn(e),c&4){if(e.stateNode===null)throw Error(i(162));c=e.memoizedProps,a=e.stateNode;try{a.nodeValue=c}catch(Ge){Ct(e,e.return,Ge)}}break;case 3:if(Vc=null,p=Or,Or=Kc(r.containerInfo),Gn(r,e),Or=p,Vn(e),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Za(r.containerInfo)}catch(Ge){Ct(e,e.return,Ge)}Ld&&(Ld=!1,Q1(e));break;case 4:c=Or,Or=Kc(e.stateNode.containerInfo),Gn(r,e),Vn(e),Or=c;break;case 12:Gn(r,e),Vn(e);break;case 31:Gn(r,e),Vn(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Nc(e,c)));break;case 13:Gn(r,e),Vn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ic=Te()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Nc(e,c)));break;case 22:p=e.memoizedState!==null;var J=a!==null&&a.memoizedState!==null,de=di,be=_n;if(di=de||p,_n=be||J,Gn(r,e),_n=be,di=de,Vn(e),c&8192)e:for(r=e.stateNode,r._visibility=p?r._visibility&-2:r._visibility|1,p&&(a===null||J||di||_n||js(e)),a=null,r=e;;){if(r.tag===5||r.tag===26){if(a===null){J=a=r;try{if(g=J.stateNode,p)k=g.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{q=J.stateNode;var Ae=J.memoizedProps.style,pe=Ae!=null&&Ae.hasOwnProperty("display")?Ae.display:null;q.style.display=pe==null||typeof pe=="boolean"?"":(""+pe).trim()}}catch(Ge){Ct(J,J.return,Ge)}}}else if(r.tag===6){if(a===null){J=r;try{J.stateNode.nodeValue=p?"":J.memoizedProps}catch(Ge){Ct(J,J.return,Ge)}}}else if(r.tag===18){if(a===null){J=r;try{var ye=J.stateNode;p?Py(ye,!0):Py(J.stateNode,!1)}catch(Ge){Ct(J,J.return,Ge)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=e.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,Nc(e,a))));break;case 19:Gn(r,e),Vn(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Nc(e,c)));break;case 30:break;case 21:break;default:Gn(r,e),Vn(e)}}function Vn(e){var r=e.flags;if(r&2){try{for(var a,c=e.return;c!==null;){if(K1(c)){a=c;break}c=c.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var p=a.stateNode,g=Md(e);Oc(e,g,p);break;case 5:var k=a.stateNode;a.flags&32&&(ga(k,""),a.flags&=-33);var q=Md(e);Oc(e,q,k);break;case 3:case 4:var J=a.stateNode.containerInfo,de=Md(e);Dd(e,de,J);break;default:throw Error(i(161))}}catch(be){Ct(e,e.return,be)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function Q1(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var r=e;Q1(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),e=e.sibling}}function pi(e,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)F1(e,r.alternate,r),r=r.sibling}function js(e){for(e=e.child;e!==null;){var r=e;switch(r.tag){case 0:case 11:case 14:case 15:Yi(4,r,r.return),js(r);break;case 1:jr(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&P1(r,r.return,a),js(r);break;case 27:ol(r.stateNode);case 26:case 5:jr(r,r.return),js(r);break;case 22:r.memoizedState===null&&js(r);break;case 30:js(r);break;default:js(r)}e=e.sibling}}function mi(e,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,p=e,g=r,k=g.flags;switch(g.tag){case 0:case 11:case 15:mi(p,g,a),Xo(4,g);break;case 1:if(mi(p,g,a),c=g,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(de){Ct(c,c.return,de)}if(c=g,p=c.updateQueue,p!==null){var q=c.stateNode;try{var J=p.shared.hiddenCallbacks;if(J!==null)for(p.shared.hiddenCallbacks=null,p=0;p<J.length;p++)Nm(J[p],q)}catch(de){Ct(c,c.return,de)}}a&&k&64&&H1(g),Qo(g,g.return);break;case 27:G1(g);case 26:case 5:mi(p,g,a),a&&c===null&&k&4&&q1(g),Qo(g,g.return);break;case 12:mi(p,g,a);break;case 31:mi(p,g,a),a&&k&4&&W1(p,g);break;case 13:mi(p,g,a),a&&k&4&&$1(p,g);break;case 22:g.memoizedState===null&&mi(p,g,a),Qo(g,g.return);break;case 30:break;default:mi(p,g,a)}r=r.sibling}}function Ud(e,r){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(e=r.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&zo(a))}function zd(e,r){e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&zo(e))}function Nr(e,r,a,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)J1(e,r,a,c),r=r.sibling}function J1(e,r,a,c){var p=r.flags;switch(r.tag){case 0:case 11:case 15:Nr(e,r,a,c),p&2048&&Xo(9,r);break;case 1:Nr(e,r,a,c);break;case 3:Nr(e,r,a,c),p&2048&&(e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&zo(e)));break;case 12:if(p&2048){Nr(e,r,a,c),e=r.stateNode;try{var g=r.memoizedProps,k=g.id,q=g.onPostCommit;typeof q=="function"&&q(k,r.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(J){Ct(r,r.return,J)}}else Nr(e,r,a,c);break;case 31:Nr(e,r,a,c);break;case 13:Nr(e,r,a,c);break;case 23:break;case 22:g=r.stateNode,k=r.alternate,r.memoizedState!==null?g._visibility&2?Nr(e,r,a,c):Jo(e,r):g._visibility&2?Nr(e,r,a,c):(g._visibility|=2,Ua(e,r,a,c,(r.subtreeFlags&10256)!==0||!1)),p&2048&&Ud(k,r);break;case 24:Nr(e,r,a,c),p&2048&&zd(r.alternate,r);break;default:Nr(e,r,a,c)}}function Ua(e,r,a,c,p){for(p=p&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=e,k=r,q=a,J=c,de=k.flags;switch(k.tag){case 0:case 11:case 15:Ua(g,k,q,J,p),Xo(8,k);break;case 23:break;case 22:var be=k.stateNode;k.memoizedState!==null?be._visibility&2?Ua(g,k,q,J,p):Jo(g,k):(be._visibility|=2,Ua(g,k,q,J,p)),p&&de&2048&&Ud(k.alternate,k);break;case 24:Ua(g,k,q,J,p),p&&de&2048&&zd(k.alternate,k);break;default:Ua(g,k,q,J,p)}r=r.sibling}}function Jo(e,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=e,c=r,p=c.flags;switch(c.tag){case 22:Jo(a,c),p&2048&&Ud(c.alternate,c);break;case 24:Jo(a,c),p&2048&&zd(c.alternate,c);break;default:Jo(a,c)}r=r.sibling}}var el=8192;function za(e,r,a){if(e.subtreeFlags&el)for(e=e.child;e!==null;)ey(e,r,a),e=e.sibling}function ey(e,r,a){switch(e.tag){case 26:za(e,r,a),e.flags&el&&e.memoizedState!==null&&$A(a,Or,e.memoizedState,e.memoizedProps);break;case 5:za(e,r,a);break;case 3:case 4:var c=Or;Or=Kc(e.stateNode.containerInfo),za(e,r,a),Or=c;break;case 22:e.memoizedState===null&&(c=e.alternate,c!==null&&c.memoizedState!==null?(c=el,el=16777216,za(e,r,a),el=c):za(e,r,a));break;default:za(e,r,a)}}function ty(e){var r=e.alternate;if(r!==null&&(e=r.child,e!==null)){r.child=null;do r=e.sibling,e.sibling=null,e=r;while(e!==null)}}function tl(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var c=r[a];An=c,ry(c,e)}ty(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ny(e),e=e.sibling}function ny(e){switch(e.tag){case 0:case 11:case 15:tl(e),e.flags&2048&&Yi(9,e,e.return);break;case 3:tl(e);break;case 12:tl(e);break;case 22:var r=e.stateNode;e.memoizedState!==null&&r._visibility&2&&(e.return===null||e.return.tag!==13)?(r._visibility&=-3,kc(e)):tl(e);break;default:tl(e)}}function kc(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var c=r[a];An=c,ry(c,e)}ty(e)}for(e=e.child;e!==null;){switch(r=e,r.tag){case 0:case 11:case 15:Yi(8,r,r.return),kc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,kc(r));break;default:kc(r)}e=e.sibling}}function ry(e,r){for(;An!==null;){var a=An;switch(a.tag){case 0:case 11:case 15:Yi(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:zo(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,An=c;else e:for(a=e;An!==null;){c=An;var p=c.sibling,g=c.return;if(Y1(c),c===a){An=null;break e}if(p!==null){p.return=g,An=p;break e}An=g}}}var fA={getCacheForType:function(e){var r=On(gn),a=r.data.get(e);return a===void 0&&(a=e(),r.data.set(e,a)),a},cacheSignal:function(){return On(gn).controller.signal}},dA=typeof WeakMap=="function"?WeakMap:Map,Tt=0,Pt=null,ut=null,pt=0,It=0,nr=null,Zi=!1,ja=!1,jd=!1,yi=0,cn=0,Wi=0,Hs=0,Hd=0,rr=0,Ha=0,nl=null,Fn=null,Pd=!1,Ic=0,iy=0,Cc=1/0,Bc=null,$i=null,En=0,Xi=null,Pa=null,gi=0,qd=0,Kd=null,sy=null,rl=0,Gd=null;function ir(){return(Tt&2)!==0&&pt!==0?pt&-pt:A.T!==null?$d():en()}function ay(){if(rr===0)if((pt&536870912)===0||gt){var e=_t;_t<<=1,(_t&3932160)===0&&(_t=262144),rr=e}else rr=536870912;return e=er.current,e!==null&&(e.flags|=32),rr}function Yn(e,r,a){(e===Pt&&(It===2||It===9)||e.cancelPendingCommit!==null)&&(qa(e,0),Qi(e,pt,rr,!1)),Mi(e,a),((Tt&2)===0||e!==Pt)&&(e===Pt&&((Tt&2)===0&&(Hs|=a),cn===4&&Qi(e,pt,rr,!1)),Hr(e))}function oy(e,r,a){if((Tt&6)!==0)throw Error(i(327));var c=!a&&(r&127)===0&&(r&e.expiredLanes)===0||xt(e,r),p=c?mA(e,r):Fd(e,r,!0),g=c;do{if(p===0){ja&&!c&&Qi(e,r,0,!1);break}else{if(a=e.current.alternate,g&&!hA(a)){p=Fd(e,r,!1),g=!1;continue}if(p===2){if(g=r,e.errorRecoveryDisabledLanes&g)var k=0;else k=e.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){r=k;e:{var q=e;p=nl;var J=q.current.memoizedState.isDehydrated;if(J&&(qa(q,k).flags|=256),k=Fd(q,k,!1),k!==2){if(jd&&!J){q.errorRecoveryDisabledLanes|=g,Hs|=g,p=4;break e}g=Fn,Fn=p,g!==null&&(Fn===null?Fn=g:Fn.push.apply(Fn,g))}p=k}if(g=!1,p!==2)continue}}if(p===1){qa(e,0),Qi(e,r,0,!0);break}e:{switch(c=e,g=p,g){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:Qi(c,r,rr,!Zi);break e;case 2:Fn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(p=Ic+300-Te(),10<p)){if(Qi(c,r,rr,!Zi),lt(c,0,!0)!==0)break e;gi=r,c.timeoutHandle=zy(ly.bind(null,c,a,Fn,Bc,Pd,r,rr,Hs,Ha,Zi,g,"Throttled",-0,0),p);break e}ly(c,a,Fn,Bc,Pd,r,rr,Hs,Ha,Zi,g,null,-0,0)}}break}while(!0);Hr(e)}function ly(e,r,a,c,p,g,k,q,J,de,be,Ae,pe,ye){if(e.timeoutHandle=-1,Ae=r.subtreeFlags,Ae&8192||(Ae&16785408)===16785408){Ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ni},ey(r,g,Ae);var Ge=(g&62914560)===g?Ic-Te():(g&4194048)===g?iy-Te():0;if(Ge=XA(Ae,Ge),Ge!==null){gi=g,e.cancelPendingCommit=Ge(yy.bind(null,e,r,g,a,c,p,k,q,J,be,Ae,null,pe,ye)),Qi(e,g,k,!de);return}}yy(e,r,g,a,c,p,k,q,J)}function hA(e){for(var r=e;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var p=a[c],g=p.getSnapshot;p=p.value;try{if(!Qn(g(),p))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Qi(e,r,a,c){r&=~Hd,r&=~Hs,e.suspendedLanes|=r,e.pingedLanes&=~r,c&&(e.warmLanes|=r),c=e.expirationTimes;for(var p=r;0<p;){var g=31-Le(p),k=1<<g;c[g]=-1,p&=~k}a!==0&&Qt(e,a,r)}function Mc(){return(Tt&6)===0?(il(0),!1):!0}function Vd(){if(ut!==null){if(It===0)var e=ut.return;else e=ut,ai=Is=null,od(e),Ca=null,Ho=0,e=ut;for(;e!==null;)j1(e.alternate,e),e=e.return;ut=null}}function qa(e,r){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,BA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),gi=0,Vd(),Pt=e,ut=a=ii(e.current,null),pt=r,It=0,nr=null,Zi=!1,ja=xt(e,r),jd=!1,Ha=rr=Hd=Hs=Wi=cn=0,Fn=nl=null,Pd=!1,(r&8)!==0&&(r|=r&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=r;0<c;){var p=31-Le(c),g=1<<p;r|=e[p],c&=~g}return yi=r,tc(),a}function cy(e,r){rt=null,A.H=Zo,r===Ia||r===cc?(r=Rm(),It=3):r===Wf?(r=Rm(),It=4):It=r===Sd?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,nr=r,ut===null&&(cn=1,Sc(e,mr(r,e.current)))}function uy(){var e=er.current;return e===null?!0:(pt&4194048)===pt?wr===null:(pt&62914560)===pt||(pt&536870912)!==0?e===wr:!1}function fy(){var e=A.H;return A.H=Zo,e===null?Zo:e}function dy(){var e=A.A;return A.A=fA,e}function Dc(){cn=4,Zi||(pt&4194048)!==pt&&er.current!==null||(ja=!0),(Wi&134217727)===0&&(Hs&134217727)===0||Pt===null||Qi(Pt,pt,rr,!1)}function Fd(e,r,a){var c=Tt;Tt|=2;var p=fy(),g=dy();(Pt!==e||pt!==r)&&(Bc=null,qa(e,r)),r=!1;var k=cn;e:do try{if(It!==0&&ut!==null){var q=ut,J=nr;switch(It){case 8:Vd(),k=6;break e;case 3:case 2:case 9:case 6:er.current===null&&(r=!0);var de=It;if(It=0,nr=null,Ka(e,q,J,de),a&&ja){k=0;break e}break;default:de=It,It=0,nr=null,Ka(e,q,J,de)}}pA(),k=cn;break}catch(be){cy(e,be)}while(!0);return r&&e.shellSuspendCounter++,ai=Is=null,Tt=c,A.H=p,A.A=g,ut===null&&(Pt=null,pt=0,tc()),k}function pA(){for(;ut!==null;)hy(ut)}function mA(e,r){var a=Tt;Tt|=2;var c=fy(),p=dy();Pt!==e||pt!==r?(Bc=null,Cc=Te()+500,qa(e,r)):ja=xt(e,r);e:do try{if(It!==0&&ut!==null){r=ut;var g=nr;t:switch(It){case 1:It=0,nr=null,Ka(e,r,g,1);break;case 2:case 9:if(Sm(g)){It=0,nr=null,py(r);break}r=function(){It!==2&&It!==9||Pt!==e||(It=7),Hr(e)},g.then(r,r);break e;case 3:It=7;break e;case 4:It=5;break e;case 7:Sm(g)?(It=0,nr=null,py(r)):(It=0,nr=null,Ka(e,r,g,7));break;case 5:var k=null;switch(ut.tag){case 26:k=ut.memoizedState;case 5:case 27:var q=ut;if(k?Jy(k):q.stateNode.complete){It=0,nr=null;var J=q.sibling;if(J!==null)ut=J;else{var de=q.return;de!==null?(ut=de,Lc(de)):ut=null}break t}}It=0,nr=null,Ka(e,r,g,5);break;case 6:It=0,nr=null,Ka(e,r,g,6);break;case 8:Vd(),cn=6;break e;default:throw Error(i(462))}}yA();break}catch(be){cy(e,be)}while(!0);return ai=Is=null,A.H=c,A.A=p,Tt=a,ut!==null?0:(Pt=null,pt=0,tc(),cn)}function yA(){for(;ut!==null&&!Et();)hy(ut)}function hy(e){var r=U1(e.alternate,e,yi);e.memoizedProps=e.pendingProps,r===null?Lc(e):ut=r}function py(e){var r=e,a=r.alternate;switch(r.tag){case 15:case 0:r=I1(a,r,r.pendingProps,r.type,void 0,pt);break;case 11:r=I1(a,r,r.pendingProps,r.type.render,r.ref,pt);break;case 5:od(r);default:j1(a,r),r=ut=dm(r,yi),r=U1(a,r,yi)}e.memoizedProps=e.pendingProps,r===null?Lc(e):ut=r}function Ka(e,r,a,c){ai=Is=null,od(r),Ca=null,Ho=0;var p=r.return;try{if(iA(e,p,r,a,pt)){cn=1,Sc(e,mr(a,e.current)),ut=null;return}}catch(g){if(p!==null)throw ut=p,g;cn=1,Sc(e,mr(a,e.current)),ut=null;return}r.flags&32768?(gt||c===1?e=!0:ja||(pt&536870912)!==0?e=!1:(Zi=e=!0,(c===2||c===9||c===3||c===6)&&(c=er.current,c!==null&&c.tag===13&&(c.flags|=16384))),my(r,e)):Lc(r)}function Lc(e){var r=e;do{if((r.flags&32768)!==0){my(r,Zi);return}e=r.return;var a=oA(r.alternate,r,yi);if(a!==null){ut=a;return}if(r=r.sibling,r!==null){ut=r;return}ut=r=e}while(r!==null);cn===0&&(cn=5)}function my(e,r){do{var a=lA(e.alternate,e);if(a!==null){a.flags&=32767,ut=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(e=e.sibling,e!==null)){ut=e;return}ut=e=a}while(e!==null);cn=6,ut=null}function yy(e,r,a,c,p,g,k,q,J){e.cancelPendingCommit=null;do Uc();while(En!==0);if((Tt&6)!==0)throw Error(i(327));if(r!==null){if(r===e.current)throw Error(i(177));if(g=r.lanes|r.childLanes,g|=Mf,sn(e,a,g,k,q,J),e===Pt&&(ut=Pt=null,pt=0),Pa=r,Xi=e,gi=a,qd=g,Kd=p,sy=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,_A(v,function(){return vy(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=A.T,A.T=null,p=O.p,O.p=2,k=Tt,Tt|=4;try{cA(e,r,a)}finally{Tt=k,O.p=p,A.T=c}}En=1,gy(),by(),wy()}}function gy(){if(En===1){En=0;var e=Xi,r=Pa,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=A.T,A.T=null;var c=O.p;O.p=2;var p=Tt;Tt|=4;try{X1(r,e);var g=ih,k=rm(e.containerInfo),q=g.focusedElem,J=g.selectionRange;if(k!==q&&q&&q.ownerDocument&&nm(q.ownerDocument.documentElement,q)){if(J!==null&&Nf(q)){var de=J.start,be=J.end;if(be===void 0&&(be=de),"selectionStart"in q)q.selectionStart=de,q.selectionEnd=Math.min(be,q.value.length);else{var Ae=q.ownerDocument||document,pe=Ae&&Ae.defaultView||window;if(pe.getSelection){var ye=pe.getSelection(),Ge=q.textContent.length,tt=Math.min(J.start,Ge),jt=J.end===void 0?tt:Math.min(J.end,Ge);!ye.extend&&tt>jt&&(k=jt,jt=tt,tt=k);var le=tm(q,tt),ne=tm(q,jt);if(le&&ne&&(ye.rangeCount!==1||ye.anchorNode!==le.node||ye.anchorOffset!==le.offset||ye.focusNode!==ne.node||ye.focusOffset!==ne.offset)){var fe=Ae.createRange();fe.setStart(le.node,le.offset),ye.removeAllRanges(),tt>jt?(ye.addRange(fe),ye.extend(ne.node,ne.offset)):(fe.setEnd(ne.node,ne.offset),ye.addRange(fe))}}}}for(Ae=[],ye=q;ye=ye.parentNode;)ye.nodeType===1&&Ae.push({element:ye,left:ye.scrollLeft,top:ye.scrollTop});for(typeof q.focus=="function"&&q.focus(),q=0;q<Ae.length;q++){var Ee=Ae[q];Ee.element.scrollLeft=Ee.left,Ee.element.scrollTop=Ee.top}}Wc=!!rh,ih=rh=null}finally{Tt=p,O.p=c,A.T=a}}e.current=r,En=2}}function by(){if(En===2){En=0;var e=Xi,r=Pa,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=A.T,A.T=null;var c=O.p;O.p=2;var p=Tt;Tt|=4;try{F1(e,r.alternate,r)}finally{Tt=p,O.p=c,A.T=a}}En=3}}function wy(){if(En===4||En===3){En=0,ge();var e=Xi,r=Pa,a=gi,c=sy;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?En=5:(En=0,Pa=Xi=null,_y(e,e.pendingLanes));var p=e.pendingLanes;if(p===0&&($i=null),ua(a),r=r.stateNode,Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(re,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=A.T,p=O.p,O.p=2,A.T=null;try{for(var g=e.onRecoverableError,k=0;k<c.length;k++){var q=c[k];g(q.value,{componentStack:q.stack})}}finally{A.T=r,O.p=p}}(gi&3)!==0&&Uc(),Hr(e),p=e.pendingLanes,(a&261930)!==0&&(p&42)!==0?e===Gd?rl++:(rl=0,Gd=e):rl=0,il(0)}}function _y(e,r){(e.pooledCacheLanes&=r)===0&&(r=e.pooledCache,r!=null&&(e.pooledCache=null,zo(r)))}function Uc(){return gy(),by(),wy(),vy()}function vy(){if(En!==5)return!1;var e=Xi,r=qd;qd=0;var a=ua(gi),c=A.T,p=O.p;try{O.p=32>a?32:a,A.T=null,a=Kd,Kd=null;var g=Xi,k=gi;if(En=0,Pa=Xi=null,gi=0,(Tt&6)!==0)throw Error(i(331));var q=Tt;if(Tt|=4,ny(g.current),J1(g,g.current,k,a),Tt=q,il(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(re,g)}catch{}return!0}finally{O.p=p,A.T=c,_y(e,r)}}function Ey(e,r,a){r=mr(a,r),r=Ed(e.stateNode,r,2),e=Gi(e,r,2),e!==null&&(Mi(e,2),Hr(e))}function Ct(e,r,a){if(e.tag===3)Ey(e,e,a);else for(;r!==null;){if(r.tag===3){Ey(r,e,a);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&($i===null||!$i.has(c))){e=mr(a,e),a=S1(2),c=Gi(r,a,2),c!==null&&(A1(a,c,r,e),Mi(c,2),Hr(c));break}}r=r.return}}function Yd(e,r,a){var c=e.pingCache;if(c===null){c=e.pingCache=new dA;var p=new Set;c.set(r,p)}else p=c.get(r),p===void 0&&(p=new Set,c.set(r,p));p.has(a)||(jd=!0,p.add(a),e=gA.bind(null,e,r,a),r.then(e,e))}function gA(e,r,a){var c=e.pingCache;c!==null&&c.delete(r),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Pt===e&&(pt&a)===a&&(cn===4||cn===3&&(pt&62914560)===pt&&300>Te()-Ic?(Tt&2)===0&&qa(e,0):Hd|=a,Ha===pt&&(Ha=0)),Hr(e)}function Sy(e,r){r===0&&(r=Xt()),e=Os(e,r),e!==null&&(Mi(e,r),Hr(e))}function bA(e){var r=e.memoizedState,a=0;r!==null&&(a=r.retryLane),Sy(e,a)}function wA(e,r){var a=0;switch(e.tag){case 31:case 13:var c=e.stateNode,p=e.memoizedState;p!==null&&(a=p.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(r),Sy(e,a)}function _A(e,r){return Xe(e,r)}var zc=null,Ga=null,Zd=!1,jc=!1,Wd=!1,Ji=0;function Hr(e){e!==Ga&&e.next===null&&(Ga===null?zc=Ga=e:Ga=Ga.next=e),jc=!0,Zd||(Zd=!0,EA())}function il(e,r){if(!Wd&&jc){Wd=!0;do for(var a=!1,c=zc;c!==null;){if(e!==0){var p=c.pendingLanes;if(p===0)var g=0;else{var k=c.suspendedLanes,q=c.pingedLanes;g=(1<<31-Le(42|e)+1)-1,g&=p&~(k&~q),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(a=!0,Ty(c,g))}else g=pt,g=lt(c,c===Pt?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||xt(c,g)||(a=!0,Ty(c,g));c=c.next}while(a);Wd=!1}}function vA(){Ay()}function Ay(){jc=Zd=!1;var e=0;Ji!==0&&CA()&&(e=Ji);for(var r=Te(),a=null,c=zc;c!==null;){var p=c.next,g=Ry(c,r);g===0?(c.next=null,a===null?zc=p:a.next=p,p===null&&(Ga=a)):(a=c,(e!==0||(g&3)!==0)&&(jc=!0)),c=p}En!==0&&En!==5||il(e),Ji!==0&&(Ji=0)}function Ry(e,r){for(var a=e.suspendedLanes,c=e.pingedLanes,p=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var k=31-Le(g),q=1<<k,J=p[k];J===-1?((q&a)===0||(q&c)!==0)&&(p[k]=ca(q,r)):J<=r&&(e.expiredLanes|=q),g&=~q}if(r=Pt,a=pt,a=lt(e,e===r?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,a===0||e===r&&(It===2||It===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&Ye(c),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||xt(e,a)){if(r=a&-a,r===e.callbackPriority)return r;switch(c!==null&&Ye(c),ua(a)){case 2:case 8:a=D;break;case 32:a=v;break;case 268435456:a=V;break;default:a=v}return c=xy.bind(null,e),a=Xe(a,c),e.callbackPriority=r,e.callbackNode=a,r}return c!==null&&c!==null&&Ye(c),e.callbackPriority=2,e.callbackNode=null,2}function xy(e,r){if(En!==0&&En!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Uc()&&e.callbackNode!==a)return null;var c=pt;return c=lt(e,e===Pt?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(oy(e,c,r),Ry(e,Te()),e.callbackNode!=null&&e.callbackNode===a?xy.bind(null,e):null)}function Ty(e,r){if(Uc())return null;oy(e,r,!0)}function EA(){MA(function(){(Tt&6)!==0?Xe(ze,vA):Ay()})}function $d(){if(Ji===0){var e=Na;e===0&&(e=Ot,Ot<<=1,(Ot&261888)===0&&(Ot=256)),Ji=e}return Ji}function Oy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Yl(""+e)}function Ny(e,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,e.id&&a.setAttribute("form",e.id),r.parentNode.insertBefore(a,r),e=new FormData(e),a.parentNode.removeChild(a),e}function SA(e,r,a,c,p){if(r==="submit"&&a&&a.stateNode===p){var g=Oy((p[yt]||null).action),k=c.submitter;k&&(r=(r=k[yt]||null)?Oy(r.formAction):k.getAttribute("formAction"),r!==null&&(g=r,k=null));var q=new Xl("action","action",null,c,p);e.push({event:q,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ji!==0){var J=k?Ny(p,k):new FormData(p);yd(a,{pending:!0,data:J,method:p.method,action:g},null,J)}}else typeof g=="function"&&(q.preventDefault(),J=k?Ny(p,k):new FormData(p),yd(a,{pending:!0,data:J,method:p.method,action:g},g,J))},currentTarget:p}]})}}for(var Xd=0;Xd<Bf.length;Xd++){var Qd=Bf[Xd],AA=Qd.toLowerCase(),RA=Qd[0].toUpperCase()+Qd.slice(1);Tr(AA,"on"+RA)}Tr(am,"onAnimationEnd"),Tr(om,"onAnimationIteration"),Tr(lm,"onAnimationStart"),Tr("dblclick","onDoubleClick"),Tr("focusin","onFocus"),Tr("focusout","onBlur"),Tr(PS,"onTransitionRun"),Tr(qS,"onTransitionStart"),Tr(KS,"onTransitionCancel"),Tr(cm,"onTransitionEnd"),Lr("onMouseEnter",["mouseout","mouseover"]),Lr("onMouseLeave",["mouseout","mouseover"]),Lr("onPointerEnter",["pointerout","pointerover"]),Lr("onPointerLeave",["pointerout","pointerover"]),xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xr("onBeforeInput",["compositionend","keypress","textInput","paste"]),xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sl));function ky(e,r){r=(r&4)!==0;for(var a=0;a<e.length;a++){var c=e[a],p=c.event;c=c.listeners;e:{var g=void 0;if(r)for(var k=c.length-1;0<=k;k--){var q=c[k],J=q.instance,de=q.currentTarget;if(q=q.listener,J!==g&&p.isPropagationStopped())break e;g=q,p.currentTarget=de;try{g(p)}catch(be){ec(be)}p.currentTarget=null,g=J}else for(k=0;k<c.length;k++){if(q=c[k],J=q.instance,de=q.currentTarget,q=q.listener,J!==g&&p.isPropagationStopped())break e;g=q,p.currentTarget=de;try{g(p)}catch(be){ec(be)}p.currentTarget=null,g=J}}}}function ft(e,r){var a=r[Zt];a===void 0&&(a=r[Zt]=new Set);var c=e+"__bubble";a.has(c)||(Iy(r,e,2,!1),a.add(c))}function Jd(e,r,a){var c=0;r&&(c|=4),Iy(a,e,c,r)}var Hc="_reactListening"+Math.random().toString(36).slice(2);function eh(e){if(!e[Hc]){e[Hc]=!0,da.forEach(function(a){a!=="selectionchange"&&(xA.has(a)||Jd(a,!1,e),Jd(a,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[Hc]||(r[Hc]=!0,Jd("selectionchange",!1,r))}}function Iy(e,r,a,c){switch(ag(r)){case 2:var p=eR;break;case 8:p=tR;break;default:p=mh}a=p.bind(null,r,a,e),p=void 0,!_f||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(p=!0),c?p!==void 0?e.addEventListener(r,a,{capture:!0,passive:p}):e.addEventListener(r,a,!0):p!==void 0?e.addEventListener(r,a,{passive:p}):e.addEventListener(r,a,!1)}function th(e,r,a,c,p){var g=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var k=c.tag;if(k===3||k===4){var q=c.stateNode.containerInfo;if(q===p)break;if(k===4)for(k=c.return;k!==null;){var J=k.tag;if((J===3||J===4)&&k.stateNode.containerInfo===p)return;k=k.return}for(;q!==null;){if(k=Br(q),k===null)return;if(J=k.tag,J===5||J===6||J===26||J===27){c=g=k;continue e}q=q.parentNode}}c=c.return}Lp(function(){var de=g,be=bf(a),Ae=[];e:{var pe=um.get(e);if(pe!==void 0){var ye=Xl,Ge=e;switch(e){case"keypress":if(Wl(a)===0)break e;case"keydown":case"keyup":ye=wS;break;case"focusin":Ge="focus",ye=Af;break;case"focusout":Ge="blur",ye=Af;break;case"beforeblur":case"afterblur":ye=Af;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=jp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=oS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=ES;break;case am:case om:case lm:ye=uS;break;case cm:ye=AS;break;case"scroll":case"scrollend":ye=sS;break;case"wheel":ye=xS;break;case"copy":case"cut":case"paste":ye=dS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=Pp;break;case"toggle":case"beforetoggle":ye=OS}var tt=(r&4)!==0,jt=!tt&&(e==="scroll"||e==="scrollend"),le=tt?pe!==null?pe+"Capture":null:pe;tt=[];for(var ne=de,fe;ne!==null;){var Ee=ne;if(fe=Ee.stateNode,Ee=Ee.tag,Ee!==5&&Ee!==26&&Ee!==27||fe===null||le===null||(Ee=To(ne,le),Ee!=null&&tt.push(al(ne,Ee,fe))),jt)break;ne=ne.return}0<tt.length&&(pe=new ye(pe,Ge,null,a,be),Ae.push({event:pe,listeners:tt}))}}if((r&7)===0){e:{if(pe=e==="mouseover"||e==="pointerover",ye=e==="mouseout"||e==="pointerout",pe&&a!==gf&&(Ge=a.relatedTarget||a.fromElement)&&(Br(Ge)||Ge[Qr]))break e;if((ye||pe)&&(pe=be.window===be?be:(pe=be.ownerDocument)?pe.defaultView||pe.parentWindow:window,ye?(Ge=a.relatedTarget||a.toElement,ye=de,Ge=Ge?Br(Ge):null,Ge!==null&&(jt=l(Ge),tt=Ge.tag,Ge!==jt||tt!==5&&tt!==27&&tt!==6)&&(Ge=null)):(ye=null,Ge=de),ye!==Ge)){if(tt=jp,Ee="onMouseLeave",le="onMouseEnter",ne="mouse",(e==="pointerout"||e==="pointerover")&&(tt=Pp,Ee="onPointerLeave",le="onPointerEnter",ne="pointer"),jt=ye==null?pe:ei(ye),fe=Ge==null?pe:ei(Ge),pe=new tt(Ee,ne+"leave",ye,a,be),pe.target=jt,pe.relatedTarget=fe,Ee=null,Br(be)===de&&(tt=new tt(le,ne+"enter",Ge,a,be),tt.target=fe,tt.relatedTarget=jt,Ee=tt),jt=Ee,ye&&Ge)t:{for(tt=TA,le=ye,ne=Ge,fe=0,Ee=le;Ee;Ee=tt(Ee))fe++;Ee=0;for(var Qe=ne;Qe;Qe=tt(Qe))Ee++;for(;0<fe-Ee;)le=tt(le),fe--;for(;0<Ee-fe;)ne=tt(ne),Ee--;for(;fe--;){if(le===ne||ne!==null&&le===ne.alternate){tt=le;break t}le=tt(le),ne=tt(ne)}tt=null}else tt=null;ye!==null&&Cy(Ae,pe,ye,tt,!1),Ge!==null&&jt!==null&&Cy(Ae,jt,Ge,tt,!0)}}e:{if(pe=de?ei(de):window,ye=pe.nodeName&&pe.nodeName.toLowerCase(),ye==="select"||ye==="input"&&pe.type==="file")var St=Wp;else if(Yp(pe))if($p)St=zS;else{St=LS;var Fe=DS}else ye=pe.nodeName,!ye||ye.toLowerCase()!=="input"||pe.type!=="checkbox"&&pe.type!=="radio"?de&&yf(de.elementType)&&(St=Wp):St=US;if(St&&(St=St(e,de))){Zp(Ae,St,a,be);break e}Fe&&Fe(e,pe,de),e==="focusout"&&de&&pe.type==="number"&&de.memoizedProps.value!=null&&mf(pe,"number",pe.value)}switch(Fe=de?ei(de):window,e){case"focusin":(Yp(Fe)||Fe.contentEditable==="true")&&(va=Fe,kf=de,Do=null);break;case"focusout":Do=kf=va=null;break;case"mousedown":If=!0;break;case"contextmenu":case"mouseup":case"dragend":If=!1,im(Ae,a,be);break;case"selectionchange":if(HS)break;case"keydown":case"keyup":im(Ae,a,be)}var it;if(xf)e:{switch(e){case"compositionstart":var mt="onCompositionStart";break e;case"compositionend":mt="onCompositionEnd";break e;case"compositionupdate":mt="onCompositionUpdate";break e}mt=void 0}else _a?Vp(e,a)&&(mt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(mt="onCompositionStart");mt&&(qp&&a.locale!=="ko"&&(_a||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&_a&&(it=Up()):(Ui=be,vf="value"in Ui?Ui.value:Ui.textContent,_a=!0)),Fe=Pc(de,mt),0<Fe.length&&(mt=new Hp(mt,e,null,a,be),Ae.push({event:mt,listeners:Fe}),it?mt.data=it:(it=Fp(a),it!==null&&(mt.data=it)))),(it=kS?IS(e,a):CS(e,a))&&(mt=Pc(de,"onBeforeInput"),0<mt.length&&(Fe=new Hp("onBeforeInput","beforeinput",null,a,be),Ae.push({event:Fe,listeners:mt}),Fe.data=it)),SA(Ae,e,de,a,be)}ky(Ae,r)})}function al(e,r,a){return{instance:e,listener:r,currentTarget:a}}function Pc(e,r){for(var a=r+"Capture",c=[];e!==null;){var p=e,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=To(e,a),p!=null&&c.unshift(al(e,p,g)),p=To(e,r),p!=null&&c.push(al(e,p,g))),e.tag===3)return c;e=e.return}return[]}function TA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Cy(e,r,a,c,p){for(var g=r._reactName,k=[];a!==null&&a!==c;){var q=a,J=q.alternate,de=q.stateNode;if(q=q.tag,J!==null&&J===c)break;q!==5&&q!==26&&q!==27||de===null||(J=de,p?(de=To(a,g),de!=null&&k.unshift(al(a,de,J))):p||(de=To(a,g),de!=null&&k.push(al(a,de,J)))),a=a.return}k.length!==0&&e.push({event:r,listeners:k})}var OA=/\r\n?/g,NA=/\u0000|\uFFFD/g;function By(e){return(typeof e=="string"?e:""+e).replace(OA,`
`).replace(NA,"")}function My(e,r){return r=By(r),By(e)===r}function zt(e,r,a,c,p,g){switch(a){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||ga(e,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&ga(e,""+c);break;case"className":Li(e,"class",c);break;case"tabIndex":Li(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Li(e,a,c);break;case"style":Mp(e,c,g);break;case"data":if(r!=="object"){Li(e,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||a!=="href")){e.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(a);break}c=Yl(""+c),e.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(a==="formAction"?(r!=="input"&&zt(e,r,"name",p.name,p,null),zt(e,r,"formEncType",p.formEncType,p,null),zt(e,r,"formMethod",p.formMethod,p,null),zt(e,r,"formTarget",p.formTarget,p,null)):(zt(e,r,"encType",p.encType,p,null),zt(e,r,"method",p.method,p,null),zt(e,r,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(a);break}c=Yl(""+c),e.setAttribute(a,c);break;case"onClick":c!=null&&(e.onclick=ni);break;case"onScroll":c!=null&&ft("scroll",e);break;case"onScrollEnd":c!=null&&ft("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(a=c.__html,a!=null){if(p.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}a=Yl(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(a,""+c):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":c===!0?e.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(a,c):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(a,c):e.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(a):e.setAttribute(a,c);break;case"popover":ft("beforetoggle",e),ft("toggle",e),Di(e,"popover",c);break;case"xlinkActuate":ti(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":ti(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":ti(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":ti(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":ti(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":ti(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":ti(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":ti(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":ti(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Di(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=rS.get(a)||a,Di(e,a,c))}}function nh(e,r,a,c,p,g){switch(a){case"style":Mp(e,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(a=c.__html,a!=null){if(p.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"children":typeof c=="string"?ga(e,c):(typeof c=="number"||typeof c=="bigint")&&ga(e,""+c);break;case"onScroll":c!=null&&ft("scroll",e);break;case"onScrollEnd":c!=null&&ft("scrollend",e);break;case"onClick":c!=null&&(e.onclick=ni);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ha.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(p=a.endsWith("Capture"),r=a.slice(2,p?a.length-7:void 0),g=e[yt]||null,g=g!=null?g[a]:null,typeof g=="function"&&e.removeEventListener(r,g,p),typeof c=="function")){typeof g!="function"&&g!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(r,c,p);break e}a in e?e[a]=c:c===!0?e.setAttribute(a,""):Di(e,a,c)}}}function kn(e,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ft("error",e),ft("load",e);var c=!1,p=!1,g;for(g in a)if(a.hasOwnProperty(g)){var k=a[g];if(k!=null)switch(g){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:zt(e,r,g,k,a,null)}}p&&zt(e,r,"srcSet",a.srcSet,a,null),c&&zt(e,r,"src",a.src,a,null);return;case"input":ft("invalid",e);var q=g=k=p=null,J=null,de=null;for(c in a)if(a.hasOwnProperty(c)){var be=a[c];if(be!=null)switch(c){case"name":p=be;break;case"type":k=be;break;case"checked":J=be;break;case"defaultChecked":de=be;break;case"value":g=be;break;case"defaultValue":q=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(i(137,r));break;default:zt(e,r,c,be,a,null)}}kp(e,g,q,J,de,k,p,!1);return;case"select":ft("invalid",e),c=k=g=null;for(p in a)if(a.hasOwnProperty(p)&&(q=a[p],q!=null))switch(p){case"value":g=q;break;case"defaultValue":k=q;break;case"multiple":c=q;default:zt(e,r,p,q,a,null)}r=g,a=k,e.multiple=!!c,r!=null?ya(e,!!c,r,!1):a!=null&&ya(e,!!c,a,!0);return;case"textarea":ft("invalid",e),g=p=c=null;for(k in a)if(a.hasOwnProperty(k)&&(q=a[k],q!=null))switch(k){case"value":c=q;break;case"defaultValue":p=q;break;case"children":g=q;break;case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(91));break;default:zt(e,r,k,q,a,null)}Cp(e,c,p,g);return;case"option":for(J in a)a.hasOwnProperty(J)&&(c=a[J],c!=null)&&(J==="selected"?e.selected=c&&typeof c!="function"&&typeof c!="symbol":zt(e,r,J,c,a,null));return;case"dialog":ft("beforetoggle",e),ft("toggle",e),ft("cancel",e),ft("close",e);break;case"iframe":case"object":ft("load",e);break;case"video":case"audio":for(c=0;c<sl.length;c++)ft(sl[c],e);break;case"image":ft("error",e),ft("load",e);break;case"details":ft("toggle",e);break;case"embed":case"source":case"link":ft("error",e),ft("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(de in a)if(a.hasOwnProperty(de)&&(c=a[de],c!=null))switch(de){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:zt(e,r,de,c,a,null)}return;default:if(yf(r)){for(be in a)a.hasOwnProperty(be)&&(c=a[be],c!==void 0&&nh(e,r,be,c,a,void 0));return}}for(q in a)a.hasOwnProperty(q)&&(c=a[q],c!=null&&zt(e,r,q,c,a,null))}function kA(e,r,a,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,k=null,q=null,J=null,de=null,be=null;for(ye in a){var Ae=a[ye];if(a.hasOwnProperty(ye)&&Ae!=null)switch(ye){case"checked":break;case"value":break;case"defaultValue":J=Ae;default:c.hasOwnProperty(ye)||zt(e,r,ye,null,c,Ae)}}for(var pe in c){var ye=c[pe];if(Ae=a[pe],c.hasOwnProperty(pe)&&(ye!=null||Ae!=null))switch(pe){case"type":g=ye;break;case"name":p=ye;break;case"checked":de=ye;break;case"defaultChecked":be=ye;break;case"value":k=ye;break;case"defaultValue":q=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(i(137,r));break;default:ye!==Ae&&zt(e,r,pe,ye,c,Ae)}}pf(e,k,q,J,de,be,g,p);return;case"select":ye=k=q=pe=null;for(g in a)if(J=a[g],a.hasOwnProperty(g)&&J!=null)switch(g){case"value":break;case"multiple":ye=J;default:c.hasOwnProperty(g)||zt(e,r,g,null,c,J)}for(p in c)if(g=c[p],J=a[p],c.hasOwnProperty(p)&&(g!=null||J!=null))switch(p){case"value":pe=g;break;case"defaultValue":q=g;break;case"multiple":k=g;default:g!==J&&zt(e,r,p,g,c,J)}r=q,a=k,c=ye,pe!=null?ya(e,!!a,pe,!1):!!c!=!!a&&(r!=null?ya(e,!!a,r,!0):ya(e,!!a,a?[]:"",!1));return;case"textarea":ye=pe=null;for(q in a)if(p=a[q],a.hasOwnProperty(q)&&p!=null&&!c.hasOwnProperty(q))switch(q){case"value":break;case"children":break;default:zt(e,r,q,null,c,p)}for(k in c)if(p=c[k],g=a[k],c.hasOwnProperty(k)&&(p!=null||g!=null))switch(k){case"value":pe=p;break;case"defaultValue":ye=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==g&&zt(e,r,k,p,c,g)}Ip(e,pe,ye);return;case"option":for(var Ge in a)pe=a[Ge],a.hasOwnProperty(Ge)&&pe!=null&&!c.hasOwnProperty(Ge)&&(Ge==="selected"?e.selected=!1:zt(e,r,Ge,null,c,pe));for(J in c)pe=c[J],ye=a[J],c.hasOwnProperty(J)&&pe!==ye&&(pe!=null||ye!=null)&&(J==="selected"?e.selected=pe&&typeof pe!="function"&&typeof pe!="symbol":zt(e,r,J,pe,c,ye));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var tt in a)pe=a[tt],a.hasOwnProperty(tt)&&pe!=null&&!c.hasOwnProperty(tt)&&zt(e,r,tt,null,c,pe);for(de in c)if(pe=c[de],ye=a[de],c.hasOwnProperty(de)&&pe!==ye&&(pe!=null||ye!=null))switch(de){case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(i(137,r));break;default:zt(e,r,de,pe,c,ye)}return;default:if(yf(r)){for(var jt in a)pe=a[jt],a.hasOwnProperty(jt)&&pe!==void 0&&!c.hasOwnProperty(jt)&&nh(e,r,jt,void 0,c,pe);for(be in c)pe=c[be],ye=a[be],!c.hasOwnProperty(be)||pe===ye||pe===void 0&&ye===void 0||nh(e,r,be,pe,c,ye);return}}for(var le in a)pe=a[le],a.hasOwnProperty(le)&&pe!=null&&!c.hasOwnProperty(le)&&zt(e,r,le,null,c,pe);for(Ae in c)pe=c[Ae],ye=a[Ae],!c.hasOwnProperty(Ae)||pe===ye||pe==null&&ye==null||zt(e,r,Ae,pe,c,ye)}function Dy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function IA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,r=0,a=performance.getEntriesByType("resource"),c=0;c<a.length;c++){var p=a[c],g=p.transferSize,k=p.initiatorType,q=p.duration;if(g&&q&&Dy(k)){for(k=0,q=p.responseEnd,c+=1;c<a.length;c++){var J=a[c],de=J.startTime;if(de>q)break;var be=J.transferSize,Ae=J.initiatorType;be&&Dy(Ae)&&(J=J.responseEnd,k+=be*(J<q?1:(q-de)/(J-de)))}if(--c,r+=8*(g+k)/(p.duration/1e3),e++,10<e)break}}if(0<e)return r/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var rh=null,ih=null;function qc(e){return e.nodeType===9?e:e.ownerDocument}function Ly(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Uy(e,r){if(e===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&r==="foreignObject"?0:e}function sh(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var ah=null;function CA(){var e=window.event;return e&&e.type==="popstate"?e===ah?!1:(ah=e,!0):(ah=null,!1)}var zy=typeof setTimeout=="function"?setTimeout:void 0,BA=typeof clearTimeout=="function"?clearTimeout:void 0,jy=typeof Promise=="function"?Promise:void 0,MA=typeof queueMicrotask=="function"?queueMicrotask:typeof jy<"u"?function(e){return jy.resolve(null).then(e).catch(DA)}:zy;function DA(e){setTimeout(function(){throw e})}function es(e){return e==="head"}function Hy(e,r){var a=r,c=0;do{var p=a.nextSibling;if(e.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"||a==="/&"){if(c===0){e.removeChild(p),Za(r);return}c--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")c++;else if(a==="html")ol(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,ol(a);for(var g=a.firstChild;g;){var k=g.nextSibling,q=g.nodeName;g[Jr]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&g.rel.toLowerCase()==="stylesheet"||a.removeChild(g),g=k}}else a==="body"&&ol(e.ownerDocument.body);a=p}while(a);Za(r)}function Py(e,r){var a=e;e=0;do{var c=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=c}while(a)}function oh(e){var r=e.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":oh(a),As(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function LA(e,r,a,c){for(;e.nodeType===1;){var p=a;if(e.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[Jr])switch(r){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==p.rel||e.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||e.getAttribute("title")!==(p.title==null?null:p.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(p.src==null?null:p.src)||e.getAttribute("type")!==(p.type==null?null:p.type)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(r==="input"&&e.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=_r(e.nextSibling),e===null)break}return null}function UA(e,r,a){if(r==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=_r(e.nextSibling),e===null))return null;return e}function qy(e,r){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=_r(e.nextSibling),e===null))return null;return e}function lh(e){return e.data==="$?"||e.data==="$~"}function ch(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function zA(e,r){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=r;else if(e.data!=="$?"||a.readyState!=="loading")r();else{var c=function(){r(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function _r(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return e}var uh=null;function Ky(e){e=e.nextSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(r===0)return _r(e.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}e=e.nextSibling}return null}function Gy(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return e;r--}else a!=="/$"&&a!=="/&"||r++}e=e.previousSibling}return null}function Vy(e,r,a){switch(r=qc(a),e){case"html":if(e=r.documentElement,!e)throw Error(i(452));return e;case"head":if(e=r.head,!e)throw Error(i(453));return e;case"body":if(e=r.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function ol(e){for(var r=e.attributes;r.length;)e.removeAttributeNode(r[0]);As(e)}var vr=new Map,Fy=new Set;function Kc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var bi=O.d;O.d={f:jA,r:HA,D:PA,C:qA,L:KA,m:GA,X:FA,S:VA,M:YA};function jA(){var e=bi.f(),r=Mc();return e||r}function HA(e){var r=Mr(e);r!==null&&r.tag===5&&r.type==="form"?c1(r):bi.r(e)}var Va=typeof document>"u"?null:document;function Yy(e,r,a){var c=Va;if(c&&typeof r=="string"&&r){var p=hr(r);p='link[rel="'+e+'"][href="'+p+'"]',typeof a=="string"&&(p+='[crossorigin="'+a+'"]'),Fy.has(p)||(Fy.add(p),e={rel:e,crossOrigin:a,href:r},c.querySelector(p)===null&&(r=c.createElement("link"),kn(r,"link",e),on(r),c.head.appendChild(r)))}}function PA(e){bi.D(e),Yy("dns-prefetch",e,null)}function qA(e,r){bi.C(e,r),Yy("preconnect",e,r)}function KA(e,r,a){bi.L(e,r,a);var c=Va;if(c&&e&&r){var p='link[rel="preload"][as="'+hr(r)+'"]';r==="image"&&a&&a.imageSrcSet?(p+='[imagesrcset="'+hr(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(p+='[imagesizes="'+hr(a.imageSizes)+'"]')):p+='[href="'+hr(e)+'"]';var g=p;switch(r){case"style":g=Fa(e);break;case"script":g=Ya(e)}vr.has(g)||(e=C({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:e,as:r},a),vr.set(g,e),c.querySelector(p)!==null||r==="style"&&c.querySelector(ll(g))||r==="script"&&c.querySelector(cl(g))||(r=c.createElement("link"),kn(r,"link",e),on(r),c.head.appendChild(r)))}}function GA(e,r){bi.m(e,r);var a=Va;if(a&&e){var c=r&&typeof r.as=="string"?r.as:"script",p='link[rel="modulepreload"][as="'+hr(c)+'"][href="'+hr(e)+'"]',g=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Ya(e)}if(!vr.has(g)&&(e=C({rel:"modulepreload",href:e},r),vr.set(g,e),a.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(cl(g)))return}c=a.createElement("link"),kn(c,"link",e),on(c),a.head.appendChild(c)}}}function VA(e,r,a){bi.S(e,r,a);var c=Va;if(c&&e){var p=Dr(c).hoistableStyles,g=Fa(e);r=r||"default";var k=p.get(g);if(!k){var q={loading:0,preload:null};if(k=c.querySelector(ll(g)))q.loading=5;else{e=C({rel:"stylesheet",href:e,"data-precedence":r},a),(a=vr.get(g))&&fh(e,a);var J=k=c.createElement("link");on(J),kn(J,"link",e),J._p=new Promise(function(de,be){J.onload=de,J.onerror=be}),J.addEventListener("load",function(){q.loading|=1}),J.addEventListener("error",function(){q.loading|=2}),q.loading|=4,Gc(k,r,c)}k={type:"stylesheet",instance:k,count:1,state:q},p.set(g,k)}}}function FA(e,r){bi.X(e,r);var a=Va;if(a&&e){var c=Dr(a).hoistableScripts,p=Ya(e),g=c.get(p);g||(g=a.querySelector(cl(p)),g||(e=C({src:e,async:!0},r),(r=vr.get(p))&&dh(e,r),g=a.createElement("script"),on(g),kn(g,"link",e),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function YA(e,r){bi.M(e,r);var a=Va;if(a&&e){var c=Dr(a).hoistableScripts,p=Ya(e),g=c.get(p);g||(g=a.querySelector(cl(p)),g||(e=C({src:e,async:!0,type:"module"},r),(r=vr.get(p))&&dh(e,r),g=a.createElement("script"),on(g),kn(g,"link",e),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function Zy(e,r,a,c){var p=(p=Z.current)?Kc(p):null;if(!p)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Fa(a.href),a=Dr(p).hoistableStyles,c=a.get(r),c||(c={type:"style",instance:null,count:0,state:null},a.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Fa(a.href);var g=Dr(p).hoistableStyles,k=g.get(e);if(k||(p=p.ownerDocument||p,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,k),(g=p.querySelector(ll(e)))&&!g._p&&(k.instance=g,k.state.loading=5),vr.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},vr.set(e,a),g||ZA(p,e,a,k.state))),r&&c===null)throw Error(i(528,""));return k}if(r&&c!==null)throw Error(i(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ya(a),a=Dr(p).hoistableScripts,c=a.get(r),c||(c={type:"script",instance:null,count:0,state:null},a.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Fa(e){return'href="'+hr(e)+'"'}function ll(e){return'link[rel="stylesheet"]['+e+"]"}function Wy(e){return C({},e,{"data-precedence":e.precedence,precedence:null})}function ZA(e,r,a,c){e.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=e.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),kn(r,"link",a),on(r),e.head.appendChild(r))}function Ya(e){return'[src="'+hr(e)+'"]'}function cl(e){return"script[async]"+e}function $y(e,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var c=e.querySelector('style[data-href~="'+hr(a.href)+'"]');if(c)return r.instance=c,on(c),c;var p=C({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),on(c),kn(c,"style",p),Gc(c,a.precedence,e),r.instance=c;case"stylesheet":p=Fa(a.href);var g=e.querySelector(ll(p));if(g)return r.state.loading|=4,r.instance=g,on(g),g;c=Wy(a),(p=vr.get(p))&&fh(c,p),g=(e.ownerDocument||e).createElement("link"),on(g);var k=g;return k._p=new Promise(function(q,J){k.onload=q,k.onerror=J}),kn(g,"link",c),r.state.loading|=4,Gc(g,a.precedence,e),r.instance=g;case"script":return g=Ya(a.src),(p=e.querySelector(cl(g)))?(r.instance=p,on(p),p):(c=a,(p=vr.get(g))&&(c=C({},a),dh(c,p)),e=e.ownerDocument||e,p=e.createElement("script"),on(p),kn(p,"link",c),e.head.appendChild(p),r.instance=p);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,Gc(c,a.precedence,e));return r.instance}function Gc(e,r,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,g=p,k=0;k<c.length;k++){var q=c[k];if(q.dataset.precedence===r)g=q;else if(g!==p)break}g?g.parentNode.insertBefore(e,g.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(e,r.firstChild))}function fh(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.title==null&&(e.title=r.title)}function dh(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.integrity==null&&(e.integrity=r.integrity)}var Vc=null;function Xy(e,r,a){if(Vc===null){var c=new Map,p=Vc=new Map;p.set(a,c)}else p=Vc,c=p.get(a),c||(c=new Map,p.set(a,c));if(c.has(e))return c;for(c.set(e,null),a=a.getElementsByTagName(e),p=0;p<a.length;p++){var g=a[p];if(!(g[Jr]||g[ct]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var k=g.getAttribute(r)||"";k=e+k;var q=c.get(k);q?q.push(g):c.set(k,[g])}}return c}function Qy(e,r,a){e=e.ownerDocument||e,e.head.insertBefore(a,r==="title"?e.querySelector("head > title"):null)}function WA(e,r,a){if(a===1||r.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(e=r.disabled,typeof r.precedence=="string"&&e==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Jy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function $A(e,r,a,c){if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var p=Fa(c.href),g=r.querySelector(ll(p));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(e.count++,e=Fc.bind(e),r.then(e,e)),a.state.loading|=4,a.instance=g,on(g);return}g=r.ownerDocument||r,c=Wy(c),(p=vr.get(p))&&fh(c,p),g=g.createElement("link"),on(g);var k=g;k._p=new Promise(function(q,J){k.onload=q,k.onerror=J}),kn(g,"link",c),a.instance=g}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Fc.bind(e),r.addEventListener("load",a),r.addEventListener("error",a))}}var hh=0;function XA(e,r){return e.stylesheets&&e.count===0&&Zc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var c=setTimeout(function(){if(e.stylesheets&&Zc(e,e.stylesheets),e.unsuspend){var g=e.unsuspend;e.unsuspend=null,g()}},6e4+r);0<e.imgBytes&&hh===0&&(hh=62500*IA());var p=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Zc(e,e.stylesheets),e.unsuspend)){var g=e.unsuspend;e.unsuspend=null,g()}},(e.imgBytes>hh?50:800)+r);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(c),clearTimeout(p)}}:null}function Fc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Yc=null;function Zc(e,r){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Yc=new Map,r.forEach(QA,e),Yc=null,Fc.call(e))}function QA(e,r){if(!(r.state.loading&4)){var a=Yc.get(e);if(a)var c=a.get(null);else{a=new Map,Yc.set(e,a);for(var p=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var k=p[g];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(a.set(k.dataset.precedence,k),c=k)}c&&a.set(null,c)}p=r.instance,k=p.getAttribute("data-precedence"),g=a.get(k)||c,g===c&&a.set(null,p),a.set(k,p),this.count++,c=Fc.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),g?g.parentNode.insertBefore(p,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(p,e.firstChild)),r.state.loading|=4}}var ul={$$typeof:G,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function JA(e,r,a,c,p,g,k,q,J){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ft(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ft(0),this.hiddenUpdates=Ft(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=J,this.incompleteTransitions=new Map}function eg(e,r,a,c,p,g,k,q,J,de,be,Ae){return e=new JA(e,r,a,k,J,de,be,Ae,q),r=1,g===!0&&(r|=24),g=Jn(3,null,null,r),e.current=g,g.stateNode=e,r=Ff(),r.refCount++,e.pooledCache=r,r.refCount++,g.memoizedState={element:c,isDehydrated:a,cache:r},$f(g),e}function tg(e){return e?(e=Aa,e):Aa}function ng(e,r,a,c,p,g){p=tg(p),c.context===null?c.context=p:c.pendingContext=p,c=Ki(r),c.payload={element:a},g=g===void 0?null:g,g!==null&&(c.callback=g),a=Gi(e,c,r),a!==null&&(Yn(a,e,r),qo(a,e,r))}function rg(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<r?a:r}}function ph(e,r){rg(e,r),(e=e.alternate)&&rg(e,r)}function ig(e){if(e.tag===13||e.tag===31){var r=Os(e,67108864);r!==null&&Yn(r,e,67108864),ph(e,67108864)}}function sg(e){if(e.tag===13||e.tag===31){var r=ir();r=Yt(r);var a=Os(e,r);a!==null&&Yn(a,e,r),ph(e,r)}}var Wc=!0;function eR(e,r,a,c){var p=A.T;A.T=null;var g=O.p;try{O.p=2,mh(e,r,a,c)}finally{O.p=g,A.T=p}}function tR(e,r,a,c){var p=A.T;A.T=null;var g=O.p;try{O.p=8,mh(e,r,a,c)}finally{O.p=g,A.T=p}}function mh(e,r,a,c){if(Wc){var p=yh(c);if(p===null)th(e,r,c,$c,a),og(e,c);else if(rR(p,e,r,a,c))c.stopPropagation();else if(og(e,c),r&4&&-1<nR.indexOf(e)){for(;p!==null;){var g=Mr(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var k=fr(g.pendingLanes);if(k!==0){var q=g;for(q.pendingLanes|=2,q.entangledLanes|=2;k;){var J=1<<31-Le(k);q.entanglements[1]|=J,k&=~J}Hr(g),(Tt&6)===0&&(Cc=Te()+500,il(0))}}break;case 31:case 13:q=Os(g,2),q!==null&&Yn(q,g,2),Mc(),ph(g,2)}if(g=yh(c),g===null&&th(e,r,c,$c,a),g===p)break;p=g}p!==null&&c.stopPropagation()}else th(e,r,c,null,a)}}function yh(e){return e=bf(e),gh(e)}var $c=null;function gh(e){if($c=null,e=Br(e),e!==null){var r=l(e);if(r===null)e=null;else{var a=r.tag;if(a===13){if(e=u(r),e!==null)return e;e=null}else if(a===31){if(e=f(r),e!==null)return e;e=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null)}}return $c=e,null}function ag(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ve()){case ze:return 2;case D:return 8;case v:case R:return 32;case V:return 268435456;default:return 32}default:return 32}}var bh=!1,ts=null,ns=null,rs=null,fl=new Map,dl=new Map,is=[],nR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function og(e,r){switch(e){case"focusin":case"focusout":ts=null;break;case"dragenter":case"dragleave":ns=null;break;case"mouseover":case"mouseout":rs=null;break;case"pointerover":case"pointerout":fl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":dl.delete(r.pointerId)}}function hl(e,r,a,c,p,g){return e===null||e.nativeEvent!==g?(e={blockedOn:r,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[p]},r!==null&&(r=Mr(r),r!==null&&ig(r)),e):(e.eventSystemFlags|=c,r=e.targetContainers,p!==null&&r.indexOf(p)===-1&&r.push(p),e)}function rR(e,r,a,c,p){switch(r){case"focusin":return ts=hl(ts,e,r,a,c,p),!0;case"dragenter":return ns=hl(ns,e,r,a,c,p),!0;case"mouseover":return rs=hl(rs,e,r,a,c,p),!0;case"pointerover":var g=p.pointerId;return fl.set(g,hl(fl.get(g)||null,e,r,a,c,p)),!0;case"gotpointercapture":return g=p.pointerId,dl.set(g,hl(dl.get(g)||null,e,r,a,c,p)),!0}return!1}function lg(e){var r=Br(e.target);if(r!==null){var a=l(r);if(a!==null){if(r=a.tag,r===13){if(r=u(a),r!==null){e.blockedOn=r,tn(e.priority,function(){sg(a)});return}}else if(r===31){if(r=f(a),r!==null){e.blockedOn=r,tn(e.priority,function(){sg(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xc(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var a=yh(e.nativeEvent);if(a===null){a=e.nativeEvent;var c=new a.constructor(a.type,a);gf=c,a.target.dispatchEvent(c),gf=null}else return r=Mr(a),r!==null&&ig(r),e.blockedOn=a,!1;r.shift()}return!0}function cg(e,r,a){Xc(e)&&a.delete(r)}function iR(){bh=!1,ts!==null&&Xc(ts)&&(ts=null),ns!==null&&Xc(ns)&&(ns=null),rs!==null&&Xc(rs)&&(rs=null),fl.forEach(cg),dl.forEach(cg)}function Qc(e,r){e.blockedOn===r&&(e.blockedOn=null,bh||(bh=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,iR)))}var Jc=null;function ug(e){Jc!==e&&(Jc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Jc===e&&(Jc=null);for(var r=0;r<e.length;r+=3){var a=e[r],c=e[r+1],p=e[r+2];if(typeof c!="function"){if(gh(c||a)===null)continue;break}var g=Mr(a);g!==null&&(e.splice(r,3),r-=3,yd(g,{pending:!0,data:p,method:a.method,action:c},c,p))}}))}function Za(e){function r(J){return Qc(J,e)}ts!==null&&Qc(ts,e),ns!==null&&Qc(ns,e),rs!==null&&Qc(rs,e),fl.forEach(r),dl.forEach(r);for(var a=0;a<is.length;a++){var c=is[a];c.blockedOn===e&&(c.blockedOn=null)}for(;0<is.length&&(a=is[0],a.blockedOn===null);)lg(a),a.blockedOn===null&&is.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var p=a[c],g=a[c+1],k=p[yt]||null;if(typeof g=="function")k||ug(a);else if(k){var q=null;if(g&&g.hasAttribute("formAction")){if(p=g,k=g[yt]||null)q=k.formAction;else if(gh(p)!==null)continue}else q=k.action;typeof q=="function"?a[c+1]=q:(a.splice(c,3),c-=3),ug(a)}}}function fg(){function e(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(k){return p=k})},focusReset:"manual",scroll:"manual"})}function r(){p!==null&&(p(),p=null),c||setTimeout(a,20)}function a(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,p=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){c=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),p!==null&&(p(),p=null)}}}function wh(e){this._internalRoot=e}eu.prototype.render=wh.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(i(409));var a=r.current,c=ir();ng(a,c,e,r,null,null)},eu.prototype.unmount=wh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;ng(e.current,2,null,e,null,null),Mc(),r[Qr]=null}};function eu(e){this._internalRoot=e}eu.prototype.unstable_scheduleHydration=function(e){if(e){var r=en();e={blockedOn:null,target:e,priority:r};for(var a=0;a<is.length&&r!==0&&r<is[a].priority;a++);is.splice(a,0,e),a===0&&lg(e)}};var dg=t.version;if(dg!=="19.2.3")throw Error(i(527,dg,"19.2.3"));O.findDOMNode=function(e){var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=w(r),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var sR={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tu.isDisabled&&tu.supportsFiber)try{re=tu.inject(sR),Ue=tu}catch{}}return yl.createRoot=function(e,r){if(!o(e))throw Error(i(299));var a=!1,c="",p=w1,g=_1,k=v1;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(k=r.onRecoverableError)),r=eg(e,1,!1,null,null,a,c,null,p,g,k,fg),e[Qr]=r.current,eh(e),new wh(r)},yl.hydrateRoot=function(e,r,a){if(!o(e))throw Error(i(299));var c=!1,p="",g=w1,k=_1,q=v1,J=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(k=a.onCaughtError),a.onRecoverableError!==void 0&&(q=a.onRecoverableError),a.formState!==void 0&&(J=a.formState)),r=eg(e,1,!0,r,a??null,c,p,J,g,k,q,fg),r.context=tg(null),a=r.current,c=ir(),c=Yt(c),p=Ki(c),p.callback=null,Gi(a,p,c),a=c,r.current.lanes=a,Mi(r,a),Hr(r),e[Qr]=r.current,eh(e),new eu(r)},yl.version="19.2.3",yl}var xg;function vR(){if(xg)return Ah.exports;xg=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Ah.exports=_R(),Ah.exports}var ER=vR();const SR=""+new URL("token_logo-Dt5qbkym.png",import.meta.url).href,Wa=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function Dl(s){return s instanceof Uint8Array||ArrayBuffer.isView(s)&&s.constructor.name==="Uint8Array"}function Tl(s){if(!Number.isSafeInteger(s)||s<0)throw new Error("positive integer expected, got "+s)}function ki(s,...t){if(!Dl(s))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(s.length))throw new Error("Uint8Array expected of length "+t+", got length="+s.length)}function gw(s){if(typeof s!="function"||typeof s.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Tl(s.outputLen),Tl(s.blockLen)}function uo(s,t=!0){if(s.destroyed)throw new Error("Hash instance has been destroyed");if(t&&s.finished)throw new Error("Hash#digest() has already been called")}function bw(s,t){ki(s);const n=t.outputLen;if(s.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function AR(s){return new Uint32Array(s.buffer,s.byteOffset,Math.floor(s.byteLength/4))}function _s(...s){for(let t=0;t<s.length;t++)s[t].fill(0)}function Oh(s){return new DataView(s.buffer,s.byteOffset,s.byteLength)}function Pr(s,t){return s<<32-t|s>>>t}const RR=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function xR(s){return s<<24&4278190080|s<<8&16711680|s>>>8&65280|s>>>24&255}function TR(s){for(let t=0;t<s.length;t++)s[t]=xR(s[t]);return s}const Tg=RR?s=>s:TR,ww=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",OR=Array.from({length:256},(s,t)=>t.toString(16).padStart(2,"0"));function Js(s){if(ki(s),ww)return s.toHex();let t="";for(let n=0;n<s.length;n++)t+=OR[s[n]];return t}const wi={_0:48,_9:57,A:65,F:70,a:97,f:102};function Og(s){if(s>=wi._0&&s<=wi._9)return s-wi._0;if(s>=wi.A&&s<=wi.F)return s-(wi.A-10);if(s>=wi.a&&s<=wi.f)return s-(wi.a-10)}function Nu(s){if(typeof s!="string")throw new Error("hex string expected, got "+typeof s);if(ww)return Uint8Array.fromHex(s);const t=s.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const i=new Uint8Array(n);for(let o=0,l=0;o<n;o++,l+=2){const u=Og(s.charCodeAt(l)),f=Og(s.charCodeAt(l+1));if(u===void 0||f===void 0){const y=s[l]+s[l+1];throw new Error('hex string expected, got non-hex character "'+y+'" at index '+l)}i[o]=u*16+f}return i}function NR(s){if(typeof s!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(s))}function Fu(s){return typeof s=="string"&&(s=NR(s)),ki(s),s}function Vr(...s){let t=0;for(let i=0;i<s.length;i++){const o=s[i];ki(o),t+=o.length}const n=new Uint8Array(t);for(let i=0,o=0;i<s.length;i++){const l=s[i];n.set(l,o),o+=l.length}return n}class q0{}function K0(s){const t=i=>s().update(Fu(i)).digest(),n=s();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>s(),t}function G0(s=32){if(Wa&&typeof Wa.getRandomValues=="function")return Wa.getRandomValues(new Uint8Array(s));if(Wa&&typeof Wa.randomBytes=="function")return Uint8Array.from(Wa.randomBytes(s));throw new Error("crypto.getRandomValues must be defined")}function kR(s,t,n,i){if(typeof s.setBigUint64=="function")return s.setBigUint64(t,n,i);const o=BigInt(32),l=BigInt(4294967295),u=Number(n>>o&l),f=Number(n&l),y=i?4:0,w=i?0:4;s.setUint32(t+y,u,i),s.setUint32(t+w,f,i)}function IR(s,t,n){return s&t^~s&n}function CR(s,t,n){return s&t^s&n^t&n}class _w extends q0{constructor(t,n,i,o){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=i,this.isLE=o,this.buffer=new Uint8Array(t),this.view=Oh(this.buffer)}update(t){uo(this),t=Fu(t),ki(t);const{view:n,buffer:i,blockLen:o}=this,l=t.length;for(let u=0;u<l;){const f=Math.min(o-this.pos,l-u);if(f===o){const y=Oh(t);for(;o<=l-u;u+=o)this.process(y,u);continue}i.set(t.subarray(u,u+f),this.pos),this.pos+=f,u+=f,this.pos===o&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){uo(this),bw(t,this),this.finished=!0;const{buffer:n,view:i,blockLen:o,isLE:l}=this;let{pos:u}=this;n[u++]=128,_s(this.buffer.subarray(u)),this.padOffset>o-u&&(this.process(i,0),u=0);for(let C=u;C<o;C++)n[C]=0;kR(i,o-8,BigInt(this.length*8),l),this.process(i,0);const f=Oh(t),y=this.outputLen;if(y%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const w=y/4,S=this.get();if(w>S.length)throw new Error("_sha2: outputLen bigger than state");for(let C=0;C<w;C++)f.setUint32(4*C,S[C],l)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const i=t.slice(0,n);return this.destroy(),i}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:i,length:o,finished:l,destroyed:u,pos:f}=this;return t.destroyed=u,t.finished=l,t.length=o,t.pos=f,o%n&&t.buffer.set(i),t}clone(){return this._cloneInto()}}const as=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Dn=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),ru=BigInt(2**32-1),Ng=BigInt(32);function BR(s,t=!1){return t?{h:Number(s&ru),l:Number(s>>Ng&ru)}:{h:Number(s>>Ng&ru)|0,l:Number(s&ru)|0}}function vw(s,t=!1){const n=s.length;let i=new Uint32Array(n),o=new Uint32Array(n);for(let l=0;l<n;l++){const{h:u,l:f}=BR(s[l],t);[i[l],o[l]]=[u,f]}return[i,o]}const kg=(s,t,n)=>s>>>n,Ig=(s,t,n)=>s<<32-n|t>>>n,$a=(s,t,n)=>s>>>n|t<<32-n,Xa=(s,t,n)=>s<<32-n|t>>>n,iu=(s,t,n)=>s<<64-n|t>>>n-32,su=(s,t,n)=>s>>>n-32|t<<64-n,MR=(s,t,n)=>s<<n|t>>>32-n,DR=(s,t,n)=>t<<n|s>>>32-n,LR=(s,t,n)=>t<<n-32|s>>>64-n,UR=(s,t,n)=>s<<n-32|t>>>64-n;function _i(s,t,n,i){const o=(t>>>0)+(i>>>0);return{h:s+n+(o/2**32|0)|0,l:o|0}}const zR=(s,t,n)=>(s>>>0)+(t>>>0)+(n>>>0),jR=(s,t,n,i)=>t+n+i+(s/2**32|0)|0,HR=(s,t,n,i)=>(s>>>0)+(t>>>0)+(n>>>0)+(i>>>0),PR=(s,t,n,i,o)=>t+n+i+o+(s/2**32|0)|0,qR=(s,t,n,i,o)=>(s>>>0)+(t>>>0)+(n>>>0)+(i>>>0)+(o>>>0),KR=(s,t,n,i,o,l)=>t+n+i+o+l+(s/2**32|0)|0,GR=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),os=new Uint32Array(64);class VR extends _w{constructor(t=32){super(64,t,8,!1),this.A=as[0]|0,this.B=as[1]|0,this.C=as[2]|0,this.D=as[3]|0,this.E=as[4]|0,this.F=as[5]|0,this.G=as[6]|0,this.H=as[7]|0}get(){const{A:t,B:n,C:i,D:o,E:l,F:u,G:f,H:y}=this;return[t,n,i,o,l,u,f,y]}set(t,n,i,o,l,u,f,y){this.A=t|0,this.B=n|0,this.C=i|0,this.D=o|0,this.E=l|0,this.F=u|0,this.G=f|0,this.H=y|0}process(t,n){for(let C=0;C<16;C++,n+=4)os[C]=t.getUint32(n,!1);for(let C=16;C<64;C++){const I=os[C-15],x=os[C-2],M=Pr(I,7)^Pr(I,18)^I>>>3,L=Pr(x,17)^Pr(x,19)^x>>>10;os[C]=L+os[C-7]+M+os[C-16]|0}let{A:i,B:o,C:l,D:u,E:f,F:y,G:w,H:S}=this;for(let C=0;C<64;C++){const I=Pr(f,6)^Pr(f,11)^Pr(f,25),x=S+I+IR(f,y,w)+GR[C]+os[C]|0,L=(Pr(i,2)^Pr(i,13)^Pr(i,22))+CR(i,o,l)|0;S=w,w=y,y=f,f=u+x|0,u=l,l=o,o=i,i=x+L|0}i=i+this.A|0,o=o+this.B|0,l=l+this.C|0,u=u+this.D|0,f=f+this.E|0,y=y+this.F|0,w=w+this.G|0,S=S+this.H|0,this.set(i,o,l,u,f,y,w,S)}roundClean(){_s(os)}destroy(){this.set(0,0,0,0,0,0,0,0),_s(this.buffer)}}const Ew=vw(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(s=>BigInt(s))),FR=Ew[0],YR=Ew[1],ls=new Uint32Array(80),cs=new Uint32Array(80);class ZR extends _w{constructor(t=64){super(128,t,16,!1),this.Ah=Dn[0]|0,this.Al=Dn[1]|0,this.Bh=Dn[2]|0,this.Bl=Dn[3]|0,this.Ch=Dn[4]|0,this.Cl=Dn[5]|0,this.Dh=Dn[6]|0,this.Dl=Dn[7]|0,this.Eh=Dn[8]|0,this.El=Dn[9]|0,this.Fh=Dn[10]|0,this.Fl=Dn[11]|0,this.Gh=Dn[12]|0,this.Gl=Dn[13]|0,this.Hh=Dn[14]|0,this.Hl=Dn[15]|0}get(){const{Ah:t,Al:n,Bh:i,Bl:o,Ch:l,Cl:u,Dh:f,Dl:y,Eh:w,El:S,Fh:C,Fl:I,Gh:x,Gl:M,Hh:L,Hl:z}=this;return[t,n,i,o,l,u,f,y,w,S,C,I,x,M,L,z]}set(t,n,i,o,l,u,f,y,w,S,C,I,x,M,L,z){this.Ah=t|0,this.Al=n|0,this.Bh=i|0,this.Bl=o|0,this.Ch=l|0,this.Cl=u|0,this.Dh=f|0,this.Dl=y|0,this.Eh=w|0,this.El=S|0,this.Fh=C|0,this.Fl=I|0,this.Gh=x|0,this.Gl=M|0,this.Hh=L|0,this.Hl=z|0}process(t,n){for(let G=0;G<16;G++,n+=4)ls[G]=t.getUint32(n),cs[G]=t.getUint32(n+=4);for(let G=16;G<80;G++){const X=ls[G-15]|0,te=cs[G-15]|0,ce=$a(X,te,1)^$a(X,te,8)^kg(X,te,7),se=Xa(X,te,1)^Xa(X,te,8)^Ig(X,te,7),oe=ls[G-2]|0,F=cs[G-2]|0,Y=$a(oe,F,19)^iu(oe,F,61)^kg(oe,F,6),$=Xa(oe,F,19)^su(oe,F,61)^Ig(oe,F,6),W=HR(se,$,cs[G-7],cs[G-16]),T=PR(W,ce,Y,ls[G-7],ls[G-16]);ls[G]=T|0,cs[G]=W|0}let{Ah:i,Al:o,Bh:l,Bl:u,Ch:f,Cl:y,Dh:w,Dl:S,Eh:C,El:I,Fh:x,Fl:M,Gh:L,Gl:z,Hh:P,Hl:K}=this;for(let G=0;G<80;G++){const X=$a(C,I,14)^$a(C,I,18)^iu(C,I,41),te=Xa(C,I,14)^Xa(C,I,18)^su(C,I,41),ce=C&x^~C&L,se=I&M^~I&z,oe=qR(K,te,se,YR[G],cs[G]),F=KR(oe,P,X,ce,FR[G],ls[G]),Y=oe|0,$=$a(i,o,28)^iu(i,o,34)^iu(i,o,39),W=Xa(i,o,28)^su(i,o,34)^su(i,o,39),T=i&l^i&f^l&f,h=o&u^o&y^u&y;P=L|0,K=z|0,L=x|0,z=M|0,x=C|0,M=I|0,{h:C,l:I}=_i(w|0,S|0,F|0,Y|0),w=f|0,S=y|0,f=l|0,y=u|0,l=i|0,u=o|0;const _=zR(Y,W,h);i=jR(_,F,$,T),o=_|0}({h:i,l:o}=_i(this.Ah|0,this.Al|0,i|0,o|0)),{h:l,l:u}=_i(this.Bh|0,this.Bl|0,l|0,u|0),{h:f,l:y}=_i(this.Ch|0,this.Cl|0,f|0,y|0),{h:w,l:S}=_i(this.Dh|0,this.Dl|0,w|0,S|0),{h:C,l:I}=_i(this.Eh|0,this.El|0,C|0,I|0),{h:x,l:M}=_i(this.Fh|0,this.Fl|0,x|0,M|0),{h:L,l:z}=_i(this.Gh|0,this.Gl|0,L|0,z|0),{h:P,l:K}=_i(this.Hh|0,this.Hl|0,P|0,K|0),this.set(i,o,l,u,f,y,w,S,C,I,x,M,L,z,P,K)}roundClean(){_s(ls,cs)}destroy(){_s(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Sw=K0(()=>new VR),WR=K0(()=>new ZR);const V0=BigInt(0),b0=BigInt(1);function ea(s,t=""){if(typeof s!="boolean"){const n=t&&`"${t}"`;throw new Error(n+"expected boolean, got type="+typeof s)}return s}function kr(s,t,n=""){const i=Dl(s),o=s?.length,l=t!==void 0;if(!i||l&&o!==t){const u=n&&`"${n}" `,f=l?` of length ${t}`:"",y=i?`length=${o}`:`type=${typeof s}`;throw new Error(u+"expected Uint8Array"+f+", got "+y)}return s}function au(s){const t=s.toString(16);return t.length&1?"0"+t:t}function Aw(s){if(typeof s!="string")throw new Error("hex string expected, got "+typeof s);return s===""?V0:BigInt("0x"+s)}function Yu(s){return Aw(Js(s))}function Ol(s){return ki(s),Aw(Js(Uint8Array.from(s).reverse()))}function F0(s,t){return Nu(s.toString(16).padStart(t*2,"0"))}function Rw(s,t){return F0(s,t).reverse()}function fn(s,t,n){let i;if(typeof t=="string")try{i=Nu(t)}catch(l){throw new Error(s+" must be hex string or Uint8Array, cause: "+l)}else if(Dl(t))i=Uint8Array.from(t);else throw new Error(s+" must be hex string or Uint8Array");const o=i.length;if(typeof n=="number"&&o!==n)throw new Error(s+" of length "+n+" expected, got "+o);return i}function Cg(s){return Uint8Array.from(s)}const Nh=s=>typeof s=="bigint"&&V0<=s;function $R(s,t,n){return Nh(s)&&Nh(t)&&Nh(n)&&t<=s&&s<n}function w0(s,t,n,i){if(!$R(t,n,i))throw new Error("expected valid "+s+": "+n+" <= n < "+i+", got "+t)}function xw(s){let t;for(t=0;s>V0;s>>=b0,t+=1);return t}const Ll=s=>(b0<<BigInt(s))-b0;function XR(s,t,n){if(typeof s!="number"||s<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const i=x=>new Uint8Array(x),o=x=>Uint8Array.of(x);let l=i(s),u=i(s),f=0;const y=()=>{l.fill(1),u.fill(0),f=0},w=(...x)=>n(u,l,...x),S=(x=i(0))=>{u=w(o(0),x),l=w(),x.length!==0&&(u=w(o(1),x),l=w())},C=()=>{if(f++>=1e3)throw new Error("drbg: tried 1000 values");let x=0;const M=[];for(;x<t;){l=w();const L=l.slice();M.push(L),x+=l.length}return Vr(...M)};return(x,M)=>{y(),S(x);let L;for(;!(L=M(C()));)S();return y(),L}}function Ul(s,t,n={}){if(!s||typeof s!="object")throw new Error("expected valid options object");function i(o,l,u){const f=s[o];if(u&&f===void 0)return;const y=typeof f;if(y!==l||f===null)throw new Error(`param "${o}" is invalid: expected ${l}, got ${y}`)}Object.entries(t).forEach(([o,l])=>i(o,l,!1)),Object.entries(n).forEach(([o,l])=>i(o,l,!0))}function ku(s){const t=new WeakMap;return(n,...i)=>{const o=t.get(n);if(o!==void 0)return o;const l=s(n,...i);return t.set(n,l),l}}const $n=BigInt(0),Bn=BigInt(1),Ys=BigInt(2),Tw=BigInt(3),Ow=BigInt(4),Nw=BigInt(5),QR=BigInt(7),kw=BigInt(8),JR=BigInt(9),Iw=BigInt(16);function vn(s,t){const n=s%t;return n>=$n?n:t+n}function un(s,t,n){let i=s;for(;t-- >$n;)i*=i,i%=n;return i}function Bg(s,t){if(s===$n)throw new Error("invert: expected non-zero number");if(t<=$n)throw new Error("invert: expected positive modulus, got "+t);let n=vn(s,t),i=t,o=$n,l=Bn;for(;n!==$n;){const f=i/n,y=i%n,w=o-l*f;i=n,n=y,o=l,l=w}if(i!==Bn)throw new Error("invert: does not exist");return vn(o,t)}function Y0(s,t,n){if(!s.eql(s.sqr(t),n))throw new Error("Cannot find square root")}function Cw(s,t){const n=(s.ORDER+Bn)/Ow,i=s.pow(t,n);return Y0(s,i,t),i}function e2(s,t){const n=(s.ORDER-Nw)/kw,i=s.mul(t,Ys),o=s.pow(i,n),l=s.mul(t,o),u=s.mul(s.mul(l,Ys),o),f=s.mul(l,s.sub(u,s.ONE));return Y0(s,f,t),f}function t2(s){const t=ia(s),n=Bw(s),i=n(t,t.neg(t.ONE)),o=n(t,i),l=n(t,t.neg(i)),u=(s+QR)/Iw;return(f,y)=>{let w=f.pow(y,u),S=f.mul(w,i);const C=f.mul(w,o),I=f.mul(w,l),x=f.eql(f.sqr(S),y),M=f.eql(f.sqr(C),y);w=f.cmov(w,S,x),S=f.cmov(I,C,M);const L=f.eql(f.sqr(S),y),z=f.cmov(w,S,L);return Y0(f,z,y),z}}function Bw(s){if(s<Tw)throw new Error("sqrt is not defined for small field");let t=s-Bn,n=0;for(;t%Ys===$n;)t/=Ys,n++;let i=Ys;const o=ia(s);for(;Mg(o,i)===1;)if(i++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Cw;let l=o.pow(i,t);const u=(t+Bn)/Ys;return function(y,w){if(y.is0(w))return w;if(Mg(y,w)!==1)throw new Error("Cannot find square root");let S=n,C=y.mul(y.ONE,l),I=y.pow(w,t),x=y.pow(w,u);for(;!y.eql(I,y.ONE);){if(y.is0(I))return y.ZERO;let M=1,L=y.sqr(I);for(;!y.eql(L,y.ONE);)if(M++,L=y.sqr(L),M===S)throw new Error("Cannot find square root");const z=Bn<<BigInt(S-M-1),P=y.pow(C,z);S=M,C=y.sqr(P),I=y.mul(I,C),x=y.mul(x,P)}return x}}function n2(s){return s%Ow===Tw?Cw:s%kw===Nw?e2:s%Iw===JR?t2(s):Bw(s)}const r2=(s,t)=>(vn(s,t)&Bn)===Bn,i2=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function s2(s){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=i2.reduce((i,o)=>(i[o]="function",i),t);return Ul(s,n),s}function a2(s,t,n){if(n<$n)throw new Error("invalid exponent, negatives unsupported");if(n===$n)return s.ONE;if(n===Bn)return t;let i=s.ONE,o=t;for(;n>$n;)n&Bn&&(i=s.mul(i,o)),o=s.sqr(o),n>>=Bn;return i}function Mw(s,t,n=!1){const i=new Array(t.length).fill(n?s.ZERO:void 0),o=t.reduce((u,f,y)=>s.is0(f)?u:(i[y]=u,s.mul(u,f)),s.ONE),l=s.inv(o);return t.reduceRight((u,f,y)=>s.is0(f)?u:(i[y]=s.mul(u,i[y]),s.mul(u,f)),l),i}function Mg(s,t){const n=(s.ORDER-Bn)/Ys,i=s.pow(t,n),o=s.eql(i,s.ONE),l=s.eql(i,s.ZERO),u=s.eql(i,s.neg(s.ONE));if(!o&&!l&&!u)throw new Error("invalid Legendre symbol result");return o?1:l?0:-1}function Dw(s,t){t!==void 0&&Tl(t);const n=t!==void 0?t:s.toString(2).length,i=Math.ceil(n/8);return{nBitLength:n,nByteLength:i}}function ia(s,t,n=!1,i={}){if(s<=$n)throw new Error("invalid field: expected ORDER > 0, got "+s);let o,l,u=!1,f;if(typeof t=="object"&&t!=null){if(i.sqrt||n)throw new Error("cannot specify opts in two arguments");const I=t;I.BITS&&(o=I.BITS),I.sqrt&&(l=I.sqrt),typeof I.isLE=="boolean"&&(n=I.isLE),typeof I.modFromBytes=="boolean"&&(u=I.modFromBytes),f=I.allowedLengths}else typeof t=="number"&&(o=t),i.sqrt&&(l=i.sqrt);const{nBitLength:y,nByteLength:w}=Dw(s,o);if(w>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let S;const C=Object.freeze({ORDER:s,isLE:n,BITS:y,BYTES:w,MASK:Ll(y),ZERO:$n,ONE:Bn,allowedLengths:f,create:I=>vn(I,s),isValid:I=>{if(typeof I!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof I);return $n<=I&&I<s},is0:I=>I===$n,isValidNot0:I=>!C.is0(I)&&C.isValid(I),isOdd:I=>(I&Bn)===Bn,neg:I=>vn(-I,s),eql:(I,x)=>I===x,sqr:I=>vn(I*I,s),add:(I,x)=>vn(I+x,s),sub:(I,x)=>vn(I-x,s),mul:(I,x)=>vn(I*x,s),pow:(I,x)=>a2(C,I,x),div:(I,x)=>vn(I*Bg(x,s),s),sqrN:I=>I*I,addN:(I,x)=>I+x,subN:(I,x)=>I-x,mulN:(I,x)=>I*x,inv:I=>Bg(I,s),sqrt:l||(I=>(S||(S=n2(s)),S(C,I))),toBytes:I=>n?Rw(I,w):F0(I,w),fromBytes:(I,x=!0)=>{if(f){if(!f.includes(I.length)||I.length>w)throw new Error("Field.fromBytes: expected "+f+" bytes, got "+I.length);const L=new Uint8Array(w);L.set(I,n?0:L.length-I.length),I=L}if(I.length!==w)throw new Error("Field.fromBytes: expected "+w+" bytes, got "+I.length);let M=n?Ol(I):Yu(I);if(u&&(M=vn(M,s)),!x&&!C.isValid(M))throw new Error("invalid field element: outside of range 0..ORDER");return M},invertBatch:I=>Mw(C,I),cmov:(I,x,M)=>M?x:I});return Object.freeze(C)}function Lw(s){if(typeof s!="bigint")throw new Error("field order must be bigint");const t=s.toString(2).length;return Math.ceil(t/8)}function Uw(s){const t=Lw(s);return t+Math.ceil(t/2)}function o2(s,t,n=!1){const i=s.length,o=Lw(t),l=Uw(t);if(i<16||i<l||i>1024)throw new Error("expected "+l+"-1024 bytes of input, got "+i);const u=n?Ol(s):Yu(s),f=vn(u,t-Bn)+Bn;return n?Rw(f,o):F0(f,o)}const fo=BigInt(0),Zs=BigInt(1);function Iu(s,t){const n=t.negate();return s?n:t}function Ws(s,t){const n=Mw(s.Fp,t.map(i=>i.Z));return t.map((i,o)=>s.fromAffine(i.toAffine(n[o])))}function zw(s,t){if(!Number.isSafeInteger(s)||s<=0||s>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+s)}function kh(s,t){zw(s,t);const n=Math.ceil(t/s)+1,i=2**(s-1),o=2**s,l=Ll(s),u=BigInt(s);return{windows:n,windowSize:i,mask:l,maxNumber:o,shiftBy:u}}function Dg(s,t,n){const{windowSize:i,mask:o,maxNumber:l,shiftBy:u}=n;let f=Number(s&o),y=s>>u;f>i&&(f-=l,y+=Zs);const w=t*i,S=w+Math.abs(f)-1,C=f===0,I=f<0,x=t%2!==0;return{nextN:y,offset:S,isZero:C,isNeg:I,isNegF:x,offsetF:w}}function l2(s,t){if(!Array.isArray(s))throw new Error("array expected");s.forEach((n,i)=>{if(!(n instanceof t))throw new Error("invalid point at index "+i)})}function c2(s,t){if(!Array.isArray(s))throw new Error("array of scalars expected");s.forEach((n,i)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+i)})}const Ih=new WeakMap,jw=new WeakMap;function Ch(s){return jw.get(s)||1}function Lg(s){if(s!==fo)throw new Error("invalid wNAF")}class Hw{constructor(t,n){this.BASE=t.BASE,this.ZERO=t.ZERO,this.Fn=t.Fn,this.bits=n}_unsafeLadder(t,n,i=this.ZERO){let o=t;for(;n>fo;)n&Zs&&(i=i.add(o)),o=o.double(),n>>=Zs;return i}precomputeWindow(t,n){const{windows:i,windowSize:o}=kh(n,this.bits),l=[];let u=t,f=u;for(let y=0;y<i;y++){f=u,l.push(f);for(let w=1;w<o;w++)f=f.add(u),l.push(f);u=f.double()}return l}wNAF(t,n,i){if(!this.Fn.isValid(i))throw new Error("invalid scalar");let o=this.ZERO,l=this.BASE;const u=kh(t,this.bits);for(let f=0;f<u.windows;f++){const{nextN:y,offset:w,isZero:S,isNeg:C,isNegF:I,offsetF:x}=Dg(i,f,u);i=y,S?l=l.add(Iu(I,n[x])):o=o.add(Iu(C,n[w]))}return Lg(i),{p:o,f:l}}wNAFUnsafe(t,n,i,o=this.ZERO){const l=kh(t,this.bits);for(let u=0;u<l.windows&&i!==fo;u++){const{nextN:f,offset:y,isZero:w,isNeg:S}=Dg(i,u,l);if(i=f,!w){const C=n[y];o=o.add(S?C.negate():C)}}return Lg(i),o}getPrecomputes(t,n,i){let o=Ih.get(n);return o||(o=this.precomputeWindow(n,t),t!==1&&(typeof i=="function"&&(o=i(o)),Ih.set(n,o))),o}cached(t,n,i){const o=Ch(t);return this.wNAF(o,this.getPrecomputes(o,t,i),n)}unsafe(t,n,i,o){const l=Ch(t);return l===1?this._unsafeLadder(t,n,o):this.wNAFUnsafe(l,this.getPrecomputes(l,t,i),n,o)}createCache(t,n){zw(n,this.bits),jw.set(t,n),Ih.delete(t)}hasCache(t){return Ch(t)!==1}}function u2(s,t,n,i){let o=t,l=s.ZERO,u=s.ZERO;for(;n>fo||i>fo;)n&Zs&&(l=l.add(o)),i&Zs&&(u=u.add(o)),o=o.double(),n>>=Zs,i>>=Zs;return{p1:l,p2:u}}function Pw(s,t,n,i){l2(n,s),c2(i,t);const o=n.length,l=i.length;if(o!==l)throw new Error("arrays of points and scalars must have equal length");const u=s.ZERO,f=xw(BigInt(o));let y=1;f>12?y=f-3:f>4?y=f-2:f>0&&(y=2);const w=Ll(y),S=new Array(Number(w)+1).fill(u),C=Math.floor((t.BITS-1)/y)*y;let I=u;for(let x=C;x>=0;x-=y){S.fill(u);for(let L=0;L<l;L++){const z=i[L],P=Number(z>>BigInt(x)&w);S[P]=S[P].add(n[L])}let M=u;for(let L=S.length-1,z=u;L>0;L--)z=z.add(S[L]),M=M.add(z);if(I=I.add(M),x!==0)for(let L=0;L<y;L++)I=I.double()}return I}function Ug(s,t,n){if(t){if(t.ORDER!==s)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return s2(t),t}else return ia(s,{isLE:n})}function qw(s,t,n={},i){if(i===void 0&&(i=s==="edwards"),!t||typeof t!="object")throw new Error(`expected valid ${s} CURVE object`);for(const y of["p","n","h"]){const w=t[y];if(!(typeof w=="bigint"&&w>fo))throw new Error(`CURVE.${y} must be positive bigint`)}const o=Ug(t.p,n.Fp,i),l=Ug(t.n,n.Fn,i),f=["Gx","Gy","a",s==="weierstrass"?"b":"d"];for(const y of f)if(!o.isValid(t[y]))throw new Error(`CURVE.${y} must be valid field element of CURVE.Fp`);return t=Object.freeze(Object.assign({},t)),{CURVE:t,Fp:o,Fn:l}}const us=BigInt(0),Rn=BigInt(1),Bh=BigInt(2),f2=BigInt(8);function d2(s,t,n,i){const o=s.sqr(n),l=s.sqr(i),u=s.add(s.mul(t.a,o),l),f=s.add(s.ONE,s.mul(t.d,s.mul(o,l)));return s.eql(u,f)}function h2(s,t={}){const n=qw("edwards",s,t,t.FpFnLE),{Fp:i,Fn:o}=n;let l=n.CURVE;const{h:u}=l;Ul(t,{},{uvRatio:"function"});const f=Bh<<BigInt(o.BYTES*8)-Rn,y=z=>i.create(z),w=t.uvRatio||((z,P)=>{try{return{isValid:!0,value:i.sqrt(i.div(z,P))}}catch{return{isValid:!1,value:us}}});if(!d2(i,l,l.Gx,l.Gy))throw new Error("bad curve params: generator point");function S(z,P,K=!1){const G=K?Rn:us;return w0("coordinate "+z,P,G,f),P}function C(z){if(!(z instanceof M))throw new Error("ExtendedPoint expected")}const I=ku((z,P)=>{const{X:K,Y:G,Z:X}=z,te=z.is0();P==null&&(P=te?f2:i.inv(X));const ce=y(K*P),se=y(G*P),oe=i.mul(X,P);if(te)return{x:us,y:Rn};if(oe!==Rn)throw new Error("invZ was invalid");return{x:ce,y:se}}),x=ku(z=>{const{a:P,d:K}=l;if(z.is0())throw new Error("bad point: ZERO");const{X:G,Y:X,Z:te,T:ce}=z,se=y(G*G),oe=y(X*X),F=y(te*te),Y=y(F*F),$=y(se*P),W=y(F*y($+oe)),T=y(Y+y(K*y(se*oe)));if(W!==T)throw new Error("bad point: equation left != right (1)");const h=y(G*X),_=y(te*ce);if(h!==_)throw new Error("bad point: equation left != right (2)");return!0});class M{constructor(P,K,G,X){this.X=S("x",P),this.Y=S("y",K),this.Z=S("z",G,!0),this.T=S("t",X),Object.freeze(this)}static CURVE(){return l}static fromAffine(P){if(P instanceof M)throw new Error("extended point not allowed");const{x:K,y:G}=P||{};return S("x",K),S("y",G),new M(K,G,Rn,y(K*G))}static fromBytes(P,K=!1){const G=i.BYTES,{a:X,d:te}=l;P=Cg(kr(P,G,"point")),ea(K,"zip215");const ce=Cg(P),se=P[G-1];ce[G-1]=se&-129;const oe=Ol(ce),F=K?f:i.ORDER;w0("point.y",oe,us,F);const Y=y(oe*oe),$=y(Y-Rn),W=y(te*Y-X);let{isValid:T,value:h}=w($,W);if(!T)throw new Error("bad point: invalid y coordinate");const _=(h&Rn)===Rn,A=(se&128)!==0;if(!K&&h===us&&A)throw new Error("bad point: x=0 and x_0=1");return A!==_&&(h=y(-h)),M.fromAffine({x:h,y:oe})}static fromHex(P,K=!1){return M.fromBytes(fn("point",P),K)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(P=8,K=!0){return L.createCache(this,P),K||this.multiply(Bh),this}assertValidity(){x(this)}equals(P){C(P);const{X:K,Y:G,Z:X}=this,{X:te,Y:ce,Z:se}=P,oe=y(K*se),F=y(te*X),Y=y(G*se),$=y(ce*X);return oe===F&&Y===$}is0(){return this.equals(M.ZERO)}negate(){return new M(y(-this.X),this.Y,this.Z,y(-this.T))}double(){const{a:P}=l,{X:K,Y:G,Z:X}=this,te=y(K*K),ce=y(G*G),se=y(Bh*y(X*X)),oe=y(P*te),F=K+G,Y=y(y(F*F)-te-ce),$=oe+ce,W=$-se,T=oe-ce,h=y(Y*W),_=y($*T),A=y(Y*T),O=y(W*$);return new M(h,_,O,A)}add(P){C(P);const{a:K,d:G}=l,{X,Y:te,Z:ce,T:se}=this,{X:oe,Y:F,Z:Y,T:$}=P,W=y(X*oe),T=y(te*F),h=y(se*G*$),_=y(ce*Y),A=y((X+te)*(oe+F)-W-T),O=_-h,H=_+h,B=y(T-K*W),E=y(A*O),m=y(H*B),d=y(A*B),b=y(O*H);return new M(E,m,b,d)}subtract(P){return this.add(P.negate())}multiply(P){if(!o.isValidNot0(P))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:K,f:G}=L.cached(this,P,X=>Ws(M,X));return Ws(M,[K,G])[0]}multiplyUnsafe(P,K=M.ZERO){if(!o.isValid(P))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return P===us?M.ZERO:this.is0()||P===Rn?this:L.unsafe(this,P,G=>Ws(M,G),K)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}isTorsionFree(){return L.unsafe(this,l.n).is0()}toAffine(P){return I(this,P)}clearCofactor(){return u===Rn?this:this.multiplyUnsafe(u)}toBytes(){const{x:P,y:K}=this.toAffine(),G=i.toBytes(K);return G[G.length-1]|=P&Rn?128:0,G}toHex(){return Js(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(P){return Ws(M,P)}static msm(P,K){return Pw(M,o,P,K)}_setWindowSize(P){this.precompute(P)}toRawBytes(){return this.toBytes()}}M.BASE=new M(l.Gx,l.Gy,Rn,y(l.Gx*l.Gy)),M.ZERO=new M(us,Rn,Rn,us),M.Fp=i,M.Fn=o;const L=new Hw(M,o.BITS);return M.BASE.precompute(8),M}function p2(s,t,n={}){if(typeof t!="function")throw new Error('"hash" function param is required');Ul(n,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:i}=n,{BASE:o,Fp:l,Fn:u}=s,f=n.randomBytes||G0,y=n.adjustScalarBytes||(F=>F),w=n.domain||((F,Y,$)=>{if(ea($,"phflag"),Y.length||$)throw new Error("Contexts/pre-hash are not supported");return F});function S(F){return u.create(Ol(F))}function C(F){const Y=G.secretKey;F=fn("private key",F,Y);const $=fn("hashed private key",t(F),2*Y),W=y($.slice(0,Y)),T=$.slice(Y,2*Y),h=S(W);return{head:W,prefix:T,scalar:h}}function I(F){const{head:Y,prefix:$,scalar:W}=C(F),T=o.multiply(W),h=T.toBytes();return{head:Y,prefix:$,scalar:W,point:T,pointBytes:h}}function x(F){return I(F).pointBytes}function M(F=Uint8Array.of(),...Y){const $=Vr(...Y);return S(t(w($,fn("context",F),!!i)))}function L(F,Y,$={}){F=fn("message",F),i&&(F=i(F));const{prefix:W,scalar:T,pointBytes:h}=I(Y),_=M($.context,W,F),A=o.multiply(_).toBytes(),O=M($.context,A,h,F),H=u.create(_+O*T);if(!u.isValid(H))throw new Error("sign failed: invalid s");const B=Vr(A,u.toBytes(H));return kr(B,G.signature,"result")}const z={zip215:!0};function P(F,Y,$,W=z){const{context:T,zip215:h}=W,_=G.signature;F=fn("signature",F,_),Y=fn("message",Y),$=fn("publicKey",$,G.publicKey),h!==void 0&&ea(h,"zip215"),i&&(Y=i(Y));const A=_/2,O=F.subarray(0,A),H=Ol(F.subarray(A,_));let B,E,m;try{B=s.fromBytes($,h),E=s.fromBytes(O,h),m=o.multiplyUnsafe(H)}catch{return!1}if(!h&&B.isSmallOrder())return!1;const d=M(T,E.toBytes(),B.toBytes(),Y);return E.add(B.multiplyUnsafe(d)).subtract(m).clearCofactor().is0()}const K=l.BYTES,G={secretKey:K,publicKey:K,signature:2*K,seed:K};function X(F=f(G.seed)){return kr(F,G.seed,"seed")}function te(F){const Y=oe.randomSecretKey(F);return{secretKey:Y,publicKey:x(Y)}}function ce(F){return Dl(F)&&F.length===u.BYTES}function se(F,Y){try{return!!s.fromBytes(F,Y)}catch{return!1}}const oe={getExtendedPublicKey:I,randomSecretKey:X,isValidSecretKey:ce,isValidPublicKey:se,toMontgomery(F){const{y:Y}=s.fromBytes(F),$=G.publicKey,W=$===32;if(!W&&$!==57)throw new Error("only defined for 25519 and 448");const T=W?l.div(Rn+Y,Rn-Y):l.div(Y-Rn,Y+Rn);return l.toBytes(T)},toMontgomerySecret(F){const Y=G.secretKey;kr(F,Y);const $=t(F.subarray(0,Y));return y($).subarray(0,Y)},randomPrivateKey:X,precompute(F=8,Y=s.BASE){return Y.precompute(F,!1)}};return Object.freeze({keygen:te,getPublicKey:x,sign:L,verify:P,utils:oe,Point:s,lengths:G})}function m2(s){const t={a:s.a,d:s.d,p:s.Fp.ORDER,n:s.n,h:s.h,Gx:s.Gx,Gy:s.Gy},n=s.Fp,i=ia(t.n,s.nBitLength,!0),o={Fp:n,Fn:i,uvRatio:s.uvRatio},l={randomBytes:s.randomBytes,adjustScalarBytes:s.adjustScalarBytes,domain:s.domain,prehash:s.prehash,mapToCurve:s.mapToCurve};return{CURVE:t,curveOpts:o,hash:s.hash,eddsaOpts:l}}function y2(s,t){const n=t.Point;return Object.assign({},t,{ExtendedPoint:n,CURVE:s,nBitLength:n.Fn.BITS,nByteLength:n.Fn.BYTES})}function g2(s){const{CURVE:t,curveOpts:n,hash:i,eddsaOpts:o}=m2(s),l=h2(t,n),u=p2(l,i,o);return y2(s,u)}const b2=BigInt(1),zg=BigInt(2);BigInt(3);const w2=BigInt(5),_2=BigInt(8),Z0=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),Kw={p:Z0,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:_2,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function v2(s){const t=BigInt(10),n=BigInt(20),i=BigInt(40),o=BigInt(80),l=Z0,f=s*s%l*s%l,y=un(f,zg,l)*f%l,w=un(y,b2,l)*s%l,S=un(w,w2,l)*w%l,C=un(S,t,l)*S%l,I=un(C,n,l)*C%l,x=un(I,i,l)*I%l,M=un(x,o,l)*x%l,L=un(M,o,l)*x%l,z=un(L,t,l)*S%l;return{pow_p_5_8:un(z,zg,l)*s%l,b2:f}}function E2(s){return s[0]&=248,s[31]&=127,s[31]|=64,s}const jg=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function S2(s,t){const n=Z0,i=vn(t*t*t,n),o=vn(i*i*t,n),l=v2(s*o).pow_p_5_8;let u=vn(s*i*l,n);const f=vn(t*u*u,n),y=u,w=vn(u*jg,n),S=f===s,C=f===vn(-s,n),I=f===vn(-s*jg,n);return S&&(u=y),(C||I)&&(u=w),r2(u,n)&&(u=vn(-u,n)),{isValid:S||C,value:u}}const A2=ia(Kw.p,{isLE:!0}),R2={...Kw,Fp:A2,hash:WR,adjustScalarBytes:E2,uvRatio:S2},bo=g2(R2);var Au={exports:{}};const x2={},T2=Object.freeze(Object.defineProperty({__proto__:null,default:x2},Symbol.toStringTag,{value:"Module"})),O2=Vu(T2);var N2=Au.exports,Hg;function W0(){return Hg||(Hg=1,(function(s){(function(t,n){function i(T,h){if(!T)throw new Error(h||"Assertion failed")}function o(T,h){T.super_=h;var _=function(){};_.prototype=h.prototype,T.prototype=new _,T.prototype.constructor=T}function l(T,h,_){if(l.isBN(T))return T;this.negative=0,this.words=null,this.length=0,this.red=null,T!==null&&((h==="le"||h==="be")&&(_=h,h=10),this._init(T||0,h||10,_||"be"))}typeof t=="object"?t.exports=l:n.BN=l,l.BN=l,l.wordSize=26;var u;try{typeof window<"u"&&typeof window.Buffer<"u"?u=window.Buffer:u=O2.Buffer}catch{}l.isBN=function(h){return h instanceof l?!0:h!==null&&typeof h=="object"&&h.constructor.wordSize===l.wordSize&&Array.isArray(h.words)},l.max=function(h,_){return h.cmp(_)>0?h:_},l.min=function(h,_){return h.cmp(_)<0?h:_},l.prototype._init=function(h,_,A){if(typeof h=="number")return this._initNumber(h,_,A);if(typeof h=="object")return this._initArray(h,_,A);_==="hex"&&(_=16),i(_===(_|0)&&_>=2&&_<=36),h=h.toString().replace(/\s+/g,"");var O=0;h[0]==="-"&&(O++,this.negative=1),O<h.length&&(_===16?this._parseHex(h,O,A):(this._parseBase(h,_,O),A==="le"&&this._initArray(this.toArray(),_,A)))},l.prototype._initNumber=function(h,_,A){h<0&&(this.negative=1,h=-h),h<67108864?(this.words=[h&67108863],this.length=1):h<4503599627370496?(this.words=[h&67108863,h/67108864&67108863],this.length=2):(i(h<9007199254740992),this.words=[h&67108863,h/67108864&67108863,1],this.length=3),A==="le"&&this._initArray(this.toArray(),_,A)},l.prototype._initArray=function(h,_,A){if(i(typeof h.length=="number"),h.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(h.length/3),this.words=new Array(this.length);for(var O=0;O<this.length;O++)this.words[O]=0;var H,B,E=0;if(A==="be")for(O=h.length-1,H=0;O>=0;O-=3)B=h[O]|h[O-1]<<8|h[O-2]<<16,this.words[H]|=B<<E&67108863,this.words[H+1]=B>>>26-E&67108863,E+=24,E>=26&&(E-=26,H++);else if(A==="le")for(O=0,H=0;O<h.length;O+=3)B=h[O]|h[O+1]<<8|h[O+2]<<16,this.words[H]|=B<<E&67108863,this.words[H+1]=B>>>26-E&67108863,E+=24,E>=26&&(E-=26,H++);return this._strip()};function f(T,h){var _=T.charCodeAt(h);if(_>=48&&_<=57)return _-48;if(_>=65&&_<=70)return _-55;if(_>=97&&_<=102)return _-87;i(!1,"Invalid character in "+T)}function y(T,h,_){var A=f(T,_);return _-1>=h&&(A|=f(T,_-1)<<4),A}l.prototype._parseHex=function(h,_,A){this.length=Math.ceil((h.length-_)/6),this.words=new Array(this.length);for(var O=0;O<this.length;O++)this.words[O]=0;var H=0,B=0,E;if(A==="be")for(O=h.length-1;O>=_;O-=2)E=y(h,_,O)<<H,this.words[B]|=E&67108863,H>=18?(H-=18,B+=1,this.words[B]|=E>>>26):H+=8;else{var m=h.length-_;for(O=m%2===0?_+1:_;O<h.length;O+=2)E=y(h,_,O)<<H,this.words[B]|=E&67108863,H>=18?(H-=18,B+=1,this.words[B]|=E>>>26):H+=8}this._strip()};function w(T,h,_,A){for(var O=0,H=0,B=Math.min(T.length,_),E=h;E<B;E++){var m=T.charCodeAt(E)-48;O*=A,m>=49?H=m-49+10:m>=17?H=m-17+10:H=m,i(m>=0&&H<A,"Invalid character"),O+=H}return O}l.prototype._parseBase=function(h,_,A){this.words=[0],this.length=1;for(var O=0,H=1;H<=67108863;H*=_)O++;O--,H=H/_|0;for(var B=h.length-A,E=B%O,m=Math.min(B,B-E)+A,d=0,b=A;b<m;b+=O)d=w(h,b,b+O,_),this.imuln(H),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(E!==0){var N=1;for(d=w(h,b,h.length,_),b=0;b<E;b++)N*=_;this.imuln(N),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this._strip()},l.prototype.copy=function(h){h.words=new Array(this.length);for(var _=0;_<this.length;_++)h.words[_]=this.words[_];h.length=this.length,h.negative=this.negative,h.red=this.red};function S(T,h){T.words=h.words,T.length=h.length,T.negative=h.negative,T.red=h.red}if(l.prototype._move=function(h){S(h,this)},l.prototype.clone=function(){var h=new l(null);return this.copy(h),h},l.prototype._expand=function(h){for(;this.length<h;)this.words[this.length++]=0;return this},l.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},l.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{l.prototype[Symbol.for("nodejs.util.inspect.custom")]=C}catch{l.prototype.inspect=C}else l.prototype.inspect=C;function C(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var I=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],x=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];l.prototype.toString=function(h,_){h=h||10,_=_|0||1;var A;if(h===16||h==="hex"){A="";for(var O=0,H=0,B=0;B<this.length;B++){var E=this.words[B],m=((E<<O|H)&16777215).toString(16);H=E>>>24-O&16777215,O+=2,O>=26&&(O-=26,B--),H!==0||B!==this.length-1?A=I[6-m.length]+m+A:A=m+A}for(H!==0&&(A=H.toString(16)+A);A.length%_!==0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}if(h===(h|0)&&h>=2&&h<=36){var d=x[h],b=M[h];A="";var N=this.clone();for(N.negative=0;!N.isZero();){var U=N.modrn(b).toString(h);N=N.idivn(b),N.isZero()?A=U+A:A=I[d-U.length]+U+A}for(this.isZero()&&(A="0"+A);A.length%_!==0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}i(!1,"Base should be between 2 and 36")},l.prototype.toNumber=function(){var h=this.words[0];return this.length===2?h+=this.words[1]*67108864:this.length===3&&this.words[2]===1?h+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-h:h},l.prototype.toJSON=function(){return this.toString(16,2)},u&&(l.prototype.toBuffer=function(h,_){return this.toArrayLike(u,h,_)}),l.prototype.toArray=function(h,_){return this.toArrayLike(Array,h,_)};var L=function(h,_){return h.allocUnsafe?h.allocUnsafe(_):new h(_)};l.prototype.toArrayLike=function(h,_,A){this._strip();var O=this.byteLength(),H=A||Math.max(1,O);i(O<=H,"byte array longer than desired length"),i(H>0,"Requested array length <= 0");var B=L(h,H),E=_==="le"?"LE":"BE";return this["_toArrayLike"+E](B,O),B},l.prototype._toArrayLikeLE=function(h,_){for(var A=0,O=0,H=0,B=0;H<this.length;H++){var E=this.words[H]<<B|O;h[A++]=E&255,A<h.length&&(h[A++]=E>>8&255),A<h.length&&(h[A++]=E>>16&255),B===6?(A<h.length&&(h[A++]=E>>24&255),O=0,B=0):(O=E>>>24,B+=2)}if(A<h.length)for(h[A++]=O;A<h.length;)h[A++]=0},l.prototype._toArrayLikeBE=function(h,_){for(var A=h.length-1,O=0,H=0,B=0;H<this.length;H++){var E=this.words[H]<<B|O;h[A--]=E&255,A>=0&&(h[A--]=E>>8&255),A>=0&&(h[A--]=E>>16&255),B===6?(A>=0&&(h[A--]=E>>24&255),O=0,B=0):(O=E>>>24,B+=2)}if(A>=0)for(h[A--]=O;A>=0;)h[A--]=0},Math.clz32?l.prototype._countBits=function(h){return 32-Math.clz32(h)}:l.prototype._countBits=function(h){var _=h,A=0;return _>=4096&&(A+=13,_>>>=13),_>=64&&(A+=7,_>>>=7),_>=8&&(A+=4,_>>>=4),_>=2&&(A+=2,_>>>=2),A+_},l.prototype._zeroBits=function(h){if(h===0)return 26;var _=h,A=0;return(_&8191)===0&&(A+=13,_>>>=13),(_&127)===0&&(A+=7,_>>>=7),(_&15)===0&&(A+=4,_>>>=4),(_&3)===0&&(A+=2,_>>>=2),(_&1)===0&&A++,A},l.prototype.bitLength=function(){var h=this.words[this.length-1],_=this._countBits(h);return(this.length-1)*26+_};function z(T){for(var h=new Array(T.bitLength()),_=0;_<h.length;_++){var A=_/26|0,O=_%26;h[_]=T.words[A]>>>O&1}return h}l.prototype.zeroBits=function(){if(this.isZero())return 0;for(var h=0,_=0;_<this.length;_++){var A=this._zeroBits(this.words[_]);if(h+=A,A!==26)break}return h},l.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},l.prototype.toTwos=function(h){return this.negative!==0?this.abs().inotn(h).iaddn(1):this.clone()},l.prototype.fromTwos=function(h){return this.testn(h-1)?this.notn(h).iaddn(1).ineg():this.clone()},l.prototype.isNeg=function(){return this.negative!==0},l.prototype.neg=function(){return this.clone().ineg()},l.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},l.prototype.iuor=function(h){for(;this.length<h.length;)this.words[this.length++]=0;for(var _=0;_<h.length;_++)this.words[_]=this.words[_]|h.words[_];return this._strip()},l.prototype.ior=function(h){return i((this.negative|h.negative)===0),this.iuor(h)},l.prototype.or=function(h){return this.length>h.length?this.clone().ior(h):h.clone().ior(this)},l.prototype.uor=function(h){return this.length>h.length?this.clone().iuor(h):h.clone().iuor(this)},l.prototype.iuand=function(h){var _;this.length>h.length?_=h:_=this;for(var A=0;A<_.length;A++)this.words[A]=this.words[A]&h.words[A];return this.length=_.length,this._strip()},l.prototype.iand=function(h){return i((this.negative|h.negative)===0),this.iuand(h)},l.prototype.and=function(h){return this.length>h.length?this.clone().iand(h):h.clone().iand(this)},l.prototype.uand=function(h){return this.length>h.length?this.clone().iuand(h):h.clone().iuand(this)},l.prototype.iuxor=function(h){var _,A;this.length>h.length?(_=this,A=h):(_=h,A=this);for(var O=0;O<A.length;O++)this.words[O]=_.words[O]^A.words[O];if(this!==_)for(;O<_.length;O++)this.words[O]=_.words[O];return this.length=_.length,this._strip()},l.prototype.ixor=function(h){return i((this.negative|h.negative)===0),this.iuxor(h)},l.prototype.xor=function(h){return this.length>h.length?this.clone().ixor(h):h.clone().ixor(this)},l.prototype.uxor=function(h){return this.length>h.length?this.clone().iuxor(h):h.clone().iuxor(this)},l.prototype.inotn=function(h){i(typeof h=="number"&&h>=0);var _=Math.ceil(h/26)|0,A=h%26;this._expand(_),A>0&&_--;for(var O=0;O<_;O++)this.words[O]=~this.words[O]&67108863;return A>0&&(this.words[O]=~this.words[O]&67108863>>26-A),this._strip()},l.prototype.notn=function(h){return this.clone().inotn(h)},l.prototype.setn=function(h,_){i(typeof h=="number"&&h>=0);var A=h/26|0,O=h%26;return this._expand(A+1),_?this.words[A]=this.words[A]|1<<O:this.words[A]=this.words[A]&~(1<<O),this._strip()},l.prototype.iadd=function(h){var _;if(this.negative!==0&&h.negative===0)return this.negative=0,_=this.isub(h),this.negative^=1,this._normSign();if(this.negative===0&&h.negative!==0)return h.negative=0,_=this.isub(h),h.negative=1,_._normSign();var A,O;this.length>h.length?(A=this,O=h):(A=h,O=this);for(var H=0,B=0;B<O.length;B++)_=(A.words[B]|0)+(O.words[B]|0)+H,this.words[B]=_&67108863,H=_>>>26;for(;H!==0&&B<A.length;B++)_=(A.words[B]|0)+H,this.words[B]=_&67108863,H=_>>>26;if(this.length=A.length,H!==0)this.words[this.length]=H,this.length++;else if(A!==this)for(;B<A.length;B++)this.words[B]=A.words[B];return this},l.prototype.add=function(h){var _;return h.negative!==0&&this.negative===0?(h.negative=0,_=this.sub(h),h.negative^=1,_):h.negative===0&&this.negative!==0?(this.negative=0,_=h.sub(this),this.negative=1,_):this.length>h.length?this.clone().iadd(h):h.clone().iadd(this)},l.prototype.isub=function(h){if(h.negative!==0){h.negative=0;var _=this.iadd(h);return h.negative=1,_._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(h),this.negative=1,this._normSign();var A=this.cmp(h);if(A===0)return this.negative=0,this.length=1,this.words[0]=0,this;var O,H;A>0?(O=this,H=h):(O=h,H=this);for(var B=0,E=0;E<H.length;E++)_=(O.words[E]|0)-(H.words[E]|0)+B,B=_>>26,this.words[E]=_&67108863;for(;B!==0&&E<O.length;E++)_=(O.words[E]|0)+B,B=_>>26,this.words[E]=_&67108863;if(B===0&&E<O.length&&O!==this)for(;E<O.length;E++)this.words[E]=O.words[E];return this.length=Math.max(this.length,E),O!==this&&(this.negative=1),this._strip()},l.prototype.sub=function(h){return this.clone().isub(h)};function P(T,h,_){_.negative=h.negative^T.negative;var A=T.length+h.length|0;_.length=A,A=A-1|0;var O=T.words[0]|0,H=h.words[0]|0,B=O*H,E=B&67108863,m=B/67108864|0;_.words[0]=E;for(var d=1;d<A;d++){for(var b=m>>>26,N=m&67108863,U=Math.min(d,h.length-1),Z=Math.max(0,d-T.length+1);Z<=U;Z++){var ae=d-Z|0;O=T.words[ae]|0,H=h.words[Z]|0,B=O*H+N,b+=B/67108864|0,N=B&67108863}_.words[d]=N|0,m=b|0}return m!==0?_.words[d]=m|0:_.length--,_._strip()}var K=function(h,_,A){var O=h.words,H=_.words,B=A.words,E=0,m,d,b,N=O[0]|0,U=N&8191,Z=N>>>13,ae=O[1]|0,we=ae&8191,Se=ae>>>13,qe=O[2]|0,ve=qe&8191,ke=qe>>>13,Oe=O[3]|0,Ie=Oe&8191,Pe=Oe>>>13,Ht=O[4]|0,We=Ht&8191,$e=Ht>>>13,kt=O[5]|0,Xe=kt&8191,Ye=kt>>>13,Et=O[6]|0,ge=Et&8191,Te=Et>>>13,Ve=O[7]|0,ze=Ve&8191,D=Ve>>>13,v=O[8]|0,R=v&8191,V=v>>>13,ee=O[9]|0,ie=ee&8191,re=ee>>>13,Ue=H[0]|0,Ke=Ue&8191,Le=Ue>>>13,ht=H[1]|0,Je=ht&8191,Dt=ht>>>13,Ot=H[2]|0,_t=Ot&8191,Lt=Ot>>>13,fr=H[3]|0,lt=fr&8191,xt=fr>>>13,ca=H[4]|0,Xt=ca&8191,Ft=ca>>>13,Mi=H[5]|0,sn=Mi&8191,Qt=Mi>>>13,So=H[6]|0,Jt=So&8191,Yt=So>>>13,ua=H[7]|0,en=ua&8191,tn=ua>>>13,Rr=H[8]|0,ct=Rr&8191,yt=Rr>>>13,Qr=H[9]|0,Zt=Qr&8191,an=Qr>>>13;A.negative=h.negative^_.negative,A.length=19,m=Math.imul(U,Ke),d=Math.imul(U,Le),d=d+Math.imul(Z,Ke)|0,b=Math.imul(Z,Le);var Ao=(E+m|0)+((d&8191)<<13)|0;E=(b+(d>>>13)|0)+(Ao>>>26)|0,Ao&=67108863,m=Math.imul(we,Ke),d=Math.imul(we,Le),d=d+Math.imul(Se,Ke)|0,b=Math.imul(Se,Le),m=m+Math.imul(U,Je)|0,d=d+Math.imul(U,Dt)|0,d=d+Math.imul(Z,Je)|0,b=b+Math.imul(Z,Dt)|0;var fa=(E+m|0)+((d&8191)<<13)|0;E=(b+(d>>>13)|0)+(fa>>>26)|0,fa&=67108863,m=Math.imul(ve,Ke),d=Math.imul(ve,Le),d=d+Math.imul(ke,Ke)|0,b=Math.imul(ke,Le),m=m+Math.imul(we,Je)|0,d=d+Math.imul(we,Dt)|0,d=d+Math.imul(Se,Je)|0,b=b+Math.imul(Se,Dt)|0,m=m+Math.imul(U,_t)|0,d=d+Math.imul(U,Lt)|0,d=d+Math.imul(Z,_t)|0,b=b+Math.imul(Z,Lt)|0;var Jr=(E+m|0)+((d&8191)<<13)|0;E=(b+(d>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,m=Math.imul(Ie,Ke),d=Math.imul(Ie,Le),d=d+Math.imul(Pe,Ke)|0,b=Math.imul(Pe,Le),m=m+Math.imul(ve,Je)|0,d=d+Math.imul(ve,Dt)|0,d=d+Math.imul(ke,Je)|0,b=b+Math.imul(ke,Dt)|0,m=m+Math.imul(we,_t)|0,d=d+Math.imul(we,Lt)|0,d=d+Math.imul(Se,_t)|0,b=b+Math.imul(Se,Lt)|0,m=m+Math.imul(U,lt)|0,d=d+Math.imul(U,xt)|0,d=d+Math.imul(Z,lt)|0,b=b+Math.imul(Z,xt)|0;var As=(E+m|0)+((d&8191)<<13)|0;E=(b+(d>>>13)|0)+(As>>>26)|0,As&=67108863,m=Math.imul(We,Ke),d=Math.imul(We,Le),d=d+Math.imul($e,Ke)|0,b=Math.imul($e,Le),m=m+Math.imul(Ie,Je)|0,d=d+Math.imul(Ie,Dt)|0,d=d+Math.imul(Pe,Je)|0,b=b+Math.imul(Pe,Dt)|0,m=m+Math.imul(ve,_t)|0,d=d+Math.imul(ve,Lt)|0,d=d+Math.imul(ke,_t)|0,b=b+Math.imul(ke,Lt)|0,m=m+Math.imul(we,lt)|0,d=d+Math.imul(we,xt)|0,d=d+Math.imul(Se,lt)|0,b=b+Math.imul(Se,xt)|0,m=m+Math.imul(U,Xt)|0,d=d+Math.imul(U,Ft)|0,d=d+Math.imul(Z,Xt)|0,b=b+Math.imul(Z,Ft)|0;var Br=(E+m|0)+((d&8191)<<13)|0;E=(b+(d>>>13)|0)+(Br>>>26)|0,Br&=67108863,m=Math.imul(Xe,Ke),d=Math.imul(Xe,Le),d=d+Math.imul(Ye,Ke)|0,b=Math.imul(Ye,Le),m=m+Math.imul(We,Je)|0,d=d+Math.imul(We,Dt)|0,d=d+Math.imul($e,Je)|0,b=b+Math.imul($e,Dt)|0,m=m+Math.imul(Ie,_t)|0,d=d+Math.imul(Ie,Lt)|0,d=d+Math.imul(Pe,_t)|0,b=b+Math.imul(Pe,Lt)|0,m=m+Math.imul(ve,lt)|0,d=d+Math.imul(ve,xt)|0,d=d+Math.imul(ke,lt)|0,b=b+Math.imul(ke,xt)|0,m=m+Math.imul(we,Xt)|0,d=d+Math.imul(we,Ft)|0,d=d+Math.imul(Se,Xt)|0,b=b+Math.imul(Se,Ft)|0,m=m+Math.imul(U,sn)|0,d=d+Math.imul(U,Qt)|0,d=d+Math.imul(Z,sn)|0,b=b+Math.imul(Z,Qt)|0;var Mr=(E+m|0)+((d&8191)<<13)|0;E=(b+(d>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,m=Math.imul(ge,Ke),d=Math.imul(ge,Le),d=d+Math.imul(Te,Ke)|0,b=Math.imul(Te,Le),m=m+Math.imul(Xe,Je)|0,d=d+Math.imul(Xe,Dt)|0,d=d+Math.imul(Ye,Je)|0,b=b+Math.imul(Ye,Dt)|0,m=m+Math.imul(We,_t)|0,d=d+Math.imul(We,Lt)|0,d=d+Math.imul($e,_t)|0,b=b+Math.imul($e,Lt)|0,m=m+Math.imul(Ie,lt)|0,d=d+Math.imul(Ie,xt)|0,d=d+Math.imul(Pe,lt)|0,b=b+Math.imul(Pe,xt)|0,m=m+Math.imul(ve,Xt)|0,d=d+Math.imul(ve,Ft)|0,d=d+Math.imul(ke,Xt)|0,b=b+Math.imul(ke,Ft)|0,m=m+Math.imul(we,sn)|0,d=d+Math.imul(we,Qt)|0,d=d+Math.imul(Se,sn)|0,b=b+Math.imul(Se,Qt)|0,m=m+Math.imul(U,Jt)|0,d=d+Math.imul(U,Yt)|0,d=d+Math.imul(Z,Jt)|0,b=b+Math.imul(Z,Yt)|0;var ei=(E+m|0)+((d&8191)<<13)|0;E=(b+(d>>>13)|0)+(ei>>>26)|0,ei&=67108863,m=Math.imul(ze,Ke),d=Math.imul(ze,Le),d=d+Math.imul(D,Ke)|0,b=Math.imul(D,Le),m=m+Math.imul(ge,Je)|0,d=d+Math.imul(ge,Dt)|0,d=d+Math.imul(Te,Je)|0,b=b+Math.imul(Te,Dt)|0,m=m+Math.imul(Xe,_t)|0,d=d+Math.imul(Xe,Lt)|0,d=d+Math.imul(Ye,_t)|0,b=b+Math.imul(Ye,Lt)|0,m=m+Math.imul(We,lt)|0,d=d+Math.imul(We,xt)|0,d=d+Math.imul($e,lt)|0,b=b+Math.imul($e,xt)|0,m=m+Math.imul(Ie,Xt)|0,d=d+Math.imul(Ie,Ft)|0,d=d+Math.imul(Pe,Xt)|0,b=b+Math.imul(Pe,Ft)|0,m=m+Math.imul(ve,sn)|0,d=d+Math.imul(ve,Qt)|0,d=d+Math.imul(ke,sn)|0,b=b+Math.imul(ke,Qt)|0,m=m+Math.imul(we,Jt)|0,d=d+Math.imul(we,Yt)|0,d=d+Math.imul(Se,Jt)|0,b=b+Math.imul(Se,Yt)|0,m=m+Math.imul(U,en)|0,d=d+Math.imul(U,tn)|0,d=d+Math.imul(Z,en)|0,b=b+Math.imul(Z,tn)|0;var Dr=(E+m|0)+((d&8191)<<13)|0;E=(b+(d>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,m=Math.imul(R,Ke),d=Math.imul(R,Le),d=d+Math.imul(V,Ke)|0,b=Math.imul(V,Le),m=m+Math.imul(ze,Je)|0,d=d+Math.imul(ze,Dt)|0,d=d+Math.imul(D,Je)|0,b=b+Math.imul(D,Dt)|0,m=m+Math.imul(ge,_t)|0,d=d+Math.imul(ge,Lt)|0,d=d+Math.imul(Te,_t)|0,b=b+Math.imul(Te,Lt)|0,m=m+Math.imul(Xe,lt)|0,d=d+Math.imul(Xe,xt)|0,d=d+Math.imul(Ye,lt)|0,b=b+Math.imul(Ye,xt)|0,m=m+Math.imul(We,Xt)|0,d=d+Math.imul(We,Ft)|0,d=d+Math.imul($e,Xt)|0,b=b+Math.imul($e,Ft)|0,m=m+Math.imul(Ie,sn)|0,d=d+Math.imul(Ie,Qt)|0,d=d+Math.imul(Pe,sn)|0,b=b+Math.imul(Pe,Qt)|0,m=m+Math.imul(ve,Jt)|0,d=d+Math.imul(ve,Yt)|0,d=d+Math.imul(ke,Jt)|0,b=b+Math.imul(ke,Yt)|0,m=m+Math.imul(we,en)|0,d=d+Math.imul(we,tn)|0,d=d+Math.imul(Se,en)|0,b=b+Math.imul(Se,tn)|0,m=m+Math.imul(U,ct)|0,d=d+Math.imul(U,yt)|0,d=d+Math.imul(Z,ct)|0,b=b+Math.imul(Z,yt)|0;var on=(E+m|0)+((d&8191)<<13)|0;E=(b+(d>>>13)|0)+(on>>>26)|0,on&=67108863,m=Math.imul(ie,Ke),d=Math.imul(ie,Le),d=d+Math.imul(re,Ke)|0,b=Math.imul(re,Le),m=m+Math.imul(R,Je)|0,d=d+Math.imul(R,Dt)|0,d=d+Math.imul(V,Je)|0,b=b+Math.imul(V,Dt)|0,m=m+Math.imul(ze,_t)|0,d=d+Math.imul(ze,Lt)|0,d=d+Math.imul(D,_t)|0,b=b+Math.imul(D,Lt)|0,m=m+Math.imul(ge,lt)|0,d=d+Math.imul(ge,xt)|0,d=d+Math.imul(Te,lt)|0,b=b+Math.imul(Te,xt)|0,m=m+Math.imul(Xe,Xt)|0,d=d+Math.imul(Xe,Ft)|0,d=d+Math.imul(Ye,Xt)|0,b=b+Math.imul(Ye,Ft)|0,m=m+Math.imul(We,sn)|0,d=d+Math.imul(We,Qt)|0,d=d+Math.imul($e,sn)|0,b=b+Math.imul($e,Qt)|0,m=m+Math.imul(Ie,Jt)|0,d=d+Math.imul(Ie,Yt)|0,d=d+Math.imul(Pe,Jt)|0,b=b+Math.imul(Pe,Yt)|0,m=m+Math.imul(ve,en)|0,d=d+Math.imul(ve,tn)|0,d=d+Math.imul(ke,en)|0,b=b+Math.imul(ke,tn)|0,m=m+Math.imul(we,ct)|0,d=d+Math.imul(we,yt)|0,d=d+Math.imul(Se,ct)|0,b=b+Math.imul(Se,yt)|0,m=m+Math.imul(U,Zt)|0,d=d+Math.imul(U,an)|0,d=d+Math.imul(Z,Zt)|0,b=b+Math.imul(Z,an)|0;var da=(E+m|0)+((d&8191)<<13)|0;E=(b+(d>>>13)|0)+(da>>>26)|0,da&=67108863,m=Math.imul(ie,Je),d=Math.imul(ie,Dt),d=d+Math.imul(re,Je)|0,b=Math.imul(re,Dt),m=m+Math.imul(R,_t)|0,d=d+Math.imul(R,Lt)|0,d=d+Math.imul(V,_t)|0,b=b+Math.imul(V,Lt)|0,m=m+Math.imul(ze,lt)|0,d=d+Math.imul(ze,xt)|0,d=d+Math.imul(D,lt)|0,b=b+Math.imul(D,xt)|0,m=m+Math.imul(ge,Xt)|0,d=d+Math.imul(ge,Ft)|0,d=d+Math.imul(Te,Xt)|0,b=b+Math.imul(Te,Ft)|0,m=m+Math.imul(Xe,sn)|0,d=d+Math.imul(Xe,Qt)|0,d=d+Math.imul(Ye,sn)|0,b=b+Math.imul(Ye,Qt)|0,m=m+Math.imul(We,Jt)|0,d=d+Math.imul(We,Yt)|0,d=d+Math.imul($e,Jt)|0,b=b+Math.imul($e,Yt)|0,m=m+Math.imul(Ie,en)|0,d=d+Math.imul(Ie,tn)|0,d=d+Math.imul(Pe,en)|0,b=b+Math.imul(Pe,tn)|0,m=m+Math.imul(ve,ct)|0,d=d+Math.imul(ve,yt)|0,d=d+Math.imul(ke,ct)|0,b=b+Math.imul(ke,yt)|0,m=m+Math.imul(we,Zt)|0,d=d+Math.imul(we,an)|0,d=d+Math.imul(Se,Zt)|0,b=b+Math.imul(Se,an)|0;var ha=(E+m|0)+((d&8191)<<13)|0;E=(b+(d>>>13)|0)+(ha>>>26)|0,ha&=67108863,m=Math.imul(ie,_t),d=Math.imul(ie,Lt),d=d+Math.imul(re,_t)|0,b=Math.imul(re,Lt),m=m+Math.imul(R,lt)|0,d=d+Math.imul(R,xt)|0,d=d+Math.imul(V,lt)|0,b=b+Math.imul(V,xt)|0,m=m+Math.imul(ze,Xt)|0,d=d+Math.imul(ze,Ft)|0,d=d+Math.imul(D,Xt)|0,b=b+Math.imul(D,Ft)|0,m=m+Math.imul(ge,sn)|0,d=d+Math.imul(ge,Qt)|0,d=d+Math.imul(Te,sn)|0,b=b+Math.imul(Te,Qt)|0,m=m+Math.imul(Xe,Jt)|0,d=d+Math.imul(Xe,Yt)|0,d=d+Math.imul(Ye,Jt)|0,b=b+Math.imul(Ye,Yt)|0,m=m+Math.imul(We,en)|0,d=d+Math.imul(We,tn)|0,d=d+Math.imul($e,en)|0,b=b+Math.imul($e,tn)|0,m=m+Math.imul(Ie,ct)|0,d=d+Math.imul(Ie,yt)|0,d=d+Math.imul(Pe,ct)|0,b=b+Math.imul(Pe,yt)|0,m=m+Math.imul(ve,Zt)|0,d=d+Math.imul(ve,an)|0,d=d+Math.imul(ke,Zt)|0,b=b+Math.imul(ke,an)|0;var xr=(E+m|0)+((d&8191)<<13)|0;E=(b+(d>>>13)|0)+(xr>>>26)|0,xr&=67108863,m=Math.imul(ie,lt),d=Math.imul(ie,xt),d=d+Math.imul(re,lt)|0,b=Math.imul(re,xt),m=m+Math.imul(R,Xt)|0,d=d+Math.imul(R,Ft)|0,d=d+Math.imul(V,Xt)|0,b=b+Math.imul(V,Ft)|0,m=m+Math.imul(ze,sn)|0,d=d+Math.imul(ze,Qt)|0,d=d+Math.imul(D,sn)|0,b=b+Math.imul(D,Qt)|0,m=m+Math.imul(ge,Jt)|0,d=d+Math.imul(ge,Yt)|0,d=d+Math.imul(Te,Jt)|0,b=b+Math.imul(Te,Yt)|0,m=m+Math.imul(Xe,en)|0,d=d+Math.imul(Xe,tn)|0,d=d+Math.imul(Ye,en)|0,b=b+Math.imul(Ye,tn)|0,m=m+Math.imul(We,ct)|0,d=d+Math.imul(We,yt)|0,d=d+Math.imul($e,ct)|0,b=b+Math.imul($e,yt)|0,m=m+Math.imul(Ie,Zt)|0,d=d+Math.imul(Ie,an)|0,d=d+Math.imul(Pe,Zt)|0,b=b+Math.imul(Pe,an)|0;var Lr=(E+m|0)+((d&8191)<<13)|0;E=(b+(d>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,m=Math.imul(ie,Xt),d=Math.imul(ie,Ft),d=d+Math.imul(re,Xt)|0,b=Math.imul(re,Ft),m=m+Math.imul(R,sn)|0,d=d+Math.imul(R,Qt)|0,d=d+Math.imul(V,sn)|0,b=b+Math.imul(V,Qt)|0,m=m+Math.imul(ze,Jt)|0,d=d+Math.imul(ze,Yt)|0,d=d+Math.imul(D,Jt)|0,b=b+Math.imul(D,Yt)|0,m=m+Math.imul(ge,en)|0,d=d+Math.imul(ge,tn)|0,d=d+Math.imul(Te,en)|0,b=b+Math.imul(Te,tn)|0,m=m+Math.imul(Xe,ct)|0,d=d+Math.imul(Xe,yt)|0,d=d+Math.imul(Ye,ct)|0,b=b+Math.imul(Ye,yt)|0,m=m+Math.imul(We,Zt)|0,d=d+Math.imul(We,an)|0,d=d+Math.imul($e,Zt)|0,b=b+Math.imul($e,an)|0;var Ro=(E+m|0)+((d&8191)<<13)|0;E=(b+(d>>>13)|0)+(Ro>>>26)|0,Ro&=67108863,m=Math.imul(ie,sn),d=Math.imul(ie,Qt),d=d+Math.imul(re,sn)|0,b=Math.imul(re,Qt),m=m+Math.imul(R,Jt)|0,d=d+Math.imul(R,Yt)|0,d=d+Math.imul(V,Jt)|0,b=b+Math.imul(V,Yt)|0,m=m+Math.imul(ze,en)|0,d=d+Math.imul(ze,tn)|0,d=d+Math.imul(D,en)|0,b=b+Math.imul(D,tn)|0,m=m+Math.imul(ge,ct)|0,d=d+Math.imul(ge,yt)|0,d=d+Math.imul(Te,ct)|0,b=b+Math.imul(Te,yt)|0,m=m+Math.imul(Xe,Zt)|0,d=d+Math.imul(Xe,an)|0,d=d+Math.imul(Ye,Zt)|0,b=b+Math.imul(Ye,an)|0;var pa=(E+m|0)+((d&8191)<<13)|0;E=(b+(d>>>13)|0)+(pa>>>26)|0,pa&=67108863,m=Math.imul(ie,Jt),d=Math.imul(ie,Yt),d=d+Math.imul(re,Jt)|0,b=Math.imul(re,Yt),m=m+Math.imul(R,en)|0,d=d+Math.imul(R,tn)|0,d=d+Math.imul(V,en)|0,b=b+Math.imul(V,tn)|0,m=m+Math.imul(ze,ct)|0,d=d+Math.imul(ze,yt)|0,d=d+Math.imul(D,ct)|0,b=b+Math.imul(D,yt)|0,m=m+Math.imul(ge,Zt)|0,d=d+Math.imul(ge,an)|0,d=d+Math.imul(Te,Zt)|0,b=b+Math.imul(Te,an)|0;var ma=(E+m|0)+((d&8191)<<13)|0;E=(b+(d>>>13)|0)+(ma>>>26)|0,ma&=67108863,m=Math.imul(ie,en),d=Math.imul(ie,tn),d=d+Math.imul(re,en)|0,b=Math.imul(re,tn),m=m+Math.imul(R,ct)|0,d=d+Math.imul(R,yt)|0,d=d+Math.imul(V,ct)|0,b=b+Math.imul(V,yt)|0,m=m+Math.imul(ze,Zt)|0,d=d+Math.imul(ze,an)|0,d=d+Math.imul(D,Zt)|0,b=b+Math.imul(D,an)|0;var xo=(E+m|0)+((d&8191)<<13)|0;E=(b+(d>>>13)|0)+(xo>>>26)|0,xo&=67108863,m=Math.imul(ie,ct),d=Math.imul(ie,yt),d=d+Math.imul(re,ct)|0,b=Math.imul(re,yt),m=m+Math.imul(R,Zt)|0,d=d+Math.imul(R,an)|0,d=d+Math.imul(V,Zt)|0,b=b+Math.imul(V,an)|0;var Di=(E+m|0)+((d&8191)<<13)|0;E=(b+(d>>>13)|0)+(Di>>>26)|0,Di&=67108863,m=Math.imul(ie,Zt),d=Math.imul(ie,an),d=d+Math.imul(re,Zt)|0,b=Math.imul(re,an);var Li=(E+m|0)+((d&8191)<<13)|0;return E=(b+(d>>>13)|0)+(Li>>>26)|0,Li&=67108863,B[0]=Ao,B[1]=fa,B[2]=Jr,B[3]=As,B[4]=Br,B[5]=Mr,B[6]=ei,B[7]=Dr,B[8]=on,B[9]=da,B[10]=ha,B[11]=xr,B[12]=Lr,B[13]=Ro,B[14]=pa,B[15]=ma,B[16]=xo,B[17]=Di,B[18]=Li,E!==0&&(B[19]=E,A.length++),A};Math.imul||(K=P);function G(T,h,_){_.negative=h.negative^T.negative,_.length=T.length+h.length;for(var A=0,O=0,H=0;H<_.length-1;H++){var B=O;O=0;for(var E=A&67108863,m=Math.min(H,h.length-1),d=Math.max(0,H-T.length+1);d<=m;d++){var b=H-d,N=T.words[b]|0,U=h.words[d]|0,Z=N*U,ae=Z&67108863;B=B+(Z/67108864|0)|0,ae=ae+E|0,E=ae&67108863,B=B+(ae>>>26)|0,O+=B>>>26,B&=67108863}_.words[H]=E,A=B,B=O}return A!==0?_.words[H]=A:_.length--,_._strip()}function X(T,h,_){return G(T,h,_)}l.prototype.mulTo=function(h,_){var A,O=this.length+h.length;return this.length===10&&h.length===10?A=K(this,h,_):O<63?A=P(this,h,_):O<1024?A=G(this,h,_):A=X(this,h,_),A},l.prototype.mul=function(h){var _=new l(null);return _.words=new Array(this.length+h.length),this.mulTo(h,_)},l.prototype.mulf=function(h){var _=new l(null);return _.words=new Array(this.length+h.length),X(this,h,_)},l.prototype.imul=function(h){return this.clone().mulTo(h,this)},l.prototype.imuln=function(h){var _=h<0;_&&(h=-h),i(typeof h=="number"),i(h<67108864);for(var A=0,O=0;O<this.length;O++){var H=(this.words[O]|0)*h,B=(H&67108863)+(A&67108863);A>>=26,A+=H/67108864|0,A+=B>>>26,this.words[O]=B&67108863}return A!==0&&(this.words[O]=A,this.length++),this.length=h===0?1:this.length,_?this.ineg():this},l.prototype.muln=function(h){return this.clone().imuln(h)},l.prototype.sqr=function(){return this.mul(this)},l.prototype.isqr=function(){return this.imul(this.clone())},l.prototype.pow=function(h){var _=z(h);if(_.length===0)return new l(1);for(var A=this,O=0;O<_.length&&_[O]===0;O++,A=A.sqr());if(++O<_.length)for(var H=A.sqr();O<_.length;O++,H=H.sqr())_[O]!==0&&(A=A.mul(H));return A},l.prototype.iushln=function(h){i(typeof h=="number"&&h>=0);var _=h%26,A=(h-_)/26,O=67108863>>>26-_<<26-_,H;if(_!==0){var B=0;for(H=0;H<this.length;H++){var E=this.words[H]&O,m=(this.words[H]|0)-E<<_;this.words[H]=m|B,B=E>>>26-_}B&&(this.words[H]=B,this.length++)}if(A!==0){for(H=this.length-1;H>=0;H--)this.words[H+A]=this.words[H];for(H=0;H<A;H++)this.words[H]=0;this.length+=A}return this._strip()},l.prototype.ishln=function(h){return i(this.negative===0),this.iushln(h)},l.prototype.iushrn=function(h,_,A){i(typeof h=="number"&&h>=0);var O;_?O=(_-_%26)/26:O=0;var H=h%26,B=Math.min((h-H)/26,this.length),E=67108863^67108863>>>H<<H,m=A;if(O-=B,O=Math.max(0,O),m){for(var d=0;d<B;d++)m.words[d]=this.words[d];m.length=B}if(B!==0)if(this.length>B)for(this.length-=B,d=0;d<this.length;d++)this.words[d]=this.words[d+B];else this.words[0]=0,this.length=1;var b=0;for(d=this.length-1;d>=0&&(b!==0||d>=O);d--){var N=this.words[d]|0;this.words[d]=b<<26-H|N>>>H,b=N&E}return m&&b!==0&&(m.words[m.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},l.prototype.ishrn=function(h,_,A){return i(this.negative===0),this.iushrn(h,_,A)},l.prototype.shln=function(h){return this.clone().ishln(h)},l.prototype.ushln=function(h){return this.clone().iushln(h)},l.prototype.shrn=function(h){return this.clone().ishrn(h)},l.prototype.ushrn=function(h){return this.clone().iushrn(h)},l.prototype.testn=function(h){i(typeof h=="number"&&h>=0);var _=h%26,A=(h-_)/26,O=1<<_;if(this.length<=A)return!1;var H=this.words[A];return!!(H&O)},l.prototype.imaskn=function(h){i(typeof h=="number"&&h>=0);var _=h%26,A=(h-_)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=A)return this;if(_!==0&&A++,this.length=Math.min(A,this.length),_!==0){var O=67108863^67108863>>>_<<_;this.words[this.length-1]&=O}return this._strip()},l.prototype.maskn=function(h){return this.clone().imaskn(h)},l.prototype.iaddn=function(h){return i(typeof h=="number"),i(h<67108864),h<0?this.isubn(-h):this.negative!==0?this.length===1&&(this.words[0]|0)<=h?(this.words[0]=h-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(h),this.negative=1,this):this._iaddn(h)},l.prototype._iaddn=function(h){this.words[0]+=h;for(var _=0;_<this.length&&this.words[_]>=67108864;_++)this.words[_]-=67108864,_===this.length-1?this.words[_+1]=1:this.words[_+1]++;return this.length=Math.max(this.length,_+1),this},l.prototype.isubn=function(h){if(i(typeof h=="number"),i(h<67108864),h<0)return this.iaddn(-h);if(this.negative!==0)return this.negative=0,this.iaddn(h),this.negative=1,this;if(this.words[0]-=h,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var _=0;_<this.length&&this.words[_]<0;_++)this.words[_]+=67108864,this.words[_+1]-=1;return this._strip()},l.prototype.addn=function(h){return this.clone().iaddn(h)},l.prototype.subn=function(h){return this.clone().isubn(h)},l.prototype.iabs=function(){return this.negative=0,this},l.prototype.abs=function(){return this.clone().iabs()},l.prototype._ishlnsubmul=function(h,_,A){var O=h.length+A,H;this._expand(O);var B,E=0;for(H=0;H<h.length;H++){B=(this.words[H+A]|0)+E;var m=(h.words[H]|0)*_;B-=m&67108863,E=(B>>26)-(m/67108864|0),this.words[H+A]=B&67108863}for(;H<this.length-A;H++)B=(this.words[H+A]|0)+E,E=B>>26,this.words[H+A]=B&67108863;if(E===0)return this._strip();for(i(E===-1),E=0,H=0;H<this.length;H++)B=-(this.words[H]|0)+E,E=B>>26,this.words[H]=B&67108863;return this.negative=1,this._strip()},l.prototype._wordDiv=function(h,_){var A=this.length-h.length,O=this.clone(),H=h,B=H.words[H.length-1]|0,E=this._countBits(B);A=26-E,A!==0&&(H=H.ushln(A),O.iushln(A),B=H.words[H.length-1]|0);var m=O.length-H.length,d;if(_!=="mod"){d=new l(null),d.length=m+1,d.words=new Array(d.length);for(var b=0;b<d.length;b++)d.words[b]=0}var N=O.clone()._ishlnsubmul(H,1,m);N.negative===0&&(O=N,d&&(d.words[m]=1));for(var U=m-1;U>=0;U--){var Z=(O.words[H.length+U]|0)*67108864+(O.words[H.length+U-1]|0);for(Z=Math.min(Z/B|0,67108863),O._ishlnsubmul(H,Z,U);O.negative!==0;)Z--,O.negative=0,O._ishlnsubmul(H,1,U),O.isZero()||(O.negative^=1);d&&(d.words[U]=Z)}return d&&d._strip(),O._strip(),_!=="div"&&A!==0&&O.iushrn(A),{div:d||null,mod:O}},l.prototype.divmod=function(h,_,A){if(i(!h.isZero()),this.isZero())return{div:new l(0),mod:new l(0)};var O,H,B;return this.negative!==0&&h.negative===0?(B=this.neg().divmod(h,_),_!=="mod"&&(O=B.div.neg()),_!=="div"&&(H=B.mod.neg(),A&&H.negative!==0&&H.iadd(h)),{div:O,mod:H}):this.negative===0&&h.negative!==0?(B=this.divmod(h.neg(),_),_!=="mod"&&(O=B.div.neg()),{div:O,mod:B.mod}):(this.negative&h.negative)!==0?(B=this.neg().divmod(h.neg(),_),_!=="div"&&(H=B.mod.neg(),A&&H.negative!==0&&H.isub(h)),{div:B.div,mod:H}):h.length>this.length||this.cmp(h)<0?{div:new l(0),mod:this}:h.length===1?_==="div"?{div:this.divn(h.words[0]),mod:null}:_==="mod"?{div:null,mod:new l(this.modrn(h.words[0]))}:{div:this.divn(h.words[0]),mod:new l(this.modrn(h.words[0]))}:this._wordDiv(h,_)},l.prototype.div=function(h){return this.divmod(h,"div",!1).div},l.prototype.mod=function(h){return this.divmod(h,"mod",!1).mod},l.prototype.umod=function(h){return this.divmod(h,"mod",!0).mod},l.prototype.divRound=function(h){var _=this.divmod(h);if(_.mod.isZero())return _.div;var A=_.div.negative!==0?_.mod.isub(h):_.mod,O=h.ushrn(1),H=h.andln(1),B=A.cmp(O);return B<0||H===1&&B===0?_.div:_.div.negative!==0?_.div.isubn(1):_.div.iaddn(1)},l.prototype.modrn=function(h){var _=h<0;_&&(h=-h),i(h<=67108863);for(var A=(1<<26)%h,O=0,H=this.length-1;H>=0;H--)O=(A*O+(this.words[H]|0))%h;return _?-O:O},l.prototype.modn=function(h){return this.modrn(h)},l.prototype.idivn=function(h){var _=h<0;_&&(h=-h),i(h<=67108863);for(var A=0,O=this.length-1;O>=0;O--){var H=(this.words[O]|0)+A*67108864;this.words[O]=H/h|0,A=H%h}return this._strip(),_?this.ineg():this},l.prototype.divn=function(h){return this.clone().idivn(h)},l.prototype.egcd=function(h){i(h.negative===0),i(!h.isZero());var _=this,A=h.clone();_.negative!==0?_=_.umod(h):_=_.clone();for(var O=new l(1),H=new l(0),B=new l(0),E=new l(1),m=0;_.isEven()&&A.isEven();)_.iushrn(1),A.iushrn(1),++m;for(var d=A.clone(),b=_.clone();!_.isZero();){for(var N=0,U=1;(_.words[0]&U)===0&&N<26;++N,U<<=1);if(N>0)for(_.iushrn(N);N-- >0;)(O.isOdd()||H.isOdd())&&(O.iadd(d),H.isub(b)),O.iushrn(1),H.iushrn(1);for(var Z=0,ae=1;(A.words[0]&ae)===0&&Z<26;++Z,ae<<=1);if(Z>0)for(A.iushrn(Z);Z-- >0;)(B.isOdd()||E.isOdd())&&(B.iadd(d),E.isub(b)),B.iushrn(1),E.iushrn(1);_.cmp(A)>=0?(_.isub(A),O.isub(B),H.isub(E)):(A.isub(_),B.isub(O),E.isub(H))}return{a:B,b:E,gcd:A.iushln(m)}},l.prototype._invmp=function(h){i(h.negative===0),i(!h.isZero());var _=this,A=h.clone();_.negative!==0?_=_.umod(h):_=_.clone();for(var O=new l(1),H=new l(0),B=A.clone();_.cmpn(1)>0&&A.cmpn(1)>0;){for(var E=0,m=1;(_.words[0]&m)===0&&E<26;++E,m<<=1);if(E>0)for(_.iushrn(E);E-- >0;)O.isOdd()&&O.iadd(B),O.iushrn(1);for(var d=0,b=1;(A.words[0]&b)===0&&d<26;++d,b<<=1);if(d>0)for(A.iushrn(d);d-- >0;)H.isOdd()&&H.iadd(B),H.iushrn(1);_.cmp(A)>=0?(_.isub(A),O.isub(H)):(A.isub(_),H.isub(O))}var N;return _.cmpn(1)===0?N=O:N=H,N.cmpn(0)<0&&N.iadd(h),N},l.prototype.gcd=function(h){if(this.isZero())return h.abs();if(h.isZero())return this.abs();var _=this.clone(),A=h.clone();_.negative=0,A.negative=0;for(var O=0;_.isEven()&&A.isEven();O++)_.iushrn(1),A.iushrn(1);do{for(;_.isEven();)_.iushrn(1);for(;A.isEven();)A.iushrn(1);var H=_.cmp(A);if(H<0){var B=_;_=A,A=B}else if(H===0||A.cmpn(1)===0)break;_.isub(A)}while(!0);return A.iushln(O)},l.prototype.invm=function(h){return this.egcd(h).a.umod(h)},l.prototype.isEven=function(){return(this.words[0]&1)===0},l.prototype.isOdd=function(){return(this.words[0]&1)===1},l.prototype.andln=function(h){return this.words[0]&h},l.prototype.bincn=function(h){i(typeof h=="number");var _=h%26,A=(h-_)/26,O=1<<_;if(this.length<=A)return this._expand(A+1),this.words[A]|=O,this;for(var H=O,B=A;H!==0&&B<this.length;B++){var E=this.words[B]|0;E+=H,H=E>>>26,E&=67108863,this.words[B]=E}return H!==0&&(this.words[B]=H,this.length++),this},l.prototype.isZero=function(){return this.length===1&&this.words[0]===0},l.prototype.cmpn=function(h){var _=h<0;if(this.negative!==0&&!_)return-1;if(this.negative===0&&_)return 1;this._strip();var A;if(this.length>1)A=1;else{_&&(h=-h),i(h<=67108863,"Number is too big");var O=this.words[0]|0;A=O===h?0:O<h?-1:1}return this.negative!==0?-A|0:A},l.prototype.cmp=function(h){if(this.negative!==0&&h.negative===0)return-1;if(this.negative===0&&h.negative!==0)return 1;var _=this.ucmp(h);return this.negative!==0?-_|0:_},l.prototype.ucmp=function(h){if(this.length>h.length)return 1;if(this.length<h.length)return-1;for(var _=0,A=this.length-1;A>=0;A--){var O=this.words[A]|0,H=h.words[A]|0;if(O!==H){O<H?_=-1:O>H&&(_=1);break}}return _},l.prototype.gtn=function(h){return this.cmpn(h)===1},l.prototype.gt=function(h){return this.cmp(h)===1},l.prototype.gten=function(h){return this.cmpn(h)>=0},l.prototype.gte=function(h){return this.cmp(h)>=0},l.prototype.ltn=function(h){return this.cmpn(h)===-1},l.prototype.lt=function(h){return this.cmp(h)===-1},l.prototype.lten=function(h){return this.cmpn(h)<=0},l.prototype.lte=function(h){return this.cmp(h)<=0},l.prototype.eqn=function(h){return this.cmpn(h)===0},l.prototype.eq=function(h){return this.cmp(h)===0},l.red=function(h){return new $(h)},l.prototype.toRed=function(h){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),h.convertTo(this)._forceRed(h)},l.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},l.prototype._forceRed=function(h){return this.red=h,this},l.prototype.forceRed=function(h){return i(!this.red,"Already a number in reduction context"),this._forceRed(h)},l.prototype.redAdd=function(h){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,h)},l.prototype.redIAdd=function(h){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,h)},l.prototype.redSub=function(h){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,h)},l.prototype.redISub=function(h){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,h)},l.prototype.redShl=function(h){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,h)},l.prototype.redMul=function(h){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.mul(this,h)},l.prototype.redIMul=function(h){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.imul(this,h)},l.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},l.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},l.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},l.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},l.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},l.prototype.redPow=function(h){return i(this.red&&!h.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,h)};var te={k256:null,p224:null,p192:null,p25519:null};function ce(T,h){this.name=T,this.p=new l(h,16),this.n=this.p.bitLength(),this.k=new l(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}ce.prototype._tmp=function(){var h=new l(null);return h.words=new Array(Math.ceil(this.n/13)),h},ce.prototype.ireduce=function(h){var _=h,A;do this.split(_,this.tmp),_=this.imulK(_),_=_.iadd(this.tmp),A=_.bitLength();while(A>this.n);var O=A<this.n?-1:_.ucmp(this.p);return O===0?(_.words[0]=0,_.length=1):O>0?_.isub(this.p):_.strip!==void 0?_.strip():_._strip(),_},ce.prototype.split=function(h,_){h.iushrn(this.n,0,_)},ce.prototype.imulK=function(h){return h.imul(this.k)};function se(){ce.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(se,ce),se.prototype.split=function(h,_){for(var A=4194303,O=Math.min(h.length,9),H=0;H<O;H++)_.words[H]=h.words[H];if(_.length=O,h.length<=9){h.words[0]=0,h.length=1;return}var B=h.words[9];for(_.words[_.length++]=B&A,H=10;H<h.length;H++){var E=h.words[H]|0;h.words[H-10]=(E&A)<<4|B>>>22,B=E}B>>>=22,h.words[H-10]=B,B===0&&h.length>10?h.length-=10:h.length-=9},se.prototype.imulK=function(h){h.words[h.length]=0,h.words[h.length+1]=0,h.length+=2;for(var _=0,A=0;A<h.length;A++){var O=h.words[A]|0;_+=O*977,h.words[A]=_&67108863,_=O*64+(_/67108864|0)}return h.words[h.length-1]===0&&(h.length--,h.words[h.length-1]===0&&h.length--),h};function oe(){ce.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(oe,ce);function F(){ce.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(F,ce);function Y(){ce.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(Y,ce),Y.prototype.imulK=function(h){for(var _=0,A=0;A<h.length;A++){var O=(h.words[A]|0)*19+_,H=O&67108863;O>>>=26,h.words[A]=H,_=O}return _!==0&&(h.words[h.length++]=_),h},l._prime=function(h){if(te[h])return te[h];var _;if(h==="k256")_=new se;else if(h==="p224")_=new oe;else if(h==="p192")_=new F;else if(h==="p25519")_=new Y;else throw new Error("Unknown prime "+h);return te[h]=_,_};function $(T){if(typeof T=="string"){var h=l._prime(T);this.m=h.p,this.prime=h}else i(T.gtn(1),"modulus must be greater than 1"),this.m=T,this.prime=null}$.prototype._verify1=function(h){i(h.negative===0,"red works only with positives"),i(h.red,"red works only with red numbers")},$.prototype._verify2=function(h,_){i((h.negative|_.negative)===0,"red works only with positives"),i(h.red&&h.red===_.red,"red works only with red numbers")},$.prototype.imod=function(h){return this.prime?this.prime.ireduce(h)._forceRed(this):(S(h,h.umod(this.m)._forceRed(this)),h)},$.prototype.neg=function(h){return h.isZero()?h.clone():this.m.sub(h)._forceRed(this)},$.prototype.add=function(h,_){this._verify2(h,_);var A=h.add(_);return A.cmp(this.m)>=0&&A.isub(this.m),A._forceRed(this)},$.prototype.iadd=function(h,_){this._verify2(h,_);var A=h.iadd(_);return A.cmp(this.m)>=0&&A.isub(this.m),A},$.prototype.sub=function(h,_){this._verify2(h,_);var A=h.sub(_);return A.cmpn(0)<0&&A.iadd(this.m),A._forceRed(this)},$.prototype.isub=function(h,_){this._verify2(h,_);var A=h.isub(_);return A.cmpn(0)<0&&A.iadd(this.m),A},$.prototype.shl=function(h,_){return this._verify1(h),this.imod(h.ushln(_))},$.prototype.imul=function(h,_){return this._verify2(h,_),this.imod(h.imul(_))},$.prototype.mul=function(h,_){return this._verify2(h,_),this.imod(h.mul(_))},$.prototype.isqr=function(h){return this.imul(h,h.clone())},$.prototype.sqr=function(h){return this.mul(h,h)},$.prototype.sqrt=function(h){if(h.isZero())return h.clone();var _=this.m.andln(3);if(i(_%2===1),_===3){var A=this.m.add(new l(1)).iushrn(2);return this.pow(h,A)}for(var O=this.m.subn(1),H=0;!O.isZero()&&O.andln(1)===0;)H++,O.iushrn(1);i(!O.isZero());var B=new l(1).toRed(this),E=B.redNeg(),m=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new l(2*d*d).toRed(this);this.pow(d,m).cmp(E)!==0;)d.redIAdd(E);for(var b=this.pow(d,O),N=this.pow(h,O.addn(1).iushrn(1)),U=this.pow(h,O),Z=H;U.cmp(B)!==0;){for(var ae=U,we=0;ae.cmp(B)!==0;we++)ae=ae.redSqr();i(we<Z);var Se=this.pow(b,new l(1).iushln(Z-we-1));N=N.redMul(Se),b=Se.redSqr(),U=U.redMul(b),Z=we}return N},$.prototype.invm=function(h){var _=h._invmp(this.m);return _.negative!==0?(_.negative=0,this.imod(_).redNeg()):this.imod(_)},$.prototype.pow=function(h,_){if(_.isZero())return new l(1).toRed(this);if(_.cmpn(1)===0)return h.clone();var A=4,O=new Array(1<<A);O[0]=new l(1).toRed(this),O[1]=h;for(var H=2;H<O.length;H++)O[H]=this.mul(O[H-1],h);var B=O[0],E=0,m=0,d=_.bitLength()%26;for(d===0&&(d=26),H=_.length-1;H>=0;H--){for(var b=_.words[H],N=d-1;N>=0;N--){var U=b>>N&1;if(B!==O[0]&&(B=this.sqr(B)),U===0&&E===0){m=0;continue}E<<=1,E|=U,m++,!(m!==A&&(H!==0||N!==0))&&(B=this.mul(B,O[E]),m=0,E=0)}d=26}return B},$.prototype.convertTo=function(h){var _=h.umod(this.m);return _===h?_.clone():_},$.prototype.convertFrom=function(h){var _=h.clone();return _.red=null,_},l.mont=function(h){return new W(h)};function W(T){$.call(this,T),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new l(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(W,$),W.prototype.convertTo=function(h){return this.imod(h.ushln(this.shift))},W.prototype.convertFrom=function(h){var _=this.imod(h.mul(this.rinv));return _.red=null,_},W.prototype.imul=function(h,_){if(h.isZero()||_.isZero())return h.words[0]=0,h.length=1,h;var A=h.imul(_),O=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),H=A.isub(O).iushrn(this.shift),B=H;return H.cmp(this.m)>=0?B=H.isub(this.m):H.cmpn(0)<0&&(B=H.iadd(this.m)),B._forceRed(this)},W.prototype.mul=function(h,_){if(h.isZero()||_.isZero())return new l(0)._forceRed(this);var A=h.mul(_),O=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),H=A.isub(O).iushrn(this.shift),B=H;return H.cmp(this.m)>=0?B=H.isub(this.m):H.cmpn(0)<0&&(B=H.iadd(this.m)),B._forceRed(this)},W.prototype.invm=function(h){var _=this.imod(h._invmp(this.m).mul(this.r2));return _._forceRed(this)}})(s,N2)})(Au)),Au.exports}var k2=W0();const mn=Ci(k2);var ou={exports:{}};var Pg;function $0(){return Pg||(Pg=1,(function(s,t){var n=H0(),i=n.Buffer;function o(u,f){for(var y in u)f[y]=u[y]}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?s.exports=n:(o(n,t),t.Buffer=l);function l(u,f,y){return i(u,f,y)}l.prototype=Object.create(i.prototype),o(i,l),l.from=function(u,f,y){if(typeof u=="number")throw new TypeError("Argument must not be a number");return i(u,f,y)},l.alloc=function(u,f,y){if(typeof u!="number")throw new TypeError("Argument must be a number");var w=i(u);return f!==void 0?typeof y=="string"?w.fill(f,y):w.fill(f):w.fill(0),w},l.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return i(u)},l.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(u)}})(ou,ou.exports)),ou.exports}var Mh,qg;function I2(){if(qg)return Mh;qg=1;var s=$0().Buffer;function t(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var i=new Uint8Array(256),o=0;o<i.length;o++)i[o]=255;for(var l=0;l<n.length;l++){var u=n.charAt(l),f=u.charCodeAt(0);if(i[f]!==255)throw new TypeError(u+" is ambiguous");i[f]=l}var y=n.length,w=n.charAt(0),S=Math.log(y)/Math.log(256),C=Math.log(256)/Math.log(y);function I(L){if((Array.isArray(L)||L instanceof Uint8Array)&&(L=s.from(L)),!s.isBuffer(L))throw new TypeError("Expected Buffer");if(L.length===0)return"";for(var z=0,P=0,K=0,G=L.length;K!==G&&L[K]===0;)K++,z++;for(var X=(G-K)*C+1>>>0,te=new Uint8Array(X);K!==G;){for(var ce=L[K],se=0,oe=X-1;(ce!==0||se<P)&&oe!==-1;oe--,se++)ce+=256*te[oe]>>>0,te[oe]=ce%y>>>0,ce=ce/y>>>0;if(ce!==0)throw new Error("Non-zero carry");P=se,K++}for(var F=X-P;F!==X&&te[F]===0;)F++;for(var Y=w.repeat(z);F<X;++F)Y+=n.charAt(te[F]);return Y}function x(L){if(typeof L!="string")throw new TypeError("Expected String");if(L.length===0)return s.alloc(0);for(var z=0,P=0,K=0;L[z]===w;)P++,z++;for(var G=(L.length-z)*S+1>>>0,X=new Uint8Array(G);z<L.length;){var te=L.charCodeAt(z);if(te>255)return;var ce=i[te];if(ce===255)return;for(var se=0,oe=G-1;(ce!==0||se<K)&&oe!==-1;oe--,se++)ce+=y*X[oe]>>>0,X[oe]=ce%256>>>0,ce=ce/256>>>0;if(ce!==0)throw new Error("Non-zero carry");K=se,z++}for(var F=G-K;F!==G&&X[F]===0;)F++;var Y=s.allocUnsafe(P+(G-F));Y.fill(0,0,P);for(var $=P;F!==G;)Y[$++]=X[F++];return Y}function M(L){var z=x(L);if(z)return z;throw new Error("Non-base"+y+" character")}return{encode:I,decodeUnsafe:x,decode:M}}return Mh=t,Mh}var Dh,Kg;function C2(){if(Kg)return Dh;Kg=1;var s=I2(),t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return Dh=s(t),Dh}var B2=C2();const Cn=Ci(B2),Cu=Sw;var Bt={},Lh,Gg;function M2(){if(Gg)return Lh;Gg=1;var s=$0().Buffer;function t(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var i=new Uint8Array(256),o=0;o<i.length;o++)i[o]=255;for(var l=0;l<n.length;l++){var u=n.charAt(l),f=u.charCodeAt(0);if(i[f]!==255)throw new TypeError(u+" is ambiguous");i[f]=l}var y=n.length,w=n.charAt(0),S=Math.log(y)/Math.log(256),C=Math.log(256)/Math.log(y);function I(L){if((Array.isArray(L)||L instanceof Uint8Array)&&(L=s.from(L)),!s.isBuffer(L))throw new TypeError("Expected Buffer");if(L.length===0)return"";for(var z=0,P=0,K=0,G=L.length;K!==G&&L[K]===0;)K++,z++;for(var X=(G-K)*C+1>>>0,te=new Uint8Array(X);K!==G;){for(var ce=L[K],se=0,oe=X-1;(ce!==0||se<P)&&oe!==-1;oe--,se++)ce+=256*te[oe]>>>0,te[oe]=ce%y>>>0,ce=ce/y>>>0;if(ce!==0)throw new Error("Non-zero carry");P=se,K++}for(var F=X-P;F!==X&&te[F]===0;)F++;for(var Y=w.repeat(z);F<X;++F)Y+=n.charAt(te[F]);return Y}function x(L){if(typeof L!="string")throw new TypeError("Expected String");if(L.length===0)return s.alloc(0);for(var z=0,P=0,K=0;L[z]===w;)P++,z++;for(var G=(L.length-z)*S+1>>>0,X=new Uint8Array(G);z<L.length;){var te=L.charCodeAt(z);if(te>255)return;var ce=i[te];if(ce===255)return;for(var se=0,oe=G-1;(ce!==0||se<K)&&oe!==-1;oe--,se++)ce+=y*X[oe]>>>0,X[oe]=ce%256>>>0,ce=ce/256>>>0;if(ce!==0)throw new Error("Non-zero carry");K=se,z++}for(var F=G-K;F!==G&&X[F]===0;)F++;var Y=s.allocUnsafe(P+(G-F));Y.fill(0,0,P);for(var $=P;F!==G;)Y[$++]=X[F++];return Y}function M(L){var z=x(L);if(z)return z;throw new Error("Non-base"+y+" character")}return{encode:I,decodeUnsafe:x,decode:M}}return Lh=t,Lh}var Uh,Vg;function D2(){if(Vg)return Uh;Vg=1;var s=M2(),t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return Uh=s(t),Uh}function Ri(s,t,n){return t<=s&&s<=n}function Zu(s){if(s===void 0)return{};if(s===Object(s))return s;throw TypeError("Could not convert argument to dictionary")}function L2(s){for(var t=String(s),n=t.length,i=0,o=[];i<n;){var l=t.charCodeAt(i);if(l<55296||l>57343)o.push(l);else if(56320<=l&&l<=57343)o.push(65533);else if(55296<=l&&l<=56319)if(i===n-1)o.push(65533);else{var u=s.charCodeAt(i+1);if(56320<=u&&u<=57343){var f=l&1023,y=u&1023;o.push(65536+(f<<10)+y),i+=1}else o.push(65533)}i+=1}return o}function U2(s){for(var t="",n=0;n<s.length;++n){var i=s[n];i<=65535?t+=String.fromCharCode(i):(i-=65536,t+=String.fromCharCode((i>>10)+55296,(i&1023)+56320))}return t}var Bu=-1;function X0(s){this.tokens=[].slice.call(s)}X0.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Bu},prepend:function(s){if(Array.isArray(s))for(var t=s;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(s)},push:function(s){if(Array.isArray(s))for(var t=s;t.length;)this.tokens.push(t.shift());else this.tokens.push(s)}};var ho=-1;function zh(s,t){if(s)throw TypeError("Decoder error");return t||65533}var Mu="utf-8";function Du(s,t){if(!(this instanceof Du))return new Du(s,t);if(s=s!==void 0?String(s).toLowerCase():Mu,s!==Mu)throw new Error("Encoding not supported. Only utf-8 is supported");t=Zu(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Du.prototype={decode:function(t,n){var i;typeof t=="object"&&t instanceof ArrayBuffer?i=new Uint8Array(t):typeof t=="object"&&"buffer"in t&&t.buffer instanceof ArrayBuffer?i=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):i=new Uint8Array(0),n=Zu(n),this._streaming||(this._decoder=new z2({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var o=new X0(i),l=[],u;!o.endOfStream()&&(u=this._decoder.handler(o,o.read()),u!==ho);)u!==null&&(Array.isArray(u)?l.push.apply(l,u):l.push(u));if(!this._streaming){do{if(u=this._decoder.handler(o,o.read()),u===ho)break;u!==null&&(Array.isArray(u)?l.push.apply(l,u):l.push(u))}while(!o.endOfStream());this._decoder=null}return l.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(l[0]===65279?(this._BOMseen=!0,l.shift()):this._BOMseen=!0),U2(l)}};function Lu(s,t){if(!(this instanceof Lu))return new Lu(s,t);if(s=s!==void 0?String(s).toLowerCase():Mu,s!==Mu)throw new Error("Encoding not supported. Only utf-8 is supported");t=Zu(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Lu.prototype={encode:function(t,n){t=t?String(t):"",n=Zu(n),this._streaming||(this._encoder=new j2(this._options)),this._streaming=!!n.stream;for(var i=[],o=new X0(L2(t)),l;!o.endOfStream()&&(l=this._encoder.handler(o,o.read()),l!==ho);)Array.isArray(l)?i.push.apply(i,l):i.push(l);if(!this._streaming){for(;l=this._encoder.handler(o,o.read()),l!==ho;)Array.isArray(l)?i.push.apply(i,l):i.push(l);this._encoder=null}return new Uint8Array(i)}};function z2(s){var t=s.fatal,n=0,i=0,o=0,l=128,u=191;this.handler=function(f,y){if(y===Bu&&o!==0)return o=0,zh(t);if(y===Bu)return ho;if(o===0){if(Ri(y,0,127))return y;if(Ri(y,194,223))o=1,n=y-192;else if(Ri(y,224,239))y===224&&(l=160),y===237&&(u=159),o=2,n=y-224;else if(Ri(y,240,244))y===240&&(l=144),y===244&&(u=143),o=3,n=y-240;else return zh(t);return n=n<<6*o,null}if(!Ri(y,l,u))return n=o=i=0,l=128,u=191,f.prepend(y),zh(t);if(l=128,u=191,i+=1,n+=y-128<<6*(o-i),i!==o)return null;var w=n;return n=o=i=0,w}}function j2(s){s.fatal,this.handler=function(t,n){if(n===Bu)return ho;if(Ri(n,0,127))return n;var i,o;Ri(n,128,2047)?(i=1,o=192):Ri(n,2048,65535)?(i=2,o=224):Ri(n,65536,1114111)&&(i=3,o=240);for(var l=[(n>>6*i)+o];i>0;){var u=n>>6*(i-1);l.push(128|u&63),i-=1}return l}}const H2=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:Du,TextEncoder:Lu},Symbol.toStringTag,{value:"Module"})),P2=Vu(H2);var Fg;function q2(){if(Fg)return Bt;Fg=1;var s=Bt&&Bt.__createBinding||(Object.create?(function(F,Y,$,W){W===void 0&&(W=$),Object.defineProperty(F,W,{enumerable:!0,get:function(){return Y[$]}})}):(function(F,Y,$,W){W===void 0&&(W=$),F[W]=Y[$]})),t=Bt&&Bt.__setModuleDefault||(Object.create?(function(F,Y){Object.defineProperty(F,"default",{enumerable:!0,value:Y})}):function(F,Y){F.default=Y}),n=Bt&&Bt.__decorate||function(F,Y,$,W){var T=arguments.length,h=T<3?Y:W===null?W=Object.getOwnPropertyDescriptor(Y,$):W,_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(F,Y,$,W);else for(var A=F.length-1;A>=0;A--)(_=F[A])&&(h=(T<3?_(h):T>3?_(Y,$,h):_(Y,$))||h);return T>3&&h&&Object.defineProperty(Y,$,h),h},i=Bt&&Bt.__importStar||function(F){if(F&&F.__esModule)return F;var Y={};if(F!=null)for(var $ in F)$!=="default"&&Object.hasOwnProperty.call(F,$)&&s(Y,F,$);return t(Y,F),Y},o=Bt&&Bt.__importDefault||function(F){return F&&F.__esModule?F:{default:F}};Object.defineProperty(Bt,"__esModule",{value:!0}),Bt.deserializeUnchecked=Bt.deserialize=Bt.serialize=Bt.BinaryReader=Bt.BinaryWriter=Bt.BorshError=Bt.baseDecode=Bt.baseEncode=void 0;const l=o(W0()),u=o(D2()),f=i(P2),y=typeof TextDecoder!="function"?f.TextDecoder:TextDecoder,w=new y("utf-8",{fatal:!0});function S(F){return typeof F=="string"&&(F=Buffer.from(F,"utf8")),u.default.encode(Buffer.from(F))}Bt.baseEncode=S;function C(F){return Buffer.from(u.default.decode(F))}Bt.baseDecode=C;const I=1024;class x extends Error{constructor(Y){super(Y),this.fieldPath=[],this.originalMessage=Y}addToFieldPath(Y){this.fieldPath.splice(0,0,Y),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}Bt.BorshError=x;class M{constructor(){this.buf=Buffer.alloc(I),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(I)]))}writeU8(Y){this.maybeResize(),this.buf.writeUInt8(Y,this.length),this.length+=1}writeU16(Y){this.maybeResize(),this.buf.writeUInt16LE(Y,this.length),this.length+=2}writeU32(Y){this.maybeResize(),this.buf.writeUInt32LE(Y,this.length),this.length+=4}writeU64(Y){this.maybeResize(),this.writeBuffer(Buffer.from(new l.default(Y).toArray("le",8)))}writeU128(Y){this.maybeResize(),this.writeBuffer(Buffer.from(new l.default(Y).toArray("le",16)))}writeU256(Y){this.maybeResize(),this.writeBuffer(Buffer.from(new l.default(Y).toArray("le",32)))}writeU512(Y){this.maybeResize(),this.writeBuffer(Buffer.from(new l.default(Y).toArray("le",64)))}writeBuffer(Y){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),Y,Buffer.alloc(I)]),this.length+=Y.length}writeString(Y){this.maybeResize();const $=Buffer.from(Y,"utf8");this.writeU32($.length),this.writeBuffer($)}writeFixedArray(Y){this.writeBuffer(Buffer.from(Y))}writeArray(Y,$){this.maybeResize(),this.writeU32(Y.length);for(const W of Y)this.maybeResize(),$(W)}toArray(){return this.buf.subarray(0,this.length)}}Bt.BinaryWriter=M;function L(F,Y,$){const W=$.value;$.value=function(...T){try{return W.apply(this,T)}catch(h){if(h instanceof RangeError){const _=h.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(_)>=0)throw new x("Reached the end of buffer when deserializing")}throw h}}}class z{constructor(Y){this.buf=Y,this.offset=0}readU8(){const Y=this.buf.readUInt8(this.offset);return this.offset+=1,Y}readU16(){const Y=this.buf.readUInt16LE(this.offset);return this.offset+=2,Y}readU32(){const Y=this.buf.readUInt32LE(this.offset);return this.offset+=4,Y}readU64(){const Y=this.readBuffer(8);return new l.default(Y,"le")}readU128(){const Y=this.readBuffer(16);return new l.default(Y,"le")}readU256(){const Y=this.readBuffer(32);return new l.default(Y,"le")}readU512(){const Y=this.readBuffer(64);return new l.default(Y,"le")}readBuffer(Y){if(this.offset+Y>this.buf.length)throw new x(`Expected buffer length ${Y} isn't within bounds`);const $=this.buf.slice(this.offset,this.offset+Y);return this.offset+=Y,$}readString(){const Y=this.readU32(),$=this.readBuffer(Y);try{return w.decode($)}catch(W){throw new x(`Error decoding UTF-8 string: ${W}`)}}readFixedArray(Y){return new Uint8Array(this.readBuffer(Y))}readArray(Y){const $=this.readU32(),W=Array();for(let T=0;T<$;++T)W.push(Y());return W}}n([L],z.prototype,"readU8",null),n([L],z.prototype,"readU16",null),n([L],z.prototype,"readU32",null),n([L],z.prototype,"readU64",null),n([L],z.prototype,"readU128",null),n([L],z.prototype,"readU256",null),n([L],z.prototype,"readU512",null),n([L],z.prototype,"readString",null),n([L],z.prototype,"readFixedArray",null),n([L],z.prototype,"readArray",null),Bt.BinaryReader=z;function P(F){return F.charAt(0).toUpperCase()+F.slice(1)}function K(F,Y,$,W,T){try{if(typeof W=="string")T[`write${P(W)}`]($);else if(W instanceof Array)if(typeof W[0]=="number"){if($.length!==W[0])throw new x(`Expecting byte array of length ${W[0]}, but got ${$.length} bytes`);T.writeFixedArray($)}else if(W.length===2&&typeof W[1]=="number"){if($.length!==W[1])throw new x(`Expecting byte array of length ${W[1]}, but got ${$.length} bytes`);for(let h=0;h<W[1];h++)K(F,null,$[h],W[0],T)}else T.writeArray($,h=>{K(F,Y,h,W[0],T)});else if(W.kind!==void 0)switch(W.kind){case"option":{$==null?T.writeU8(0):(T.writeU8(1),K(F,Y,$,W.type,T));break}case"map":{T.writeU32($.size),$.forEach((h,_)=>{K(F,Y,_,W.key,T),K(F,Y,h,W.value,T)});break}default:throw new x(`FieldType ${W} unrecognized`)}else G(F,$,T)}catch(h){throw h instanceof x&&h.addToFieldPath(Y),h}}function G(F,Y,$){if(typeof Y.borshSerialize=="function"){Y.borshSerialize($);return}const W=F.get(Y.constructor);if(!W)throw new x(`Class ${Y.constructor.name} is missing in schema`);if(W.kind==="struct")W.fields.map(([T,h])=>{K(F,T,Y[T],h,$)});else if(W.kind==="enum"){const T=Y[W.field];for(let h=0;h<W.values.length;++h){const[_,A]=W.values[h];if(_===T){$.writeU8(h),K(F,_,Y[_],A,$);break}}}else throw new x(`Unexpected schema kind: ${W.kind} for ${Y.constructor.name}`)}function X(F,Y,$=M){const W=new $;return G(F,Y,W),W.toArray()}Bt.serialize=X;function te(F,Y,$,W){try{if(typeof $=="string")return W[`read${P($)}`]();if($ instanceof Array){if(typeof $[0]=="number")return W.readFixedArray($[0]);if(typeof $[1]=="number"){const T=[];for(let h=0;h<$[1];h++)T.push(te(F,null,$[0],W));return T}else return W.readArray(()=>te(F,Y,$[0],W))}if($.kind==="option")return W.readU8()?te(F,Y,$.type,W):void 0;if($.kind==="map"){let T=new Map;const h=W.readU32();for(let _=0;_<h;_++){const A=te(F,Y,$.key,W),O=te(F,Y,$.value,W);T.set(A,O)}return T}return ce(F,$,W)}catch(T){throw T instanceof x&&T.addToFieldPath(Y),T}}function ce(F,Y,$){if(typeof Y.borshDeserialize=="function")return Y.borshDeserialize($);const W=F.get(Y);if(!W)throw new x(`Class ${Y.name} is missing in schema`);if(W.kind==="struct"){const T={};for(const[h,_]of F.get(Y).fields)T[h]=te(F,h,_,$);return new Y(T)}if(W.kind==="enum"){const T=$.readU8();if(T>=W.values.length)throw new x(`Enum index: ${T} is out of range`);const[h,_]=W.values[T],A=te(F,h,_,$);return new Y({[h]:A})}throw new x(`Unexpected schema kind: ${W.kind} for ${Y.constructor.name}`)}function se(F,Y,$,W=z){const T=new W($),h=ce(F,Y,T);if(T.offset<$.length)throw new x(`Unexpected ${$.length-T.offset} bytes after deserialized data`);return h}Bt.deserialize=se;function oe(F,Y,$,W=z){const T=new W($);return ce(F,Y,T)}return Bt.deserializeUnchecked=oe,Bt}var jh=q2(),me={},Yg;function K2(){if(Yg)return me;Yg=1,Object.defineProperty(me,"__esModule",{value:!0}),me.s16=me.s8=me.nu64be=me.u48be=me.u40be=me.u32be=me.u24be=me.u16be=me.nu64=me.u48=me.u40=me.u32=me.u24=me.u16=me.u8=me.offset=me.greedy=me.Constant=me.UTF8=me.CString=me.Blob=me.Boolean=me.BitField=me.BitStructure=me.VariantLayout=me.Union=me.UnionLayoutDiscriminator=me.UnionDiscriminator=me.Structure=me.Sequence=me.DoubleBE=me.Double=me.FloatBE=me.Float=me.NearInt64BE=me.NearInt64=me.NearUInt64BE=me.NearUInt64=me.IntBE=me.Int=me.UIntBE=me.UInt=me.OffsetLayout=me.GreedyCount=me.ExternalLayout=me.bindConstructorLayout=me.nameWithProperty=me.Layout=me.uint8ArrayToBuffer=me.checkUint8Array=void 0,me.constant=me.utf8=me.cstr=me.blob=me.unionLayoutDiscriminator=me.union=me.seq=me.bits=me.struct=me.f64be=me.f64=me.f32be=me.f32=me.ns64be=me.s48be=me.s40be=me.s32be=me.s24be=me.s16be=me.ns64=me.s48=me.s40=me.s32=me.s24=void 0;const s=H0();function t(d){if(!(d instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}me.checkUint8Array=t;function n(d){return t(d),s.Buffer.from(d.buffer,d.byteOffset,d.length)}me.uint8ArrayToBuffer=n;class i{constructor(b,N){if(!Number.isInteger(b))throw new TypeError("span must be an integer");this.span=b,this.property=N}makeDestinationObject(){return{}}getSpan(b,N){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(b){const N=Object.create(this.constructor.prototype);return Object.assign(N,this),N.property=b,N}fromArray(b){}}me.Layout=i;function o(d,b){return b.property?d+"["+b.property+"]":d}me.nameWithProperty=o;function l(d,b){if(typeof d!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(d,"layout_"))throw new Error("Class is already bound to a layout");if(!(b&&b instanceof i))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(b,"boundConstructor_"))throw new Error("layout is already bound to a constructor");d.layout_=b,b.boundConstructor_=d,b.makeDestinationObject=(()=>new d),Object.defineProperty(d.prototype,"encode",{value(N,U){return b.encode(this,N,U)},writable:!0}),Object.defineProperty(d,"decode",{value(N,U){return b.decode(N,U)},writable:!0})}me.bindConstructorLayout=l;class u extends i{isCount(){throw new Error("ExternalLayout is abstract")}}me.ExternalLayout=u;class f extends u{constructor(b=1,N){if(!Number.isInteger(b)||0>=b)throw new TypeError("elementSpan must be a (positive) integer");super(-1,N),this.elementSpan=b}isCount(){return!0}decode(b,N=0){t(b);const U=b.length-N;return Math.floor(U/this.elementSpan)}encode(b,N,U){return 0}}me.GreedyCount=f;class y extends u{constructor(b,N=0,U){if(!(b instanceof i))throw new TypeError("layout must be a Layout");if(!Number.isInteger(N))throw new TypeError("offset must be integer or undefined");super(b.span,U||b.property),this.layout=b,this.offset=N}isCount(){return this.layout instanceof w||this.layout instanceof S}decode(b,N=0){return this.layout.decode(b,N+this.offset)}encode(b,N,U=0){return this.layout.encode(b,N,U+this.offset)}}me.OffsetLayout=y;class w extends i{constructor(b,N){if(super(b,N),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(b,N=0){return n(b).readUIntLE(N,this.span)}encode(b,N,U=0){return n(N).writeUIntLE(b,U,this.span),this.span}}me.UInt=w;class S extends i{constructor(b,N){if(super(b,N),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(b,N=0){return n(b).readUIntBE(N,this.span)}encode(b,N,U=0){return n(N).writeUIntBE(b,U,this.span),this.span}}me.UIntBE=S;class C extends i{constructor(b,N){if(super(b,N),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(b,N=0){return n(b).readIntLE(N,this.span)}encode(b,N,U=0){return n(N).writeIntLE(b,U,this.span),this.span}}me.Int=C;class I extends i{constructor(b,N){if(super(b,N),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(b,N=0){return n(b).readIntBE(N,this.span)}encode(b,N,U=0){return n(N).writeIntBE(b,U,this.span),this.span}}me.IntBE=I;const x=Math.pow(2,32);function M(d){const b=Math.floor(d/x),N=d-b*x;return{hi32:b,lo32:N}}function L(d,b){return d*x+b}class z extends i{constructor(b){super(8,b)}decode(b,N=0){const U=n(b),Z=U.readUInt32LE(N),ae=U.readUInt32LE(N+4);return L(ae,Z)}encode(b,N,U=0){const Z=M(b),ae=n(N);return ae.writeUInt32LE(Z.lo32,U),ae.writeUInt32LE(Z.hi32,U+4),8}}me.NearUInt64=z;class P extends i{constructor(b){super(8,b)}decode(b,N=0){const U=n(b),Z=U.readUInt32BE(N),ae=U.readUInt32BE(N+4);return L(Z,ae)}encode(b,N,U=0){const Z=M(b),ae=n(N);return ae.writeUInt32BE(Z.hi32,U),ae.writeUInt32BE(Z.lo32,U+4),8}}me.NearUInt64BE=P;class K extends i{constructor(b){super(8,b)}decode(b,N=0){const U=n(b),Z=U.readUInt32LE(N),ae=U.readInt32LE(N+4);return L(ae,Z)}encode(b,N,U=0){const Z=M(b),ae=n(N);return ae.writeUInt32LE(Z.lo32,U),ae.writeInt32LE(Z.hi32,U+4),8}}me.NearInt64=K;class G extends i{constructor(b){super(8,b)}decode(b,N=0){const U=n(b),Z=U.readInt32BE(N),ae=U.readUInt32BE(N+4);return L(Z,ae)}encode(b,N,U=0){const Z=M(b),ae=n(N);return ae.writeInt32BE(Z.hi32,U),ae.writeUInt32BE(Z.lo32,U+4),8}}me.NearInt64BE=G;class X extends i{constructor(b){super(4,b)}decode(b,N=0){return n(b).readFloatLE(N)}encode(b,N,U=0){return n(N).writeFloatLE(b,U),4}}me.Float=X;class te extends i{constructor(b){super(4,b)}decode(b,N=0){return n(b).readFloatBE(N)}encode(b,N,U=0){return n(N).writeFloatBE(b,U),4}}me.FloatBE=te;class ce extends i{constructor(b){super(8,b)}decode(b,N=0){return n(b).readDoubleLE(N)}encode(b,N,U=0){return n(N).writeDoubleLE(b,U),8}}me.Double=ce;class se extends i{constructor(b){super(8,b)}decode(b,N=0){return n(b).readDoubleBE(N)}encode(b,N,U=0){return n(N).writeDoubleBE(b,U),8}}me.DoubleBE=se;class oe extends i{constructor(b,N,U){if(!(b instanceof i))throw new TypeError("elementLayout must be a Layout");if(!(N instanceof u&&N.isCount()||Number.isInteger(N)&&0<=N))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let Z=-1;!(N instanceof u)&&0<b.span&&(Z=N*b.span),super(Z,U),this.elementLayout=b,this.count=N}getSpan(b,N=0){if(0<=this.span)return this.span;let U=0,Z=this.count;if(Z instanceof u&&(Z=Z.decode(b,N)),0<this.elementLayout.span)U=Z*this.elementLayout.span;else{let ae=0;for(;ae<Z;)U+=this.elementLayout.getSpan(b,N+U),++ae}return U}decode(b,N=0){const U=[];let Z=0,ae=this.count;for(ae instanceof u&&(ae=ae.decode(b,N));Z<ae;)U.push(this.elementLayout.decode(b,N)),N+=this.elementLayout.getSpan(b,N),Z+=1;return U}encode(b,N,U=0){const Z=this.elementLayout,ae=b.reduce((we,Se)=>we+Z.encode(Se,N,U+we),0);return this.count instanceof u&&this.count.encode(b.length,N,U),ae}}me.Sequence=oe;class F extends i{constructor(b,N,U){if(!(Array.isArray(b)&&b.reduce((ae,we)=>ae&&we instanceof i,!0)))throw new TypeError("fields must be array of Layout instances");typeof N=="boolean"&&U===void 0&&(U=N,N=void 0);for(const ae of b)if(0>ae.span&&ae.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let Z=-1;try{Z=b.reduce((ae,we)=>ae+we.getSpan(),0)}catch{}super(Z,N),this.fields=b,this.decodePrefixes=!!U}getSpan(b,N=0){if(0<=this.span)return this.span;let U=0;try{U=this.fields.reduce((Z,ae)=>{const we=ae.getSpan(b,N);return N+=we,Z+we},0)}catch{throw new RangeError("indeterminate span")}return U}decode(b,N=0){t(b);const U=this.makeDestinationObject();for(const Z of this.fields)if(Z.property!==void 0&&(U[Z.property]=Z.decode(b,N)),N+=Z.getSpan(b,N),this.decodePrefixes&&b.length===N)break;return U}encode(b,N,U=0){const Z=U;let ae=0,we=0;for(const Se of this.fields){let qe=Se.span;if(we=0<qe?qe:0,Se.property!==void 0){const ve=b[Se.property];ve!==void 0&&(we=Se.encode(ve,N,U),0>qe&&(qe=Se.getSpan(N,U)))}ae=U,U+=qe}return ae+we-Z}fromArray(b){const N=this.makeDestinationObject();for(const U of this.fields)U.property!==void 0&&0<b.length&&(N[U.property]=b.shift());return N}layoutFor(b){if(typeof b!="string")throw new TypeError("property must be string");for(const N of this.fields)if(N.property===b)return N}offsetOf(b){if(typeof b!="string")throw new TypeError("property must be string");let N=0;for(const U of this.fields){if(U.property===b)return N;0>U.span?N=-1:0<=N&&(N+=U.span)}}}me.Structure=F;class Y{constructor(b){this.property=b}decode(b,N){throw new Error("UnionDiscriminator is abstract")}encode(b,N,U){throw new Error("UnionDiscriminator is abstract")}}me.UnionDiscriminator=Y;class $ extends Y{constructor(b,N){if(!(b instanceof u&&b.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(N||b.property||"variant"),this.layout=b}decode(b,N){return this.layout.decode(b,N)}encode(b,N,U){return this.layout.encode(b,N,U)}}me.UnionLayoutDiscriminator=$;class W extends i{constructor(b,N,U){let Z;if(b instanceof w||b instanceof S)Z=new $(new y(b));else if(b instanceof u&&b.isCount())Z=new $(b);else if(b instanceof Y)Z=b;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(N===void 0&&(N=null),!(N===null||N instanceof i))throw new TypeError("defaultLayout must be null or a Layout");if(N!==null){if(0>N.span)throw new Error("defaultLayout must have constant span");N.property===void 0&&(N=N.replicate("content"))}let ae=-1;N&&(ae=N.span,0<=ae&&(b instanceof w||b instanceof S)&&(ae+=Z.layout.span)),super(ae,U),this.discriminator=Z,this.usesPrefixDiscriminator=b instanceof w||b instanceof S,this.defaultLayout=N,this.registry={};let we=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(Se){return we(Se)},this.configGetSourceVariant=function(Se){we=Se.bind(this)}}getSpan(b,N=0){if(0<=this.span)return this.span;const U=this.getVariant(b,N);if(!U)throw new Error("unable to determine span for unrecognized variant");return U.getSpan(b,N)}defaultGetSourceVariant(b){if(Object.prototype.hasOwnProperty.call(b,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(b,this.defaultLayout.property))return;const N=this.registry[b[this.discriminator.property]];if(N&&(!N.layout||N.property&&Object.prototype.hasOwnProperty.call(b,N.property)))return N}else for(const N in this.registry){const U=this.registry[N];if(U.property&&Object.prototype.hasOwnProperty.call(b,U.property))return U}throw new Error("unable to infer src variant")}decode(b,N=0){let U;const Z=this.discriminator,ae=Z.decode(b,N),we=this.registry[ae];if(we===void 0){const Se=this.defaultLayout;let qe=0;this.usesPrefixDiscriminator&&(qe=Z.layout.span),U=this.makeDestinationObject(),U[Z.property]=ae,U[Se.property]=Se.decode(b,N+qe)}else U=we.decode(b,N);return U}encode(b,N,U=0){const Z=this.getSourceVariant(b);if(Z===void 0){const ae=this.discriminator,we=this.defaultLayout;let Se=0;return this.usesPrefixDiscriminator&&(Se=ae.layout.span),ae.encode(b[ae.property],N,U),Se+we.encode(b[we.property],N,U+Se)}return Z.encode(b,N,U)}addVariant(b,N,U){const Z=new T(this,b,N,U);return this.registry[b]=Z,Z}getVariant(b,N=0){let U;return b instanceof Uint8Array?U=this.discriminator.decode(b,N):U=b,this.registry[U]}}me.Union=W;class T extends i{constructor(b,N,U,Z){if(!(b instanceof W))throw new TypeError("union must be a Union");if(!Number.isInteger(N)||0>N)throw new TypeError("variant must be a (non-negative) integer");if(typeof U=="string"&&Z===void 0&&(Z=U,U=null),U){if(!(U instanceof i))throw new TypeError("layout must be a Layout");if(b.defaultLayout!==null&&0<=U.span&&U.span>b.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof Z!="string")throw new TypeError("variant must have a String property")}let ae=b.span;0>b.span&&(ae=U?U.span:0,0<=ae&&b.usesPrefixDiscriminator&&(ae+=b.discriminator.layout.span)),super(ae,Z),this.union=b,this.variant=N,this.layout=U||null}getSpan(b,N=0){if(0<=this.span)return this.span;let U=0;this.union.usesPrefixDiscriminator&&(U=this.union.discriminator.layout.span);let Z=0;return this.layout&&(Z=this.layout.getSpan(b,N+U)),U+Z}decode(b,N=0){const U=this.makeDestinationObject();if(this!==this.union.getVariant(b,N))throw new Error("variant mismatch");let Z=0;return this.union.usesPrefixDiscriminator&&(Z=this.union.discriminator.layout.span),this.layout?U[this.property]=this.layout.decode(b,N+Z):this.property?U[this.property]=!0:this.union.usesPrefixDiscriminator&&(U[this.union.discriminator.property]=this.variant),U}encode(b,N,U=0){let Z=0;if(this.union.usesPrefixDiscriminator&&(Z=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(b,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,N,U);let ae=Z;if(this.layout&&(this.layout.encode(b[this.property],N,U+Z),ae+=this.layout.getSpan(N,U+Z),0<=this.union.span&&ae>this.union.span))throw new Error("encoded variant overruns containing union");return ae}fromArray(b){if(this.layout)return this.layout.fromArray(b)}}me.VariantLayout=T;function h(d){return 0>d&&(d+=4294967296),d}class _ extends i{constructor(b,N,U){if(!(b instanceof w||b instanceof S))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof N=="string"&&U===void 0&&(U=N,N=!1),4<b.span)throw new RangeError("word cannot exceed 32 bits");super(b.span,U),this.word=b,this.msb=!!N,this.fields=[];let Z=0;this._packedSetValue=function(ae){return Z=h(ae),this},this._packedGetValue=function(){return Z}}decode(b,N=0){const U=this.makeDestinationObject(),Z=this.word.decode(b,N);this._packedSetValue(Z);for(const ae of this.fields)ae.property!==void 0&&(U[ae.property]=ae.decode(b));return U}encode(b,N,U=0){const Z=this.word.decode(N,U);this._packedSetValue(Z);for(const ae of this.fields)if(ae.property!==void 0){const we=b[ae.property];we!==void 0&&ae.encode(we)}return this.word.encode(this._packedGetValue(),N,U)}addField(b,N){const U=new A(this,b,N);return this.fields.push(U),U}addBoolean(b){const N=new O(this,b);return this.fields.push(N),N}fieldFor(b){if(typeof b!="string")throw new TypeError("property must be string");for(const N of this.fields)if(N.property===b)return N}}me.BitStructure=_;class A{constructor(b,N,U){if(!(b instanceof _))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(N)||0>=N)throw new TypeError("bits must be positive integer");const Z=8*b.span,ae=b.fields.reduce((we,Se)=>we+Se.bits,0);if(N+ae>Z)throw new Error("bits too long for span remainder ("+(Z-ae)+" of "+Z+" remain)");this.container=b,this.bits=N,this.valueMask=(1<<N)-1,N===32&&(this.valueMask=4294967295),this.start=ae,this.container.msb&&(this.start=Z-ae-N),this.wordMask=h(this.valueMask<<this.start),this.property=U}decode(b,N){const U=this.container._packedGetValue();return h(U&this.wordMask)>>>this.start}encode(b){if(typeof b!="number"||!Number.isInteger(b)||b!==h(b&this.valueMask))throw new TypeError(o("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const N=this.container._packedGetValue(),U=h(b<<this.start);this.container._packedSetValue(h(N&~this.wordMask)|U)}}me.BitField=A;class O extends A{constructor(b,N){super(b,1,N)}decode(b,N){return!!super.decode(b,N)}encode(b){typeof b=="boolean"&&(b=+b),super.encode(b)}}me.Boolean=O;class H extends i{constructor(b,N){if(!(b instanceof u&&b.isCount()||Number.isInteger(b)&&0<=b))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let U=-1;b instanceof u||(U=b),super(U,N),this.length=b}getSpan(b,N){let U=this.span;return 0>U&&(U=this.length.decode(b,N)),U}decode(b,N=0){let U=this.span;return 0>U&&(U=this.length.decode(b,N)),n(b).slice(N,N+U)}encode(b,N,U){let Z=this.length;if(this.length instanceof u&&(Z=b.length),!(b instanceof Uint8Array&&Z===b.length))throw new TypeError(o("Blob.encode",this)+" requires (length "+Z+") Uint8Array as src");if(U+Z>N.length)throw new RangeError("encoding overruns Uint8Array");const ae=n(b);return n(N).write(ae.toString("hex"),U,Z,"hex"),this.length instanceof u&&this.length.encode(Z,N,U),Z}}me.Blob=H;class B extends i{constructor(b){super(-1,b)}getSpan(b,N=0){t(b);let U=N;for(;U<b.length&&b[U]!==0;)U+=1;return 1+U-N}decode(b,N=0){const U=this.getSpan(b,N);return n(b).slice(N,N+U-1).toString("utf-8")}encode(b,N,U=0){typeof b!="string"&&(b=String(b));const Z=s.Buffer.from(b,"utf8"),ae=Z.length;if(U+ae>N.length)throw new RangeError("encoding overruns Buffer");const we=n(N);return Z.copy(we,U),we[U+ae]=0,ae+1}}me.CString=B;class E extends i{constructor(b,N){if(typeof b=="string"&&N===void 0&&(N=b,b=void 0),b===void 0)b=-1;else if(!Number.isInteger(b))throw new TypeError("maxSpan must be an integer");super(-1,N),this.maxSpan=b}getSpan(b,N=0){return t(b),b.length-N}decode(b,N=0){const U=this.getSpan(b,N);if(0<=this.maxSpan&&this.maxSpan<U)throw new RangeError("text length exceeds maxSpan");return n(b).slice(N,N+U).toString("utf-8")}encode(b,N,U=0){typeof b!="string"&&(b=String(b));const Z=s.Buffer.from(b,"utf8"),ae=Z.length;if(0<=this.maxSpan&&this.maxSpan<ae)throw new RangeError("text length exceeds maxSpan");if(U+ae>N.length)throw new RangeError("encoding overruns Buffer");return Z.copy(n(N),U),ae}}me.UTF8=E;class m extends i{constructor(b,N){super(0,N),this.value=b}decode(b,N){return this.value}encode(b,N,U){return 0}}return me.Constant=m,me.greedy=((d,b)=>new f(d,b)),me.offset=((d,b,N)=>new y(d,b,N)),me.u8=(d=>new w(1,d)),me.u16=(d=>new w(2,d)),me.u24=(d=>new w(3,d)),me.u32=(d=>new w(4,d)),me.u40=(d=>new w(5,d)),me.u48=(d=>new w(6,d)),me.nu64=(d=>new z(d)),me.u16be=(d=>new S(2,d)),me.u24be=(d=>new S(3,d)),me.u32be=(d=>new S(4,d)),me.u40be=(d=>new S(5,d)),me.u48be=(d=>new S(6,d)),me.nu64be=(d=>new P(d)),me.s8=(d=>new C(1,d)),me.s16=(d=>new C(2,d)),me.s24=(d=>new C(3,d)),me.s32=(d=>new C(4,d)),me.s40=(d=>new C(5,d)),me.s48=(d=>new C(6,d)),me.ns64=(d=>new K(d)),me.s16be=(d=>new I(2,d)),me.s24be=(d=>new I(3,d)),me.s32be=(d=>new I(4,d)),me.s40be=(d=>new I(5,d)),me.s48be=(d=>new I(6,d)),me.ns64be=(d=>new G(d)),me.f32=(d=>new X(d)),me.f32be=(d=>new te(d)),me.f64=(d=>new ce(d)),me.f64be=(d=>new se(d)),me.struct=((d,b,N)=>new F(d,b,N)),me.bits=((d,b,N)=>new _(d,b,N)),me.seq=((d,b,N)=>new oe(d,b,N)),me.union=((d,b,N)=>new W(d,b,N)),me.unionLayoutDiscriminator=((d,b)=>new $(d,b)),me.blob=((d,b)=>new H(d,b)),me.cstr=(d=>new B(d)),me.utf8=((d,b)=>new E(d,b)),me.constant=((d,b)=>new m(d,b)),me}var Q=K2(),G2=8078e3,V2=8078001,F2=8078004,Y2=8078005,Z2=8078006,W2=8078011;function Gw(s){return Array.isArray(s)?"%5B"+s.map(Gw).join("%2C%20")+"%5D":typeof s=="bigint"?`${s}n`:encodeURIComponent(String(s!=null&&Object.getPrototypeOf(s)===null?{...s}:s))}function $2([s,t]){return`${s}=${Gw(t)}`}function X2(s){const t=Object.entries(s).map($2).join("&");return btoa(t)}function Q2(s,t={}){{let n=`Solana error #${s}; Decode this error by running \`npx @solana/errors decode -- ${s}`;return Object.keys(t).length&&(n+=` '${X2(t)}'`),`${n}\``}}var io=class extends Error{cause=this.cause;context;constructor(...[s,t]){let n,i;if(t){const{cause:l,...u}=t;l&&(i={cause:l}),Object.keys(u).length>0&&(n=u)}const o=Q2(s,n);super(o,i),this.context={__code:s,...n},this.name="SolanaError"}};function J2(s,t){return"fixedSize"in t?t.fixedSize:t.getSizeFromValue(s)}function ex(s){return Object.freeze({...s,encode:t=>{const n=new Uint8Array(J2(t,s));return s.write(t,n,0),n}})}function tx(s){return Object.freeze({...s,decode:(t,n=0)=>s.read(t,n)[0]})}function Qa(s){return"fixedSize"in s&&typeof s.fixedSize=="number"}function nx(s,t){if(Qa(s)!==Qa(t))throw new io(F2);if(Qa(s)&&Qa(t)&&s.fixedSize!==t.fixedSize)throw new io(Y2,{decoderFixedSize:t.fixedSize,encoderFixedSize:s.fixedSize});if(!Qa(s)&&!Qa(t)&&s.maxSize!==t.maxSize)throw new io(Z2,{decoderMaxSize:t.maxSize,encoderMaxSize:s.maxSize});return{...t,...s,decode:t.decode,encode:s.encode,read:t.read,write:s.write}}function rx(s,t,n=0){if(t.length-n<=0)throw new io(G2,{codecDescription:s})}function ix(s,t,n,i=0){const o=n.length-i;if(o<t)throw new io(V2,{bytesLength:o,codecDescription:s,expected:t})}function sx(s,t,n,i){if(i<t||i>n)throw new io(W2,{codecDescription:s,max:n,min:t,value:i})}function Vw(s){return s?.endian!==1}function ax(s){return ex({fixedSize:s.size,write(t,n,i){s.range&&sx(s.name,s.range[0],s.range[1],t);const o=new ArrayBuffer(s.size);return s.set(new DataView(o),t,Vw(s.config)),n.set(new Uint8Array(o),i),i+s.size}})}function ox(s){return tx({fixedSize:s.size,read(t,n=0){rx(s.name,t,n),ix(s.name,s.size,t,n);const i=new DataView(lx(t,n,s.size));return[s.get(i,Vw(s.config)),n+s.size]}})}function lx(s,t,n){const i=s.byteOffset+(t??0),o=n??s.byteLength;return s.buffer.slice(i,i+o)}var Fw=(s={})=>ax({config:s,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(t,n,i)=>t.setBigUint64(0,BigInt(n),i),size:8}),cx=(s={})=>ox({config:s,get:(t,n)=>t.getBigUint64(0,n),name:"u64",size:8}),ux=(s={})=>nx(Fw(s),cx(s));let fx=class extends TypeError{constructor(t,n){let i;const{message:o,explanation:l,...u}=t,{path:f}=t,y=f.length===0?o:`At path: ${f.join(".")} -- ${o}`;super(l??y),l!=null&&(this.cause=y),Object.assign(this,u),this.name=this.constructor.name,this.failures=()=>i??(i=[t,...n()])}};function dx(s){return zl(s)&&typeof s[Symbol.iterator]=="function"}function zl(s){return typeof s=="object"&&s!=null}function Uu(s){return zl(s)&&!Array.isArray(s)}function Ir(s){return typeof s=="symbol"?s.toString():typeof s=="string"?JSON.stringify(s):`${s}`}function hx(s){const{done:t,value:n}=s.next();return t?void 0:n}function px(s,t,n,i){if(s===!0)return;s===!1?s={}:typeof s=="string"&&(s={message:s});const{path:o,branch:l}=t,{type:u}=n,{refinement:f,message:y=`Expected a value of type \`${u}\`${f?` with refinement \`${f}\``:""}, but received: \`${Ir(i)}\``}=s;return{value:i,type:u,refinement:f,key:o[o.length-1],path:o,branch:l,...s,message:y}}function*Zg(s,t,n,i){dx(s)||(s=[s]);for(const o of s){const l=px(o,t,n,i);l&&(yield l)}}function*Q0(s,t,n={}){const{path:i=[],branch:o=[s],coerce:l=!1,mask:u=!1}=n,f={path:i,branch:o,mask:u};l&&(s=t.coercer(s,f));let y="valid";for(const w of t.validator(s,f))w.explanation=n.message,y="not_valid",yield[w,void 0];for(let[w,S,C]of t.entries(s,f)){const I=Q0(S,C,{path:w===void 0?i:[...i,w],branch:w===void 0?o:[...o,S],coerce:l,mask:u,message:n.message});for(const x of I)x[0]?(y=x[0].refinement!=null?"not_refined":"not_valid",yield[x[0],void 0]):l&&(S=x[1],w===void 0?s=S:s instanceof Map?s.set(w,S):s instanceof Set?s.add(S):zl(s)&&(S!==void 0||w in s)&&(s[w]=S))}if(y!=="not_valid")for(const w of t.refiner(s,f))w.explanation=n.message,y="not_refined",yield[w,void 0];y==="valid"&&(yield[void 0,s])}let Xr=class{constructor(t){const{type:n,schema:i,validator:o,refiner:l,coercer:u=y=>y,entries:f=function*(){}}=t;this.type=n,this.schema=i,this.entries=f,this.coercer=u,o?this.validator=(y,w)=>{const S=o(y,w);return Zg(S,w,this,y)}:this.validator=()=>[],l?this.refiner=(y,w)=>{const S=l(y,w);return Zg(S,w,this,y)}:this.refiner=()=>[]}assert(t,n){return Yw(t,this,n)}create(t,n){return Ce(t,this,n)}is(t){return Zw(t,this)}mask(t,n){return mx(t,this,n)}validate(t,n={}){return jl(t,this,n)}};function Yw(s,t,n){const i=jl(s,t,{message:n});if(i[0])throw i[0]}function Ce(s,t,n){const i=jl(s,t,{coerce:!0,message:n});if(i[0])throw i[0];return i[1]}function mx(s,t,n){const i=jl(s,t,{coerce:!0,mask:!0,message:n});if(i[0])throw i[0];return i[1]}function Zw(s,t){return!jl(s,t)[0]}function jl(s,t,n={}){const i=Q0(s,t,n),o=hx(i);return o[0]?[new fx(o[0],function*(){for(const u of i)u[0]&&(yield u[0])}),void 0]:[void 0,o[1]]}function sa(s,t){return new Xr({type:s,schema:null,validator:t})}function yx(){return sa("any",()=>!0)}function Me(s){return new Xr({type:"array",schema:s,*entries(t){if(s&&Array.isArray(t))for(const[n,i]of t.entries())yield[n,i,s]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${Ir(t)}`}})}function $r(){return sa("boolean",s=>typeof s=="boolean")}function J0(s){return sa("instance",t=>t instanceof s||`Expected a \`${s.name}\` instance, but received: ${Ir(t)}`)}function nn(s){const t=Ir(s),n=typeof s;return new Xr({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?s:null,validator(i){return i===s||`Expected the literal \`${t}\`, but received: ${Ir(i)}`}})}function gx(){return sa("never",()=>!1)}function De(s){return new Xr({...s,validator:(t,n)=>t===null||s.validator(t,n),refiner:(t,n)=>t===null||s.refiner(t,n)})}function ue(){return sa("number",s=>typeof s=="number"&&!isNaN(s)||`Expected a number, but received: ${Ir(s)}`)}function et(s){return new Xr({...s,validator:(t,n)=>t===void 0||s.validator(t,n),refiner:(t,n)=>t===void 0||s.refiner(t,n)})}function Ww(s,t){return new Xr({type:"record",schema:null,*entries(n){if(zl(n))for(const i in n){const o=n[i];yield[i,i,s],yield[i,o,t]}},validator(n){return Uu(n)||`Expected an object, but received: ${Ir(n)}`},coercer(n){return Uu(n)?{...n}:n}})}function Ne(){return sa("string",s=>typeof s=="string"||`Expected a string, but received: ${Ir(s)}`)}function ep(s){const t=gx();return new Xr({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const i=Math.max(s.length,n.length);for(let o=0;o<i;o++)yield[o,n[o],s[o]||t]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${Ir(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function Re(s){const t=Object.keys(s);return new Xr({type:"type",schema:s,*entries(n){if(zl(n))for(const i of t)yield[i,n[i],s[i]]},validator(n){return Uu(n)||`Expected an object, but received: ${Ir(n)}`},coercer(n){return Uu(n)?{...n}:n}})}function Pn(s){const t=s.map(n=>n.type).join(" | ");return new Xr({type:"union",schema:null,coercer(n,i){for(const o of s){const[l,u]=o.validate(n,{coerce:!0,mask:i.mask});if(!l)return u}return n},validator(n,i){const o=[];for(const l of s){const[...u]=Q0(n,l,i),[f]=u;if(f[0])for(const[y]of u)y&&o.push(y);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${Ir(n)}`,...o]}})}function wo(){return sa("unknown",()=>!0)}function Hl(s,t,n){return new Xr({...s,coercer:(i,o)=>Zw(i,t)?s.coercer(n(i,o),o):s.coercer(i,o)})}var lu,bx=new Uint8Array(16);function $w(){if(!lu&&(lu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!lu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return lu(bx)}const wx=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Wu(s){return typeof s=="string"&&wx.test(s)}var In=[];for(var Hh=0;Hh<256;++Hh)In.push((Hh+256).toString(16).substr(1));function $u(s){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(In[s[t+0]]+In[s[t+1]]+In[s[t+2]]+In[s[t+3]]+"-"+In[s[t+4]]+In[s[t+5]]+"-"+In[s[t+6]]+In[s[t+7]]+"-"+In[s[t+8]]+In[s[t+9]]+"-"+In[s[t+10]]+In[s[t+11]]+In[s[t+12]]+In[s[t+13]]+In[s[t+14]]+In[s[t+15]]).toLowerCase();if(!Wu(n))throw TypeError("Stringified UUID is invalid");return n}var Wg,Ph,qh=0,Kh=0;function _x(s,t,n){var i=t&&n||0,o=t||new Array(16);s=s||{};var l=s.node||Wg,u=s.clockseq!==void 0?s.clockseq:Ph;if(l==null||u==null){var f=s.random||(s.rng||$w)();l==null&&(l=Wg=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),u==null&&(u=Ph=(f[6]<<8|f[7])&16383)}var y=s.msecs!==void 0?s.msecs:Date.now(),w=s.nsecs!==void 0?s.nsecs:Kh+1,S=y-qh+(w-Kh)/1e4;if(S<0&&s.clockseq===void 0&&(u=u+1&16383),(S<0||y>qh)&&s.nsecs===void 0&&(w=0),w>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");qh=y,Kh=w,Ph=u,y+=122192928e5;var C=((y&268435455)*1e4+w)%4294967296;o[i++]=C>>>24&255,o[i++]=C>>>16&255,o[i++]=C>>>8&255,o[i++]=C&255;var I=y/4294967296*1e4&268435455;o[i++]=I>>>8&255,o[i++]=I&255,o[i++]=I>>>24&15|16,o[i++]=I>>>16&255,o[i++]=u>>>8|128,o[i++]=u&255;for(var x=0;x<6;++x)o[i+x]=l[x];return t||$u(o)}function Xw(s){if(!Wu(s))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(s.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=t&255,n[4]=(t=parseInt(s.slice(9,13),16))>>>8,n[5]=t&255,n[6]=(t=parseInt(s.slice(14,18),16))>>>8,n[7]=t&255,n[8]=(t=parseInt(s.slice(19,23),16))>>>8,n[9]=t&255,n[10]=(t=parseInt(s.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=t&255,n}function vx(s){s=unescape(encodeURIComponent(s));for(var t=[],n=0;n<s.length;++n)t.push(s.charCodeAt(n));return t}var Ex="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Sx="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Qw(s,t,n){function i(o,l,u,f){if(typeof o=="string"&&(o=vx(o)),typeof l=="string"&&(l=Xw(l)),l.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var y=new Uint8Array(16+o.length);if(y.set(l),y.set(o,l.length),y=n(y),y[6]=y[6]&15|t,y[8]=y[8]&63|128,u){f=f||0;for(var w=0;w<16;++w)u[f+w]=y[w];return u}return $u(y)}try{i.name=s}catch{}return i.DNS=Ex,i.URL=Sx,i}function Ax(s){if(typeof s=="string"){var t=unescape(encodeURIComponent(s));s=new Uint8Array(t.length);for(var n=0;n<t.length;++n)s[n]=t.charCodeAt(n)}return Rx(xx(Tx(s),s.length*8))}function Rx(s){for(var t=[],n=s.length*32,i="0123456789abcdef",o=0;o<n;o+=8){var l=s[o>>5]>>>o%32&255,u=parseInt(i.charAt(l>>>4&15)+i.charAt(l&15),16);t.push(u)}return t}function Jw(s){return(s+64>>>9<<4)+14+1}function xx(s,t){s[t>>5]|=128<<t%32,s[Jw(t)-1]=t;for(var n=1732584193,i=-271733879,o=-1732584194,l=271733878,u=0;u<s.length;u+=16){var f=n,y=i,w=o,S=l;n=Ln(n,i,o,l,s[u],7,-680876936),l=Ln(l,n,i,o,s[u+1],12,-389564586),o=Ln(o,l,n,i,s[u+2],17,606105819),i=Ln(i,o,l,n,s[u+3],22,-1044525330),n=Ln(n,i,o,l,s[u+4],7,-176418897),l=Ln(l,n,i,o,s[u+5],12,1200080426),o=Ln(o,l,n,i,s[u+6],17,-1473231341),i=Ln(i,o,l,n,s[u+7],22,-45705983),n=Ln(n,i,o,l,s[u+8],7,1770035416),l=Ln(l,n,i,o,s[u+9],12,-1958414417),o=Ln(o,l,n,i,s[u+10],17,-42063),i=Ln(i,o,l,n,s[u+11],22,-1990404162),n=Ln(n,i,o,l,s[u+12],7,1804603682),l=Ln(l,n,i,o,s[u+13],12,-40341101),o=Ln(o,l,n,i,s[u+14],17,-1502002290),i=Ln(i,o,l,n,s[u+15],22,1236535329),n=Un(n,i,o,l,s[u+1],5,-165796510),l=Un(l,n,i,o,s[u+6],9,-1069501632),o=Un(o,l,n,i,s[u+11],14,643717713),i=Un(i,o,l,n,s[u],20,-373897302),n=Un(n,i,o,l,s[u+5],5,-701558691),l=Un(l,n,i,o,s[u+10],9,38016083),o=Un(o,l,n,i,s[u+15],14,-660478335),i=Un(i,o,l,n,s[u+4],20,-405537848),n=Un(n,i,o,l,s[u+9],5,568446438),l=Un(l,n,i,o,s[u+14],9,-1019803690),o=Un(o,l,n,i,s[u+3],14,-187363961),i=Un(i,o,l,n,s[u+8],20,1163531501),n=Un(n,i,o,l,s[u+13],5,-1444681467),l=Un(l,n,i,o,s[u+2],9,-51403784),o=Un(o,l,n,i,s[u+7],14,1735328473),i=Un(i,o,l,n,s[u+12],20,-1926607734),n=zn(n,i,o,l,s[u+5],4,-378558),l=zn(l,n,i,o,s[u+8],11,-2022574463),o=zn(o,l,n,i,s[u+11],16,1839030562),i=zn(i,o,l,n,s[u+14],23,-35309556),n=zn(n,i,o,l,s[u+1],4,-1530992060),l=zn(l,n,i,o,s[u+4],11,1272893353),o=zn(o,l,n,i,s[u+7],16,-155497632),i=zn(i,o,l,n,s[u+10],23,-1094730640),n=zn(n,i,o,l,s[u+13],4,681279174),l=zn(l,n,i,o,s[u],11,-358537222),o=zn(o,l,n,i,s[u+3],16,-722521979),i=zn(i,o,l,n,s[u+6],23,76029189),n=zn(n,i,o,l,s[u+9],4,-640364487),l=zn(l,n,i,o,s[u+12],11,-421815835),o=zn(o,l,n,i,s[u+15],16,530742520),i=zn(i,o,l,n,s[u+2],23,-995338651),n=jn(n,i,o,l,s[u],6,-198630844),l=jn(l,n,i,o,s[u+7],10,1126891415),o=jn(o,l,n,i,s[u+14],15,-1416354905),i=jn(i,o,l,n,s[u+5],21,-57434055),n=jn(n,i,o,l,s[u+12],6,1700485571),l=jn(l,n,i,o,s[u+3],10,-1894986606),o=jn(o,l,n,i,s[u+10],15,-1051523),i=jn(i,o,l,n,s[u+1],21,-2054922799),n=jn(n,i,o,l,s[u+8],6,1873313359),l=jn(l,n,i,o,s[u+15],10,-30611744),o=jn(o,l,n,i,s[u+6],15,-1560198380),i=jn(i,o,l,n,s[u+13],21,1309151649),n=jn(n,i,o,l,s[u+4],6,-145523070),l=jn(l,n,i,o,s[u+11],10,-1120210379),o=jn(o,l,n,i,s[u+2],15,718787259),i=jn(i,o,l,n,s[u+9],21,-343485551),n=ys(n,f),i=ys(i,y),o=ys(o,w),l=ys(l,S)}return[n,i,o,l]}function Tx(s){if(s.length===0)return[];for(var t=s.length*8,n=new Uint32Array(Jw(t)),i=0;i<t;i+=8)n[i>>5]|=(s[i/8]&255)<<i%32;return n}function ys(s,t){var n=(s&65535)+(t&65535),i=(s>>16)+(t>>16)+(n>>16);return i<<16|n&65535}function Ox(s,t){return s<<t|s>>>32-t}function Xu(s,t,n,i,o,l){return ys(Ox(ys(ys(t,s),ys(i,l)),o),n)}function Ln(s,t,n,i,o,l,u){return Xu(t&n|~t&i,s,t,o,l,u)}function Un(s,t,n,i,o,l,u){return Xu(t&i|n&~i,s,t,o,l,u)}function zn(s,t,n,i,o,l,u){return Xu(t^n^i,s,t,o,l,u)}function jn(s,t,n,i,o,l,u){return Xu(n^(t|~i),s,t,o,l,u)}var Nx=Qw("v3",48,Ax);function kx(s,t,n){s=s||{};var i=s.random||(s.rng||$w)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=i[o];return t}return $u(i)}function Ix(s,t,n,i){switch(s){case 0:return t&n^~t&i;case 1:return t^n^i;case 2:return t&n^t&i^n&i;case 3:return t^n^i}}function Gh(s,t){return s<<t|s>>>32-t}function Cx(s){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof s=="string"){var i=unescape(encodeURIComponent(s));s=[];for(var o=0;o<i.length;++o)s.push(i.charCodeAt(o))}else Array.isArray(s)||(s=Array.prototype.slice.call(s));s.push(128);for(var l=s.length/4+2,u=Math.ceil(l/16),f=new Array(u),y=0;y<u;++y){for(var w=new Uint32Array(16),S=0;S<16;++S)w[S]=s[y*64+S*4]<<24|s[y*64+S*4+1]<<16|s[y*64+S*4+2]<<8|s[y*64+S*4+3];f[y]=w}f[u-1][14]=(s.length-1)*8/Math.pow(2,32),f[u-1][14]=Math.floor(f[u-1][14]),f[u-1][15]=(s.length-1)*8&4294967295;for(var C=0;C<u;++C){for(var I=new Uint32Array(80),x=0;x<16;++x)I[x]=f[C][x];for(var M=16;M<80;++M)I[M]=Gh(I[M-3]^I[M-8]^I[M-14]^I[M-16],1);for(var L=n[0],z=n[1],P=n[2],K=n[3],G=n[4],X=0;X<80;++X){var te=Math.floor(X/20),ce=Gh(L,5)+Ix(te,z,P,K)+G+t[te]+I[X]>>>0;G=K,K=P,P=Gh(z,30)>>>0,z=L,L=ce}n[0]=n[0]+L>>>0,n[1]=n[1]+z>>>0,n[2]=n[2]+P>>>0,n[3]=n[3]+K>>>0,n[4]=n[4]+G>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var Bx=Qw("v5",80,Cx);const Mx="00000000-0000-0000-0000-000000000000";function Dx(s){if(!Wu(s))throw TypeError("Invalid UUID");return parseInt(s.substr(14,1),16)}const Lx=Object.freeze(Object.defineProperty({__proto__:null,NIL:Mx,parse:Xw,stringify:$u,v1:_x,v3:Nx,v4:kx,v5:Bx,validate:Wu,version:Dx},Symbol.toStringTag,{value:"Module"})),e_=Vu(Lx);var Vh,$g;function Ux(){if($g)return Vh;$g=1;const s=e_.v4;return Vh=function(n,i,o,l){if(typeof n!="string")throw new TypeError(n+" must be a string");l=l||{};const u=typeof l.version=="number"?l.version:2;if(u!==1&&u!==2)throw new TypeError(u+" must be 1 or 2");const f={method:n};if(u===2&&(f.jsonrpc="2.0"),i){if(typeof i!="object"&&!Array.isArray(i))throw new TypeError(i+" must be an object, array or omitted");f.params=i}if(typeof o>"u"){const y=typeof l.generator=="function"?l.generator:function(){return s()};f.id=y(f,l)}else u===2&&o===null?l.notificationIdNull&&(f.id=null):f.id=o;return f},Vh}var Fh,Xg;function zx(){if(Xg)return Fh;Xg=1;const s=e_.v4,t=Ux(),n=function(i,o){if(!(this instanceof n))return new n(i,o);o||(o={}),this.options={reviver:typeof o.reviver<"u"?o.reviver:null,replacer:typeof o.replacer<"u"?o.replacer:null,generator:typeof o.generator<"u"?o.generator:function(){return s()},version:typeof o.version<"u"?o.version:2,notificationIdNull:typeof o.notificationIdNull=="boolean"?o.notificationIdNull:!1},this.callServer=i};return Fh=n,n.prototype.request=function(i,o,l,u){const f=this;let y=null;const w=Array.isArray(i)&&typeof o=="function";if(this.options.version===1&&w)throw new TypeError("JSON-RPC 1.0 does not support batching");if(w||!w&&i&&typeof i=="object"&&typeof o=="function")u=o,y=i;else{typeof l=="function"&&(u=l,l=void 0);const I=typeof u=="function";try{y=t(i,o,l,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(x){if(I){u(x);return}throw x}if(!I)return y}let C;try{C=JSON.stringify(y,this.options.replacer)}catch(I){u(I);return}return this.callServer(C,function(I,x){f._parseResponse(I,x,u)}),y},n.prototype._parseResponse=function(i,o,l){if(i){l(i);return}if(!o){l();return}let u;try{u=JSON.parse(o,this.options.reviver)}catch(f){l(f);return}if(l.length===3)if(Array.isArray(u)){const f=function(w){return typeof w.error<"u"},y=function(w){return!f(w)};l(null,u.filter(f),u.filter(y));return}else{l(null,u.error,u.result);return}l(null,u)},Fh}var jx=zx();const Hx=Ci(jx);var Yh={exports:{}},Qg;function Px(){return Qg||(Qg=1,(function(s){var t=Object.prototype.hasOwnProperty,n="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1));function o(y,w,S){this.fn=y,this.context=w,this.once=S||!1}function l(y,w,S,C,I){if(typeof S!="function")throw new TypeError("The listener must be a function");var x=new o(S,C||y,I),M=n?n+w:w;return y._events[M]?y._events[M].fn?y._events[M]=[y._events[M],x]:y._events[M].push(x):(y._events[M]=x,y._eventsCount++),y}function u(y,w){--y._eventsCount===0?y._events=new i:delete y._events[w]}function f(){this._events=new i,this._eventsCount=0}f.prototype.eventNames=function(){var w=[],S,C;if(this._eventsCount===0)return w;for(C in S=this._events)t.call(S,C)&&w.push(n?C.slice(1):C);return Object.getOwnPropertySymbols?w.concat(Object.getOwnPropertySymbols(S)):w},f.prototype.listeners=function(w){var S=n?n+w:w,C=this._events[S];if(!C)return[];if(C.fn)return[C.fn];for(var I=0,x=C.length,M=new Array(x);I<x;I++)M[I]=C[I].fn;return M},f.prototype.listenerCount=function(w){var S=n?n+w:w,C=this._events[S];return C?C.fn?1:C.length:0},f.prototype.emit=function(w,S,C,I,x,M){var L=n?n+w:w;if(!this._events[L])return!1;var z=this._events[L],P=arguments.length,K,G;if(z.fn){switch(z.once&&this.removeListener(w,z.fn,void 0,!0),P){case 1:return z.fn.call(z.context),!0;case 2:return z.fn.call(z.context,S),!0;case 3:return z.fn.call(z.context,S,C),!0;case 4:return z.fn.call(z.context,S,C,I),!0;case 5:return z.fn.call(z.context,S,C,I,x),!0;case 6:return z.fn.call(z.context,S,C,I,x,M),!0}for(G=1,K=new Array(P-1);G<P;G++)K[G-1]=arguments[G];z.fn.apply(z.context,K)}else{var X=z.length,te;for(G=0;G<X;G++)switch(z[G].once&&this.removeListener(w,z[G].fn,void 0,!0),P){case 1:z[G].fn.call(z[G].context);break;case 2:z[G].fn.call(z[G].context,S);break;case 3:z[G].fn.call(z[G].context,S,C);break;case 4:z[G].fn.call(z[G].context,S,C,I);break;default:if(!K)for(te=1,K=new Array(P-1);te<P;te++)K[te-1]=arguments[te];z[G].fn.apply(z[G].context,K)}}return!0},f.prototype.on=function(w,S,C){return l(this,w,S,C,!1)},f.prototype.once=function(w,S,C){return l(this,w,S,C,!0)},f.prototype.removeListener=function(w,S,C,I){var x=n?n+w:w;if(!this._events[x])return this;if(!S)return u(this,x),this;var M=this._events[x];if(M.fn)M.fn===S&&(!I||M.once)&&(!C||M.context===C)&&u(this,x);else{for(var L=0,z=[],P=M.length;L<P;L++)(M[L].fn!==S||I&&!M[L].once||C&&M[L].context!==C)&&z.push(M[L]);z.length?this._events[x]=z.length===1?z[0]:z:u(this,x)}return this},f.prototype.removeAllListeners=function(w){var S;return w?(S=n?n+w:w,this._events[S]&&u(this,S)):(this._events=new i,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=n,f.EventEmitter=f,s.exports=f})(Yh)),Yh.exports}var qx=Px();const t_=Ci(qx);var Kx=class extends t_{socket;constructor(s,t){super(),this.socket=new window.WebSocket(s,t.protocols),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=n=>this.emit("message",n.data),this.socket.onerror=n=>this.emit("error",n),this.socket.onclose=n=>{this.emit("close",n.code,n.reason)}}send(s,t,n){const i=n||t;try{this.socket.send(s),i()}catch(o){i(o)}}close(s,t){this.socket.close(s,t)}addEventListener(s,t,n){this.socket.addEventListener(s,t,n)}};function Gx(s,t){return new Kx(s,t)}var Vx=class{encode(s){return JSON.stringify(s)}decode(s){return JSON.parse(s)}},Fx=class extends t_{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(s,t="ws://localhost:8080",{autoconnect:n=!0,reconnect:i=!0,reconnect_interval:o=1e3,max_reconnects:l=5,...u}={},f,y){super(),this.webSocketFactory=s,this.queue={},this.rpc_id=0,this.address=t,this.autoconnect=n,this.ready=!1,this.reconnect=i,this.reconnect_timer_id=void 0,this.reconnect_interval=o,this.max_reconnects=l,this.rest_options=u,this.current_reconnects=0,this.generate_request_id=f||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),y?this.dataPack=y:this.dataPack=new Vx,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(s,t,n,i){return!i&&typeof n=="object"&&(i=n,n=null),new Promise((o,l)=>{if(!this.ready)return l(new Error("socket not ready"));const u=this.generate_request_id(s,t),f={jsonrpc:"2.0",method:s,params:t||void 0,id:u};this.socket.send(this.dataPack.encode(f),i,y=>{if(y)return l(y);this.queue[u]={promise:[o,l]},n&&(this.queue[u].timeout=setTimeout(()=>{delete this.queue[u],l(new Error("reply timeout"))},n))})})}async login(s){const t=await this.call("rpc.login",s);if(!t)throw new Error("authentication failed");return t}async listMethods(){return await this.call("__listMethods")}notify(s,t){return new Promise((n,i)=>{if(!this.ready)return i(new Error("socket not ready"));const o={jsonrpc:"2.0",method:s,params:t};this.socket.send(this.dataPack.encode(o),l=>{if(l)return i(l);n()})})}async subscribe(s){typeof s=="string"&&(s=[s]);const t=await this.call("rpc.on",s);if(typeof s=="string"&&t[s]!=="ok")throw new Error("Failed subscribing to an event '"+s+"' with: "+t[s]);return t}async unsubscribe(s){typeof s=="string"&&(s=[s]);const t=await this.call("rpc.off",s);if(typeof s=="string"&&t[s]!=="ok")throw new Error("Failed unsubscribing from an event with: "+t);return t}close(s,t){this.socket&&this.socket.close(s||1e3,t)}setAutoReconnect(s){this.reconnect=s}setReconnectInterval(s){this.reconnect_interval=s}setMaxReconnects(s){this.max_reconnects=s}getCurrentReconnects(){return this.current_reconnects}getMaxReconnects(){return this.max_reconnects}isReconnecting(){return this.reconnect_timer_id!==void 0}willReconnect(){return this.reconnect&&(this.max_reconnects===0||this.current_reconnects<this.max_reconnects)}_connect(s,t){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(s,t),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:n})=>{n instanceof ArrayBuffer&&(n=je.Buffer.from(n).toString());try{n=this.dataPack.decode(n)}catch{return}if(n.notification&&this.listeners(n.notification).length){if(!Object.keys(n.params).length)return this.emit(n.notification);const i=[n.notification];if(n.params.constructor===Object)i.push(n.params);else for(let o=0;o<n.params.length;o++)i.push(n.params[o]);return Promise.resolve().then(()=>{this.emit.apply(this,i)})}if(!this.queue[n.id])return n.method?Promise.resolve().then(()=>{this.emit(n.method,n?.params)}):void 0;"error"in n=="result"in n&&this.queue[n.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[n.id].timeout&&clearTimeout(this.queue[n.id].timeout),n.error?this.queue[n.id].promise[1](n.error):this.queue[n.id].promise[0](n.result),delete this.queue[n.id]}),this.socket.addEventListener("error",n=>this.emit("error",n)),this.socket.addEventListener("close",({code:n,reason:i})=>{this.ready&&setTimeout(()=>this.emit("close",n,i),0),this.ready=!1,this.socket=void 0,n!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)?this.reconnect_timer_id=setTimeout(()=>this._connect(s,t),this.reconnect_interval):this.reconnect&&this.max_reconnects>0&&this.current_reconnects>=this.max_reconnects&&setTimeout(()=>this.emit("max_reconnects_reached",n,i),1))})}};const Yx=BigInt(0),gl=BigInt(1),Zx=BigInt(2),Wx=BigInt(7),$x=BigInt(256),Xx=BigInt(113),n_=[],r_=[],i_=[];for(let s=0,t=gl,n=1,i=0;s<24;s++){[n,i]=[i,(2*n+3*i)%5],n_.push(2*(5*i+n)),r_.push((s+1)*(s+2)/2%64);let o=Yx;for(let l=0;l<7;l++)t=(t<<gl^(t>>Wx)*Xx)%$x,t&Zx&&(o^=gl<<(gl<<BigInt(l))-gl);i_.push(o)}const s_=vw(i_,!0),Qx=s_[0],Jx=s_[1],Jg=(s,t,n)=>n>32?LR(s,t,n):MR(s,t,n),eb=(s,t,n)=>n>32?UR(s,t,n):DR(s,t,n);function eT(s,t=24){const n=new Uint32Array(10);for(let i=24-t;i<24;i++){for(let u=0;u<10;u++)n[u]=s[u]^s[u+10]^s[u+20]^s[u+30]^s[u+40];for(let u=0;u<10;u+=2){const f=(u+8)%10,y=(u+2)%10,w=n[y],S=n[y+1],C=Jg(w,S,1)^n[f],I=eb(w,S,1)^n[f+1];for(let x=0;x<50;x+=10)s[u+x]^=C,s[u+x+1]^=I}let o=s[2],l=s[3];for(let u=0;u<24;u++){const f=r_[u],y=Jg(o,l,f),w=eb(o,l,f),S=n_[u];o=s[S],l=s[S+1],s[S]=y,s[S+1]=w}for(let u=0;u<50;u+=10){for(let f=0;f<10;f++)n[f]=s[u+f];for(let f=0;f<10;f++)s[u+f]^=~n[(f+2)%10]&n[(f+4)%10]}s[0]^=Qx[i],s[1]^=Jx[i]}_s(n)}class tp extends q0{constructor(t,n,i,o=!1,l=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=i,this.enableXOF=o,this.rounds=l,Tl(i),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=AR(this.state)}clone(){return this._cloneInto()}keccak(){Tg(this.state32),eT(this.state32,this.rounds),Tg(this.state32),this.posOut=0,this.pos=0}update(t){uo(this),t=Fu(t),ki(t);const{blockLen:n,state:i}=this,o=t.length;for(let l=0;l<o;){const u=Math.min(n-this.pos,o-l);for(let f=0;f<u;f++)i[this.pos++]^=t[l++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:i,blockLen:o}=this;t[i]^=n,(n&128)!==0&&i===o-1&&this.keccak(),t[o-1]^=128,this.keccak()}writeInto(t){uo(this,!1),ki(t),this.finish();const n=this.state,{blockLen:i}=this;for(let o=0,l=t.length;o<l;){this.posOut>=i&&this.keccak();const u=Math.min(i-this.posOut,l-o);t.set(n.subarray(this.posOut,this.posOut+u),o),this.posOut+=u,o+=u}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Tl(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(bw(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,_s(this.state)}_cloneInto(t){const{blockLen:n,suffix:i,outputLen:o,rounds:l,enableXOF:u}=this;return t||(t=new tp(n,i,o,u,l)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=l,t.suffix=i,t.outputLen=o,t.enableXOF=u,t.destroyed=this.destroyed,t}}const tT=(s,t,n)=>K0(()=>new tp(t,s,n)),tb=tT(1,136,256/8);class a_ extends q0{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,gw(t);const i=Fu(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,l=new Uint8Array(o);l.set(i.length>o?t.create().update(i).digest():i);for(let u=0;u<l.length;u++)l[u]^=54;this.iHash.update(l),this.oHash=t.create();for(let u=0;u<l.length;u++)l[u]^=106;this.oHash.update(l),_s(l)}update(t){return uo(this),this.iHash.update(t),this}digestInto(t){uo(this),ki(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:i,finished:o,destroyed:l,blockLen:u,outputLen:f}=this;return t=t,t.finished=o,t.destroyed=l,t.blockLen=u,t.outputLen=f,t.oHash=n._cloneInto(t.oHash),t.iHash=i._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const o_=(s,t,n)=>new a_(s,t).update(n).digest();o_.create=(s,t)=>new a_(s,t);const nb=(s,t)=>(s+(s>=0?t:-t)/l_)/t;function nT(s,t,n){const[[i,o],[l,u]]=t,f=nb(u*s,n),y=nb(-o*s,n);let w=s-f*i-y*l,S=-f*o-y*u;const C=w<Oi,I=S<Oi;C&&(w=-w),I&&(S=-S);const x=Ll(Math.ceil(xw(n)/2))+so;if(w<Oi||w>=x||S<Oi||S>=x)throw new Error("splitScalar (endomorphism): failed, k="+s);return{k1neg:C,k1:w,k2neg:I,k2:S}}function _0(s){if(!["compact","recovered","der"].includes(s))throw new Error('Signature format must be "compact", "recovered", or "der"');return s}function Zh(s,t){const n={};for(let i of Object.keys(t))n[i]=s[i]===void 0?t[i]:s[i];return ea(n.lowS,"lowS"),ea(n.prehash,"prehash"),n.format!==void 0&&_0(n.format),n}class rT extends Error{constructor(t=""){super(t)}}const Si={Err:rT,_tlv:{encode:(s,t)=>{const{Err:n}=Si;if(s<0||s>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const i=t.length/2,o=au(i);if(o.length/2&128)throw new n("tlv.encode: long form length too big");const l=i>127?au(o.length/2|128):"";return au(s)+l+o+t},decode(s,t){const{Err:n}=Si;let i=0;if(s<0||s>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[i++]!==s)throw new n("tlv.decode: wrong tlv");const o=t[i++],l=!!(o&128);let u=0;if(!l)u=o;else{const y=o&127;if(!y)throw new n("tlv.decode(long): indefinite length not supported");if(y>4)throw new n("tlv.decode(long): byte length is too big");const w=t.subarray(i,i+y);if(w.length!==y)throw new n("tlv.decode: length bytes not complete");if(w[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const S of w)u=u<<8|S;if(i+=y,u<128)throw new n("tlv.decode(long): not minimal encoding")}const f=t.subarray(i,i+u);if(f.length!==u)throw new n("tlv.decode: wrong value length");return{v:f,l:t.subarray(i+u)}}},_int:{encode(s){const{Err:t}=Si;if(s<Oi)throw new t("integer: negative integers are not allowed");let n=au(s);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(s){const{Err:t}=Si;if(s[0]&128)throw new t("invalid signature integer: negative");if(s[0]===0&&!(s[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return Yu(s)}},toSig(s){const{Err:t,_int:n,_tlv:i}=Si,o=fn("signature",s),{v:l,l:u}=i.decode(48,o);if(u.length)throw new t("invalid signature: left bytes after parsing");const{v:f,l:y}=i.decode(2,l),{v:w,l:S}=i.decode(2,y);if(S.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(f),s:n.decode(w)}},hexFromSig(s){const{_tlv:t,_int:n}=Si,i=t.encode(2,n.encode(s.r)),o=t.encode(2,n.encode(s.s)),l=i+o;return t.encode(48,l)}},Oi=BigInt(0),so=BigInt(1),l_=BigInt(2),cu=BigInt(3),iT=BigInt(4);function to(s,t){const{BYTES:n}=s;let i;if(typeof t=="bigint")i=t;else{let o=fn("private key",t);try{i=s.fromBytes(o)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof t}`)}}if(!s.isValidNot0(i))throw new Error("invalid private key: out of range [1..N-1]");return i}function sT(s,t={}){const n=qw("weierstrass",s,t),{Fp:i,Fn:o}=n;let l=n.CURVE;const{h:u,n:f}=l;Ul(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:y}=t;if(y&&(!i.is0(l.a)||typeof y.beta!="bigint"||!Array.isArray(y.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const w=u_(i,o);function S(){if(!i.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function C(W,T,h){const{x:_,y:A}=T.toAffine(),O=i.toBytes(_);if(ea(h,"isCompressed"),h){S();const H=!i.isOdd(A);return Vr(c_(H),O)}else return Vr(Uint8Array.of(4),O,i.toBytes(A))}function I(W){kr(W,void 0,"Point");const{publicKey:T,publicKeyUncompressed:h}=w,_=W.length,A=W[0],O=W.subarray(1);if(_===T&&(A===2||A===3)){const H=i.fromBytes(O);if(!i.isValid(H))throw new Error("bad point: is not on curve, wrong x");const B=L(H);let E;try{E=i.sqrt(B)}catch(b){const N=b instanceof Error?": "+b.message:"";throw new Error("bad point: is not on curve, sqrt error"+N)}S();const m=i.isOdd(E);return(A&1)===1!==m&&(E=i.neg(E)),{x:H,y:E}}else if(_===h&&A===4){const H=i.BYTES,B=i.fromBytes(O.subarray(0,H)),E=i.fromBytes(O.subarray(H,H*2));if(!z(B,E))throw new Error("bad point: is not on curve");return{x:B,y:E}}else throw new Error(`bad point: got length ${_}, expected compressed=${T} or uncompressed=${h}`)}const x=t.toBytes||C,M=t.fromBytes||I;function L(W){const T=i.sqr(W),h=i.mul(T,W);return i.add(i.add(h,i.mul(W,l.a)),l.b)}function z(W,T){const h=i.sqr(T),_=L(W);return i.eql(h,_)}if(!z(l.Gx,l.Gy))throw new Error("bad curve params: generator point");const P=i.mul(i.pow(l.a,cu),iT),K=i.mul(i.sqr(l.b),BigInt(27));if(i.is0(i.add(P,K)))throw new Error("bad curve params: a or b");function G(W,T,h=!1){if(!i.isValid(T)||h&&i.is0(T))throw new Error(`bad point coordinate ${W}`);return T}function X(W){if(!(W instanceof F))throw new Error("ProjectivePoint expected")}function te(W){if(!y||!y.basises)throw new Error("no endo");return nT(W,y.basises,o.ORDER)}const ce=ku((W,T)=>{const{X:h,Y:_,Z:A}=W;if(i.eql(A,i.ONE))return{x:h,y:_};const O=W.is0();T==null&&(T=O?i.ONE:i.inv(A));const H=i.mul(h,T),B=i.mul(_,T),E=i.mul(A,T);if(O)return{x:i.ZERO,y:i.ZERO};if(!i.eql(E,i.ONE))throw new Error("invZ was invalid");return{x:H,y:B}}),se=ku(W=>{if(W.is0()){if(t.allowInfinityPoint&&!i.is0(W.Y))return;throw new Error("bad point: ZERO")}const{x:T,y:h}=W.toAffine();if(!i.isValid(T)||!i.isValid(h))throw new Error("bad point: x or y not field elements");if(!z(T,h))throw new Error("bad point: equation left != right");if(!W.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function oe(W,T,h,_,A){return h=new F(i.mul(h.X,W),h.Y,h.Z),T=Iu(_,T),h=Iu(A,h),T.add(h)}class F{constructor(T,h,_){this.X=G("x",T),this.Y=G("y",h,!0),this.Z=G("z",_),Object.freeze(this)}static CURVE(){return l}static fromAffine(T){const{x:h,y:_}=T||{};if(!T||!i.isValid(h)||!i.isValid(_))throw new Error("invalid affine point");if(T instanceof F)throw new Error("projective point not allowed");return i.is0(h)&&i.is0(_)?F.ZERO:new F(h,_,i.ONE)}static fromBytes(T){const h=F.fromAffine(M(kr(T,void 0,"point")));return h.assertValidity(),h}static fromHex(T){return F.fromBytes(fn("pointHex",T))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(T=8,h=!0){return $.createCache(this,T),h||this.multiply(cu),this}assertValidity(){se(this)}hasEvenY(){const{y:T}=this.toAffine();if(!i.isOdd)throw new Error("Field doesn't support isOdd");return!i.isOdd(T)}equals(T){X(T);const{X:h,Y:_,Z:A}=this,{X:O,Y:H,Z:B}=T,E=i.eql(i.mul(h,B),i.mul(O,A)),m=i.eql(i.mul(_,B),i.mul(H,A));return E&&m}negate(){return new F(this.X,i.neg(this.Y),this.Z)}double(){const{a:T,b:h}=l,_=i.mul(h,cu),{X:A,Y:O,Z:H}=this;let B=i.ZERO,E=i.ZERO,m=i.ZERO,d=i.mul(A,A),b=i.mul(O,O),N=i.mul(H,H),U=i.mul(A,O);return U=i.add(U,U),m=i.mul(A,H),m=i.add(m,m),B=i.mul(T,m),E=i.mul(_,N),E=i.add(B,E),B=i.sub(b,E),E=i.add(b,E),E=i.mul(B,E),B=i.mul(U,B),m=i.mul(_,m),N=i.mul(T,N),U=i.sub(d,N),U=i.mul(T,U),U=i.add(U,m),m=i.add(d,d),d=i.add(m,d),d=i.add(d,N),d=i.mul(d,U),E=i.add(E,d),N=i.mul(O,H),N=i.add(N,N),d=i.mul(N,U),B=i.sub(B,d),m=i.mul(N,b),m=i.add(m,m),m=i.add(m,m),new F(B,E,m)}add(T){X(T);const{X:h,Y:_,Z:A}=this,{X:O,Y:H,Z:B}=T;let E=i.ZERO,m=i.ZERO,d=i.ZERO;const b=l.a,N=i.mul(l.b,cu);let U=i.mul(h,O),Z=i.mul(_,H),ae=i.mul(A,B),we=i.add(h,_),Se=i.add(O,H);we=i.mul(we,Se),Se=i.add(U,Z),we=i.sub(we,Se),Se=i.add(h,A);let qe=i.add(O,B);return Se=i.mul(Se,qe),qe=i.add(U,ae),Se=i.sub(Se,qe),qe=i.add(_,A),E=i.add(H,B),qe=i.mul(qe,E),E=i.add(Z,ae),qe=i.sub(qe,E),d=i.mul(b,Se),E=i.mul(N,ae),d=i.add(E,d),E=i.sub(Z,d),d=i.add(Z,d),m=i.mul(E,d),Z=i.add(U,U),Z=i.add(Z,U),ae=i.mul(b,ae),Se=i.mul(N,Se),Z=i.add(Z,ae),ae=i.sub(U,ae),ae=i.mul(b,ae),Se=i.add(Se,ae),U=i.mul(Z,Se),m=i.add(m,U),U=i.mul(qe,Se),E=i.mul(we,E),E=i.sub(E,U),U=i.mul(we,Z),d=i.mul(qe,d),d=i.add(d,U),new F(E,m,d)}subtract(T){return this.add(T.negate())}is0(){return this.equals(F.ZERO)}multiply(T){const{endo:h}=t;if(!o.isValidNot0(T))throw new Error("invalid scalar: out of range");let _,A;const O=H=>$.cached(this,H,B=>Ws(F,B));if(h){const{k1neg:H,k1:B,k2neg:E,k2:m}=te(T),{p:d,f:b}=O(B),{p:N,f:U}=O(m);A=b.add(U),_=oe(h.beta,d,N,H,E)}else{const{p:H,f:B}=O(T);_=H,A=B}return Ws(F,[_,A])[0]}multiplyUnsafe(T){const{endo:h}=t,_=this;if(!o.isValid(T))throw new Error("invalid scalar: out of range");if(T===Oi||_.is0())return F.ZERO;if(T===so)return _;if($.hasCache(this))return this.multiply(T);if(h){const{k1neg:A,k1:O,k2neg:H,k2:B}=te(T),{p1:E,p2:m}=u2(F,_,O,B);return oe(h.beta,E,m,A,H)}else return $.unsafe(_,T)}multiplyAndAddUnsafe(T,h,_){const A=this.multiplyUnsafe(h).add(T.multiplyUnsafe(_));return A.is0()?void 0:A}toAffine(T){return ce(this,T)}isTorsionFree(){const{isTorsionFree:T}=t;return u===so?!0:T?T(F,this):$.unsafe(this,f).is0()}clearCofactor(){const{clearCofactor:T}=t;return u===so?this:T?T(F,this):this.multiplyUnsafe(u)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}toBytes(T=!0){return ea(T,"isCompressed"),this.assertValidity(),x(F,this,T)}toHex(T=!0){return Js(this.toBytes(T))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(T=!0){return this.toBytes(T)}_setWindowSize(T){this.precompute(T)}static normalizeZ(T){return Ws(F,T)}static msm(T,h){return Pw(F,o,T,h)}static fromPrivateKey(T){return F.BASE.multiply(to(o,T))}}F.BASE=new F(l.Gx,l.Gy,i.ONE),F.ZERO=new F(i.ZERO,i.ONE,i.ZERO),F.Fp=i,F.Fn=o;const Y=o.BITS,$=new Hw(F,t.endo?Math.ceil(Y/2):Y);return F.BASE.precompute(8),F}function c_(s){return Uint8Array.of(s?2:3)}function u_(s,t){return{secretKey:t.BYTES,publicKey:1+s.BYTES,publicKeyUncompressed:1+2*s.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}function aT(s,t={}){const{Fn:n}=s,i=t.randomBytes||G0,o=Object.assign(u_(s.Fp,n),{seed:Uw(n.ORDER)});function l(x){try{return!!to(n,x)}catch{return!1}}function u(x,M){const{publicKey:L,publicKeyUncompressed:z}=o;try{const P=x.length;return M===!0&&P!==L||M===!1&&P!==z?!1:!!s.fromBytes(x)}catch{return!1}}function f(x=i(o.seed)){return o2(kr(x,o.seed,"seed"),n.ORDER)}function y(x,M=!0){return s.BASE.multiply(to(n,x)).toBytes(M)}function w(x){const M=f(x);return{secretKey:M,publicKey:y(M)}}function S(x){if(typeof x=="bigint")return!1;if(x instanceof s)return!0;const{secretKey:M,publicKey:L,publicKeyUncompressed:z}=o;if(n.allowedLengths||M===L)return;const P=fn("key",x).length;return P===L||P===z}function C(x,M,L=!0){if(S(x)===!0)throw new Error("first arg must be private key");if(S(M)===!1)throw new Error("second arg must be public key");const z=to(n,x);return s.fromHex(M).multiply(z).toBytes(L)}return Object.freeze({getPublicKey:y,getSharedSecret:C,keygen:w,Point:s,utils:{isValidSecretKey:l,isValidPublicKey:u,randomSecretKey:f,isValidPrivateKey:l,randomPrivateKey:f,normPrivateKeyToScalar:x=>to(n,x),precompute(x=8,M=s.BASE){return M.precompute(x,!1)}},lengths:o})}function oT(s,t,n={}){gw(t),Ul(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const i=n.randomBytes||G0,o=n.hmac||((h,..._)=>o_(t,h,Vr(..._))),{Fp:l,Fn:u}=s,{ORDER:f,BITS:y}=u,{keygen:w,getPublicKey:S,getSharedSecret:C,utils:I,lengths:x}=aT(s,n),M={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},L="compact";function z(h){const _=f>>so;return h>_}function P(h,_){if(!u.isValidNot0(_))throw new Error(`invalid signature ${h}: out of range 1..Point.Fn.ORDER`);return _}function K(h,_){_0(_);const A=x.signature,O=_==="compact"?A:_==="recovered"?A+1:void 0;return kr(h,O,`${_} signature`)}class G{constructor(_,A,O){this.r=P("r",_),this.s=P("s",A),O!=null&&(this.recovery=O),Object.freeze(this)}static fromBytes(_,A=L){K(_,A);let O;if(A==="der"){const{r:m,s:d}=Si.toSig(kr(_));return new G(m,d)}A==="recovered"&&(O=_[0],A="compact",_=_.subarray(1));const H=u.BYTES,B=_.subarray(0,H),E=_.subarray(H,H*2);return new G(u.fromBytes(B),u.fromBytes(E),O)}static fromHex(_,A){return this.fromBytes(Nu(_),A)}addRecoveryBit(_){return new G(this.r,this.s,_)}recoverPublicKey(_){const A=l.ORDER,{r:O,s:H,recovery:B}=this;if(B==null||![0,1,2,3].includes(B))throw new Error("recovery id invalid");if(f*l_<A&&B>1)throw new Error("recovery id is ambiguous for h>1 curve");const m=B===2||B===3?O+f:O;if(!l.isValid(m))throw new Error("recovery id 2 or 3 invalid");const d=l.toBytes(m),b=s.fromBytes(Vr(c_((B&1)===0),d)),N=u.inv(m),U=te(fn("msgHash",_)),Z=u.create(-U*N),ae=u.create(H*N),we=s.BASE.multiplyUnsafe(Z).add(b.multiplyUnsafe(ae));if(we.is0())throw new Error("point at infinify");return we.assertValidity(),we}hasHighS(){return z(this.s)}toBytes(_=L){if(_0(_),_==="der")return Nu(Si.hexFromSig(this));const A=u.toBytes(this.r),O=u.toBytes(this.s);if(_==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return Vr(Uint8Array.of(this.recovery),A,O)}return Vr(A,O)}toHex(_){return Js(this.toBytes(_))}assertValidity(){}static fromCompact(_){return G.fromBytes(fn("sig",_),"compact")}static fromDER(_){return G.fromBytes(fn("sig",_),"der")}normalizeS(){return this.hasHighS()?new G(this.r,u.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Js(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Js(this.toBytes("compact"))}}const X=n.bits2int||function(_){if(_.length>8192)throw new Error("input is too large");const A=Yu(_),O=_.length*8-y;return O>0?A>>BigInt(O):A},te=n.bits2int_modN||function(_){return u.create(X(_))},ce=Ll(y);function se(h){return w0("num < 2^"+y,h,Oi,ce),u.toBytes(h)}function oe(h,_){return kr(h,void 0,"message"),_?kr(t(h),void 0,"prehashed message"):h}function F(h,_,A){if(["recovered","canonical"].some(Z=>Z in A))throw new Error("sign() legacy options not supported");const{lowS:O,prehash:H,extraEntropy:B}=Zh(A,M);h=oe(h,H);const E=te(h),m=to(u,_),d=[se(m),se(E)];if(B!=null&&B!==!1){const Z=B===!0?i(x.secretKey):B;d.push(fn("extraEntropy",Z))}const b=Vr(...d),N=E;function U(Z){const ae=X(Z);if(!u.isValidNot0(ae))return;const we=u.inv(ae),Se=s.BASE.multiply(ae).toAffine(),qe=u.create(Se.x);if(qe===Oi)return;const ve=u.create(we*u.create(N+qe*m));if(ve===Oi)return;let ke=(Se.x===qe?0:2)|Number(Se.y&so),Oe=ve;return O&&z(ve)&&(Oe=u.neg(ve),ke^=1),new G(qe,Oe,ke)}return{seed:b,k2sig:U}}function Y(h,_,A={}){h=fn("message",h);const{seed:O,k2sig:H}=F(h,_,A);return XR(t.outputLen,u.BYTES,o)(O,H)}function $(h){let _;const A=typeof h=="string"||Dl(h),O=!A&&h!==null&&typeof h=="object"&&typeof h.r=="bigint"&&typeof h.s=="bigint";if(!A&&!O)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(O)_=new G(h.r,h.s);else if(A){try{_=G.fromBytes(fn("sig",h),"der")}catch(H){if(!(H instanceof Si.Err))throw H}if(!_)try{_=G.fromBytes(fn("sig",h),"compact")}catch{return!1}}return _||!1}function W(h,_,A,O={}){const{lowS:H,prehash:B,format:E}=Zh(O,M);if(A=fn("publicKey",A),_=oe(fn("message",_),B),"strict"in O)throw new Error("options.strict was renamed to lowS");const m=E===void 0?$(h):G.fromBytes(fn("sig",h),E);if(m===!1)return!1;try{const d=s.fromBytes(A);if(H&&m.hasHighS())return!1;const{r:b,s:N}=m,U=te(_),Z=u.inv(N),ae=u.create(U*Z),we=u.create(b*Z),Se=s.BASE.multiplyUnsafe(ae).add(d.multiplyUnsafe(we));return Se.is0()?!1:u.create(Se.x)===b}catch{return!1}}function T(h,_,A={}){const{prehash:O}=Zh(A,M);return _=oe(_,O),G.fromBytes(h,"recovered").recoverPublicKey(_).toBytes()}return Object.freeze({keygen:w,getPublicKey:S,getSharedSecret:C,utils:I,lengths:x,Point:s,sign:Y,verify:W,recoverPublicKey:T,Signature:G,hash:t})}function lT(s){const t={a:s.a,b:s.b,p:s.Fp.ORDER,n:s.n,h:s.h,Gx:s.Gx,Gy:s.Gy},n=s.Fp;let i=s.allowedPrivateKeyLengths?Array.from(new Set(s.allowedPrivateKeyLengths.map(u=>Math.ceil(u/2)))):void 0;const o=ia(t.n,{BITS:s.nBitLength,allowedLengths:i,modFromBytes:s.wrapPrivateKey}),l={Fp:n,Fn:o,allowInfinityPoint:s.allowInfinityPoint,endo:s.endo,isTorsionFree:s.isTorsionFree,clearCofactor:s.clearCofactor,fromBytes:s.fromBytes,toBytes:s.toBytes};return{CURVE:t,curveOpts:l}}function cT(s){const{CURVE:t,curveOpts:n}=lT(s),i={hmac:s.hmac,randomBytes:s.randomBytes,lowS:s.lowS,bits2int:s.bits2int,bits2int_modN:s.bits2int_modN};return{CURVE:t,curveOpts:n,hash:s.hash,ecdsaOpts:i}}function uT(s,t){const n=t.Point;return Object.assign({},t,{ProjectivePoint:n,CURVE:Object.assign({},s,Dw(n.Fn.ORDER,n.Fn.BITS))})}function fT(s){const{CURVE:t,curveOpts:n,hash:i,ecdsaOpts:o}=cT(s),l=sT(t,n),u=oT(l,i,o);return uT(s,u)}function dT(s,t){const n=i=>fT({...s,hash:i});return{...n(t),create:n}}const np={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},hT={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},rb=BigInt(2);function pT(s){const t=np.p,n=BigInt(3),i=BigInt(6),o=BigInt(11),l=BigInt(22),u=BigInt(23),f=BigInt(44),y=BigInt(88),w=s*s*s%t,S=w*w*s%t,C=un(S,n,t)*S%t,I=un(C,n,t)*S%t,x=un(I,rb,t)*w%t,M=un(x,o,t)*x%t,L=un(M,l,t)*M%t,z=un(L,f,t)*L%t,P=un(z,y,t)*z%t,K=un(P,f,t)*L%t,G=un(K,n,t)*S%t,X=un(G,u,t)*M%t,te=un(X,i,t)*w%t,ce=un(te,rb,t);if(!v0.eql(v0.sqr(ce),s))throw new Error("Cannot find square root");return ce}const v0=ia(np.p,{sqrt:pT}),rp=dT({...np,Fp:v0,lowS:!0,endo:hT},Sw),mT=bo.utils.randomPrivateKey,ib=()=>{const s=bo.utils.randomPrivateKey(),t=zu(s),n=new Uint8Array(64);return n.set(s),n.set(t,32),{publicKey:t,secretKey:n}},zu=bo.getPublicKey;function sb(s){try{return bo.ExtendedPoint.fromHex(s),!0}catch{return!1}}const ip=(s,t)=>bo.sign(s,t.slice(0,32)),yT=bo.verify,ot=s=>je.Buffer.isBuffer(s)?s:s instanceof Uint8Array?je.Buffer.from(s.buffer,s.byteOffset,s.byteLength):je.Buffer.from(s);let sp=class{constructor(t){Object.assign(this,t)}encode(){return je.Buffer.from(jh.serialize(Sl,this))}static decode(t){return jh.deserialize(Sl,this,t)}static decodeUnchecked(t){return jh.deserializeUnchecked(Sl,this,t)}};class gT extends sp{constructor(t){if(super(t),this.enum="",Object.keys(t).length!==1)throw new Error("Enum can only take single value");Object.keys(t).map(n=>{this.enum=n})}}const Sl=new Map;var f_;const d_=32,Wr=32;function bT(s){return s._bn!==void 0}let ab=1;class _e extends sp{constructor(t){if(super({}),this._bn=void 0,bT(t))this._bn=t._bn;else{if(typeof t=="string"){const n=Cn.decode(t);if(n.length!=Wr)throw new Error("Invalid public key input");this._bn=new mn(n)}else this._bn=new mn(t);if(this._bn.byteLength()>Wr)throw new Error("Invalid public key input")}}static unique(){const t=new _e(ab);return ab+=1,new _e(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return Cn.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(je.Buffer);if(t.length===Wr)return t;const n=je.Buffer.alloc(32);return t.copy(n,32-t.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,n,i){const o=je.Buffer.concat([t.toBuffer(),je.Buffer.from(n),i.toBuffer()]),l=Cu(o);return new _e(l)}static createProgramAddressSync(t,n){let i=je.Buffer.alloc(0);t.forEach(function(l){if(l.length>d_)throw new TypeError("Max seed length exceeded");i=je.Buffer.concat([i,ot(l)])}),i=je.Buffer.concat([i,n.toBuffer(),je.Buffer.from("ProgramDerivedAddress")]);const o=Cu(i);if(sb(o))throw new Error("Invalid seeds, address must fall off the curve");return new _e(o)}static async createProgramAddress(t,n){return this.createProgramAddressSync(t,n)}static findProgramAddressSync(t,n){let i=255,o;for(;i!=0;){try{const l=t.concat(je.Buffer.from([i]));o=this.createProgramAddressSync(l,n)}catch(l){if(l instanceof TypeError)throw l;i--;continue}return[o,i]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,n){return this.findProgramAddressSync(t,n)}static isOnCurve(t){const n=new _e(t);return sb(n.toBytes())}}f_=_e;_e.default=new f_("11111111111111111111111111111111");Sl.set(_e,{kind:"struct",fields:[["_bn","u256"]]});class wT{constructor(t){if(this._publicKey=void 0,this._secretKey=void 0,t){const n=ot(t);if(t.length!==64)throw new Error("bad secret key size");this._publicKey=n.slice(32,64),this._secretKey=n.slice(0,32)}else this._secretKey=ot(mT()),this._publicKey=ot(zu(this._secretKey))}get publicKey(){return new _e(this._publicKey)}get secretKey(){return je.Buffer.concat([this._secretKey,this._publicKey],64)}}const _T=new _e("BPFLoader1111111111111111111111111111111111"),gs=1232,Qu=127,Nl=64;class ap extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}}Object.defineProperty(ap.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class op extends Error{constructor(t,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}}Object.defineProperty(op.prototype,"name",{value:"TransactionExpiredTimeoutError"});class no extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}}Object.defineProperty(no.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class kl{constructor(t,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=n}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const n of this.keySegments()){if(t<n.length)return n[t];t-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const i=new Map;this.keySegments().flat().forEach((l,u)=>{i.set(l.toBase58(),u)});const o=l=>{const u=i.get(l.toBase58());if(u===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return u};return t.map(l=>({programIdIndex:o(l.programId),accountKeyIndexes:l.keys.map(u=>o(u.pubkey)),data:l.data}))}}const dt=(s="publicKey")=>Q.blob(32,s),vT=(s="signature")=>Q.blob(64,s),$s=(s="string")=>{const t=Q.struct([Q.u32("length"),Q.u32("lengthPadding"),Q.blob(Q.offset(Q.u32(),-8),"chars")],s),n=t.decode.bind(t),i=t.encode.bind(t),o=t;return o.decode=(l,u)=>n(l,u).chars.toString(),o.encode=(l,u,f)=>{const y={chars:je.Buffer.from(l,"utf8")};return i(y,u,f)},o.alloc=l=>Q.u32().span+Q.u32().span+je.Buffer.from(l,"utf8").length,o},ET=(s="authorized")=>Q.struct([dt("staker"),dt("withdrawer")],s),ST=(s="lockup")=>Q.struct([Q.ns64("unixTimestamp"),Q.ns64("epoch"),dt("custodian")],s),AT=(s="voteInit")=>Q.struct([dt("nodePubkey"),dt("authorizedVoter"),dt("authorizedWithdrawer"),Q.u8("commission")],s),RT=(s="voteAuthorizeWithSeedArgs")=>Q.struct([Q.u32("voteAuthorizationType"),dt("currentAuthorityDerivedKeyOwnerPubkey"),$s("currentAuthorityDerivedKeySeed"),dt("newAuthorized")],s);function h_(s,t){const n=o=>{if(o.span>=0)return o.span;if(typeof o.alloc=="function")return o.alloc(t[o.property]);if("count"in o&&"elementLayout"in o){const l=t[o.property];if(Array.isArray(l))return l.length*n(o.elementLayout)}else if("fields"in o)return h_({layout:o},t[o.property]);return 0};let i=0;return s.layout.fields.forEach(o=>{i+=n(o)}),i}function Zn(s){let t=0,n=0;for(;;){let i=s.shift();if(t|=(i&127)<<n*7,n+=1,(i&128)===0)break}return t}function lr(s,t){let n=t;for(;;){let i=n&127;if(n>>=7,n==0){s.push(i);break}else i|=128,s.push(i)}}function Rt(s,t){if(!s)throw new Error(t||"Assertion failed")}class Ju{constructor(t,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=n}static compile(t,n){const i=new Map,o=u=>{const f=u.toBase58();let y=i.get(f);return y===void 0&&(y={isSigner:!1,isWritable:!1,isInvoked:!1},i.set(f,y)),y},l=o(n);l.isSigner=!0,l.isWritable=!0;for(const u of t){o(u.programId).isInvoked=!0;for(const f of u.keys){const y=o(f.pubkey);y.isSigner||=f.isSigner,y.isWritable||=f.isWritable}}return new Ju(n,i)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];Rt(t.length<=256,"Max static account keys length exceeded");const n=t.filter(([,y])=>y.isSigner&&y.isWritable),i=t.filter(([,y])=>y.isSigner&&!y.isWritable),o=t.filter(([,y])=>!y.isSigner&&y.isWritable),l=t.filter(([,y])=>!y.isSigner&&!y.isWritable),u={numRequiredSignatures:n.length+i.length,numReadonlySignedAccounts:i.length,numReadonlyUnsignedAccounts:l.length};{Rt(n.length>0,"Expected at least one writable signer key");const[y]=n[0];Rt(y===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const f=[...n.map(([y])=>new _e(y)),...i.map(([y])=>new _e(y)),...o.map(([y])=>new _e(y)),...l.map(([y])=>new _e(y))];return[u,f]}extractTableLookup(t){const[n,i]=this.drainKeysFoundInLookupTable(t.state.addresses,u=>!u.isSigner&&!u.isInvoked&&u.isWritable),[o,l]=this.drainKeysFoundInLookupTable(t.state.addresses,u=>!u.isSigner&&!u.isInvoked&&!u.isWritable);if(!(n.length===0&&o.length===0))return[{accountKey:t.key,writableIndexes:n,readonlyIndexes:o},{writable:i,readonly:l}]}drainKeysFoundInLookupTable(t,n){const i=new Array,o=new Array;for(const[l,u]of this.keyMetaMap.entries())if(n(u)){const f=new _e(l),y=t.findIndex(w=>w.equals(f));y>=0&&(Rt(y<256,"Max lookup table index exceeded"),i.push(y),o.push(f),this.keyMetaMap.delete(l))}return[i,o]}}const p_="Reached end of buffer unexpectedly";function Fr(s){if(s.length===0)throw new Error(p_);return s.shift()}function Wn(s,...t){const[n]=t;if(t.length===2?n+(t[1]??0)>s.length:n>=s.length)throw new Error(p_);return s.splice(...t)}class Cr{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(n=>new _e(n)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Cn.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new kl(this.staticAccountKeys)}static compile(t){const n=Ju.compile(t.instructions,t.payerKey),[i,o]=n.getMessageComponents(),u=new kl(o).compileInstructions(t.instructions).map(f=>({programIdIndex:f.programIdIndex,accounts:f.accountKeyIndexes,data:Cn.encode(f.data)}));return new Cr({header:i,accountKeys:o,recentBlockhash:t.recentBlockhash,instructions:u})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const n=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){const i=t-n,l=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return i<l}else{const i=n-this.header.numReadonlySignedAccounts;return t<i}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,n)=>!this.isProgramId(n))}serialize(){const t=this.accountKeys.length;let n=[];lr(n,t);const i=this.instructions.map(C=>{const{accounts:I,programIdIndex:x}=C,M=Array.from(Cn.decode(C.data));let L=[];lr(L,I.length);let z=[];return lr(z,M.length),{programIdIndex:x,keyIndicesCount:je.Buffer.from(L),keyIndices:I,dataLength:je.Buffer.from(z),data:M}});let o=[];lr(o,i.length);let l=je.Buffer.alloc(gs);je.Buffer.from(o).copy(l);let u=o.length;i.forEach(C=>{const x=Q.struct([Q.u8("programIdIndex"),Q.blob(C.keyIndicesCount.length,"keyIndicesCount"),Q.seq(Q.u8("keyIndex"),C.keyIndices.length,"keyIndices"),Q.blob(C.dataLength.length,"dataLength"),Q.seq(Q.u8("userdatum"),C.data.length,"data")]).encode(C,l,u);u+=x}),l=l.slice(0,u);const f=Q.struct([Q.blob(1,"numRequiredSignatures"),Q.blob(1,"numReadonlySignedAccounts"),Q.blob(1,"numReadonlyUnsignedAccounts"),Q.blob(n.length,"keyCount"),Q.seq(dt("key"),t,"keys"),dt("recentBlockhash")]),y={numRequiredSignatures:je.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:je.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:je.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:je.Buffer.from(n),keys:this.accountKeys.map(C=>ot(C.toBytes())),recentBlockhash:Cn.decode(this.recentBlockhash)};let w=je.Buffer.alloc(2048);const S=f.encode(y,w);return l.copy(w,S),w.slice(0,S+l.length)}static from(t){let n=[...t];const i=Fr(n);if(i!==(i&Qu))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const o=Fr(n),l=Fr(n),u=Zn(n);let f=[];for(let I=0;I<u;I++){const x=Wn(n,0,Wr);f.push(new _e(je.Buffer.from(x)))}const y=Wn(n,0,Wr),w=Zn(n);let S=[];for(let I=0;I<w;I++){const x=Fr(n),M=Zn(n),L=Wn(n,0,M),z=Zn(n),P=Wn(n,0,z),K=Cn.encode(je.Buffer.from(P));S.push({programIdIndex:x,accounts:L,data:K})}const C={header:{numRequiredSignatures:i,numReadonlySignedAccounts:o,numReadonlyUnsignedAccounts:l},recentBlockhash:Cn.encode(je.Buffer.from(y)),accountKeys:f,instructions:S};return new Cr(C)}}class ta{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const n of this.addressTableLookups)t+=n.readonlyIndexes.length+n.writableIndexes.length;return t}getAccountKeys(t){let n;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)n=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new kl(this.staticAccountKeys,n)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const n=this.header.numRequiredSignatures,i=this.staticAccountKeys.length;if(t>=i){const o=t-i,l=this.addressTableLookups.reduce((u,f)=>u+f.writableIndexes.length,0);return o<l}else if(t>=this.header.numRequiredSignatures){const o=t-n,u=i-n-this.header.numReadonlyUnsignedAccounts;return o<u}else{const o=n-this.header.numReadonlySignedAccounts;return t<o}}resolveAddressTableLookups(t){const n={writable:[],readonly:[]};for(const i of this.addressTableLookups){const o=t.find(l=>l.key.equals(i.accountKey));if(!o)throw new Error(`Failed to find address lookup table account for table key ${i.accountKey.toBase58()}`);for(const l of i.writableIndexes)if(l<o.state.addresses.length)n.writable.push(o.state.addresses[l]);else throw new Error(`Failed to find address for index ${l} in address lookup table ${i.accountKey.toBase58()}`);for(const l of i.readonlyIndexes)if(l<o.state.addresses.length)n.readonly.push(o.state.addresses[l]);else throw new Error(`Failed to find address for index ${l} in address lookup table ${i.accountKey.toBase58()}`)}return n}static compile(t){const n=Ju.compile(t.instructions,t.payerKey),i=new Array,o={writable:new Array,readonly:new Array},l=t.addressLookupTableAccounts||[];for(const S of l){const C=n.extractTableLookup(S);if(C!==void 0){const[I,{writable:x,readonly:M}]=C;i.push(I),o.writable.push(...x),o.readonly.push(...M)}}const[u,f]=n.getMessageComponents(),w=new kl(f,o).compileInstructions(t.instructions);return new ta({header:u,staticAccountKeys:f,recentBlockhash:t.recentBlockhash,compiledInstructions:w,addressTableLookups:i})}serialize(){const t=Array();lr(t,this.staticAccountKeys.length);const n=this.serializeInstructions(),i=Array();lr(i,this.compiledInstructions.length);const o=this.serializeAddressTableLookups(),l=Array();lr(l,this.addressTableLookups.length);const u=Q.struct([Q.u8("prefix"),Q.struct([Q.u8("numRequiredSignatures"),Q.u8("numReadonlySignedAccounts"),Q.u8("numReadonlyUnsignedAccounts")],"header"),Q.blob(t.length,"staticAccountKeysLength"),Q.seq(dt(),this.staticAccountKeys.length,"staticAccountKeys"),dt("recentBlockhash"),Q.blob(i.length,"instructionsLength"),Q.blob(n.length,"serializedInstructions"),Q.blob(l.length,"addressTableLookupsLength"),Q.blob(o.length,"serializedAddressTableLookups")]),f=new Uint8Array(gs),w=u.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(S=>S.toBytes()),recentBlockhash:Cn.decode(this.recentBlockhash),instructionsLength:new Uint8Array(i),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(l),serializedAddressTableLookups:o},f);return f.slice(0,w)}serializeInstructions(){let t=0;const n=new Uint8Array(gs);for(const i of this.compiledInstructions){const o=Array();lr(o,i.accountKeyIndexes.length);const l=Array();lr(l,i.data.length);const u=Q.struct([Q.u8("programIdIndex"),Q.blob(o.length,"encodedAccountKeyIndexesLength"),Q.seq(Q.u8(),i.accountKeyIndexes.length,"accountKeyIndexes"),Q.blob(l.length,"encodedDataLength"),Q.blob(i.data.length,"data")]);t+=u.encode({programIdIndex:i.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(o),accountKeyIndexes:i.accountKeyIndexes,encodedDataLength:new Uint8Array(l),data:i.data},n,t)}return n.slice(0,t)}serializeAddressTableLookups(){let t=0;const n=new Uint8Array(gs);for(const i of this.addressTableLookups){const o=Array();lr(o,i.writableIndexes.length);const l=Array();lr(l,i.readonlyIndexes.length);const u=Q.struct([dt("accountKey"),Q.blob(o.length,"encodedWritableIndexesLength"),Q.seq(Q.u8(),i.writableIndexes.length,"writableIndexes"),Q.blob(l.length,"encodedReadonlyIndexesLength"),Q.seq(Q.u8(),i.readonlyIndexes.length,"readonlyIndexes")]);t+=u.encode({accountKey:i.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(o),writableIndexes:i.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(l),readonlyIndexes:i.readonlyIndexes},n,t)}return n.slice(0,t)}static deserialize(t){let n=[...t];const i=Fr(n),o=i&Qu;Rt(i!==o,"Expected versioned message but received legacy message");const l=o;Rt(l===0,`Expected versioned message with version 0 but found version ${l}`);const u={numRequiredSignatures:Fr(n),numReadonlySignedAccounts:Fr(n),numReadonlyUnsignedAccounts:Fr(n)},f=[],y=Zn(n);for(let M=0;M<y;M++)f.push(new _e(Wn(n,0,Wr)));const w=Cn.encode(Wn(n,0,Wr)),S=Zn(n),C=[];for(let M=0;M<S;M++){const L=Fr(n),z=Zn(n),P=Wn(n,0,z),K=Zn(n),G=new Uint8Array(Wn(n,0,K));C.push({programIdIndex:L,accountKeyIndexes:P,data:G})}const I=Zn(n),x=[];for(let M=0;M<I;M++){const L=new _e(Wn(n,0,Wr)),z=Zn(n),P=Wn(n,0,z),K=Zn(n),G=Wn(n,0,K);x.push({accountKey:L,writableIndexes:P,readonlyIndexes:G})}return new ta({header:u,staticAccountKeys:f,recentBlockhash:w,compiledInstructions:C,addressTableLookups:x})}}const lp={deserializeMessageVersion(s){const t=s[0],n=t&Qu;return n===t?"legacy":n},deserialize:s=>{const t=lp.deserializeMessageVersion(s);if(t==="legacy")return Cr.from(s);if(t===0)return ta.deserialize(s);throw new Error(`Transaction message version ${t} deserialization is not supported`)}};let Ei=(function(s){return s[s.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",s[s.PROCESSED=1]="PROCESSED",s[s.TIMED_OUT=2]="TIMED_OUT",s[s.NONCE_INVALID=3]="NONCE_INVALID",s})({});const xT=je.Buffer.alloc(Nl).fill(0);class Mt{constructor(t){this.keys=void 0,this.programId=void 0,this.data=je.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:n,isWritable:i})=>({pubkey:t.toJSON(),isSigner:n,isWritable:i})),programId:this.programId.toJSON(),data:[...this.data]}}}class vt{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:n,nonceInfo:i}=t;this.minNonceContextSlot=n,this.nonceInfo=i}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:i}=t;this.recentBlockhash=n,this.lastValidBlockHeight=i}else{const{recentBlockhash:n,nonceInfo:i}=t;i&&(this.nonceInfo=i),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new Mt(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,n;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(t=this.recentBlockhash,n=this.instructions),!t)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let i;if(this.feePayer)i=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)i=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let L=0;L<n.length;L++)if(n[L].programId===void 0)throw new Error(`Transaction instruction index ${L} has undefined program id`);const o=[],l=[];n.forEach(L=>{L.keys.forEach(P=>{l.push({...P})});const z=L.programId.toString();o.includes(z)||o.push(z)}),o.forEach(L=>{l.push({pubkey:new _e(L),isSigner:!1,isWritable:!1})});const u=[];l.forEach(L=>{const z=L.pubkey.toString(),P=u.findIndex(K=>K.pubkey.toString()===z);P>-1?(u[P].isWritable=u[P].isWritable||L.isWritable,u[P].isSigner=u[P].isSigner||L.isSigner):u.push(L)}),u.sort(function(L,z){if(L.isSigner!==z.isSigner)return L.isSigner?-1:1;if(L.isWritable!==z.isWritable)return L.isWritable?-1:1;const P={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return L.pubkey.toBase58().localeCompare(z.pubkey.toBase58(),"en",P)});const f=u.findIndex(L=>L.pubkey.equals(i));if(f>-1){const[L]=u.splice(f,1);L.isSigner=!0,L.isWritable=!0,u.unshift(L)}else u.unshift({pubkey:i,isSigner:!0,isWritable:!0});for(const L of this.signatures){const z=u.findIndex(P=>P.pubkey.equals(L.publicKey));if(z>-1)u[z].isSigner||(u[z].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${L.publicKey.toString()}`)}let y=0,w=0,S=0;const C=[],I=[];u.forEach(({pubkey:L,isSigner:z,isWritable:P})=>{z?(C.push(L.toString()),y+=1,P||(w+=1)):(I.push(L.toString()),P||(S+=1))});const x=C.concat(I),M=n.map(L=>{const{data:z,programId:P}=L;return{programIdIndex:x.indexOf(P.toString()),accounts:L.keys.map(K=>x.indexOf(K.pubkey.toString())),data:Cn.encode(z)}});return M.forEach(L=>{Rt(L.programIdIndex>=0),L.accounts.forEach(z=>Rt(z>=0))}),new Cr({header:{numRequiredSignatures:y,numReadonlySignedAccounts:w,numReadonlyUnsignedAccounts:S},accountKeys:x,recentBlockhash:t,instructions:M})}_compile(){const t=this.compileMessage(),n=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((o,l)=>n[l].equals(o.publicKey))||(this.signatures=n.map(i=>({signature:null,publicKey:i}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error("No signers");const n=new Set;this.signatures=t.filter(i=>{const o=i.toString();return n.has(o)?!1:(n.add(o),!0)}).map(i=>({signature:null,publicKey:i}))}sign(...t){if(t.length===0)throw new Error("No signers");const n=new Set,i=[];for(const l of t){const u=l.publicKey.toString();n.has(u)||(n.add(u),i.push(l))}this.signatures=i.map(l=>({signature:null,publicKey:l.publicKey}));const o=this._compile();this._partialSign(o,...i)}partialSign(...t){if(t.length===0)throw new Error("No signers");const n=new Set,i=[];for(const l of t){const u=l.publicKey.toString();n.has(u)||(n.add(u),i.push(l))}const o=this._compile();this._partialSign(o,...i)}_partialSign(t,...n){const i=t.serialize();n.forEach(o=>{const l=ip(i,o.secretKey);this._addSignature(o.publicKey,ot(l))})}addSignature(t,n){this._compile(),this._addSignature(t,n)}_addSignature(t,n){Rt(n.length===64);const i=this.signatures.findIndex(o=>t.equals(o.publicKey));if(i<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[i].signature=je.Buffer.from(n)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,n){const i={};for(const{signature:o,publicKey:l}of this.signatures)o===null?n&&(i.missing||=[]).push(l):yT(o,t,l.toBytes())||(i.invalid||=[]).push(l);return i.invalid||i.missing?i:void 0}serialize(t){const{requireAllSignatures:n,verifySignatures:i}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),o=this.serializeMessage();if(i){const l=this._getMessageSignednessErrors(o,n);if(l){let u="Signature verification failed.";throw l.invalid&&(u+=`
Invalid signature for public key${l.invalid.length===1?"":"(s)"} [\`${l.invalid.map(f=>f.toBase58()).join("`, `")}\`].`),l.missing&&(u+=`
Missing signature for public key${l.missing.length===1?"":"(s)"} [\`${l.missing.map(f=>f.toBase58()).join("`, `")}\`].`),new Error(u)}}return this._serialize(o)}_serialize(t){const{signatures:n}=this,i=[];lr(i,n.length);const o=i.length+n.length*64+t.length,l=je.Buffer.alloc(o);return Rt(n.length<256),je.Buffer.from(i).copy(l,0),n.forEach(({signature:u},f)=>{u!==null&&(Rt(u.length===64,"signature has invalid length"),je.Buffer.from(u).copy(l,i.length+f*64))}),t.copy(l,i.length+n.length*64),Rt(l.length<=gs,`Transaction too large: ${l.length} > ${gs}`),l}get keys(){return Rt(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return Rt(this.instructions.length===1),this.instructions[0].programId}get data(){return Rt(this.instructions.length===1),this.instructions[0].data}static from(t){let n=[...t];const i=Zn(n);let o=[];for(let l=0;l<i;l++){const u=Wn(n,0,Nl);o.push(Cn.encode(je.Buffer.from(u)))}return vt.populate(Cr.from(n),o)}static populate(t,n=[]){const i=new vt;return i.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(i.feePayer=t.accountKeys[0]),n.forEach((o,l)=>{const u={signature:o==Cn.encode(xT)?null:Cn.decode(o),publicKey:t.accountKeys[l]};i.signatures.push(u)}),t.instructions.forEach(o=>{const l=o.accounts.map(u=>{const f=t.accountKeys[u];return{pubkey:f,isSigner:i.signatures.some(y=>y.publicKey.toString()===f.toString())||t.isAccountSigner(u),isWritable:t.isAccountWritable(u)}});i.instructions.push(new Mt({keys:l,programId:t.accountKeys[o.programIdIndex],data:Cn.decode(o.data)}))}),i._message=t,i._json=i.toJSON(),i}}class cp{constructor(t){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=t.payerKey,this.instructions=t.instructions,this.recentBlockhash=t.recentBlockhash}static decompile(t,n){const{header:i,compiledInstructions:o,recentBlockhash:l}=t,{numRequiredSignatures:u,numReadonlySignedAccounts:f,numReadonlyUnsignedAccounts:y}=i,w=u-f;Rt(w>0,"Message header is invalid");const S=t.staticAccountKeys.length-u-y;Rt(S>=0,"Message header is invalid");const C=t.getAccountKeys(n),I=C.get(0);if(I===void 0)throw new Error("Failed to decompile message because no account keys were found");const x=[];for(const M of o){const L=[];for(const P of M.accountKeyIndexes){const K=C.get(P);if(K===void 0)throw new Error(`Failed to find key for account key index ${P}`);const G=P<u;let X;G?X=P<w:P<C.staticAccountKeys.length?X=P-u<S:X=P-C.staticAccountKeys.length<C.accountKeysFromLookups.writable.length,L.push({pubkey:K,isSigner:P<i.numRequiredSignatures,isWritable:X})}const z=C.get(M.programIdIndex);if(z===void 0)throw new Error(`Failed to find program id for program id index ${M.programIdIndex}`);x.push(new Mt({programId:z,data:ot(M.data),keys:L}))}return new cp({payerKey:I,instructions:x,recentBlockhash:l})}compileToLegacyMessage(){return Cr.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(t){return ta.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:t})}}class up{get version(){return this.message.version}constructor(t,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)Rt(n.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const i=[];for(let o=0;o<t.header.numRequiredSignatures;o++)i.push(new Uint8Array(Nl));this.signatures=i}this.message=t}serialize(){const t=this.message.serialize(),n=Array();lr(n,this.signatures.length);const i=Q.struct([Q.blob(n.length,"encodedSignaturesLength"),Q.seq(vT(),this.signatures.length,"signatures"),Q.blob(t.length,"serializedMessage")]),o=new Uint8Array(2048),l=i.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:t},o);return o.slice(0,l)}static deserialize(t){let n=[...t];const i=[],o=Zn(n);for(let u=0;u<o;u++)i.push(new Uint8Array(Wn(n,0,Nl)));const l=lp.deserialize(new Uint8Array(n));return new up(l,i)}sign(t){const n=this.message.serialize(),i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const o of t){const l=i.findIndex(u=>u.equals(o.publicKey));Rt(l>=0,`Cannot sign with non signer key ${o.publicKey.toBase58()}`),this.signatures[l]=ip(n,o.secretKey)}}addSignature(t,n){Rt(n.byteLength===64,"Signature must be 64 bytes long");const o=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(l=>l.equals(t));Rt(o>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[o]=n}}const TT=160,OT=64,NT=TT/OT,m_=1e3/NT,Kr=new _e("SysvarC1ock11111111111111111111111111111111"),kT=new _e("SysvarEpochSchedu1e111111111111111111111111"),IT=new _e("Sysvar1nstructions1111111111111111111111111"),Ru=new _e("SysvarRecentB1ockHashes11111111111111111111"),po=new _e("SysvarRent111111111111111111111111111111111"),CT=new _e("SysvarRewards111111111111111111111111111111"),BT=new _e("SysvarS1otHashes111111111111111111111111111"),MT=new _e("SysvarS1otHistory11111111111111111111111111"),xu=new _e("SysvarStakeHistory1111111111111111111111111");class vs extends Error{constructor({action:t,signature:n,transactionMessage:i,logs:o}){const l=o?`Logs: 
${JSON.stringify(o.slice(-10),null,2)}. `:"",u="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let f;switch(t){case"send":f=`Transaction ${n} resulted in an error. 
${i}. `+l+u;break;case"simulate":f=`Simulation failed. 
Message: ${i}. 
`+l+u;break;default:f=`Unknown action '${(y=>y)(t)}'`}super(f),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=n,this.transactionMessage=i,this.transactionLogs=o||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const t=this.transactionLogs;if(!(t!=null&&typeof t=="object"&&"then"in t))return t}async getLogs(t){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((n,i)=>{t.getTransaction(this.signature).then(o=>{if(o&&o.meta&&o.meta.logMessages){const l=o.meta.logMessages;this.transactionLogs=l,n(l)}else i(new Error("Log messages not found"))}).catch(i)})),await this.transactionLogs}}const DT={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class Ze extends Error{constructor({code:t,message:n,data:i},o){super(o!=null?`${o}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=t,this.data=i,this.name="SolanaJSONRPCError"}}async function E0(s,t,n,i){const o=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,maxRetries:i.maxRetries,minContextSlot:i.minContextSlot},l=await s.sendTransaction(t,n,o);let u;if(t.recentBlockhash!=null&&t.lastValidBlockHeight!=null)u=(await s.confirmTransaction({abortSignal:i?.abortSignal,signature:l,blockhash:t.recentBlockhash,lastValidBlockHeight:t.lastValidBlockHeight},i&&i.commitment)).value;else if(t.minNonceContextSlot!=null&&t.nonceInfo!=null){const{nonceInstruction:f}=t.nonceInfo,y=f.keys[0].pubkey;u=(await s.confirmTransaction({abortSignal:i?.abortSignal,minContextSlot:t.minNonceContextSlot,nonceAccountPubkey:y,nonceValue:t.nonceInfo.nonce,signature:l},i&&i.commitment)).value}else i?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),u=(await s.confirmTransaction(l,i&&i.commitment)).value;if(u.err)throw l!=null?new vs({action:"send",signature:l,transactionMessage:`Status: (${JSON.stringify(u)})`}):new Error(`Transaction ${l} failed (${JSON.stringify(u)})`);return l}function Fs(s){return new Promise(t=>setTimeout(t,s))}function wt(s,t){const n=s.layout.span>=0?s.layout.span:h_(s,t),i=je.Buffer.alloc(n),o=Object.assign({instruction:s.index},t);return s.layout.encode(o,i),i}function Nt(s,t){let n;try{n=s.layout.decode(t)}catch(i){throw new Error("invalid instruction; "+i)}if(n.instruction!==s.index)throw new Error(`invalid instruction; instruction index mismatch ${n.instruction} != ${s.index}`);return n}const y_=Q.nu64("lamportsPerSignature"),g_=Q.struct([Q.u32("version"),Q.u32("state"),dt("authorizedPubkey"),dt("nonce"),Q.struct([y_],"feeCalculator")]),S0=g_.span;class ef{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){const n=g_.decode(ot(t),0);return new ef({authorizedPubkey:new _e(n.authorizedPubkey),nonce:new _e(n.nonce).toString(),feeCalculator:n.feeCalculator})}}function mo(s){const t=Q.blob(8,s),n=t.decode.bind(t),i=t.encode.bind(t),o=t,l=ux();return o.decode=(u,f)=>{const y=n(u,f);return l.decode(y)},o.encode=(u,f,y)=>{const w=l.encode(u);return i(w,f,y)},o}class LT{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const i=Q.u32("instruction").decode(t.data);let o;for(const[l,u]of Object.entries(Kt))if(u.index==i){o=l;break}if(!o)throw new Error("Instruction type incorrect; not a SystemInstruction");return o}static decodeCreateAccount(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{lamports:n,space:i,programId:o}=Nt(Kt.Create,t.data);return{fromPubkey:t.keys[0].pubkey,newAccountPubkey:t.keys[1].pubkey,lamports:n,space:i,programId:new _e(o)}}static decodeTransfer(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{lamports:n}=Nt(Kt.Transfer,t.data);return{fromPubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,lamports:n}}static decodeTransferWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{lamports:n,seed:i,programId:o}=Nt(Kt.TransferWithSeed,t.data);return{fromPubkey:t.keys[0].pubkey,basePubkey:t.keys[1].pubkey,toPubkey:t.keys[2].pubkey,lamports:n,seed:i,programId:new _e(o)}}static decodeAllocate(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{space:n}=Nt(Kt.Allocate,t.data);return{accountPubkey:t.keys[0].pubkey,space:n}}static decodeAllocateWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{base:n,seed:i,space:o,programId:l}=Nt(Kt.AllocateWithSeed,t.data);return{accountPubkey:t.keys[0].pubkey,basePubkey:new _e(n),seed:i,space:o,programId:new _e(l)}}static decodeAssign(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{programId:n}=Nt(Kt.Assign,t.data);return{accountPubkey:t.keys[0].pubkey,programId:new _e(n)}}static decodeAssignWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{base:n,seed:i,programId:o}=Nt(Kt.AssignWithSeed,t.data);return{accountPubkey:t.keys[0].pubkey,basePubkey:new _e(n),seed:i,programId:new _e(o)}}static decodeCreateWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{base:n,seed:i,lamports:o,space:l,programId:u}=Nt(Kt.CreateWithSeed,t.data);return{fromPubkey:t.keys[0].pubkey,newAccountPubkey:t.keys[1].pubkey,basePubkey:new _e(n),seed:i,lamports:o,space:l,programId:new _e(u)}}static decodeNonceInitialize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{authorized:n}=Nt(Kt.InitializeNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,authorizedPubkey:new _e(n)}}static decodeNonceAdvance(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),Nt(Kt.AdvanceNonceAccount,t.data),{noncePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey}}static decodeNonceWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,5);const{lamports:n}=Nt(Kt.WithdrawNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey,lamports:n}}static decodeNonceAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{authorized:n}=Nt(Kt.AuthorizeNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[1].pubkey,newAuthorizedPubkey:new _e(n)}}static checkProgramId(t){if(!t.equals(yn.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(t,n){if(t.length<n)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${n}`)}}const Kt=Object.freeze({Create:{index:0,layout:Q.struct([Q.u32("instruction"),Q.ns64("lamports"),Q.ns64("space"),dt("programId")])},Assign:{index:1,layout:Q.struct([Q.u32("instruction"),dt("programId")])},Transfer:{index:2,layout:Q.struct([Q.u32("instruction"),mo("lamports")])},CreateWithSeed:{index:3,layout:Q.struct([Q.u32("instruction"),dt("base"),$s("seed"),Q.ns64("lamports"),Q.ns64("space"),dt("programId")])},AdvanceNonceAccount:{index:4,layout:Q.struct([Q.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:Q.struct([Q.u32("instruction"),Q.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:Q.struct([Q.u32("instruction"),dt("authorized")])},AuthorizeNonceAccount:{index:7,layout:Q.struct([Q.u32("instruction"),dt("authorized")])},Allocate:{index:8,layout:Q.struct([Q.u32("instruction"),Q.ns64("space")])},AllocateWithSeed:{index:9,layout:Q.struct([Q.u32("instruction"),dt("base"),$s("seed"),Q.ns64("space"),dt("programId")])},AssignWithSeed:{index:10,layout:Q.struct([Q.u32("instruction"),dt("base"),$s("seed"),dt("programId")])},TransferWithSeed:{index:11,layout:Q.struct([Q.u32("instruction"),mo("lamports"),$s("seed"),dt("programId")])},UpgradeNonceAccount:{index:12,layout:Q.struct([Q.u32("instruction")])}});class yn{constructor(){}static createAccount(t){const n=Kt.Create,i=wt(n,{lamports:t.lamports,space:t.space,programId:ot(t.programId.toBuffer())});return new Mt({keys:[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:i})}static transfer(t){let n,i;if("basePubkey"in t){const o=Kt.TransferWithSeed;n=wt(o,{lamports:BigInt(t.lamports),seed:t.seed,programId:ot(t.programId.toBuffer())}),i=[{pubkey:t.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}else{const o=Kt.Transfer;n=wt(o,{lamports:BigInt(t.lamports)}),i=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}return new Mt({keys:i,programId:this.programId,data:n})}static assign(t){let n,i;if("basePubkey"in t){const o=Kt.AssignWithSeed;n=wt(o,{base:ot(t.basePubkey.toBuffer()),seed:t.seed,programId:ot(t.programId.toBuffer())}),i=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{const o=Kt.Assign;n=wt(o,{programId:ot(t.programId.toBuffer())}),i=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new Mt({keys:i,programId:this.programId,data:n})}static createAccountWithSeed(t){const n=Kt.CreateWithSeed,i=wt(n,{base:ot(t.basePubkey.toBuffer()),seed:t.seed,lamports:t.lamports,space:t.space,programId:ot(t.programId.toBuffer())});let o=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!1,isWritable:!0}];return t.basePubkey.equals(t.fromPubkey)||o.push({pubkey:t.basePubkey,isSigner:!0,isWritable:!1}),new Mt({keys:o,programId:this.programId,data:i})}static createNonceAccount(t){const n=new vt;"basePubkey"in t&&"seed"in t?n.add(yn.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:S0,programId:this.programId})):n.add(yn.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:S0,programId:this.programId}));const i={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return n.add(this.nonceInitialize(i)),n}static nonceInitialize(t){const n=Kt.InitializeNonceAccount,i=wt(n,{authorized:ot(t.authorizedPubkey.toBuffer())}),o={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Ru,isSigner:!1,isWritable:!1},{pubkey:po,isSigner:!1,isWritable:!1}],programId:this.programId,data:i};return new Mt(o)}static nonceAdvance(t){const n=Kt.AdvanceNonceAccount,i=wt(n),o={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Ru,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new Mt(o)}static nonceWithdraw(t){const n=Kt.WithdrawNonceAccount,i=wt(n,{lamports:t.lamports});return new Mt({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Ru,isSigner:!1,isWritable:!1},{pubkey:po,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static nonceAuthorize(t){const n=Kt.AuthorizeNonceAccount,i=wt(n,{authorized:ot(t.newAuthorizedPubkey.toBuffer())});return new Mt({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static allocate(t){let n,i;if("basePubkey"in t){const o=Kt.AllocateWithSeed;n=wt(o,{base:ot(t.basePubkey.toBuffer()),seed:t.seed,space:t.space,programId:ot(t.programId.toBuffer())}),i=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{const o=Kt.Allocate;n=wt(o,{space:t.space}),i=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new Mt({keys:i,programId:this.programId,data:n})}}yn.programId=new _e("11111111111111111111111111111111");const UT=gs-300;class na{constructor(){}static getMinNumSignatures(t){return 2*(Math.ceil(t/na.chunkSize)+1+1)}static async load(t,n,i,o,l){{const C=await t.getMinimumBalanceForRentExemption(l.length),I=await t.getAccountInfo(i.publicKey,"confirmed");let x=null;if(I!==null){if(I.executable)return console.error("Program load failed, account is already executable"),!1;I.data.length!==l.length&&(x=x||new vt,x.add(yn.allocate({accountPubkey:i.publicKey,space:l.length}))),I.owner.equals(o)||(x=x||new vt,x.add(yn.assign({accountPubkey:i.publicKey,programId:o}))),I.lamports<C&&(x=x||new vt,x.add(yn.transfer({fromPubkey:n.publicKey,toPubkey:i.publicKey,lamports:C-I.lamports})))}else x=new vt().add(yn.createAccount({fromPubkey:n.publicKey,newAccountPubkey:i.publicKey,lamports:C>0?C:1,space:l.length,programId:o}));x!==null&&await E0(t,x,[n,i],{commitment:"confirmed"})}const u=Q.struct([Q.u32("instruction"),Q.u32("offset"),Q.u32("bytesLength"),Q.u32("bytesLengthPadding"),Q.seq(Q.u8("byte"),Q.offset(Q.u32(),-8),"bytes")]),f=na.chunkSize;let y=0,w=l,S=[];for(;w.length>0;){const C=w.slice(0,f),I=je.Buffer.alloc(f+16);u.encode({instruction:0,offset:y,bytes:C,bytesLength:0,bytesLengthPadding:0},I);const x=new vt().add({keys:[{pubkey:i.publicKey,isSigner:!0,isWritable:!0}],programId:o,data:I});S.push(E0(t,x,[n,i],{commitment:"confirmed"})),t._rpcEndpoint.includes("solana.com")&&await Fs(1e3/4),y+=f,w=w.slice(f)}await Promise.all(S);{const C=Q.struct([Q.u32("instruction")]),I=je.Buffer.alloc(C.span);C.encode({instruction:1},I);const x=new vt().add({keys:[{pubkey:i.publicKey,isSigner:!0,isWritable:!0},{pubkey:po,isSigner:!1,isWritable:!1}],programId:o,data:I}),M="processed",L=await t.sendTransaction(x,[n,i],{preflightCommitment:M}),{context:z,value:P}=await t.confirmTransaction({signature:L,lastValidBlockHeight:x.lastValidBlockHeight,blockhash:x.recentBlockhash},M);if(P.err)throw new Error(`Transaction ${L} failed (${JSON.stringify(P)})`);for(;;){try{if(await t.getSlot({commitment:M})>z.slot)break}catch{}await new Promise(K=>setTimeout(K,Math.round(m_/2)))}}return!0}}na.chunkSize=UT;const zT=new _e("BPFLoader2111111111111111111111111111111111");class jT{static getMinNumSignatures(t){return na.getMinNumSignatures(t)}static load(t,n,i,o,l){return na.load(t,n,i,l,o)}}function HT(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Wh,ob;function PT(){if(ob)return Wh;ob=1;var s=Object.prototype.toString,t=Object.keys||function(i){var o=[];for(var l in i)o.push(l);return o};function n(i,o){var l,u,f,y,w,S,C;if(i===!0)return"true";if(i===!1)return"false";switch(typeof i){case"object":if(i===null)return null;if(i.toJSON&&typeof i.toJSON=="function")return n(i.toJSON(),o);if(C=s.call(i),C==="[object Array]"){for(f="[",u=i.length-1,l=0;l<u;l++)f+=n(i[l],!0)+",";return u>-1&&(f+=n(i[l],!0)),f+"]"}else if(C==="[object Object]"){for(y=t(i).sort(),u=y.length,f="",l=0;l<u;)w=y[l],S=n(i[w],!1),S!==void 0&&(f&&(f+=","),f+=JSON.stringify(w)+":"+S),l++;return"{"+f+"}"}else return JSON.stringify(i);case"function":case"undefined":return o?null:void 0;case"string":return JSON.stringify(i);default:return isFinite(i)?i:null}}return Wh=function(i){var o=n(i,!1);if(o!==void 0)return""+o},Wh}var qT=PT(),lb=HT(qT);const bl=32;function $h(s){let t=0;for(;s>1;)s/=2,t++;return t}function KT(s){return s===0?1:(s--,s|=s>>1,s|=s>>2,s|=s>>4,s|=s>>8,s|=s>>16,s|=s>>32,s+1)}class b_{constructor(t,n,i,o,l){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=n,this.warmup=i,this.firstNormalEpoch=o,this.firstNormalSlot=l}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){const n=$h(KT(t+bl+1))-$h(bl)-1,i=this.getSlotsInEpoch(n),o=t-(i-bl);return[n,o]}else{const n=t-this.firstNormalSlot,i=Math.floor(n/this.slotsPerEpoch),o=this.firstNormalEpoch+i,l=n%this.slotsPerEpoch;return[o,l]}}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?(Math.pow(2,t)-1)*bl:(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+$h(bl)):this.slotsPerEpoch}}var GT=globalThis.fetch;class VT extends Fx{constructor(t,n,i){const o=l=>{const u=Gx(l,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in u?this.underlyingSocket=u.socket:this.underlyingSocket=u,u};super(o,t,n,i),this.underlyingSocket=void 0}call(...t){const n=this.underlyingSocket?.readyState;return n===1?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...t){const n=this.underlyingSocket?.readyState;return n===1?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}}function FT(s,t){let n;try{n=s.layout.decode(t)}catch(i){throw new Error("invalid instruction; "+i)}if(n.typeIndex!==s.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${s.index}`);return n}const cb=56;class A0{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){const t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){const n=FT(YT,t),i=t.length-cb;Rt(i>=0,"lookup table is invalid"),Rt(i%32===0,"lookup table is invalid");const o=i/32,{addresses:l}=Q.struct([Q.seq(dt(),o,"addresses")]).decode(t.slice(cb));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new _e(n.authority[0]):void 0,addresses:l.map(u=>new _e(u))}}}const YT={index:1,layout:Q.struct([Q.u32("typeIndex"),mo("deactivationSlot"),Q.nu64("lastExtendedSlot"),Q.u8("lastExtendedStartIndex"),Q.u8(),Q.seq(dt(),Q.offset(Q.u8(),-1),"authority")])},ZT=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function WT(s){const t=s.match(ZT);if(t==null)throw TypeError(`Failed to validate endpoint URL \`${s}\``);const[n,i,o,l]=t,u=s.startsWith("https:")?"wss:":"ws:",f=o==null?null:parseInt(o.slice(1),10),y=f==null?"":`:${f+1}`;return`${u}//${i}${y}${l}`}const rn=Hl(J0(_e),Ne(),s=>new _e(s)),w_=ep([Ne(),nn("base64")]),fp=Hl(J0(je.Buffer),w_,s=>je.Buffer.from(s[0],"base64")),__=30*1e3;function $T(s){if(/^https?:/.test(s)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return s}function qt(s){let t,n;if(typeof s=="string")t=s;else if(s){const{commitment:i,...o}=s;t=i,n=o}return{commitment:t,config:n}}function ub(s){return s.map(t=>"memcmp"in t?{...t,memcmp:{...t.memcmp,encoding:t.memcmp.encoding??"base58"}}:t)}function v_(s){return Pn([Re({jsonrpc:nn("2.0"),id:Ne(),result:s}),Re({jsonrpc:nn("2.0"),id:Ne(),error:Re({code:wo(),message:Ne(),data:et(yx())})})])}const XT=v_(wo());function at(s){return Hl(v_(s),XT,t=>"error"in t?t:{...t,result:Ce(t.result,s)})}function pn(s){return at(Re({context:Re({slot:ue()}),value:s}))}function tf(s){return Re({context:Re({slot:ue()}),value:s})}function Xh(s,t){return s===0?new ta({header:t.header,staticAccountKeys:t.accountKeys.map(n=>new _e(n)),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:Cn.decode(n.data)})),addressTableLookups:t.addressTableLookups}):new Cr(t)}const QT=Re({foundation:ue(),foundationTerm:ue(),initial:ue(),taper:ue(),terminal:ue()}),JT=at(Me(De(Re({epoch:ue(),effectiveSlot:ue(),amount:ue(),postBalance:ue(),commission:et(De(ue()))})))),eO=Me(Re({slot:ue(),prioritizationFee:ue()})),tO=Re({total:ue(),validator:ue(),foundation:ue(),epoch:ue()}),nO=Re({epoch:ue(),slotIndex:ue(),slotsInEpoch:ue(),absoluteSlot:ue(),blockHeight:et(ue()),transactionCount:et(ue())}),rO=Re({slotsPerEpoch:ue(),leaderScheduleSlotOffset:ue(),warmup:$r(),firstNormalEpoch:ue(),firstNormalSlot:ue()}),iO=Ww(Ne(),Me(ue())),aa=De(Pn([Re({}),Ne()])),sO=Re({err:aa}),aO=nn("receivedSignature"),oO=Re({"solana-core":Ne(),"feature-set":et(ue())}),lO=Re({program:Ne(),programId:rn,parsed:wo()}),cO=Re({programId:rn,accounts:Me(rn),data:Ne()}),fb=pn(Re({err:De(Pn([Re({}),Ne()])),logs:De(Me(Ne())),accounts:et(De(Me(De(Re({executable:$r(),owner:Ne(),lamports:ue(),data:Me(Ne()),rentEpoch:et(ue())}))))),unitsConsumed:et(ue()),returnData:et(De(Re({programId:Ne(),data:ep([Ne(),nn("base64")])}))),innerInstructions:et(De(Me(Re({index:ue(),instructions:Me(Pn([lO,cO]))}))))})),uO=pn(Re({byIdentity:Ww(Ne(),Me(ue())),range:Re({firstSlot:ue(),lastSlot:ue()})}));function fO(s,t,n,i,o,l){const u=n||GT;let f;l!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let y;return i&&(y=async(S,C)=>{const I=await new Promise((x,M)=>{try{i(S,C,(L,z)=>x([L,z]))}catch(L){M(L)}});return await u(...I)}),new Hx(async(S,C)=>{const I={method:"POST",body:S,agent:f,headers:Object.assign({"Content-Type":"application/json"},t||{},fN)};try{let x=5,M,L=500;for(;y?M=await y(s,I):M=await u(s,I),!(M.status!==429||o===!0||(x-=1,x===0));)console.error(`Server responded with ${M.status} ${M.statusText}.  Retrying after ${L}ms delay...`),await Fs(L),L*=2;const z=await M.text();M.ok?C(null,z):C(new Error(`${M.status} ${M.statusText}: ${z}`))}catch(x){x instanceof Error&&C(x)}},{})}function dO(s){return(t,n)=>new Promise((i,o)=>{s.request(t,n,(l,u)=>{if(l){o(l);return}i(u)})})}function hO(s){return t=>new Promise((n,i)=>{t.length===0&&n([]);const o=t.map(l=>s.request(l.methodName,l.args));s.request(o,(l,u)=>{if(l){i(l);return}n(u)})})}const pO=at(QT),mO=at(tO),yO=at(eO),gO=at(nO),bO=at(rO),wO=at(iO),_O=at(ue()),vO=pn(Re({total:ue(),circulating:ue(),nonCirculating:ue(),nonCirculatingAccounts:Me(rn)})),R0=Re({amount:Ne(),uiAmount:De(ue()),decimals:ue(),uiAmountString:et(Ne())}),EO=pn(Me(Re({address:rn,amount:Ne(),uiAmount:De(ue()),decimals:ue(),uiAmountString:et(Ne())}))),SO=pn(Me(Re({pubkey:rn,account:Re({executable:$r(),owner:rn,lamports:ue(),data:fp,rentEpoch:ue()})}))),x0=Re({program:Ne(),parsed:wo(),space:ue()}),AO=pn(Me(Re({pubkey:rn,account:Re({executable:$r(),owner:rn,lamports:ue(),data:x0,rentEpoch:ue()})}))),RO=pn(Me(Re({lamports:ue(),address:rn}))),Il=Re({executable:$r(),owner:rn,lamports:ue(),data:fp,rentEpoch:ue()}),xO=Re({pubkey:rn,account:Il}),TO=Hl(Pn([J0(je.Buffer),x0]),Pn([w_,x0]),s=>Array.isArray(s)?Ce(s,fp):s),T0=Re({executable:$r(),owner:rn,lamports:ue(),data:TO,rentEpoch:ue()}),OO=Re({pubkey:rn,account:T0}),NO=Re({state:Pn([nn("active"),nn("inactive"),nn("activating"),nn("deactivating")]),active:ue(),inactive:ue()}),kO=at(Me(Re({signature:Ne(),slot:ue(),err:aa,memo:De(Ne()),blockTime:et(De(ue()))}))),IO=at(Me(Re({signature:Ne(),slot:ue(),err:aa,memo:De(Ne()),blockTime:et(De(ue()))}))),CO=Re({subscription:ue(),result:tf(Il)}),BO=Re({pubkey:rn,account:Il}),MO=Re({subscription:ue(),result:tf(BO)}),DO=Re({parent:ue(),slot:ue(),root:ue()}),LO=Re({subscription:ue(),result:DO}),UO=Pn([Re({type:Pn([nn("firstShredReceived"),nn("completed"),nn("optimisticConfirmation"),nn("root")]),slot:ue(),timestamp:ue()}),Re({type:nn("createdBank"),parent:ue(),slot:ue(),timestamp:ue()}),Re({type:nn("frozen"),slot:ue(),timestamp:ue(),stats:Re({numTransactionEntries:ue(),numSuccessfulTransactions:ue(),numFailedTransactions:ue(),maxTransactionsPerEntry:ue()})}),Re({type:nn("dead"),slot:ue(),timestamp:ue(),err:Ne()})]),zO=Re({subscription:ue(),result:UO}),jO=Re({subscription:ue(),result:tf(Pn([sO,aO]))}),HO=Re({subscription:ue(),result:ue()}),PO=Re({pubkey:Ne(),gossip:De(Ne()),tpu:De(Ne()),rpc:De(Ne()),version:De(Ne())}),db=Re({votePubkey:Ne(),nodePubkey:Ne(),activatedStake:ue(),epochVoteAccount:$r(),epochCredits:Me(ep([ue(),ue(),ue()])),commission:ue(),lastVote:ue(),rootSlot:De(ue())}),qO=at(Re({current:Me(db),delinquent:Me(db)})),KO=Pn([nn("processed"),nn("confirmed"),nn("finalized")]),GO=Re({slot:ue(),confirmations:De(ue()),err:aa,confirmationStatus:et(KO)}),VO=pn(Me(De(GO))),FO=at(ue()),E_=Re({accountKey:rn,writableIndexes:Me(ue()),readonlyIndexes:Me(ue())}),dp=Re({signatures:Me(Ne()),message:Re({accountKeys:Me(Ne()),header:Re({numRequiredSignatures:ue(),numReadonlySignedAccounts:ue(),numReadonlyUnsignedAccounts:ue()}),instructions:Me(Re({accounts:Me(ue()),data:Ne(),programIdIndex:ue()})),recentBlockhash:Ne(),addressTableLookups:et(Me(E_))})}),S_=Re({pubkey:rn,signer:$r(),writable:$r(),source:et(Pn([nn("transaction"),nn("lookupTable")]))}),A_=Re({accountKeys:Me(S_),signatures:Me(Ne())}),R_=Re({parsed:wo(),program:Ne(),programId:rn}),x_=Re({accounts:Me(rn),data:Ne(),programId:rn}),YO=Pn([x_,R_]),ZO=Pn([Re({parsed:wo(),program:Ne(),programId:Ne()}),Re({accounts:Me(Ne()),data:Ne(),programId:Ne()})]),T_=Hl(YO,ZO,s=>"accounts"in s?Ce(s,x_):Ce(s,R_)),O_=Re({signatures:Me(Ne()),message:Re({accountKeys:Me(S_),instructions:Me(T_),recentBlockhash:Ne(),addressTableLookups:et(De(Me(E_)))})}),ju=Re({accountIndex:ue(),mint:Ne(),owner:et(Ne()),programId:et(Ne()),uiTokenAmount:R0}),N_=Re({writable:Me(rn),readonly:Me(rn)}),nf=Re({err:aa,fee:ue(),innerInstructions:et(De(Me(Re({index:ue(),instructions:Me(Re({accounts:Me(ue()),data:Ne(),programIdIndex:ue()}))})))),preBalances:Me(ue()),postBalances:Me(ue()),logMessages:et(De(Me(Ne()))),preTokenBalances:et(De(Me(ju))),postTokenBalances:et(De(Me(ju))),loadedAddresses:et(N_),computeUnitsConsumed:et(ue()),costUnits:et(ue())}),hp=Re({err:aa,fee:ue(),innerInstructions:et(De(Me(Re({index:ue(),instructions:Me(T_)})))),preBalances:Me(ue()),postBalances:Me(ue()),logMessages:et(De(Me(Ne()))),preTokenBalances:et(De(Me(ju))),postTokenBalances:et(De(Me(ju))),loadedAddresses:et(N_),computeUnitsConsumed:et(ue()),costUnits:et(ue())}),_o=Pn([nn(0),nn("legacy")]),oa=Re({pubkey:Ne(),lamports:ue(),postBalance:De(ue()),rewardType:De(Ne()),commission:et(De(ue()))}),WO=at(De(Re({blockhash:Ne(),previousBlockhash:Ne(),parentSlot:ue(),transactions:Me(Re({transaction:dp,meta:De(nf),version:et(_o)})),rewards:et(Me(oa)),blockTime:De(ue()),blockHeight:De(ue())}))),$O=at(De(Re({blockhash:Ne(),previousBlockhash:Ne(),parentSlot:ue(),rewards:et(Me(oa)),blockTime:De(ue()),blockHeight:De(ue())}))),XO=at(De(Re({blockhash:Ne(),previousBlockhash:Ne(),parentSlot:ue(),transactions:Me(Re({transaction:A_,meta:De(nf),version:et(_o)})),rewards:et(Me(oa)),blockTime:De(ue()),blockHeight:De(ue())}))),QO=at(De(Re({blockhash:Ne(),previousBlockhash:Ne(),parentSlot:ue(),transactions:Me(Re({transaction:O_,meta:De(hp),version:et(_o)})),rewards:et(Me(oa)),blockTime:De(ue()),blockHeight:De(ue())}))),JO=at(De(Re({blockhash:Ne(),previousBlockhash:Ne(),parentSlot:ue(),transactions:Me(Re({transaction:A_,meta:De(hp),version:et(_o)})),rewards:et(Me(oa)),blockTime:De(ue()),blockHeight:De(ue())}))),eN=at(De(Re({blockhash:Ne(),previousBlockhash:Ne(),parentSlot:ue(),rewards:et(Me(oa)),blockTime:De(ue()),blockHeight:De(ue())}))),tN=at(De(Re({blockhash:Ne(),previousBlockhash:Ne(),parentSlot:ue(),transactions:Me(Re({transaction:dp,meta:De(nf)})),rewards:et(Me(oa)),blockTime:De(ue())}))),hb=at(De(Re({blockhash:Ne(),previousBlockhash:Ne(),parentSlot:ue(),signatures:Me(Ne()),blockTime:De(ue())}))),Qh=at(De(Re({slot:ue(),meta:De(nf),blockTime:et(De(ue())),transaction:dp,version:et(_o)}))),uu=at(De(Re({slot:ue(),transaction:O_,meta:De(hp),blockTime:et(De(ue())),version:et(_o)}))),nN=pn(Re({blockhash:Ne(),lastValidBlockHeight:ue()})),rN=pn($r()),iN=Re({slot:ue(),numTransactions:ue(),numSlots:ue(),samplePeriodSecs:ue()}),sN=at(Me(iN)),aN=pn(De(Re({feeCalculator:Re({lamportsPerSignature:ue()})}))),oN=at(Ne()),lN=at(Ne()),cN=Re({err:aa,logs:Me(Ne()),signature:Ne()}),uN=Re({result:tf(cN),subscription:ue()}),fN={"solana-client":"js/1.0.0-maintenance"};class pp{constructor(t,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const w={};return async S=>{const{commitment:C,config:I}=qt(S),x=this._buildArgs([],C,void 0,I),M=lb(x);return w[M]=w[M]??(async()=>{try{const L=await this._rpcRequest("getBlockHeight",x),z=Ce(L,at(ue()));if("error"in z)throw new Ze(z.error,"failed to get block height information");return z.result}finally{delete w[M]}})(),await w[M]}})();let i,o,l,u,f,y;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,i=n.wsEndpoint,o=n.httpHeaders,l=n.fetch,u=n.fetchMiddleware,f=n.disableRetryOnRateLimit,y=n.httpAgent),this._rpcEndpoint=$T(t),this._rpcWsEndpoint=i||WT(t),this._rpcClient=fO(t,o,l,u,f,y),this._rpcRequest=dO(this._rpcClient),this._rpcBatchRequest=hO(this._rpcClient),this._rpcWebSocket=new VT(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(t,n){const{commitment:i,config:o}=qt(n),l=this._buildArgs([t.toBase58()],i,void 0,o),u=await this._rpcRequest("getBalance",l),f=Ce(u,pn(ue()));if("error"in f)throw new Ze(f.error,`failed to get balance for ${t.toBase58()}`);return f.result}async getBalance(t,n){return await this.getBalanceAndContext(t,n).then(i=>i.value).catch(i=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+i)})}async getBlockTime(t){const n=await this._rpcRequest("getBlockTime",[t]),i=Ce(n,at(De(ue())));if("error"in i)throw new Ze(i.error,`failed to get block time for slot ${t}`);return i.result}async getMinimumLedgerSlot(){const t=await this._rpcRequest("minimumLedgerSlot",[]),n=Ce(t,at(ue()));if("error"in n)throw new Ze(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const t=await this._rpcRequest("getFirstAvailableBlock",[]),n=Ce(t,_O);if("error"in n)throw new Ze(n.error,"failed to get first available block");return n.result}async getSupply(t){let n={};typeof t=="string"?n={commitment:t}:t?n={...t,commitment:t&&t.commitment||this.commitment}:n={commitment:this.commitment};const i=await this._rpcRequest("getSupply",[n]),o=Ce(i,vO);if("error"in o)throw new Ze(o.error,"failed to get supply");return o.result}async getTokenSupply(t,n){const i=this._buildArgs([t.toBase58()],n),o=await this._rpcRequest("getTokenSupply",i),l=Ce(o,pn(R0));if("error"in l)throw new Ze(l.error,"failed to get token supply");return l.result}async getTokenAccountBalance(t,n){const i=this._buildArgs([t.toBase58()],n),o=await this._rpcRequest("getTokenAccountBalance",i),l=Ce(o,pn(R0));if("error"in l)throw new Ze(l.error,"failed to get token account balance");return l.result}async getTokenAccountsByOwner(t,n,i){const{commitment:o,config:l}=qt(i);let u=[t.toBase58()];"mint"in n?u.push({mint:n.mint.toBase58()}):u.push({programId:n.programId.toBase58()});const f=this._buildArgs(u,o,"base64",l),y=await this._rpcRequest("getTokenAccountsByOwner",f),w=Ce(y,SO);if("error"in w)throw new Ze(w.error,`failed to get token accounts owned by account ${t.toBase58()}`);return w.result}async getParsedTokenAccountsByOwner(t,n,i){let o=[t.toBase58()];"mint"in n?o.push({mint:n.mint.toBase58()}):o.push({programId:n.programId.toBase58()});const l=this._buildArgs(o,i,"jsonParsed"),u=await this._rpcRequest("getTokenAccountsByOwner",l),f=Ce(u,AO);if("error"in f)throw new Ze(f.error,`failed to get token accounts owned by account ${t.toBase58()}`);return f.result}async getLargestAccounts(t){const n={...t,commitment:t&&t.commitment||this.commitment},i=n.filter||n.commitment?[n]:[],o=await this._rpcRequest("getLargestAccounts",i),l=Ce(o,RO);if("error"in l)throw new Ze(l.error,"failed to get largest accounts");return l.result}async getTokenLargestAccounts(t,n){const i=this._buildArgs([t.toBase58()],n),o=await this._rpcRequest("getTokenLargestAccounts",i),l=Ce(o,EO);if("error"in l)throw new Ze(l.error,"failed to get token largest accounts");return l.result}async getAccountInfoAndContext(t,n){const{commitment:i,config:o}=qt(n),l=this._buildArgs([t.toBase58()],i,"base64",o),u=await this._rpcRequest("getAccountInfo",l),f=Ce(u,pn(De(Il)));if("error"in f)throw new Ze(f.error,`failed to get info about account ${t.toBase58()}`);return f.result}async getParsedAccountInfo(t,n){const{commitment:i,config:o}=qt(n),l=this._buildArgs([t.toBase58()],i,"jsonParsed",o),u=await this._rpcRequest("getAccountInfo",l),f=Ce(u,pn(De(T0)));if("error"in f)throw new Ze(f.error,`failed to get info about account ${t.toBase58()}`);return f.result}async getAccountInfo(t,n){try{return(await this.getAccountInfoAndContext(t,n)).value}catch(i){throw new Error("failed to get info about account "+t.toBase58()+": "+i)}}async getMultipleParsedAccounts(t,n){const{commitment:i,config:o}=qt(n),l=t.map(w=>w.toBase58()),u=this._buildArgs([l],i,"jsonParsed",o),f=await this._rpcRequest("getMultipleAccounts",u),y=Ce(f,pn(Me(De(T0))));if("error"in y)throw new Ze(y.error,`failed to get info for accounts ${l}`);return y.result}async getMultipleAccountsInfoAndContext(t,n){const{commitment:i,config:o}=qt(n),l=t.map(w=>w.toBase58()),u=this._buildArgs([l],i,"base64",o),f=await this._rpcRequest("getMultipleAccounts",u),y=Ce(f,pn(Me(De(Il))));if("error"in y)throw new Ze(y.error,`failed to get info for accounts ${l}`);return y.result}async getMultipleAccountsInfo(t,n){return(await this.getMultipleAccountsInfoAndContext(t,n)).value}async getStakeActivation(t,n,i){const{commitment:o,config:l}=qt(n),u=this._buildArgs([t.toBase58()],o,void 0,{...l,epoch:i??l?.epoch}),f=await this._rpcRequest("getStakeActivation",u),y=Ce(f,at(NO));if("error"in y)throw new Ze(y.error,`failed to get Stake Activation ${t.toBase58()}`);return y.result}async getProgramAccounts(t,n){const{commitment:i,config:o}=qt(n),{encoding:l,...u}=o||{},f=this._buildArgs([t.toBase58()],i,l||"base64",{...u,...u.filters?{filters:ub(u.filters)}:null}),y=await this._rpcRequest("getProgramAccounts",f),w=Me(xO),S=u.withContext===!0?Ce(y,pn(w)):Ce(y,at(w));if("error"in S)throw new Ze(S.error,`failed to get accounts owned by program ${t.toBase58()}`);return S.result}async getParsedProgramAccounts(t,n){const{commitment:i,config:o}=qt(n),l=this._buildArgs([t.toBase58()],i,"jsonParsed",o),u=await this._rpcRequest("getProgramAccounts",l),f=Ce(u,at(Me(OO)));if("error"in f)throw new Ze(f.error,`failed to get accounts owned by program ${t.toBase58()}`);return f.result}async confirmTransaction(t,n){let i;if(typeof t=="string")i=t;else{const l=t;if(l.abortSignal?.aborted)return Promise.reject(l.abortSignal.reason);i=l.signature}let o;try{o=Cn.decode(i)}catch{throw new Error("signature must be base58 encoded: "+i)}return Rt(o.length===64,"signature has invalid length"),typeof t=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:i}):"lastValidBlockHeight"in t?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:t}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:t})}getCancellationPromise(t){return new Promise((n,i)=>{t!=null&&(t.aborted?i(t.reason):t.addEventListener("abort",()=>{i(t.reason)}))})}getTransactionConfirmationPromise({commitment:t,signature:n}){let i,o,l=!1;const u=new Promise((y,w)=>{try{i=this.onSignature(n,(C,I)=>{i=void 0;const x={context:I,value:C};y({__type:Ei.PROCESSED,response:x})},t);const S=new Promise(C=>{i==null?C():o=this._onSubscriptionStateChange(i,I=>{I==="subscribed"&&C()})});(async()=>{if(await S,l)return;const C=await this.getSignatureStatus(n);if(l||C==null)return;const{context:I,value:x}=C;if(x!=null)if(x?.err)w(x.err);else{switch(t){case"confirmed":case"single":case"singleGossip":{if(x.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(x.confirmationStatus==="processed"||x.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}l=!0,y({__type:Ei.PROCESSED,response:{context:I,value:x}})}})()}catch(S){w(S)}});return{abortConfirmation:()=>{o&&(o(),o=void 0),i!=null&&(this.removeSignatureListener(i),i=void 0)},confirmationPromise:u}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:n,lastValidBlockHeight:i,signature:o}}){let l=!1;const u=new Promise(C=>{const I=async()=>{try{return await this.getBlockHeight(t)}catch{return-1}};(async()=>{let x=await I();if(!l){for(;x<=i;)if(await Fs(1e3),l||(x=await I(),l))return;C({__type:Ei.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:f,confirmationPromise:y}=this.getTransactionConfirmationPromise({commitment:t,signature:o}),w=this.getCancellationPromise(n);let S;try{const C=await Promise.race([w,y,u]);if(C.__type===Ei.PROCESSED)S=C.response;else throw new ap(o)}finally{l=!0,f()}return S}async confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:n,minContextSlot:i,nonceAccountPubkey:o,nonceValue:l,signature:u}}){let f=!1;const y=new Promise(x=>{let M=l,L=null;const z=async()=>{try{const{context:P,value:K}=await this.getNonceAndContext(o,{commitment:t,minContextSlot:i});return L=P.slot,K?.nonce}catch{return M}};(async()=>{if(M=await z(),!f)for(;;){if(l!==M){x({__type:Ei.NONCE_INVALID,slotInWhichNonceDidAdvance:L});return}if(await Fs(2e3),f||(M=await z(),f))return}})()}),{abortConfirmation:w,confirmationPromise:S}=this.getTransactionConfirmationPromise({commitment:t,signature:u}),C=this.getCancellationPromise(n);let I;try{const x=await Promise.race([C,S,y]);if(x.__type===Ei.PROCESSED)I=x.response;else{let M;for(;;){const L=await this.getSignatureStatus(u);if(L==null)break;if(L.context.slot<(x.slotInWhichNonceDidAdvance??i)){await Fs(400);continue}M=L;break}if(M?.value){const L=t||"finalized",{confirmationStatus:z}=M.value;switch(L){case"processed":case"recent":if(z!=="processed"&&z!=="confirmed"&&z!=="finalized")throw new no(u);break;case"confirmed":case"single":case"singleGossip":if(z!=="confirmed"&&z!=="finalized")throw new no(u);break;case"finalized":case"max":case"root":if(z!=="finalized")throw new no(u);break;default:}I={context:M.context,value:{err:M.value.err}}}else throw new no(u)}}finally{f=!0,w()}return I}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:n}){let i;const o=new Promise(y=>{let w=this._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{w=this._confirmTransactionInitialTimeout||3e4;break}}i=setTimeout(()=>y({__type:Ei.TIMED_OUT,timeoutMs:w}),w)}),{abortConfirmation:l,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:t,signature:n});let f;try{const y=await Promise.race([u,o]);if(y.__type===Ei.PROCESSED)f=y.response;else throw new op(n,y.timeoutMs/1e3)}finally{clearTimeout(i),l()}return f}async getClusterNodes(){const t=await this._rpcRequest("getClusterNodes",[]),n=Ce(t,at(Me(PO)));if("error"in n)throw new Ze(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(t){const n=this._buildArgs([],t),i=await this._rpcRequest("getVoteAccounts",n),o=Ce(i,qO);if("error"in o)throw new Ze(o.error,"failed to get vote accounts");return o.result}async getSlot(t){const{commitment:n,config:i}=qt(t),o=this._buildArgs([],n,void 0,i),l=await this._rpcRequest("getSlot",o),u=Ce(l,at(ue()));if("error"in u)throw new Ze(u.error,"failed to get slot");return u.result}async getSlotLeader(t){const{commitment:n,config:i}=qt(t),o=this._buildArgs([],n,void 0,i),l=await this._rpcRequest("getSlotLeader",o),u=Ce(l,at(Ne()));if("error"in u)throw new Ze(u.error,"failed to get slot leader");return u.result}async getSlotLeaders(t,n){const i=[t,n],o=await this._rpcRequest("getSlotLeaders",i),l=Ce(o,at(Me(rn)));if("error"in l)throw new Ze(l.error,"failed to get slot leaders");return l.result}async getSignatureStatus(t,n){const{context:i,value:o}=await this.getSignatureStatuses([t],n);Rt(o.length===1);const l=o[0];return{context:i,value:l}}async getSignatureStatuses(t,n){const i=[t];n&&i.push(n);const o=await this._rpcRequest("getSignatureStatuses",i),l=Ce(o,VO);if("error"in l)throw new Ze(l.error,"failed to get signature status");return l.result}async getTransactionCount(t){const{commitment:n,config:i}=qt(t),o=this._buildArgs([],n,void 0,i),l=await this._rpcRequest("getTransactionCount",o),u=Ce(l,at(ue()));if("error"in u)throw new Ze(u.error,"failed to get transaction count");return u.result}async getTotalSupply(t){return(await this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(t){const n=this._buildArgs([],t),i=await this._rpcRequest("getInflationGovernor",n),o=Ce(i,pO);if("error"in o)throw new Ze(o.error,"failed to get inflation");return o.result}async getInflationReward(t,n,i){const{commitment:o,config:l}=qt(i),u=this._buildArgs([t.map(w=>w.toBase58())],o,void 0,{...l,epoch:n??l?.epoch}),f=await this._rpcRequest("getInflationReward",u),y=Ce(f,JT);if("error"in y)throw new Ze(y.error,"failed to get inflation reward");return y.result}async getInflationRate(){const t=await this._rpcRequest("getInflationRate",[]),n=Ce(t,mO);if("error"in n)throw new Ze(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(t){const{commitment:n,config:i}=qt(t),o=this._buildArgs([],n,void 0,i),l=await this._rpcRequest("getEpochInfo",o),u=Ce(l,gO);if("error"in u)throw new Ze(u.error,"failed to get epoch info");return u.result}async getEpochSchedule(){const t=await this._rpcRequest("getEpochSchedule",[]),n=Ce(t,bO);if("error"in n)throw new Ze(n.error,"failed to get epoch schedule");const i=n.result;return new b_(i.slotsPerEpoch,i.leaderScheduleSlotOffset,i.warmup,i.firstNormalEpoch,i.firstNormalSlot)}async getLeaderSchedule(){const t=await this._rpcRequest("getLeaderSchedule",[]),n=Ce(t,wO);if("error"in n)throw new Ze(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(t,n){const i=this._buildArgs([t],n),o=await this._rpcRequest("getMinimumBalanceForRentExemption",i),l=Ce(o,FO);return"error"in l?(console.warn("Unable to fetch minimum balance for rent exemption"),0):l.result}async getRecentBlockhashAndContext(t){const{context:n,value:{blockhash:i}}=await this.getLatestBlockhashAndContext(t);return{context:n,value:{blockhash:i,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(t){const n=await this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),i=Ce(n,sN);if("error"in i)throw new Ze(i.error,"failed to get recent performance samples");return i.result}async getFeeCalculatorForBlockhash(t,n){const i=this._buildArgs([t],n),o=await this._rpcRequest("getFeeCalculatorForBlockhash",i),l=Ce(o,aN);if("error"in l)throw new Ze(l.error,"failed to get fee calculator");const{context:u,value:f}=l.result;return{context:u,value:f!==null?f.feeCalculator:null}}async getFeeForMessage(t,n){const i=ot(t.serialize()).toString("base64"),o=this._buildArgs([i],n),l=await this._rpcRequest("getFeeForMessage",o),u=Ce(l,pn(De(ue())));if("error"in u)throw new Ze(u.error,"failed to get fee for message");if(u.result===null)throw new Error("invalid blockhash");return u.result}async getRecentPrioritizationFees(t){const n=t?.lockedWritableAccounts?.map(u=>u.toBase58()),i=n?.length?[n]:[],o=await this._rpcRequest("getRecentPrioritizationFees",i),l=Ce(o,yO);if("error"in l)throw new Ze(l.error,"failed to get recent prioritization fees");return l.result}async getRecentBlockhash(t){try{return(await this.getRecentBlockhashAndContext(t)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(t){try{return(await this.getLatestBlockhashAndContext(t)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(t){const{commitment:n,config:i}=qt(t),o=this._buildArgs([],n,void 0,i),l=await this._rpcRequest("getLatestBlockhash",o),u=Ce(l,nN);if("error"in u)throw new Ze(u.error,"failed to get latest blockhash");return u.result}async isBlockhashValid(t,n){const{commitment:i,config:o}=qt(n),l=this._buildArgs([t],i,void 0,o),u=await this._rpcRequest("isBlockhashValid",l),f=Ce(u,rN);if("error"in f)throw new Ze(f.error,"failed to determine if the blockhash `"+t+"`is valid");return f.result}async getVersion(){const t=await this._rpcRequest("getVersion",[]),n=Ce(t,at(oO));if("error"in n)throw new Ze(n.error,"failed to get version");return n.result}async getGenesisHash(){const t=await this._rpcRequest("getGenesisHash",[]),n=Ce(t,at(Ne()));if("error"in n)throw new Ze(n.error,"failed to get genesis hash");return n.result}async getBlock(t,n){const{commitment:i,config:o}=qt(n),l=this._buildArgsAtLeastConfirmed([t],i,void 0,o),u=await this._rpcRequest("getBlock",l);try{switch(o?.transactionDetails){case"accounts":{const f=Ce(u,XO);if("error"in f)throw f.error;return f.result}case"none":{const f=Ce(u,$O);if("error"in f)throw f.error;return f.result}default:{const f=Ce(u,WO);if("error"in f)throw f.error;const{result:y}=f;return y?{...y,transactions:y.transactions.map(({transaction:w,meta:S,version:C})=>({meta:S,transaction:{...w,message:Xh(C,w.message)},version:C}))}:null}}}catch(f){throw new Ze(f,"failed to get confirmed block")}}async getParsedBlock(t,n){const{commitment:i,config:o}=qt(n),l=this._buildArgsAtLeastConfirmed([t],i,"jsonParsed",o),u=await this._rpcRequest("getBlock",l);try{switch(o?.transactionDetails){case"accounts":{const f=Ce(u,JO);if("error"in f)throw f.error;return f.result}case"none":{const f=Ce(u,eN);if("error"in f)throw f.error;return f.result}default:{const f=Ce(u,QO);if("error"in f)throw f.error;return f.result}}}catch(f){throw new Ze(f,"failed to get block")}}async getBlockProduction(t){let n,i;if(typeof t=="string")i=t;else if(t){const{commitment:f,...y}=t;i=f,n=y}const o=this._buildArgs([],i,"base64",n),l=await this._rpcRequest("getBlockProduction",o),u=Ce(l,uO);if("error"in u)throw new Ze(u.error,"failed to get block production information");return u.result}async getTransaction(t,n){const{commitment:i,config:o}=qt(n),l=this._buildArgsAtLeastConfirmed([t],i,void 0,o),u=await this._rpcRequest("getTransaction",l),f=Ce(u,Qh);if("error"in f)throw new Ze(f.error,"failed to get transaction");const y=f.result;return y&&{...y,transaction:{...y.transaction,message:Xh(y.version,y.transaction.message)}}}async getParsedTransaction(t,n){const{commitment:i,config:o}=qt(n),l=this._buildArgsAtLeastConfirmed([t],i,"jsonParsed",o),u=await this._rpcRequest("getTransaction",l),f=Ce(u,uu);if("error"in f)throw new Ze(f.error,"failed to get transaction");return f.result}async getParsedTransactions(t,n){const{commitment:i,config:o}=qt(n),l=t.map(y=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([y],i,"jsonParsed",o)}));return(await this._rpcBatchRequest(l)).map(y=>{const w=Ce(y,uu);if("error"in w)throw new Ze(w.error,"failed to get transactions");return w.result})}async getTransactions(t,n){const{commitment:i,config:o}=qt(n),l=t.map(y=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([y],i,void 0,o)}));return(await this._rpcBatchRequest(l)).map(y=>{const w=Ce(y,Qh);if("error"in w)throw new Ze(w.error,"failed to get transactions");const S=w.result;return S&&{...S,transaction:{...S.transaction,message:Xh(S.version,S.transaction.message)}}})}async getConfirmedBlock(t,n){const i=this._buildArgsAtLeastConfirmed([t],n),o=await this._rpcRequest("getBlock",i),l=Ce(o,tN);if("error"in l)throw new Ze(l.error,"failed to get confirmed block");const u=l.result;if(!u)throw new Error("Confirmed block "+t+" not found");const f={...u,transactions:u.transactions.map(({transaction:y,meta:w})=>{const S=new Cr(y.message);return{meta:w,transaction:{...y,message:S}}})};return{...f,transactions:f.transactions.map(({transaction:y,meta:w})=>({meta:w,transaction:vt.populate(y.message,y.signatures)}))}}async getBlocks(t,n,i){const o=this._buildArgsAtLeastConfirmed(n!==void 0?[t,n]:[t],i),l=await this._rpcRequest("getBlocks",o),u=Ce(l,at(Me(ue())));if("error"in u)throw new Ze(u.error,"failed to get blocks");return u.result}async getBlockSignatures(t,n){const i=this._buildArgsAtLeastConfirmed([t],n,void 0,{transactionDetails:"signatures",rewards:!1}),o=await this._rpcRequest("getBlock",i),l=Ce(o,hb);if("error"in l)throw new Ze(l.error,"failed to get block");const u=l.result;if(!u)throw new Error("Block "+t+" not found");return u}async getConfirmedBlockSignatures(t,n){const i=this._buildArgsAtLeastConfirmed([t],n,void 0,{transactionDetails:"signatures",rewards:!1}),o=await this._rpcRequest("getBlock",i),l=Ce(o,hb);if("error"in l)throw new Ze(l.error,"failed to get confirmed block");const u=l.result;if(!u)throw new Error("Confirmed block "+t+" not found");return u}async getConfirmedTransaction(t,n){const i=this._buildArgsAtLeastConfirmed([t],n),o=await this._rpcRequest("getTransaction",i),l=Ce(o,Qh);if("error"in l)throw new Ze(l.error,"failed to get transaction");const u=l.result;if(!u)return u;const f=new Cr(u.transaction.message),y=u.transaction.signatures;return{...u,transaction:vt.populate(f,y)}}async getParsedConfirmedTransaction(t,n){const i=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed"),o=await this._rpcRequest("getTransaction",i),l=Ce(o,uu);if("error"in l)throw new Ze(l.error,"failed to get confirmed transaction");return l.result}async getParsedConfirmedTransactions(t,n){const i=t.map(u=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([u],n,"jsonParsed")}));return(await this._rpcBatchRequest(i)).map(u=>{const f=Ce(u,uu);if("error"in f)throw new Ze(f.error,"failed to get confirmed transactions");return f.result})}async getConfirmedSignaturesForAddress(t,n,i){let o={},l=await this.getFirstAvailableBlock();for(;!("until"in o)&&(n--,!(n<=0||n<l));)try{const y=await this.getConfirmedBlockSignatures(n,"finalized");y.signatures.length>0&&(o.until=y.signatures[y.signatures.length-1].toString())}catch(y){if(y instanceof Error&&y.message.includes("skipped"))continue;throw y}let u=await this.getSlot("finalized");for(;!("before"in o)&&(i++,!(i>u));)try{const y=await this.getConfirmedBlockSignatures(i);y.signatures.length>0&&(o.before=y.signatures[y.signatures.length-1].toString())}catch(y){if(y instanceof Error&&y.message.includes("skipped"))continue;throw y}return(await this.getConfirmedSignaturesForAddress2(t,o)).map(y=>y.signature)}async getConfirmedSignaturesForAddress2(t,n,i){const o=this._buildArgsAtLeastConfirmed([t.toBase58()],i,void 0,n),l=await this._rpcRequest("getConfirmedSignaturesForAddress2",o),u=Ce(l,kO);if("error"in u)throw new Ze(u.error,"failed to get confirmed signatures for address");return u.result}async getSignaturesForAddress(t,n,i){const o=this._buildArgsAtLeastConfirmed([t.toBase58()],i,void 0,n),l=await this._rpcRequest("getSignaturesForAddress",o),u=Ce(l,IO);if("error"in u)throw new Ze(u.error,"failed to get signatures for address");return u.result}async getAddressLookupTable(t,n){const{context:i,value:o}=await this.getAccountInfoAndContext(t,n);let l=null;return o!==null&&(l=new A0({key:t,state:A0.deserialize(o.data)})),{context:i,value:l}}async getNonceAndContext(t,n){const{context:i,value:o}=await this.getAccountInfoAndContext(t,n);let l=null;return o!==null&&(l=ef.fromAccountData(o.data)),{context:i,value:l}}async getNonce(t,n){return await this.getNonceAndContext(t,n).then(i=>i.value).catch(i=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+i)})}async requestAirdrop(t,n){const i=await this._rpcRequest("requestAirdrop",[t.toBase58(),n]),o=Ce(i,oN);if("error"in o)throw new Ze(o.error,`airdrop to ${t.toBase58()} failed`);return o.result}async _blockhashWithExpiryBlockHeight(t){if(!t){for(;this._pollingBlockhash;)await Fs(100);const i=Date.now()-this._blockhashInfo.lastFetch>=__;if(this._blockhashInfo.latestBlockhash!==null&&!i)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const t=Date.now(),n=this._blockhashInfo.latestBlockhash,i=n?n.blockhash:null;for(let o=0;o<50;o++){const l=await this.getLatestBlockhash("finalized");if(i!==l.blockhash)return this._blockhashInfo={latestBlockhash:l,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},l;await Fs(m_/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(t){const{commitment:n,config:i}=qt(t),o=this._buildArgs([],n,"base64",i),l=await this._rpcRequest("getStakeMinimumDelegation",o),u=Ce(l,pn(ue()));if("error"in u)throw new Ze(u.error,"failed to get stake minimum delegation");return u.result}async simulateTransaction(t,n,i){if("message"in t){const L=t.serialize(),z=je.Buffer.from(L).toString("base64");if(Array.isArray(n)||i!==void 0)throw new Error("Invalid arguments");const P=n||{};P.encoding="base64","commitment"in P||(P.commitment=this.commitment),n&&typeof n=="object"&&"innerInstructions"in n&&(P.innerInstructions=n.innerInstructions);const K=[z,P],G=await this._rpcRequest("simulateTransaction",K),X=Ce(G,fb);if("error"in X)throw new Error("failed to simulate transaction: "+X.error.message);return X.result}let o;if(t instanceof vt){let M=t;o=new vt,o.feePayer=M.feePayer,o.instructions=t.instructions,o.nonceInfo=M.nonceInfo,o.signatures=M.signatures}else o=vt.populate(t),o._message=o._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const l=n;if(o.nonceInfo&&l)o.sign(...l);else{let M=this._disableBlockhashCaching;for(;;){const L=await this._blockhashWithExpiryBlockHeight(M);if(o.lastValidBlockHeight=L.lastValidBlockHeight,o.recentBlockhash=L.blockhash,!l)break;if(o.sign(...l),!o.signature)throw new Error("!signature");const z=o.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(z)&&!this._blockhashInfo.transactionSignatures.includes(z)){this._blockhashInfo.simulatedSignatures.push(z);break}else M=!0}}const u=o._compile(),f=u.serialize(),w=o._serialize(f).toString("base64"),S={encoding:"base64",commitment:this.commitment};if(i){const M=(Array.isArray(i)?i:u.nonProgramIds()).map(L=>L.toBase58());S.accounts={encoding:"base64",addresses:M}}l&&(S.sigVerify=!0),n&&typeof n=="object"&&"innerInstructions"in n&&(S.innerInstructions=n.innerInstructions);const C=[w,S],I=await this._rpcRequest("simulateTransaction",C),x=Ce(I,fb);if("error"in x){let M;if("data"in x.error&&(M=x.error.data.logs,M&&Array.isArray(M))){const L=`
    `,z=L+M.join(L);console.error(x.error.message,z)}throw new vs({action:"simulate",signature:"",transactionMessage:x.error.message,logs:M})}return x.result}async sendTransaction(t,n,i){if("version"in t){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const u=t.serialize();return await this.sendRawTransaction(u,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const o=n;if(t.nonceInfo)t.sign(...o);else{let u=this._disableBlockhashCaching;for(;;){const f=await this._blockhashWithExpiryBlockHeight(u);if(t.lastValidBlockHeight=f.lastValidBlockHeight,t.recentBlockhash=f.blockhash,t.sign(...o),!t.signature)throw new Error("!signature");const y=t.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(y))u=!0;else{this._blockhashInfo.transactionSignatures.push(y);break}}}const l=t.serialize();return await this.sendRawTransaction(l,i)}async sendRawTransaction(t,n){const i=ot(t).toString("base64");return await this.sendEncodedTransaction(i,n)}async sendEncodedTransaction(t,n){const i={encoding:"base64"},o=n&&n.skipPreflight,l=o===!0?"processed":n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(i.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(i.minContextSlot=n.minContextSlot),o&&(i.skipPreflight=o),l&&(i.preflightCommitment=l);const u=[t,i],f=await this._rpcRequest("sendTransaction",u),y=Ce(f,lN);if("error"in y){let w;throw"data"in y.error&&(w=y.error.data.logs),new vs({action:o?"send":"simulate",signature:"",transactionMessage:y.error.message,logs:w})}return y.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1,console.error("ws error:",t.message)}_wsOnClose(t){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),t===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,i])=>{this._setSubscription(n,{...i,state:"pending"})})}_setSubscription(t,n){const i=this._subscriptionsByHash[t]?.state;if(this._subscriptionsByHash[t]=n,i!==n.state){const o=this._subscriptionStateChangeCallbacksByHash[t];o&&o.forEach(l=>{try{l(n.state)}catch{}})}}_onSubscriptionStateChange(t,n){const i=this._subscriptionHashByClientSubscriptionId[t];if(i==null)return()=>{};const o=this._subscriptionStateChangeCallbacksByHash[i]||=new Set;return o.add(n),()=>{o.delete(n),o.size===0&&delete this._subscriptionStateChangeCallbacksByHash[i]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(i){i instanceof Error&&console.log(`Error when closing socket connection: ${i.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const t=this._rpcWebSocketGeneration,n=()=>t===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async i=>{const o=this._subscriptionsByHash[i];if(o!==void 0)switch(o.state){case"pending":case"unsubscribed":if(o.callbacks.size===0){delete this._subscriptionsByHash[i],o.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[o.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:l,method:u}=o;try{this._setSubscription(i,{...o,state:"subscribing"});const f=await this._rpcWebSocket.call(u,l);this._setSubscription(i,{...o,serverSubscriptionId:f,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[f]=o.callbacks,await this._updateSubscriptions()}catch(f){if(console.error(`Received ${f instanceof Error?"":"JSON-RPC "}error calling \`${u}\``,{args:l,error:f}),!n())return;this._setSubscription(i,{...o,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":o.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:l,unsubscribeMethod:u}=o;if(this._subscriptionsAutoDisposedByRpc.has(l))this._subscriptionsAutoDisposedByRpc.delete(l);else{this._setSubscription(i,{...o,state:"unsubscribing"}),this._setSubscription(i,{...o,state:"unsubscribing"});try{await this._rpcWebSocket.call(u,[l])}catch(f){if(f instanceof Error&&console.error(`${u} error:`,f.message),!n())return;this._setSubscription(i,{...o,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(i,{...o,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(t,n){const i=this._subscriptionCallbacksByServerSubscriptionId[t];i!==void 0&&i.forEach(o=>{try{o(...n)}catch(l){console.error(l)}})}_wsOnAccountNotification(t){const{result:n,subscription:i}=Ce(t,CO);this._handleServerNotification(i,[n.value,n.context])}_makeSubscription(t,n){const i=this._nextClientSubscriptionId++,o=lb([t.method,n]),l=this._subscriptionsByHash[o];return l===void 0?this._subscriptionsByHash[o]={...t,args:n,callbacks:new Set([t.callback]),state:"pending"}:l.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[i]=o,this._subscriptionDisposeFunctionsByClientSubscriptionId[i]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[i],delete this._subscriptionHashByClientSubscriptionId[i];const u=this._subscriptionsByHash[o];Rt(u!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${i}`),u.callbacks.delete(t.callback),await this._updateSubscriptions()},this._updateSubscriptions(),i}onAccountChange(t,n,i){const{commitment:o,config:l}=qt(i),u=this._buildArgs([t.toBase58()],o||this._commitment||"finalized","base64",l);return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},u)}async removeAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"account change")}_wsOnProgramAccountNotification(t){const{result:n,subscription:i}=Ce(t,MO);this._handleServerNotification(i,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(t,n,i,o){const{commitment:l,config:u}=qt(i),f=this._buildArgs([t.toBase58()],l||this._commitment||"finalized","base64",u||(o?{filters:ub(o)}:void 0));return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},f)}async removeProgramAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"program account change")}onLogs(t,n,i){const o=this._buildArgs([typeof t=="object"?{mentions:[t.toString()]}:t],i||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},o)}async removeOnLogsListener(t){await this._unsubscribeClientSubscription(t,"logs")}_wsOnLogsNotification(t){const{result:n,subscription:i}=Ce(t,uN);this._handleServerNotification(i,[n.value,n.context])}_wsOnSlotNotification(t){const{result:n,subscription:i}=Ce(t,LO);this._handleServerNotification(i,[n])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(t){await this._unsubscribeClientSubscription(t,"slot change")}_wsOnSlotUpdatesNotification(t){const{result:n,subscription:i}=Ce(t,zO);this._handleServerNotification(i,[n])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(t){await this._unsubscribeClientSubscription(t,"slot update")}async _unsubscribeClientSubscription(t,n){const i=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];i?await i():console.warn(`Ignored unsubscribe request because an active subscription with id \`${t}\` for '${n}' events could not be found.`)}_buildArgs(t,n,i,o){const l=n||this._commitment;if(l||i||o){let u={};i&&(u.encoding=i),l&&(u.commitment=l),o&&(u=Object.assign(u,o)),t.push(u)}return t}_buildArgsAtLeastConfirmed(t,n,i,o){const l=n||this._commitment;if(l&&!["confirmed","finalized"].includes(l))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,n,i,o)}_wsOnSignatureNotification(t){const{result:n,subscription:i}=Ce(t,jO);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(i),this._handleServerNotification(i,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(t,n,i){const o=this._buildArgs([t],i||this._commitment||"finalized"),l=this._makeSubscription({callback:(u,f)=>{if(u.type==="status"){n(u.result,f);try{this.removeSignatureListener(l)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return l}onSignatureWithOptions(t,n,i){const{commitment:o,...l}={...i,commitment:i&&i.commitment||this._commitment||"finalized"},u=this._buildArgs([t],o,void 0,l),f=this._makeSubscription({callback:(y,w)=>{n(y,w);try{this.removeSignatureListener(f)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},u);return f}async removeSignatureListener(t){await this._unsubscribeClientSubscription(t,"signature result")}_wsOnRootNotification(t){const{result:n,subscription:i}=Ce(t,HO);this._handleServerNotification(i,[n])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(t){await this._unsubscribeClientSubscription(t,"root change")}}class ao{constructor(t){this._keypair=void 0,this._keypair=t??ib()}static generate(){return new ao(ib())}static fromSecretKey(t,n){if(t.byteLength!==64)throw new Error("bad secret key size");const i=t.slice(32,64);if(!n||!n.skipValidation){const o=t.slice(0,32),l=zu(o);for(let u=0;u<32;u++)if(i[u]!==l[u])throw new Error("provided secretKey is invalid")}return new ao({publicKey:i,secretKey:t})}static fromSeed(t){const n=zu(t),i=new Uint8Array(64);return i.set(t),i.set(n,32),new ao({publicKey:n,secretKey:i})}get publicKey(){return new _e(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const xi=Object.freeze({CreateLookupTable:{index:0,layout:Q.struct([Q.u32("instruction"),mo("recentSlot"),Q.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:Q.struct([Q.u32("instruction")])},ExtendLookupTable:{index:2,layout:Q.struct([Q.u32("instruction"),mo(),Q.seq(dt(),Q.offset(Q.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Q.struct([Q.u32("instruction")])},CloseLookupTable:{index:4,layout:Q.struct([Q.u32("instruction")])}});class dN{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const i=Q.u32("instruction").decode(t.data);let o;for(const[l,u]of Object.entries(xi))if(u.index==i){o=l;break}if(!o)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return o}static decodeCreateLookupTable(t){this.checkProgramId(t.programId),this.checkKeysLength(t.keys,4);const{recentSlot:n}=Nt(xi.CreateLookupTable,t.data);return{authority:t.keys[1].pubkey,payer:t.keys[2].pubkey,recentSlot:Number(n)}}static decodeExtendLookupTable(t){if(this.checkProgramId(t.programId),t.keys.length<2)throw new Error(`invalid instruction; found ${t.keys.length} keys, expected at least 2`);const{addresses:n}=Nt(xi.ExtendLookupTable,t.data);return{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey,payer:t.keys.length>2?t.keys[2].pubkey:void 0,addresses:n.map(i=>new _e(i))}}static decodeCloseLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,3),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey,recipient:t.keys[2].pubkey}}static decodeFreezeLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,2),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey}}static decodeDeactivateLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,2),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey}}static checkProgramId(t){if(!t.equals(mp.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(t,n){if(t.length<n)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${n}`)}}class mp{constructor(){}static createLookupTable(t){const[n,i]=_e.findProgramAddressSync([t.authority.toBuffer(),Fw().encode(t.recentSlot)],this.programId),o=xi.CreateLookupTable,l=wt(o,{recentSlot:BigInt(t.recentSlot),bumpSeed:i}),u=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:yn.programId,isSigner:!1,isWritable:!1}];return[new Mt({programId:this.programId,keys:u,data:l}),n]}static freezeLookupTable(t){const n=xi.FreezeLookupTable,i=wt(n),o=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new Mt({programId:this.programId,keys:o,data:i})}static extendLookupTable(t){const n=xi.ExtendLookupTable,i=wt(n,{addresses:t.addresses.map(l=>l.toBytes())}),o=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return t.payer&&o.push({pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:yn.programId,isSigner:!1,isWritable:!1}),new Mt({programId:this.programId,keys:o,data:i})}static deactivateLookupTable(t){const n=xi.DeactivateLookupTable,i=wt(n),o=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new Mt({programId:this.programId,keys:o,data:i})}static closeLookupTable(t){const n=xi.CloseLookupTable,i=wt(n),o=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.recipient,isSigner:!1,isWritable:!0}];return new Mt({programId:this.programId,keys:o,data:i})}}mp.programId=new _e("AddressLookupTab1e1111111111111111111111111");class hN{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const i=Q.u8("instruction").decode(t.data);let o;for(const[l,u]of Object.entries(Yr))if(u.index==i){o=l;break}if(!o)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return o}static decodeRequestUnits(t){this.checkProgramId(t.programId);const{units:n,additionalFee:i}=Nt(Yr.RequestUnits,t.data);return{units:n,additionalFee:i}}static decodeRequestHeapFrame(t){this.checkProgramId(t.programId);const{bytes:n}=Nt(Yr.RequestHeapFrame,t.data);return{bytes:n}}static decodeSetComputeUnitLimit(t){this.checkProgramId(t.programId);const{units:n}=Nt(Yr.SetComputeUnitLimit,t.data);return{units:n}}static decodeSetComputeUnitPrice(t){this.checkProgramId(t.programId);const{microLamports:n}=Nt(Yr.SetComputeUnitPrice,t.data);return{microLamports:n}}static checkProgramId(t){if(!t.equals(yp.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const Yr=Object.freeze({RequestUnits:{index:0,layout:Q.struct([Q.u8("instruction"),Q.u32("units"),Q.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:Q.struct([Q.u8("instruction"),Q.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:Q.struct([Q.u8("instruction"),Q.u32("units")])},SetComputeUnitPrice:{index:3,layout:Q.struct([Q.u8("instruction"),mo("microLamports")])}});class yp{constructor(){}static requestUnits(t){const n=Yr.RequestUnits,i=wt(n,t);return new Mt({keys:[],programId:this.programId,data:i})}static requestHeapFrame(t){const n=Yr.RequestHeapFrame,i=wt(n,t);return new Mt({keys:[],programId:this.programId,data:i})}static setComputeUnitLimit(t){const n=Yr.SetComputeUnitLimit,i=wt(n,t);return new Mt({keys:[],programId:this.programId,data:i})}static setComputeUnitPrice(t){const n=Yr.SetComputeUnitPrice,i=wt(n,{microLamports:BigInt(t.microLamports)});return new Mt({keys:[],programId:this.programId,data:i})}}yp.programId=new _e("ComputeBudget111111111111111111111111111111");const pb=64,mb=32,yb=64,gb=Q.struct([Q.u8("numSignatures"),Q.u8("padding"),Q.u16("signatureOffset"),Q.u16("signatureInstructionIndex"),Q.u16("publicKeyOffset"),Q.u16("publicKeyInstructionIndex"),Q.u16("messageDataOffset"),Q.u16("messageDataSize"),Q.u16("messageInstructionIndex")]);class rf{constructor(){}static createInstructionWithPublicKey(t){const{publicKey:n,message:i,signature:o,instructionIndex:l}=t;Rt(n.length===mb,`Public Key must be ${mb} bytes but received ${n.length} bytes`),Rt(o.length===yb,`Signature must be ${yb} bytes but received ${o.length} bytes`);const u=gb.span,f=u+n.length,y=f+o.length,w=1,S=je.Buffer.alloc(y+i.length),C=l??65535;return gb.encode({numSignatures:w,padding:0,signatureOffset:f,signatureInstructionIndex:C,publicKeyOffset:u,publicKeyInstructionIndex:C,messageDataOffset:y,messageDataSize:i.length,messageInstructionIndex:C},S),S.fill(n,u),S.fill(o,f),S.fill(i,y),new Mt({keys:[],programId:rf.programId,data:S})}static createInstructionWithPrivateKey(t){const{privateKey:n,message:i,instructionIndex:o}=t;Rt(n.length===pb,`Private key must be ${pb} bytes but received ${n.length} bytes`);try{const l=ao.fromSecretKey(n),u=l.publicKey.toBytes(),f=ip(i,l.secretKey);return this.createInstructionWithPublicKey({publicKey:u,message:i,signature:f,instructionIndex:o})}catch(l){throw new Error(`Error creating instruction; ${l}`)}}}rf.programId=new _e("Ed25519SigVerify111111111111111111111111111");const pN=(s,t)=>{const n=rp.sign(s,t);return[n.toCompactRawBytes(),n.recovery]};rp.utils.isValidPrivateKey;const mN=rp.getPublicKey,bb=32,Jh=20,wb=64,yN=11,e0=Q.struct([Q.u8("numSignatures"),Q.u16("signatureOffset"),Q.u8("signatureInstructionIndex"),Q.u16("ethAddressOffset"),Q.u8("ethAddressInstructionIndex"),Q.u16("messageDataOffset"),Q.u16("messageDataSize"),Q.u8("messageInstructionIndex"),Q.blob(20,"ethAddress"),Q.blob(64,"signature"),Q.u8("recoveryId")]);class oo{constructor(){}static publicKeyToEthAddress(t){Rt(t.length===wb,`Public key must be ${wb} bytes but received ${t.length} bytes`);try{return je.Buffer.from(tb(ot(t))).slice(-Jh)}catch(n){throw new Error(`Error constructing Ethereum address: ${n}`)}}static createInstructionWithPublicKey(t){const{publicKey:n,message:i,signature:o,recoveryId:l,instructionIndex:u}=t;return oo.createInstructionWithEthAddress({ethAddress:oo.publicKeyToEthAddress(n),message:i,signature:o,recoveryId:l,instructionIndex:u})}static createInstructionWithEthAddress(t){const{ethAddress:n,message:i,signature:o,recoveryId:l,instructionIndex:u=0}=t;let f;typeof n=="string"?n.startsWith("0x")?f=je.Buffer.from(n.substr(2),"hex"):f=je.Buffer.from(n,"hex"):f=n,Rt(f.length===Jh,`Address must be ${Jh} bytes but received ${f.length} bytes`);const y=1+yN,w=y,S=y+f.length,C=S+o.length+1,I=1,x=je.Buffer.alloc(e0.span+i.length);return e0.encode({numSignatures:I,signatureOffset:S,signatureInstructionIndex:u,ethAddressOffset:w,ethAddressInstructionIndex:u,messageDataOffset:C,messageDataSize:i.length,messageInstructionIndex:u,signature:ot(o),ethAddress:ot(f),recoveryId:l},x),x.fill(ot(i),e0.span),new Mt({keys:[],programId:oo.programId,data:x})}static createInstructionWithPrivateKey(t){const{privateKey:n,message:i,instructionIndex:o}=t;Rt(n.length===bb,`Private key must be ${bb} bytes but received ${n.length} bytes`);try{const l=ot(n),u=mN(l,!1).slice(1),f=je.Buffer.from(tb(ot(i))),[y,w]=pN(f,l);return this.createInstructionWithPublicKey({publicKey:u,message:i,signature:y,recoveryId:w,instructionIndex:o})}catch(l){throw new Error(`Error creating instruction; ${l}`)}}}oo.programId=new _e("KeccakSecp256k11111111111111111111111111111");var k_;const I_=new _e("StakeConfig11111111111111111111111111111111");class C_{constructor(t,n){this.staker=void 0,this.withdrawer=void 0,this.staker=t,this.withdrawer=n}}class Pl{constructor(t,n,i){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=n,this.custodian=i}}k_=Pl;Pl.default=new k_(0,0,_e.default);class gN{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const i=Q.u32("instruction").decode(t.data);let o;for(const[l,u]of Object.entries(xn))if(u.index==i){o=l;break}if(!o)throw new Error("Instruction type incorrect; not a StakeInstruction");return o}static decodeInitialize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{authorized:n,lockup:i}=Nt(xn.Initialize,t.data);return{stakePubkey:t.keys[0].pubkey,authorized:new C_(new _e(n.staker),new _e(n.withdrawer)),lockup:new Pl(i.unixTimestamp,i.epoch,new _e(i.custodian))}}static decodeDelegate(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,6),Nt(xn.Delegate,t.data),{stakePubkey:t.keys[0].pubkey,votePubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[5].pubkey}}static decodeAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{newAuthorized:n,stakeAuthorizationType:i}=Nt(xn.Authorize,t.data),o={stakePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey,newAuthorizedPubkey:new _e(n),stakeAuthorizationType:{index:i}};return t.keys.length>3&&(o.custodianPubkey=t.keys[3].pubkey),o}static decodeAuthorizeWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{newAuthorized:n,stakeAuthorizationType:i,authoritySeed:o,authorityOwner:l}=Nt(xn.AuthorizeWithSeed,t.data),u={stakePubkey:t.keys[0].pubkey,authorityBase:t.keys[1].pubkey,authoritySeed:o,authorityOwner:new _e(l),newAuthorizedPubkey:new _e(n),stakeAuthorizationType:{index:i}};return t.keys.length>3&&(u.custodianPubkey=t.keys[3].pubkey),u}static decodeSplit(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{lamports:n}=Nt(xn.Split,t.data);return{stakePubkey:t.keys[0].pubkey,splitStakePubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[2].pubkey,lamports:n}}static decodeMerge(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),Nt(xn.Merge,t.data),{stakePubkey:t.keys[0].pubkey,sourceStakePubKey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey}}static decodeWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,5);const{lamports:n}=Nt(xn.Withdraw,t.data),i={stakePubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey,lamports:n};return t.keys.length>5&&(i.custodianPubkey=t.keys[5].pubkey),i}static decodeDeactivate(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),Nt(xn.Deactivate,t.data),{stakePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey}}static checkProgramId(t){if(!t.equals(sf.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(t,n){if(t.length<n)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${n}`)}}const xn=Object.freeze({Initialize:{index:0,layout:Q.struct([Q.u32("instruction"),ET(),ST()])},Authorize:{index:1,layout:Q.struct([Q.u32("instruction"),dt("newAuthorized"),Q.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:Q.struct([Q.u32("instruction")])},Split:{index:3,layout:Q.struct([Q.u32("instruction"),Q.ns64("lamports")])},Withdraw:{index:4,layout:Q.struct([Q.u32("instruction"),Q.ns64("lamports")])},Deactivate:{index:5,layout:Q.struct([Q.u32("instruction")])},Merge:{index:7,layout:Q.struct([Q.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:Q.struct([Q.u32("instruction"),dt("newAuthorized"),Q.u32("stakeAuthorizationType"),$s("authoritySeed"),dt("authorityOwner")])}}),bN=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class sf{constructor(){}static initialize(t){const{stakePubkey:n,authorized:i,lockup:o}=t,l=o||Pl.default,u=xn.Initialize,f=wt(u,{authorized:{staker:ot(i.staker.toBuffer()),withdrawer:ot(i.withdrawer.toBuffer())},lockup:{unixTimestamp:l.unixTimestamp,epoch:l.epoch,custodian:ot(l.custodian.toBuffer())}}),y={keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:po,isSigner:!1,isWritable:!1}],programId:this.programId,data:f};return new Mt(y)}static createAccountWithSeed(t){const n=new vt;n.add(yn.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:this.space,programId:this.programId}));const{stakePubkey:i,authorized:o,lockup:l}=t;return n.add(this.initialize({stakePubkey:i,authorized:o,lockup:l}))}static createAccount(t){const n=new vt;n.add(yn.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,lamports:t.lamports,space:this.space,programId:this.programId}));const{stakePubkey:i,authorized:o,lockup:l}=t;return n.add(this.initialize({stakePubkey:i,authorized:o,lockup:l}))}static delegate(t){const{stakePubkey:n,authorizedPubkey:i,votePubkey:o}=t,l=xn.Delegate,u=wt(l);return new vt().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:Kr,isSigner:!1,isWritable:!1},{pubkey:xu,isSigner:!1,isWritable:!1},{pubkey:I_,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:u})}static authorize(t){const{stakePubkey:n,authorizedPubkey:i,newAuthorizedPubkey:o,stakeAuthorizationType:l,custodianPubkey:u}=t,f=xn.Authorize,y=wt(f,{newAuthorized:ot(o.toBuffer()),stakeAuthorizationType:l.index}),w=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Kr,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1}];return u&&w.push({pubkey:u,isSigner:!0,isWritable:!1}),new vt().add({keys:w,programId:this.programId,data:y})}static authorizeWithSeed(t){const{stakePubkey:n,authorityBase:i,authoritySeed:o,authorityOwner:l,newAuthorizedPubkey:u,stakeAuthorizationType:f,custodianPubkey:y}=t,w=xn.AuthorizeWithSeed,S=wt(w,{newAuthorized:ot(u.toBuffer()),stakeAuthorizationType:f.index,authoritySeed:o,authorityOwner:ot(l.toBuffer())}),C=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:Kr,isSigner:!1,isWritable:!1}];return y&&C.push({pubkey:y,isSigner:!0,isWritable:!1}),new vt().add({keys:C,programId:this.programId,data:S})}static splitInstruction(t){const{stakePubkey:n,authorizedPubkey:i,splitStakePubkey:o,lamports:l}=t,u=xn.Split,f=wt(u,{lamports:l});return new Mt({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:f})}static split(t,n){const i=new vt;return i.add(yn.createAccount({fromPubkey:t.authorizedPubkey,newAccountPubkey:t.splitStakePubkey,lamports:n,space:this.space,programId:this.programId})),i.add(this.splitInstruction(t))}static splitWithSeed(t,n){const{stakePubkey:i,authorizedPubkey:o,splitStakePubkey:l,basePubkey:u,seed:f,lamports:y}=t,w=new vt;return w.add(yn.allocate({accountPubkey:l,basePubkey:u,seed:f,space:this.space,programId:this.programId})),n&&n>0&&w.add(yn.transfer({fromPubkey:t.authorizedPubkey,toPubkey:l,lamports:n})),w.add(this.splitInstruction({stakePubkey:i,authorizedPubkey:o,splitStakePubkey:l,lamports:y}))}static merge(t){const{stakePubkey:n,sourceStakePubKey:i,authorizedPubkey:o}=t,l=xn.Merge,u=wt(l);return new vt().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:Kr,isSigner:!1,isWritable:!1},{pubkey:xu,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1}],programId:this.programId,data:u})}static withdraw(t){const{stakePubkey:n,authorizedPubkey:i,toPubkey:o,lamports:l,custodianPubkey:u}=t,f=xn.Withdraw,y=wt(f,{lamports:l}),w=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:Kr,isSigner:!1,isWritable:!1},{pubkey:xu,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}];return u&&w.push({pubkey:u,isSigner:!0,isWritable:!1}),new vt().add({keys:w,programId:this.programId,data:y})}static deactivate(t){const{stakePubkey:n,authorizedPubkey:i}=t,o=xn.Deactivate,l=wt(o);return new vt().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Kr,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:l})}}sf.programId=new _e("Stake11111111111111111111111111111111111111");sf.space=200;class B_{constructor(t,n,i,o){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=t,this.authorizedVoter=n,this.authorizedWithdrawer=i,this.commission=o}}class wN{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const i=Q.u32("instruction").decode(t.data);let o;for(const[l,u]of Object.entries(Zr))if(u.index==i){o=l;break}if(!o)throw new Error("Instruction type incorrect; not a VoteInstruction");return o}static decodeInitializeAccount(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,4);const{voteInit:n}=Nt(Zr.InitializeAccount,t.data);return{votePubkey:t.keys[0].pubkey,nodePubkey:t.keys[3].pubkey,voteInit:new B_(new _e(n.nodePubkey),new _e(n.authorizedVoter),new _e(n.authorizedWithdrawer),n.commission)}}static decodeAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{newAuthorized:n,voteAuthorizationType:i}=Nt(Zr.Authorize,t.data);return{votePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey,newAuthorizedPubkey:new _e(n),voteAuthorizationType:{index:i}}}static decodeAuthorizeWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:i,newAuthorized:o,voteAuthorizationType:l}}=Nt(Zr.AuthorizeWithSeed,t.data);return{currentAuthorityDerivedKeyBasePubkey:t.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new _e(n),currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:new _e(o),voteAuthorizationType:{index:l},votePubkey:t.keys[0].pubkey}}static decodeWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{lamports:n}=Nt(Zr.Withdraw,t.data);return{votePubkey:t.keys[0].pubkey,authorizedWithdrawerPubkey:t.keys[2].pubkey,lamports:n,toPubkey:t.keys[1].pubkey}}static checkProgramId(t){if(!t.equals(vo.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(t,n){if(t.length<n)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${n}`)}}const Zr=Object.freeze({InitializeAccount:{index:0,layout:Q.struct([Q.u32("instruction"),AT()])},Authorize:{index:1,layout:Q.struct([Q.u32("instruction"),dt("newAuthorized"),Q.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:Q.struct([Q.u32("instruction"),Q.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:Q.struct([Q.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:Q.struct([Q.u32("instruction"),RT()])}}),_N=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class vo{constructor(){}static initializeAccount(t){const{votePubkey:n,nodePubkey:i,voteInit:o}=t,l=Zr.InitializeAccount,u=wt(l,{voteInit:{nodePubkey:ot(o.nodePubkey.toBuffer()),authorizedVoter:ot(o.authorizedVoter.toBuffer()),authorizedWithdrawer:ot(o.authorizedWithdrawer.toBuffer()),commission:o.commission}}),f={keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:po,isSigner:!1,isWritable:!1},{pubkey:Kr,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:u};return new Mt(f)}static createAccount(t){const n=new vt;return n.add(yn.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.votePubkey,lamports:t.lamports,space:this.space,programId:this.programId})),n.add(this.initializeAccount({votePubkey:t.votePubkey,nodePubkey:t.voteInit.nodePubkey,voteInit:t.voteInit}))}static authorize(t){const{votePubkey:n,authorizedPubkey:i,newAuthorizedPubkey:o,voteAuthorizationType:l}=t,u=Zr.Authorize,f=wt(u,{newAuthorized:ot(o.toBuffer()),voteAuthorizationType:l.index}),y=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Kr,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}];return new vt().add({keys:y,programId:this.programId,data:f})}static authorizeWithSeed(t){const{currentAuthorityDerivedKeyBasePubkey:n,currentAuthorityDerivedKeyOwnerPubkey:i,currentAuthorityDerivedKeySeed:o,newAuthorizedPubkey:l,voteAuthorizationType:u,votePubkey:f}=t,y=Zr.AuthorizeWithSeed,w=wt(y,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:ot(i.toBuffer()),currentAuthorityDerivedKeySeed:o,newAuthorized:ot(l.toBuffer()),voteAuthorizationType:u.index}}),S=[{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:Kr,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new vt().add({keys:S,programId:this.programId,data:w})}static withdraw(t){const{votePubkey:n,authorizedWithdrawerPubkey:i,lamports:o,toPubkey:l}=t,u=Zr.Withdraw,f=wt(u,{lamports:o}),y=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1}];return new vt().add({keys:y,programId:this.programId,data:f})}static safeWithdraw(t,n,i){if(t.lamports>n-i)throw new Error("Withdraw will leave vote account with insufficient funds.");return vo.withdraw(t)}static updateValidatorIdentity(t){const{votePubkey:n,authorizedWithdrawerPubkey:i,nodePubkey:o}=t,l=Zr.UpdateValidatorIdentity,u=wt(l),f=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!0,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}];return new vt().add({keys:f,programId:this.programId,data:u})}}vo.programId=new _e("Vote111111111111111111111111111111111111111");vo.space=3762;const M_=new _e("Va1idator1nfo111111111111111111111111111111"),vN=Re({name:Ne(),website:et(Ne()),details:et(Ne()),iconUrl:et(Ne()),keybaseUsername:et(Ne())});class gp{constructor(t,n){this.key=void 0,this.info=void 0,this.key=t,this.info=n}static fromConfigData(t){let n=[...t];if(Zn(n)!==2)return null;const o=[];for(let l=0;l<2;l++){const u=new _e(Wn(n,0,Wr)),f=Fr(n)===1;o.push({publicKey:u,isSigner:f})}if(o[0].publicKey.equals(M_)&&o[1].isSigner){const l=$s().decode(je.Buffer.from(n)),u=JSON.parse(l);return Yw(u,vN),new gp(o[1].publicKey,u)}return null}}const EN=new _e("Vote111111111111111111111111111111111111111"),SN=Q.struct([dt("nodePubkey"),dt("authorizedWithdrawer"),Q.u8("commission"),Q.nu64(),Q.seq(Q.struct([Q.nu64("slot"),Q.u32("confirmationCount")]),Q.offset(Q.u32(),-8),"votes"),Q.u8("rootSlotValid"),Q.nu64("rootSlot"),Q.nu64(),Q.seq(Q.struct([Q.nu64("epoch"),dt("authorizedVoter")]),Q.offset(Q.u32(),-8),"authorizedVoters"),Q.struct([Q.seq(Q.struct([dt("authorizedPubkey"),Q.nu64("epochOfLastAuthorizedSwitch"),Q.nu64("targetEpoch")]),32,"buf"),Q.nu64("idx"),Q.u8("isEmpty")],"priorVoters"),Q.nu64(),Q.seq(Q.struct([Q.nu64("epoch"),Q.nu64("credits"),Q.nu64("prevCredits")]),Q.offset(Q.u32(),-8),"epochCredits"),Q.struct([Q.nu64("slot"),Q.nu64("timestamp")],"lastTimestamp")]);class bp{constructor(t){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=t.nodePubkey,this.authorizedWithdrawer=t.authorizedWithdrawer,this.commission=t.commission,this.rootSlot=t.rootSlot,this.votes=t.votes,this.authorizedVoters=t.authorizedVoters,this.priorVoters=t.priorVoters,this.epochCredits=t.epochCredits,this.lastTimestamp=t.lastTimestamp}static fromAccountData(t){const i=SN.decode(ot(t),4);let o=i.rootSlot;return i.rootSlotValid||(o=null),new bp({nodePubkey:new _e(i.nodePubkey),authorizedWithdrawer:new _e(i.authorizedWithdrawer),commission:i.commission,votes:i.votes,rootSlot:o,authorizedVoters:i.authorizedVoters.map(AN),priorVoters:RN(i.priorVoters),epochCredits:i.epochCredits,lastTimestamp:i.lastTimestamp})}}function AN({authorizedVoter:s,epoch:t}){return{epoch:t,authorizedVoter:new _e(s)}}function _b({authorizedPubkey:s,epochOfLastAuthorizedSwitch:t,targetEpoch:n}){return{authorizedPubkey:new _e(s),epochOfLastAuthorizedSwitch:t,targetEpoch:n}}function RN({buf:s,idx:t,isEmpty:n}){return n?[]:[...s.slice(t+1).map(_b),...s.slice(0,t).map(_b)]}const vb={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function D_(s,t){const n=t===!1?"http":"https";if(!s)return vb[n].devnet;const i=vb[n][s];if(!i)throw new Error(`Unknown ${n} cluster: ${s}`);return i}async function xN(s,t,n,i){let o,l;n&&Object.prototype.hasOwnProperty.call(n,"lastValidBlockHeight")||n&&Object.prototype.hasOwnProperty.call(n,"nonceValue")?(o=n,l=i):l=n;const u=l&&{skipPreflight:l.skipPreflight,preflightCommitment:l.preflightCommitment||l.commitment,minContextSlot:l.minContextSlot},f=await s.sendRawTransaction(t,u),y=l&&l.commitment,S=(await(o?s.confirmTransaction(o,y):s.confirmTransaction(f,y))).value;if(S.err)throw f!=null?new vs({action:u?.skipPreflight?"send":"simulate",signature:f,transactionMessage:`Status: (${JSON.stringify(S)})`}):new Error(`Raw transaction ${f} failed (${JSON.stringify(S)})`);return f}const O0=1e9,TN=Object.freeze(Object.defineProperty({__proto__:null,Account:wT,AddressLookupTableAccount:A0,AddressLookupTableInstruction:dN,AddressLookupTableProgram:mp,Authorized:C_,BLOCKHASH_CACHE_TIMEOUT_MS:__,BPF_LOADER_DEPRECATED_PROGRAM_ID:_T,BPF_LOADER_PROGRAM_ID:zT,BpfLoader:jT,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:Yr,ComputeBudgetInstruction:hN,ComputeBudgetProgram:yp,Connection:pp,Ed25519Program:rf,Enum:gT,EpochSchedule:b_,FeeCalculatorLayout:y_,Keypair:ao,LAMPORTS_PER_SOL:O0,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:xi,Loader:na,Lockup:Pl,MAX_SEED_LENGTH:d_,Message:Cr,MessageAccountKeys:kl,MessageV0:ta,NONCE_ACCOUNT_LENGTH:S0,NonceAccount:ef,PACKET_DATA_SIZE:gs,PUBLIC_KEY_LENGTH:Wr,PublicKey:_e,SIGNATURE_LENGTH_IN_BYTES:Nl,SOLANA_SCHEMA:Sl,STAKE_CONFIG_ID:I_,STAKE_INSTRUCTION_LAYOUTS:xn,SYSTEM_INSTRUCTION_LAYOUTS:Kt,SYSVAR_CLOCK_PUBKEY:Kr,SYSVAR_EPOCH_SCHEDULE_PUBKEY:kT,SYSVAR_INSTRUCTIONS_PUBKEY:IT,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:Ru,SYSVAR_RENT_PUBKEY:po,SYSVAR_REWARDS_PUBKEY:CT,SYSVAR_SLOT_HASHES_PUBKEY:BT,SYSVAR_SLOT_HISTORY_PUBKEY:MT,SYSVAR_STAKE_HISTORY_PUBKEY:xu,Secp256k1Program:oo,SendTransactionError:vs,SolanaJSONRPCError:Ze,SolanaJSONRPCErrorCode:DT,StakeAuthorizationLayout:bN,StakeInstruction:gN,StakeProgram:sf,Struct:sp,SystemInstruction:LT,SystemProgram:yn,Transaction:vt,TransactionExpiredBlockheightExceededError:ap,TransactionExpiredNonceInvalidError:no,TransactionExpiredTimeoutError:op,TransactionInstruction:Mt,TransactionMessage:cp,TransactionStatus:Ei,VALIDATOR_INFO_KEY:M_,VERSION_PREFIX_MASK:Qu,VOTE_PROGRAM_ID:EN,ValidatorInfo:gp,VersionedMessage:lp,VersionedTransaction:up,VoteAccount:bp,VoteAuthorizationLayout:_N,VoteInit:B_,VoteInstruction:wN,VoteProgram:vo,clusterApiUrl:D_,sendAndConfirmRawTransaction:xN,sendAndConfirmTransaction:E0},Symbol.toStringTag,{value:"Module"}));function ON(s){if(s.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let w=0;w<t.length;w++)t[w]=255;for(let w=0;w<s.length;w++){const S=s.charAt(w),C=S.charCodeAt(0);if(t[C]!==255)throw new TypeError(S+" is ambiguous");t[C]=w}const n=s.length,i=s.charAt(0),o=Math.log(n)/Math.log(256),l=Math.log(256)/Math.log(n);function u(w){if(w instanceof Uint8Array||(ArrayBuffer.isView(w)?w=new Uint8Array(w.buffer,w.byteOffset,w.byteLength):Array.isArray(w)&&(w=Uint8Array.from(w))),!(w instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(w.length===0)return"";let S=0,C=0,I=0;const x=w.length;for(;I!==x&&w[I]===0;)I++,S++;const M=(x-I)*l+1>>>0,L=new Uint8Array(M);for(;I!==x;){let K=w[I],G=0;for(let X=M-1;(K!==0||G<C)&&X!==-1;X--,G++)K+=256*L[X]>>>0,L[X]=K%n>>>0,K=K/n>>>0;if(K!==0)throw new Error("Non-zero carry");C=G,I++}let z=M-C;for(;z!==M&&L[z]===0;)z++;let P=i.repeat(S);for(;z<M;++z)P+=s.charAt(L[z]);return P}function f(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return new Uint8Array;let S=0,C=0,I=0;for(;w[S]===i;)C++,S++;const x=(w.length-S)*o+1>>>0,M=new Uint8Array(x);for(;S<w.length;){const K=w.charCodeAt(S);if(K>255)return;let G=t[K];if(G===255)return;let X=0;for(let te=x-1;(G!==0||X<I)&&te!==-1;te--,X++)G+=n*M[te]>>>0,M[te]=G%256>>>0,G=G/256>>>0;if(G!==0)throw new Error("Non-zero carry");I=X,S++}let L=x-I;for(;L!==x&&M[L]===0;)L++;const z=new Uint8Array(C+(x-L));let P=C;for(;L!==x;)z[P++]=M[L++];return z}function y(w){const S=f(w);if(S)return S;throw new Error("Non-base"+n+" character")}return{encode:u,decodeUnsafe:f,decode:y}}var NN="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const kN=ON(NN);var t0,Eb;function IN(){if(Eb)return t0;Eb=1;var s=$0().Buffer;function t(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var i=new Uint8Array(256),o=0;o<i.length;o++)i[o]=255;for(var l=0;l<n.length;l++){var u=n.charAt(l),f=u.charCodeAt(0);if(i[f]!==255)throw new TypeError(u+" is ambiguous");i[f]=l}var y=n.length,w=n.charAt(0),S=Math.log(y)/Math.log(256),C=Math.log(256)/Math.log(y);function I(L){if((Array.isArray(L)||L instanceof Uint8Array)&&(L=s.from(L)),!s.isBuffer(L))throw new TypeError("Expected Buffer");if(L.length===0)return"";for(var z=0,P=0,K=0,G=L.length;K!==G&&L[K]===0;)K++,z++;for(var X=(G-K)*C+1>>>0,te=new Uint8Array(X);K!==G;){for(var ce=L[K],se=0,oe=X-1;(ce!==0||se<P)&&oe!==-1;oe--,se++)ce+=256*te[oe]>>>0,te[oe]=ce%y>>>0,ce=ce/y>>>0;if(ce!==0)throw new Error("Non-zero carry");P=se,K++}for(var F=X-P;F!==X&&te[F]===0;)F++;for(var Y=w.repeat(z);F<X;++F)Y+=n.charAt(te[F]);return Y}function x(L){if(typeof L!="string")throw new TypeError("Expected String");if(L.length===0)return s.alloc(0);for(var z=0,P=0,K=0;L[z]===w;)P++,z++;for(var G=(L.length-z)*S+1>>>0,X=new Uint8Array(G);z<L.length;){var te=L.charCodeAt(z);if(te>255)return;var ce=i[te];if(ce===255)return;for(var se=0,oe=G-1;(ce!==0||se<K)&&oe!==-1;oe--,se++)ce+=y*X[oe]>>>0,X[oe]=ce%256>>>0,ce=ce/256>>>0;if(ce!==0)throw new Error("Non-zero carry");K=se,z++}for(var F=G-K;F!==G&&X[F]===0;)F++;var Y=s.allocUnsafe(P+(G-F));Y.fill(0,0,P);for(var $=P;F!==G;)Y[$++]=X[F++];return Y}function M(L){var z=x(L);if(z)return z;throw new Error("Non-base"+y+" character")}return{encode:I,decodeUnsafe:x,decode:M}}return t0=t,t0}var n0,Sb;function CN(){if(Sb)return n0;Sb=1;var s=IN(),t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return n0=s(t),n0}var BN=CN();const af=Ci(BN);var fu={exports:{}},Ab;function MN(){if(Ab)return fu.exports;Ab=1;const s=/[\p{Lu}]/u,t=/[\p{Ll}]/u,n=/^[\p{Lu}](?![\p{Lu}])/gu,i=/([\p{Alpha}\p{N}_]|$)/u,o=/[_.\- ]+/,l=new RegExp("^"+o.source),u=new RegExp(o.source+i.source,"gu"),f=new RegExp("\\d+"+i.source,"gu"),y=(I,x,M)=>{let L=!1,z=!1,P=!1;for(let K=0;K<I.length;K++){const G=I[K];L&&s.test(G)?(I=I.slice(0,K)+"-"+I.slice(K),L=!1,P=z,z=!0,K++):z&&P&&t.test(G)?(I=I.slice(0,K-1)+"-"+I.slice(K-1),P=z,z=!1,L=!0):(L=x(G)===G&&M(G)!==G,P=z,z=M(G)===G&&x(G)!==G)}return I},w=(I,x)=>(n.lastIndex=0,I.replace(n,M=>x(M))),S=(I,x)=>(u.lastIndex=0,f.lastIndex=0,I.replace(u,(M,L)=>x(L)).replace(f,M=>x(M))),C=(I,x)=>{if(!(typeof I=="string"||Array.isArray(I)))throw new TypeError("Expected the input to be `string | string[]`");if(x={pascalCase:!1,preserveConsecutiveUppercase:!1,...x},Array.isArray(I)?I=I.map(P=>P.trim()).filter(P=>P.length).join("-"):I=I.trim(),I.length===0)return"";const M=x.locale===!1?P=>P.toLowerCase():P=>P.toLocaleLowerCase(x.locale),L=x.locale===!1?P=>P.toUpperCase():P=>P.toLocaleUpperCase(x.locale);return I.length===1?x.pascalCase?L(I):M(I):(I!==M(I)&&(I=y(I,M,L)),I=I.replace(l,""),x.preserveConsecutiveUppercase?I=w(I,M):I=M(I),x.pascalCase&&(I=L(I.charAt(0))+I.slice(1)),S(I,L))};return fu.exports=C,fu.exports.default=C,fu.exports}var DN=MN();const LN=Ci(DN);var wl={},He={},Rb;function xb(){if(Rb)return He;Rb=1;class s{constructor(E,m){if(!Number.isInteger(E))throw new TypeError("span must be an integer");this.span=E,this.property=m}makeDestinationObject(){return{}}decode(E,m){throw new Error("Layout is abstract")}encode(E,m,d){throw new Error("Layout is abstract")}getSpan(E,m){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(E){const m=Object.create(this.constructor.prototype);return Object.assign(m,this),m.property=E,m}fromArray(E){}}He.Layout=s;function t(B,E){return E.property?B+"["+E.property+"]":B}He.nameWithProperty=t;function n(B,E){if(typeof B!="function")throw new TypeError("Class must be constructor");if(B.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(E&&E instanceof s))throw new TypeError("layout must be a Layout");if(E.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");B.layout_=E,E.boundConstructor_=B,E.makeDestinationObject=(()=>new B),Object.defineProperty(B.prototype,"encode",{value:function(m,d){return E.encode(this,m,d)},writable:!0}),Object.defineProperty(B,"decode",{value:function(m,d){return E.decode(m,d)},writable:!0})}He.bindConstructorLayout=n;class i extends s{isCount(){throw new Error("ExternalLayout is abstract")}}class o extends i{constructor(E,m){if(E===void 0&&(E=1),!Number.isInteger(E)||0>=E)throw new TypeError("elementSpan must be a (positive) integer");super(-1,m),this.elementSpan=E}isCount(){return!0}decode(E,m){m===void 0&&(m=0);const d=E.length-m;return Math.floor(d/this.elementSpan)}encode(E,m,d){return 0}}class l extends i{constructor(E,m,d){if(!(E instanceof s))throw new TypeError("layout must be a Layout");if(m===void 0)m=0;else if(!Number.isInteger(m))throw new TypeError("offset must be integer or undefined");super(E.span,d||E.property),this.layout=E,this.offset=m}isCount(){return this.layout instanceof u||this.layout instanceof f}decode(E,m){return m===void 0&&(m=0),this.layout.decode(E,m+this.offset)}encode(E,m,d){return d===void 0&&(d=0),this.layout.encode(E,m,d+this.offset)}}class u extends s{constructor(E,m){if(super(E,m),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(E,m){return m===void 0&&(m=0),E.readUIntLE(m,this.span)}encode(E,m,d){return d===void 0&&(d=0),m.writeUIntLE(E,d,this.span),this.span}}class f extends s{constructor(E,m){if(super(E,m),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(E,m){return m===void 0&&(m=0),E.readUIntBE(m,this.span)}encode(E,m,d){return d===void 0&&(d=0),m.writeUIntBE(E,d,this.span),this.span}}class y extends s{constructor(E,m){if(super(E,m),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(E,m){return m===void 0&&(m=0),E.readIntLE(m,this.span)}encode(E,m,d){return d===void 0&&(d=0),m.writeIntLE(E,d,this.span),this.span}}class w extends s{constructor(E,m){if(super(E,m),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(E,m){return m===void 0&&(m=0),E.readIntBE(m,this.span)}encode(E,m,d){return d===void 0&&(d=0),m.writeIntBE(E,d,this.span),this.span}}const S=Math.pow(2,32);function C(B){const E=Math.floor(B/S),m=B-E*S;return{hi32:E,lo32:m}}function I(B,E){return B*S+E}class x extends s{constructor(E){super(8,E)}decode(E,m){m===void 0&&(m=0);const d=E.readUInt32LE(m),b=E.readUInt32LE(m+4);return I(b,d)}encode(E,m,d){d===void 0&&(d=0);const b=C(E);return m.writeUInt32LE(b.lo32,d),m.writeUInt32LE(b.hi32,d+4),8}}class M extends s{constructor(E){super(8,E)}decode(E,m){m===void 0&&(m=0);const d=E.readUInt32BE(m),b=E.readUInt32BE(m+4);return I(d,b)}encode(E,m,d){d===void 0&&(d=0);const b=C(E);return m.writeUInt32BE(b.hi32,d),m.writeUInt32BE(b.lo32,d+4),8}}class L extends s{constructor(E){super(8,E)}decode(E,m){m===void 0&&(m=0);const d=E.readUInt32LE(m),b=E.readInt32LE(m+4);return I(b,d)}encode(E,m,d){d===void 0&&(d=0);const b=C(E);return m.writeUInt32LE(b.lo32,d),m.writeInt32LE(b.hi32,d+4),8}}class z extends s{constructor(E){super(8,E)}decode(E,m){m===void 0&&(m=0);const d=E.readInt32BE(m),b=E.readUInt32BE(m+4);return I(d,b)}encode(E,m,d){d===void 0&&(d=0);const b=C(E);return m.writeInt32BE(b.hi32,d),m.writeUInt32BE(b.lo32,d+4),8}}class P extends s{constructor(E){super(4,E)}decode(E,m){return m===void 0&&(m=0),E.readFloatLE(m)}encode(E,m,d){return d===void 0&&(d=0),m.writeFloatLE(E,d),4}}class K extends s{constructor(E){super(4,E)}decode(E,m){return m===void 0&&(m=0),E.readFloatBE(m)}encode(E,m,d){return d===void 0&&(d=0),m.writeFloatBE(E,d),4}}class G extends s{constructor(E){super(8,E)}decode(E,m){return m===void 0&&(m=0),E.readDoubleLE(m)}encode(E,m,d){return d===void 0&&(d=0),m.writeDoubleLE(E,d),8}}class X extends s{constructor(E){super(8,E)}decode(E,m){return m===void 0&&(m=0),E.readDoubleBE(m)}encode(E,m,d){return d===void 0&&(d=0),m.writeDoubleBE(E,d),8}}class te extends s{constructor(E,m,d){if(!(E instanceof s))throw new TypeError("elementLayout must be a Layout");if(!(m instanceof i&&m.isCount()||Number.isInteger(m)&&0<=m))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let b=-1;!(m instanceof i)&&0<E.span&&(b=m*E.span),super(b,d),this.elementLayout=E,this.count=m}getSpan(E,m){if(0<=this.span)return this.span;m===void 0&&(m=0);let d=0,b=this.count;if(b instanceof i&&(b=b.decode(E,m)),0<this.elementLayout.span)d=b*this.elementLayout.span;else{let N=0;for(;N<b;)d+=this.elementLayout.getSpan(E,m+d),++N}return d}decode(E,m){m===void 0&&(m=0);const d=[];let b=0,N=this.count;for(N instanceof i&&(N=N.decode(E,m));b<N;)d.push(this.elementLayout.decode(E,m)),m+=this.elementLayout.getSpan(E,m),b+=1;return d}encode(E,m,d){d===void 0&&(d=0);const b=this.elementLayout,N=E.reduce((U,Z)=>U+b.encode(Z,m,d+U),0);return this.count instanceof i&&this.count.encode(E.length,m,d),N}}class ce extends s{constructor(E,m,d){if(!(Array.isArray(E)&&E.reduce((N,U)=>N&&U instanceof s,!0)))throw new TypeError("fields must be array of Layout instances");typeof m=="boolean"&&d===void 0&&(d=m,m=void 0);for(const N of E)if(0>N.span&&N.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let b=-1;try{b=E.reduce((N,U)=>N+U.getSpan(),0)}catch{}super(b,m),this.fields=E,this.decodePrefixes=!!d}getSpan(E,m){if(0<=this.span)return this.span;m===void 0&&(m=0);let d=0;try{d=this.fields.reduce((b,N)=>{const U=N.getSpan(E,m);return m+=U,b+U},0)}catch{throw new RangeError("indeterminate span")}return d}decode(E,m){m===void 0&&(m=0);const d=this.makeDestinationObject();for(const b of this.fields)if(b.property!==void 0&&(d[b.property]=b.decode(E,m)),m+=b.getSpan(E,m),this.decodePrefixes&&E.length===m)break;return d}encode(E,m,d){d===void 0&&(d=0);const b=d;let N=0,U=0;for(const Z of this.fields){let ae=Z.span;if(U=0<ae?ae:0,Z.property!==void 0){const we=E[Z.property];we!==void 0&&(U=Z.encode(we,m,d),0>ae&&(ae=Z.getSpan(m,d)))}N=d,d+=ae}return N+U-b}fromArray(E){const m=this.makeDestinationObject();for(const d of this.fields)d.property!==void 0&&0<E.length&&(m[d.property]=E.shift());return m}layoutFor(E){if(typeof E!="string")throw new TypeError("property must be string");for(const m of this.fields)if(m.property===E)return m}offsetOf(E){if(typeof E!="string")throw new TypeError("property must be string");let m=0;for(const d of this.fields){if(d.property===E)return m;0>d.span?m=-1:0<=m&&(m+=d.span)}}}class se{constructor(E){this.property=E}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class oe extends se{constructor(E,m){if(!(E instanceof i&&E.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(m||E.property||"variant"),this.layout=E}decode(E,m){return this.layout.decode(E,m)}encode(E,m,d){return this.layout.encode(E,m,d)}}class F extends s{constructor(E,m,d){const b=E instanceof u||E instanceof f;if(b)E=new oe(new l(E));else if(E instanceof i&&E.isCount())E=new oe(E);else if(!(E instanceof se))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(m===void 0&&(m=null),!(m===null||m instanceof s))throw new TypeError("defaultLayout must be null or a Layout");if(m!==null){if(0>m.span)throw new Error("defaultLayout must have constant span");m.property===void 0&&(m=m.replicate("content"))}let N=-1;m&&(N=m.span,0<=N&&b&&(N+=E.layout.span)),super(N,d),this.discriminator=E,this.usesPrefixDiscriminator=b,this.defaultLayout=m,this.registry={};let U=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(Z){return U(Z)},this.configGetSourceVariant=function(Z){U=Z.bind(this)}}getSpan(E,m){if(0<=this.span)return this.span;m===void 0&&(m=0);const d=this.getVariant(E,m);if(!d)throw new Error("unable to determine span for unrecognized variant");return d.getSpan(E,m)}defaultGetSourceVariant(E){if(E.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&E.hasOwnProperty(this.defaultLayout.property))return;const m=this.registry[E[this.discriminator.property]];if(m&&(!m.layout||E.hasOwnProperty(m.property)))return m}else for(const m in this.registry){const d=this.registry[m];if(E.hasOwnProperty(d.property))return d}throw new Error("unable to infer src variant")}decode(E,m){m===void 0&&(m=0);let d;const b=this.discriminator,N=b.decode(E,m);let U=this.registry[N];if(U===void 0){let Z=0;U=this.defaultLayout,this.usesPrefixDiscriminator&&(Z=b.layout.span),d=this.makeDestinationObject(),d[b.property]=N,d[U.property]=this.defaultLayout.decode(E,m+Z)}else d=U.decode(E,m);return d}encode(E,m,d){d===void 0&&(d=0);const b=this.getSourceVariant(E);if(b===void 0){const N=this.discriminator,U=this.defaultLayout;let Z=0;return this.usesPrefixDiscriminator&&(Z=N.layout.span),N.encode(E[N.property],m,d),Z+U.encode(E[U.property],m,d+Z)}return b.encode(E,m,d)}addVariant(E,m,d){const b=new Y(this,E,m,d);return this.registry[E]=b,b}getVariant(E,m){let d=E;return Buffer.isBuffer(E)&&(m===void 0&&(m=0),d=this.discriminator.decode(E,m)),this.registry[d]}}class Y extends s{constructor(E,m,d,b){if(!(E instanceof F))throw new TypeError("union must be a Union");if(!Number.isInteger(m)||0>m)throw new TypeError("variant must be a (non-negative) integer");if(typeof d=="string"&&b===void 0&&(b=d,d=null),d){if(!(d instanceof s))throw new TypeError("layout must be a Layout");if(E.defaultLayout!==null&&0<=d.span&&d.span>E.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof b!="string")throw new TypeError("variant must have a String property")}let N=E.span;0>E.span&&(N=d?d.span:0,0<=N&&E.usesPrefixDiscriminator&&(N+=E.discriminator.layout.span)),super(N,b),this.union=E,this.variant=m,this.layout=d||null}getSpan(E,m){if(0<=this.span)return this.span;m===void 0&&(m=0);let d=0;return this.union.usesPrefixDiscriminator&&(d=this.union.discriminator.layout.span),d+this.layout.getSpan(E,m+d)}decode(E,m){const d=this.makeDestinationObject();if(m===void 0&&(m=0),this!==this.union.getVariant(E,m))throw new Error("variant mismatch");let b=0;return this.union.usesPrefixDiscriminator&&(b=this.union.discriminator.layout.span),this.layout?d[this.property]=this.layout.decode(E,m+b):this.property?d[this.property]=!0:this.union.usesPrefixDiscriminator&&(d[this.union.discriminator.property]=this.variant),d}encode(E,m,d){d===void 0&&(d=0);let b=0;if(this.union.usesPrefixDiscriminator&&(b=this.union.discriminator.layout.span),this.layout&&!E.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,m,d);let N=b;if(this.layout&&(this.layout.encode(E[this.property],m,d+b),N+=this.layout.getSpan(m,d+b),0<=this.union.span&&N>this.union.span))throw new Error("encoded variant overruns containing union");return N}fromArray(E){if(this.layout)return this.layout.fromArray(E)}}function $(B){return 0>B&&(B+=4294967296),B}class W extends s{constructor(E,m,d){if(!(E instanceof u||E instanceof f))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof m=="string"&&d===void 0&&(d=m,m=void 0),4<E.span)throw new RangeError("word cannot exceed 32 bits");super(E.span,d),this.word=E,this.msb=!!m,this.fields=[];let b=0;this._packedSetValue=function(N){return b=$(N),this},this._packedGetValue=function(){return b}}decode(E,m){const d=this.makeDestinationObject();m===void 0&&(m=0);const b=this.word.decode(E,m);this._packedSetValue(b);for(const N of this.fields)N.property!==void 0&&(d[N.property]=N.decode(b));return d}encode(E,m,d){d===void 0&&(d=0);const b=this.word.decode(m,d);this._packedSetValue(b);for(const N of this.fields)if(N.property!==void 0){const U=E[N.property];U!==void 0&&N.encode(U)}return this.word.encode(this._packedGetValue(),m,d)}addField(E,m){const d=new T(this,E,m);return this.fields.push(d),d}addBoolean(E){const m=new h(this,E);return this.fields.push(m),m}fieldFor(E){if(typeof E!="string")throw new TypeError("property must be string");for(const m of this.fields)if(m.property===E)return m}}class T{constructor(E,m,d){if(!(E instanceof W))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(m)||0>=m)throw new TypeError("bits must be positive integer");const b=8*E.span,N=E.fields.reduce((U,Z)=>U+Z.bits,0);if(m+N>b)throw new Error("bits too long for span remainder ("+(b-N)+" of "+b+" remain)");this.container=E,this.bits=m,this.valueMask=(1<<m)-1,m===32&&(this.valueMask=4294967295),this.start=N,this.container.msb&&(this.start=b-N-m),this.wordMask=$(this.valueMask<<this.start),this.property=d}decode(){const E=this.container._packedGetValue();return $(E&this.wordMask)>>>this.start}encode(E){if(!Number.isInteger(E)||E!==$(E&this.valueMask))throw new TypeError(t("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const m=this.container._packedGetValue(),d=$(E<<this.start);this.container._packedSetValue($(m&~this.wordMask)|d)}}class h extends T{constructor(E,m){super(E,1,m)}decode(E,m){return!!T.prototype.decode.call(this,E,m)}encode(E){return typeof E=="boolean"&&(E=+E),T.prototype.encode.call(this,E)}}class _ extends s{constructor(E,m){if(!(E instanceof i&&E.isCount()||Number.isInteger(E)&&0<=E))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let d=-1;E instanceof i||(d=E),super(d,m),this.length=E}getSpan(E,m){let d=this.span;return 0>d&&(d=this.length.decode(E,m)),d}decode(E,m){m===void 0&&(m=0);let d=this.span;return 0>d&&(d=this.length.decode(E,m)),E.slice(m,m+d)}encode(E,m,d){let b=this.length;if(this.length instanceof i&&(b=E.length),!(Buffer.isBuffer(E)&&b===E.length))throw new TypeError(t("Blob.encode",this)+" requires (length "+b+") Buffer as src");if(d+b>m.length)throw new RangeError("encoding overruns Buffer");return m.write(E.toString("hex"),d,b,"hex"),this.length instanceof i&&this.length.encode(b,m,d),b}}class A extends s{constructor(E){super(-1,E)}getSpan(E,m){if(!Buffer.isBuffer(E))throw new TypeError("b must be a Buffer");m===void 0&&(m=0);let d=m;for(;d<E.length&&E[d]!==0;)d+=1;return 1+d-m}decode(E,m,d){m===void 0&&(m=0);let b=this.getSpan(E,m);return E.slice(m,m+b-1).toString("utf-8")}encode(E,m,d){d===void 0&&(d=0),typeof E!="string"&&(E=E.toString());const b=new Buffer(E,"utf8"),N=b.length;if(d+N>m.length)throw new RangeError("encoding overruns Buffer");return b.copy(m,d),m[d+N]=0,N+1}}class O extends s{constructor(E,m){if(typeof E=="string"&&m===void 0&&(m=E,E=void 0),E===void 0)E=-1;else if(!Number.isInteger(E))throw new TypeError("maxSpan must be an integer");super(-1,m),this.maxSpan=E}getSpan(E,m){if(!Buffer.isBuffer(E))throw new TypeError("b must be a Buffer");return m===void 0&&(m=0),E.length-m}decode(E,m,d){m===void 0&&(m=0);let b=this.getSpan(E,m);if(0<=this.maxSpan&&this.maxSpan<b)throw new RangeError("text length exceeds maxSpan");return E.slice(m,m+b).toString("utf-8")}encode(E,m,d){d===void 0&&(d=0),typeof E!="string"&&(E=E.toString());const b=new Buffer(E,"utf8"),N=b.length;if(0<=this.maxSpan&&this.maxSpan<N)throw new RangeError("text length exceeds maxSpan");if(d+N>m.length)throw new RangeError("encoding overruns Buffer");return b.copy(m,d),N}}class H extends s{constructor(E,m){super(0,m),this.value=E}decode(E,m,d){return this.value}encode(E,m,d){return 0}}return He.ExternalLayout=i,He.GreedyCount=o,He.OffsetLayout=l,He.UInt=u,He.UIntBE=f,He.Int=y,He.IntBE=w,He.Float=P,He.FloatBE=K,He.Double=G,He.DoubleBE=X,He.Sequence=te,He.Structure=ce,He.UnionDiscriminator=se,He.UnionLayoutDiscriminator=oe,He.Union=F,He.VariantLayout=Y,He.BitStructure=W,He.BitField=T,He.Boolean=h,He.Blob=_,He.CString=A,He.UTF8=O,He.Constant=H,He.greedy=((B,E)=>new o(B,E)),He.offset=((B,E,m)=>new l(B,E,m)),He.u8=(B=>new u(1,B)),He.u16=(B=>new u(2,B)),He.u24=(B=>new u(3,B)),He.u32=(B=>new u(4,B)),He.u40=(B=>new u(5,B)),He.u48=(B=>new u(6,B)),He.nu64=(B=>new x(B)),He.u16be=(B=>new f(2,B)),He.u24be=(B=>new f(3,B)),He.u32be=(B=>new f(4,B)),He.u40be=(B=>new f(5,B)),He.u48be=(B=>new f(6,B)),He.nu64be=(B=>new M(B)),He.s8=(B=>new y(1,B)),He.s16=(B=>new y(2,B)),He.s24=(B=>new y(3,B)),He.s32=(B=>new y(4,B)),He.s40=(B=>new y(5,B)),He.s48=(B=>new y(6,B)),He.ns64=(B=>new L(B)),He.s16be=(B=>new w(2,B)),He.s24be=(B=>new w(3,B)),He.s32be=(B=>new w(4,B)),He.s40be=(B=>new w(5,B)),He.s48be=(B=>new w(6,B)),He.ns64be=(B=>new z(B)),He.f32=(B=>new P(B)),He.f32be=(B=>new K(B)),He.f64=(B=>new G(B)),He.f64be=(B=>new X(B)),He.struct=((B,E,m)=>new ce(B,E,m)),He.bits=((B,E,m)=>new W(B,E,m)),He.seq=((B,E,m)=>new te(B,E,m)),He.union=((B,E,m)=>new F(B,E,m)),He.unionLayoutDiscriminator=((B,E)=>new oe(B,E)),He.blob=((B,E)=>new _(B,E)),He.cstr=(B=>new A(B)),He.utf8=((B,E)=>new O(B,E)),He.const=((B,E)=>new H(B,E)),He}const UN=Vu(TN);var Tb;function zN(){return Tb||(Tb=1,(function(s){var t=wl&&wl.__importDefault||function(W){return W&&W.__esModule?W:{default:W}};Object.defineProperty(s,"__esModule",{value:!0}),s.struct=s.f64=s.f32=s.i32=s.u32=s.i16=s.u16=s.i8=s.u8=void 0,s.u64=f,s.i64=y,s.u128=w,s.i128=S,s.u256=C,s.i256=I,s.publicKey=M,s.option=z,s.bool=P,s.vec=X,s.tagged=te,s.vecU8=ce,s.str=se,s.rustEnum=oe,s.array=F,s.map=$;const n=xb(),i=UN,o=t(W0());var l=xb();Object.defineProperty(s,"u8",{enumerable:!0,get:function(){return l.u8}}),Object.defineProperty(s,"i8",{enumerable:!0,get:function(){return l.s8}}),Object.defineProperty(s,"u16",{enumerable:!0,get:function(){return l.u16}}),Object.defineProperty(s,"i16",{enumerable:!0,get:function(){return l.s16}}),Object.defineProperty(s,"u32",{enumerable:!0,get:function(){return l.u32}}),Object.defineProperty(s,"i32",{enumerable:!0,get:function(){return l.s32}}),Object.defineProperty(s,"f32",{enumerable:!0,get:function(){return l.f32}}),Object.defineProperty(s,"f64",{enumerable:!0,get:function(){return l.f64}}),Object.defineProperty(s,"struct",{enumerable:!0,get:function(){return l.struct}});class u extends n.Layout{constructor(T,h,_){super(T,_),this.blob=(0,n.blob)(T),this.signed=h}decode(T,h=0){const _=new o.default(this.blob.decode(T,h),10,"le");return this.signed?_.fromTwos(this.span*8).clone():_}encode(T,h,_=0){return this.signed&&(T=T.toTwos(this.span*8)),this.blob.encode(T.toArrayLike(Buffer,"le",this.span),h,_)}}function f(W){return new u(8,!1,W)}function y(W){return new u(8,!0,W)}function w(W){return new u(16,!1,W)}function S(W){return new u(16,!0,W)}function C(W){return new u(32,!1,W)}function I(W){return new u(32,!0,W)}class x extends n.Layout{constructor(T,h,_,A){super(T.span,A),this.layout=T,this.decoder=h,this.encoder=_}decode(T,h){return this.decoder(this.layout.decode(T,h))}encode(T,h,_){return this.layout.encode(this.encoder(T),h,_)}getSpan(T,h){return this.layout.getSpan(T,h)}}function M(W){return new x((0,n.blob)(32),T=>new i.PublicKey(T),T=>T.toBuffer(),W)}class L extends n.Layout{constructor(T,h){super(-1,h),this.layout=T,this.discriminator=(0,n.u8)()}encode(T,h,_=0){return T==null?this.discriminator.encode(0,h,_):(this.discriminator.encode(1,h,_),this.layout.encode(T,h,_+1)+1)}decode(T,h=0){const _=this.discriminator.decode(T,h);if(_===0)return null;if(_===1)return this.layout.decode(T,h+1);throw new Error("Invalid option "+this.property)}getSpan(T,h=0){const _=this.discriminator.decode(T,h);if(_===0)return 1;if(_===1)return this.layout.getSpan(T,h+1)+1;throw new Error("Invalid option "+this.property)}}function z(W,T){return new L(W,T)}function P(W){return new x((0,n.u8)(),K,G,W)}function K(W){if(W===0)return!1;if(W===1)return!0;throw new Error("Invalid bool: "+W)}function G(W){return W?1:0}function X(W,T){const h=(0,n.u32)("length"),_=(0,n.struct)([h,(0,n.seq)(W,(0,n.offset)(h,-h.span),"values")]);return new x(_,({values:A})=>A,A=>({values:A}),T)}function te(W,T,h){const _=(0,n.struct)([f("tag"),T.replicate("data")]);function A({tag:O,data:H}){if(!O.eq(W))throw new Error("Invalid tag, expected: "+W.toString("hex")+", got: "+O.toString("hex"));return H}return new x(_,A,O=>({tag:W,data:O}),h)}function ce(W){const T=(0,n.u32)("length"),h=(0,n.struct)([T,(0,n.blob)((0,n.offset)(T,-T.span),"data")]);return new x(h,({data:_})=>_,_=>({data:_}),W)}function se(W){return new x(ce(),T=>T.toString("utf-8"),T=>Buffer.from(T,"utf-8"),W)}function oe(W,T,h){const _=(0,n.union)(h??(0,n.u8)(),T);return W.forEach((A,O)=>_.addVariant(O,A,A.property)),_}function F(W,T,h){const _=(0,n.struct)([(0,n.seq)(W,T,"values")]);return new x(_,({values:A})=>A,A=>({values:A}),h)}class Y extends n.Layout{constructor(T,h,_){super(T.span+h.span,_),this.keyLayout=T,this.valueLayout=h}decode(T,h){h=h||0;const _=this.keyLayout.decode(T,h),A=this.valueLayout.decode(T,h+this.keyLayout.getSpan(T,h));return[_,A]}encode(T,h,_){_=_||0;const A=this.keyLayout.encode(T[0],h,_),O=this.valueLayout.encode(T[1],h,_+A);return A+O}getSpan(T,h){return this.keyLayout.getSpan(T,h)+this.valueLayout.getSpan(T,h)}}function $(W,T,h){const _=(0,n.u32)("length"),A=(0,n.struct)([_,(0,n.seq)(new Y(W,T),(0,n.offset)(_,-_.span),"values")]);return new x(A,({values:O})=>new Map(O),O=>({values:Array.from(O.entries())}),h)}})(wl)),wl}var st=zN();function Eo(s){let t=s.length;for(;--t>=0;)s[t]=0}const jN=3,HN=258,L_=29,PN=256,qN=PN+1+L_,U_=30,KN=512,GN=new Array((qN+2)*2);Eo(GN);const VN=new Array(U_*2);Eo(VN);const FN=new Array(KN);Eo(FN);const YN=new Array(HN-jN+1);Eo(YN);const ZN=new Array(L_);Eo(ZN);const WN=new Array(U_);Eo(WN);const $N=(s,t,n,i)=>{let o=s&65535|0,l=s>>>16&65535|0,u=0;for(;n!==0;){u=n>2e3?2e3:n,n-=u;do o=o+t[i++]|0,l=l+o|0;while(--u);o%=65521,l%=65521}return o|l<<16|0};var N0=$N;const XN=()=>{let s,t=[];for(var n=0;n<256;n++){s=n;for(var i=0;i<8;i++)s=s&1?3988292384^s>>>1:s>>>1;t[n]=s}return t},QN=new Uint32Array(XN()),JN=(s,t,n,i)=>{const o=QN,l=i+n;s^=-1;for(let u=i;u<l;u++)s=s>>>8^o[(s^t[u])&255];return s^-1};var qr=JN,k0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},z_={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const ek=(s,t)=>Object.prototype.hasOwnProperty.call(s,t);var tk=function(s){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const i in n)ek(n,i)&&(s[i]=n[i])}}return s},nk=s=>{let t=0;for(let i=0,o=s.length;i<o;i++)t+=s[i].length;const n=new Uint8Array(t);for(let i=0,o=0,l=s.length;i<l;i++){let u=s[i];n.set(u,o),o+=u.length}return n},j_={assign:tk,flattenChunks:nk};let H_=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{H_=!1}const Cl=new Uint8Array(256);for(let s=0;s<256;s++)Cl[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;Cl[254]=Cl[254]=1;var rk=s=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(s);let t,n,i,o,l,u=s.length,f=0;for(o=0;o<u;o++)n=s.charCodeAt(o),(n&64512)===55296&&o+1<u&&(i=s.charCodeAt(o+1),(i&64512)===56320&&(n=65536+(n-55296<<10)+(i-56320),o++)),f+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(f),l=0,o=0;l<f;o++)n=s.charCodeAt(o),(n&64512)===55296&&o+1<u&&(i=s.charCodeAt(o+1),(i&64512)===56320&&(n=65536+(n-55296<<10)+(i-56320),o++)),n<128?t[l++]=n:n<2048?(t[l++]=192|n>>>6,t[l++]=128|n&63):n<65536?(t[l++]=224|n>>>12,t[l++]=128|n>>>6&63,t[l++]=128|n&63):(t[l++]=240|n>>>18,t[l++]=128|n>>>12&63,t[l++]=128|n>>>6&63,t[l++]=128|n&63);return t};const ik=(s,t)=>{if(t<65534&&s.subarray&&H_)return String.fromCharCode.apply(null,s.length===t?s:s.subarray(0,t));let n="";for(let i=0;i<t;i++)n+=String.fromCharCode(s[i]);return n};var sk=(s,t)=>{const n=t||s.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(s.subarray(0,t));let i,o;const l=new Array(n*2);for(o=0,i=0;i<n;){let u=s[i++];if(u<128){l[o++]=u;continue}let f=Cl[u];if(f>4){l[o++]=65533,i+=f-1;continue}for(u&=f===2?31:f===3?15:7;f>1&&i<n;)u=u<<6|s[i++]&63,f--;if(f>1){l[o++]=65533;continue}u<65536?l[o++]=u:(u-=65536,l[o++]=55296|u>>10&1023,l[o++]=56320|u&1023)}return ik(l,o)},ak=(s,t)=>{t=t||s.length,t>s.length&&(t=s.length);let n=t-1;for(;n>=0&&(s[n]&192)===128;)n--;return n<0||n===0?t:n+Cl[s[n]]>t?n:t},I0={string2buf:rk,buf2string:sk,utf8border:ak};function ok(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var lk=ok;const du=16209,ck=16191;var uk=function(t,n){let i,o,l,u,f,y,w,S,C,I,x,M,L,z,P,K,G,X,te,ce,se,oe,F,Y;const $=t.state;i=t.next_in,F=t.input,o=i+(t.avail_in-5),l=t.next_out,Y=t.output,u=l-(n-t.avail_out),f=l+(t.avail_out-257),y=$.dmax,w=$.wsize,S=$.whave,C=$.wnext,I=$.window,x=$.hold,M=$.bits,L=$.lencode,z=$.distcode,P=(1<<$.lenbits)-1,K=(1<<$.distbits)-1;e:do{M<15&&(x+=F[i++]<<M,M+=8,x+=F[i++]<<M,M+=8),G=L[x&P];t:for(;;){if(X=G>>>24,x>>>=X,M-=X,X=G>>>16&255,X===0)Y[l++]=G&65535;else if(X&16){te=G&65535,X&=15,X&&(M<X&&(x+=F[i++]<<M,M+=8),te+=x&(1<<X)-1,x>>>=X,M-=X),M<15&&(x+=F[i++]<<M,M+=8,x+=F[i++]<<M,M+=8),G=z[x&K];n:for(;;){if(X=G>>>24,x>>>=X,M-=X,X=G>>>16&255,X&16){if(ce=G&65535,X&=15,M<X&&(x+=F[i++]<<M,M+=8,M<X&&(x+=F[i++]<<M,M+=8)),ce+=x&(1<<X)-1,ce>y){t.msg="invalid distance too far back",$.mode=du;break e}if(x>>>=X,M-=X,X=l-u,ce>X){if(X=ce-X,X>S&&$.sane){t.msg="invalid distance too far back",$.mode=du;break e}if(se=0,oe=I,C===0){if(se+=w-X,X<te){te-=X;do Y[l++]=I[se++];while(--X);se=l-ce,oe=Y}}else if(C<X){if(se+=w+C-X,X-=C,X<te){te-=X;do Y[l++]=I[se++];while(--X);if(se=0,C<te){X=C,te-=X;do Y[l++]=I[se++];while(--X);se=l-ce,oe=Y}}}else if(se+=C-X,X<te){te-=X;do Y[l++]=I[se++];while(--X);se=l-ce,oe=Y}for(;te>2;)Y[l++]=oe[se++],Y[l++]=oe[se++],Y[l++]=oe[se++],te-=3;te&&(Y[l++]=oe[se++],te>1&&(Y[l++]=oe[se++]))}else{se=l-ce;do Y[l++]=Y[se++],Y[l++]=Y[se++],Y[l++]=Y[se++],te-=3;while(te>2);te&&(Y[l++]=Y[se++],te>1&&(Y[l++]=Y[se++]))}}else if((X&64)===0){G=z[(G&65535)+(x&(1<<X)-1)];continue n}else{t.msg="invalid distance code",$.mode=du;break e}break}}else if((X&64)===0){G=L[(G&65535)+(x&(1<<X)-1)];continue t}else if(X&32){$.mode=ck;break e}else{t.msg="invalid literal/length code",$.mode=du;break e}break}}while(i<o&&l<f);te=M>>3,i-=te,M-=te<<3,x&=(1<<M)-1,t.next_in=i,t.next_out=l,t.avail_in=i<o?5+(o-i):5-(i-o),t.avail_out=l<f?257+(f-l):257-(l-f),$.hold=x,$.bits=M};const Ja=15,Ob=852,Nb=592,kb=0,r0=1,Ib=2,fk=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),dk=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),hk=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),pk=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),mk=(s,t,n,i,o,l,u,f)=>{const y=f.bits;let w=0,S=0,C=0,I=0,x=0,M=0,L=0,z=0,P=0,K=0,G,X,te,ce,se,oe=null,F;const Y=new Uint16Array(Ja+1),$=new Uint16Array(Ja+1);let W=null,T,h,_;for(w=0;w<=Ja;w++)Y[w]=0;for(S=0;S<i;S++)Y[t[n+S]]++;for(x=y,I=Ja;I>=1&&Y[I]===0;I--);if(x>I&&(x=I),I===0)return o[l++]=1<<24|64<<16|0,o[l++]=1<<24|64<<16|0,f.bits=1,0;for(C=1;C<I&&Y[C]===0;C++);for(x<C&&(x=C),z=1,w=1;w<=Ja;w++)if(z<<=1,z-=Y[w],z<0)return-1;if(z>0&&(s===kb||I!==1))return-1;for($[1]=0,w=1;w<Ja;w++)$[w+1]=$[w]+Y[w];for(S=0;S<i;S++)t[n+S]!==0&&(u[$[t[n+S]]++]=S);if(s===kb?(oe=W=u,F=20):s===r0?(oe=fk,W=dk,F=257):(oe=hk,W=pk,F=0),K=0,S=0,w=C,se=l,M=x,L=0,te=-1,P=1<<x,ce=P-1,s===r0&&P>Ob||s===Ib&&P>Nb)return 1;for(;;){T=w-L,u[S]+1<F?(h=0,_=u[S]):u[S]>=F?(h=W[u[S]-F],_=oe[u[S]-F]):(h=96,_=0),G=1<<w-L,X=1<<M,C=X;do X-=G,o[se+(K>>L)+X]=T<<24|h<<16|_|0;while(X!==0);for(G=1<<w-1;K&G;)G>>=1;if(G!==0?(K&=G-1,K+=G):K=0,S++,--Y[w]===0){if(w===I)break;w=t[n+u[S]]}if(w>x&&(K&ce)!==te){for(L===0&&(L=x),se+=C,M=w-L,z=1<<M;M+L<I&&(z-=Y[M+L],!(z<=0));)M++,z<<=1;if(P+=1<<M,s===r0&&P>Ob||s===Ib&&P>Nb)return 1;te=K&ce,o[te]=x<<24|M<<16|se-l|0}}return K!==0&&(o[se+K]=w-L<<24|64<<16|0),f.bits=x,0};var Al=mk;const yk=0,P_=1,q_=2,{Z_FINISH:Cb,Z_BLOCK:gk,Z_TREES:hu,Z_OK:ra,Z_STREAM_END:bk,Z_NEED_DICT:wk,Z_STREAM_ERROR:Sr,Z_DATA_ERROR:K_,Z_MEM_ERROR:G_,Z_BUF_ERROR:_k,Z_DEFLATED:Bb}=z_,of=16180,Mb=16181,Db=16182,Lb=16183,Ub=16184,zb=16185,jb=16186,Hb=16187,Pb=16188,qb=16189,Hu=16190,vi=16191,i0=16192,Kb=16193,s0=16194,Gb=16195,Vb=16196,Fb=16197,Yb=16198,pu=16199,mu=16200,Zb=16201,Wb=16202,$b=16203,Xb=16204,Qb=16205,a0=16206,Jb=16207,ew=16208,$t=16209,V_=16210,F_=16211,vk=852,Ek=592,Sk=15,Ak=Sk,tw=s=>(s>>>24&255)+(s>>>8&65280)+((s&65280)<<8)+((s&255)<<24);function Rk(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const la=s=>{if(!s)return 1;const t=s.state;return!t||t.strm!==s||t.mode<of||t.mode>F_?1:0},Y_=s=>{if(la(s))return Sr;const t=s.state;return s.total_in=s.total_out=t.total=0,s.msg="",t.wrap&&(s.adler=t.wrap&1),t.mode=of,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(vk),t.distcode=t.distdyn=new Int32Array(Ek),t.sane=1,t.back=-1,ra},Z_=s=>{if(la(s))return Sr;const t=s.state;return t.wsize=0,t.whave=0,t.wnext=0,Y_(s)},W_=(s,t)=>{let n;if(la(s))return Sr;const i=s.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Sr:(i.window!==null&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,Z_(s))},$_=(s,t)=>{if(!s)return Sr;const n=new Rk;s.state=n,n.strm=s,n.window=null,n.mode=of;const i=W_(s,t);return i!==ra&&(s.state=null),i},xk=s=>$_(s,Ak);let nw=!0,o0,l0;const Tk=s=>{if(nw){o0=new Int32Array(512),l0=new Int32Array(32);let t=0;for(;t<144;)s.lens[t++]=8;for(;t<256;)s.lens[t++]=9;for(;t<280;)s.lens[t++]=7;for(;t<288;)s.lens[t++]=8;for(Al(P_,s.lens,0,288,o0,0,s.work,{bits:9}),t=0;t<32;)s.lens[t++]=5;Al(q_,s.lens,0,32,l0,0,s.work,{bits:5}),nw=!1}s.lencode=o0,s.lenbits=9,s.distcode=l0,s.distbits=5},X_=(s,t,n,i)=>{let o;const l=s.state;return l.window===null&&(l.wsize=1<<l.wbits,l.wnext=0,l.whave=0,l.window=new Uint8Array(l.wsize)),i>=l.wsize?(l.window.set(t.subarray(n-l.wsize,n),0),l.wnext=0,l.whave=l.wsize):(o=l.wsize-l.wnext,o>i&&(o=i),l.window.set(t.subarray(n-i,n-i+o),l.wnext),i-=o,i?(l.window.set(t.subarray(n-i,n),0),l.wnext=i,l.whave=l.wsize):(l.wnext+=o,l.wnext===l.wsize&&(l.wnext=0),l.whave<l.wsize&&(l.whave+=o))),0},Ok=(s,t)=>{let n,i,o,l,u,f,y,w,S,C,I,x,M,L,z=0,P,K,G,X,te,ce,se,oe;const F=new Uint8Array(4);let Y,$;const W=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(la(s)||!s.output||!s.input&&s.avail_in!==0)return Sr;n=s.state,n.mode===vi&&(n.mode=i0),u=s.next_out,o=s.output,y=s.avail_out,l=s.next_in,i=s.input,f=s.avail_in,w=n.hold,S=n.bits,C=f,I=y,oe=ra;e:for(;;)switch(n.mode){case of:if(n.wrap===0){n.mode=i0;break}for(;S<16;){if(f===0)break e;f--,w+=i[l++]<<S,S+=8}if(n.wrap&2&&w===35615){n.wbits===0&&(n.wbits=15),n.check=0,F[0]=w&255,F[1]=w>>>8&255,n.check=qr(n.check,F,2,0),w=0,S=0,n.mode=Mb;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((w&255)<<8)+(w>>8))%31){s.msg="incorrect header check",n.mode=$t;break}if((w&15)!==Bb){s.msg="unknown compression method",n.mode=$t;break}if(w>>>=4,S-=4,se=(w&15)+8,n.wbits===0&&(n.wbits=se),se>15||se>n.wbits){s.msg="invalid window size",n.mode=$t;break}n.dmax=1<<n.wbits,n.flags=0,s.adler=n.check=1,n.mode=w&512?qb:vi,w=0,S=0;break;case Mb:for(;S<16;){if(f===0)break e;f--,w+=i[l++]<<S,S+=8}if(n.flags=w,(n.flags&255)!==Bb){s.msg="unknown compression method",n.mode=$t;break}if(n.flags&57344){s.msg="unknown header flags set",n.mode=$t;break}n.head&&(n.head.text=w>>8&1),n.flags&512&&n.wrap&4&&(F[0]=w&255,F[1]=w>>>8&255,n.check=qr(n.check,F,2,0)),w=0,S=0,n.mode=Db;case Db:for(;S<32;){if(f===0)break e;f--,w+=i[l++]<<S,S+=8}n.head&&(n.head.time=w),n.flags&512&&n.wrap&4&&(F[0]=w&255,F[1]=w>>>8&255,F[2]=w>>>16&255,F[3]=w>>>24&255,n.check=qr(n.check,F,4,0)),w=0,S=0,n.mode=Lb;case Lb:for(;S<16;){if(f===0)break e;f--,w+=i[l++]<<S,S+=8}n.head&&(n.head.xflags=w&255,n.head.os=w>>8),n.flags&512&&n.wrap&4&&(F[0]=w&255,F[1]=w>>>8&255,n.check=qr(n.check,F,2,0)),w=0,S=0,n.mode=Ub;case Ub:if(n.flags&1024){for(;S<16;){if(f===0)break e;f--,w+=i[l++]<<S,S+=8}n.length=w,n.head&&(n.head.extra_len=w),n.flags&512&&n.wrap&4&&(F[0]=w&255,F[1]=w>>>8&255,n.check=qr(n.check,F,2,0)),w=0,S=0}else n.head&&(n.head.extra=null);n.mode=zb;case zb:if(n.flags&1024&&(x=n.length,x>f&&(x=f),x&&(n.head&&(se=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(l,l+x),se)),n.flags&512&&n.wrap&4&&(n.check=qr(n.check,i,x,l)),f-=x,l+=x,n.length-=x),n.length))break e;n.length=0,n.mode=jb;case jb:if(n.flags&2048){if(f===0)break e;x=0;do se=i[l+x++],n.head&&se&&n.length<65536&&(n.head.name+=String.fromCharCode(se));while(se&&x<f);if(n.flags&512&&n.wrap&4&&(n.check=qr(n.check,i,x,l)),f-=x,l+=x,se)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=Hb;case Hb:if(n.flags&4096){if(f===0)break e;x=0;do se=i[l+x++],n.head&&se&&n.length<65536&&(n.head.comment+=String.fromCharCode(se));while(se&&x<f);if(n.flags&512&&n.wrap&4&&(n.check=qr(n.check,i,x,l)),f-=x,l+=x,se)break e}else n.head&&(n.head.comment=null);n.mode=Pb;case Pb:if(n.flags&512){for(;S<16;){if(f===0)break e;f--,w+=i[l++]<<S,S+=8}if(n.wrap&4&&w!==(n.check&65535)){s.msg="header crc mismatch",n.mode=$t;break}w=0,S=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),s.adler=n.check=0,n.mode=vi;break;case qb:for(;S<32;){if(f===0)break e;f--,w+=i[l++]<<S,S+=8}s.adler=n.check=tw(w),w=0,S=0,n.mode=Hu;case Hu:if(n.havedict===0)return s.next_out=u,s.avail_out=y,s.next_in=l,s.avail_in=f,n.hold=w,n.bits=S,wk;s.adler=n.check=1,n.mode=vi;case vi:if(t===gk||t===hu)break e;case i0:if(n.last){w>>>=S&7,S-=S&7,n.mode=a0;break}for(;S<3;){if(f===0)break e;f--,w+=i[l++]<<S,S+=8}switch(n.last=w&1,w>>>=1,S-=1,w&3){case 0:n.mode=Kb;break;case 1:if(Tk(n),n.mode=pu,t===hu){w>>>=2,S-=2;break e}break;case 2:n.mode=Vb;break;case 3:s.msg="invalid block type",n.mode=$t}w>>>=2,S-=2;break;case Kb:for(w>>>=S&7,S-=S&7;S<32;){if(f===0)break e;f--,w+=i[l++]<<S,S+=8}if((w&65535)!==(w>>>16^65535)){s.msg="invalid stored block lengths",n.mode=$t;break}if(n.length=w&65535,w=0,S=0,n.mode=s0,t===hu)break e;case s0:n.mode=Gb;case Gb:if(x=n.length,x){if(x>f&&(x=f),x>y&&(x=y),x===0)break e;o.set(i.subarray(l,l+x),u),f-=x,l+=x,y-=x,u+=x,n.length-=x;break}n.mode=vi;break;case Vb:for(;S<14;){if(f===0)break e;f--,w+=i[l++]<<S,S+=8}if(n.nlen=(w&31)+257,w>>>=5,S-=5,n.ndist=(w&31)+1,w>>>=5,S-=5,n.ncode=(w&15)+4,w>>>=4,S-=4,n.nlen>286||n.ndist>30){s.msg="too many length or distance symbols",n.mode=$t;break}n.have=0,n.mode=Fb;case Fb:for(;n.have<n.ncode;){for(;S<3;){if(f===0)break e;f--,w+=i[l++]<<S,S+=8}n.lens[W[n.have++]]=w&7,w>>>=3,S-=3}for(;n.have<19;)n.lens[W[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Y={bits:n.lenbits},oe=Al(yk,n.lens,0,19,n.lencode,0,n.work,Y),n.lenbits=Y.bits,oe){s.msg="invalid code lengths set",n.mode=$t;break}n.have=0,n.mode=Yb;case Yb:for(;n.have<n.nlen+n.ndist;){for(;z=n.lencode[w&(1<<n.lenbits)-1],P=z>>>24,K=z>>>16&255,G=z&65535,!(P<=S);){if(f===0)break e;f--,w+=i[l++]<<S,S+=8}if(G<16)w>>>=P,S-=P,n.lens[n.have++]=G;else{if(G===16){for($=P+2;S<$;){if(f===0)break e;f--,w+=i[l++]<<S,S+=8}if(w>>>=P,S-=P,n.have===0){s.msg="invalid bit length repeat",n.mode=$t;break}se=n.lens[n.have-1],x=3+(w&3),w>>>=2,S-=2}else if(G===17){for($=P+3;S<$;){if(f===0)break e;f--,w+=i[l++]<<S,S+=8}w>>>=P,S-=P,se=0,x=3+(w&7),w>>>=3,S-=3}else{for($=P+7;S<$;){if(f===0)break e;f--,w+=i[l++]<<S,S+=8}w>>>=P,S-=P,se=0,x=11+(w&127),w>>>=7,S-=7}if(n.have+x>n.nlen+n.ndist){s.msg="invalid bit length repeat",n.mode=$t;break}for(;x--;)n.lens[n.have++]=se}}if(n.mode===$t)break;if(n.lens[256]===0){s.msg="invalid code -- missing end-of-block",n.mode=$t;break}if(n.lenbits=9,Y={bits:n.lenbits},oe=Al(P_,n.lens,0,n.nlen,n.lencode,0,n.work,Y),n.lenbits=Y.bits,oe){s.msg="invalid literal/lengths set",n.mode=$t;break}if(n.distbits=6,n.distcode=n.distdyn,Y={bits:n.distbits},oe=Al(q_,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Y),n.distbits=Y.bits,oe){s.msg="invalid distances set",n.mode=$t;break}if(n.mode=pu,t===hu)break e;case pu:n.mode=mu;case mu:if(f>=6&&y>=258){s.next_out=u,s.avail_out=y,s.next_in=l,s.avail_in=f,n.hold=w,n.bits=S,uk(s,I),u=s.next_out,o=s.output,y=s.avail_out,l=s.next_in,i=s.input,f=s.avail_in,w=n.hold,S=n.bits,n.mode===vi&&(n.back=-1);break}for(n.back=0;z=n.lencode[w&(1<<n.lenbits)-1],P=z>>>24,K=z>>>16&255,G=z&65535,!(P<=S);){if(f===0)break e;f--,w+=i[l++]<<S,S+=8}if(K&&(K&240)===0){for(X=P,te=K,ce=G;z=n.lencode[ce+((w&(1<<X+te)-1)>>X)],P=z>>>24,K=z>>>16&255,G=z&65535,!(X+P<=S);){if(f===0)break e;f--,w+=i[l++]<<S,S+=8}w>>>=X,S-=X,n.back+=X}if(w>>>=P,S-=P,n.back+=P,n.length=G,K===0){n.mode=Qb;break}if(K&32){n.back=-1,n.mode=vi;break}if(K&64){s.msg="invalid literal/length code",n.mode=$t;break}n.extra=K&15,n.mode=Zb;case Zb:if(n.extra){for($=n.extra;S<$;){if(f===0)break e;f--,w+=i[l++]<<S,S+=8}n.length+=w&(1<<n.extra)-1,w>>>=n.extra,S-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Wb;case Wb:for(;z=n.distcode[w&(1<<n.distbits)-1],P=z>>>24,K=z>>>16&255,G=z&65535,!(P<=S);){if(f===0)break e;f--,w+=i[l++]<<S,S+=8}if((K&240)===0){for(X=P,te=K,ce=G;z=n.distcode[ce+((w&(1<<X+te)-1)>>X)],P=z>>>24,K=z>>>16&255,G=z&65535,!(X+P<=S);){if(f===0)break e;f--,w+=i[l++]<<S,S+=8}w>>>=X,S-=X,n.back+=X}if(w>>>=P,S-=P,n.back+=P,K&64){s.msg="invalid distance code",n.mode=$t;break}n.offset=G,n.extra=K&15,n.mode=$b;case $b:if(n.extra){for($=n.extra;S<$;){if(f===0)break e;f--,w+=i[l++]<<S,S+=8}n.offset+=w&(1<<n.extra)-1,w>>>=n.extra,S-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){s.msg="invalid distance too far back",n.mode=$t;break}n.mode=Xb;case Xb:if(y===0)break e;if(x=I-y,n.offset>x){if(x=n.offset-x,x>n.whave&&n.sane){s.msg="invalid distance too far back",n.mode=$t;break}x>n.wnext?(x-=n.wnext,M=n.wsize-x):M=n.wnext-x,x>n.length&&(x=n.length),L=n.window}else L=o,M=u-n.offset,x=n.length;x>y&&(x=y),y-=x,n.length-=x;do o[u++]=L[M++];while(--x);n.length===0&&(n.mode=mu);break;case Qb:if(y===0)break e;o[u++]=n.length,y--,n.mode=mu;break;case a0:if(n.wrap){for(;S<32;){if(f===0)break e;f--,w|=i[l++]<<S,S+=8}if(I-=y,s.total_out+=I,n.total+=I,n.wrap&4&&I&&(s.adler=n.check=n.flags?qr(n.check,o,I,u-I):N0(n.check,o,I,u-I)),I=y,n.wrap&4&&(n.flags?w:tw(w))!==n.check){s.msg="incorrect data check",n.mode=$t;break}w=0,S=0}n.mode=Jb;case Jb:if(n.wrap&&n.flags){for(;S<32;){if(f===0)break e;f--,w+=i[l++]<<S,S+=8}if(n.wrap&4&&w!==(n.total&4294967295)){s.msg="incorrect length check",n.mode=$t;break}w=0,S=0}n.mode=ew;case ew:oe=bk;break e;case $t:oe=K_;break e;case V_:return G_;case F_:default:return Sr}return s.next_out=u,s.avail_out=y,s.next_in=l,s.avail_in=f,n.hold=w,n.bits=S,(n.wsize||I!==s.avail_out&&n.mode<$t&&(n.mode<a0||t!==Cb))&&X_(s,s.output,s.next_out,I-s.avail_out),C-=s.avail_in,I-=s.avail_out,s.total_in+=C,s.total_out+=I,n.total+=I,n.wrap&4&&I&&(s.adler=n.check=n.flags?qr(n.check,o,I,s.next_out-I):N0(n.check,o,I,s.next_out-I)),s.data_type=n.bits+(n.last?64:0)+(n.mode===vi?128:0)+(n.mode===pu||n.mode===s0?256:0),(C===0&&I===0||t===Cb)&&oe===ra&&(oe=_k),oe},Nk=s=>{if(la(s))return Sr;let t=s.state;return t.window&&(t.window=null),s.state=null,ra},kk=(s,t)=>{if(la(s))return Sr;const n=s.state;return(n.wrap&2)===0?Sr:(n.head=t,t.done=!1,ra)},Ik=(s,t)=>{const n=t.length;let i,o,l;return la(s)||(i=s.state,i.wrap!==0&&i.mode!==Hu)?Sr:i.mode===Hu&&(o=1,o=N0(o,t,n,0),o!==i.check)?K_:(l=X_(s,t,n,n),l?(i.mode=V_,G_):(i.havedict=1,ra))};var Ck=Z_,Bk=W_,Mk=Y_,Dk=xk,Lk=$_,Uk=Ok,zk=Nk,jk=kk,Hk=Ik,Pk="pako inflate (from Nodeca project)",Ai={inflateReset:Ck,inflateReset2:Bk,inflateResetKeep:Mk,inflateInit:Dk,inflateInit2:Lk,inflate:Uk,inflateEnd:zk,inflateGetHeader:jk,inflateSetDictionary:Hk,inflateInfo:Pk};function qk(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Kk=qk;const Q_=Object.prototype.toString,{Z_NO_FLUSH:Gk,Z_FINISH:Vk,Z_OK:Bl,Z_STREAM_END:c0,Z_NEED_DICT:u0,Z_STREAM_ERROR:Fk,Z_DATA_ERROR:rw,Z_MEM_ERROR:Yk}=z_;function lf(s){this.options=j_.assign({chunkSize:1024*64,windowBits:15,to:""},s||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(s&&s.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new lk,this.strm.avail_out=0;let n=Ai.inflateInit2(this.strm,t.windowBits);if(n!==Bl)throw new Error(k0[n]);if(this.header=new Kk,Ai.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=I0.string2buf(t.dictionary):Q_.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=Ai.inflateSetDictionary(this.strm,t.dictionary),n!==Bl)))throw new Error(k0[n])}lf.prototype.push=function(s,t){const n=this.strm,i=this.options.chunkSize,o=this.options.dictionary;let l,u,f;if(this.ended)return!1;for(t===~~t?u=t:u=t===!0?Vk:Gk,Q_.call(s)==="[object ArrayBuffer]"?n.input=new Uint8Array(s):n.input=s,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),l=Ai.inflate(n,u),l===u0&&o&&(l=Ai.inflateSetDictionary(n,o),l===Bl?l=Ai.inflate(n,u):l===rw&&(l=u0));n.avail_in>0&&l===c0&&n.state.wrap>0&&s[n.next_in]!==0;)Ai.inflateReset(n),l=Ai.inflate(n,u);switch(l){case Fk:case rw:case u0:case Yk:return this.onEnd(l),this.ended=!0,!1}if(f=n.avail_out,n.next_out&&(n.avail_out===0||l===c0))if(this.options.to==="string"){let y=I0.utf8border(n.output,n.next_out),w=n.next_out-y,S=I0.buf2string(n.output,y);n.next_out=w,n.avail_out=i-w,w&&n.output.set(n.output.subarray(y,y+w),0),this.onData(S)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(l===Bl&&f===0)){if(l===c0)return l=Ai.inflateEnd(this.strm),this.onEnd(l),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};lf.prototype.onData=function(s){this.chunks.push(s)};lf.prototype.onEnd=function(s){s===Bl&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=j_.flattenChunks(this.chunks)),this.chunks=[],this.err=s,this.msg=this.strm.msg};function Zk(s,t){const n=new lf(t);if(n.push(s),n.err)throw n.msg||k0[n.err];return n.result}var Wk=Zk,$k={inflate:Wk};const{inflate:Xk}=$k;var Qk=Xk,f0={exports:{}},iw;function Jk(){return iw||(iw=1,(function(s){var t=Object.prototype.hasOwnProperty,n="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1));function o(y,w,S){this.fn=y,this.context=w,this.once=S||!1}function l(y,w,S,C,I){if(typeof S!="function")throw new TypeError("The listener must be a function");var x=new o(S,C||y,I),M=n?n+w:w;return y._events[M]?y._events[M].fn?y._events[M]=[y._events[M],x]:y._events[M].push(x):(y._events[M]=x,y._eventsCount++),y}function u(y,w){--y._eventsCount===0?y._events=new i:delete y._events[w]}function f(){this._events=new i,this._eventsCount=0}f.prototype.eventNames=function(){var w=[],S,C;if(this._eventsCount===0)return w;for(C in S=this._events)t.call(S,C)&&w.push(n?C.slice(1):C);return Object.getOwnPropertySymbols?w.concat(Object.getOwnPropertySymbols(S)):w},f.prototype.listeners=function(w){var S=n?n+w:w,C=this._events[S];if(!C)return[];if(C.fn)return[C.fn];for(var I=0,x=C.length,M=new Array(x);I<x;I++)M[I]=C[I].fn;return M},f.prototype.listenerCount=function(w){var S=n?n+w:w,C=this._events[S];return C?C.fn?1:C.length:0},f.prototype.emit=function(w,S,C,I,x,M){var L=n?n+w:w;if(!this._events[L])return!1;var z=this._events[L],P=arguments.length,K,G;if(z.fn){switch(z.once&&this.removeListener(w,z.fn,void 0,!0),P){case 1:return z.fn.call(z.context),!0;case 2:return z.fn.call(z.context,S),!0;case 3:return z.fn.call(z.context,S,C),!0;case 4:return z.fn.call(z.context,S,C,I),!0;case 5:return z.fn.call(z.context,S,C,I,x),!0;case 6:return z.fn.call(z.context,S,C,I,x,M),!0}for(G=1,K=new Array(P-1);G<P;G++)K[G-1]=arguments[G];z.fn.apply(z.context,K)}else{var X=z.length,te;for(G=0;G<X;G++)switch(z[G].once&&this.removeListener(w,z[G].fn,void 0,!0),P){case 1:z[G].fn.call(z[G].context);break;case 2:z[G].fn.call(z[G].context,S);break;case 3:z[G].fn.call(z[G].context,S,C);break;case 4:z[G].fn.call(z[G].context,S,C,I);break;default:if(!K)for(te=1,K=new Array(P-1);te<P;te++)K[te-1]=arguments[te];z[G].fn.apply(z[G].context,K)}}return!0},f.prototype.on=function(w,S,C){return l(this,w,S,C,!1)},f.prototype.once=function(w,S,C){return l(this,w,S,C,!0)},f.prototype.removeListener=function(w,S,C,I){var x=n?n+w:w;if(!this._events[x])return this;if(!S)return u(this,x),this;var M=this._events[x];if(M.fn)M.fn===S&&(!I||M.once)&&(!C||M.context===C)&&u(this,x);else{for(var L=0,z=[],P=M.length;L<P;L++)(M[L].fn!==S||I&&!M[L].once||C&&M[L].context!==C)&&z.push(M[L]);z.length?this._events[x]=z.length===1?z[0]:z:u(this,x)}return this},f.prototype.removeAllListeners=function(w){var S;return w?(S=n?n+w:w,this._events[S]&&u(this,S)):(this._events=new i,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=n,f.EventEmitter=f,s.exports=f})(f0)),f0.exports}var eI=Jk();const tI=Ci(eI);function nI(s,t){return Array.apply(0,new Array(Math.ceil(s.length/t))).map((n,i)=>s.slice(i*t,(i+1)*t))}const Ps=s=>"version"in s;function rI(s){return s.reduce((t,n)=>t+n.toString(16).padStart(2,"0"),"0x")}function iI(s){s.indexOf("0x")===0&&(s=s.substr(2)),s.length%2===1&&(s="0"+s);let t=s.match(/.{2}/g);return t===null?je.Buffer.from([]):je.Buffer.from(t.map(n=>parseInt(n,16)))}var sI=Object.freeze({__proto__:null,encode:rI,decode:iI});function J_(s){return new TextDecoder("utf-8").decode(s)}function aI(s){return new TextEncoder().encode(s)}var oI=Object.freeze({__proto__:null,decode:J_,encode:aI});function C0(s){return af.encode(s)}function lI(s){return af.decode(s)}var cI=Object.freeze({__proto__:null,encode:C0,decode:lI});function uI(s){return s.toString("base64")}function wp(s){return je.Buffer.from(s,"base64")}var fI=Object.freeze({__proto__:null,encode:uI,decode:wp}),dI=Object.freeze({__proto__:null,hex:sI,utf8:oI,bs58:cI,base64:fI});function hs(s){return"accounts"in s}async function hI(s){const t=(await _e.findProgramAddress([],s))[0];return await _e.createWithSeed(t,pI(),s)}function pI(){return"anchor:idl"}const mI=st.struct([st.publicKey("authority"),st.vecU8("data")]);function yI(s){return mI.decode(s)}function gI(s){const t=["name","path","account","relations","generic"],n=l=>l.split(".").map(u=>LN(u,{locale:!1})).join("."),i=l=>{for(const u in l){const f=l[u];t.includes(u)?l[u]=Array.isArray(f)?f.map(n):n(f):typeof f=="object"&&i(f)}},o=structuredClone(s);return i(o),o}function ro(s,t,n,i){return s?.length?s[0].name?n(s):i(s):t()}function bI(s){const t=new Map;return s.errors&&s.errors.forEach(n=>{var i;let o=(i=n.msg)!==null&&i!==void 0?i:n.name;t.set(n.code,o)}),t}function wI(s,...t){if(s.args.length!=t.length)throw new Error("Invalid argument length");const n={};let i=0;return s.args.forEach(o=>{n[o.name]=t[i],i+=1}),n}function ev(s,t={}){s.forEach(n=>{if(hs(n))ev(n.accounts,t[n.name]);else if(!t[n.name])throw new Error(`Account \`${n.name}\` not provided.`)})}function Er(s){return s instanceof _e?s:new _e(s)}class _I extends TypeError{constructor(t,n){let i;const{message:o,...l}=t,{path:u}=t,f=u.length===0?o:"At path: "+u.join(".")+" -- "+o;super(f),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,l),this.name=this.constructor.name,this.failures=()=>{var y;return(y=i)!=null?y:i=[t,...n()]}}}function vI(s){return lo(s)&&typeof s[Symbol.iterator]=="function"}function lo(s){return typeof s=="object"&&s!=null}function Es(s){return typeof s=="string"?JSON.stringify(s):""+s}function EI(s){const{done:t,value:n}=s.next();return t?void 0:n}function SI(s,t,n,i){if(s===!0)return;s===!1?s={}:typeof s=="string"&&(s={message:s});const{path:o,branch:l}=t,{type:u}=n,{refinement:f,message:y="Expected a value of type `"+u+"`"+(f?" with refinement `"+f+"`":"")+", but received: `"+Es(i)+"`"}=s;return{value:i,type:u,refinement:f,key:o[o.length-1],path:o,branch:l,...s,message:y}}function*sw(s,t,n,i){vI(s)||(s=[s]);for(const o of s){const l=SI(o,t,n,i);l&&(yield l)}}function*_p(s,t,n){n===void 0&&(n={});const{path:i=[],branch:o=[s],coerce:l=!1,mask:u=!1}=n,f={path:i,branch:o};if(l&&(s=t.coercer(s,f),u&&t.type!=="type"&&lo(t.schema)&&lo(s)&&!Array.isArray(s)))for(const w in s)t.schema[w]===void 0&&delete s[w];let y=!0;for(const w of t.validator(s,f))y=!1,yield[w,void 0];for(let[w,S,C]of t.entries(s,f)){const I=_p(S,C,{path:w===void 0?i:[...i,w],branch:w===void 0?o:[...o,S],coerce:l,mask:u});for(const x of I)x[0]?(y=!1,yield[x[0],void 0]):l&&(S=x[1],w===void 0?s=S:s instanceof Map?s.set(w,S):s instanceof Set?s.add(S):lo(s)&&(s[w]=S))}if(y)for(const w of t.refiner(s,f))y=!1,yield[w,void 0];y&&(yield[void 0,s])}class Ss{constructor(t){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:n,schema:i,validator:o,refiner:l,coercer:u=y=>y,entries:f=function*(){}}=t;this.type=n,this.schema=i,this.entries=f,this.coercer=u,o?this.validator=(y,w)=>{const S=o(y,w);return sw(S,w,this,y)}:this.validator=()=>[],l?this.refiner=(y,w)=>{const S=l(y,w);return sw(S,w,this,y)}:this.refiner=()=>[]}assert(t){return AI(t,this)}create(t){return vp(t,this)}is(t){return tv(t,this)}mask(t){return RI(t,this)}validate(t,n){return n===void 0&&(n={}),ql(t,this,n)}}function AI(s,t){const n=ql(s,t);if(n[0])throw n[0]}function vp(s,t){const n=ql(s,t,{coerce:!0});if(n[0])throw n[0];return n[1]}function RI(s,t){const n=ql(s,t,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}function tv(s,t){return!ql(s,t)[0]}function ql(s,t,n){n===void 0&&(n={});const i=_p(s,t,n),o=EI(i);return o[0]?[new _I(o[0],function*(){for(const u of i)u[0]&&(yield u[0])}),void 0]:[void 0,o[1]]}function Kl(s,t){return new Ss({type:s,schema:null,validator:t})}function xI(){return Kl("any",()=>!0)}function d0(s){return new Ss({type:"array",schema:s,*entries(t){if(s&&Array.isArray(t))for(const[n,i]of t.entries())yield[n,i,s]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||"Expected an array value, but received: "+Es(t)}})}function TI(){return Kl("boolean",s=>typeof s=="boolean")}function aw(s){const t=Es(s);return new Ss({type:"literal",schema:s,validator(n){return n===s||"Expected the literal `"+t+"`, but received: "+Es(n)}})}function yu(s){return new Ss({...s,validator:(t,n)=>t===null||s.validator(t,n),refiner:(t,n)=>t===null||s.refiner(t,n)})}function Tu(){return Kl("number",s=>typeof s=="number"&&!isNaN(s)||"Expected a number, but received: "+Es(s))}function Ou(s){return new Ss({...s,validator:(t,n)=>t===void 0||s.validator(t,n),refiner:(t,n)=>t===void 0||s.refiner(t,n)})}function Xs(){return Kl("string",s=>typeof s=="string"||"Expected a string, but received: "+Es(s))}function bs(s){const t=Object.keys(s);return new Ss({type:"type",schema:s,*entries(n){if(lo(n))for(const i of t)yield[i,n[i],s[i]]},validator(n){return lo(n)||"Expected an object, but received: "+Es(n)}})}function nv(s){const t=s.map(n=>n.type).join(" | ");return new Ss({type:"union",schema:null,coercer(n,i){return(s.find(l=>{const[u]=l.validate(n,{coerce:!0});return!u})||Ep()).coercer(n,i)},validator(n,i){const o=[];for(const l of s){const[...u]=_p(n,l,i),[f]=u;if(f[0])for(const[y]of u)y&&o.push(y);else return[]}return["Expected the value to satisfy a union of `"+t+"`, but received: "+Es(n),...o]}})}function Ep(){return Kl("unknown",()=>!0)}function OI(s,t,n){return new Ss({...s,coercer:(i,o)=>tv(i,t)?s.coercer(n(i,o),o):s.coercer(i,o)})}async function NI(s,t,n,i){s=Er(s),i||(i=Pu());const o=new vt;if(o.add(new Mt({programId:s,keys:t??[],data:n})),i.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");return await i.sendAndConfirm(o,[])}const ow=99;async function kI(s,t,n){return(await Sp(s,t,n)).map(o=>o?{publicKey:o.publicKey,account:o.account}:null)}async function Sp(s,t,n){if(t.length<=ow)return await lw(s,t,n);{const i=nI(t,ow);return(await Promise.all(i.map(l=>lw(s,l,n)))).flat()}}async function lw(s,t,n){const i=n??s.commitment,{value:o,context:l}=await s.getMultipleAccountsInfoAndContext(t,i);return o.map((f,y)=>f===null?null:{publicKey:t[y],account:f,context:l})}async function rv(s,t,n,i,o){var l;n&&n.length>0&&t.sign(...n);const u=t._compile(),f=u.serialize(),w=t._serialize(f).toString("base64"),S={encoding:"base64",commitment:i??s.commitment};if(o){const M=(Array.isArray(o)?o:u.nonProgramIds()).map(L=>L.toBase58());S.accounts={encoding:"base64",addresses:M}}n&&n.length>0&&(S.sigVerify=!0);const C=[w,S],I=await s._rpcRequest("simulateTransaction",C),x=vp(I,MI);if("error"in x){let M;if("data"in x.error&&(M=(l=x.error.data)===null||l===void 0?void 0:l.logs,M&&Array.isArray(M))){const L=`
    `,z=L+M.join(L);console.error(x.error.message,z)}throw new vs("failed to simulate transaction: "+x.error.message,M)}return x.result}function II(s){return OI(iv(s),CI,t=>"error"in t?t:{...t,result:vp(t.result,s)})}const CI=iv(Ep());function iv(s){return nv([bs({jsonrpc:aw("2.0"),id:Xs(),result:s}),bs({jsonrpc:aw("2.0"),id:Xs(),error:bs({code:Ep(),message:Xs(),data:Ou(xI())})})])}function BI(s){return II(bs({context:bs({slot:Tu()}),value:s}))}const MI=BI(bs({err:yu(nv([bs({}),Xs()])),logs:yu(d0(Xs())),accounts:Ou(yu(d0(yu(bs({executable:TI(),owner:Xs(),lamports:Tu(),data:d0(Xs()),rentEpoch:Ou(Tu())}))))),unitsConsumed:Ou(Tu())}));var DI=Object.freeze({__proto__:null,invoke:NI,getMultipleAccounts:kI,getMultipleAccountsAndContext:Sp,simulateTransaction:rv});class Ml{constructor(t,n,i=Ml.defaultOptions()){this.connection=t,this.wallet=n,this.opts=i,this.publicKey=n?.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(t,n=Ml.defaultOptions()){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(t,n,i){var o,l,u,f;if(i===void 0&&(i=this.opts),Ps(t))n&&t.sign(n);else if(t.feePayer=(o=t.feePayer)!==null&&o!==void 0?o:this.wallet.publicKey,t.recentBlockhash=(await this.connection.getLatestBlockhash(i.preflightCommitment)).blockhash,n)for(const w of n)t.partialSign(w);t=await this.wallet.signTransaction(t);const y=t.serialize();try{return await cw(this.connection,y,i)}catch(w){if(w instanceof B0){const S=C0(Ps(t)?((l=t.signatures)===null||l===void 0?void 0:l[0])||new Uint8Array:(u=t.signature)!==null&&u!==void 0?u:new Uint8Array),C=Ps(t)?0:void 0,I=await this.connection.getTransaction(S,{commitment:"confirmed",maxSupportedTransactionVersion:C});if(I){const x=(f=I.meta)===null||f===void 0?void 0:f.logMessages;throw x?new vs(w.message,x):w}else throw w}else throw w}}async sendAll(t,n){var i,o,l;n===void 0&&(n=this.opts);const u=(await this.connection.getLatestBlockhash(n.preflightCommitment)).blockhash;let f=t.map(S=>{var C,I;if(Ps(S.tx)){let x=S.tx;return S.signers&&x.sign(S.signers),x}else{let x=S.tx,M=(C=S.signers)!==null&&C!==void 0?C:[];return x.feePayer=(I=x.feePayer)!==null&&I!==void 0?I:this.wallet.publicKey,x.recentBlockhash=u,M.forEach(L=>{x.partialSign(L)}),x}});const y=await this.wallet.signAllTransactions(f),w=[];for(let S=0;S<f.length;S+=1){const C=y[S],I=C.serialize();try{w.push(await cw(this.connection,I,n))}catch(x){if(x instanceof B0){const M=C0(Ps(C)?((i=C.signatures)===null||i===void 0?void 0:i[0])||new Uint8Array:(o=C.signature)!==null&&o!==void 0?o:new Uint8Array),L=Ps(C)?0:void 0,z=await this.connection.getTransaction(M,{commitment:"confirmed",maxSupportedTransactionVersion:L});if(z){const P=(l=z.meta)===null||l===void 0?void 0:l.logMessages;throw P?new vs(x.message,P):x}else throw x}else throw x}}return w}async simulate(t,n,i,o){let l=(await this.connection.getLatestBlockhash(i??this.connection.commitment)).blockhash,u;if(Ps(t)?(n&&n.length>0&&(t.sign(n),t=await this.wallet.signTransaction(t)),u=await this.connection.simulateTransaction(t,{commitment:i})):(t.feePayer=t.feePayer||this.wallet.publicKey,t.recentBlockhash=l,n&&n.length>0&&(t=await this.wallet.signTransaction(t)),u=await rv(this.connection,t,n,i,o)),u.value.err)throw new LI(u.value);return u.value}}class LI extends Error{constructor(t,n){super(n),this.simulationResponse=t}}async function cw(s,t,n){const i=n?{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot}:{};let o;const l=Date.now();for(;Date.now()-l<6e4;)try{const u=await s.sendRawTransaction(t,i);if(n?.blockhash)if(i.maxRetries===0){const f=AbortSignal.timeout(15e3);o=(await s.confirmTransaction({abortSignal:f,signature:u,...n.blockhash},n&&n.commitment)).value}else o=(await s.confirmTransaction({signature:u,...n.blockhash},n&&n.commitment)).value;else o=(await s.confirmTransaction(u,n&&n.commitment)).value;if(o.err)throw new B0(`Raw transaction ${u} failed (${JSON.stringify(o)})`);return u}catch(u){if(u.name==="TimeoutError")continue;throw u}throw Error("Transaction failed to confirm in 60s")}class B0 extends Error{constructor(t){super(t)}}function Pu(){return Ml.local()}var UI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zI(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var he={};Object.defineProperty(he,"__esModule",{value:!0});var sv=he.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=tE=he.ANCHOR_ERROR__REQUIRE_VIOLATED=eE=he.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=Jv=he.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=Qv=he.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=Xv=he.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=$v=he.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=Wv=he.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=Zv=he.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=Yv=he.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=Fv=he.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=Vv=he.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=Gv=he.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=Kv=he.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=qv=he.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=Pv=he.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=Hv=he.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=jv=he.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=zv=he.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=Uv=he.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=Lv=he.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=Dv=he.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=Mv=he.ANCHOR_ERROR__CONSTRAINT_SPACE=Bv=he.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=Cv=he.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=Iv=he.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=kv=he.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=Nv=he.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=Ov=he.ANCHOR_ERROR__CONSTRAINT_ZERO=Tv=he.ANCHOR_ERROR__CONSTRAINT_ADDRESS=xv=he.ANCHOR_ERROR__CONSTRAINT_CLOSE=Rv=he.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=Av=he.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=Sv=he.ANCHOR_ERROR__CONSTRAINT_STATE=Ev=he.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=vv=he.ANCHOR_ERROR__CONSTRAINT_SEEDS=_v=he.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=wv=he.ANCHOR_ERROR__CONSTRAINT_OWNER=bv=he.ANCHOR_ERROR__CONSTRAINT_RAW=gv=he.ANCHOR_ERROR__CONSTRAINT_SIGNER=yv=he.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=mv=he.ANCHOR_ERROR__CONSTRAINT_MUT=pv=he.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=hv=he.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=dv=he.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=fv=he.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=uv=he.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=cv=he.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=lv=he.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=ov=he.ANCHOR_ERROR__INSTRUCTION_MISSING=void 0,av=he.ANCHOR_ERROR__DEPRECATED=TE=he.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=xE=he.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=RE=he.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=AE=he.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=SE=he.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=EE=he.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=vE=he.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=_E=he.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=wE=he.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=bE=he.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=gE=he.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=yE=he.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=mE=he.ANCHOR_ERROR__INVALID_PROGRAM_ID=pE=he.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=hE=he.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=dE=he.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=fE=he.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=uE=he.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=cE=he.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=lE=he.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=oE=he.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=aE=he.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=sE=he.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=iE=he.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=rE=he.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=nE=he.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=void 0,ov=he.ANCHOR_ERROR__INSTRUCTION_MISSING=100,lv=he.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=101,cv=he.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=102,uv=he.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=103,fv=he.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=1e3,dv=he.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=1001,hv=he.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=1002,pv=he.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=1500,mv=he.ANCHOR_ERROR__CONSTRAINT_MUT=2e3,yv=he.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=2001,gv=he.ANCHOR_ERROR__CONSTRAINT_SIGNER=2002,bv=he.ANCHOR_ERROR__CONSTRAINT_RAW=2003,wv=he.ANCHOR_ERROR__CONSTRAINT_OWNER=2004,_v=he.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=2005,vv=he.ANCHOR_ERROR__CONSTRAINT_SEEDS=2006,Ev=he.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=2007,Sv=he.ANCHOR_ERROR__CONSTRAINT_STATE=2008,Av=he.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=2009,Rv=he.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=2010,xv=he.ANCHOR_ERROR__CONSTRAINT_CLOSE=2011,Tv=he.ANCHOR_ERROR__CONSTRAINT_ADDRESS=2012,Ov=he.ANCHOR_ERROR__CONSTRAINT_ZERO=2013,Nv=he.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=2014,kv=he.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=2015,Iv=he.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=2016,Cv=he.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=2017,Bv=he.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=2018,Mv=he.ANCHOR_ERROR__CONSTRAINT_SPACE=2019,Dv=he.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=2020,Lv=he.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=2021,Uv=he.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=2022,zv=he.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=2023,jv=he.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=2024,Hv=he.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=2025,Pv=he.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=2026,qv=he.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=2027,Kv=he.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=2028,Gv=he.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=2029,Vv=he.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=2030,Fv=he.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=2031,Yv=he.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=2032,Zv=he.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=2033,Wv=he.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=2034,$v=he.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=2035,Xv=he.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=2036,Qv=he.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=2037,Jv=he.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=2038,eE=he.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=2039,tE=he.ANCHOR_ERROR__REQUIRE_VIOLATED=2500;sv=he.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=2501;var nE=he.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=2502,rE=he.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=2503,iE=he.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=2504,sE=he.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=2505,aE=he.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=2506,oE=he.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=3e3,lE=he.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=3001,cE=he.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=3002,uE=he.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=3003,fE=he.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=3004,dE=he.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=3005,hE=he.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=3006,pE=he.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=3007,mE=he.ANCHOR_ERROR__INVALID_PROGRAM_ID=3008,yE=he.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=3009,gE=he.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=3010,bE=he.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=3011,wE=he.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=3012,_E=he.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=3013,vE=he.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=3014,EE=he.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=3015,SE=he.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=3016,AE=he.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=3017,RE=he.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=4100,xE=he.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=4101,TE=he.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=4102;av=he.ANCHOR_ERROR__DEPRECATED=5e3;const jI=new Set(["debug-logs"]),OE=new Map;function HI(s){if(!jI.has(s))throw new Error("Invalid feature");OE.set(s,!0)}function Ap(s){return OE.get(s)!==void 0}var PI=Object.freeze({__proto__:null,set:HI,isSet:Ap});class ds extends Error{constructor(t){super(t),this.name="IdlError"}}class Gl{constructor(t){this.stack=t}static parse(t){var n;const i=/^Program (\w*) invoke/,o=/^Program \w* success/,l=[];for(let u=0;u<t.length;u++){if(o.exec(t[u])){l.pop();continue}const f=(n=i.exec(t[u]))===null||n===void 0?void 0:n[1];f&&l.push(new _e(f))}return new Gl(l)}}class Rl extends Error{constructor(t,n,i,o,l,u){super(i.join(`
`).replace("Program log: ","")),this.errorLogs=i,this.logs=o,this.error={errorCode:t,errorMessage:n,comparedValues:u,origin:l},this._programErrorStack=Gl.parse(o)}static parse(t){if(!t)return null;const n=t.findIndex(I=>I.startsWith("Program log: AnchorError"));if(n===-1)return null;const i=t[n],o=[i];let l;if(n+1<t.length){if(t[n+1]==="Program log: Left:"){const I=/^Program log: (.*)$/,x=I.exec(t[n+2])[1],M=I.exec(t[n+4])[1];l=[new _e(x),new _e(M)],o.push(...t.slice(n+1,n+5))}else if(t[n+1].startsWith("Program log: Left:")){const I=/^Program log: (Left|Right): (.*)$/,x=I.exec(t[n+1])[2],M=I.exec(t[n+2])[2];o.push(...t.slice(n+1,n+3)),l=[x,M]}}const f=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(i),w=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(i),C=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(i);if(f){const[I,x,M]=f.slice(1,4),L={code:I,number:parseInt(x)};return new Rl(L,M,o,t,void 0,l)}else if(w){const[I,x,M,L,z]=w.slice(1,6),P={code:M,number:parseInt(L)},K={file:I,line:parseInt(x)};return new Rl(P,z,o,t,K,l)}else if(C){const[I,x,M,L]=C.slice(1,5),z=I,P={code:x,number:parseInt(M)};return new Rl(P,L,o,t,z,l)}else return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class qu extends Error{constructor(t,n,i){super(),this.code=t,this.msg=n,this.logs=i,i&&(this._programErrorStack=Gl.parse(i))}static parse(t,n){const i=t.toString();let o;if(i.includes("custom program error:")){let f=i.split("custom program error: ");if(f.length!==2)return null;o=f[1]}else{const f=i.match(/"Custom":([0-9]+)}/g);if(!f||f.length>1)return null;o=f[0].match(/([0-9]+)/g)[0]}let l;try{l=parseInt(o)}catch{return null}let u=n.get(l);return u!==void 0?new qu(l,u,t.logs):(u=qI.get(l),u!==void 0?new qu(l,u,t.logs):null)}get program(){var t;return(t=this._programErrorStack)===null||t===void 0?void 0:t.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var t;return(t=this._programErrorStack)===null||t===void 0?void 0:t.stack}toString(){return this.msg}}function NE(s,t){Ap("debug-logs")&&console.log("Translating error:",s);const n=Rl.parse(s.logs);if(n)return n;const i=qu.parse(s,t);if(i)return i;if(s.logs){const o={get:function(l,u){return u==="programErrorStack"?l.programErrorStack.stack:u==="program"?l.programErrorStack.stack[s.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return s.programErrorStack=Gl.parse(s.logs),new Proxy(s,o)}return s}const Be={InstructionMissing:ov,InstructionFallbackNotFound:lv,InstructionDidNotDeserialize:cv,InstructionDidNotSerialize:uv,IdlInstructionStub:fv,IdlInstructionInvalidProgram:dv,IdlAccountNotEmpty:hv,EventInstructionStub:pv,ConstraintMut:mv,ConstraintHasOne:yv,ConstraintSigner:gv,ConstraintRaw:bv,ConstraintOwner:wv,ConstraintRentExempt:_v,ConstraintSeeds:vv,ConstraintExecutable:Ev,ConstraintState:Sv,ConstraintAssociated:Av,ConstraintAssociatedInit:Rv,ConstraintClose:xv,ConstraintAddress:Tv,ConstraintZero:Ov,ConstraintTokenMint:Nv,ConstraintTokenOwner:kv,ConstraintMintMintAuthority:Iv,ConstraintMintFreezeAuthority:Cv,ConstraintMintDecimals:Bv,ConstraintSpace:Mv,ConstraintAccountIsNone:Dv,ConstraintTokenTokenProgram:Lv,ConstraintMintTokenProgram:Uv,ConstraintAssociatedTokenTokenProgram:zv,ConstraintMintGroupPointerExtension:jv,ConstraintMintGroupPointerExtensionAuthority:Hv,ConstraintMintGroupPointerExtensionGroupAddress:Pv,ConstraintMintGroupMemberPointerExtension:qv,ConstraintMintGroupMemberPointerExtensionAuthority:Kv,ConstraintMintGroupMemberPointerExtensionMemberAddress:Gv,ConstraintMintMetadataPointerExtension:Vv,ConstraintMintMetadataPointerExtensionAuthority:Fv,ConstraintMintMetadataPointerExtensionMetadataAddress:Yv,ConstraintMintCloseAuthorityExtension:Zv,ConstraintMintCloseAuthorityExtensionAuthority:Wv,ConstraintMintPermanentDelegateExtension:$v,ConstraintMintPermanentDelegateExtensionDelegate:Xv,ConstraintMintTransferHookExtension:Qv,ConstraintMintTransferHookExtensionAuthority:Jv,ConstraintMintTransferHookExtensionProgramId:eE,RequireViolated:tE,RequireEqViolated:sv,RequireKeysEqViolated:nE,RequireNeqViolated:rE,RequireKeysNeqViolated:iE,RequireGtViolated:sE,RequireGteViolated:aE,AccountDiscriminatorAlreadySet:oE,AccountDiscriminatorNotFound:lE,AccountDiscriminatorMismatch:cE,AccountDidNotDeserialize:uE,AccountDidNotSerialize:fE,AccountNotEnoughKeys:dE,AccountNotMutable:hE,AccountOwnedByWrongProgram:pE,InvalidProgramId:mE,InvalidProgramExecutable:yE,AccountNotSigner:gE,AccountNotSystemOwned:bE,AccountNotInitialized:wE,AccountNotProgramData:_E,AccountNotAssociatedTokenAccount:vE,AccountSysvarMismatch:EE,AccountReallocExceedsLimit:SE,AccountDuplicateReallocs:AE,DeclaredProgramIdMismatch:RE,TryingToInitPayerAsProgramAccount:xE,InvalidNumericConversion:TE,Deprecated:av},qI=new Map([[Be.InstructionMissing,"Instruction discriminator not provided"],[Be.InstructionFallbackNotFound,"Fallback functions are not supported"],[Be.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[Be.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[Be.IdlInstructionStub,"The program was compiled without idl instructions"],[Be.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[Be.IdlAccountNotEmpty,"IDL account must be empty in order to resize, try closing first"],[Be.EventInstructionStub,"The program was compiled without `event-cpi` feature"],[Be.ConstraintMut,"A mut constraint was violated"],[Be.ConstraintHasOne,"A has one constraint was violated"],[Be.ConstraintSigner,"A signer constraint was violated"],[Be.ConstraintRaw,"A raw constraint was violated"],[Be.ConstraintOwner,"An owner constraint was violated"],[Be.ConstraintRentExempt,"A rent exemption constraint was violated"],[Be.ConstraintSeeds,"A seeds constraint was violated"],[Be.ConstraintExecutable,"An executable constraint was violated"],[Be.ConstraintState,"Deprecated Error, feel free to replace with something else"],[Be.ConstraintAssociated,"An associated constraint was violated"],[Be.ConstraintAssociatedInit,"An associated init constraint was violated"],[Be.ConstraintClose,"A close constraint was violated"],[Be.ConstraintAddress,"An address constraint was violated"],[Be.ConstraintZero,"Expected zero account discriminant"],[Be.ConstraintTokenMint,"A token mint constraint was violated"],[Be.ConstraintTokenOwner,"A token owner constraint was violated"],[Be.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[Be.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[Be.ConstraintMintDecimals,"A mint decimals constraint was violated"],[Be.ConstraintSpace,"A space constraint was violated"],[Be.ConstraintAccountIsNone,"A required account for the constraint is None"],[Be.ConstraintTokenTokenProgram,"A token account token program constraint was violated"],[Be.ConstraintMintTokenProgram,"A mint token program constraint was violated"],[Be.ConstraintAssociatedTokenTokenProgram,"An associated token account token program constraint was violated"],[Be.ConstraintMintGroupPointerExtension,"A group pointer extension constraint was violated"],[Be.ConstraintMintGroupPointerExtensionAuthority,"A group pointer extension authority constraint was violated"],[Be.ConstraintMintGroupPointerExtensionGroupAddress,"A group pointer extension group address constraint was violated"],[Be.ConstraintMintGroupMemberPointerExtension,"A group member pointer extension constraint was violated"],[Be.ConstraintMintGroupMemberPointerExtensionAuthority,"A group member pointer extension authority constraint was violated"],[Be.ConstraintMintGroupMemberPointerExtensionMemberAddress,"A group member pointer extension group address constraint was violated"],[Be.ConstraintMintMetadataPointerExtension,"A metadata pointer extension constraint was violated"],[Be.ConstraintMintMetadataPointerExtensionAuthority,"A metadata pointer extension authority constraint was violated"],[Be.ConstraintMintMetadataPointerExtensionMetadataAddress,"A metadata pointer extension metadata address constraint was violated"],[Be.ConstraintMintCloseAuthorityExtension,"A close authority constraint was violated"],[Be.ConstraintMintCloseAuthorityExtensionAuthority,"A close authority extension authority constraint was violated"],[Be.ConstraintMintPermanentDelegateExtension,"A permanent delegate extension constraint was violated"],[Be.ConstraintMintPermanentDelegateExtensionDelegate,"A permanent delegate extension delegate constraint was violated"],[Be.ConstraintMintTransferHookExtension,"A transfer hook extension constraint was violated"],[Be.ConstraintMintTransferHookExtensionAuthority,"A transfer hook extension authority constraint was violated"],[Be.ConstraintMintTransferHookExtensionProgramId,"A transfer hook extension transfer hook program id constraint was violated"],[Be.RequireViolated,"A require expression was violated"],[Be.RequireEqViolated,"A require_eq expression was violated"],[Be.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[Be.RequireNeqViolated,"A require_neq expression was violated"],[Be.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[Be.RequireGtViolated,"A require_gt expression was violated"],[Be.RequireGteViolated,"A require_gte expression was violated"],[Be.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[Be.AccountDiscriminatorNotFound,"No discriminator was found on the account"],[Be.AccountDiscriminatorMismatch,"Account discriminator did not match what was expected"],[Be.AccountDidNotDeserialize,"Failed to deserialize the account"],[Be.AccountDidNotSerialize,"Failed to serialize the account"],[Be.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[Be.AccountNotMutable,"The given account is not mutable"],[Be.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[Be.InvalidProgramId,"Program ID was not as expected"],[Be.InvalidProgramExecutable,"Program account is not executable"],[Be.AccountNotSigner,"The given account did not sign"],[Be.AccountNotSystemOwned,"The given account is not owned by the system program"],[Be.AccountNotInitialized,"The program expected this account to be already initialized"],[Be.AccountNotProgramData,"The given account is not a program data account"],[Be.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[Be.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[Be.AccountReallocExceedsLimit,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[Be.AccountDuplicateReallocs,"The account was duplicated for more than one reallocation"],[Be.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[Be.TryingToInitPayerAsProgramAccount,"You cannot/should not initialize the payer account as a program account"],[Be.InvalidNumericConversion,"The program could not perform the numeric conversion, out of range integral type conversion attempted"],[Be.Deprecated,"The API being used is deprecated and should no longer be used"]]);class bt{static fieldLayout(t,n=[],i){const o=t.name;switch(t.type){case"bool":return st.bool(o);case"u8":return st.u8(o);case"i8":return st.i8(o);case"u16":return st.u16(o);case"i16":return st.i16(o);case"u32":return st.u32(o);case"i32":return st.i32(o);case"f32":return st.f32(o);case"u64":return st.u64(o);case"i64":return st.i64(o);case"f64":return st.f64(o);case"u128":return st.u128(o);case"i128":return st.i128(o);case"u256":return st.u256(o);case"i256":return st.i256(o);case"bytes":return st.vecU8(o);case"string":return st.str(o);case"pubkey":return st.publicKey(o);default:{if("option"in t.type)return st.option(bt.fieldLayout({type:t.type.option},n,i),o);if("vec"in t.type)return st.vec(bt.fieldLayout({type:t.type.vec},n,i),o);if("array"in t.type){let[l,u]=t.type.array;return u=bt.resolveArrayLen(u,i),st.array(bt.fieldLayout({type:l},n,i),u,o)}if("defined"in t.type){if(!n)throw new ds("User defined types not provided");const l=t.type.defined.name,u=n.find(f=>f.name===l);if(!u)throw new ds(`Type not found: ${t.name}`);return bt.typeDefLayout({typeDef:u,types:n,genericArgs:i??t.type.defined.generics,name:o})}if("generic"in t.type){const l=i?.at(0);if(l?.kind!=="type")throw new ds(`Invalid generic field: ${t.name}`);return bt.fieldLayout({...t,type:l.type},n)}throw new ds(`Not yet implemented: ${JSON.stringify(t.type)}`)}}}static typeDefLayout({typeDef:t,types:n,name:i,genericArgs:o}){switch(t.type.kind){case"struct":{const l=ro(t.type.fields,()=>[],u=>u.map(f=>{const y=o&&bt.resolveGenericArgs({type:f.type,typeDef:t,genericArgs:o});return bt.fieldLayout(f,n,y)}),u=>u.map((f,y)=>{const w=o&&bt.resolveGenericArgs({type:f,typeDef:t,genericArgs:o});return bt.fieldLayout({name:y.toString(),type:f},n,w)}));return st.struct(l,i)}case"enum":{const l=t.type.variants.map(u=>{const f=ro(u.fields,()=>[],y=>y.map(w=>{const S=o&&bt.resolveGenericArgs({type:w.type,typeDef:t,genericArgs:o});return bt.fieldLayout(w,n,S)}),y=>y.map((w,S)=>{const C=o&&bt.resolveGenericArgs({type:w,typeDef:t,genericArgs:o});return bt.fieldLayout({name:S.toString(),type:w},n,C)}));return st.struct(f,u.name)});return i!==void 0?st.rustEnum(l).replicate(i):st.rustEnum(l,i)}case"type":return bt.fieldLayout({type:t.type.alias,name:i},n)}}static typeSize(t,n,i){var o;switch(t){case"bool":return 1;case"u8":return 1;case"i8":return 1;case"i16":return 2;case"u16":return 2;case"u32":return 4;case"i32":return 4;case"f32":return 4;case"u64":return 8;case"i64":return 8;case"f64":return 8;case"u128":return 16;case"i128":return 16;case"u256":return 32;case"i256":return 32;case"bytes":return 1;case"string":return 1;case"pubkey":return 32;default:if("option"in t)return 1+bt.typeSize(t.option,n,i);if("coption"in t)return 4+bt.typeSize(t.coption,n,i);if("vec"in t)return 1;if("array"in t){let[l,u]=t.array;return u=bt.resolveArrayLen(u,i),bt.typeSize(l,n,i)*u}if("defined"in t){const l=(o=n.types)===null||o===void 0?void 0:o.find(f=>f.name===t.defined.name);if(!l)throw new ds(`Type not found: ${JSON.stringify(t)}`);const u=f=>{const y=i??t.defined.generics,w=y&&bt.resolveGenericArgs({type:f,typeDef:l,genericArgs:y});return bt.typeSize(f,n,w)};switch(l.type.kind){case"struct":return ro(l.type.fields,()=>[0],f=>f.map(y=>u(y.type)),f=>f.map(y=>u(y))).reduce((f,y)=>f+y,0);case"enum":{const f=l.type.variants.map(y=>ro(y.fields,()=>[0],w=>w.map(S=>u(S.type)),w=>w.map(S=>u(S))).reduce((w,S)=>w+S,0));return Math.max(...f)+1}case"type":return bt.typeSize(l.type.alias,n,i)}}if("generic"in t){const l=i?.at(0);if(l?.kind!=="type")throw new ds(`Invalid generic: ${t.generic}`);return bt.typeSize(l.type,n,i)}throw new Error(`Invalid type ${JSON.stringify(t)}`)}}static resolveArrayLen(t,n){if(typeof t=="number")return t;if(n){const i=n.find(o=>o.kind==="const");i?.kind==="const"&&(t=+i.value)}if(typeof t!="number")throw new ds("Generic array length did not resolve");return t}static resolveGenericArgs({type:t,typeDef:n,genericArgs:i,isDefined:o}){if(typeof t!="object")return null;for(const l in n.generics){const u=n.generics[l];if("generic"in t&&u.name===t.generic)return[i[l]];if("option"in t){const f=bt.resolveGenericArgs({type:t.option,typeDef:n,genericArgs:i,isDefined:o});if(!f||!o)return f;if(f[0].kind==="type")return[{kind:"type",type:{option:f[0].type}}]}if("vec"in t){const f=bt.resolveGenericArgs({type:t.vec,typeDef:n,genericArgs:i,isDefined:o});if(!f||!o)return f;if(f[0].kind==="type")return[{kind:"type",type:{vec:f[0].type}}]}if("array"in t){const[f,y]=t.array,w=typeof y=="object",S=bt.resolveGenericArgs({type:f,typeDef:n,genericArgs:i,isDefined:o})||[];if(w){const C=n.generics.findIndex(I=>I.name===y.generic);C!==-1&&S.push(i[C])}if(S.length>0){if(!o)return S;if(S[0].kind==="type"&&S[1].kind==="const")return[{kind:"type",type:{array:[S[0].type,+S[1].value]}}]}if(w&&u.name===y.generic){const C=i[l];return o?[{kind:"type",type:{array:[f,+C.value]}}]:[C]}return null}if("defined"in t)return t.defined.generics?t.defined.generics.flatMap(f=>{switch(f.kind){case"type":return bt.resolveGenericArgs({type:f.type,typeDef:n,genericArgs:i,isDefined:!0});case"const":return[f]}}).filter(f=>f!==null):null}return null}}class KI{constructor(t){this.idl=t;const n=t.instructions.map(i=>{const o=i.name,l=i.args.map(f=>bt.fieldLayout(f,t.types)),u=st.struct(l,o);return[o,{discriminator:i.discriminator,layout:u}]});this.ixLayouts=new Map(n)}encode(t,n){const i=je.Buffer.alloc(1e3),o=this.ixLayouts.get(t);if(!o)throw new Error(`Unknown method: ${t}`);const l=o.layout.encode(n,i),u=i.slice(0,l);return je.Buffer.concat([je.Buffer.from(o.discriminator),u])}decode(t,n="hex"){typeof t=="string"&&(t=n==="hex"?je.Buffer.from(t,"hex"):af.decode(t));for(const[i,o]of this.ixLayouts){const l=t.subarray(0,o.discriminator.length);if(l.equals(je.Buffer.from(o.discriminator)))return{name:i,data:o.layout.decode(t.subarray(l.length))}}return null}format(t,n){return ar.format(t,n,this.idl)}}class ar{static format(t,n,i){const o=i.instructions.find(y=>t.name===y.name);if(!o)return console.error("Invalid instruction given"),null;const l=o.args.map(y=>({name:y.name,type:ar.formatIdlType(y.type),data:ar.formatIdlData(y,t.data[y.name],i.types)})),u=ar.flattenIdlAccounts(o.accounts),f=n.map((y,w)=>w<u.length?{name:u[w].name,...y}:{name:void 0,...y});return{args:l,accounts:f}}static formatIdlType(t){if(typeof t=="string")return t;if("option"in t)return`Option<${this.formatIdlType(t.option)}>`;if("coption"in t)return`COption<${this.formatIdlType(t.coption)}>`;if("vec"in t)return`Vec<${this.formatIdlType(t.vec)}>`;if("array"in t)return`Array<${t.array[0]}; ${t.array[1]}>`;if("defined"in t){const n=t.defined.name;if(t.defined.generics){const i=t.defined.generics.map(o=>{switch(o.kind){case"type":return ar.formatIdlType(o.type);case"const":return o.value}}).join(", ");return`${n}<${i}>`}return n}throw new Error(`Unknown IDL type: ${t}`)}static formatIdlData(t,n,i){if(typeof t.type=="string")return n.toString();if("vec"in t.type)return"["+n.map(o=>this.formatIdlData({name:"",type:t.type.vec},o,i)).join(", ")+"]";if("option"in t.type)return n===null?"null":this.formatIdlData({name:"",type:t.type.option},n,i);if("defined"in t.type){if(!i)throw new Error("User defined types not provided");const o=t.type.defined.name,l=i.find(u=>u.name===o);if(!l)throw new Error(`Type not found: ${o}`);return ar.formatIdlDataDefined(l,n,i)}return"unknown"}static formatIdlDataDefined(t,n,i){switch(t.type.kind){case"struct":return"{ "+ro(t.type.fields,()=>"",o=>Object.entries(n).map(([l,u])=>{const f=o.find(y=>y.name===l);if(!f)throw new Error(`Field not found: ${l}`);return l+": "+ar.formatIdlData(f,u,i)}).join(", "),o=>Object.entries(n).map(([l,u])=>l+": "+ar.formatIdlData({name:"",type:o[l]},u,i)).join(", "))+" }";case"enum":{const o=Object.keys(n)[0],l=t.type.variants.find(f=>f.name===o);if(!l)throw new Error(`Unable to find variant: ${o}`);const u=n[o];return ro(l.fields,()=>o,f=>{const y=Object.keys(u).map(w=>{const S=u[w],C=f.find(I=>I.name===w);if(!C)throw new Error(`Field not found: ${w}`);return w+": "+ar.formatIdlData(C,S,i)}).join(", ");return`${o} { ${y} }`},f=>{const y=Object.entries(u).map(([w,S])=>w+": "+ar.formatIdlData({name:"",type:f[w]},S,i)).join(", ");return`${o} { ${y} }`})}case"type":return ar.formatIdlType(t.type.alias)}}static flattenIdlAccounts(t,n){return t.map(i=>{const o=GI(i.name);if(i.hasOwnProperty("accounts")){const l=n?`${n} > ${o}`:o;return ar.flattenIdlAccounts(i.accounts,l)}else return{...i,name:n?`${n} > ${o}`:o}}).flat()}}function GI(s){const t=s.replace(/([A-Z])/g," $1");return t.charAt(0).toUpperCase()+t.slice(1)}class Rp{constructor(t){if(this.idl=t,!t.accounts){this.accountLayouts=new Map;return}const n=t.types;if(!n)throw new Error("Accounts require `idl.types`");const i=t.accounts.map(o=>{const l=n.find(u=>u.name===o.name);if(!l)throw new Error(`Account not found: ${o.name}`);return[o.name,{discriminator:o.discriminator,layout:bt.typeDefLayout({typeDef:l,types:n})}]});this.accountLayouts=new Map(i)}async encode(t,n){const i=je.Buffer.alloc(1e3),o=this.accountLayouts.get(t);if(!o)throw new Error(`Unknown account: ${t}`);const l=o.layout.encode(n,i),u=i.slice(0,l),f=this.accountDiscriminator(t);return je.Buffer.concat([f,u])}decode(t,n){const i=this.accountDiscriminator(t);if(i.compare(n.slice(0,i.length)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(t,n)}decodeAny(t){for(const[n,i]of this.accountLayouts)if(t.subarray(0,i.discriminator.length).equals(je.Buffer.from(i.discriminator)))return this.decodeUnchecked(n,t);throw new Error("Account not found")}decodeUnchecked(t,n){const i=this.accountDiscriminator(t),o=n.subarray(i.length),l=this.accountLayouts.get(t);if(!l)throw new Error(`Unknown account: ${t}`);return l.layout.decode(o)}memcmp(t,n){const i=this.accountDiscriminator(t);return{offset:0,bytes:af.encode(n?je.Buffer.concat([i,n]):i)}}size(t){return this.accountDiscriminator(t).length+bt.typeSize({defined:{name:t}},this.idl)}accountDiscriminator(t){var n;const i=(n=this.idl.accounts)===null||n===void 0?void 0:n.find(o=>o.name===t);if(!i)throw new Error(`Account not found: ${t}`);return je.Buffer.from(i.discriminator)}}class VI{constructor(t){if(!t.events){this.layouts=new Map;return}const n=t.types;if(!n)throw new Error("Events require `idl.types`");const i=t.events.map(o=>{const l=n.find(u=>u.name===o.name);if(!l)throw new Error(`Event not found: ${o.name}`);return[o.name,{discriminator:o.discriminator,layout:bt.typeDefLayout({typeDef:l,types:n})}]});this.layouts=new Map(i)}decode(t){let n;try{n=wp(t)}catch{return null}for(const[i,o]of this.layouts){const l=n.subarray(0,o.discriminator.length);if(l.equals(je.Buffer.from(o.discriminator)))return{name:i,data:o.layout.decode(n.subarray(l.length))}}return null}}class FI{constructor(t){const n=t.types;if(!n){this.typeLayouts=new Map;return}const i=n.filter(o=>!o.generics).map(o=>[o.name,bt.typeDefLayout({typeDef:o,types:n})]);this.typeLayouts=new Map(i)}encode(t,n){const i=je.Buffer.alloc(1e3),o=this.typeLayouts.get(t);if(!o)throw new Error(`Unknown type: ${t}`);const l=o.encode(n,i);return i.slice(0,l)}decode(t,n){const i=this.typeLayouts.get(t);if(!i)throw new Error(`Unknown type: ${t}`);return i.decode(n)}}class kE{constructor(t){this.instruction=new KI(t),this.accounts=new Rp(t),this.events=new VI(t),this.types=new FI(t)}}class Xn{constructor(t,n){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=n}makeDestinationObject(){return{}}decode(t,n){throw new Error("Layout is abstract")}encode(t,n,i){throw new Error("Layout is abstract")}getSpan(t,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=t,n}fromArray(t){}}var cf=Xn;function YI(s,t){return t.property?s+"["+t.property+"]":s}class Qs extends Xn{isCount(){throw new Error("ExternalLayout is abstract")}}class IE extends Qs{constructor(t,n,i){if(!(t instanceof Xn))throw new TypeError("layout must be a Layout");if(n===void 0)n=0;else if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(t.span,i||t.property),this.layout=t,this.offset=n}isCount(){return this.layout instanceof uf||this.layout instanceof CE}decode(t,n){return n===void 0&&(n=0),this.layout.decode(t,n+this.offset)}encode(t,n,i){return i===void 0&&(i=0),this.layout.encode(t,n,i+this.offset)}}class uf extends Xn{constructor(t,n){if(super(t,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,n){return n===void 0&&(n=0),t.readUIntLE(n,this.span)}encode(t,n,i){return i===void 0&&(i=0),n.writeUIntLE(t,i,this.span),this.span}}class CE extends Xn{constructor(t,n){if(super(t,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,n){return n===void 0&&(n=0),t.readUIntBE(n,this.span)}encode(t,n,i){return i===void 0&&(i=0),n.writeUIntBE(t,i,this.span),this.span}}const M0=Math.pow(2,32);function BE(s){const t=Math.floor(s/M0),n=s-t*M0;return{hi32:t,lo32:n}}function ME(s,t){return s*M0+t}class ZI extends Xn{constructor(t){super(8,t)}decode(t,n){n===void 0&&(n=0);const i=t.readUInt32LE(n),o=t.readUInt32LE(n+4);return ME(o,i)}encode(t,n,i){i===void 0&&(i=0);const o=BE(t);return n.writeUInt32LE(o.lo32,i),n.writeUInt32LE(o.hi32,i+4),8}}class WI extends Xn{constructor(t){super(8,t)}decode(t,n){n===void 0&&(n=0);const i=t.readUInt32LE(n),o=t.readInt32LE(n+4);return ME(o,i)}encode(t,n,i){i===void 0&&(i=0);const o=BE(t);return n.writeUInt32LE(o.lo32,i),n.writeInt32LE(o.hi32,i+4),8}}class $I extends Xn{constructor(t,n,i){if(!(Array.isArray(t)&&t.reduce((l,u)=>l&&u instanceof Xn,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&i===void 0&&(i=n,n=void 0);for(const l of t)if(0>l.span&&l.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let o=-1;try{o=t.reduce((l,u)=>l+u.getSpan(),0)}catch{}super(o,n),this.fields=t,this.decodePrefixes=!!i}getSpan(t,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let i=0;try{i=this.fields.reduce((o,l)=>{const u=l.getSpan(t,n);return n+=u,o+u},0)}catch{throw new RangeError("indeterminate span")}return i}decode(t,n){n===void 0&&(n=0);const i=this.makeDestinationObject();for(const o of this.fields)if(o.property!==void 0&&(i[o.property]=o.decode(t,n)),n+=o.getSpan(t,n),this.decodePrefixes&&t.length===n)break;return i}encode(t,n,i){i===void 0&&(i=0);const o=i;let l=0,u=0;for(const f of this.fields){let y=f.span;if(u=0<y?y:0,f.property!==void 0){const w=t[f.property];w!==void 0&&(u=f.encode(w,n,i),0>y&&(y=f.getSpan(n,i)))}l=i,i+=y}return l+u-o}fromArray(t){const n=this.makeDestinationObject();for(const i of this.fields)i.property!==void 0&&0<t.length&&(n[i.property]=t.shift());return n}layoutFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===t)return n}offsetOf(t){if(typeof t!="string")throw new TypeError("property must be string");let n=0;for(const i of this.fields){if(i.property===t)return n;0>i.span?n=-1:0<=n&&(n+=i.span)}}}class DE{constructor(t){this.property=t}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class uw extends DE{constructor(t,n){if(!(t instanceof Qs&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||t.property||"variant"),this.layout=t}decode(t,n){return this.layout.decode(t,n)}encode(t,n,i){return this.layout.encode(t,n,i)}}class LE extends Xn{constructor(t,n,i){const o=t instanceof uf||t instanceof CE;if(o)t=new uw(new IE(t));else if(t instanceof Qs&&t.isCount())t=new uw(t);else if(!(t instanceof DE))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof Xn))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let l=-1;n&&(l=n.span,0<=l&&o&&(l+=t.layout.span)),super(l,i),this.discriminator=t,this.usesPrefixDiscriminator=o,this.defaultLayout=n,this.registry={};let u=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(f){return u(f)},this.configGetSourceVariant=function(f){u=f.bind(this)}}getSpan(t,n){if(0<=this.span)return this.span;n===void 0&&(n=0);const i=this.getVariant(t,n);if(!i)throw new Error("unable to determine span for unrecognized variant");return i.getSpan(t,n)}defaultGetSourceVariant(t){if(t.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&t.hasOwnProperty(this.defaultLayout.property))return;const n=this.registry[t[this.discriminator.property]];if(n&&(!n.layout||t.hasOwnProperty(n.property)))return n}else for(const n in this.registry){const i=this.registry[n];if(t.hasOwnProperty(i.property))return i}throw new Error("unable to infer src variant")}decode(t,n){n===void 0&&(n=0);let i;const o=this.discriminator,l=o.decode(t,n);let u=this.registry[l];if(u===void 0){let f=0;u=this.defaultLayout,this.usesPrefixDiscriminator&&(f=o.layout.span),i=this.makeDestinationObject(),i[o.property]=l,i[u.property]=this.defaultLayout.decode(t,n+f)}else i=u.decode(t,n);return i}encode(t,n,i){i===void 0&&(i=0);const o=this.getSourceVariant(t);if(o===void 0){const l=this.discriminator,u=this.defaultLayout;let f=0;return this.usesPrefixDiscriminator&&(f=l.layout.span),l.encode(t[l.property],n,i),f+u.encode(t[u.property],n,i+f)}return o.encode(t,n,i)}addVariant(t,n,i){const o=new XI(this,t,n,i);return this.registry[t]=o,o}getVariant(t,n){let i=t;return Buffer.isBuffer(t)&&(n===void 0&&(n=0),i=this.discriminator.decode(t,n)),this.registry[i]}}class XI extends Xn{constructor(t,n,i,o){if(!(t instanceof LE))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof i=="string"&&o===void 0&&(o=i,i=null),i){if(!(i instanceof Xn))throw new TypeError("layout must be a Layout");if(t.defaultLayout!==null&&0<=i.span&&i.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof o!="string")throw new TypeError("variant must have a String property")}let l=t.span;0>t.span&&(l=i?i.span:0,0<=l&&t.usesPrefixDiscriminator&&(l+=t.discriminator.layout.span)),super(l,o),this.union=t,this.variant=n,this.layout=i||null}getSpan(t,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),i+this.layout.getSpan(t,n+i)}decode(t,n){const i=this.makeDestinationObject();if(n===void 0&&(n=0),this!==this.union.getVariant(t,n))throw new Error("variant mismatch");let o=0;return this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout?i[this.property]=this.layout.decode(t,n+o):this.property?i[this.property]=!0:this.union.usesPrefixDiscriminator&&(i[this.union.discriminator.property]=this.variant),i}encode(t,n,i){i===void 0&&(i=0);let o=0;if(this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout&&!t.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,i);let l=o;if(this.layout&&(this.layout.encode(t[this.property],n,i+o),l+=this.layout.getSpan(n,i+o),0<=this.union.span&&l>this.union.span))throw new Error("encoded variant overruns containing union");return l}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}class QI extends Xn{constructor(t,n){if(!(t instanceof Qs&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let i=-1;t instanceof Qs||(i=t),super(i,n),this.length=t}getSpan(t,n){let i=this.span;return 0>i&&(i=this.length.decode(t,n)),i}decode(t,n){n===void 0&&(n=0);let i=this.span;return 0>i&&(i=this.length.decode(t,n)),t.slice(n,n+i)}encode(t,n,i){let o=this.length;if(this.length instanceof Qs&&(o=t.length),!(Buffer.isBuffer(t)&&o===t.length))throw new TypeError(YI("Blob.encode",this)+" requires (length "+o+") Buffer as src");if(i+o>n.length)throw new RangeError("encoding overruns Buffer");return n.write(t.toString("hex"),i,o,"hex"),this.length instanceof Qs&&this.length.encode(o,n,i),o}}var JI=((s,t,n)=>new IE(s,t,n)),e6=(s=>new uf(1,s)),Ti=(s=>new uf(4,s)),t6=(s=>new ZI(s)),Ii=(s=>new WI(s)),Sn=((s,t,n)=>new $I(s,t,n)),UE=((s,t,n)=>new LE(s,t,n)),Vl=((s,t)=>new QI(s,t));class n6 extends cf{constructor(t){super(-1,t),this.property=t,this.layout=Sn([Ti("length"),Ti("lengthPadding"),Vl(JI(Ti(),-8),"chars")],this.property)}encode(t,n,i=0){if(t==null)return this.layout.span;const o={chars:Buffer.from(t,"utf8")};return this.layout.encode(o,n,i)}decode(t,n=0){return this.layout.decode(t,n).chars.toString()}getSpan(t,n=0){return Ti().span+Ti().span+new mn(new Uint8Array(t).slice(n,n+4),10,"le").toNumber()}}function ff(s){return new n6(s)}function Ar(s){return Vl(32,s)}const ur=UE(Ti("instruction"));ur.addVariant(0,Sn([Ii("lamports"),Ii("space"),Ar("owner")]),"createAccount");ur.addVariant(1,Sn([Ar("owner")]),"assign");ur.addVariant(2,Sn([Ii("lamports")]),"transfer");ur.addVariant(3,Sn([Ar("base"),ff("seed"),Ii("lamports"),Ii("space"),Ar("owner")]),"createAccountWithSeed");ur.addVariant(4,Sn([Ar("authorized")]),"advanceNonceAccount");ur.addVariant(5,Sn([Ii("lamports")]),"withdrawNonceAccount");ur.addVariant(6,Sn([Ar("authorized")]),"initializeNonceAccount");ur.addVariant(7,Sn([Ar("authorized")]),"authorizeNonceAccount");ur.addVariant(8,Sn([Ii("space")]),"allocate");ur.addVariant(9,Sn([Ar("base"),ff("seed"),Ii("space"),Ar("owner")]),"allocateWithSeed");ur.addVariant(10,Sn([Ar("base"),ff("seed"),Ar("owner")]),"assignWithSeed");ur.addVariant(11,Sn([Ii("lamports"),ff("seed"),Ar("owner")]),"transferWithSeed");Math.max(...Object.values(ur.registry).map(s=>s.span));class r6 extends cf{constructor(t,n,i,o){super(t.span,o),this.layout=t,this.decoder=n,this.encoder=i}decode(t,n){return this.decoder(this.layout.decode(t,n))}encode(t,n,i){return this.layout.encode(this.encoder(t),n,i)}getSpan(t,n){return this.layout.getSpan(t,n)}}function fw(s){return new r6(Vl(32),t=>new _e(t),t=>t.toBuffer(),s)}Sn([Ti("version"),Ti("state"),fw("authorizedPubkey"),fw("nonce"),Sn([t6("lamportsPerSignature")],"feeCalculator")]);function i6(s){return new TextDecoder().decode(Cu(s))}var s6=Object.freeze({__proto__:null,hash:i6});function a6(s,t,n){const i=je.Buffer.concat([s.toBuffer(),je.Buffer.from(t),n.toBuffer()]);return new _e(Cu(i))}var o6=Object.freeze({__proto__:null,createWithSeedSync:a6});const zE=new _e("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),jE=new _e("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");function l6({mint:s,owner:t}){return _e.findProgramAddressSync([t.toBuffer(),zE.toBuffer(),s.toBuffer()],jE)[0]}var c6=Object.freeze({__proto__:null,TOKEN_PROGRAM_ID:zE,ASSOCIATED_PROGRAM_ID:jE,associatedAddress:l6}),D0={exports:{}};(function(s,t){var n=typeof self<"u"?self:UI,i=(function(){function l(){this.fetch=!1,this.DOMException=n.DOMException}return l.prototype=n,new l})();(function(l){(function(u){var f={searchParams:"URLSearchParams"in l,iterable:"Symbol"in l&&"iterator"in Symbol,blob:"FileReader"in l&&"Blob"in l&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in l,arrayBuffer:"ArrayBuffer"in l};function y(h){return h&&DataView.prototype.isPrototypeOf(h)}if(f.arrayBuffer)var w=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],S=ArrayBuffer.isView||function(h){return h&&w.indexOf(Object.prototype.toString.call(h))>-1};function C(h){if(typeof h!="string"&&(h=String(h)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(h))throw new TypeError("Invalid character in header field name");return h.toLowerCase()}function I(h){return typeof h!="string"&&(h=String(h)),h}function x(h){var _={next:function(){var A=h.shift();return{done:A===void 0,value:A}}};return f.iterable&&(_[Symbol.iterator]=function(){return _}),_}function M(h){this.map={},h instanceof M?h.forEach(function(_,A){this.append(A,_)},this):Array.isArray(h)?h.forEach(function(_){this.append(_[0],_[1])},this):h&&Object.getOwnPropertyNames(h).forEach(function(_){this.append(_,h[_])},this)}M.prototype.append=function(h,_){h=C(h),_=I(_);var A=this.map[h];this.map[h]=A?A+", "+_:_},M.prototype.delete=function(h){delete this.map[C(h)]},M.prototype.get=function(h){return h=C(h),this.has(h)?this.map[h]:null},M.prototype.has=function(h){return this.map.hasOwnProperty(C(h))},M.prototype.set=function(h,_){this.map[C(h)]=I(_)},M.prototype.forEach=function(h,_){for(var A in this.map)this.map.hasOwnProperty(A)&&h.call(_,this.map[A],A,this)},M.prototype.keys=function(){var h=[];return this.forEach(function(_,A){h.push(A)}),x(h)},M.prototype.values=function(){var h=[];return this.forEach(function(_){h.push(_)}),x(h)},M.prototype.entries=function(){var h=[];return this.forEach(function(_,A){h.push([A,_])}),x(h)},f.iterable&&(M.prototype[Symbol.iterator]=M.prototype.entries);function L(h){if(h.bodyUsed)return Promise.reject(new TypeError("Already read"));h.bodyUsed=!0}function z(h){return new Promise(function(_,A){h.onload=function(){_(h.result)},h.onerror=function(){A(h.error)}})}function P(h){var _=new FileReader,A=z(_);return _.readAsArrayBuffer(h),A}function K(h){var _=new FileReader,A=z(_);return _.readAsText(h),A}function G(h){for(var _=new Uint8Array(h),A=new Array(_.length),O=0;O<_.length;O++)A[O]=String.fromCharCode(_[O]);return A.join("")}function X(h){if(h.slice)return h.slice(0);var _=new Uint8Array(h.byteLength);return _.set(new Uint8Array(h)),_.buffer}function te(){return this.bodyUsed=!1,this._initBody=function(h){this._bodyInit=h,h?typeof h=="string"?this._bodyText=h:f.blob&&Blob.prototype.isPrototypeOf(h)?this._bodyBlob=h:f.formData&&FormData.prototype.isPrototypeOf(h)?this._bodyFormData=h:f.searchParams&&URLSearchParams.prototype.isPrototypeOf(h)?this._bodyText=h.toString():f.arrayBuffer&&f.blob&&y(h)?(this._bodyArrayBuffer=X(h.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):f.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(h)||S(h))?this._bodyArrayBuffer=X(h):this._bodyText=h=Object.prototype.toString.call(h):this._bodyText="",this.headers.get("content-type")||(typeof h=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):f.searchParams&&URLSearchParams.prototype.isPrototypeOf(h)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},f.blob&&(this.blob=function(){var h=L(this);if(h)return h;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?L(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(P)}),this.text=function(){var h=L(this);if(h)return h;if(this._bodyBlob)return K(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(G(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},f.formData&&(this.formData=function(){return this.text().then(F)}),this.json=function(){return this.text().then(JSON.parse)},this}var ce=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function se(h){var _=h.toUpperCase();return ce.indexOf(_)>-1?_:h}function oe(h,_){_=_||{};var A=_.body;if(h instanceof oe){if(h.bodyUsed)throw new TypeError("Already read");this.url=h.url,this.credentials=h.credentials,_.headers||(this.headers=new M(h.headers)),this.method=h.method,this.mode=h.mode,this.signal=h.signal,!A&&h._bodyInit!=null&&(A=h._bodyInit,h.bodyUsed=!0)}else this.url=String(h);if(this.credentials=_.credentials||this.credentials||"same-origin",(_.headers||!this.headers)&&(this.headers=new M(_.headers)),this.method=se(_.method||this.method||"GET"),this.mode=_.mode||this.mode||null,this.signal=_.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&A)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(A)}oe.prototype.clone=function(){return new oe(this,{body:this._bodyInit})};function F(h){var _=new FormData;return h.trim().split("&").forEach(function(A){if(A){var O=A.split("="),H=O.shift().replace(/\+/g," "),B=O.join("=").replace(/\+/g," ");_.append(decodeURIComponent(H),decodeURIComponent(B))}}),_}function Y(h){var _=new M,A=h.replace(/\r?\n[\t ]+/g," ");return A.split(/\r?\n/).forEach(function(O){var H=O.split(":"),B=H.shift().trim();if(B){var E=H.join(":").trim();_.append(B,E)}}),_}te.call(oe.prototype);function $(h,_){_||(_={}),this.type="default",this.status=_.status===void 0?200:_.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in _?_.statusText:"OK",this.headers=new M(_.headers),this.url=_.url||"",this._initBody(h)}te.call($.prototype),$.prototype.clone=function(){return new $(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new M(this.headers),url:this.url})},$.error=function(){var h=new $(null,{status:0,statusText:""});return h.type="error",h};var W=[301,302,303,307,308];$.redirect=function(h,_){if(W.indexOf(_)===-1)throw new RangeError("Invalid status code");return new $(null,{status:_,headers:{location:h}})},u.DOMException=l.DOMException;try{new u.DOMException}catch{u.DOMException=function(_,A){this.message=_,this.name=A;var O=Error(_);this.stack=O.stack},u.DOMException.prototype=Object.create(Error.prototype),u.DOMException.prototype.constructor=u.DOMException}function T(h,_){return new Promise(function(A,O){var H=new oe(h,_);if(H.signal&&H.signal.aborted)return O(new u.DOMException("Aborted","AbortError"));var B=new XMLHttpRequest;function E(){B.abort()}B.onload=function(){var m={status:B.status,statusText:B.statusText,headers:Y(B.getAllResponseHeaders()||"")};m.url="responseURL"in B?B.responseURL:m.headers.get("X-Request-URL");var d="response"in B?B.response:B.responseText;A(new $(d,m))},B.onerror=function(){O(new TypeError("Network request failed"))},B.ontimeout=function(){O(new TypeError("Network request failed"))},B.onabort=function(){O(new u.DOMException("Aborted","AbortError"))},B.open(H.method,H.url,!0),H.credentials==="include"?B.withCredentials=!0:H.credentials==="omit"&&(B.withCredentials=!1),"responseType"in B&&f.blob&&(B.responseType="blob"),H.headers.forEach(function(m,d){B.setRequestHeader(d,m)}),H.signal&&(H.signal.addEventListener("abort",E),B.onreadystatechange=function(){B.readyState===4&&H.signal.removeEventListener("abort",E)}),B.send(typeof H._bodyInit>"u"?null:H._bodyInit)})}return T.polyfill=!0,l.fetch||(l.fetch=T,l.Headers=M,l.Request=oe,l.Response=$),u.Headers=M,u.Request=oe,u.Response=$,u.fetch=T,Object.defineProperty(u,"__esModule",{value:!0}),u})({})})(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var o=i;t=o.fetch,t.default=o.fetch,t.fetch=o.fetch,t.Headers=o.Headers,t.Request=o.Request,t.Response=o.Response,s.exports=t})(D0,D0.exports);var u6=zI(D0.exports);async function f6(s,t,n=5){const i=`https://api.apr.dev/api/v0/program/${t.toString()}/latest?limit=${n}`,[o,l]=await Promise.all([HE(s,t),u6(i)]),u=(await l.json()).filter(y=>!y.aborted&&y.state==="Built"&&y.verified==="Verified");if(u.length===0)return null;const f=u[0];return o.slot.toNumber()!==f.verified_slot?null:f}async function HE(s,t){const n=await s.getAccountInfo(t);if(n===null)throw new Error("program account not found");const{program:i}=L0(n.data),o=await s.getAccountInfo(i.programdataAddress);if(o===null)throw new Error("program data account not found");const{programData:l}=L0(o.data);return l}const d6=st.rustEnum([st.struct([],"uninitialized"),st.struct([st.option(st.publicKey(),"authorityAddress")],"buffer"),st.struct([st.publicKey("programdataAddress")],"program"),st.struct([st.u64("slot"),st.option(st.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,st.u32());function L0(s){return d6.decode(s)}var h6=Object.freeze({__proto__:null,verifiedBuild:f6,fetchData:HE,decodeUpgradeableLoaderState:L0}),ps=Object.freeze({__proto__:null,sha256:s6,rpc:DI,publicKey:o6,bytes:dI,token:c6,features:PI,registry:h6});const U0="Program log: ",PE="Program data: ",p6=U0.length,m6=PE.length;class y6{constructor(t,n,i){this._programId=t,this._provider=n,this._eventParser=new ws(t,i),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(t,n,i){var o;let l=this._listenerIdCount;return this._listenerIdCount+=1,this._eventListeners.has(t)||this._eventListeners.set(t,[]),this._eventListeners.set(t,((o=this._eventListeners.get(t))!==null&&o!==void 0?o:[]).concat(l)),this._eventCallbacks.set(l,[t,n]),this._onLogsSubscriptionId!==void 0||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,(u,f)=>{if(!u.err)for(const y of this._eventParser.parseLogs(u.logs)){const w=this._eventListeners.get(y.name);w&&w.forEach(S=>{const C=this._eventCallbacks.get(S);if(C){const[,I]=C;I(y.data,f.slot,u.signature)}})}},i)),l}async removeEventListener(t){const n=this._eventCallbacks.get(t);if(!n)throw new Error(`Event listener ${t} doesn't exist!`);const[i]=n;let o=this._eventListeners.get(i);if(!o)throw new Error(`Event listeners don't exist for ${i}!`);if(this._eventCallbacks.delete(t),o=o.filter(l=>l!==t),this._eventListeners.set(i,o),o.length===0&&this._eventListeners.delete(i),this._eventCallbacks.size===0){if(this._eventListeners.size!==0)throw new Error(`Expected event listeners size to be 0 but got ${this._eventListeners.size}`);this._onLogsSubscriptionId!==void 0&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0)}}}class ws{constructor(t,n){this.coder=n,this.programId=t}*parseLogs(t,n=!1){const i=new b6([...t]),o=new g6,l=i.next();if(l===null)return;const u=ws.INVOKE_RE.exec(l);if(!u||u[2]!==ws.ROOT_DEPTH)throw new Error(`Unexpected first log line: ${l}`);for(o.push(u[1]);i.peek()!==null;){const f=i.next();if(f===null)break;let[y,w,S]=this.handleLog(o,f,n);if(y&&(yield y),w&&o.push(w),S){o.pop();const C=i.peek();if(C&&C.endsWith("invoke [1]")){const I=ws.INVOKE_RE.exec(C);I&&o.push(I[1])}}}}handleLog(t,n,i){return t.stack.length>0&&t.program()===this.programId.toString()?this.handleProgramLog(n,i):[null,...this.handleSystemLog(n)]}handleProgramLog(t,n){if(t.startsWith(U0)||t.startsWith(PE)){const i=t.startsWith(U0)?t.slice(p6):t.slice(m6),o=this.coder.events.decode(i);if(n&&o===null)throw new Error(`Unable to decode event ${i}`);return[o,null,!1]}else return[null,...this.handleSystemLog(t)]}handleSystemLog(t){return t.startsWith(`Program ${this.programId.toString()} log:`)?[this.programId.toString(),!1]:t.includes("invoke")&&!t.endsWith("[1]")?["cpi",!1]:/^Program ([1-9A-HJ-NP-Za-km-z]+) success$/.test(t)?[null,!0]:[null,!1]}}ws.INVOKE_RE=/^Program ([1-9A-HJ-NP-Za-km-z]+) invoke \[(\d+)\]$/;ws.ROOT_DEPTH="1";class g6{constructor(){this.stack=[]}program(){if(!this.stack.length)throw new Error("Expected the stack to have elements");return this.stack[this.stack.length-1]}push(t){this.stack.push(t)}pop(){if(!this.stack.length)throw new Error("Expected the stack to have elements");this.stack.pop()}}class b6{constructor(t){this.logs=t,this.logs=this.logs.filter(n=>n.startsWith("Program "))}next(){if(this.logs.length===0)return null;let t=this.logs[0];return this.logs=this.logs.slice(1),t}peek(){return this.logs.length>0?this.logs[0]:null}}function df(s,t){var n,i;let o={};const l=s.args?s.args.length:0;if(t.length>l){if(t.length!==l+1)throw new Error(`provided too many arguments ${t} to instruction ${s?.name} expecting: ${(i=(n=s.args)===null||n===void 0?void 0:n.map(u=>u.name))!==null&&i!==void 0?i:[]}`);o=t.pop()}return[t,o]}class Ku{static build(t,n,i){if(t.name==="_inner")throw new ds("the _inner name is reserved");const o=(...l)=>{const[u,f]=df(t,[...l]);ev(t.accounts,f.accounts),w6(t,...l);const y=o.accounts(f.accounts);return f.remainingAccounts!==void 0&&y.push(...f.remainingAccounts),Ap("debug-logs")&&console.log("Outgoing account metas:",y),new Mt({keys:y,programId:i,data:n(t.name,wI(t,...u))})};return o.accounts=l=>Ku.accountsArray(l,t.accounts,i,t.name),o}static accountsArray(t,n,i,o){return t?n.map(l=>{if(hs(l)){const S=t[l.name];return Ku.accountsArray(S,l.accounts,i,o).flat()}let u;try{u=Er(t[l.name])}catch{throw new Error(`Wrong input type for account "${l.name}" in the instruction accounts object${o!==void 0?' for instruction "'+o+'"':""}. Expected PublicKey or string.`)}const f=l.optional&&u.equals(i),y=!!(l.writable&&!f),w=!!(l.signer&&!f);return{pubkey:u,isWritable:y,isSigner:w}}).flat():[]}}function w6(s,...t){}class _6{static build(t,n){return(...o)=>{var l,u,f;const[,y]=df(t,[...o]),w=new vt;if(y.preInstructions&&y.instructions)throw new Error("instructions is deprecated, use preInstructions");return(l=y.preInstructions)===null||l===void 0||l.forEach(S=>w.add(S)),(u=y.instructions)===null||u===void 0||u.forEach(S=>w.add(S)),w.add(n(...o)),(f=y.postInstructions)===null||f===void 0||f.forEach(S=>w.add(S)),w}}}class v6{static build(t,n,i,o){return async(...u)=>{var f;const y=n(...u),[,w]=df(t,[...u]);if(o.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await o.sendAndConfirm(y,(f=w.signers)!==null&&f!==void 0?f:[],w.options)}catch(S){throw NE(S,i)}}}}class E6{static build(t,n,i,o){var l;return((l=t.accounts)!==null&&l!==void 0?l:[]).reduce((u,f)=>(u[f.name]=new S6(t,f,i,o,n),u),{})}}class S6{get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}constructor(t,n,i,o,l){this._idlAccount=n,this._programId=i,this._provider=o??Pu(),this._coder=l??new kE(t),this._size=this._coder.accounts.size(n.name)}async fetchNullable(t,n){const{data:i}=await this.fetchNullableAndContext(t,n);return i}async fetchNullableAndContext(t,n){const i=await this.getAccountInfoAndContext(t,n),{value:o,context:l}=i;return{data:o&&o.data.length!==0?this._coder.accounts.decode(this._idlAccount.name,o.data):null,context:l}}async fetch(t,n){const{data:i}=await this.fetchNullableAndContext(t,n);if(i===null)throw new Error(`Account does not exist or has no data ${t.toString()}`);return i}async fetchAndContext(t,n){const{data:i,context:o}=await this.fetchNullableAndContext(t,n);if(i===null)throw new Error(`Account does not exist ${t.toString()}`);return{data:i,context:o}}async fetchMultiple(t,n){return(await this.fetchMultipleAndContext(t,n)).map(o=>o?o.data:null)}async fetchMultipleAndContext(t,n){return(await Sp(this._provider.connection,t.map(o=>Er(o)),n)).map(o=>{if(o==null)return null;const{account:l,context:u}=o;return{data:this._coder.accounts.decode(this._idlAccount.name,l.data),context:u}})}async all(t){const n=this.coder.accounts.memcmp(this._idlAccount.name,t instanceof Buffer?t:void 0),i=[];return n?.offset!=null&&n?.bytes!=null&&i.push({memcmp:{offset:n.offset,bytes:n.bytes}}),n?.dataSize!=null&&i.push({dataSize:n.dataSize}),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[...i,...Array.isArray(t)?t:[]]})).map(({pubkey:l,account:u})=>({publicKey:l,account:this._coder.accounts.decode(this._idlAccount.name,u.data)}))}subscribe(t,n){const i=_l.get(t.toString());if(i)return i.ee;const o=new tI;t=Er(t);const l=this._provider.connection.onAccountChange(t,u=>{const f=this._coder.accounts.decode(this._idlAccount.name,u.data);o.emit("change",f)},n);return _l.set(t.toString(),{ee:o,listener:l}),o}async unsubscribe(t){let n=_l.get(t.toString());if(!n){console.warn("Address is not subscribed");return}_l&&await this._provider.connection.removeAccountChangeListener(n.listener).then(()=>{_l.delete(t.toString())}).catch(console.error)}async createInstruction(t,n){const i=this.size;if(this._provider.publicKey===void 0)throw new Error("This function requires the Provider interface implementor to have a 'publicKey' field.");return yn.createAccount({fromPubkey:this._provider.publicKey,newAccountPubkey:t.publicKey,space:n??i,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(n??i),programId:this._programId})}async getAccountInfo(t,n){return await this._provider.connection.getAccountInfo(Er(t),n)}async getAccountInfoAndContext(t,n){return await this._provider.connection.getAccountInfoAndContext(Er(t),n)}}const _l=new Map;class A6{static build(t,n,i,o,l,u,f){return async(...w)=>{var S;const C=n(...w),[,I]=df(t,[...w]);let x;if(o.simulate===void 0)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{x=await o.simulate(C,I.signers,(S=I.options)===null||S===void 0?void 0:S.commitment)}catch(z){throw NE(z,i)}if(x===void 0)throw new Error("Unable to simulate transaction");const M=x.logs;if(!M)throw new Error("Simulated logs not found");const L=[];if(f.events){let z=new ws(u,l);for(const P of z.parseLogs(M))L.push(P)}return{events:L,raw:M}}}}function h0(s){return new qE(Vl(8),t=>xp.fromBuffer(t),t=>t.toBuffer(),s)}function gu(s){return new qE(Vl(32),t=>new _e(t),t=>t.toBuffer(),s)}function p0(s,t){return new R6(s,t)}class qE extends cf{constructor(t,n,i,o){super(t.span,o),this.layout=t,this.decoder=n,this.encoder=i}decode(t,n){return this.decoder(this.layout.decode(t,n))}encode(t,n,i){return this.layout.encode(this.encoder(t),n,i)}getSpan(t,n){return this.layout.getSpan(t,n)}}class R6 extends cf{constructor(t,n){super(-1,n),this.layout=t,this.discriminator=Ti()}encode(t,n,i=0){return t==null?this.layout.span+this.discriminator.encode(0,n,i):(this.discriminator.encode(1,n,i),this.layout.encode(t,n,i+4)+4)}decode(t,n=0){const i=this.discriminator.decode(t,n);if(i===0)return null;if(i===1)return this.layout.decode(t,n+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(t,n=0){return this.layout.getSpan(t,n+4)+4}}class xp extends mn{toBuffer(){const t=super.toArray().reverse(),n=Buffer.from(t);if(n.length===8)return n;if(n.length>=8)throw new Error("u64 too large");const i=Buffer.alloc(8);return n.copy(i),i}static fromBuffer(t){if(t.length!==8)throw new Error(`Invalid buffer length: ${t.length}`);return new xp([...t].reverse().map(n=>`00${n.toString(16)}`.slice(-2)).join(""),16)}}const x6=Sn([gu("mint"),gu("owner"),h0("amount"),p0(gu(),"delegate"),(s=>{const t=UE(e6("discriminator"),null,s);return t.addVariant(0,Sn([]),"uninitialized"),t.addVariant(1,Sn([]),"initialized"),t.addVariant(2,Sn([]),"frozen"),t})("state"),p0(h0(),"isNative"),h0("delegatedAmount"),p0(gu(),"closeAuthority")]);function T6(s){return x6.decode(s)}class O6{constructor(t,n,i,o,l,u,f,y){this._args=t,this._accounts=n,this._provider=i,this._programId=o,this._idlIx=l,this._idlTypes=f,this._customResolver=y,this._accountStore=new N6(i,u,o)}args(t){this._args=t}async resolve(){this.resolveEventCpi(this._idlIx.accounts),this.resolveConst(this._idlIx.accounts);let t=0;for(;await this.resolvePdasAndRelations(this._idlIx.accounts)+await this.resolveCustom()>0;)if(t++,t===16){const n=u=>hs(u)?u.accounts.some(n):!!(u.address||u.pda||u.relations),i=(u,f=[],y=[])=>{for(const w of u)hs(w)?y.push(...i(w.accounts,[...f,w.name])):y.push([...f,w.name]);return y},o=this._idlIx.accounts.filter(n),l=i(o).filter(u=>!this.get(u)).map(u=>u.reduce((f,y)=>f+"."+y)).map(u=>`\`${u}\``).join(", ");throw new Error(["Reached maximum depth for account resolution.",`Unresolved accounts: ${l}`].join(" "))}}resolveOptionals(t){Object.assign(this._accounts,this.resolveOptionalsHelper(t,this._idlIx.accounts))}get(t){const n=t.reduce((i,o)=>i&&i[o],this._accounts);if(n&&n.toBase58)return n}set(t,n){let i=this._accounts;t.forEach((o,l)=>{var u;l===t.length-1&&(i[o]=n),i[o]=(u=i[o])!==null&&u!==void 0?u:{},i=i[o]})}resolveOptionalsHelper(t,n){const i={};for(const o of n){const l=o.name,u=t[l];u!==void 0&&(KE(u)?hs(o)?i[l]=this.resolveOptionalsHelper(u,o.accounts):i[l]=GE(u):u!==null?i[l]=Er(u):o.optional&&(i[l]=this._programId))}return i}async resolveCustom(){if(this._customResolver){const{accounts:t,resolved:n}=await this._customResolver({args:this._args,accounts:this._accounts,provider:this._provider,programId:this._programId,idlIx:this._idlIx});return this._accounts=t,n}return 0}resolveEventCpi(t,n=[]){for(const i in t){const o=t[i];hs(o)&&this.resolveEventCpi(o.accounts,[...n,o.name]);const l=+i+1;if(l===t.length)return;const u=t[i].name,f=t[l].name;if(u==="eventAuthority"&&f==="program"){const y=[...n,u],w=[...n,f];this.get(y)||this.set(y,_e.findProgramAddressSync([Buffer.from("__event_authority")],this._programId)[0]),this.get(w)||this.set(w,this._programId);return}}}resolveConst(t,n=[]){for(const i of t){const o=i.name;if(hs(i))this.resolveConst(i.accounts,[...n,o]);else{const l=i;if((l.signer||l.address)&&!this.get([...n,o])){if(l.signer){if(!this._provider.publicKey)throw new Error("This function requires the `Provider` interface implementor to have a `publicKey` field.");this.set([...n,o],this._provider.publicKey)}l.address&&this.set([...n,o],Er(l.address))}}}}async resolvePdasAndRelations(t,n=[]){let i=0;for(const o of t){const l=o.name;if(hs(o))i+=await this.resolvePdasAndRelations(o.accounts,[...n,l]);else{const u=o;if((u.pda||u.relations)&&!this.get([...n,l])){i++;try{if(u.pda){const f=await Promise.all(u.pda.seeds.map(S=>this.toBuffer(S,n)));if(f.some(S=>!S))continue;const y=await this.parseProgramId(u,n),[w]=_e.findProgramAddressSync(f,y);this.set([...n,l],w)}}catch{}try{if(u.relations){const f=this.get([...n,u.relations[0]]);if(f){const y=await this._accountStore.fetchAccount({publicKey:f});this.set([...n,l],y[l])}}}catch{}}}}return i}async parseProgramId(t,n=[]){var i;if(!(!((i=t.pda)===null||i===void 0)&&i.program))return this._programId;const o=await this.toBuffer(t.pda.program,n);if(!o)throw new Error(`Program seed not resolved: ${t.name}`);return new _e(o)}async toBuffer(t,n=[]){switch(t.kind){case"const":return this.toBufferConst(t);case"arg":return await this.toBufferArg(t);case"account":return await this.toBufferAccount(t,n);default:throw new Error(`Unexpected seed: ${t}`)}}toBufferConst(t){return this.toBufferValue("bytes",t.value)}async toBufferArg(t){const[n,...i]=t.path.split("."),o=this._idlIx.args.findIndex(f=>f.name===n);if(o===-1)throw new Error(`Unable to find argument for seed: ${n}`);const l=i.reduce((f,y)=>(f??{})[y],this._args[o]);if(l===void 0)return;const u=this.getType(this._idlIx.args[o].type,i);return this.toBufferValue(u,l)}async toBufferAccount(t,n=[]){const[i,...o]=t.path.split("."),l=this.get([...n,i]);if(!l)return;if(!o.length)return this.toBufferValue("pubkey",l);if(!t.account)throw new Error(`Seed account is required in order to resolve type: ${t.path}`);let f=await this._accountStore.fetchAccount({publicKey:l,name:t.account}),y=o;for(;y.length>0;)f=f[y[0]],y=y.slice(1);if(f===void 0)return;const w=this.getType({defined:{name:t.account}},o);return this.toBufferValue(w,f)}toBufferValue(t,n){switch(t){case"u8":case"i8":return Buffer.from([n]);case"u16":case"i16":return new mn(n).toArrayLike(Buffer,"le",2);case"u32":case"i32":return new mn(n).toArrayLike(Buffer,"le",4);case"u64":case"i64":return new mn(n).toArrayLike(Buffer,"le",8);case"u128":case"i128":return new mn(n).toArrayLike(Buffer,"le",16);case"u256":case"i256":return new mn(n).toArrayLike(Buffer,"le",32);case"string":return Buffer.from(n);case"pubkey":return n.toBuffer();case"bytes":return Buffer.from(n);default:if(t?.array)return Buffer.from(n);throw new Error(`Unexpected seed type: ${t}`)}}getType(t,n=[]){var i;const o=(i=t?.defined)===null||i===void 0?void 0:i.name;if(o){if(o==="tokenAccount")switch(n.at(0)){case"mint":case"owner":return"pubkey";case"amount":case"delagatedAmount":return"u64";default:throw new Error(`Unknown token account path: ${n}`)}const l=this._idlTypes.find(S=>S.name===o);if(!l)throw new Error(`Type not found: ${o}`);const[u,...f]=n,w=l.type.fields.find(S=>S.name===u);if(!w)throw new Error(`Field not found: ${u}`);return this.getType(w.type,f)}return t}}class N6{constructor(t,n,i){this._provider=t,this._cache=new Map,this._idls={},this._idls[i.toBase58()]=n}async fetchAccount({publicKey:t,name:n}){const i=t.toBase58();if(!this._cache.has(i)){const o=await this._provider.connection.getAccountInfo(t);if(o===null)throw new Error(`Account not found: ${i}`);if(n==="tokenAccount"){const l=T6(o.data);this._cache.set(i,l)}else{const l=await this.getAccountsNs(o.owner);if(l){const u=Object.values(l)[0];if(u){const f=u.coder.accounts.decodeAny(o.data);this._cache.set(i,f)}}}}return this._cache.get(i)}async getAccountsNs(t){const n=t.toBase58();if(!this._idls[n]){const i=await yo.fetchIdl(t,this._provider);if(i){const o=new yo(i,this._provider);this._idls[n]=o.account}}return this._idls[n]}}class k6{static build(t,n,i,o,l,u,f,y,w,S,C){return(...I)=>new I6(I,o,l,u,f,y,t,n,i,w,S,C)}}function KE(s){return typeof s=="object"&&s!==null&&!("_bn"in s)}function GE(s,t){const n={};for(const i in s){const o=s[i];if(o===null)throw new Error("Failed to resolve optionals due to IDL type mismatch with input accounts!");n[i]=KE(o)?GE(o):Er(o)}return n}class I6{constructor(t,n,i,o,l,u,f,y,w,S,C,I){this._args=t,this._ixFn=n,this._txFn=i,this._rpcFn=o,this._simulateFn=l,this._viewFn=u,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._resolveAccounts=!0,this._accountsResolver=new O6(t,this._accounts,f,y,w,S,C,I)}args(t){this._args=t,this._accountsResolver.args(t)}accounts(t){return this.accountsPartial(t)}accountsPartial(t){return this._resolveAccounts=!0,this._accountsResolver.resolveOptionals(t),this}accountsStrict(t){return this._resolveAccounts=!1,this._accountsResolver.resolveOptionals(t),this}signers(t){return this._signers=this._signers.concat(t),this}remainingAccounts(t){return this._remainingAccounts=this._remainingAccounts.concat(t),this}preInstructions(t,n=!1){return n?this._preInstructions=t.concat(this._preInstructions):this._preInstructions=this._preInstructions.concat(t),this}postInstructions(t){return this._postInstructions=this._postInstructions.concat(t),this}async pubkeys(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._accounts}async instruction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async transaction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async simulate(t){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async view(t){if(this._resolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw new Error(["Method does not support views.","The instruction should return a value, and its accounts must be read-only"].join(" "));return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async rpc(t){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async rpcAndKeys(t){return{signature:await this.rpc(t),pubkeys:await this.pubkeys()}}async prepare(){return{instruction:await this.instruction(),signers:this._signers,pubkeys:await this.pubkeys()}}}class C6{static build(t,n,i,o){const l=n.accounts.find(y=>y.writable),u=!!n.returns;return l||!u?void 0:async(...y)=>{let w=await i(...y);const S=`Program return: ${t} `;let C=w.raw.find(L=>L.startsWith(S));if(!C)throw new Error("View expected return log");let I=wp(C.slice(S.length)),x=n.returns;if(!x)throw new Error("View expected return type");return bt.fieldLayout({type:x},o.types).decode(I)}}}class B6{static build(t,n,i,o,l){const u={},f={},y={},w={},S={},C={},I=bI(t),x=t.accounts?E6.build(t,n,i,o):{};return t.instructions.forEach(M=>{const L=Ku.build(M,(ce,se)=>n.instruction.encode(ce,se),i),z=_6.build(M,L),P=v6.build(M,z,I,o),K=A6.build(M,z,I,o,n,i,t),G=C6.build(i,M,K,t),X=k6.build(o,i,M,L,z,P,K,G,x,t.types||[],l?.(M)),te=M.name;f[te]=L,y[te]=z,u[te]=P,w[te]=K,S[te]=X,G&&(C[te]=G)}),[u,f,y,x,w,S,C]}}class yo{get programId(){return this._programId}get idl(){return this._idl}get rawIdl(){return this._rawIdl}get coder(){return this._coder}get provider(){return this._provider}constructor(t,n=Pu(),i,o){this._idl=gI(t),this._rawIdl=t,this._provider=n,this._programId=Er(t.address),this._coder=i??new kE(this._idl),this._events=new y6(this._programId,n,this._coder);const[l,u,f,y,w,S,C]=B6.build(this._idl,this._coder,this._programId,n,o);this.rpc=l,this.instruction=u,this.transaction=f,this.account=y,this.simulate=w,this.methods=S,this.views=C}static async at(t,n){const i=Er(t),o=await yo.fetchIdl(i,n);if(!o)throw new Error(`IDL not found for program: ${t.toString()}`);return new yo(o,n)}static async fetchIdl(t,n){n=n??Pu();const i=Er(t),o=await hI(i),l=await n.connection.getAccountInfo(o);if(!l)return null;let u=yI(l.data.slice(8));const f=Qk(u.data);return JSON.parse(J_(f))}addEventListener(t,n,i){return this._events.addEventListener(t,n,i)}async removeEventListener(t){return await this._events.removeEventListener(t)}}new _e("11111111111111111111111111111111");function go(s){const t=typeof s=="bigint"?s:BigInt(s),n=new Uint8Array(8);let i=t;for(let o=0;o<8;o++)n[o]=Number(i&0xffn),i>>=8n;return n}function M6(...s){const t=s.reduce((o,l)=>o+l.length,0),n=new Uint8Array(t);let i=0;for(const o of s)n.set(o,i),i+=o.length;return n}async function D6(s){if(!globalThis.crypto?.subtle)throw new Error("WebCrypto not available (crypto.subtle missing)");const t=await globalThis.crypto.subtle.digest("SHA-256",s);return new Uint8Array(t)}async function L6(s,t,n,i,o){const l=t instanceof _e?t:new _e(t),u=new TextEncoder().encode("commit"),f=M6(u,go(s),l.toBytes(),go(n),Uint8Array.from([i&255]),o);return D6(f)}function U6(){const s=new Uint8Array(32);return globalThis.crypto.getRandomValues(s),s}function dw(s){return[...s].map(t=>t.toString(16).padStart(2,"0")).join("")}function VE(s){const t=(s||"").trim();if(t.length%2!==0)throw new Error("Invalid hex length");const n=new Uint8Array(t.length/2);for(let i=0;i<n.length;i++)n[i]=parseInt(t.slice(i*2,i*2+2),16);return n}function Bi(s){return new TextEncoder().encode(s)}function Ni(s){const[t]=_e.findProgramAddressSync([Bi("config")],s);return t}function FE(s,t){const[n]=_e.findProgramAddressSync([Bi("round_registry"),t.toBytes()],s);return n}function cr(s,t){const[n]=_e.findProgramAddressSync([Bi("round"),go(t)],s);return n}function co(s,t){const[n]=_e.findProgramAddressSync([Bi("timlg_vault"),go(t)],s);return n}function YE(s,t,n,i){const o=n instanceof _e?n:new _e(n),[l]=_e.findProgramAddressSync([Bi("ticket"),go(t),o.toBytes(),go(i)],s);return l}function Gu(s,t){const[n]=_e.findProgramAddressSync([Bi("tokenomics"),t.toBytes()],s);return n}function ZE(s,t){const[n]=_e.findProgramAddressSync([Bi("reward_fee_pool"),t.toBytes()],s);return n}function z6(s,t){const[n]=_e.findProgramAddressSync([Bi("replication_pool"),t.toBytes()],s);return n}function j6(s){const[t]=_e.findProgramAddressSync([Bi("treasury")],s);return t}async function WE(s,t,n){const i=await s.getParsedTokenAccountsByOwner(t,{mint:n},"confirmed");return i.value.length?new _e(i.value[0].pubkey):null}function Tp(s,t){return`timlg_play_v1:${s}:round:${t}`}function H6(s,t){if(!s)return null;try{const n=localStorage.getItem(Tp(s,t));if(!n)return null;const i=JSON.parse(n);return Array.isArray(i)?i.length>0?i[i.length-1]:null:i}catch{return null}}function P6(s,t){if(!s)return[];try{const n=localStorage.getItem(Tp(s,t));if(!n)return[];const i=JSON.parse(n);return Array.isArray(i)?i:[i]}catch{return[]}}function q6(s,t,n){if(!s)return;const i=Tp(s,t);try{const o=localStorage.getItem(i);let l=[];if(o){const f=JSON.parse(o);Array.isArray(f)?l=f:l=[f]}const u=l.findIndex(f=>f.ticketPda===n.ticketPda);u>=0?l[u]=n:l.push(n),localStorage.setItem(i,JSON.stringify(l))}catch(o){console.error("Failed to save local state",o)}}function K6(s){if(!s)return[];const t=`timlg_play_v1:${s}:round:`,n=[];try{for(let i=0;i<localStorage.length;i++){const o=localStorage.key(i);if(o&&o.startsWith(t)){const l=localStorage.getItem(o);if(l){const u=JSON.parse(l);Array.isArray(u)?n.push(...u):n.push(u)}}}}catch(i){console.error("Failed to scan local storage",i)}return n}function G6(s,t){return H6(s,t)}function xl(s,t){return P6(s,t)}function V6(s){return K6(s)}function Gr(s,t,n){q6(s,t,n)}function F6(s){const t=typeof s=="string"?s:s?.toBase58?.()??"";return t.length>10?`${t.slice(0,4)}${t.slice(-4)}`:t}function Y6(s){return`https://explorer.solana.com/address/${typeof s=="string"?s:s?.toBase58?.()??""}?cluster=devnet`}function z0(s){return(s?.error?.errorMessage||s?.message||String(s)).replace(/\s+/g," ").trim()}function Z6({logs:s=[],onClear:t,title:n="Activity log",defaultOpen:i=!1,maxHeight:o=220}){const l=xe.useMemo(()=>s?.length?s.join(`
`):"",[s]);return j.jsxs("details",{className:"beta-log",open:i,children:[j.jsx("summary",{className:"beta-log__summary",children:j.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[j.jsx("b",{children:n}),j.jsx("span",{className:"beta-log__meta",children:s?.length?`${s.length} lines`:"empty"})]})}),j.jsxs("div",{className:"beta-log__toolbar",children:[j.jsx("button",{className:"beta-btn",onClick:()=>navigator.clipboard?.writeText(l),disabled:!s?.length,title:"Copy to clipboard",type:"button",children:"Copy"}),j.jsx("button",{className:"beta-btn",onClick:()=>t?.(),disabled:!s?.length,type:"button",children:"Clear"})]}),j.jsx("pre",{className:"beta-log__pre",style:{maxHeight:o},children:s?.length?l:""})]})}const $E=({size:s=18,color:t="#9CA3AF"})=>j.jsxs("svg",{width:s,height:s,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"block"},children:[j.jsx("path",{d:"M12 8C10.5 8 8 9 7 11C6 13 6 15 7 18C8 21 10 21 12 21C14 21 16 21 17 18C18 15 18 13 17 11C16 9 13.5 8 12 8Z",fill:t}),j.jsx("path",{d:"M7 11C5 9.5 2 10 2 13C2 14.5 4 15 5 15C6 15 7 13 7 11Z",fill:t}),j.jsx("path",{d:"M17 11C19 9.5 22 10 22 13C22 14.5 20 15 19 15C18 15 17 13 17 11Z",fill:t}),j.jsx("path",{d:"M7 11C5 7 2 8 2 8C5 8 7 11 7 11Z",fill:t}),j.jsx("path",{d:"M17 11C19 7 22 8 22 8C19 8 17 11 17 11Z",fill:t})]}),XE=({size:s=18,color:t="#9CA3AF"})=>j.jsxs("svg",{width:s,height:s,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"block"},children:[j.jsx("circle",{cx:"12",cy:"13",r:"7",fill:t}),j.jsx("circle",{cx:"6.5",cy:"7.5",r:"3.5",fill:t}),j.jsx("circle",{cx:"17.5",cy:"7.5",r:"3.5",fill:t}),j.jsx("circle",{cx:"12",cy:"15.5",r:"2.5",fill:"white",fillOpacity:"0.2"})]}),W6=({value:s,onChange:t,disabled:n})=>{const[i,o]=xe.useState(!1),l=[{value:0,label:"Bear",icon:j.jsx(XE,{size:20,color:"#9CA3AF"})},{value:1,label:"Bull",icon:j.jsx($E,{size:20,color:"#9CA3AF"})},{value:-1,label:"Random",icon:j.jsx("span",{style:{fontSize:18},children:""})}],u=l.find(f=>f.value===s)||l[0];return j.jsxs("div",{style:{position:"relative",width:"100%"},children:[j.jsxs("button",{type:"button",className:"beta-input",onClick:()=>o(!i),disabled:n,style:{width:"100%",height:42,display:"flex",alignItems:"center",gap:12,padding:"0 12px",textAlign:"left",background:"rgba(255,255,255,0.8)",cursor:n?"default":"pointer",border:"1px solid rgba(0,0,0,0.1)",borderRadius:4,position:"relative"},children:[j.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,flex:1},children:[u.icon,j.jsx("span",{style:{fontSize:14,fontWeight:"600"},children:u.label})]}),j.jsx("span",{style:{fontSize:10,opacity:.5},children:""})]}),i&&!n&&j.jsxs(j.Fragment,{children:[j.jsx("div",{style:{position:"fixed",inset:0,zIndex:999},onClick:()=>o(!1)}),j.jsx("div",{style:{position:"absolute",top:"105%",left:0,right:0,background:"white",border:"1px solid rgba(0,0,0,0.1)",borderRadius:6,boxShadow:"0 10px 25px rgba(0,0,0,0.1)",zIndex:1e3,overflow:"hidden"},children:l.map(f=>j.jsxs("div",{onClick:()=>{t(f.value),o(!1)},style:{padding:"10px 12px",display:"flex",alignItems:"center",gap:10,cursor:"pointer",background:s===f.value?"rgba(59, 130, 246, 0.05)":"transparent",transition:"background 0.2s"},onMouseEnter:y=>y.currentTarget.style.background="rgba(0,0,0,0.03)",onMouseLeave:y=>y.currentTarget.style.background=s===f.value?"rgba(59, 130, 246, 0.05)":"transparent",children:[f.icon,j.jsx("span",{style:{fontSize:14,fontWeight:s===f.value?"700":"500"},children:f.label})]},f.value))})]})]})};function $6({rpcUrl:s,connection:t,program:n,walletReady:i,programPk:o,timlgMint:l,pubkey:u,appendLog:f,chainState:y,refreshProtocolState:w,statusLine:S,onActionComplete:C,nist:I,logs:x,onClearLog:M,guess:L,setGuess:z,doCommitGlobal:P,globalLoading:K}){const G=typeof f=="function"?f:()=>{},X=xe.useMemo(()=>new _e(String(l).trim()),[l]),te=u?.toBase58?.()??null,[ce,se]=xe.useState(3),oe=K,[F,Y]=xe.useState(""),[$,W]=xe.useState(null),[T,h]=xe.useState([]),[_,A]=xe.useState(Date.now());xe.useEffect(()=>{const D=setInterval(()=>A(Date.now()),1e3);return()=>clearInterval(D)},[]);const O=w,H=Number(I?.pulse?.pulseIndex??0),B=I?.pulseTimeMs??Date.now(),E=Date.now()-B,m=Math.max(0,Math.floor(E/6e4)),d=B+m*6e4,b=H+m,N=b+ce,U=B+(m+ce)*60*1e3,Z=y?.activeRounds?.[N.toString()]||null,ae=y?.round?.pulseIndexTarget!=null?Number(y.round.pulseIndexTarget):null,we=ae!=null?N-ae:0,Se=y?.roundId!=null?y.roundId+we:null,qe=Z?Z.roundId:Se,ve=qe!=null?cr(o,qe):null,ke=qe!=null?co(o,qe):null;xe.useEffect(()=>{if(!te||qe==null){W(null),h([]);return}const D=G6(te,qe),v=xl(te,qe);W(D||null),h(v)},[te,qe]);function Oe(D,v,R={}){const V=Object.entries(v).filter(([,ee])=>ee==null).map(([ee])=>ee);if(V.length)throw console.error(`${D}: missing accounts`,{missing:V,accounts:v,chainState:y,...R}),new Error(`${D}: missing accounts: ${V.join(", ")}`)}async function Ie(){await P({targetRoundId:qe,targetPulseIndex:N,targetRoundPda:ve,targetTIMLGVaultPda:ke,targetCommitDl:Z?.commitDeadlineSlot})}async function Pe(){if(!u)return G("Reveal: connect wallet first.");if(!i||!n)return G("Reveal: wallet/program not ready yet.");if(!Z||qe==null)return G("Reveal: round not loaded.");if(!Z.pulseSet)return G("Reveal: pulse not set yet (pulseSet=false).");const D=$;if(!D?.nonce||!D?.saltHex||!D?.ticketPda)return G("Reveal: missing local receipt.");setLoading(!0),Y("");try{const v=qe,R=Number(D.nonce),V=VE(D.saltHex),ee=Number(D.guess??L),ie={config:y.configPda??Ni(o),round:ve,ticket:new _e(D.ticketPda),user:u};Oe("Reveal",ie,{roundId:v,nonce:R,revealGuess:ee}),G(`Reveal: sending tx (round=${v}, nonce=${R})`);const re=await n.methods.revealTicket(new mn(v),new mn(R),ee,Array.from(V)).accounts(ie).rpc();if(Y(re),G(`Reveal OK  tx=${re}`),D){const Ue={...D,revealTx:re,revealedAt:Date.now()};Gr(u.toBase58(),v,Ue),W(Ue)}await O?.()}catch(v){G(`Reveal failed: ${z0(v)}`),console.error("Reveal error:",v)}finally{setLoading(!1)}}async function Ht(){if(!u)return G("Claim: connect wallet first.");if(!i||!n)return G("Claim: wallet/program not ready yet.");if(!Z||qe==null)return G("Claim: round not loaded.");if(!Z.tokenSettled)return G("Claim: tokenSettled=false (operator hasn't settled).");if(!y.tokenomicsExists||!y.rewardFeePoolPda)return G("Claim: tokenomics missing.");const D=$;if(!D?.nonce||!D?.ticketPda)return G("Claim: missing local ticket.");setLoading(!0),Y("");try{const v=qe,R=Number(D.nonce),V=await WE(t,u,X);if(!V)throw new Error("Missing TIMLG token account.");const ee={config:y.configPda??Ni(o),tokenomics:y.tokenomicsPda,round:ve,ticket:new _e(D.ticketPda),user:u,timlgMint:X,timlgVault:ke,userTIMLGAta:V,rewardFeePool:y.rewardFeePoolPda,tokenProgram:ps.token.TOKEN_PROGRAM_ID};Oe("Claim",ee,{roundId:v,nonce:R}),G(`Claim: sending tx (round=${v}, nonce=${R})`);const ie=await n.methods.claimReward(new mn(v),new mn(R)).accounts(ee).rpc();if(Y(ie),G(`Claim OK  tx=${ie}`),D){const re={...D,claimTx:ie,claimedAt:Date.now()};Gr(u.toBase58(),v,re),W(re)}await O?.()}catch(v){G(`Claim failed: ${z0(v)}`),console.error("Claim error:",v)}finally{setLoading(!1)}}const[We,$e]=xe.useState(null),kt=Z?.commitDeadlineSlot?.toString();xe.useEffect(()=>{const D=Z?.commitDeadlineSlot,v=y?.currentSlot;if(D==null||v==null){$e(null);return}const R=Number(D-10n-BigInt(v));if(R<=0){$e(0);return}let V=Math.max(0,Math.floor(R*.4));$e(V);const ee=setInterval(()=>{$e(ie=>ie!=null&&ie>0?ie-1:0)},1e3);return()=>clearInterval(ee)},[kt,N]),xe.useEffect(()=>{const D=Z?.commitDeadlineSlot,v=y?.currentSlot;if(D==null||v==null||We==null||We<=0)return;const R=Math.max(0,Math.floor(Number(D-10n-BigInt(v))*.4));Math.abs(R-We)>3&&$e(R)},[y?.currentSlot]);const Xe=y?.currentSlot,Ye=Z?.commitDeadlineSlot,Et=Z?.revealDeadlineSlot,ge=!!(u&&Z&&Xe!=null&&Ye!=null&&BigInt(Xe)<Ye-10n&&!Z.pulseSet),Te=ge,Ve=!!(u&&Z&&$&&Z.pulseSet&&Et!=null&&BigInt(Xe)<=Et),ze=!!(u&&Z&&Z.tokenSettled&&$);return j.jsxs("div",{className:"beta-card",children:[j.jsx("div",{className:"beta-card__head",style:{paddingBottom:0,borderBottom:"none"},children:j.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[j.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:2},children:[j.jsx("div",{style:{display:"flex",alignItems:"center",gap:8},children:j.jsx("span",{className:"beta-card__title",style:{fontSize:18,fontWeight:"900"},children:Z?`Round #${Z.roundId}`:Se!=null&&N<Number(y?.round?.pulseIndexTarget??0)?`Round #${Se}`:"Round Pending..."})}),j.jsxs("div",{style:{fontSize:11,display:"flex",flexWrap:"wrap",gap:12,color:"#666",marginTop:4},children:[j.jsxs("span",{children:["Target: ",j.jsxs("b",{children:["#",N]})," ",U&&j.jsxs("span",{style:{opacity:.8},children:["(Arr: ",j.jsx("b",{children:new Date(U).toLocaleTimeString([],{hour12:!1,timeZone:"UTC"})}),")"]})]}),j.jsx("span",{style:{opacity:.3},children:"|"}),j.jsxs("span",{children:["Current:"," ",j.jsx("a",{href:I?.pulseUrl??"#",target:"_blank",rel:"noreferrer",style:{color:"inherit",textDecoration:"underline"},children:j.jsxs("b",{children:["#",b]})}),j.jsxs("span",{style:{fontWeight:"600"},children:[" (At: ",j.jsx("b",{children:new Date(d).toLocaleTimeString([],{hour12:!1,timeZone:"UTC"})}),")"]})]}),j.jsx("span",{style:{opacity:.3},children:"|"}),j.jsxs("span",{children:["UTC: ",j.jsx("b",{style:{color:"#444"},children:new Date(_).toLocaleTimeString([],{hour12:!1,timeZone:"UTC"})})]})]})]}),j.jsx("div",{style:{textAlign:"right"},children:Z?ge?j.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[j.jsx("span",{style:{color:"#4caf50",fontWeight:"bold",fontSize:14},children:" OPEN"}),We!=null&&We>0&&j.jsxs("span",{style:{fontSize:11,color:"#444",fontWeight:"500"},children:["Closing in ",j.jsxs("b",{children:[We,"s"]})," ",j.jsx("span",{style:{opacity:.5,fontSize:9},children:"(est.)"})]})]}):j.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[j.jsx("span",{style:{color:"#aaa",fontWeight:"bold",fontSize:14},children:" CLOSED"}),j.jsx("span",{style:{fontSize:12,opacity:.5},children:Z.pulseSet?"Revealing...":"Outcome Pending"})]}):j.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[j.jsx("span",{style:{color:"#555",fontWeight:"bold",fontSize:14},children:" PENDING"}),j.jsx("span",{style:{fontSize:10,opacity:.5},children:"Operator Syncing..."})]})})]})}),j.jsxs("div",{className:"beta-card__body",children:[j.jsx("div",{style:{height:16}}),j.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr",gap:12,alignItems:"end",marginBottom:16},children:[j.jsxs("div",{className:"beta-field",children:[j.jsx("span",{className:"beta-field__label",children:"Target Pulse"}),j.jsx("select",{className:"beta-input",value:ce,onChange:D=>se(Number(D.target.value)),disabled:oe,style:{height:42},children:[{offset:1,label:"Current + 1"},{offset:2,label:"Current + 2"},{offset:3,label:"Current + 3"},{offset:4,label:"Current + 4"},{offset:5,label:"Current + 5"}].map(D=>j.jsx("option",{value:D.offset,children:D.label},D.offset))})]}),j.jsxs("div",{className:"beta-field",children:[j.jsx("span",{className:"beta-field__label",children:"Prediction"}),j.jsx(W6,{value:$?$.guess:L,onChange:z,disabled:oe||!!$})]}),j.jsxs("div",{className:"beta-field",children:[j.jsx("span",{className:"beta-field__label",style:{fontWeight:"normal",opacity:.7,textAlign:"left"},children:T.length>0?`Tickets Found (${T.length}) `:"Cost: 1.00 TIMLG + Fee"}),j.jsx("button",{className:"beta-play-btn",onClick:Ie,disabled:!Te||oe,style:{height:42,padding:"0 12px",fontSize:15,fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",background:!Te||oe?"#d1d1d1":"#81c784",color:!Te||oe?"#888":"#fff",cursor:!Te||oe?"default":"pointer"},children:oe?"...":"Commit"})]})]}),(Ve||ze)&&j.jsxs("div",{style:{marginBottom:16},children:[Ve&&j.jsx("button",{className:"beta-play-btn",onClick:Pe,disabled:oe,style:{width:"100%",height:38,background:"#f39c12",color:"#000",fontWeight:"bold"},children:oe?"...":" REVEAL TICKET NOW"}),ze&&j.jsx("button",{className:"beta-play-btn",onClick:Ht,disabled:oe,style:{width:"100%",height:38,background:"#27ae60",color:"#fff",fontWeight:"bold"},children:oe?"...":" CLAIM YOUR WIN!"})]}),j.jsx("div",{style:{marginTop:24},children:j.jsx(Z6,{logs:x,onClear:M,title:"Terminal Output",defaultOpen:!1,maxHeight:160})})]})]})}const fs=(s,t=4)=>{if(!s)return"";const n=s.toString();return n.slice(0,t)+".."+n.slice(-t)},qs="https://explorer.solana.com",Ks="?cluster=devnet",X6=({ticket:s,connection:t,programPk:n,claimGraceSlots:i,onClose:o,currentSlot:l})=>{const[u,f]=xe.useState([]),[y,w]=xe.useState(!1),[S,C]=xe.useState(null),[I,x]=xe.useState(!1),{roundId:M,ticketPk:L,receipt:z,ticket:P,round:K}=s||{};if(xe.useEffect(()=>{!L||!t||(w(!0),t.getSignaturesForAddress(L,{limit:10}).then(O=>f(O)).catch(O=>console.error("Err fetching sigs:",O)).finally(()=>w(!1)))},[L,t]),xe.useEffect(()=>{if(!K||!t||!n||!M)return;const O=K?.pulseSetSlot||K?.pulse_set_slot;if(!O)return;(async()=>{try{const B=await cr(n,Number(M)),E=await t.getSignaturesForAddress(B,{limit:50}),m=Number(O),d=E.find(b=>Math.abs(b.slot-m)<=1);d&&C(d.signature)}catch(B){console.error("Err fetching round sigs:",B)}})()},[K,t,n,M]),!s)return null;const G=P?.revealed?P.guess:z?.guess??P?.guess,X=G===1,te=G===0,se=(()=>{if(z?.refunded===!0)return"REFUNDED";const O=!!P?.revealed,H=!!P?.win,B=!!P?.claimed,E=!!(P?.processed||P?.tokenSettled);if(B)return"CLAIMED";if(H){if(E){if(l&&K&&i!=null)try{const m=BigInt(K.revealDeadlineSlot||K.reveal_deadline_slot||0),d=BigInt(i),b=BigInt(l);if(m>0n&&b>m+d)return"SWEPT"}catch(m){console.warn("Error calculating swept status:",m)}return"CLAIM PRIZE"}return"WIN"}if(O&&!H)return"LOSS";if(!O&&!H){if(!K||K.finalized)return"EXPIRED";const m=Number(l||0),d=K.revealDeadlineSlot||K.reveal_deadline_slot;if(d&&m>0){const b=Number(d);if(m>b+150)return"REFUND AVAILABLE";if(m>b)return"EXPIRED";if(!!(K?.pulseSet||K?.pulse_set)&&m<=b)return"REVEAL NOW"}}return"PENDING"})(),F=(O=>O==="CLAIM PRIZE"||O==="READY TO CLAIM"||O==="WINNER"||O==="CLAIMED"||O==="REFUNDED"?"#4caf50":O==="LOSS"||O==="REFUND AVAILABLE"||O==="SWEPT"?"#f44336":O==="REVEAL NOW"?"#ff9800":"#9e9e9e")(se),Y=O=>{if(!O)return null;const H=O.toString();return u.find(B=>{const E=B.slot.toString();return E===H||Math.abs(Number(E)-Number(H))<=1})},$=Y(P?.createdSlot||P?.created_slot),W=Y(P?.revealedSlot||P?.revealed_slot),T=Y(P?.claimedSlot||P?.claimed_slot),h=K?.pulseIndexTarget??K?.pulse_index_target,_=h?`https://beacon.nist.gov/beacon/2.0/chain/1/pulse/${h}`:"#",A=n&&M!=null?cr(n,Number(M)):null;return j.jsx("div",{className:"beta-modal-overlay",onClick:o,children:j.jsxs("div",{className:"beta-modal",onClick:O=>O.stopPropagation(),children:[j.jsxs("div",{className:"beta-modal__head",style:{alignItems:"flex-start",paddingBottom:16},children:[j.jsxs("div",{children:[j.jsx("h3",{className:"beta-modal__title",style:{marginBottom:4,lineHeight:1},children:"Ticket Details"}),j.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[j.jsx("span",{style:{fontSize:11,opacity:.5},children:"Ticket:"}),j.jsxs("a",{href:`${qs}/address/${L?.toString()}${Ks}`,target:"_blank",rel:"noreferrer",className:"beta-link",style:{fontSize:11,fontFamily:"monospace"},children:[fs(L,6)," "]})]})]}),j.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[j.jsx("button",{className:"beta-btn",onClick:O=>{O.stopPropagation();try{const H=b=>{if(!b)return null;const N=b.toString();return N==="0"?null:N},B={snapshot:{timestamp:new Date().toISOString(),slot:H(l)},address:L?L.toString():"unknown",roundId:Number(M),nonce:Number(P?.nonce??z?.nonce??0),bitIndex:P?.bitIndex??P?.bit_index??null,status:se,prediction:X?"Bull":te?"Bear":"Unknown",outcome:P?.win?"Win":P?.revealed?"Loss":se==="REFUND AVAILABLE"?"Refundable":se==="SWEPT"?"Swept":se==="EXPIRED"?"Expired":se==="REFUNDED"?"Refunded":"Pending",cryptography:{commitmentHash:P?.commitment?Buffer.from(P.commitment).toString("hex"):z?.commitment||null,localSalt:z?.saltHex||(z?.salt?Array.isArray(z.salt)?Buffer.from(z.salt).toString("hex"):z.salt:null),isValid:!0},transactions:{commit:$?$.signature:null,reveal:W?W.signature:null,claim:T?T.signature:null,refund:z?.refundedTx||null}},E=new Blob([JSON.stringify(B,null,2)],{type:"application/json"}),m=URL.createObjectURL(E),d=document.createElement("a");d.href=m,d.download=`timlgs_ticket_${M}_${L?L.toString().slice(0,8):"data"}.json`,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(m)}catch(H){console.error("Download failed:",H),alert("Download failed. See console.")}},style:{fontSize:11,padding:"6px 12px",height:28,background:"rgba(255,255,255,0.08)",border:"1px solid rgba(255,255,255,0.25)",borderRadius:4,cursor:"pointer",color:"#ffffff",fontWeight:500,transition:"all 0.2s"},onMouseEnter:O=>{O.target.style.background="rgba(255,255,255,0.15)",O.target.style.borderColor="rgba(255,255,255,0.5)"},onMouseLeave:O=>{O.target.style.background="rgba(255,255,255,0.08)",O.target.style.borderColor="rgba(255,255,255,0.25)"},title:"Download Receipt JSON",children:" Download JSON"}),j.jsx("button",{className:"beta-modal__close",onClick:o,style:{marginLeft:0},children:""})]})]}),j.jsxs("div",{className:"beta-modal__body",children:[j.jsxs("div",{style:{background:`linear-gradient(to right, ${F}22, transparent)`,borderLeft:`3px solid ${F}`,padding:"10px 14px",marginBottom:20,borderRadius:"0 8px 8px 0"},children:[j.jsx("div",{style:{fontSize:11,textTransform:"uppercase",color:F,fontWeight:"bold",letterSpacing:1},children:"Status"}),j.jsx("div",{style:{fontSize:24,fontWeight:800,color:"#fff"},children:se})]}),j.jsxs("div",{className:"beta-detail-grid",children:[j.jsxs("div",{className:"beta-detail-row",children:[j.jsx("span",{className:"beta-detail-label",children:"Round ID"}),j.jsx("span",{className:"beta-detail-value",children:A?j.jsxs("a",{href:`${qs}/address/${A.toString()}${Ks}`,target:"_blank",rel:"noreferrer",className:"beta-link",children:["#",String(M)," "]}):`#${String(M)}`})]}),j.jsxs("div",{className:"beta-detail-row",children:[j.jsx("span",{className:"beta-detail-label",children:"Target Pulse"}),j.jsx("span",{className:"beta-detail-value",children:h?j.jsxs("a",{href:_,target:"_blank",rel:"noreferrer",className:"beta-link",children:["#",String(h)," "]}):""})]}),j.jsxs("div",{className:"beta-detail-row",children:[j.jsx("span",{className:"beta-detail-label",children:"Prediction"}),j.jsx("span",{className:"beta-detail-value",style:{color:X?"#4caf50":te?"#f44336":"#ddd"},children:X?" Bull (1)":te?" Bear (0)":""})]}),P?.bit_index!==void 0&&j.jsxs("div",{className:"beta-detail-row",children:[j.jsx("span",{className:"beta-detail-label",children:"Bit Index"}),j.jsx("span",{className:"beta-detail-value",children:P.bit_index})]}),j.jsxs("div",{className:"beta-detail-row",children:[j.jsx("span",{className:"beta-detail-label",children:"Nonce"}),j.jsx("span",{className:"beta-detail-value",children:String(P?.nonce??z?.nonce??"")})]}),j.jsx("div",{style:{marginTop:20,marginBottom:8,fontSize:11,fontWeight:"bold",opacity:.5},children:"ON-CHAIN TRANSACTIONS"}),j.jsxs("div",{className:"beta-detail-row",children:[j.jsx("span",{className:"beta-detail-label",children:"Commit (Buy)"}),j.jsx("span",{className:"beta-detail-value",children:$?j.jsxs("a",{href:`${qs}/tx/${$.signature}${Ks}`,target:"_blank",rel:"noreferrer",className:"beta-link",children:[fs($.signature)," "]}):y?j.jsx("span",{style:{opacity:.5},children:"Searching..."}):""})]}),j.jsxs("div",{className:"beta-detail-row",children:[j.jsx("span",{className:"beta-detail-label",children:"Reveal"}),j.jsx("span",{className:"beta-detail-value",children:W?j.jsxs("a",{href:`${qs}/tx/${W.signature}${Ks}`,target:"_blank",rel:"noreferrer",className:"beta-link",children:[fs(W.signature)," "]}):y?j.jsx("span",{style:{opacity:.5},children:"Searching..."}):P?.revealed?"":"Pending"})]}),P?.win&&j.jsxs("div",{className:"beta-detail-row",children:[j.jsx("span",{className:"beta-detail-label",children:"Claim Reward"}),j.jsx("span",{className:"beta-detail-value",children:T?j.jsxs("a",{href:`${qs}/tx/${T.signature}${Ks}`,target:"_blank",rel:"noreferrer",className:"beta-link",children:[fs(T.signature)," "]}):P?.claimed?"":"Unclaimed"})]}),j.jsxs("div",{className:"beta-detail-row",children:[j.jsx("span",{className:"beta-detail-label",children:"Refund txn"}),j.jsx("span",{className:"beta-detail-value beta-detail-value--long",children:z?.refunded?z.refundedTx?j.jsxs("a",{href:`${qs}/tx/${z.refundedTx}${Ks}`,target:"_blank",rel:"noreferrer",className:"beta-link",children:[fs(z.refundedTx,8)," "]}):"Refunded (Local Record)":j.jsx("span",{style:{opacity:.5},children:""})})]}),j.jsxs("div",{className:"beta-detail-row",children:[j.jsx("span",{className:"beta-detail-label",children:"Commitment Hash"}),j.jsx("span",{className:"beta-detail-value",children:P?.commitment?$?j.jsxs("a",{href:`${qs}/tx/${$.signature}${Ks}`,target:"_blank",rel:"noreferrer",className:"beta-link",title:Buffer.from(P.commitment).toString("hex"),children:[fs(Buffer.from(P.commitment).toString("hex"),10)," "]}):j.jsx("span",{title:Buffer.from(P.commitment).toString("hex"),children:fs(Buffer.from(P.commitment).toString("hex"),10)}):z?.commitment?j.jsx("span",{title:z.commitment,children:fs(z.commitment,10)}):j.jsx("span",{style:{opacity:.5},children:"Pending / Not Found"})})]}),j.jsxs("div",{className:"beta-detail-row",children:[j.jsx("span",{className:"beta-detail-label",children:"Revealed Data"}),j.jsx("span",{className:"beta-detail-value beta-detail-value--long",children:P?.revealed?j.jsx("div",{style:{display:"flex",flexDirection:"column",gap:4,textAlign:"right"},children:j.jsxs("div",{children:["Guess: ",P.guess]})}):j.jsx("span",{style:{opacity:.5},children:"Not Revealed"})})]}),j.jsx("div",{style:{marginTop:24,textAlign:"center"},children:j.jsx("button",{onClick:()=>x(!I),className:"beta-btn",style:{fontSize:12,padding:"6px 12px",background:"rgba(255, 50, 50, 0.1)",border:"1px solid rgba(255, 50, 50, 0.3)",color:"#ff8888"},children:I?"Hide Private Key ":"Show Private Key (Local Salt) "})}),I&&j.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px dashed rgba(255, 50, 50, 0.3)",animation:"fadeIn 0.3s"},children:[j.jsx("div",{style:{marginBottom:12,fontSize:11,fontWeight:"bold",opacity:.8,color:"#ff8888",textTransform:"uppercase"},children:" SENSITIVE DATA - DO NOT SHARE"}),j.jsxs("div",{className:"beta-detail-row",children:[j.jsx("span",{className:"beta-detail-label",style:{color:"#ff8888"},children:"Local Salt (Secret)"}),j.jsx("span",{className:"beta-detail-value",style:{wordBreak:"break-all",fontSize:10,lineHeight:"1.4em"},children:z?.saltHex||z?.salt?z.saltHex||(Array.isArray(z.salt)?Buffer.from(z.salt).toString("hex"):z.salt):j.jsx("span",{style:{opacity:.5},children:""})})]})]})]})]})]})})};function eo(s){if(!s)return null;const t=s.toString();return t==="0"?null:t}const j0=s=>s?Array.from(new Uint8Array(s)).map(t=>t.toString(16).padStart(2,"0")).join(""):"";function Q6(s){const{ticketPk:t,roundId:n,onChainTicket:i,receipt:o,status:l,currentSlot:u,createdTx:f,revealedTx:y,claimedTx:w}=s,S=i?.guess===1||o?.guess===1,C=i?.guess===0||o?.guess===0;return{snapshot:{timestamp:new Date().toISOString(),slot:eo(u)},address:t?t.toString():"unknown",roundId:Number(n),nonce:Number(i?.nonce??o?.nonce??0),bitIndex:i?.bitIndex??i?.bit_index??null,status:l,prediction:S?"Bull":C?"Bear":"Unknown",outcome:i?.win?"Win":i?.revealed?"Loss":l==="REFUND AVAILABLE"?"Refundable":l==="SWEPT"?"Swept":l==="EXPIRED"?"Expired":l==="REFUNDED"?"Refunded":"Pending",cryptography:{commitmentHash:i?.commitment?j0(i.commitment):o?.commitment||null,localSalt:o?.saltHex||(o?.salt?Array.isArray(o.salt)?j0(o.salt):o.salt:null),isValid:!0},transactions:{commit:f?f.signature:null,reveal:y?y.signature:null,claim:w?w.signature:null,refund:o?.refundedTx||null}}}function J6(s,t,n,i,o,l){return{snapshot:{type:"ROUND_BATCH_EXPORT",version:"1.0",timestamp:new Date().toISOString(),wallet:l},round:{id:Number(s),address:t?.toString()||null,status:n,slots:{commitOpen:eo(i?.createdSlot||i?.created_slot),commitClose:eo(i?.commitDeadlineSlot||i?.commit_deadline_slot),pulse:eo(i?.pulseSetSlot||i?.pulse_set_slot),revealDeadline:eo(i?.revealDeadlineSlot||i?.reveal_deadline_slot),settled:eo(i?.tokenSettledSlot||i?.token_settled_slot)},oracle:{pulseHash:i?.pulse?j0(i.pulse):null}},tickets:o}}function hw(s,t){try{const n=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),i=URL.createObjectURL(n),o=document.createElement("a");o.href=i,o.download=s,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(i)}catch(n){console.error("Download error:",n),alert("Error preparing download: "+n.message)}}const Gs=s=>s!=null&&s.toString()!=="0"?s.toString():"null",e3=s=>s?Array.from(new Uint8Array(s)).map(t=>t.toString(16).padStart(2,"0")).join(""):"";function t3({round:s,roundId:t,rPda:n,onClose:i,currentSlot:o,programPk:l,claimGraceSlots:u,connection:f}){console.log("RoundDetailModal mounted",{roundId:t,programPk:l,rPda:n,hasRound:!!s});const[y,w]=xe.useState(null),[S,C]=xe.useState(null);return xe.useEffect(()=>{if(!n&&l&&t)try{const I=new _e(l),x=BigInt(t),M=cr(I,x);w(M)}catch(I){console.error("Failed to derive PDA",I)}},[n,l,t]),xe.useEffect(()=>{const I=n||y;!s&&I&&f&&(C("checking"),f.getAccountInfo(I).then(x=>{C(x?"exists":"closed")}).catch(x=>{console.error("Err fetching round acc",x),C("unknown")}))},[s,n,y,f]),j.jsx("div",{className:"beta-modal-overlay",onClick:i,children:j.jsxs("div",{className:"beta-modal",onClick:I=>I.stopPropagation(),style:{maxWidth:500},children:[j.jsxs("div",{className:"beta-modal__head",children:[j.jsxs("div",{className:"beta-modal__title",children:["Round Details #",t]}),j.jsx("button",{className:"beta-btn-close",onClick:i,style:{color:"white"},children:""})]}),j.jsxs("div",{className:"beta-modal__body",children:[S==="closed"&&j.jsxs("div",{style:{background:"rgba(239, 68, 68, 0.1)",color:"#ef4444",padding:"8px 12px",borderRadius:6,fontSize:12,marginBottom:16,border:"1px solid rgba(239, 68, 68, 0.2)"},children:[j.jsx("strong",{children:" Round Closed On-Chain"}),j.jsx("br",{}),"This round has been settled and the rent reclaimed (swept). Most data is no longer available on the blockchain."]}),j.jsxs("div",{style:{marginBottom:16},children:[j.jsx("div",{style:{fontSize:12,opacity:.5,marginBottom:4},children:"ROUND ADDRESS (PDA)"}),j.jsx("div",{className:"beta-code-block",style:{fontSize:11,wordBreak:"break-all"},children:j.jsxs("a",{href:`https://explorer.solana.com/address/${n||y?(n||y).toString():""}?cluster=devnet`,target:"_blank",rel:"noopener noreferrer",style:{color:"inherit",textDecoration:"underline",textUnderlineOffset:3},children:[n||y?(n||y).toString():"Loading..."," "]})})]}),j.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12,marginBottom:16},children:[j.jsxs("div",{children:[j.jsx("div",{style:{fontSize:11,opacity:.5},children:"Target Pulse"}),j.jsx("div",{style:{fontWeight:"bold"},children:s?.pulseIndexTarget||s?.pulse_index_target?`#${s.pulseIndexTarget||s.pulse_index_target}`:""})]}),j.jsxs("div",{children:[j.jsx("div",{style:{fontSize:11,opacity:.5},children:"Finalized"}),j.jsx("div",{style:{fontWeight:"bold"},children:s?.finalized||S==="closed"?"YES":"NO"})]})]}),j.jsxs("div",{className:"beta-card",style:{padding:12,background:"rgba(0,0,0,0.02)",border:"1px solid rgba(0,0,0,0.05)"},children:[j.jsx("div",{style:{fontSize:12,fontWeight:"bold",marginBottom:8,opacity:.7},children:"TIMELINE (SLOTS)"}),j.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",rowGap:6,fontSize:12},children:[j.jsx("span",{style:{opacity:.6},children:"Current Slot:"}),j.jsx("span",{style:{textAlign:"right",fontWeight:"bold",color:"#2D68EA"},children:Gs(o)}),j.jsx("div",{style:{height:1,background:"rgba(0,0,0,0.1)",gridColumn:"1/-1",margin:"4px 0"}}),j.jsx("span",{style:{opacity:.6},children:"Created:"}),j.jsx("span",{style:{textAlign:"right"},children:Gs(s?.createdSlot||s?.created_slot)}),j.jsx("span",{style:{opacity:.6},children:"Commit Deadline:"}),j.jsx("span",{style:{textAlign:"right"},children:Gs(s?.commitDeadlineSlot||s?.commit_deadline_slot)}),j.jsx("span",{style:{opacity:.6},children:"Pulse Set at:"}),j.jsx("span",{style:{textAlign:"right"},children:Gs(s?.pulseSetSlot||s?.pulse_set_slot)}),j.jsx("span",{style:{opacity:.6},children:"Reveal Deadline:"}),j.jsx("span",{style:{textAlign:"right"},children:Gs(s?.revealDeadlineSlot||s?.reveal_deadline_slot)}),j.jsx("span",{style:{opacity:.6},children:"Sweep at:"}),j.jsx("span",{style:{textAlign:"right"},children:Gs((s?.revealDeadlineSlot||s?.reveal_deadline_slot)&&u?BigInt(s?.revealDeadlineSlot||s?.reveal_deadline_slot)+BigInt(u):null)}),j.jsx("span",{style:{opacity:.6},children:"Settled at:"}),j.jsx("span",{style:{textAlign:"right"},children:Gs(s?.tokenSettledSlot||s?.token_settled_slot)})]})]}),j.jsxs("div",{style:{marginTop:16},children:[j.jsx("div",{style:{fontSize:12,opacity:.5,marginBottom:4},children:"ORACLE PULSE HASH (SHA3-512)"}),S==="closed"?j.jsx("div",{className:"beta-code-block",style:{fontSize:11,background:"rgba(0,0,0,0.03)",color:"#888",border:"1px solid rgba(0,0,0,0.05)",textAlign:"center"},children:" Data cleared (Round Swept)"}):!s?.pulse||Object.values(s.pulse).every(I=>I===0)?j.jsx("div",{className:"beta-code-block",style:{fontSize:11,background:"rgba(234, 179, 8, 0.1)",color:"#ca8a04",border:"1px solid rgba(234, 179, 8, 0.2)",textAlign:"center"},children:" Waiting for external oracle pulse..."}):j.jsx("div",{className:"beta-code-block",style:{fontSize:10,wordBreak:"break-all",background:"#f0fdf4",color:"#166534",border:"1px solid #bbf7d0"},children:j.jsxs("a",{href:`https://explorer.solana.com/block/${s?.pulseSetSlot||s?.pulse_set_slot||0}?cluster=devnet`,target:"_blank",rel:"noopener noreferrer",style:{color:"inherit",textDecoration:"none"},children:[e3(s.pulse)," "]})})]})]}),j.jsx("div",{className:"beta-modal__footer",children:j.jsx("button",{className:"beta-btn beta-btn--soft",onClick:i,style:{width:"100%",color:"white",background:"rgba(255,255,255,0.1)"},children:" Close "})})]})})}const n3="DrsJxZRNuEFHVyj3Sz5CzpVeacpAGHBoZrg9NtRH9JqR",r3={name:"timlg_protocol",version:"0.1.0",spec:"0.1.0",description:"Created with Anchor"},i3=JSON.parse('[{"name":"add_oracle","discriminator":[185,165,165,167,208,207,55,35],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"oracle_set","writable":true,"pda":{"seeds":[{"kind":"const","value":[111,114,97,99,108,101,95,115,101,116]},{"kind":"account","path":"config"}]}},{"name":"admin","signer":true}],"args":[{"name":"oracle","type":"pubkey"}]},{"name":"claim_reward","discriminator":[149,95,181,242,94,90,158,162],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"tokenomics","pda":{"seeds":[{"kind":"const","value":[116,111,107,101,110,111,109,105,99,115]},{"kind":"account","path":"config"}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"ticket","writable":true,"pda":{"seeds":[{"kind":"const","value":[116,105,99,107,101,116]},{"kind":"arg","path":"round_id"},{"kind":"account","path":"user"},{"kind":"arg","path":"nonce"}]}},{"name":"user","writable":true,"signer":true},{"name":"timlg_mint","writable":true},{"name":"timlg_vault","writable":true},{"name":"user_timlg_ata","writable":true},{"name":"reward_fee_pool","writable":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}],"args":[{"name":"round_id","type":"u64"},{"name":"nonce","type":"u64"}]},{"name":"close_round","discriminator":[149,14,81,88,230,226,234,37],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"timlg_vault","writable":true,"pda":{"seeds":[{"kind":"const","value":[116,105,109,108,103,95,118,97,117,108,116]},{"kind":"arg","path":"round_id"}]}},{"name":"timlg_mint"},{"name":"admin","writable":true,"signer":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"round_id","type":"u64"}]},{"name":"commit_batch","discriminator":[27,234,100,224,134,31,168,142],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"timlg_mint"},{"name":"timlg_vault","writable":true},{"name":"user","writable":true,"signer":true},{"name":"user_timlg_ata","writable":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"round_id","type":"u64"},{"name":"entries","type":{"vec":{"defined":{"name":"CommitEntry"}}}}]},{"name":"commit_batch_signed","discriminator":[114,249,180,103,248,14,43,173],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"timlg_mint"},{"name":"timlg_vault","writable":true},{"name":"payer","docs":["Relayer (paga fees)"],"writable":true,"signer":true},{"name":"user_escrow","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,95,101,115,99,114,111,119]},{"kind":"account","path":"user"}]}},{"name":"user_escrow_ata","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,95,101,115,99,114,111,119,95,118,97,117,108,116]},{"kind":"account","path":"user"}]}},{"name":"user"},{"name":"instructions"},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"round_id","type":"u64"},{"name":"entries","type":{"vec":{"defined":{"name":"CommitSignedEntry"}}}}]},{"name":"commit_ticket","discriminator":[15,97,55,56,38,249,88,220],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"timlg_mint"},{"name":"timlg_vault","writable":true},{"name":"ticket","writable":true,"pda":{"seeds":[{"kind":"const","value":[116,105,99,107,101,116]},{"kind":"arg","path":"round_id"},{"kind":"account","path":"user"},{"kind":"arg","path":"nonce"}]}},{"name":"user","writable":true,"signer":true},{"name":"user_timlg_ata","writable":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"round_id","type":"u64"},{"name":"nonce","type":"u64"},{"name":"commitment","type":{"array":["u8",32]}}]},{"name":"create_round","discriminator":[229,218,236,169,231,80,134,112],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"timlg_mint"},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"vault","writable":true,"pda":{"seeds":[{"kind":"const","value":[118,97,117,108,116]},{"kind":"arg","path":"round_id"}]}},{"name":"timlg_vault","writable":true,"pda":{"seeds":[{"kind":"const","value":[116,105,109,108,103,95,118,97,117,108,116]},{"kind":"arg","path":"round_id"}]}},{"name":"admin","writable":true,"signer":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[{"name":"round_id","type":"u64"},{"name":"pulse_index_target","type":"u64"},{"name":"commit_deadline_slot","type":"u64"},{"name":"reveal_deadline_slot","type":"u64"}]},{"name":"create_round_auto","discriminator":[203,214,64,8,185,82,116,71],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"timlg_mint"},{"name":"round_registry","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100,95,114,101,103,105,115,116,114,121]},{"kind":"account","path":"config"}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"account","path":"round_registry.next_round_id","account":"RoundRegistry"}]}},{"name":"vault","writable":true,"pda":{"seeds":[{"kind":"const","value":[118,97,117,108,116]},{"kind":"account","path":"round_registry.next_round_id","account":"RoundRegistry"}]}},{"name":"timlg_vault","writable":true,"pda":{"seeds":[{"kind":"const","value":[116,105,109,108,103,95,118,97,117,108,116]},{"kind":"account","path":"round_registry.next_round_id","account":"RoundRegistry"}]}},{"name":"admin","writable":true,"signer":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[{"name":"pulse_index_target","type":"u64"},{"name":"commit_deadline_slot","type":"u64"},{"name":"reveal_deadline_slot","type":"u64"}]},{"name":"deposit_escrow","discriminator":[226,112,158,176,178,118,153,128],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"timlg_mint","writable":true},{"name":"user_escrow","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,95,101,115,99,114,111,119]},{"kind":"account","path":"user"}]}},{"name":"user_escrow_ata","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,95,101,115,99,114,111,119,95,118,97,117,108,116]},{"kind":"account","path":"user"}]}},{"name":"user","writable":true,"signer":true},{"name":"user_timlg_ata","writable":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}],"args":[{"name":"amount","type":"u64"}]},{"name":"finalize_round","discriminator":[239,160,254,11,254,144,53,148],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"admin","signer":true}],"args":[{"name":"round_id","type":"u64"}]},{"name":"fund_vault","discriminator":[26,33,207,242,119,108,134,73],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"vault","writable":true,"pda":{"seeds":[{"kind":"const","value":[118,97,117,108,116]},{"kind":"arg","path":"round_id"}]}},{"name":"funder","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"round_id","type":"u64"},{"name":"amount","type":"u64"}]},{"name":"init_user_escrow","discriminator":[122,51,129,53,23,2,205,146],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"timlg_mint","writable":true},{"name":"user_escrow","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,95,101,115,99,114,111,119]},{"kind":"account","path":"user"}]}},{"name":"user_escrow_ata","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,95,101,115,99,114,111,119,95,118,97,117,108,116]},{"kind":"account","path":"user"}]}},{"name":"user","writable":true,"signer":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[]},{"name":"initialize_config","discriminator":[208,127,21,1,194,190,196,70],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"timlg_mint","docs":["Mint SPL del token TIMLG (ya creado off-chain en tests o en deploy script)"],"writable":true},{"name":"treasury_sol","docs":[" NUEVO: Treasury SOL (lamports) como system-owned PDA (igual que vault)"],"writable":true,"pda":{"seeds":[{"kind":"const","value":[116,114,101,97,115,117,114,121,95,115,111,108]}]}},{"name":"treasury","docs":["Treasury SPL = TokenAccount PDA controlado por el programa (authority = config PDA)"],"writable":true,"pda":{"seeds":[{"kind":"const","value":[116,114,101,97,115,117,114,121]}]}},{"name":"admin","writable":true,"signer":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[{"name":"stake_amount","type":"u64"},{"name":"commit_window_slots","type":"u64"},{"name":"reveal_window_slots","type":"u64"}]},{"name":"initialize_oracle_set","discriminator":[130,190,220,106,237,202,154,216],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"oracle_set","writable":true,"pda":{"seeds":[{"kind":"const","value":[111,114,97,99,108,101,95,115,101,116]},{"kind":"account","path":"config"}]}},{"name":"admin","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[{"name":"threshold","type":"u8"},{"name":"initial_oracles","type":{"vec":"pubkey"}}]},{"name":"initialize_round_registry","discriminator":[168,224,102,212,197,199,124,55],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round_registry","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100,95,114,101,103,105,115,116,114,121]},{"kind":"account","path":"config"}]}},{"name":"admin","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[{"name":"start_round_id","type":"u64"}]},{"name":"initialize_tokenomics","discriminator":[212,84,141,244,21,193,39,208],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"timlg_mint"},{"name":"tokenomics","writable":true,"pda":{"seeds":[{"kind":"const","value":[116,111,107,101,110,111,109,105,99,115]},{"kind":"account","path":"config"}]}},{"name":"reward_fee_pool","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,101,119,97,114,100,95,102,101,101,95,112,111,111,108]},{"kind":"account","path":"tokenomics"}]}},{"name":"replication_pool","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,101,112,108,105,99,97,116,105,111,110,95,112,111,111,108]},{"kind":"account","path":"tokenomics"}]}},{"name":"admin","writable":true,"signer":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[{"name":"reward_fee_bps","type":"u16"}]},{"name":"recover_funds","discriminator":[194,165,70,223,66,241,45,34],"accounts":[{"name":"config","writable":true},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"ticket","writable":true,"pda":{"seeds":[{"kind":"const","value":[116,105,99,107,101,116]},{"kind":"arg","path":"round_id"},{"kind":"account","path":"user"},{"kind":"account","path":"ticket.nonce","account":"Ticket"}]}},{"name":"user","writable":true,"signer":true,"relations":["ticket"]},{"name":"user_token_account","writable":true},{"name":"timlg_vault","writable":true,"pda":{"seeds":[{"kind":"const","value":[116,105,109,108,103,95,118,97,117,108,116]},{"kind":"arg","path":"round_id"}]}},{"name":"timlg_mint"},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"round_id","type":"u64"}]},{"name":"remove_oracle","discriminator":[60,93,51,197,182,42,170,26],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"oracle_set","writable":true,"pda":{"seeds":[{"kind":"const","value":[111,114,97,99,108,101,95,115,101,116]},{"kind":"account","path":"config"}]}},{"name":"admin","signer":true}],"args":[{"name":"oracle","type":"pubkey"}]},{"name":"reveal_batch","discriminator":[42,176,196,168,123,47,195,121],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"user","signer":true}],"args":[{"name":"round_id","type":"u64"},{"name":"entries","type":{"vec":{"defined":{"name":"RevealEntry"}}}}]},{"name":"reveal_batch_signed","discriminator":[157,126,204,244,23,210,88,121],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"payer","docs":["Relayer paying tx fees (must sign tx)"],"signer":true},{"name":"instructions","address":"Sysvar1nstructions1111111111111111111111111"}],"args":[{"name":"round_id","type":"u64"},{"name":"entries","type":{"vec":{"defined":{"name":"RevealSignedEntry"}}}}]},{"name":"reveal_ticket","discriminator":[223,24,70,21,181,13,151,239],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"ticket","writable":true,"pda":{"seeds":[{"kind":"const","value":[116,105,99,107,101,116]},{"kind":"arg","path":"round_id"},{"kind":"account","path":"user"},{"kind":"arg","path":"nonce"}]}},{"name":"user","signer":true}],"args":[{"name":"round_id","type":"u64"},{"name":"nonce","type":"u64"},{"name":"guess","type":"u8"},{"name":"salt","type":{"array":["u8",32]}}]},{"name":"set_claim_grace_slots","discriminator":[186,199,198,137,128,29,135,49],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"admin","signer":true}],"args":[{"name":"claim_grace_slots","type":"u64"}]},{"name":"set_oracle_pubkey","discriminator":[90,135,153,229,200,95,163,243],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"admin","signer":true}],"args":[{"name":"oracle_pubkey","type":"pubkey"}]},{"name":"set_oracle_threshold","discriminator":[181,85,21,30,120,168,37,233],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"oracle_set","writable":true,"pda":{"seeds":[{"kind":"const","value":[111,114,97,99,108,101,95,115,101,116]},{"kind":"account","path":"config"}]}},{"name":"admin","signer":true}],"args":[{"name":"threshold","type":"u8"}]},{"name":"set_pause","discriminator":[63,32,154,2,56,103,79,45],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"admin","signer":true}],"args":[{"name":"paused","type":"bool"}]},{"name":"set_pulse_signed","discriminator":[50,221,54,125,25,40,123,89],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"instructions","address":"Sysvar1nstructions1111111111111111111111111"}],"args":[{"name":"round_id","type":"u64"},{"name":"pulse","type":{"array":["u8",64]}}]},{"name":"settle_round_tokens","discriminator":[237,209,221,2,7,78,113,158],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"tokenomics","pda":{"seeds":[{"kind":"const","value":[116,111,107,101,110,111,109,105,99,115]},{"kind":"account","path":"config"}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"timlg_mint","writable":true},{"name":"timlg_vault","writable":true},{"name":"treasury","writable":true},{"name":"replication_pool","writable":true},{"name":"payer","writable":true,"signer":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}],"args":[{"name":"round_id","type":"u64"}]},{"name":"sweep_unclaimed","discriminator":[64,168,221,224,42,216,138,144],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"vault","writable":true,"pda":{"seeds":[{"kind":"const","value":[118,97,117,108,116]},{"kind":"arg","path":"round_id"}]}},{"name":"treasury_sol","docs":[" NUEVO: destino del sweep = treasury SOL PDA (lamports)"],"writable":true,"pda":{"seeds":[{"kind":"const","value":[116,114,101,97,115,117,114,121,95,115,111,108]}]}},{"name":"admin","signer":true},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"round_id","type":"u64"}]},{"name":"withdraw_escrow","discriminator":[81,84,226,128,245,47,96,104],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"timlg_mint","writable":true},{"name":"user_escrow","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,95,101,115,99,114,111,119]},{"kind":"account","path":"user"}]}},{"name":"user_escrow_ata","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,95,101,115,99,114,111,119,95,118,97,117,108,116]},{"kind":"account","path":"user"}]}},{"name":"user","writable":true,"signer":true},{"name":"user_timlg_ata","writable":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}],"args":[{"name":"amount","type":"u64"}]}]'),s3=[{name:"Config",discriminator:[155,12,170,224,30,250,204,130]},{name:"OracleSet",discriminator:[128,26,73,134,218,90,126,42]},{name:"Round",discriminator:[87,127,165,51,73,78,116,174]},{name:"RoundRegistry",discriminator:[89,3,13,175,73,80,211,206]},{name:"Ticket",discriminator:[41,228,24,165,78,90,235,200]},{name:"Tokenomics",discriminator:[252,176,228,183,130,36,15,194]},{name:"UserEscrow",discriminator:[242,233,85,38,26,5,142,109]}],a3=[{code:6e3,name:"Unauthorized",msg:"Unauthorized"},{code:6001,name:"Paused",msg:"Protocol paused"},{code:6002,name:"InvalidDeadlines",msg:"Invalid deadlines"},{code:6003,name:"CommitClosed",msg:"Commit window closed"},{code:6004,name:"RevealClosed",msg:"Reveal window closed"},{code:6005,name:"PulseNotSet",msg:"Pulse not set"},{code:6006,name:"PulseAlreadySet",msg:"Round pulse already set"},{code:6007,name:"AlreadyFinalized",msg:"Round already finalized"},{code:6008,name:"NotFinalized",msg:"Round not finalized"},{code:6009,name:"CannotFinalizeYet",msg:"Cannot finalize yet"},{code:6010,name:"AlreadyRevealed",msg:"Already revealed"},{code:6011,name:"CommitmentMismatch",msg:"Commitment mismatch"},{code:6012,name:"InvalidGuess",msg:"Invalid guess (must be 0/1)"},{code:6013,name:"TooManyEntries",msg:"Too many entries"},{code:6014,name:"TicketPdaMismatch",msg:"Ticket PDA mismatch"},{code:6015,name:"TicketAlreadyExists",msg:"Ticket already exists"},{code:6016,name:"TicketNotOwnedByProgram",msg:"Ticket not owned by program"},{code:6017,name:"VaultPdaMismatch",msg:"Vault PDA mismatch"},{code:6018,name:"InsufficientVaultFunds",msg:"Insufficient vault funds"},{code:6019,name:"MissingOrInvalidEd25519Ix",msg:"Missing or invalid ed25519 verify instruction"},{code:6020,name:"Ed25519PubkeyMismatch",msg:"Ed25519 pubkey mismatch"},{code:6021,name:"Ed25519MessageMismatch",msg:"Ed25519 message mismatch"},{code:6022,name:"OracleNotSet",msg:"Oracle pubkey not set"},{code:6023,name:"BitIndexMismatch",msg:"Bit index mismatch"},{code:6024,name:"AccountBorrowFailed",msg:"Failed to borrow account data"},{code:6025,name:"RoundFinalized",msg:"Round is finalized"},{code:6026,name:"CommitAfterPulseSet",msg:"Commit not allowed after pulse is set"},{code:6027,name:"SweepTooEarly",msg:"Sweep not allowed yet (grace period not elapsed)"},{code:6028,name:"AlreadySwept",msg:"Vault already swept for this round"},{code:6029,name:"ClaimAfterSweep",msg:"Cannot claim after vault sweep"},{code:6030,name:"InvalidStakeAmount",msg:"Invalid stake amount"},{code:6031,name:"InvalidWindow",msg:"Invalid window"},{code:6032,name:"MissingBump",msg:"Missing bump"},{code:6033,name:"MathOverflow",msg:"Math overflow"},{code:6034,name:"TIMLGMintMismatch",msg:"timlg_mint does not match config"},{code:6035,name:"InvalidUserTIMLGAta",msg:"Invalid user TIMLG token account"},{code:6036,name:"TicketNotRevealed",msg:"Ticket not revealed"},{code:6037,name:"NotWinner",msg:"Not a winner"},{code:6038,name:"AlreadyClaimed",msg:"Already claimed"},{code:6039,name:"StakeNotPaid",msg:"Stake not paid for this ticket"},{code:6040,name:"InsufficientEscrow",msg:"Insufficient escrow funds"},{code:6041,name:"SignedBatchMixedUsers",msg:"Signed batch contains mixed users"},{code:6042,name:"RoundNotSettled",msg:"Round tokens not settled yet"},{code:6043,name:"SettleTooEarly",msg:"Too early to settle round tokens"},{code:6044,name:"RoundTokensAlreadySettled",msg:"Round tokens already settled"},{code:6045,name:"OracleSetFull",msg:"OracleSet is full"},{code:6046,name:"OracleAlreadyExists",msg:"Oracle already exists in allowlist"},{code:6047,name:"OracleNotFound",msg:"Oracle not found in allowlist"},{code:6048,name:"InvalidThreshold",msg:"Invalid threshold"},{code:6049,name:"ThresholdExceedsOracleCount",msg:"Threshold exceeds current oracle count"},{code:6050,name:"InvalidFeeBps",msg:"Invalid fee bps (must be 0..=10_000)."},{code:6051,name:"InvalidBps",msg:"Invalid basis points (must be <= 10000)"},{code:12052,name:"RefundTooEarly",msg:"Refund too early"},{code:12053,name:"VaultNotEmpty",msg:"Vault not empty"},{code:12054,name:"RevealWindowTooShort",msg:"Reveal window too short"},{code:12055,name:"TokenomicsNotInitialized",msg:"Tokenomics not initialized"},{code:12056,name:"NotSwept",msg:"Round not swept"},{code:12057,name:"RoundTokensNotSettled",msg:"Round tokens not settled"},{code:12058,name:"TicketAlreadyProcessed",msg:"Ticket already processed"}],o3=[{name:"CommitEntry",type:{kind:"struct",fields:[{name:"nonce",type:"u64"},{name:"commitment",type:{array:["u8",32]}}]}},{name:"CommitSignedEntry",type:{kind:"struct",fields:[{name:"user",type:"pubkey"},{name:"nonce",type:"u64"},{name:"commitment",type:{array:["u8",32]}}]}},{name:"Config",type:{kind:"struct",fields:[{name:"admin",type:"pubkey"},{name:"bump",type:"u8"},{name:"stake_amount",type:"u64"},{name:"commit_window_slots",type:"u64"},{name:"reveal_window_slots",type:"u64"},{name:"claim_grace_slots",type:"u64"},{name:"oracle_pubkey",type:"pubkey"},{name:"paused",type:"bool"},{name:"version",type:"u16"},{name:"timlg_mint",type:"pubkey"},{name:"treasury",type:"pubkey"},{name:"treasury_bump",type:"u8"},{name:"treasury_sol",type:"pubkey"},{name:"treasury_sol_bump",type:"u8"}]}},{name:"OracleSet",type:{kind:"struct",fields:[{name:"admin",type:"pubkey"},{name:"bump",type:"u8"},{name:"threshold",docs:["Minimum number of oracle attestations required (PR2 will consume this)."],type:"u8"},{name:"oracles",docs:["Allowlisted oracle pubkeys.","NOTE: fixed max_len to keep account size deterministic."],type:{vec:"pubkey"}},{name:"version",type:"u16"}]}},{name:"RevealEntry",type:{kind:"struct",fields:[{name:"nonce",type:"u64"},{name:"guess",type:"u8"},{name:"salt",type:{array:["u8",32]}}]}},{name:"RevealSignedEntry",type:{kind:"struct",fields:[{name:"user",type:"pubkey"},{name:"nonce",type:"u64"},{name:"guess",type:"u8"},{name:"salt",type:{array:["u8",32]}}]}},{name:"Round",type:{kind:"struct",fields:[{name:"round_id",type:"u64"},{name:"bump",type:"u8"},{name:"state",type:"u8"},{name:"vault",type:"pubkey"},{name:"vault_bump",type:"u8"},{name:"pulse_index_target",type:"u64"},{name:"commit_deadline_slot",type:"u64"},{name:"reveal_deadline_slot",type:"u64"},{name:"created_slot",type:"u64"},{name:"pulse_set",type:"bool"},{name:"pulse",type:{array:["u8",64]}},{name:"pulse_set_slot",type:"u64"},{name:"finalized",type:"bool"},{name:"finalized_slot",type:"u64"},{name:"swept",type:"bool"},{name:"swept_slot",type:"u64"},{name:"timlg_vault",type:"pubkey"},{name:"timlg_vault_bump",type:"u8"},{name:"committed_count",type:"u64"},{name:"revealed_count",type:"u64"},{name:"win_count",type:"u64"},{name:"settled_count",type:"u64"},{name:"token_settled",type:"bool"},{name:"token_settled_slot",type:"u64"}]}},{name:"RoundRegistry",type:{kind:"struct",fields:[{name:"admin",type:"pubkey"},{name:"bump",type:"u8"},{name:"next_round_id",type:"u64"},{name:"version",type:"u16"}]}},{name:"Ticket",type:{kind:"struct",fields:[{name:"round_id",type:"u64"},{name:"user",type:"pubkey"},{name:"nonce",type:"u64"},{name:"bump",type:"u8"},{name:"commitment",type:{array:["u8",32]}},{name:"stake_paid",type:"bool"},{name:"stake_slashed",type:"bool"},{name:"processed",type:"bool"},{name:"revealed",type:"bool"},{name:"guess",type:"u8"},{name:"win",type:"bool"},{name:"bit_index",type:"u16"},{name:"claimed",type:"bool"},{name:"claimed_slot",type:"u64"},{name:"created_slot",type:"u64"},{name:"revealed_slot",type:"u64"}]}},{name:"Tokenomics",type:{kind:"struct",fields:[{name:"admin",type:"pubkey"},{name:"bump",type:"u8"},{name:"reward_fee_bps",docs:["Fee charged on minted rewards (basis points). 100 = 1%."],type:"u16"},{name:"reward_fee_pool",docs:["SPL TokenAccount PDAs (TIMLG mint)"],type:"pubkey"},{name:"reward_fee_pool_bump",type:"u8"},{name:"replication_pool",type:"pubkey"},{name:"replication_pool_bump",type:"u8"},{name:"version",type:"u16"}]}},{name:"UserEscrow",type:{kind:"struct",fields:[{name:"user",type:"pubkey"},{name:"bump",type:"u8"},{name:"created_slot",type:"u64"},{name:"updated_slot",type:"u64"}]}}],QE={address:n3,metadata:r3,instructions:i3,accounts:s3,errors:a3,types:o3},pw=({size:s=14})=>j.jsxs("svg",{width:s,height:s,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"block"},children:[j.jsx("path",{d:"M12 16L7 11H10V4H14V11H17L12 16Z",fill:"currentColor"}),j.jsx("path",{d:"M4 18C4 19.1 4.9 20 6 20H18C19.1 20 20 19.1 20 18V14H18V18H6V14H4V18Z",fill:"currentColor"})]}),mw=({size:s=15})=>j.jsxs("svg",{width:s,height:s,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"block"},children:[j.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2.5"}),j.jsx("path",{d:"M12 12V17",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round"}),j.jsx("circle",{cx:"12",cy:"7.5",r:"1.5",fill:"currentColor"})]});function vl(s){if(s<=0)return"0s";const t=Math.floor(s/60),n=Math.floor(s%60);return t>0?`${t}m ${n}s`:`${n}s`}function El(s){try{return s==null?null:typeof s=="bigint"?s:typeof s=="number"||typeof s=="string"?BigInt(s):typeof s?.toString=="function"?BigInt(s.toString()):null}catch{return null}}function l3({program:s,connection:t,programPk:n,pubkey:i,mintPk:o,appendLog:l,onAfterAction:u,setLastTx:f,actionsEnabled:y=!0,refreshNonce:w=0,limit:S=20,currentSlot:C,activeRoundId:I,nist:x,claimGraceSlots:M,guess:L,doCommitGlobal:z,globalLoading:P,programPkStr:K,rows:G=[],loading:X=!1,error:te=null,doRevealTicket:ce,doClaimTicket:se,doRefundTicket:oe,doSettleRound:F}){xe.useMemo(()=>i?i instanceof _e?i:new _e(i):null,[i]);const Y=G??[],[$,W]=xe.useState(null),[T,h]=xe.useState(null),[_,A]=xe.useState("ALL");function O(ve,ke){const Oe=!!ve.revealed,Ie=!!ve.win,Pe=!!ve.claimed,Ht=!!ve.tokenSettled;if(ve.receipt?.refunded===!0)return"REFUNDED";if(Pe)return"CLAIMED";if(Ie){if(Ht){if(ke&&ve.round&&M!=null){const We=El(ve.round.revealDeadlineSlot||ve.round.reveal_deadline_slot);if(We){const $e=We+BigInt(M);if(BigInt(ke)>$e)return"SWEPT"}}return"CLAIM PRIZE"}return"WIN"}if(Oe&&!Ie)return"LOSS";if(!Oe&&!Ie){if(!ve.round||ve.round.finalized)return"EXPIRED";const We=El(ve.round.revealDeadlineSlot||ve.round.reveal_deadline_slot),$e=!!ve.round.finalized,kt=!!(ve.round.pulseSet||ve.round.pulse_set);if(We&&ke){const Xe=BigInt(ke);if(!$e&&Xe>We+150n)return"REFUND AVAILABLE";if(!$e&&!kt&&Xe>We)return"WAITING PULSE";if(Xe>We)return"EXPIRED";if(kt&&Xe<=We)return"REVEAL NOW"}}return"PENDING"}const H=xe.useMemo(()=>[...Y].sort((ve,ke)=>ve.roundId!==ke.roundId?Number(ve.roundId)-Number(ke.roundId):Number(ve.nonce)-Number(ke.nonce)).map((ve,ke)=>({...ve,absoluteIndex:ke+1})),[Y]),B=xe.useMemo(()=>_==="ALL"?H:H.filter(ve=>{const ke=O(ve,C);return _==="ACTION"?["REVEAL NOW","CLAIM PRIZE","REFUND AVAILABLE"].includes(ke):_==="WIN"?ke==="CLAIM PRIZE"||ke==="WIN":ke===_}),[Y,_,C,M]),E=xe.useMemo(()=>{const ve={};for(const ke of B){const Oe=Number(ke.roundId);ve[Oe]||(ve[Oe]={roundId:Oe,tickets:[],round:ke.round}),ve[Oe].tickets.push(ke)}return Object.values(ve).sort((ke,Oe)=>Oe.roundId-ke.roundId)},[B]),[m,d]=xe.useState(1),[b,N]=xe.useState(5),U=Math.ceil(E.length/b)||1;xe.useEffect(()=>{m>U&&d(U)},[U,m]);const Z=E.slice((m-1)*b,m*b),ae=ve=>ve==="WIN"?"WINNER":ve==="LOSE"||ve==="LOSS"?"LOSS":ve==="CLAIM"||ve==="CLAIM PRIZE"?"READY TO CLAIM":ve,we=async(ve,ke,Oe)=>{try{console.log("Downloading batch for round",ve);const Ie=ke[0]?.ticket?.user?.toString()||"unknown",Pe=await cr(n,Number(ve)),Ht=xl(Ie,ve.toString())||[],We=[],$e=5;for(let Ye=0;Ye<ke.length;Ye+=$e){const Et=ke.slice(Ye,Ye+$e),ge=await Promise.all(Et.map(async Te=>{const Ve=Te.ticket,ze=Ht.find(ee=>ee.nonce!=null&&Ve?.nonce&&Number(ee.nonce)===Number(Ve.nonce)||ee.nonce!=null&&Te.nonce!=null&&Number(ee.nonce)===Number(Te.nonce));let D=ze?{...ze}:Te.receipt?{...Te.receipt}:{};const v=O(Te,C),R=v==="LOSS"||v==="WIN"||v==="CLAIM PRIZE"||v==="CLAIMED"||Te.revealed,V=v==="CLAIMED"||Te.claimed;return(!D.commitTx||!D.revealTx&&R||!D.claimTx&&V)&&Te.ticketPk,{address:Te.ticketPk?.toString(),nonce:Number(Te.nonce??Ve?.nonce??0),bitIndex:Ve?.bitIndex??Ve?.bit_index??null,status:v,prediction:Te.guess===1?"Bull":Te.guess===0?"Bear":"Unknown",transactions:{commit:Te.createdTx||D?.commitTx||null,reveal:Te.revealedTx||D?.revealTx||null,claim:Te.claimedTx||D?.claimTx||null}}}));We.push(...ge)}const kt=ke.map(Ye=>{const Et=O(Ye,C);return{address:Ye.ticketPk?.toString(),nonce:Number(Ye.nonce??Ye.ticket?.nonce??0),bitIndex:Ye.ticket?.bitIndex??null,status:Et,prediction:Ye.guess===1?"Bull":"Bear",receipt:Ye.receipt,transactions:{commit:Ye.createdTx,reveal:Ye.revealedTx,claim:Ye.claimedTx}}}),Xe=J6(ve,Pe,"EXPORTED",Oe,kt,Ie);hw(`timlgs_round_${ve}_batch.json`,Xe)}catch(Ie){console.error(Ie),alert("Export error: "+Ie.message)}},Se=(ve,ke)=>{const Oe=O(ve,C),Ie={ticketPk:ve.ticketPk,roundId:ke,onChainTicket:ve.ticket,receipt:ve.receipt,status:Oe,currentSlot:C,createdTx:{signature:ve.createdTx},revealedTx:{signature:ve.revealedTx},claimedTx:{signature:ve.claimedTx}},Pe=Q6(Ie);hw(`timlgs_ticket_${ve.nonce}.json`,Pe)},qe=ve=>j.jsxs("div",{style:{marginTop:0,padding:"4px 16px",borderTop:ve?"none":"1px solid rgba(0,0,0,0.05)",borderBottom:ve?"1px solid rgba(0,0,0,0.05)":"none",display:"flex",justifyContent:"center",alignItems:"center",gap:6,background:"#fafafa",borderBottomLeftRadius:ve?0:8,borderBottomRightRadius:ve?0:8},children:[j.jsx("button",{className:"beta-btn beta-btn--soft",disabled:m<=1,onClick:()=>d(ke=>ke-1),style:{padding:"6px 12px",opacity:m<=1?.3:1},children:"Previous"}),(()=>{let Oe=[];return U<=11?Oe=Array.from({length:U},(Ie,Pe)=>Pe+1):m<=6?Oe=[1,2,3,4,5,6,7,8,9,"...",U]:m>=U-5?Oe=[1,"...",U-8,U-7,U-6,U-5,U-4,U-3,U-2,U-1,U]:Oe=[1,"...",m-3,m-2,m-1,m,m+1,m+2,m+3,"...",U],Oe.map((Ie,Pe)=>Ie==="..."?j.jsx("span",{style:{padding:"6px 10px",opacity:.5},children:"..."},`ell-${Pe}`):j.jsx("button",{className:`beta-btn ${Ie===m?"beta-btn--primary":"beta-btn--soft"}`,onClick:()=>d(Ie),style:{minWidth:32,padding:"6px 0",textAlign:"center",fontWeight:Ie===m?700:400,background:Ie===m?"#3B82F6":"rgba(0,0,0,0.05)",color:Ie===m?"white":"inherit",border:"none",borderRadius:4},children:Ie},Ie))})(),j.jsx("button",{className:"beta-btn beta-btn--soft",disabled:m>=U,onClick:()=>d(ke=>ke+1),style:{padding:"6px 12px",opacity:m>=U?.3:1},children:"Next"})]});return j.jsxs("div",{className:"beta-card",style:{padding:0,overflow:"hidden",background:"transparent",boxShadow:"none",border:"none"},children:[j.jsx("div",{className:"beta-card",style:{marginBottom:0,borderBottomLeftRadius:0,borderBottomRightRadius:0,borderBottom:"1px solid rgba(0,0,0,0.05)"},children:j.jsx("div",{className:"beta-card__head",style:{padding:"8px 24px"},children:j.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[j.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:8},children:[j.jsx("div",{className:"beta-card__title",style:{fontWeight:700,fontSize:18,whiteSpace:"nowrap"},children:"Order History"}),j.jsxs("span",{style:{fontSize:10,color:"#6B7280",fontWeight:600,opacity:X?.3:1,textTransform:"uppercase",letterSpacing:"0.02em"},children:[B.length," TICKETS / ",E.length," ROUNDS"]})]}),j.jsxs("div",{style:{display:"flex",gap:12},children:[j.jsxs("select",{className:"beta-input",value:_,onChange:ve=>A(ve.target.value),style:{padding:"6px 12px",fontSize:13,cursor:"pointer",minWidth:120},children:[j.jsx("option",{value:"ALL",children:"All Status"}),j.jsx("option",{value:"ACTION",children:"Action Required"}),j.jsx("option",{value:"WIN",children:"Wins"}),j.jsx("option",{value:"LOSS",children:"Loss"}),j.jsx("option",{value:"CLAIMED",children:"Claimed"}),j.jsx("option",{value:"REFUNDED",children:"Refunded"}),j.jsx("option",{value:"SWEPT",children:"Swept"}),j.jsx("option",{value:"EXPIRED",children:"Expired"}),j.jsx("option",{value:"PENDING",children:"Pending"})]}),j.jsxs("select",{className:"beta-input",value:b,onChange:ve=>N(Number(ve.target.value)),style:{padding:"6px 12px",fontSize:13,cursor:"pointer",minWidth:150},children:[j.jsx("option",{value:5,children:"5 Rounds / pg"}),j.jsx("option",{value:10,children:"10 Rounds / pg"}),j.jsx("option",{value:20,children:"20 Rounds / pg"}),j.jsx("option",{value:50,children:"50 Rounds / pg"}),j.jsx("option",{value:100,children:"100 Rounds / pg"})]})]})]})})}),Z.length>0?j.jsxs("div",{className:"beta-card",style:{padding:0,overflow:"hidden",marginTop:0,borderTopLeftRadius:0,borderTopRightRadius:0,borderTop:"none"},children:[qe(!0),j.jsx("div",{className:"beta-table-container",children:j.jsxs("table",{className:"beta-table",children:[j.jsx("thead",{children:j.jsxs("tr",{children:[j.jsx("th",{style:{paddingLeft:24,width:"38%"},children:"Identifier"}),j.jsx("th",{style:{width:"20%"},children:"Status"}),j.jsx("th",{style:{textAlign:"center",width:75},children:"Info"}),j.jsx("th",{style:{textAlign:"center",width:85},children:"Export"}),j.jsx("th",{style:{textAlign:"right",paddingRight:24,width:"22%"},children:"Action"})]})}),j.jsx("tbody",{children:Z.map(({roundId:ve,tickets:ke,round:Oe})=>{const Ie=Oe?.commitDeadlineSlot??Oe?.commit_deadline_slot,Pe=Oe?.revealDeadlineSlot??Oe?.reveal_deadline_slot,Ht=Oe?.pulseIndexTarget??Oe?.pulse_index_target,We=El(Ie)??0n,$e=El(Pe)??0n,kt=El(Ht)??0n,Xe=C?BigInt(C):0n,Ye=!!Oe?.finalized,Et=!!(Oe?.pulseSet||Oe?.pulse_set),ge=!!(Oe?.tokenSettled||Oe?.token_settled),Te=$e>0n&&M?$e+BigInt(M):0n,Ve=$e>0n?$e+150n:0n;let ze="ARCHIVED",D=j.jsx("span",{style:{opacity:.5},children:""});if(Oe)if(Ye)if(Te>0n&&Xe<Te){ze="CLAIM WINDOW";const re=Number(Te-Xe);D=j.jsxs("span",{style:{opacity:.5},children:["Sweep risk in: ",j.jsx("b",{children:vl(re*.45)})]})}else ze="ARCHIVED",D=j.jsx("span",{style:{opacity:.5},children:"Done"});else if(We>0n&&Xe<We){ze="OPEN";const re=Number(We-Xe);D=j.jsxs("span",{style:{opacity:.5},children:["Commit ends: ",j.jsx("b",{children:vl(re*.45)})]})}else if(Ve>0n&&Xe>Ve)ze="REFUND MODE",D=j.jsx("span",{style:{opacity:.6,fontWeight:"bold"},children:"Escape Hatch Active"});else if(Et)if(Xe<=$e){ze="REVEAL OPEN";const re=Number($e-Xe);D=j.jsxs("span",{style:{opacity:.5},children:["Reveal ends: ",j.jsx("b",{children:vl(re*.45)})]})}else ze="AWAITING SETTLE",D=j.jsx("span",{style:{color:"#888",fontWeight:400},children:"Auto-Settling..."});else if(ze="WAITING PULSE",Xe>$e){const re=Number(Ve-Xe);re>0?D=j.jsxs("span",{style:{opacity:.5},children:["Refunds in: ",j.jsx("b",{children:vl(re*.45)})]}):D=j.jsx("span",{style:{opacity:.5},children:"Pulse Delayed"})}else{let re=!1;if(kt&&x?.pulse?.pulseIndex){const Ue=Number(x.pulse.pulseIndex),Ke=Number(kt);if(Ke>Ue){const Le=new Date(x.pulse.timeStamp).getTime(),ht=Ke-Ue,Dt=Le+ht*6e4+12e4-Date.now();Dt>0&&(D=j.jsxs("span",{style:{opacity:.5},children:["Pulse in ~",j.jsx("b",{children:vl(Dt/1e3)})]}),re=!0)}}re||(D=j.jsx("span",{style:{opacity:.5},children:"Waiting for Pulse..."}))}const v=ke.filter(re=>O(re,C)==="REVEAL NOW"&&!re.revealed),R=ke.filter(re=>O(re,C)==="CLAIM PRIZE"&&!re.claimed),V=ke.filter(re=>O(re,C)==="REFUND AVAILABLE"&&!re.receipt?.refunded),ee=Oe&&!Ye&&$e>0n&&Xe>$e&&Et&&!ge;let ie="#f5f5f5";return ze==="OPEN"&&(ie="#e8f5e9"),ze==="WAITING PULSE"&&(ie="#fff9c4"),ze==="REVEAL OPEN"&&(ie="#e3f2fd"),ze==="AWAITING SETTLE"&&(ie="#f3e5f5"),ze==="REFUND MODE"&&(ie="#ffebee"),ze==="CLAIM WINDOW"&&(ie="#e0f2f1"),j.jsxs(j.Fragment,{children:[j.jsxs("tr",{style:{background:ie},children:[j.jsx("td",{style:{paddingLeft:24,borderBottom:"1px solid rgba(0,0,0,0.05)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:j.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,overflow:"hidden"},children:[j.jsxs("span",{style:{fontWeight:800,fontSize:15,whiteSpace:"nowrap"},children:["Round #",ve]}),j.jsx("div",{style:{fontSize:13,opacity:.8,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:D})]})}),j.jsx("td",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:j.jsx("span",{style:{whiteSpace:"nowrap",fontWeight:600,fontSize:13,opacity:.8},children:ze})}),j.jsx("td",{style:{textAlign:"center"},children:j.jsx("button",{className:"beta-btn--ghost beta-btn--mini",title:"Round Details",onClick:()=>h({round:Oe,roundId:ve,currentSlot:C}),children:j.jsx(mw,{})})}),j.jsx("td",{style:{textAlign:"center"},children:j.jsx("button",{className:"beta-btn--ghost",title:"Download Batch",onClick:()=>we(ve,ke,Oe),children:j.jsx(pw,{})})}),j.jsx("td",{style:{textAlign:"right",paddingRight:24},children:v.length>0?j.jsxs("button",{className:"beta-btn beta-btn--sm",style:{background:"#eee",color:"#444",fontWeight:"bold",border:"1px solid #ccc"},onClick:()=>v.forEach(re=>ce(re)),children:["Reveal All (",v.length,")"]}):R.length>0?j.jsxs("button",{className:"beta-btn beta-btn--sm",style:{background:"#eee",color:"#444",fontWeight:"bold",border:"1px solid #ccc"},onClick:()=>R.forEach(re=>se(re)),children:["Claim All (",R.length,")"]}):V.length>0?j.jsxs("button",{className:"beta-btn beta-btn--sm",style:{background:"#eee",color:"#444",fontWeight:"bold",border:"1px solid #ccc"},onClick:()=>V.forEach(re=>oe(re)),children:["Refund All (",V.length,")"]}):ze==="OPEN"?j.jsx("button",{className:"beta-btn beta-btn--sm",style:{background:P?"#f9f9f9":"#eee",color:P?"#aaa":"#444",fontWeight:"bold",border:"1px solid #ccc"},disabled:P,onClick:()=>z({targetRoundId:ve,targetPulseIndex:Number(kt),targetRoundPda:cr(new _e(K),ve),targetTIMLGVaultPda:co(new _e(K),ve),targetCommitDl:We}),children:P?"...":"COMMIT"}):ee?j.jsx("button",{className:"beta-btn beta-btn--sm",style:{background:"#eee",color:"#444",fontWeight:"bold",border:"1px solid #ccc"},onClick:()=>F({roundId:ve}),children:"Manual Settle"}):j.jsx("span",{style:{opacity:.3,fontSize:12},children:""})})]},`round-${ve}`),ke.map(re=>{const Ue=O(re,C);let Ke="#9CA3AF";["WIN","CLAIM PRIZE","CLAIMED"].includes(Ue)&&(Ke="#10B981"),["LOSS","EXPIRED","SWEPT"].includes(Ue)&&(Ke="#EF4444");const Le=re.guess===1?j.jsx($E,{color:Ke,size:20}):re.guess===0?j.jsx(XE,{color:Ke,size:20}):"";let ht=j.jsx("span",{style:{opacity:.2},children:""});return Ue==="REVEAL NOW"&&(ht=j.jsx("button",{className:"beta-btn beta-btn--icon",onClick:()=>ce(re),children:" Reveal"})),Ue==="CLAIM PRIZE"&&(ht=j.jsx("button",{className:"beta-btn beta-btn--icon",onClick:()=>se(re),children:" Claim"})),Ue==="REFUND AVAILABLE"&&(ht=j.jsx("button",{className:"beta-btn beta-btn--icon",onClick:()=>oe(re),children:" Refund"})),j.jsxs("tr",{children:[j.jsx("td",{style:{paddingLeft:48,borderBottom:"1px solid rgba(0,0,0,0.03)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:j.jsxs("div",{style:{fontSize:13,display:"flex",alignItems:"center",gap:12,overflow:"hidden"},children:[j.jsx("span",{style:{opacity:.4},children:""}),j.jsxs("span",{style:{whiteSpace:"nowrap"},children:["Ticket #",re.absoluteIndex]}),j.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4},children:[Le,j.jsx("b",{style:{whiteSpace:"nowrap",fontSize:11,opacity:.6,textTransform:"uppercase"},children:re.guess===1?"Bull":"Bear"})]})]})}),j.jsx("td",{children:j.jsx("span",{style:{fontSize:13,fontWeight:500,opacity:.7,color:Ke!=="#9CA3AF"?Ke:"inherit"},children:ae(Ue)})}),j.jsx("td",{style:{textAlign:"center"},children:j.jsx("button",{className:"beta-btn--ghost beta-btn--mini",onClick:()=>W(re),children:j.jsx(mw,{})})}),j.jsx("td",{style:{textAlign:"center"},children:j.jsx("button",{className:"beta-btn--ghost",onClick:()=>Se(re,ve),children:j.jsx(pw,{})})}),j.jsx("td",{style:{textAlign:"right",paddingRight:24},children:ht})]},re.ticketPk?.toString())})]})})})]})}),qe(!1)]}):j.jsx("div",{className:"beta-card",style:{padding:40,textAlign:"center",opacity:.5},children:"No history found."}),j.jsx(X6,{ticket:$,connection:t,programPk:n,claimGraceSlots:M,onClose:()=>W(null),currentSlot:C}),T&&j.jsx(t3,{round:T.round,roundId:T.roundId,programPk:n,rPda:null,currentSlot:C,claimGraceSlots:M,connection:t,onClose:()=>h(null)})]})}function c3({stats:s,chainState:t}){const{breakdown:n,total:i}=s||{};if(!i||!n)return null;const o=n,l=i-o.REFUNDED-o.PENDING,u=s.revealed,f=o.EXPIRED,y=o.WIN,w=o.LOSS,S=o.CLAIMED,C=o.SWEPT,I=y-S-C,x=800,M=300,L=14,z=35,P=150,K={total:"#64748b",refunded:"#f59e0b",pending:"#0ea5e9",played:"#3b82f6",expired:"#ef4444",revealed:"#10b981",win:"#8b5cf6",loss:"#f43f5e",claimed:"#6366f1",swept:"#d97706",unclaimed:"#a855f7"},G=20,X=G+P,te=X+P,ce=te+P,se=ce+P,oe=i>0?i:1,F=Pe=>Pe/oe*(M-z*2),Y=F(i),$=F(o.REFUNDED),W=F(o.PENDING),T=F(l),h=F(f),_=F(u),A=F(y),O=F(w),H=F(S),B=F(C),E=F(I),m=[{id:"total",x:G,y:(M-Y)/2,h:Y,label:`Total ${i}`,color:K.total,align:"left"},{id:"refunded",x:X,y:(M-Y)/2,h:$,label:`Refunded ${o.REFUNDED}`,color:K.refunded,align:"left"},{id:"pending",x:X,y:(M-Y)/2+$+4,h:W,label:`Pending ${o.PENDING}`,color:K.pending,align:"left"},{id:"played",x:X,y:(M-Y)/2+$+W+8,h:T,label:`Played ${l}`,color:K.played,align:"left"},{id:"expired",x:te,y:(M-Y)/2+$+W+8,h,label:`Expired ${f}`,color:K.expired,align:"left"},{id:"revealed",x:te,y:(M-Y)/2+$+W+h+16,h:_,label:`Revealed ${u}`,color:K.revealed,align:"left"},{id:"loss",x:ce,y:(M-Y)/2+$+W+h+16,h:O,label:`Loss ${w}`,color:K.loss,align:"left"},{id:"win",x:ce,y:(M-Y)/2+$+W+h+O+24,h:A,label:`Win ${y}`,color:K.win,align:"left"},{id:"claimed",x:se,y:(M-Y)/2+$+W+h+O+24,h:H,label:`Claimed ${S}`,color:K.claimed,align:"left"},{id:"swept",x:se,y:(M-Y)/2+$+W+h+O+H+28,h:B,label:`Swept ${C}`,color:K.swept,align:"left"},{id:"unclaimed",x:se,y:(M-Y)/2+$+W+h+O+H+B+32,h:E,label:`Unclaimed ${I}`,color:K.unclaimed,align:"left"}],d=m[0],b=m[1],N=m[2],U=m[3],Z=m[4],ae=m[5],we=m[6],Se=m[7],qe=m[8],ve=m[9],ke=m[10],Oe=xe.useMemo(()=>{const Pe=[{from:K.total,to:K.refunded,id:"g-tr"},{from:K.total,to:K.pending,id:"g-tp"},{from:K.total,to:K.played,id:"g-tl"},{from:K.played,to:K.expired,id:"g-le"},{from:K.played,to:K.revealed,id:"g-lr"},{from:K.revealed,to:K.loss,id:"g-rl"},{from:K.revealed,to:K.win,id:"g-rw"},{from:K.win,to:K.claimed,id:"g-wc"},{from:K.win,to:K.swept,id:"g-ws"},{from:K.win,to:K.unclaimed,id:"g-wu"}];return j.jsx("defs",{children:Pe.map(Ht=>j.jsxs("linearGradient",{id:Ht.id,x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[j.jsx("stop",{offset:"0%",stopColor:Ht.from,stopOpacity:"0.4"}),j.jsx("stop",{offset:"100%",stopColor:Ht.to,stopOpacity:"0.4"})]},Ht.id))})},[]),Ie=(Pe,Ht,We,$e,kt,Xe)=>{if(kt<=0)return null;const Ye=Pe.x+L,Et=Pe.y+We,ge=Ht.x,Te=Ht.y+$e,Ve=(Ye+ge)/2,ze=[`M${Ye},${Et}`,`C${Ve},${Et} ${Ve},${Te} ${ge},${Te}`,`v${kt}`,`C${Ve},${Te+kt} ${Ve},${Et+kt} ${Ye},${Et+kt}`,"Z"].join(" ");return j.jsx("path",{d:ze,fill:`url(#${Xe})`,className:"beta-sankey-path"},`${Xe}-${We}`)};return j.jsx("div",{className:"beta-sankey-container",style:{width:"100%",overflowX:"auto",overflowY:"hidden",background:"rgba(0,0,0,0.02)",borderRadius:12,padding:"10px 0"},children:j.jsxs("svg",{width:x,height:M,viewBox:`0 0 ${x} ${M}`,style:{display:"block",margin:"0 auto"},children:[Oe,Ie(d,b,0,0,$,"g-tr"),Ie(d,N,$,0,W,"g-tp"),Ie(d,U,$+W,0,T,"g-tl"),Ie(U,Z,0,0,h,"g-le"),Ie(U,ae,h,0,_,"g-lr"),Ie(ae,we,0,0,O,"g-rl"),Ie(ae,Se,O,0,A,"g-rw"),Ie(Se,qe,0,0,H,"g-wc"),Ie(Se,ve,H,0,B,"g-ws"),Ie(Se,ke,H+B,0,E,"g-wu"),m.map((Pe,Ht)=>{const We=Pe.align==="right",$e=We?Pe.x-6:Pe.x+L+6,kt=We?"end":"start";return j.jsxs("g",{className:"beta-sankey-node",children:[j.jsx("rect",{x:Pe.x,y:Pe.y,width:L,height:Pe.h,fill:Pe.color,rx:1}),Pe.h>1&&j.jsx("text",{x:$e,y:Pe.y+Pe.h/2,dominantBaseline:"middle",textAnchor:kt,fontSize:"10",fontWeight:"800",fill:Pe.color,style:{opacity:.9,userSelect:"none"},children:Pe.label})]},Pe.id)})]})})}function u3(){return typeof window>"u"?null:window?.phantom?.solana??window?.solana??null}function f3(s,t){return!s?.isPhantom||!t?null:{publicKey:t,signTransaction:s.signTransaction.bind(s),signAllTransactions:s.signAllTransactions.bind(s)}}function d3({rpcUrl:s,programId:t,pubkey:n}){const i=xe.useMemo(()=>u3(),[]),o=xe.useMemo(()=>new pp(s,"confirmed"),[s]),[l,u]=xe.useState(null),[f,y]=xe.useState(!1);return xe.useEffect(()=>{let w=!0;async function S(){try{if(!i||!n){w&&(u(null),y(!1));return}const C=f3(i,n);if(!C){w&&(u(null),y(!1));return}const I=new Ml(o,C,{commitment:"confirmed"}),x=await yo.at(t,I);w&&(u(x),y(!0))}catch{w&&(u(null),y(!1))}}return S(),()=>{w=!1}},[i,n,t,o]),{program:l,connection:o,walletReady:f}}function h3({chainId:s=2}={}){const n="https://beacon.nist.gov/beacon/2.0",i=xe.useMemo(()=>[`${n}/chain/${s}/pulse/last`,`${n}/pulse/last`],[n,s]),[o,l]=xe.useState(null),[u,f]=xe.useState(""),[y,w]=xe.useState(Date.now());async function S(){f("");for(const L of i)try{const z=await fetch(L,{cache:"no-store"});if(!z.ok)throw new Error(`HTTP ${z.status}`);const P=await z.json(),K=P?.pulse||P;if(!K?.pulseIndex||!K?.timeStamp)throw new Error("Unexpected NIST response");l({pulseIndex:Number(K.pulseIndex),timeStamp:String(K.timeStamp)});return}catch(z){f(z?.message??String(z))}}xe.useEffect(()=>{S();const L=setInterval(()=>w(Date.now()),1e3),z=setInterval(()=>S(),15e3);return()=>{clearInterval(L),clearInterval(z)}},[]);let C=null,I=null,x=null;if(o?.timeStamp){const L=Date.parse(o.timeStamp);if(!Number.isNaN(L)){C=L;const z=Math.max(0,y-L);I=Math.floor(z/1e3);const P=6e4-z%6e4;x=Math.max(0,Math.ceil(P/1e3)),x>60&&(x=60)}}const M=o?.pulseIndex!=null?`${n}/chain/${s}/pulse/${o.pulseIndex}`:`${n}/chain/${s}/pulse/last`;return{pulse:o,pulseTimeMs:C,elapsedSec:I,nextInSec:x,err:u,pulseUrl:M}}function sr(s,...t){for(const n of t)if(s&&Object.prototype.hasOwnProperty.call(s,n))return s[n]}function Vs(s){return s==null?null:typeof s=="bigint"?s:typeof s=="number"||typeof s=="string"?BigInt(s):typeof s=="object"&&typeof s.toString=="function"?BigInt(s.toString()):null}function p3({rpcUrl:s,connection:t,programId:n,pubkey:i}){const o=xe.useMemo(()=>t||new pp(s,"processed"),[t,s]),l=xe.useMemo(()=>new Rp(QE),[]),[u,f]=xe.useState(null),[y,w]=xe.useState(""),S=xe.useCallback(async()=>{if(!i){f(null),w("");return}try{const C=Ni(n),I=FE(n,C),x=await o.getAccountInfo(I,"processed"),M=await o.getAccountInfo(C,"processed");if(!x?.data||!M?.data){const B=Gu(n,C);f({configPda:C,config:null,roundRegistryPda:I,rrPda:I,roundId:null,roundPda:null,timlgVaultPda:null,round:null,tokenomicsPda:B,tokenomicsExists:!1,rewardFeePoolPda:null,deriveTicketPda:()=>null}),w("Protocol not fully initialized (Config or RR missing).");return}const L=l.decode("Config",M.data),z={claimGraceSlots:Vs(sr(L,"claimGraceSlots","claim_grace_slots")),paused:!!sr(L,"paused"),stakeAmount:Vs(sr(L,"stakeAmount","stake_amount"))},P=l.decode("RoundRegistry",x.data),K=sr(P,"nextRoundId","next_round_id"),G=Vs(K)??0n,X=G>0n?Number(G-1n):0,te=await o.getSlot("processed"),se=Math.max(0,X-10+1),oe=[];for(let B=se;B<=X;B++)oe.push(B);const F=oe.map(B=>cr(n,B)),Y=await o.getMultipleAccountsInfo(F,"processed"),$={};let W=null;Y.forEach((B,E)=>{if(!B?.data)return;const m=oe[E],d=l.decode("Round",B.data),b={roundId:m,pulseSet:!!sr(d,"pulseSet","pulse_set"),finalized:!!sr(d,"finalized"),tokenSettled:!!sr(d,"tokenSettled","token_settled"),commitDeadlineSlot:Vs(sr(d,"commitDeadlineSlot","commit_deadline_slot")),revealDeadlineSlot:Vs(sr(d,"revealDeadlineSlot","reveal_deadline_slot")),pulseIndexTarget:Vs(sr(d,"pulseIndexTarget","pulse_index_target")),pulse:sr(d,"pulse"),pulseSetSlot:Vs(sr(d,"pulseSetSlot","pulse_set_slot"))},N=Number(b.pulseIndexTarget);$[N.toString()]=b,m===X&&(W=b)});const T=Gu(n,C),h=await o.getAccountInfo(T,"processed"),_=!!h?.data;let A=0;if(_)try{const B=l.decode("Tokenomics",h.data);A=Number(sr(B,"rewardFeeBps","reward_fee_bps")??0)}catch{}const O=_?ZE(n,T):null;f({configPda:C,config:z,roundRegistryPda:I,rrPda:I,roundId:X,roundPda:cr(n,X),timlgVaultPda:co(n,X),currentSlot:te,round:W,activeRounds:$,tokenomicsPda:T,tokenomicsExists:_,rewardFeeBps:A,rewardFeePoolPda:O,deriveTicketPda:(B,E,m)=>YE(n,B,E,m)});const H=W?.pulseIndexTarget?.toString()??"N/A";w(`Pipeline: ${Object.keys($).length} rounds. Latest Target: ${H}`)}catch(C){f(null),w("Play: could not load protocol state"),console.error("useProtocolState refresh error:",C)}},[l,o,n,i]);return xe.useEffect(()=>{if(!i)return;let C=!1;const I=async()=>{C||document.visibilityState==="visible"&&await S()},x=u?.round&&u?.currentSlot!=null&&u.round.commitDeadlineSlot!=null&&BigInt(u.currentSlot)<u.round.commitDeadlineSlot,L=u?.round&&(x||!u.round.pulseSet||!u.round.finalized)?2e3:8e3;I();const z=setInterval(I,L);return()=>{C=!0,clearInterval(z)}},[i,S,u?.round?.pulseSet,u?.round?.finalized]),{chainState:u,statusLine:y,refreshNow:S}}const yw=122,m3=16,bu=5e3,y3=3e4;function m0(s,t=0){try{return s==null?t:typeof s=="number"?s:typeof s?.toNumber=="function"?s.toNumber():typeof s?.toString=="function"?Number(s.toString()):t}catch{return t}}function or(s,t,n=void 0){for(const i of t)if(s&&s[i]!==void 0)return s[i];return n}function g3({ticket:s,round:t}){const n=!!or(s,["revealed"],!1),i=!!or(s,["win"],!1);return or(s,["claimed"],!1)?"CLAIMED":n?i?!!or(t,["tokenSettled","token_settled"],!1)?"CLAIM":"WIN":"LOSE":"PENDING"}function b3(s){const t=String(s?.message||s||"");return t.includes("429")||t.toLowerCase().includes("too many requests")}function wu(s){if(!s)return"Unknown error";const t=typeof s=="string"?s:s?.message||s?.toString?.()||"Unknown error";return t.toLowerCase().includes("user rejected")?"User rejected":t.toLowerCase().includes("declined")?"User declined":t}function _u(s){const t=s?.logs||s?.error?.logs||s?.data?.logs;return Array.isArray(t)&&t.length?t:null}function w3({program:s,connection:t,programPk:n,userPubkey:i,mintPk:o,appendLog:l,onAfterAction:u,setLastTx:f,limit:y=20}){const w=xe.useMemo(()=>new Rp(QE),[]),[S,C]=xe.useState([]),[I,x]=xe.useState(!1),[M,L]=xe.useState(null),[z,P]=xe.useState(null),[K,G]=xe.useState(0),X=xe.useRef(!1),te=xe.useRef(bu),ce=xe.useRef(0),se=xe.useRef(null),oe=xe.useCallback(async(T="manual")=>{if(!t||!n||!i){P(Date.now());return}const h=Date.now();if(T==="action"&&(ce.current=0),!(h<ce.current)&&!X.current)try{X.current=!0,x(!0),L(null),G(0);const _=i.toBase58(),O=(await t.getProgramAccounts(n,{commitment:"confirmed",filters:[{dataSize:yw},{memcmp:{offset:m3,bytes:_}}]})).map(U=>{try{const Z=w.decode("Ticket",je.Buffer.from(U.account.data)),ae=m0(or(Z,["roundId","round_id"],0),0),we=m0(or(Z,["createdSlot","created_slot"],0),0),Se=m0(or(Z,["nonce"],0),0),ve=xl(_,ae).find(ke=>ke.ticketPda===U.pubkey.toBase58())||null;return{ticketPk:U.pubkey,ticket:Z,roundId:ae,createdSlot:we,nonce:Se,receipt:ve}}catch{return null}}).filter(Boolean),H=new Set(O.map(U=>U.ticketPk.toBase58())),E=V6(_).filter(U=>U.refunded&&!H.has(U.ticketPda)).map(U=>({ticketPk:new _e(U.ticketPda),ticket:null,roundId:U.roundId,createdSlot:U.createdSlot||0,nonce:U.nonce,receipt:U})),m=[...O,...E].sort((U,Z)=>(Z.createdSlot??0)-(U.createdSlot??0)).slice(0,Math.max(1,y)),d=Array.from(new Set(m.map(U=>U.roundId))).filter(U=>U!=null),b=new Map;if(d.length){const U=await Promise.all(d.map(we=>cr(n,we))),Z=[],ae=100;for(let we=0;we<U.length;we+=ae){const Se=U.slice(we,we+ae),qe=await t.getMultipleAccountsInfo(Se,"confirmed");Z.push(...qe)}for(let we=0;we<d.length;we++){const Se=Z[we];if(Se?.data)try{b.set(d[we],w.decode("Round",je.Buffer.from(Se.data)))}catch{}}}const N=m.map(U=>{const Z=b.get(U.roundId)||null,ae=!!or(U.ticket,["revealed"],!1),we=or(U.ticket,["guess"],null),Se=ae?we:U.receipt?.guess??null,qe=!!or(U.ticket,["win"],!1),ve=!!or(U.ticket,["claimed"],!1),ke=!!or(Z,["pulseSet","pulse_set"],!1),Oe=!!or(Z,["tokenSettled","token_settled"],!1),Ie=g3({ticket:U.ticket,round:Z});return{...U,round:Z,guess:Se,win:qe,revealed:ae,claimed:ve,pulseSet:ke,tokenSettled:Oe,uiStatus:Ie}});C(N),P(Date.now()),te.current=bu,ce.current=0}catch(_){const A=_?.message||String(_);if(L(A),P(Date.now()),b3(_)){const O=Math.min(te.current*2,y3),H=Math.floor(500+Math.random()*1500);te.current=O;const B=O+H,E=Date.now()+B;ce.current=E,G(Math.ceil(B/1e3)),se.current&&clearInterval(se.current),se.current=setInterval(()=>{const m=Math.max(0,Math.ceil((ce.current-Date.now())/1e3));G(m),m<=0&&(clearInterval(se.current),se.current=null)},500)}else T!=="poll"&&l?.(`Tickets refresh error: ${A}`)}finally{X.current=!1,x(!1)}},[t,n,i,w,y,l]);xe.useEffect(()=>{let T=null,h=!1;const _=async()=>{h||(document.visibilityState==="visible"&&await oe("poll"),T=setTimeout(_,bu))},A=800+Math.floor(Math.random()*1200);T=setTimeout(()=>oe("init"),A);const O=setTimeout(_,bu);return()=>{h=!0,T&&clearTimeout(T),O&&clearTimeout(O),se.current&&clearInterval(se.current),se.current=null}},[oe]);const F=xe.useCallback(async T=>{if(!s||!i)throw new Error("Wallet not connected");if(!T?.receipt?.saltHex)throw new Error("Missing local receipt for this ticket (salt).");const h=await Ni(n),_=await cr(n,T.roundId),A=VE(T.receipt.saltHex);l?.(`Reveal: sending tx (round=${T.roundId}, nonce=${T.nonce})`);try{const O=await s.methods.revealTicket(new mn(T.roundId),new mn(T.nonce),Number(T.receipt.guess),Array.from(A)).accounts({config:h,round:_,user:i,ticket:T.ticketPk}).rpc();l?.(`Reveal OK  tx=${O}`);try{if(T.receipt){const H={...T.receipt,revealTx:O,revealedAt:Date.now()};Gr(i.toBase58(),T.roundId,H)}}catch(H){console.error("Failed to save reveal receipt",H)}return f?.(O),u?.(),await oe("action"),O}catch(O){const H=wu(O);if(H.includes("already processed")||H.includes("0x0")){if(l?.("Reveal success (already processed) "),T.receipt){const E={...T.receipt,revealTx:"already-processed",revealedAt:Date.now()};Gr(i.toBase58(),T.roundId,E)}return await oe("action"),"already-processed"}l?.(`Reveal failed: ${H}`);const B=_u(O);return B?.length&&B.slice(0,12).forEach(E=>l?.(`  ${E}`)),null}},[s,n,i,l,f,u,oe]),Y=xe.useCallback(async T=>{if(!s||!i)throw new Error("Wallet not connected");if(!o)throw new Error("Mint not set");const h=await Ni(n),_=await cr(n,T.roundId),A=await Gu(n,h),O=await ZE(n,A),H=await co(n,T.roundId),B=await ps.token.associatedAddress({mint:o,owner:i});l?.(`Claim: sending tx (round=${T.roundId}, nonce=${T.nonce})`);try{const E=await s.methods.claimReward(new mn(T.roundId),new mn(T.nonce)).accounts({config:h,tokenomics:A,round:_,ticket:T.ticketPk,user:i,timlgMint:o,timlgVault:H,userTIMLGAta:B,rewardFeePool:O,tokenProgram:ps.token.TOKEN_PROGRAM_ID}).rpc();l?.(`Claim OK  tx=${E}`);try{if(T.receipt){const m={...T.receipt,claimTx:E,claimedAt:Date.now()};Gr(i.toBase58(),T.roundId,m)}}catch(m){console.error("Failed to save claim receipt",m)}return f?.(E),u?.(),await oe("action"),E}catch(E){const m=wu(E);if(m.includes("already processed")||m.includes("0x0")){if(l?.("Claim success (already processed) "),T.receipt){const b={...T.receipt,claimTx:"already-processed",claimedAt:Date.now()};Gr(i.toBase58(),T.roundId,b)}return await oe("action"),"already-processed"}l?.(`Claim failed: ${m}`);const d=_u(E);return d?.length&&d.slice(0,12).forEach(b=>l?.(`  ${b}`)),null}},[s,n,i,o,l,f,u,oe]),$=xe.useCallback(async T=>{if(!s||!i)throw new Error("Wallet not connected");if(!o)throw new Error("Mint not set");const h=await Ni(n),_=await cr(n,T.roundId),A=await co(n,T.roundId),O=await ps.token.associatedAddress({mint:o,owner:i});l?.(`Refund: recovering funds (round=${T.roundId})`);try{const H=await s.methods.recoverFunds(new mn(T.roundId)).accounts({config:h,round:_,ticket:T.ticketPk,user:i,userTokenAccount:O,timlgVault:A,timlgMint:o,tokenProgram:ps.token.TOKEN_PROGRAM_ID,systemProgram:yn.programId}).rpc();l?.(`Refund OK  tx=${H}`);try{const B=i.toBase58();let m=xl(B,T.roundId).find(d=>d.ticketPda===T.ticketPk.toBase58());m?(m.refunded=!0,m.refundedTx=H,T.createdSlot&&(m.createdSlot=T.createdSlot)):m={ticketPda:T.ticketPk.toBase58(),roundId:T.roundId,nonce:T.nonce,commitment:null,timestamp:Date.now(),createdSlot:T.createdSlot,refunded:!0,refundedTx:H},Gr(B,T.roundId,m)}catch(B){console.error("Failed to update receipt for refund:",B)}return console.log("Receipt saved/updated successfully for",T.ticketPk.toBase58()),f?.(H),u?.(),await oe("action"),H}catch(H){console.error("Refund RPC Failed:",H),l?.(`Refund failed: ${wu(H)}`);const B=_u(H);return B?.length&&B.slice(0,12).forEach(E=>l?.(`  ${E}`)),null}},[s,n,i,o,l,f,u,oe]),W=xe.useCallback(async T=>{if(!s||!i)throw new Error("Wallet not connected");if(!o)throw new Error("Mint not set");l?.(`Settle: discovering tickets for round ${T.roundId}...`);const h=await Ni(n),_=await cr(n,T.roundId),A=await Gu(n,h),O=await co(n,T.roundId),H=await j6(n),B=await z6(n,A),E=new mn(T.roundId),m=E.toArrayLike(je.Buffer,"le",8),d=await t.getProgramAccounts(n,{commitment:"confirmed",filters:[{dataSize:yw},{memcmp:{offset:8,bytes:ps.bytes.bs58.encode(m)}}]}),b=[];for(const N of d)try{w.decode("Ticket",N.account.data).processed===!1&&b.push({pubkey:N.pubkey,isSigner:!1,isWritable:!0})}catch{}if(b.length===0)return l?.("Settle: No unprocessed tickets found."),null;l?.(`Settle: found ${b.length} tickets to process.`);try{const N=await s.methods.settleRoundTokens(E).accounts({config:h,tokenomics:A,round:_,timlgMint:o,timlgVault:O,treasury:H,replicationPool:B,payer:i,tokenProgram:ps.token.TOKEN_PROGRAM_ID}).remainingAccounts(b).rpc();l?.(`Settle OK  tx=${N}`);try{const U=i.toBase58(),Z=xl(U,T.roundId),ae=new Set(Z.map(we=>we.ticketPda));for(const we of b){const Se=we.pubkey.toBase58();if(ae.has(Se)){const qe=Z.find(ve=>ve.ticketPda===Se);qe&&(qe.claimTx=N,qe.claimedAt=Date.now(),Gr(U,T.roundId,qe))}}}catch(U){console.error("Failed to save settle receipts",U)}return f?.(N),u?.(),await oe("action"),N}catch(N){l?.(`Settle failed: ${wu(N)}`);const U=_u(N);return U?.length&&U.slice(0,12).forEach(Z=>l?.(`  ${Z}`)),null}},[s,n,i,o,t,w,l,f,u,oe]);return{rows:S,loading:I,error:M,lastUpdatedAt:z,retryInSec:K,forceRefresh:()=>oe("manual"),doRevealTicket:F,doClaimTicket:Y,doRefundTicket:$,doSettleRound:W}}D_("devnet");const vu="https://api.devnet.solana.com",_3="BETA2026",Eu="DrsJxZRNuEFHVyj3Sz5CzpVeacpAGHBoZrg9NtRH9JqR",y0="https://timlg-faucet.vercel.app/api/faucet",Su="7nJ9vaCpjo3zDY1fzZv1KicjoZ6yPpzHFcKq3HDh8cEf",v3=+"0.05",E3=1;function g0(){return typeof window>"u"?null:window?.phantom?.solana??window?.solana??null}function S3(){const s=new Date,t=n=>String(n).padStart(2,"0");return`${t(s.getUTCHours())}:${t(s.getUTCMinutes())}:${t(s.getUTCSeconds())}Z`}function A3(){const s=xe.useMemo(()=>new _e(Eu),[]),t=xe.useMemo(()=>new _e(Su),[]),[n,i]=xe.useState(!0),[o,l]=xe.useState(null),[u,f]=xe.useState(null),[y,w]=xe.useState(null),[S,C]=xe.useState(_3),[I,x]=xe.useState(""),[M,L]=xe.useState(""),[z,P]=xe.useState([]),K=xe.useCallback(ge=>{const Te=String(ge??"").trim();Te&&P(Ve=>{const ze=[...Ve,`[${S3()}] ${Te}`];return ze.length>400?ze.slice(-400):ze})},[]),G=xe.useCallback(()=>P([]),[]),X=xe.useMemo(()=>new URLSearchParams(window.location.search).get("demo")==="true",[]),te=X?"DEM0_AUD1T_MODE_VAL1D_PK":o?.toBase58?.()??null,ce=X?12.456:u,se=X?942.5:y,{program:oe,connection:F,walletReady:Y}=d3({rpcUrl:vu,programId:s,pubkey:o}),$=h3({chainId:2}),{chainState:W,statusLine:T,refreshNow:h}=p3({rpcUrl:vu,connection:F,programId:s,pubkey:o}),[_,A]=xe.useState(0),[O,H]=xe.useState(-1),[B,E]=xe.useState(!1),[m,d]=xe.useState(""),[b,N]=xe.useState(!1),U=xe.useCallback(()=>{A(ge=>ge+1),setTimeout(()=>A(ge=>ge+1),1e3),setTimeout(()=>A(ge=>ge+1),3e3)},[]),{rows:Z=[],loading:ae,error:we,doRevealTicket:Se,doClaimTicket:qe,doRefundTicket:ve,doSettleRound:ke}=w3({program:oe,connection:F,programPk:s,userPubkey:X?null:o,mintPk:t,appendLog:K,onAfterAction:U,setLastTx:d,refreshNonce:_,limit:1e3})||{},Oe=xe.useMemo(()=>{if(X)return{total:489,revealed:310,pending:87,wins:146,winRate:40.3,netProfit:-70,efficiency:86,countable:362,breakdown:{WIN:146,LOSS:164,EXPIRED:52,PENDING:87,REFUNDED:40,CLAIMED:107,SWEPT:23},streak:5};if(!Z||!Z.length)return null;let ge=0,Te=0,Ve=0,ze=0,D=0,v=0;const R={WIN:0,LOSS:0,EXPIRED:0,PENDING:0,REFUNDED:0,CLAIMED:0,SWEPT:0},ee=W?.config?.stakeAmount?Number(W.config.stakeAmount):1,ie=W?.rewardFeeBps??0,re=W?.currentSlot?BigInt(W.currentSlot):null;Z.forEach(Ot=>{if(ge++,Ot.receipt?.refunded===!0){R.REFUNDED++;return}const _t=Ot.round?.revealDeadlineSlot||Ot.round?.reveal_deadline_slot?BigInt(Ot.round.revealDeadlineSlot||Ot.round.reveal_deadline_slot):null,Lt=!Ot.revealed&&!Ot.win&&_t&&re&&re>_t;if(!(Ot.revealed||Lt)){ze++,R.PENDING++;return}if(D++,Ot.revealed)if(Ve++,Ot.win){Te++,R.WIN++,Ot.claimed?R.CLAIMED++:Ot.round?.swept&&R.SWEPT++;const lt=Math.floor(ee*ie/1e4),xt=ee-lt;v+=xt}else R.LOSS++,v-=ee;else R.EXPIRED++,v-=ee});const Ue=D>0?Te/D*100:0,Ke=ge>0?Ve/(ge-R.REFUNDED-ze)*100:0,Le=new Map;Z.forEach(Ot=>{Ot.receipt?.refunded!==!0&&(Le.has(Ot.roundId)||Le.set(Ot.roundId,[]),Le.get(Ot.roundId).push(Ot))});const ht=Array.from(Le.keys()).sort((Ot,_t)=>_t-Ot);let Je=0,Dt=!1;for(const Ot of ht){if(Dt)break;const _t=Le.get(Ot);if(!_t.every(lt=>{const xt=lt.round?.revealDeadlineSlot||lt.round?.reveal_deadline_slot?BigInt(lt.round.revealDeadlineSlot||lt.round.reveal_deadline_slot):null,ca=!lt.revealed&&!lt.win&&xt&&re&&re>xt;return lt.revealed||ca}))continue;_t.some(lt=>lt.revealed&&lt.win)?Je++:Dt=!0}return{total:ge,revealed:Ve,pending:ze,wins:Te,winRate:Ue,netProfit:v,efficiency:Ke,countable:D,breakdown:R,streak:Je}},[Z,W?.config?.stakeAmount,W?.rewardFeeBps,W?.currentSlot]);xe.useEffect(()=>{if(!Oe||!Oe.breakdown)return;const ge=Oe.breakdown,Te=Oe.total-ge.REFUNDED;K("--- PERFORMANCE AUDIT REPORT ---"),K(`TOTAL TICKETS: ${Oe.total} [REFUNDED: ${ge.REFUNDED} | PLAYED: ${Te}]`),K(`LIFECYCLE: REVEALED: ${Oe.revealed} | EXPIRED: ${ge.EXPIRED} | PENDING: ${ge.PENDING}`),K(`OUTCOMES: WINS: ${ge.WIN} | LOSSES: ${ge.LOSS} (Win Rate: ${Oe.winRate.toFixed(1)}%)`),K(`WIN SETTLEMENT: CLAIMED: ${ge.CLAIMED} | SWEPT/LOST: ${ge.SWEPT} | UNCLAIMED: ${ge.WIN-ge.CLAIMED-ge.SWEPT}`),K(`NET P&L (MINT - BURN): ${Oe.netProfit>=0?"+":""}${Oe.netProfit.toFixed(0)} T`),K("--------------------------------")},[Oe?.wins,Oe?.countable,K]);const Ie=xe.useCallback(async ge=>{try{const Ve=await F.getBalance(ge,"confirmed")/O0;return f(Ve),Ve}catch{return f(null),null}},[F]),Pe=xe.useCallback(async ge=>{try{const Ve=(await F.getParsedTokenAccountsByOwner(ge,{mint:t},"confirmed"))?.value?.[0]?.account?.data?.parsed?.info?.tokenAmount?.uiAmount??0;return w(Ve),Ve}catch{return w(null),null}},[F,t]);xe.useCallback(async()=>{o&&(await Promise.all([Ie(o),Pe(o),h()]),U())},[o,Ie,Pe,h,U]);async function Ht(){try{let ge=window?.solana;if(ge?.isPhantom||(ge=window?.phantom?.solana),!ge){i(!1),x("Phantom not detected."),K("Connect: Phantom not detected.");return}i(!!ge?.isPhantom),x("Connecting");const Te={isPhantom:ge?.isPhantom,isSolflare:ge?.isSolflare,source:ge===window?.solana?"window.solana":"window.phantom.solana",isConnected:ge?.isConnected,pubkey:ge?.publicKey?.toBase58?.()};if(K(`Connect: provider state: ${JSON.stringify(Te)}`),ge?.isConnected&&ge?.publicKey){l(ge.publicKey),x("Wallet connected (researched) "),K(`Connected (cached): ${ge.publicKey.toBase58()}`),await Promise.all([Ie(ge.publicKey),Pe(ge.publicKey),h()]);return}let Ve;try{Ve=await ge.connect()}catch(ze){console.warn("Standard connect failed, retrying with onlyIfTrusted:false",ze),K(`Connect: retry forced (${ze.message})`),await new Promise(D=>setTimeout(D,200)),Ve=await ge.connect({onlyIfTrusted:!1})}Ve?.publicKey&&(l(Ve.publicKey),K(`Connected: ${Ve.publicKey.toBase58()}`),x("Wallet connected "),await Promise.all([Ie(Ve.publicKey),Pe(Ve.publicKey),h()]))}catch(ge){console.error("Phantom connect error:",ge);let Te=ge?.message??String(ge);ge?.code===-32603&&(Te="Wallet Error (-32603). The Phantom extension is stuck. PLEASE RESTART YOUR BROWSER entirely.");const Ve=JSON.stringify(ge,Object.getOwnPropertyNames(ge));x(`Error: ${Te}`),K(`Connect error details: ${Ve}`)}}async function We(){try{const ge=g0();K("Disconnect: wallet requested."),await ge?.disconnect?.()}catch{}l(null),f(null),w(null),L(""),x("Disconnected.")}async function $e(){if(!o){x("Connect your wallet first."),K("Airdrop SOL: connect wallet first.");return}try{x("Requesting 1 SOL airdrop (devnet)..."),K("Airdrop SOL: requesting 1 SOL");const ge=await F.requestAirdrop(o,1*O0);if(L(ge),K(`Airdrop SOL: submitted tx=${ge}`),(await F.confirmTransaction(ge,"confirmed"))?.value?.err){x("Airdrop failed."),K("Airdrop SOL: failed (confirm err).");return}await Ie(o),x("Airdrop OK "),K("Airdrop SOL: OK ")}catch(ge){x(`Airdrop error: ${ge?.message??String(ge)}`),K(`Airdrop SOL error: ${ge?.message??String(ge)}`)}}async function kt(){if(!o){x("Connect your wallet first."),K("TIMLG faucet: connect wallet first.");return}const ge=g0();if(!ge?.isPhantom){x("Phantom not detected."),K("TIMLG faucet: Phantom not detected.");return}const Te=o.toBase58(),Ve=S?.trim()||"";x("Requesting TIMLG from faucet..."),K("TIMLG faucet: preparing request"),L("");try{const ze=`Recipient: ${Te}
Timestamp: ${Date.now()}
Domain: timlg.org`;let D;if(ge.signMessage){x("Waiting for Phantom signature approval..."),K("TIMLG faucet: waiting Phantom signature");const ee=new TextEncoder().encode(ze),ie=await ge.signMessage(ee,"utf8"),re=ie?.signature??ie;D=kN.encode(re)}x("Sending request to faucet..."),K("TIMLG faucet: sending request");const v=await fetch(y0,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({recipient:Te,inviteCode:Ve,message:ze,signature:D})}),R=await v.json().catch(()=>({}));if(!(v.ok&&(R?.ok===void 0||R?.ok===!0))){const ee=R?.error||`HTTP ${v.status}`;x(`Faucet error: ${ee}`),K(`TIMLG faucet error: ${ee}`);return}R?.signature&&(L(R.signature),K(`TIMLG faucet: tx=${R.signature}`)),await Pe(o),x("TIMLG sent "),K("TIMLG faucet: OK ")}catch(ze){const D=ze?.message??String(ze);x(`Faucet error: ${D}`),K(`TIMLG faucet error: ${D}`)}}const Xe=xe.useCallback(async({targetRoundId:ge,targetPulseIndex:Te,targetRoundPda:Ve,targetTIMLGVaultPda:ze,targetCommitDl:D})=>{if(!o){K("Commit: connect wallet first.");return}if(!Y||!oe){K("Commit: wallet/program not ready yet.");return}if(!ge||!Ve){K("Commit: round target missing.");return}const v=W?.currentSlot;if(v!=null&&D!=null&&BigInt(v)>=BigInt(D)){K(`Commit: Window closed (slot=${v} >= deadline=${D}).`);return}E(!0),L("");try{const R=O===-1?Math.floor(Math.random()*2):O;O===-1&&K(`Randomly picked: ${R===1?"Bull (1)":"Bear (0)"} `);const V=await WE(F,o,t);if(!V)throw new Error("You don't have TIMLG yet. Use the faucet first.");const ee=Math.floor(Math.random()*1e9),ie=U6(),re=await L6(ge,o,ee,R,ie),Ue={config:W.configPda??Ni(s),roundRegistry:W.roundRegistryPda??W.rrPda??FE(s,Ni(s)),round:Ve,ticket:YE(s,ge,o,ee),user:o,timlgMint:t,timlgVault:ze,userTIMLGAta:V,systemProgram:yn.programId,tokenProgram:ps.token.TOKEN_PROGRAM_ID};K(`Commit: sending tx (round=${ge}, guess=${R}, nonce=${ee})`);const Ke={version:1,roundId:ge,guess:R,nonce:ee,saltHex:dw(ie),commitmentHex:dw(re),ticketPda:Ue.ticket.toBase58(),committedAt:Date.now(),commitTx:"pending"};Gr(o.toBase58(),ge,Ke);let Le=await oe.methods.commitTicket(new mn(ge),new mn(ee),Array.from(re)).accounts(Ue).rpc();L(Le),K(`Commit OK  tx=${Le}`),Ke.commitTx=Le,Gr(o.toBase58(),ge,Ke),await h?.(),U()}catch(R){K(`Commit failed: ${z0(R)}`),console.error("Commit error:",R)}finally{E(!1)}},[o,Y,oe,W,F,t,s,O,K,h,U]);xe.useEffect(()=>{const ge=g0();i(!!ge?.isPhantom);const Te=ze=>ze&&l(ze),Ve=()=>{l(null),f(null),w(null)};return ge?.on?.("connect",Te),ge?.on?.("disconnect",Ve),(async()=>{try{ge?.isPhantom&&ge?.publicKey&&(l(ge.publicKey),await Promise.all([Ie(ge.publicKey),Pe(ge.publicKey)]))}catch{}})(),()=>{ge?.off?.("connect",Te),ge?.off?.("disconnect",Ve)}},[Ie,Pe]),xe.useMemo(()=>te?u!=null&&u<v3?{label:"Needs SOL",tone:"warn"}:y!=null&&y<E3?{label:"Needs TIMLG",tone:"warn"}:{label:"Ready",tone:"ok"}:{label:"Connect wallet",tone:"muted"},[te,u,y]);const[Ye,Et]=xe.useState(!1);return j.jsxs("div",{className:"beta-app",children:[!n&&j.jsxs("div",{className:"beta-card beta-card--warn",children:[j.jsx("b",{children:"Phantom not detected."}),j.jsxs("div",{style:{marginTop:6},children:["Install Phantom:"," ",j.jsx("a",{href:"https://phantom.app/",target:"_blank",rel:"noreferrer",children:"https://phantom.app/"})]})]}),j.jsx("header",{className:"beta-header",children:j.jsxs("div",{className:"beta-walletbar",children:[j.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",position:"relative",zIndex:1},children:[j.jsx("div",{className:"beta-walletbar__title",children:"Wallet"}),j.jsx("button",{className:"beta-tooltip",onClick:()=>Et(!Ye),type:"button",style:{cursor:"pointer",border:"1px solid #aaa",color:"#666",background:Ye?"rgba(0,0,0,0.1)":"transparent"},children:Ye?"":"i"})]}),Ye&&j.jsxs("div",{className:"beta-info-panel",style:{marginTop:4,marginBottom:8},children:[j.jsxs("div",{children:[j.jsx("b",{children:"RPC:"})," ",j.jsx("span",{style:{opacity:.7},children:vu})]}),j.jsxs("div",{children:[j.jsx("b",{children:"Program:"})," ",j.jsxs("a",{href:`https://solscan.io/account/${Eu}?cluster=devnet`,target:"_blank",rel:"noreferrer",style:{color:"#2D68EA",textDecoration:"none"},children:[Eu," "]})]}),j.jsxs("div",{children:[j.jsx("b",{children:"Mint:"})," ",j.jsxs("a",{href:`https://solscan.io/account/${Su}?cluster=devnet`,target:"_blank",rel:"noreferrer",style:{color:"#2D68EA",textDecoration:"none"},children:[Su," "]})]}),j.jsxs("div",{children:[j.jsx("b",{children:"Faucet:"})," ",j.jsxs("a",{href:y0,target:"_blank",rel:"noreferrer",style:{color:"#2D68EA",textDecoration:"none"},children:[y0," "]})]}),j.jsx("div",{style:{marginTop:6,opacity:.5},children:"Version: 0.1.0-beta"})]}),j.jsxs("div",{style:{display:"flex",gap:20,marginTop:6,position:"relative",zIndex:1},children:[j.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:6},children:[j.jsxs("div",{className:"beta-walletbar__row",children:[j.jsx("div",{className:"beta-walletbar__label",children:"Address"}),j.jsx("div",{className:"beta-walletbar__cell-info",children:te?j.jsx("a",{className:"beta-link",href:Y6(te),target:"_blank",rel:"noreferrer",style:{fontSize:14,fontWeight:700,textDecoration:"none"},children:F6(te)}):j.jsx("span",{className:"beta-muted",style:{fontSize:14,fontWeight:700},children:"Not connected"})}),j.jsx("div",{className:"beta-walletbar__cell-action",children:j.jsx("button",{className:"beta-btn beta-walletbar__btn-main",onClick:te?We:Ht,type:"button",children:te?"Disconnect":"Connect"})})]}),j.jsxs("div",{className:"beta-walletbar__row",children:[j.jsx("div",{className:"beta-walletbar__label",children:"SOL Balance"}),j.jsx("div",{className:"beta-walletbar__cell-info",children:j.jsxs("span",{style:{fontSize:15,fontWeight:700},children:[ce==null?"":ce.toFixed(3)," SOL"]})}),j.jsx("div",{className:"beta-walletbar__cell-action",children:j.jsx("button",{className:"beta-btn",onClick:$e,disabled:!te||X,type:"button",children:"Airdrop SOL"})})]}),j.jsxs("div",{className:"beta-walletbar__row",children:[j.jsx("div",{className:"beta-walletbar__label",children:"TIMLG Balance"}),j.jsx("div",{className:"beta-walletbar__cell-info",children:j.jsxs("span",{style:{fontSize:15,fontWeight:700},children:[se==null?"":Number(se).toFixed(2)," TIMLG"]})}),j.jsx("div",{className:"beta-walletbar__cell-action",children:j.jsx("button",{className:"beta-btn",style:{background:"#2D68EA",color:"white",border:"none"},onClick:kt,disabled:!te||X,type:"button",children:"Get TIMLG"})})]}),j.jsxs("div",{className:"beta-walletbar__row",style:{marginTop:8},children:[j.jsx("div",{className:"beta-walletbar__label",children:Oe&&j.jsx("button",{className:"beta-btn",style:{width:"100%",padding:"4px 8px",fontSize:10,background:b?"rgba(45, 104, 234, 0.1)":"transparent",borderColor:b?"#2D68EA":"rgba(0,0,0,0.2)",color:b?"#2D68EA":"inherit",display:"flex",alignItems:"center",justifyContent:"center",gap:2},onClick:()=>N(!b),children:b?" HIDE FLOW":" SHOW FLOW"})}),j.jsx("div",{className:"beta-walletbar__cell-info",children:j.jsxs("div",{className:"beta-walletbar__label",style:{fontSize:13,display:"flex",alignItems:"center",gap:6},children:[j.jsx("span",{style:{fontSize:16,lineHeight:1},children:""})," INVITE CODE"]})}),j.jsx("div",{className:"beta-walletbar__cell-action",children:j.jsx("input",{className:"beta-input",style:{padding:"0 10px",textAlign:"center",fontSize:13,width:"100%",height:32,background:"rgba(0,0,0,0.05)",border:"1px solid #ccc",borderRadius:10},value:S,onChange:ge=>C(ge.target.value),placeholder:"Code..."})})]})]}),j.jsxs("div",{style:{width:280,borderLeft:"1px solid rgba(0,0,0,0.05)",paddingLeft:20,display:"flex",flexDirection:"column",gap:12,zIndex:1,position:"relative",overflow:"hidden"},children:[j.jsx("img",{src:SR,style:{position:"absolute",top:"50%",left:"50%",width:350,opacity:.04,pointerEvents:"none",transform:"translate(-50%, -50%) rotate(-15deg)",zIndex:0},alt:"","aria-hidden":"true"}),j.jsx("div",{style:{fontSize:11,fontWeight:800,opacity:.5,textTransform:"uppercase",letterSpacing:"0.05em",position:"relative",zIndex:1},children:"Performance"}),Oe?j.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:16,marginTop:8},children:[j.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"12px",alignItems:"flex-start"},children:[j.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[j.jsx("span",{style:{fontSize:9,opacity:.6,fontWeight:700,letterSpacing:"0.02em"},children:"NET P&L"}),j.jsxs("b",{style:{fontSize:22,color:Oe.netProfit>=0?"#2D68EA":"#c62828",letterSpacing:"-0.02em",lineHeight:1.1},children:[Oe.netProfit>=0?"+":"",Oe.netProfit.toFixed(0),j.jsx("span",{style:{fontSize:11,marginLeft:1,opacity:.7},children:"T"})]})]}),j.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[j.jsx("span",{style:{fontSize:9,opacity:.6,fontWeight:700,letterSpacing:"0.02em"},children:"WIN RATE"}),j.jsxs("b",{style:{fontSize:22,color:Oe.winRate>=50?"#10B981":"#c62828",letterSpacing:"-0.02em",lineHeight:1.1},children:[Oe.winRate.toFixed(1),j.jsx("span",{style:{fontSize:11,marginLeft:1,opacity:.7},children:"%"})]})]}),j.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[j.jsx("span",{style:{fontSize:9,opacity:.6,fontWeight:700,letterSpacing:"0.02em"},children:"STRIKE"}),j.jsxs("b",{style:{fontSize:22,color:Oe.streak>0?"#10B981":"rgba(0,0,0,0.3)",letterSpacing:"-0.02em",lineHeight:1.1},children:[Oe.streak,j.jsx("span",{style:{fontSize:11,marginLeft:1,opacity:.7},children:"W"})]})]})]}),j.jsxs("div",{style:{display:"grid",gridTemplateColumns:"100px 1fr",gap:"20px",paddingTop:12,borderTop:"1px solid rgba(0,0,0,0.05)"},children:[j.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[j.jsx("span",{style:{fontSize:9,opacity:.4,fontWeight:700,letterSpacing:"0.02em"},children:"REVEALED TIX"}),j.jsxs("b",{style:{fontSize:16,opacity:.8,lineHeight:1.1},children:[Oe.revealed,j.jsxs("span",{style:{fontSize:10,opacity:.4,fontWeight:500,marginLeft:2},children:["/ ",Oe.total]})]})]}),j.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[j.jsx("span",{style:{fontSize:9,opacity:.4,fontWeight:700,letterSpacing:"0.02em"},children:"EXPECTED FLOW"}),j.jsxs("div",{style:{fontSize:13,fontWeight:800,lineHeight:1.1,marginTop:2},children:[j.jsxs("span",{style:{color:"#10B981"},children:["+",Math.floor(Oe.breakdown.WIN*(X?1:1-(W?.rewardFeeBps??0)/1e4))]}),j.jsx("span",{style:{opacity:.2,margin:"0 4px"},children:"/"}),j.jsxs("span",{style:{color:"#EF4444"},children:["-",Oe.total-Oe.breakdown.PENDING-Oe.breakdown.REFUNDED-Oe.breakdown.WIN]})]})]})]})]}):j.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",border:"1px dashed #ccc",borderRadius:8,opacity:.3,fontSize:11},children:ae?"Calculating...":"No Data Yet"})]})]}),b&&Oe&&j.jsxs("div",{className:"beta-walletbar__sankey-wrap",style:{marginTop:16,paddingTop:16,borderTop:"1px solid rgba(0,0,0,0.05)",position:"relative",zIndex:1},children:[j.jsx("div",{style:{fontSize:10,fontWeight:900,opacity:.5,textTransform:"uppercase",marginBottom:8},children:"Participation Volume Flow"}),j.jsx(c3,{stats:Oe,chainState:W})]})]})}),j.jsxs("main",{className:"beta-main",children:[j.jsx($6,{rpcUrl:vu,connection:F,program:oe,walletReady:Y,programPk:s,timlgMint:Su,pubkey:o,appendLog:K,chainState:W,refreshProtocolState:h,statusLine:T,onActionComplete:U,nist:$,logs:z,onClearLog:G,guess:O,setGuess:H,doCommitGlobal:Xe,globalLoading:B}),j.jsx("div",{style:{marginTop:24},children:j.jsx(l3,{program:oe,connection:F,programPk:s,pubkey:o,mintPk:t,appendLog:K,actionsEnabled:!0,limit:1e3,rows:Z,loading:ae,error:we,doRevealTicket:Se,doClaimTicket:qe,doRefundTicket:ve,doSettleRound:ke,currentSlot:W?.currentSlot,claimGraceSlots:W?.config?.claimGraceSlots,activeRoundId:W?.roundId??null,nist:$,refreshNonce:_,onAfterAction:U,guess:O,doCommitGlobal:Xe,globalLoading:B,programPkStr:Eu})})]})]})}class R3 extends mR.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("ErrorBoundary caught an error",t,n),this.setState({errorInfo:n})}render(){return this.state.hasError?j.jsxs("div",{style:{padding:20,color:"red",border:"1px solid red",margin:20},children:[j.jsx("h2",{children:"Something went wrong."}),j.jsxs("details",{style:{whiteSpace:"pre-wrap"},children:[this.state.error&&this.state.error.toString(),j.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]})]}):this.props.children}}let ms=null;function JE(){const s=document.getElementById("beta-root")||document.getElementById("root");if(s){if(ms){try{ms.unmount()}catch{}ms=null}ms=ER.createRoot(s),ms.render(j.jsx(xe.StrictMode,{children:j.jsx(R3,{children:j.jsx(A3,{})})}))}}function x3(){if(ms){try{ms.unmount()}catch{}ms=null}}typeof window<"u"&&(window.__mountBetaApp=JE,window.__unmountBetaApp=x3);JE();
