(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))i(u);new MutationObserver(u=>{for(const o of u)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(u){const o={};return u.integrity&&(o.integrity=u.integrity),u.referrerPolicy&&(o.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?o.credentials="include":u.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(u){if(u.ep)return;u.ep=!0;const o=n(u);fetch(u.href,o)}})();function Ii(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function jl(s){if(Object.prototype.hasOwnProperty.call(s,"__esModule"))return s;var e=s.default;if(typeof e=="function"){var n=function i(){var u=!1;try{u=this instanceof i}catch{}return u?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(s).forEach(function(i){var u=Object.getOwnPropertyDescriptor(s,i);Object.defineProperty(n,i,u.get?u:{enumerable:!0,get:function(){return s[i]}})}),n}var mh={exports:{}},fu={};var ug;function QA(){if(ug)return fu;ug=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,u,o){var l=null;if(o!==void 0&&(l=""+o),u.key!==void 0&&(l=""+u.key),"key"in u){o={};for(var d in u)d!=="key"&&(o[d]=u[d])}else o=u;return u=o.ref,{$$typeof:s,type:i,key:l,ref:u!==void 0?u:null,props:o}}return fu.Fragment=e,fu.jsx=n,fu.jsxs=n,fu}var cg;function JA(){return cg||(cg=1,mh.exports=QA()),mh.exports}var Z=JA(),yh={},du={},lg;function tR(){if(lg)return du;lg=1,du.byteLength=d,du.toByteArray=_,du.fromByteArray=k;for(var s=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,o=i.length;u<o;++u)s[u]=i[u],e[i.charCodeAt(u)]=u;e[45]=62,e[95]=63;function l(R){var M=R.length;if(M%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var U=R.indexOf("=");U===-1&&(U=M);var D=U===M?0:4-U%4;return[U,D]}function d(R){var M=l(R),U=M[0],D=M[1];return(U+D)*3/4-D}function y(R,M,U){return(M+U)*3/4-U}function _(R){var M,U=l(R),D=U[0],q=U[1],G=new n(y(R,D,q)),P=0,W=q>0?D-4:D,nt;for(nt=0;nt<W;nt+=4)M=e[R.charCodeAt(nt)]<<18|e[R.charCodeAt(nt+1)]<<12|e[R.charCodeAt(nt+2)]<<6|e[R.charCodeAt(nt+3)],G[P++]=M>>16&255,G[P++]=M>>8&255,G[P++]=M&255;return q===2&&(M=e[R.charCodeAt(nt)]<<2|e[R.charCodeAt(nt+1)]>>4,G[P++]=M&255),q===1&&(M=e[R.charCodeAt(nt)]<<10|e[R.charCodeAt(nt+1)]<<4|e[R.charCodeAt(nt+2)]>>2,G[P++]=M>>8&255,G[P++]=M&255),G}function S(R){return s[R>>18&63]+s[R>>12&63]+s[R>>6&63]+s[R&63]}function I(R,M,U){for(var D,q=[],G=M;G<U;G+=3)D=(R[G]<<16&16711680)+(R[G+1]<<8&65280)+(R[G+2]&255),q.push(S(D));return q.join("")}function k(R){for(var M,U=R.length,D=U%3,q=[],G=16383,P=0,W=U-D;P<W;P+=G)q.push(I(R,P,P+G>W?W:P+G));return D===1?(M=R[U-1],q.push(s[M>>2]+s[M<<4&63]+"==")):D===2&&(M=(R[U-2]<<8)+R[U-1],q.push(s[M>>10]+s[M>>4&63]+s[M<<2&63]+"=")),q.join("")}return du}var Jc={};var fg;function eR(){return fg||(fg=1,Jc.read=function(s,e,n,i,u){var o,l,d=u*8-i-1,y=(1<<d)-1,_=y>>1,S=-7,I=n?u-1:0,k=n?-1:1,R=s[e+I];for(I+=k,o=R&(1<<-S)-1,R>>=-S,S+=d;S>0;o=o*256+s[e+I],I+=k,S-=8);for(l=o&(1<<-S)-1,o>>=-S,S+=i;S>0;l=l*256+s[e+I],I+=k,S-=8);if(o===0)o=1-_;else{if(o===y)return l?NaN:(R?-1:1)*(1/0);l=l+Math.pow(2,i),o=o-_}return(R?-1:1)*l*Math.pow(2,o-i)},Jc.write=function(s,e,n,i,u,o){var l,d,y,_=o*8-u-1,S=(1<<_)-1,I=S>>1,k=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,R=i?0:o-1,M=i?1:-1,U=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(d=isNaN(e)?1:0,l=S):(l=Math.floor(Math.log(e)/Math.LN2),e*(y=Math.pow(2,-l))<1&&(l--,y*=2),l+I>=1?e+=k/y:e+=k*Math.pow(2,1-I),e*y>=2&&(l++,y/=2),l+I>=S?(d=0,l=S):l+I>=1?(d=(e*y-1)*Math.pow(2,u),l=l+I):(d=e*Math.pow(2,I-1)*Math.pow(2,u),l=0));u>=8;s[n+R]=d&255,R+=M,d/=256,u-=8);for(l=l<<u|d,_+=u;_>0;s[n+R]=l&255,R+=M,l/=256,_-=8);s[n+R-M]|=U*128}),Jc}var dg;function U0(){return dg||(dg=1,(function(s){const e=tR(),n=eR(),i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;s.Buffer=d,s.SlowBuffer=G,s.INSPECT_MAX_BYTES=50;const u=2147483647;s.kMaxLength=u,d.TYPED_ARRAY_SUPPORT=o(),!d.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const H=new Uint8Array(1),A={foo:function(){return 42}};return Object.setPrototypeOf(A,Uint8Array.prototype),Object.setPrototypeOf(H,A),H.foo()===42}catch{return!1}}Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}});function l(H){if(H>u)throw new RangeError('The value "'+H+'" is invalid for option "size"');const A=new Uint8Array(H);return Object.setPrototypeOf(A,d.prototype),A}function d(H,A,T){if(typeof H=="number"){if(typeof A=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return I(H)}return y(H,A,T)}d.poolSize=8192;function y(H,A,T){if(typeof H=="string")return k(H,A);if(ArrayBuffer.isView(H))return M(H);if(H==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H);if(En(H,ArrayBuffer)||H&&En(H.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(En(H,SharedArrayBuffer)||H&&En(H.buffer,SharedArrayBuffer)))return U(H,A,T);if(typeof H=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const K=H.valueOf&&H.valueOf();if(K!=null&&K!==H)return d.from(K,A,T);const rt=D(H);if(rt)return rt;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof H[Symbol.toPrimitive]=="function")return d.from(H[Symbol.toPrimitive]("string"),A,T);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H)}d.from=function(H,A,T){return y(H,A,T)},Object.setPrototypeOf(d.prototype,Uint8Array.prototype),Object.setPrototypeOf(d,Uint8Array);function _(H){if(typeof H!="number")throw new TypeError('"size" argument must be of type number');if(H<0)throw new RangeError('The value "'+H+'" is invalid for option "size"')}function S(H,A,T){return _(H),H<=0?l(H):A!==void 0?typeof T=="string"?l(H).fill(A,T):l(H).fill(A):l(H)}d.alloc=function(H,A,T){return S(H,A,T)};function I(H){return _(H),l(H<0?0:q(H)|0)}d.allocUnsafe=function(H){return I(H)},d.allocUnsafeSlow=function(H){return I(H)};function k(H,A){if((typeof A!="string"||A==="")&&(A="utf8"),!d.isEncoding(A))throw new TypeError("Unknown encoding: "+A);const T=P(H,A)|0;let K=l(T);const rt=K.write(H,A);return rt!==T&&(K=K.slice(0,rt)),K}function R(H){const A=H.length<0?0:q(H.length)|0,T=l(A);for(let K=0;K<A;K+=1)T[K]=H[K]&255;return T}function M(H){if(En(H,Uint8Array)){const A=new Uint8Array(H);return U(A.buffer,A.byteOffset,A.byteLength)}return R(H)}function U(H,A,T){if(A<0||H.byteLength<A)throw new RangeError('"offset" is outside of buffer bounds');if(H.byteLength<A+(T||0))throw new RangeError('"length" is outside of buffer bounds');let K;return A===void 0&&T===void 0?K=new Uint8Array(H):T===void 0?K=new Uint8Array(H,A):K=new Uint8Array(H,A,T),Object.setPrototypeOf(K,d.prototype),K}function D(H){if(d.isBuffer(H)){const A=q(H.length)|0,T=l(A);return T.length===0||H.copy(T,0,0,A),T}if(H.length!==void 0)return typeof H.length!="number"||_e(H.length)?l(0):R(H);if(H.type==="Buffer"&&Array.isArray(H.data))return R(H.data)}function q(H){if(H>=u)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u.toString(16)+" bytes");return H|0}function G(H){return+H!=H&&(H=0),d.alloc(+H)}d.isBuffer=function(A){return A!=null&&A._isBuffer===!0&&A!==d.prototype},d.compare=function(A,T){if(En(A,Uint8Array)&&(A=d.from(A,A.offset,A.byteLength)),En(T,Uint8Array)&&(T=d.from(T,T.offset,T.byteLength)),!d.isBuffer(A)||!d.isBuffer(T))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(A===T)return 0;let K=A.length,rt=T.length;for(let at=0,mt=Math.min(K,rt);at<mt;++at)if(A[at]!==T[at]){K=A[at],rt=T[at];break}return K<rt?-1:rt<K?1:0},d.isEncoding=function(A){switch(String(A).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(A,T){if(!Array.isArray(A))throw new TypeError('"list" argument must be an Array of Buffers');if(A.length===0)return d.alloc(0);let K;if(T===void 0)for(T=0,K=0;K<A.length;++K)T+=A[K].length;const rt=d.allocUnsafe(T);let at=0;for(K=0;K<A.length;++K){let mt=A[K];if(En(mt,Uint8Array))at+mt.length>rt.length?(d.isBuffer(mt)||(mt=d.from(mt)),mt.copy(rt,at)):Uint8Array.prototype.set.call(rt,mt,at);else if(d.isBuffer(mt))mt.copy(rt,at);else throw new TypeError('"list" argument must be an Array of Buffers');at+=mt.length}return rt};function P(H,A){if(d.isBuffer(H))return H.length;if(ArrayBuffer.isView(H)||En(H,ArrayBuffer))return H.byteLength;if(typeof H!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof H);const T=H.length,K=arguments.length>2&&arguments[2]===!0;if(!K&&T===0)return 0;let rt=!1;for(;;)switch(A){case"ascii":case"latin1":case"binary":return T;case"utf8":case"utf-8":return ge(H).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T*2;case"hex":return T>>>1;case"base64":return be(H).length;default:if(rt)return K?-1:ge(H).length;A=(""+A).toLowerCase(),rt=!0}}d.byteLength=P;function W(H,A,T){let K=!1;if((A===void 0||A<0)&&(A=0),A>this.length||((T===void 0||T>this.length)&&(T=this.length),T<=0)||(T>>>=0,A>>>=0,T<=A))return"";for(H||(H="utf8");;)switch(H){case"hex":return C(this,A,T);case"utf8":case"utf-8":return h(this,A,T);case"ascii":return B(this,A,T);case"latin1":case"binary":return z(this,A,T);case"base64":return x(this,A,T);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v(this,A,T);default:if(K)throw new TypeError("Unknown encoding: "+H);H=(H+"").toLowerCase(),K=!0}}d.prototype._isBuffer=!0;function nt(H,A,T){const K=H[A];H[A]=H[T],H[T]=K}d.prototype.swap16=function(){const A=this.length;if(A%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let T=0;T<A;T+=2)nt(this,T,T+1);return this},d.prototype.swap32=function(){const A=this.length;if(A%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let T=0;T<A;T+=4)nt(this,T,T+3),nt(this,T+1,T+2);return this},d.prototype.swap64=function(){const A=this.length;if(A%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let T=0;T<A;T+=8)nt(this,T,T+7),nt(this,T+1,T+6),nt(this,T+2,T+5),nt(this,T+3,T+4);return this},d.prototype.toString=function(){const A=this.length;return A===0?"":arguments.length===0?h(this,0,A):W.apply(this,arguments)},d.prototype.toLocaleString=d.prototype.toString,d.prototype.equals=function(A){if(!d.isBuffer(A))throw new TypeError("Argument must be a Buffer");return this===A?!0:d.compare(this,A)===0},d.prototype.inspect=function(){let A="";const T=s.INSPECT_MAX_BYTES;return A=this.toString("hex",0,T).replace(/(.{2})/g,"$1 ").trim(),this.length>T&&(A+=" ... "),"<Buffer "+A+">"},i&&(d.prototype[i]=d.prototype.inspect),d.prototype.compare=function(A,T,K,rt,at){if(En(A,Uint8Array)&&(A=d.from(A,A.offset,A.byteLength)),!d.isBuffer(A))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof A);if(T===void 0&&(T=0),K===void 0&&(K=A?A.length:0),rt===void 0&&(rt=0),at===void 0&&(at=this.length),T<0||K>A.length||rt<0||at>this.length)throw new RangeError("out of range index");if(rt>=at&&T>=K)return 0;if(rt>=at)return-1;if(T>=K)return 1;if(T>>>=0,K>>>=0,rt>>>=0,at>>>=0,this===A)return 0;let mt=at-rt,Ut=K-T;const zt=Math.min(mt,Ut),Bt=this.slice(rt,at),we=A.slice(T,K);for(let Kt=0;Kt<zt;++Kt)if(Bt[Kt]!==we[Kt]){mt=Bt[Kt],Ut=we[Kt];break}return mt<Ut?-1:Ut<mt?1:0};function ot(H,A,T,K,rt){if(H.length===0)return-1;if(typeof T=="string"?(K=T,T=0):T>2147483647?T=2147483647:T<-2147483648&&(T=-2147483648),T=+T,_e(T)&&(T=rt?0:H.length-1),T<0&&(T=H.length+T),T>=H.length){if(rt)return-1;T=H.length-1}else if(T<0)if(rt)T=0;else return-1;if(typeof A=="string"&&(A=d.from(A,K)),d.isBuffer(A))return A.length===0?-1:it(H,A,T,K,rt);if(typeof A=="number")return A=A&255,typeof Uint8Array.prototype.indexOf=="function"?rt?Uint8Array.prototype.indexOf.call(H,A,T):Uint8Array.prototype.lastIndexOf.call(H,A,T):it(H,[A],T,K,rt);throw new TypeError("val must be string, number or Buffer")}function it(H,A,T,K,rt){let at=1,mt=H.length,Ut=A.length;if(K!==void 0&&(K=String(K).toLowerCase(),K==="ucs2"||K==="ucs-2"||K==="utf16le"||K==="utf-16le")){if(H.length<2||A.length<2)return-1;at=2,mt/=2,Ut/=2,T/=2}function zt(we,Kt){return at===1?we[Kt]:we.readUInt16BE(Kt*at)}let Bt;if(rt){let we=-1;for(Bt=T;Bt<mt;Bt++)if(zt(H,Bt)===zt(A,we===-1?0:Bt-we)){if(we===-1&&(we=Bt),Bt-we+1===Ut)return we*at}else we!==-1&&(Bt-=Bt-we),we=-1}else for(T+Ut>mt&&(T=mt-Ut),Bt=T;Bt>=0;Bt--){let we=!0;for(let Kt=0;Kt<Ut;Kt++)if(zt(H,Bt+Kt)!==zt(A,Kt)){we=!1;break}if(we)return Bt}return-1}d.prototype.includes=function(A,T,K){return this.indexOf(A,T,K)!==-1},d.prototype.indexOf=function(A,T,K){return ot(this,A,T,K,!0)},d.prototype.lastIndexOf=function(A,T,K){return ot(this,A,T,K,!1)};function ut(H,A,T,K){T=Number(T)||0;const rt=H.length-T;K?(K=Number(K),K>rt&&(K=rt)):K=rt;const at=A.length;K>at/2&&(K=at/2);let mt;for(mt=0;mt<K;++mt){const Ut=parseInt(A.substr(mt*2,2),16);if(_e(Ut))return mt;H[T+mt]=Ut}return mt}function V(H,A,T,K){return pe(ge(A,H.length-T),H,T,K)}function F(H,A,T,K){return pe(Oe(A),H,T,K)}function X(H,A,T,K){return pe(be(A),H,T,K)}function $(H,A,T,K){return pe(kr(A,H.length-T),H,T,K)}d.prototype.write=function(A,T,K,rt){if(T===void 0)rt="utf8",K=this.length,T=0;else if(K===void 0&&typeof T=="string")rt=T,K=this.length,T=0;else if(isFinite(T))T=T>>>0,isFinite(K)?(K=K>>>0,rt===void 0&&(rt="utf8")):(rt=K,K=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const at=this.length-T;if((K===void 0||K>at)&&(K=at),A.length>0&&(K<0||T<0)||T>this.length)throw new RangeError("Attempt to write outside buffer bounds");rt||(rt="utf8");let mt=!1;for(;;)switch(rt){case"hex":return ut(this,A,T,K);case"utf8":case"utf-8":return V(this,A,T,K);case"ascii":case"latin1":case"binary":return F(this,A,T,K);case"base64":return X(this,A,T,K);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,A,T,K);default:if(mt)throw new TypeError("Unknown encoding: "+rt);rt=(""+rt).toLowerCase(),mt=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function x(H,A,T){return A===0&&T===H.length?e.fromByteArray(H):e.fromByteArray(H.slice(A,T))}function h(H,A,T){T=Math.min(H.length,T);const K=[];let rt=A;for(;rt<T;){const at=H[rt];let mt=null,Ut=at>239?4:at>223?3:at>191?2:1;if(rt+Ut<=T){let zt,Bt,we,Kt;switch(Ut){case 1:at<128&&(mt=at);break;case 2:zt=H[rt+1],(zt&192)===128&&(Kt=(at&31)<<6|zt&63,Kt>127&&(mt=Kt));break;case 3:zt=H[rt+1],Bt=H[rt+2],(zt&192)===128&&(Bt&192)===128&&(Kt=(at&15)<<12|(zt&63)<<6|Bt&63,Kt>2047&&(Kt<55296||Kt>57343)&&(mt=Kt));break;case 4:zt=H[rt+1],Bt=H[rt+2],we=H[rt+3],(zt&192)===128&&(Bt&192)===128&&(we&192)===128&&(Kt=(at&15)<<18|(zt&63)<<12|(Bt&63)<<6|we&63,Kt>65535&&Kt<1114112&&(mt=Kt))}}mt===null?(mt=65533,Ut=1):mt>65535&&(mt-=65536,K.push(mt>>>10&1023|55296),mt=56320|mt&1023),K.push(mt),rt+=Ut}return E(K)}const w=4096;function E(H){const A=H.length;if(A<=w)return String.fromCharCode.apply(String,H);let T="",K=0;for(;K<A;)T+=String.fromCharCode.apply(String,H.slice(K,K+=w));return T}function B(H,A,T){let K="";T=Math.min(H.length,T);for(let rt=A;rt<T;++rt)K+=String.fromCharCode(H[rt]&127);return K}function z(H,A,T){let K="";T=Math.min(H.length,T);for(let rt=A;rt<T;++rt)K+=String.fromCharCode(H[rt]);return K}function C(H,A,T){const K=H.length;(!A||A<0)&&(A=0),(!T||T<0||T>K)&&(T=K);let rt="";for(let at=A;at<T;++at)rt+=Pt[H[at]];return rt}function v(H,A,T){const K=H.slice(A,T);let rt="";for(let at=0;at<K.length-1;at+=2)rt+=String.fromCharCode(K[at]+K[at+1]*256);return rt}d.prototype.slice=function(A,T){const K=this.length;A=~~A,T=T===void 0?K:~~T,A<0?(A+=K,A<0&&(A=0)):A>K&&(A=K),T<0?(T+=K,T<0&&(T=0)):T>K&&(T=K),T<A&&(T=A);const rt=this.subarray(A,T);return Object.setPrototypeOf(rt,d.prototype),rt};function m(H,A,T){if(H%1!==0||H<0)throw new RangeError("offset is not uint");if(H+A>T)throw new RangeError("Trying to access beyond buffer length")}d.prototype.readUintLE=d.prototype.readUIntLE=function(A,T,K){A=A>>>0,T=T>>>0,K||m(A,T,this.length);let rt=this[A],at=1,mt=0;for(;++mt<T&&(at*=256);)rt+=this[A+mt]*at;return rt},d.prototype.readUintBE=d.prototype.readUIntBE=function(A,T,K){A=A>>>0,T=T>>>0,K||m(A,T,this.length);let rt=this[A+--T],at=1;for(;T>0&&(at*=256);)rt+=this[A+--T]*at;return rt},d.prototype.readUint8=d.prototype.readUInt8=function(A,T){return A=A>>>0,T||m(A,1,this.length),this[A]},d.prototype.readUint16LE=d.prototype.readUInt16LE=function(A,T){return A=A>>>0,T||m(A,2,this.length),this[A]|this[A+1]<<8},d.prototype.readUint16BE=d.prototype.readUInt16BE=function(A,T){return A=A>>>0,T||m(A,2,this.length),this[A]<<8|this[A+1]},d.prototype.readUint32LE=d.prototype.readUInt32LE=function(A,T){return A=A>>>0,T||m(A,4,this.length),(this[A]|this[A+1]<<8|this[A+2]<<16)+this[A+3]*16777216},d.prototype.readUint32BE=d.prototype.readUInt32BE=function(A,T){return A=A>>>0,T||m(A,4,this.length),this[A]*16777216+(this[A+1]<<16|this[A+2]<<8|this[A+3])},d.prototype.readBigUInt64LE=yn(function(A){A=A>>>0,je(A,"offset");const T=this[A],K=this[A+7];(T===void 0||K===void 0)&&Yt(A,this.length-8);const rt=T+this[++A]*2**8+this[++A]*2**16+this[++A]*2**24,at=this[++A]+this[++A]*2**8+this[++A]*2**16+K*2**24;return BigInt(rt)+(BigInt(at)<<BigInt(32))}),d.prototype.readBigUInt64BE=yn(function(A){A=A>>>0,je(A,"offset");const T=this[A],K=this[A+7];(T===void 0||K===void 0)&&Yt(A,this.length-8);const rt=T*2**24+this[++A]*2**16+this[++A]*2**8+this[++A],at=this[++A]*2**24+this[++A]*2**16+this[++A]*2**8+K;return(BigInt(rt)<<BigInt(32))+BigInt(at)}),d.prototype.readIntLE=function(A,T,K){A=A>>>0,T=T>>>0,K||m(A,T,this.length);let rt=this[A],at=1,mt=0;for(;++mt<T&&(at*=256);)rt+=this[A+mt]*at;return at*=128,rt>=at&&(rt-=Math.pow(2,8*T)),rt},d.prototype.readIntBE=function(A,T,K){A=A>>>0,T=T>>>0,K||m(A,T,this.length);let rt=T,at=1,mt=this[A+--rt];for(;rt>0&&(at*=256);)mt+=this[A+--rt]*at;return at*=128,mt>=at&&(mt-=Math.pow(2,8*T)),mt},d.prototype.readInt8=function(A,T){return A=A>>>0,T||m(A,1,this.length),this[A]&128?(255-this[A]+1)*-1:this[A]},d.prototype.readInt16LE=function(A,T){A=A>>>0,T||m(A,2,this.length);const K=this[A]|this[A+1]<<8;return K&32768?K|4294901760:K},d.prototype.readInt16BE=function(A,T){A=A>>>0,T||m(A,2,this.length);const K=this[A+1]|this[A]<<8;return K&32768?K|4294901760:K},d.prototype.readInt32LE=function(A,T){return A=A>>>0,T||m(A,4,this.length),this[A]|this[A+1]<<8|this[A+2]<<16|this[A+3]<<24},d.prototype.readInt32BE=function(A,T){return A=A>>>0,T||m(A,4,this.length),this[A]<<24|this[A+1]<<16|this[A+2]<<8|this[A+3]},d.prototype.readBigInt64LE=yn(function(A){A=A>>>0,je(A,"offset");const T=this[A],K=this[A+7];(T===void 0||K===void 0)&&Yt(A,this.length-8);const rt=this[A+4]+this[A+5]*2**8+this[A+6]*2**16+(K<<24);return(BigInt(rt)<<BigInt(32))+BigInt(T+this[++A]*2**8+this[++A]*2**16+this[++A]*2**24)}),d.prototype.readBigInt64BE=yn(function(A){A=A>>>0,je(A,"offset");const T=this[A],K=this[A+7];(T===void 0||K===void 0)&&Yt(A,this.length-8);const rt=(T<<24)+this[++A]*2**16+this[++A]*2**8+this[++A];return(BigInt(rt)<<BigInt(32))+BigInt(this[++A]*2**24+this[++A]*2**16+this[++A]*2**8+K)}),d.prototype.readFloatLE=function(A,T){return A=A>>>0,T||m(A,4,this.length),n.read(this,A,!0,23,4)},d.prototype.readFloatBE=function(A,T){return A=A>>>0,T||m(A,4,this.length),n.read(this,A,!1,23,4)},d.prototype.readDoubleLE=function(A,T){return A=A>>>0,T||m(A,8,this.length),n.read(this,A,!0,52,8)},d.prototype.readDoubleBE=function(A,T){return A=A>>>0,T||m(A,8,this.length),n.read(this,A,!1,52,8)};function f(H,A,T,K,rt,at){if(!d.isBuffer(H))throw new TypeError('"buffer" argument must be a Buffer instance');if(A>rt||A<at)throw new RangeError('"value" argument is out of bounds');if(T+K>H.length)throw new RangeError("Index out of range")}d.prototype.writeUintLE=d.prototype.writeUIntLE=function(A,T,K,rt){if(A=+A,T=T>>>0,K=K>>>0,!rt){const Ut=Math.pow(2,8*K)-1;f(this,A,T,K,Ut,0)}let at=1,mt=0;for(this[T]=A&255;++mt<K&&(at*=256);)this[T+mt]=A/at&255;return T+K},d.prototype.writeUintBE=d.prototype.writeUIntBE=function(A,T,K,rt){if(A=+A,T=T>>>0,K=K>>>0,!rt){const Ut=Math.pow(2,8*K)-1;f(this,A,T,K,Ut,0)}let at=K-1,mt=1;for(this[T+at]=A&255;--at>=0&&(mt*=256);)this[T+at]=A/mt&255;return T+K},d.prototype.writeUint8=d.prototype.writeUInt8=function(A,T,K){return A=+A,T=T>>>0,K||f(this,A,T,1,255,0),this[T]=A&255,T+1},d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(A,T,K){return A=+A,T=T>>>0,K||f(this,A,T,2,65535,0),this[T]=A&255,this[T+1]=A>>>8,T+2},d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(A,T,K){return A=+A,T=T>>>0,K||f(this,A,T,2,65535,0),this[T]=A>>>8,this[T+1]=A&255,T+2},d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(A,T,K){return A=+A,T=T>>>0,K||f(this,A,T,4,4294967295,0),this[T+3]=A>>>24,this[T+2]=A>>>16,this[T+1]=A>>>8,this[T]=A&255,T+4},d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(A,T,K){return A=+A,T=T>>>0,K||f(this,A,T,4,4294967295,0),this[T]=A>>>24,this[T+1]=A>>>16,this[T+2]=A>>>8,this[T+3]=A&255,T+4};function g(H,A,T,K,rt){qt(A,K,rt,H,T,7);let at=Number(A&BigInt(4294967295));H[T++]=at,at=at>>8,H[T++]=at,at=at>>8,H[T++]=at,at=at>>8,H[T++]=at;let mt=Number(A>>BigInt(32)&BigInt(4294967295));return H[T++]=mt,mt=mt>>8,H[T++]=mt,mt=mt>>8,H[T++]=mt,mt=mt>>8,H[T++]=mt,T}function O(H,A,T,K,rt){qt(A,K,rt,H,T,7);let at=Number(A&BigInt(4294967295));H[T+7]=at,at=at>>8,H[T+6]=at,at=at>>8,H[T+5]=at,at=at>>8,H[T+4]=at;let mt=Number(A>>BigInt(32)&BigInt(4294967295));return H[T+3]=mt,mt=mt>>8,H[T+2]=mt,mt=mt>>8,H[T+1]=mt,mt=mt>>8,H[T]=mt,T+8}d.prototype.writeBigUInt64LE=yn(function(A,T=0){return g(this,A,T,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeBigUInt64BE=yn(function(A,T=0){return O(this,A,T,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeIntLE=function(A,T,K,rt){if(A=+A,T=T>>>0,!rt){const zt=Math.pow(2,8*K-1);f(this,A,T,K,zt-1,-zt)}let at=0,mt=1,Ut=0;for(this[T]=A&255;++at<K&&(mt*=256);)A<0&&Ut===0&&this[T+at-1]!==0&&(Ut=1),this[T+at]=(A/mt>>0)-Ut&255;return T+K},d.prototype.writeIntBE=function(A,T,K,rt){if(A=+A,T=T>>>0,!rt){const zt=Math.pow(2,8*K-1);f(this,A,T,K,zt-1,-zt)}let at=K-1,mt=1,Ut=0;for(this[T+at]=A&255;--at>=0&&(mt*=256);)A<0&&Ut===0&&this[T+at+1]!==0&&(Ut=1),this[T+at]=(A/mt>>0)-Ut&255;return T+K},d.prototype.writeInt8=function(A,T,K){return A=+A,T=T>>>0,K||f(this,A,T,1,127,-128),A<0&&(A=255+A+1),this[T]=A&255,T+1},d.prototype.writeInt16LE=function(A,T,K){return A=+A,T=T>>>0,K||f(this,A,T,2,32767,-32768),this[T]=A&255,this[T+1]=A>>>8,T+2},d.prototype.writeInt16BE=function(A,T,K){return A=+A,T=T>>>0,K||f(this,A,T,2,32767,-32768),this[T]=A>>>8,this[T+1]=A&255,T+2},d.prototype.writeInt32LE=function(A,T,K){return A=+A,T=T>>>0,K||f(this,A,T,4,2147483647,-2147483648),this[T]=A&255,this[T+1]=A>>>8,this[T+2]=A>>>16,this[T+3]=A>>>24,T+4},d.prototype.writeInt32BE=function(A,T,K){return A=+A,T=T>>>0,K||f(this,A,T,4,2147483647,-2147483648),A<0&&(A=4294967295+A+1),this[T]=A>>>24,this[T+1]=A>>>16,this[T+2]=A>>>8,this[T+3]=A&255,T+4},d.prototype.writeBigInt64LE=yn(function(A,T=0){return g(this,A,T,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),d.prototype.writeBigInt64BE=yn(function(A,T=0){return O(this,A,T,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function L(H,A,T,K,rt,at){if(T+K>H.length)throw new RangeError("Index out of range");if(T<0)throw new RangeError("Index out of range")}function Y(H,A,T,K,rt){return A=+A,T=T>>>0,rt||L(H,A,T,4),n.write(H,A,T,K,23,4),T+4}d.prototype.writeFloatLE=function(A,T,K){return Y(this,A,T,!0,K)},d.prototype.writeFloatBE=function(A,T,K){return Y(this,A,T,!1,K)};function et(H,A,T,K,rt){return A=+A,T=T>>>0,rt||L(H,A,T,8),n.write(H,A,T,K,52,8),T+8}d.prototype.writeDoubleLE=function(A,T,K){return et(this,A,T,!0,K)},d.prototype.writeDoubleBE=function(A,T,K){return et(this,A,T,!1,K)},d.prototype.copy=function(A,T,K,rt){if(!d.isBuffer(A))throw new TypeError("argument should be a Buffer");if(K||(K=0),!rt&&rt!==0&&(rt=this.length),T>=A.length&&(T=A.length),T||(T=0),rt>0&&rt<K&&(rt=K),rt===K||A.length===0||this.length===0)return 0;if(T<0)throw new RangeError("targetStart out of bounds");if(K<0||K>=this.length)throw new RangeError("Index out of range");if(rt<0)throw new RangeError("sourceEnd out of bounds");rt>this.length&&(rt=this.length),A.length-T<rt-K&&(rt=A.length-T+K);const at=rt-K;return this===A&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(T,K,rt):Uint8Array.prototype.set.call(A,this.subarray(K,rt),T),at},d.prototype.fill=function(A,T,K,rt){if(typeof A=="string"){if(typeof T=="string"?(rt=T,T=0,K=this.length):typeof K=="string"&&(rt=K,K=this.length),rt!==void 0&&typeof rt!="string")throw new TypeError("encoding must be a string");if(typeof rt=="string"&&!d.isEncoding(rt))throw new TypeError("Unknown encoding: "+rt);if(A.length===1){const mt=A.charCodeAt(0);(rt==="utf8"&&mt<128||rt==="latin1")&&(A=mt)}}else typeof A=="number"?A=A&255:typeof A=="boolean"&&(A=Number(A));if(T<0||this.length<T||this.length<K)throw new RangeError("Out of range index");if(K<=T)return this;T=T>>>0,K=K===void 0?this.length:K>>>0,A||(A=0);let at;if(typeof A=="number")for(at=T;at<K;++at)this[at]=A;else{const mt=d.isBuffer(A)?A:d.from(A,rt),Ut=mt.length;if(Ut===0)throw new TypeError('The value "'+A+'" is invalid for argument "value"');for(at=0;at<K-T;++at)this[at+T]=mt[at%Ut]}return this};const bt={};function _t(H,A,T){bt[H]=class extends T{constructor(){super(),Object.defineProperty(this,"message",{value:A.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${H}]`,this.stack,delete this.name}get code(){return H}set code(rt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:rt,writable:!0})}toString(){return`${this.name} [${H}]: ${this.message}`}}}_t("ERR_BUFFER_OUT_OF_BOUNDS",function(H){return H?`${H} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),_t("ERR_INVALID_ARG_TYPE",function(H,A){return`The "${H}" argument must be of type number. Received type ${typeof A}`},TypeError),_t("ERR_OUT_OF_RANGE",function(H,A,T){let K=`The value of "${H}" is out of range.`,rt=T;return Number.isInteger(T)&&Math.abs(T)>2**32?rt=Lt(String(T)):typeof T=="bigint"&&(rt=String(T),(T>BigInt(2)**BigInt(32)||T<-(BigInt(2)**BigInt(32)))&&(rt=Lt(rt)),rt+="n"),K+=` It must be ${A}. Received ${rt}`,K},RangeError);function Lt(H){let A="",T=H.length;const K=H[0]==="-"?1:0;for(;T>=K+4;T-=3)A=`_${H.slice(T-3,T)}${A}`;return`${H.slice(0,T)}${A}`}function Gt(H,A,T){je(A,"offset"),(H[A]===void 0||H[A+T]===void 0)&&Yt(A,H.length-(T+1))}function qt(H,A,T,K,rt,at){if(H>T||H<A){const mt=typeof A=="bigint"?"n":"";let Ut;throw A===0||A===BigInt(0)?Ut=`>= 0${mt} and < 2${mt} ** ${(at+1)*8}${mt}`:Ut=`>= -(2${mt} ** ${(at+1)*8-1}${mt}) and < 2 ** ${(at+1)*8-1}${mt}`,new bt.ERR_OUT_OF_RANGE("value",Ut,H)}Gt(K,rt,at)}function je(H,A){if(typeof H!="number")throw new bt.ERR_INVALID_ARG_TYPE(A,"number",H)}function Yt(H,A,T){throw Math.floor(H)!==H?(je(H,T),new bt.ERR_OUT_OF_RANGE("offset","an integer",H)):A<0?new bt.ERR_BUFFER_OUT_OF_BOUNDS:new bt.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${A}`,H)}const he=/[^+/0-9A-Za-z-_]/g;function Xn(H){if(H=H.split("=")[0],H=H.trim().replace(he,""),H.length<2)return"";for(;H.length%4!==0;)H=H+"=";return H}function ge(H,A){A=A||1/0;let T;const K=H.length;let rt=null;const at=[];for(let mt=0;mt<K;++mt){if(T=H.charCodeAt(mt),T>55295&&T<57344){if(!rt){if(T>56319){(A-=3)>-1&&at.push(239,191,189);continue}else if(mt+1===K){(A-=3)>-1&&at.push(239,191,189);continue}rt=T;continue}if(T<56320){(A-=3)>-1&&at.push(239,191,189),rt=T;continue}T=(rt-55296<<10|T-56320)+65536}else rt&&(A-=3)>-1&&at.push(239,191,189);if(rt=null,T<128){if((A-=1)<0)break;at.push(T)}else if(T<2048){if((A-=2)<0)break;at.push(T>>6|192,T&63|128)}else if(T<65536){if((A-=3)<0)break;at.push(T>>12|224,T>>6&63|128,T&63|128)}else if(T<1114112){if((A-=4)<0)break;at.push(T>>18|240,T>>12&63|128,T>>6&63|128,T&63|128)}else throw new Error("Invalid code point")}return at}function Oe(H){const A=[];for(let T=0;T<H.length;++T)A.push(H.charCodeAt(T)&255);return A}function kr(H,A){let T,K,rt;const at=[];for(let mt=0;mt<H.length&&!((A-=2)<0);++mt)T=H.charCodeAt(mt),K=T>>8,rt=T%256,at.push(rt),at.push(K);return at}function be(H){return e.toByteArray(Xn(H))}function pe(H,A,T,K){let rt;for(rt=0;rt<K&&!(rt+T>=A.length||rt>=H.length);++rt)A[rt+T]=H[rt];return rt}function En(H,A){return H instanceof A||H!=null&&H.constructor!=null&&H.constructor.name!=null&&H.constructor.name===A.name}function _e(H){return H!==H}const Pt=(function(){const H="0123456789abcdef",A=new Array(256);for(let T=0;T<16;++T){const K=T*16;for(let rt=0;rt<16;++rt)A[K+rt]=H[T]+H[rt]}return A})();function yn(H){return typeof BigInt>"u"?Ne:H}function Ne(){throw new Error("BigInt not supported")}})(yh)),yh}var kt=U0(),gh={exports:{}},hg;function nR(){if(hg)return gh.exports;hg=1;var s=gh.exports={},e,n;function i(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=i}catch{e=i}try{typeof clearTimeout=="function"?n=clearTimeout:n=u}catch{n=u}})();function o(U){if(e===setTimeout)return setTimeout(U,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(U,0);try{return e(U,0)}catch{try{return e.call(null,U,0)}catch{return e.call(this,U,0)}}}function l(U){if(n===clearTimeout)return clearTimeout(U);if((n===u||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(U);try{return n(U)}catch{try{return n.call(null,U)}catch{return n.call(this,U)}}}var d=[],y=!1,_,S=-1;function I(){!y||!_||(y=!1,_.length?d=_.concat(d):S=-1,d.length&&k())}function k(){if(!y){var U=o(I);y=!0;for(var D=d.length;D;){for(_=d,d=[];++S<D;)_&&_[S].run();S=-1,D=d.length}_=null,y=!1,l(U)}}s.nextTick=function(U){var D=new Array(arguments.length-1);if(arguments.length>1)for(var q=1;q<arguments.length;q++)D[q-1]=arguments[q];d.push(new R(U,D)),d.length===1&&!y&&o(k)};function R(U,D){this.fun=U,this.array=D}R.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={};function M(){}return s.on=M,s.addListener=M,s.once=M,s.off=M,s.removeListener=M,s.removeAllListeners=M,s.emit=M,s.prependListener=M,s.prependOnceListener=M,s.listeners=function(U){return[]},s.binding=function(U){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(U){throw new Error("process.chdir is not supported")},s.umask=function(){return 0},gh.exports}var rR=nR();const iR=Ii(rR);globalThis.Buffer||(globalThis.Buffer=kt.Buffer);globalThis.process||(globalThis.process=iR);var bh={exports:{}},Ft={};var pg;function sR(){if(pg)return Ft;pg=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),k=Symbol.iterator;function R(m){return m===null||typeof m!="object"?null:(m=k&&m[k]||m["@@iterator"],typeof m=="function"?m:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,D={};function q(m,f,g){this.props=m,this.context=f,this.refs=D,this.updater=g||M}q.prototype.isReactComponent={},q.prototype.setState=function(m,f){if(typeof m!="object"&&typeof m!="function"&&m!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,m,f,"setState")},q.prototype.forceUpdate=function(m){this.updater.enqueueForceUpdate(this,m,"forceUpdate")};function G(){}G.prototype=q.prototype;function P(m,f,g){this.props=m,this.context=f,this.refs=D,this.updater=g||M}var W=P.prototype=new G;W.constructor=P,U(W,q.prototype),W.isPureReactComponent=!0;var nt=Array.isArray;function ot(){}var it={H:null,A:null,T:null,S:null},ut=Object.prototype.hasOwnProperty;function V(m,f,g){var O=g.ref;return{$$typeof:s,type:m,key:f,ref:O!==void 0?O:null,props:g}}function F(m,f){return V(m.type,f,m.props)}function X(m){return typeof m=="object"&&m!==null&&m.$$typeof===s}function $(m){var f={"=":"=0",":":"=2"};return"$"+m.replace(/[=:]/g,function(g){return f[g]})}var x=/\/+/g;function h(m,f){return typeof m=="object"&&m!==null&&m.key!=null?$(""+m.key):f.toString(36)}function w(m){switch(m.status){case"fulfilled":return m.value;case"rejected":throw m.reason;default:switch(typeof m.status=="string"?m.then(ot,ot):(m.status="pending",m.then(function(f){m.status==="pending"&&(m.status="fulfilled",m.value=f)},function(f){m.status==="pending"&&(m.status="rejected",m.reason=f)})),m.status){case"fulfilled":return m.value;case"rejected":throw m.reason}}throw m}function E(m,f,g,O,L){var Y=typeof m;(Y==="undefined"||Y==="boolean")&&(m=null);var et=!1;if(m===null)et=!0;else switch(Y){case"bigint":case"string":case"number":et=!0;break;case"object":switch(m.$$typeof){case s:case e:et=!0;break;case S:return et=m._init,E(et(m._payload),f,g,O,L)}}if(et)return L=L(m),et=O===""?"."+h(m,0):O,nt(L)?(g="",et!=null&&(g=et.replace(x,"$&/")+"/"),E(L,f,g,"",function(Lt){return Lt})):L!=null&&(X(L)&&(L=F(L,g+(L.key==null||m&&m.key===L.key?"":(""+L.key).replace(x,"$&/")+"/")+et)),f.push(L)),1;et=0;var bt=O===""?".":O+":";if(nt(m))for(var _t=0;_t<m.length;_t++)O=m[_t],Y=bt+h(O,_t),et+=E(O,f,g,Y,L);else if(_t=R(m),typeof _t=="function")for(m=_t.call(m),_t=0;!(O=m.next()).done;)O=O.value,Y=bt+h(O,_t++),et+=E(O,f,g,Y,L);else if(Y==="object"){if(typeof m.then=="function")return E(w(m),f,g,O,L);throw f=String(m),Error("Objects are not valid as a React child (found: "+(f==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":f)+"). If you meant to render a collection of children, use an array instead.")}return et}function B(m,f,g){if(m==null)return m;var O=[],L=0;return E(m,O,"","",function(Y){return f.call(g,Y,L++)}),O}function z(m){if(m._status===-1){var f=m._result;f=f(),f.then(function(g){(m._status===0||m._status===-1)&&(m._status=1,m._result=g)},function(g){(m._status===0||m._status===-1)&&(m._status=2,m._result=g)}),m._status===-1&&(m._status=0,m._result=f)}if(m._status===1)return m._result.default;throw m._result}var C=typeof reportError=="function"?reportError:function(m){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof m=="object"&&m!==null&&typeof m.message=="string"?String(m.message):String(m),error:m});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",m);return}console.error(m)},v={map:B,forEach:function(m,f,g){B(m,function(){f.apply(this,arguments)},g)},count:function(m){var f=0;return B(m,function(){f++}),f},toArray:function(m){return B(m,function(f){return f})||[]},only:function(m){if(!X(m))throw Error("React.Children.only expected to receive a single React element child.");return m}};return Ft.Activity=I,Ft.Children=v,Ft.Component=q,Ft.Fragment=n,Ft.Profiler=u,Ft.PureComponent=P,Ft.StrictMode=i,Ft.Suspense=y,Ft.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=it,Ft.__COMPILER_RUNTIME={__proto__:null,c:function(m){return it.H.useMemoCache(m)}},Ft.cache=function(m){return function(){return m.apply(null,arguments)}},Ft.cacheSignal=function(){return null},Ft.cloneElement=function(m,f,g){if(m==null)throw Error("The argument must be a React element, but you passed "+m+".");var O=U({},m.props),L=m.key;if(f!=null)for(Y in f.key!==void 0&&(L=""+f.key),f)!ut.call(f,Y)||Y==="key"||Y==="__self"||Y==="__source"||Y==="ref"&&f.ref===void 0||(O[Y]=f[Y]);var Y=arguments.length-2;if(Y===1)O.children=g;else if(1<Y){for(var et=Array(Y),bt=0;bt<Y;bt++)et[bt]=arguments[bt+2];O.children=et}return V(m.type,L,O)},Ft.createContext=function(m){return m={$$typeof:l,_currentValue:m,_currentValue2:m,_threadCount:0,Provider:null,Consumer:null},m.Provider=m,m.Consumer={$$typeof:o,_context:m},m},Ft.createElement=function(m,f,g){var O,L={},Y=null;if(f!=null)for(O in f.key!==void 0&&(Y=""+f.key),f)ut.call(f,O)&&O!=="key"&&O!=="__self"&&O!=="__source"&&(L[O]=f[O]);var et=arguments.length-2;if(et===1)L.children=g;else if(1<et){for(var bt=Array(et),_t=0;_t<et;_t++)bt[_t]=arguments[_t+2];L.children=bt}if(m&&m.defaultProps)for(O in et=m.defaultProps,et)L[O]===void 0&&(L[O]=et[O]);return V(m,Y,L)},Ft.createRef=function(){return{current:null}},Ft.forwardRef=function(m){return{$$typeof:d,render:m}},Ft.isValidElement=X,Ft.lazy=function(m){return{$$typeof:S,_payload:{_status:-1,_result:m},_init:z}},Ft.memo=function(m,f){return{$$typeof:_,type:m,compare:f===void 0?null:f}},Ft.startTransition=function(m){var f=it.T,g={};it.T=g;try{var O=m(),L=it.S;L!==null&&L(g,O),typeof O=="object"&&O!==null&&typeof O.then=="function"&&O.then(ot,C)}catch(Y){C(Y)}finally{f!==null&&g.types!==null&&(f.types=g.types),it.T=f}},Ft.unstable_useCacheRefresh=function(){return it.H.useCacheRefresh()},Ft.use=function(m){return it.H.use(m)},Ft.useActionState=function(m,f,g){return it.H.useActionState(m,f,g)},Ft.useCallback=function(m,f){return it.H.useCallback(m,f)},Ft.useContext=function(m){return it.H.useContext(m)},Ft.useDebugValue=function(){},Ft.useDeferredValue=function(m,f){return it.H.useDeferredValue(m,f)},Ft.useEffect=function(m,f){return it.H.useEffect(m,f)},Ft.useEffectEvent=function(m){return it.H.useEffectEvent(m)},Ft.useId=function(){return it.H.useId()},Ft.useImperativeHandle=function(m,f,g){return it.H.useImperativeHandle(m,f,g)},Ft.useInsertionEffect=function(m,f){return it.H.useInsertionEffect(m,f)},Ft.useLayoutEffect=function(m,f){return it.H.useLayoutEffect(m,f)},Ft.useMemo=function(m,f){return it.H.useMemo(m,f)},Ft.useOptimistic=function(m,f){return it.H.useOptimistic(m,f)},Ft.useReducer=function(m,f,g){return it.H.useReducer(m,f,g)},Ft.useRef=function(m){return it.H.useRef(m)},Ft.useState=function(m){return it.H.useState(m)},Ft.useSyncExternalStore=function(m,f,g){return it.H.useSyncExternalStore(m,f,g)},Ft.useTransition=function(){return it.H.useTransition()},Ft.version="19.2.3",Ft}var mg;function D0(){return mg||(mg=1,bh.exports=sR()),bh.exports}var Tt=D0();const aR=Ii(Tt);var _h={exports:{}},hu={},wh={exports:{}},vh={};var yg;function oR(){return yg||(yg=1,(function(s){function e(E,B){var z=E.length;E.push(B);t:for(;0<z;){var C=z-1>>>1,v=E[C];if(0<u(v,B))E[C]=B,E[z]=v,z=C;else break t}}function n(E){return E.length===0?null:E[0]}function i(E){if(E.length===0)return null;var B=E[0],z=E.pop();if(z!==B){E[0]=z;t:for(var C=0,v=E.length,m=v>>>1;C<m;){var f=2*(C+1)-1,g=E[f],O=f+1,L=E[O];if(0>u(g,z))O<v&&0>u(L,g)?(E[C]=L,E[O]=z,C=O):(E[C]=g,E[f]=z,C=f);else if(O<v&&0>u(L,z))E[C]=L,E[O]=z,C=O;else break t}}return B}function u(E,B){var z=E.sortIndex-B.sortIndex;return z!==0?z:E.id-B.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;s.unstable_now=function(){return o.now()}}else{var l=Date,d=l.now();s.unstable_now=function(){return l.now()-d}}var y=[],_=[],S=1,I=null,k=3,R=!1,M=!1,U=!1,D=!1,q=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function W(E){for(var B=n(_);B!==null;){if(B.callback===null)i(_);else if(B.startTime<=E)i(_),B.sortIndex=B.expirationTime,e(y,B);else break;B=n(_)}}function nt(E){if(U=!1,W(E),!M)if(n(y)!==null)M=!0,ot||(ot=!0,$());else{var B=n(_);B!==null&&w(nt,B.startTime-E)}}var ot=!1,it=-1,ut=5,V=-1;function F(){return D?!0:!(s.unstable_now()-V<ut)}function X(){if(D=!1,ot){var E=s.unstable_now();V=E;var B=!0;try{t:{M=!1,U&&(U=!1,G(it),it=-1),R=!0;var z=k;try{e:{for(W(E),I=n(y);I!==null&&!(I.expirationTime>E&&F());){var C=I.callback;if(typeof C=="function"){I.callback=null,k=I.priorityLevel;var v=C(I.expirationTime<=E);if(E=s.unstable_now(),typeof v=="function"){I.callback=v,W(E),B=!0;break e}I===n(y)&&i(y),W(E)}else i(y);I=n(y)}if(I!==null)B=!0;else{var m=n(_);m!==null&&w(nt,m.startTime-E),B=!1}}break t}finally{I=null,k=z,R=!1}B=void 0}}finally{B?$():ot=!1}}}var $;if(typeof P=="function")$=function(){P(X)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,h=x.port2;x.port1.onmessage=X,$=function(){h.postMessage(null)}}else $=function(){q(X,0)};function w(E,B){it=q(function(){E(s.unstable_now())},B)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(E){E.callback=null},s.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ut=0<E?Math.floor(1e3/E):5},s.unstable_getCurrentPriorityLevel=function(){return k},s.unstable_next=function(E){switch(k){case 1:case 2:case 3:var B=3;break;default:B=k}var z=k;k=B;try{return E()}finally{k=z}},s.unstable_requestPaint=function(){D=!0},s.unstable_runWithPriority=function(E,B){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var z=k;k=E;try{return B()}finally{k=z}},s.unstable_scheduleCallback=function(E,B,z){var C=s.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?C+z:C):z=C,E){case 1:var v=-1;break;case 2:v=250;break;case 5:v=1073741823;break;case 4:v=1e4;break;default:v=5e3}return v=z+v,E={id:S++,callback:B,priorityLevel:E,startTime:z,expirationTime:v,sortIndex:-1},z>C?(E.sortIndex=z,e(_,E),n(y)===null&&E===n(_)&&(U?(G(it),it=-1):U=!0,w(nt,z-C))):(E.sortIndex=v,e(y,E),M||R||(M=!0,ot||(ot=!0,$()))),E},s.unstable_shouldYield=F,s.unstable_wrapCallback=function(E){var B=k;return function(){var z=k;k=B;try{return E.apply(this,arguments)}finally{k=z}}}})(vh)),vh}var gg;function uR(){return gg||(gg=1,wh.exports=oR()),wh.exports}var Eh={exports:{}},In={};var bg;function cR(){if(bg)return In;bg=1;var s=D0();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},u=Symbol.for("react.portal");function o(y,_,S){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:I==null?null:""+I,children:y,containerInfo:_,implementation:S}}var l=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return In.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,In.createPortal=function(y,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return o(y,_,null,S)},In.flushSync=function(y){var _=l.T,S=i.p;try{if(l.T=null,i.p=2,y)return y()}finally{l.T=_,i.p=S,i.d.f()}},In.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,i.d.C(y,_))},In.prefetchDNS=function(y){typeof y=="string"&&i.d.D(y)},In.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var S=_.as,I=d(S,_.crossOrigin),k=typeof _.integrity=="string"?_.integrity:void 0,R=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?i.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:I,integrity:k,fetchPriority:R}):S==="script"&&i.d.X(y,{crossOrigin:I,integrity:k,fetchPriority:R,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},In.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=d(_.as,_.crossOrigin);i.d.M(y,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&i.d.M(y)},In.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,I=d(S,_.crossOrigin);i.d.L(y,S,{crossOrigin:I,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},In.preloadModule=function(y,_){if(typeof y=="string")if(_){var S=d(_.as,_.crossOrigin);i.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else i.d.m(y)},In.requestFormReset=function(y){i.d.r(y)},In.unstable_batchedUpdates=function(y,_){return y(_)},In.useFormState=function(y,_,S){return l.H.useFormState(y,_,S)},In.useFormStatus=function(){return l.H.useHostTransitionStatus()},In.version="19.2.3",In}var _g;function lR(){if(_g)return Eh.exports;_g=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Eh.exports=cR(),Eh.exports}var wg;function fR(){if(wg)return hu;wg=1;var s=uR(),e=D0(),n=lR();function i(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function o(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function l(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function d(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function y(t){if(o(t)!==t)throw Error(i(188))}function _(t){var r=t.alternate;if(!r){if(r=o(t),r===null)throw Error(i(188));return r!==t?null:t}for(var a=t,c=r;;){var p=a.return;if(p===null)break;var b=p.alternate;if(b===null){if(c=p.return,c!==null){a=c;continue}break}if(p.child===b.child){for(b=p.child;b;){if(b===a)return y(p),t;if(b===c)return y(p),r;b=b.sibling}throw Error(i(188))}if(a.return!==c.return)a=p,c=b;else{for(var N=!1,j=p.child;j;){if(j===a){N=!0,a=p,c=b;break}if(j===c){N=!0,c=p,a=b;break}j=j.sibling}if(!N){for(j=b.child;j;){if(j===a){N=!0,a=b,c=p;break}if(j===c){N=!0,c=b,a=p;break}j=j.sibling}if(!N)throw Error(i(189))}}if(a.alternate!==c)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?t:r}function S(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=S(t),r!==null)return r;t=t.sibling}return null}var I=Object.assign,k=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),P=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),nt=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),it=Symbol.for("react.memo"),ut=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function $(t){return t===null||typeof t!="object"?null:(t=X&&t[X]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function h(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case U:return"Fragment";case q:return"Profiler";case D:return"StrictMode";case nt:return"Suspense";case ot:return"SuspenseList";case V:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case M:return"Portal";case P:return t.displayName||"Context";case G:return(t._context.displayName||"Context")+".Consumer";case W:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case it:return r=t.displayName||null,r!==null?r:h(t.type)||"Memo";case ut:r=t._payload,t=t._init;try{return h(t(r))}catch{}}return null}var w=Array.isArray,E=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z={pending:!1,data:null,method:null,action:null},C=[],v=-1;function m(t){return{current:t}}function f(t){0>v||(t.current=C[v],C[v]=null,v--)}function g(t,r){v++,C[v]=t.current,t.current=r}var O=m(null),L=m(null),Y=m(null),et=m(null);function bt(t,r){switch(g(Y,r),g(L,t),g(O,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?I1(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=I1(r),t=C1(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}f(O),g(O,t)}function _t(){f(O),f(L),f(Y)}function Lt(t){t.memoizedState!==null&&g(et,t);var r=O.current,a=C1(r,t.type);r!==a&&(g(L,t),g(O,a))}function Gt(t){L.current===t&&(f(O),f(L)),et.current===t&&(f(et),ou._currentValue=z)}var qt,je;function Yt(t){if(qt===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);qt=r&&r[1]||"",je=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qt+t+je}var he=!1;function Xn(t,r){if(!t||he)return"";he=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var Et=function(){throw Error()};if(Object.defineProperty(Et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Et,[])}catch(yt){var ht=yt}Reflect.construct(t,[],Et)}else{try{Et.call()}catch(yt){ht=yt}t.call(Et.prototype)}}else{try{throw Error()}catch(yt){ht=yt}(Et=t())&&typeof Et.catch=="function"&&Et.catch(function(){})}}catch(yt){if(yt&&ht&&typeof yt.stack=="string")return[yt.stack,ht.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=c.DetermineComponentFrameRoot(),N=b[0],j=b[1];if(N&&j){var J=N.split(`
`),ft=j.split(`
`);for(p=c=0;c<J.length&&!J[c].includes("DetermineComponentFrameRoot");)c++;for(;p<ft.length&&!ft[p].includes("DetermineComponentFrameRoot");)p++;if(c===J.length||p===ft.length)for(c=J.length-1,p=ft.length-1;1<=c&&0<=p&&J[c]!==ft[p];)p--;for(;1<=c&&0<=p;c--,p--)if(J[c]!==ft[p]){if(c!==1||p!==1)do if(c--,p--,0>p||J[c]!==ft[p]){var gt=`
`+J[c].replace(" at new "," at ");return t.displayName&&gt.includes("<anonymous>")&&(gt=gt.replace("<anonymous>",t.displayName)),gt}while(1<=c&&0<=p);break}}}finally{he=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Yt(a):""}function ge(t,r){switch(t.tag){case 26:case 27:case 5:return Yt(t.type);case 16:return Yt("Lazy");case 13:return t.child!==r&&r!==null?Yt("Suspense Fallback"):Yt("Suspense");case 19:return Yt("SuspenseList");case 0:case 15:return Xn(t.type,!1);case 11:return Xn(t.type.render,!1);case 1:return Xn(t.type,!0);case 31:return Yt("Activity");default:return""}}function Oe(t){try{var r="",a=null;do r+=ge(t,a),a=t,t=t.return;while(t);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var kr=Object.prototype.hasOwnProperty,be=s.unstable_scheduleCallback,pe=s.unstable_cancelCallback,En=s.unstable_shouldYield,_e=s.unstable_requestPaint,Pt=s.unstable_now,yn=s.unstable_getCurrentPriorityLevel,Ne=s.unstable_ImmediatePriority,H=s.unstable_UserBlockingPriority,A=s.unstable_NormalPriority,T=s.unstable_LowPriority,K=s.unstable_IdlePriority,rt=s.log,at=s.unstable_setDisableYieldValue,mt=null,Ut=null;function zt(t){if(typeof rt=="function"&&at(t),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(mt,t)}catch{}}var Bt=Math.clz32?Math.clz32:Me,we=Math.log,Kt=Math.LN2;function Me(t){return t>>>=0,t===0?32:31-(we(t)/Kt|0)|0}var Es=256,Ue=262144,De=4194304;function Ir(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Le(t,r,a){var c=t.pendingLanes;if(c===0)return 0;var p=0,b=t.suspendedLanes,N=t.pingedLanes;t=t.warmLanes;var j=c&134217727;return j!==0?(c=j&~b,c!==0?p=Ir(c):(N&=j,N!==0?p=Ir(N):a||(a=j&~t,a!==0&&(p=Ir(a))))):(j=c&~b,j!==0?p=Ir(j):N!==0?p=Ir(N):a||(a=c&~t,a!==0&&(p=Ir(a)))),p===0?0:r!==0&&r!==p&&(r&b)===0&&(b=p&-p,a=r&-r,b>=a||b===32&&(a&4194048)!==0)?r:p}function Ie(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Pu(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fe(){var t=De;return De<<=1,(De&62914560)===0&&(De=4194304),t}function qe(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Bi(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Je(t,r,a,c,p,b){var N=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var j=t.entanglements,J=t.expirationTimes,ft=t.hiddenUpdates;for(a=N&~a;0<a;){var gt=31-Bt(a),Et=1<<gt;j[gt]=0,J[gt]=-1;var ht=ft[gt];if(ht!==null)for(ft[gt]=null,gt=0;gt<ht.length;gt++){var yt=ht[gt];yt!==null&&(yt.lane&=-536870913)}a&=~Et}c!==0&&Ye(t,c,0),b!==0&&p===0&&t.tag!==0&&(t.suspendedLanes|=b&~(N&~r))}function Ye(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var c=31-Bt(r);t.entangledLanes|=r,t.entanglements[c]=t.entanglements[c]|1073741824|a&261930}function wo(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var c=31-Bt(a),p=1<<c;p&r|t[c]&r&&(t[c]|=r),a&=~p}}function Ze(t,r){var a=r&-r;return a=(a&42)!==0?1:Pe(a),(a&(t.suspendedLanes|r))!==0?0:a}function Pe(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function sa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Xe(){var t=B.p;return t!==0?t:(t=window.event,t===void 0?32:eg(t.type))}function $e(t,r){var a=B.p;try{return B.p=t,r()}finally{B.p=a}}var wr=Math.random().toString(36).slice(2),Jt="__reactFiber$"+wr,se="__reactProps$"+wr,$r="__reactContainer$"+wr,Ke="__reactEvents$"+wr,tn="__reactListeners$"+wr,vo="__reactHandles$"+wr,aa="__reactResources$"+wr,Wr="__reactMarker$"+wr;function Ss(t){delete t[Jt],delete t[se],delete t[Ke],delete t[tn],delete t[vo]}function Cr(t){var r=t[Jt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[$r]||a[Jt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=H1(t);t!==null;){if(a=t[Jt])return a;t=H1(t)}return r}t=a,a=t.parentNode}return null}function Br(t){if(t=t[Jt]||t[$r]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function Qr(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(i(33))}function Mr(t){var r=t[aa];return r||(r=t[aa]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function en(t){t[Wr]=!0}var oa=new Set,ua={};function vr(t,r){Ur(t,r),Ur(t+"Capture",r)}function Ur(t,r){for(ua[t]=r,t=0;t<r.length;t++)oa.add(r[t])}var Eo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ca={},la={};function So(t){return kr.call(la,t)?!0:kr.call(ca,t)?!1:Eo.test(t)?la[t]=!0:(ca[t]=!0,!1)}function Mi(t,r,a){if(So(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function Ui(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Jr(t,r,a,c){if(c===null)t.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+c)}}function or(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Sp(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function GE(t,r,a){var c=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,b=c.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return p.call(this)},set:function(N){a=""+N,b.call(this,N)}}),Object.defineProperty(t,r,{enumerable:c.enumerable}),{getValue:function(){return a},setValue:function(N){a=""+N},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function uf(t){if(!t._valueTracker){var r=Sp(t)?"checked":"value";t._valueTracker=GE(t,r,""+t[r])}}function Ap(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),c="";return t&&(c=Sp(t)?t.checked?"true":"false":t.value),t=c,t!==a?(r.setValue(t),!0):!1}function Ku(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var FE=/[\n"\\]/g;function ur(t){return t.replace(FE,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function cf(t,r,a,c,p,b,N,j){t.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?t.type=N:t.removeAttribute("type"),r!=null?N==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+or(r)):t.value!==""+or(r)&&(t.value=""+or(r)):N!=="submit"&&N!=="reset"||t.removeAttribute("value"),r!=null?lf(t,N,or(r)):a!=null?lf(t,N,or(a)):c!=null&&t.removeAttribute("value"),p==null&&b!=null&&(t.defaultChecked=!!b),p!=null&&(t.checked=p&&typeof p!="function"&&typeof p!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?t.name=""+or(j):t.removeAttribute("name")}function Rp(t,r,a,c,p,b,N,j){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.type=b),r!=null||a!=null){if(!(b!=="submit"&&b!=="reset"||r!=null)){uf(t);return}a=a!=null?""+or(a):"",r=r!=null?""+or(r):a,j||r===t.value||(t.value=r),t.defaultValue=r}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=j?t.checked:!!c,t.defaultChecked=!!c,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(t.name=N),uf(t)}function lf(t,r,a){r==="number"&&Ku(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function fa(t,r,a,c){if(t=t.options,r){r={};for(var p=0;p<a.length;p++)r["$"+a[p]]=!0;for(a=0;a<t.length;a++)p=r.hasOwnProperty("$"+t[a].value),t[a].selected!==p&&(t[a].selected=p),p&&c&&(t[a].defaultSelected=!0)}else{for(a=""+or(a),r=null,p=0;p<t.length;p++){if(t[p].value===a){t[p].selected=!0,c&&(t[p].defaultSelected=!0);return}r!==null||t[p].disabled||(r=t[p])}r!==null&&(r.selected=!0)}}function xp(t,r,a){if(r!=null&&(r=""+or(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+or(a):""}function Tp(t,r,a,c){if(r==null){if(c!=null){if(a!=null)throw Error(i(92));if(w(c)){if(1<c.length)throw Error(i(93));c=c[0]}a=c}a==null&&(a=""),r=a}a=or(r),t.defaultValue=a,c=t.textContent,c===a&&c!==""&&c!==null&&(t.value=c),uf(t)}function da(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var YE=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Op(t,r,a){var c=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":c?t.setProperty(r,a):typeof a!="number"||a===0||YE.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Np(t,r,a){if(r!=null&&typeof r!="object")throw Error(i(62));if(t=t.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var p in r)c=r[p],r.hasOwnProperty(p)&&a[p]!==c&&Op(t,p,c)}else for(var b in r)r.hasOwnProperty(b)&&Op(t,b,r[b])}function ff(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ZE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),XE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vu(t){return XE.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ti(){}var df=null;function hf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ha=null,pa=null;function kp(t){var r=Br(t);if(r&&(t=r.stateNode)){var a=t[se]||null;t:switch(t=r.stateNode,r.type){case"input":if(cf(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ur(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var c=a[r];if(c!==t&&c.form===t.form){var p=c[se]||null;if(!p)throw Error(i(90));cf(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(r=0;r<a.length;r++)c=a[r],c.form===t.form&&Ap(c)}break t;case"textarea":xp(t,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&fa(t,!!a.multiple,r,!1)}}}var pf=!1;function Ip(t,r,a){if(pf)return t(r,a);pf=!0;try{var c=t(r);return c}finally{if(pf=!1,(ha!==null||pa!==null)&&(Ic(),ha&&(r=ha,t=pa,pa=ha=null,kp(r),t)))for(r=0;r<t.length;r++)kp(t[r])}}function Ao(t,r){var a=t.stateNode;if(a===null)return null;var c=a[se]||null;if(c===null)return null;a=c[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(i(231,r,typeof a));return a}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mf=!1;if(ei)try{var Ro={};Object.defineProperty(Ro,"passive",{get:function(){mf=!0}}),window.addEventListener("test",Ro,Ro),window.removeEventListener("test",Ro,Ro)}catch{mf=!1}var Di=null,yf=null,Gu=null;function Cp(){if(Gu)return Gu;var t,r=yf,a=r.length,c,p="value"in Di?Di.value:Di.textContent,b=p.length;for(t=0;t<a&&r[t]===p[t];t++);var N=a-t;for(c=1;c<=N&&r[a-c]===p[b-c];c++);return Gu=p.slice(t,1<c?1-c:void 0)}function Fu(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Yu(){return!0}function Bp(){return!1}function Hn(t){function r(a,c,p,b,N){this._reactName=a,this._targetInst=p,this.type=c,this.nativeEvent=b,this.target=N,this.currentTarget=null;for(var j in t)t.hasOwnProperty(j)&&(a=t[j],this[j]=a?a(b):b[j]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Yu:Bp,this.isPropagationStopped=Bp,this}return I(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Yu)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Yu)},persist:function(){},isPersistent:Yu}),r}var As={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zu=Hn(As),xo=I({},As,{view:0,detail:0}),$E=Hn(xo),gf,bf,To,Xu=I({},xo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==To&&(To&&t.type==="mousemove"?(gf=t.screenX-To.screenX,bf=t.screenY-To.screenY):bf=gf=0,To=t),gf)},movementY:function(t){return"movementY"in t?t.movementY:bf}}),Mp=Hn(Xu),WE=I({},Xu,{dataTransfer:0}),QE=Hn(WE),JE=I({},xo,{relatedTarget:0}),_f=Hn(JE),tS=I({},As,{animationName:0,elapsedTime:0,pseudoElement:0}),eS=Hn(tS),nS=I({},As,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),rS=Hn(nS),iS=I({},As,{data:0}),Up=Hn(iS),sS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uS(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=oS[t])?!!r[t]:!1}function wf(){return uS}var cS=I({},xo,{key:function(t){if(t.key){var r=sS[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Fu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?aS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wf,charCode:function(t){return t.type==="keypress"?Fu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),lS=Hn(cS),fS=I({},Xu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dp=Hn(fS),dS=I({},xo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wf}),hS=Hn(dS),pS=I({},As,{propertyName:0,elapsedTime:0,pseudoElement:0}),mS=Hn(pS),yS=I({},Xu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),gS=Hn(yS),bS=I({},As,{newState:0,oldState:0}),_S=Hn(bS),wS=[9,13,27,32],vf=ei&&"CompositionEvent"in window,Oo=null;ei&&"documentMode"in document&&(Oo=document.documentMode);var vS=ei&&"TextEvent"in window&&!Oo,Lp=ei&&(!vf||Oo&&8<Oo&&11>=Oo),zp=" ",Hp=!1;function jp(t,r){switch(t){case"keyup":return wS.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ma=!1;function ES(t,r){switch(t){case"compositionend":return qp(r);case"keypress":return r.which!==32?null:(Hp=!0,zp);case"textInput":return t=r.data,t===zp&&Hp?null:t;default:return null}}function SS(t,r){if(ma)return t==="compositionend"||!vf&&jp(t,r)?(t=Cp(),Gu=yf=Di=null,ma=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Lp&&r.locale!=="ko"?null:r.data;default:return null}}var AS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pp(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!AS[t.type]:r==="textarea"}function Kp(t,r,a,c){ha?pa?pa.push(c):pa=[c]:ha=c,r=zc(r,"onChange"),0<r.length&&(a=new Zu("onChange","change",null,a,c),t.push({event:a,listeners:r}))}var No=null,ko=null;function RS(t){R1(t,0)}function $u(t){var r=Qr(t);if(Ap(r))return t}function Vp(t,r){if(t==="change")return r}var Gp=!1;if(ei){var Ef;if(ei){var Sf="oninput"in document;if(!Sf){var Fp=document.createElement("div");Fp.setAttribute("oninput","return;"),Sf=typeof Fp.oninput=="function"}Ef=Sf}else Ef=!1;Gp=Ef&&(!document.documentMode||9<document.documentMode)}function Yp(){No&&(No.detachEvent("onpropertychange",Zp),ko=No=null)}function Zp(t){if(t.propertyName==="value"&&$u(ko)){var r=[];Kp(r,ko,t,hf(t)),Ip(RS,r)}}function xS(t,r,a){t==="focusin"?(Yp(),No=r,ko=a,No.attachEvent("onpropertychange",Zp)):t==="focusout"&&Yp()}function TS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $u(ko)}function OS(t,r){if(t==="click")return $u(r)}function NS(t,r){if(t==="input"||t==="change")return $u(r)}function kS(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var $n=typeof Object.is=="function"?Object.is:kS;function Io(t,r){if($n(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),c=Object.keys(r);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var p=a[c];if(!kr.call(r,p)||!$n(t[p],r[p]))return!1}return!0}function Xp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $p(t,r){var a=Xp(t);t=0;for(var c;a;){if(a.nodeType===3){if(c=t+a.textContent.length,t<=r&&c>=r)return{node:a,offset:r-t};t=c}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Xp(a)}}function Wp(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Wp(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Qp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Ku(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Ku(t.document)}return r}function Af(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var IS=ei&&"documentMode"in document&&11>=document.documentMode,ya=null,Rf=null,Co=null,xf=!1;function Jp(t,r,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;xf||ya==null||ya!==Ku(c)||(c=ya,"selectionStart"in c&&Af(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Co&&Io(Co,c)||(Co=c,c=zc(Rf,"onSelect"),0<c.length&&(r=new Zu("onSelect","select",null,r,a),t.push({event:r,listeners:c}),r.target=ya)))}function Rs(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var ga={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionrun:Rs("Transition","TransitionRun"),transitionstart:Rs("Transition","TransitionStart"),transitioncancel:Rs("Transition","TransitionCancel"),transitionend:Rs("Transition","TransitionEnd")},Tf={},tm={};ei&&(tm=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function xs(t){if(Tf[t])return Tf[t];if(!ga[t])return t;var r=ga[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in tm)return Tf[t]=r[a];return t}var em=xs("animationend"),nm=xs("animationiteration"),rm=xs("animationstart"),CS=xs("transitionrun"),BS=xs("transitionstart"),MS=xs("transitioncancel"),im=xs("transitionend"),sm=new Map,Of="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Of.push("scrollEnd");function Er(t,r){sm.set(t,r),vr(r,[t])}var Wu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},cr=[],ba=0,Nf=0;function Qu(){for(var t=ba,r=Nf=ba=0;r<t;){var a=cr[r];cr[r++]=null;var c=cr[r];cr[r++]=null;var p=cr[r];cr[r++]=null;var b=cr[r];if(cr[r++]=null,c!==null&&p!==null){var N=c.pending;N===null?p.next=p:(p.next=N.next,N.next=p),c.pending=p}b!==0&&am(a,p,b)}}function Ju(t,r,a,c){cr[ba++]=t,cr[ba++]=r,cr[ba++]=a,cr[ba++]=c,Nf|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function kf(t,r,a,c){return Ju(t,r,a,c),tc(t)}function Ts(t,r){return Ju(t,null,null,r),tc(t)}function am(t,r,a){t.lanes|=a;var c=t.alternate;c!==null&&(c.lanes|=a);for(var p=!1,b=t.return;b!==null;)b.childLanes|=a,c=b.alternate,c!==null&&(c.childLanes|=a),b.tag===22&&(t=b.stateNode,t===null||t._visibility&1||(p=!0)),t=b,b=b.return;return t.tag===3?(b=t.stateNode,p&&r!==null&&(p=31-Bt(a),t=b.hiddenUpdates,c=t[p],c===null?t[p]=[r]:c.push(r),r.lane=a|536870912),b):null}function tc(t){if(50<tu)throw tu=0,Hd=null,Error(i(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var _a={};function US(t,r,a,c){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(t,r,a,c){return new US(t,r,a,c)}function If(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ni(t,r){var a=t.alternate;return a===null?(a=Wn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function om(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function ec(t,r,a,c,p,b){var N=0;if(c=t,typeof t=="function")If(t)&&(N=1);else if(typeof t=="string")N=jA(t,a,O.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case V:return t=Wn(31,a,r,p),t.elementType=V,t.lanes=b,t;case U:return Os(a.children,p,b,r);case D:N=8,p|=24;break;case q:return t=Wn(12,a,r,p|2),t.elementType=q,t.lanes=b,t;case nt:return t=Wn(13,a,r,p),t.elementType=nt,t.lanes=b,t;case ot:return t=Wn(19,a,r,p),t.elementType=ot,t.lanes=b,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case P:N=10;break t;case G:N=9;break t;case W:N=11;break t;case it:N=14;break t;case ut:N=16,c=null;break t}N=29,a=Error(i(130,t===null?"null":typeof t,"")),c=null}return r=Wn(N,a,r,p),r.elementType=t,r.type=c,r.lanes=b,r}function Os(t,r,a,c){return t=Wn(7,t,c,r),t.lanes=a,t}function Cf(t,r,a){return t=Wn(6,t,null,r),t.lanes=a,t}function um(t){var r=Wn(18,null,null,0);return r.stateNode=t,r}function Bf(t,r,a){return r=Wn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var cm=new WeakMap;function lr(t,r){if(typeof t=="object"&&t!==null){var a=cm.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Oe(r)},cm.set(t,r),r)}return{value:t,source:r,stack:Oe(r)}}var wa=[],va=0,nc=null,Bo=0,fr=[],dr=0,Li=null,Dr=1,Lr="";function ri(t,r){wa[va++]=Bo,wa[va++]=nc,nc=t,Bo=r}function lm(t,r,a){fr[dr++]=Dr,fr[dr++]=Lr,fr[dr++]=Li,Li=t;var c=Dr;t=Lr;var p=32-Bt(c)-1;c&=~(1<<p),a+=1;var b=32-Bt(r)+p;if(30<b){var N=p-p%5;b=(c&(1<<N)-1).toString(32),c>>=N,p-=N,Dr=1<<32-Bt(r)+p|a<<p|c,Lr=b+t}else Dr=1<<b|a<<p|c,Lr=t}function Mf(t){t.return!==null&&(ri(t,1),lm(t,1,0))}function Uf(t){for(;t===nc;)nc=wa[--va],wa[va]=null,Bo=wa[--va],wa[va]=null;for(;t===Li;)Li=fr[--dr],fr[dr]=null,Lr=fr[--dr],fr[dr]=null,Dr=fr[--dr],fr[dr]=null}function fm(t,r){fr[dr++]=Dr,fr[dr++]=Lr,fr[dr++]=Li,Dr=r.id,Lr=r.overflow,Li=t}var Sn=null,ze=null,ae=!1,zi=null,hr=!1,Df=Error(i(519));function Hi(t){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Mo(lr(r,t)),Df}function dm(t){var r=t.stateNode,a=t.type,c=t.memoizedProps;switch(r[Jt]=t,r[se]=c,a){case"dialog":ee("cancel",r),ee("close",r);break;case"iframe":case"object":case"embed":ee("load",r);break;case"video":case"audio":for(a=0;a<nu.length;a++)ee(nu[a],r);break;case"source":ee("error",r);break;case"img":case"image":case"link":ee("error",r),ee("load",r);break;case"details":ee("toggle",r);break;case"input":ee("invalid",r),Rp(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":ee("invalid",r);break;case"textarea":ee("invalid",r),Tp(r,c.value,c.defaultValue,c.children)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||c.suppressHydrationWarning===!0||N1(r.textContent,a)?(c.popover!=null&&(ee("beforetoggle",r),ee("toggle",r)),c.onScroll!=null&&ee("scroll",r),c.onScrollEnd!=null&&ee("scrollend",r),c.onClick!=null&&(r.onclick=ti),r=!0):r=!1,r||Hi(t,!0)}function hm(t){for(Sn=t.return;Sn;)switch(Sn.tag){case 5:case 31:case 13:hr=!1;return;case 27:case 3:hr=!0;return;default:Sn=Sn.return}}function Ea(t){if(t!==Sn)return!1;if(!ae)return hm(t),ae=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||th(t.type,t.memoizedProps)),a=!a),a&&ze&&Hi(t),hm(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));ze=z1(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));ze=z1(t)}else r===27?(r=ze,Ji(t.type)?(t=sh,sh=null,ze=t):ze=r):ze=Sn?mr(t.stateNode.nextSibling):null;return!0}function Ns(){ze=Sn=null,ae=!1}function Lf(){var t=zi;return t!==null&&(Kn===null?Kn=t:Kn.push.apply(Kn,t),zi=null),t}function Mo(t){zi===null?zi=[t]:zi.push(t)}var zf=m(null),ks=null,ii=null;function ji(t,r,a){g(zf,r._currentValue),r._currentValue=a}function si(t){t._currentValue=zf.current,f(zf)}function Hf(t,r,a){for(;t!==null;){var c=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),t===a)break;t=t.return}}function jf(t,r,a,c){var p=t.child;for(p!==null&&(p.return=t);p!==null;){var b=p.dependencies;if(b!==null){var N=p.child;b=b.firstContext;t:for(;b!==null;){var j=b;b=p;for(var J=0;J<r.length;J++)if(j.context===r[J]){b.lanes|=a,j=b.alternate,j!==null&&(j.lanes|=a),Hf(b.return,a,t),c||(N=null);break t}b=j.next}}else if(p.tag===18){if(N=p.return,N===null)throw Error(i(341));N.lanes|=a,b=N.alternate,b!==null&&(b.lanes|=a),Hf(N,a,t),N=null}else N=p.child;if(N!==null)N.return=p;else for(N=p;N!==null;){if(N===t){N=null;break}if(p=N.sibling,p!==null){p.return=N.return,N=p;break}N=N.return}p=N}}function Sa(t,r,a,c){t=null;for(var p=r,b=!1;p!==null;){if(!b){if((p.flags&524288)!==0)b=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var N=p.alternate;if(N===null)throw Error(i(387));if(N=N.memoizedProps,N!==null){var j=p.type;$n(p.pendingProps.value,N.value)||(t!==null?t.push(j):t=[j])}}else if(p===et.current){if(N=p.alternate,N===null)throw Error(i(387));N.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(t!==null?t.push(ou):t=[ou])}p=p.return}t!==null&&jf(r,t,a,c),r.flags|=262144}function rc(t){for(t=t.firstContext;t!==null;){if(!$n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Is(t){ks=t,ii=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function An(t){return pm(ks,t)}function ic(t,r){return ks===null&&Is(t),pm(t,r)}function pm(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},ii===null){if(t===null)throw Error(i(308));ii=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else ii=ii.next=r;return a}var DS=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,c){t.push(c)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},LS=s.unstable_scheduleCallback,zS=s.unstable_NormalPriority,fn={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qf(){return{controller:new DS,data:new Map,refCount:0}}function Uo(t){t.refCount--,t.refCount===0&&LS(zS,function(){t.controller.abort()})}var Do=null,Pf=0,Aa=0,Ra=null;function HS(t,r){if(Do===null){var a=Do=[];Pf=0,Aa=Gd(),Ra={status:"pending",value:void 0,then:function(c){a.push(c)}}}return Pf++,r.then(mm,mm),r}function mm(){if(--Pf===0&&Do!==null){Ra!==null&&(Ra.status="fulfilled");var t=Do;Do=null,Aa=0,Ra=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function jS(t,r){var a=[],c={status:"pending",value:null,reason:null,then:function(p){a.push(p)}};return t.then(function(){c.status="fulfilled",c.value=r;for(var p=0;p<a.length;p++)(0,a[p])(r)},function(p){for(c.status="rejected",c.reason=p,p=0;p<a.length;p++)(0,a[p])(void 0)}),c}var ym=E.S;E.S=function(t,r){Jy=Pt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&HS(t,r),ym!==null&&ym(t,r)};var Cs=m(null);function Kf(){var t=Cs.current;return t!==null?t:ke.pooledCache}function sc(t,r){r===null?g(Cs,Cs.current):g(Cs,r.pool)}function gm(){var t=Kf();return t===null?null:{parent:fn._currentValue,pool:t}}var xa=Error(i(460)),Vf=Error(i(474)),ac=Error(i(542)),oc={then:function(){}};function bm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function _m(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(ti,ti),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,vm(t),t;default:if(typeof r.status=="string")r.then(ti,ti);else{if(t=ke,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=r,t.status="pending",t.then(function(c){if(r.status==="pending"){var p=r;p.status="fulfilled",p.value=c}},function(c){if(r.status==="pending"){var p=r;p.status="rejected",p.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,vm(t),t}throw Ms=r,xa}}function Bs(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ms=a,xa):a}}var Ms=null;function wm(){if(Ms===null)throw Error(i(459));var t=Ms;return Ms=null,t}function vm(t){if(t===xa||t===ac)throw Error(i(483))}var Ta=null,Lo=0;function uc(t){var r=Lo;return Lo+=1,Ta===null&&(Ta=[]),_m(Ta,t,r)}function zo(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function cc(t,r){throw r.$$typeof===k?Error(i(525)):(t=Object.prototype.toString.call(r),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Em(t){function r(st,tt){if(t){var lt=st.deletions;lt===null?(st.deletions=[tt],st.flags|=16):lt.push(tt)}}function a(st,tt){if(!t)return null;for(;tt!==null;)r(st,tt),tt=tt.sibling;return null}function c(st){for(var tt=new Map;st!==null;)st.key!==null?tt.set(st.key,st):tt.set(st.index,st),st=st.sibling;return tt}function p(st,tt){return st=ni(st,tt),st.index=0,st.sibling=null,st}function b(st,tt,lt){return st.index=lt,t?(lt=st.alternate,lt!==null?(lt=lt.index,lt<tt?(st.flags|=67108866,tt):lt):(st.flags|=67108866,tt)):(st.flags|=1048576,tt)}function N(st){return t&&st.alternate===null&&(st.flags|=67108866),st}function j(st,tt,lt,wt){return tt===null||tt.tag!==6?(tt=Cf(lt,st.mode,wt),tt.return=st,tt):(tt=p(tt,lt),tt.return=st,tt)}function J(st,tt,lt,wt){var Ht=lt.type;return Ht===U?gt(st,tt,lt.props.children,wt,lt.key):tt!==null&&(tt.elementType===Ht||typeof Ht=="object"&&Ht!==null&&Ht.$$typeof===ut&&Bs(Ht)===tt.type)?(tt=p(tt,lt.props),zo(tt,lt),tt.return=st,tt):(tt=ec(lt.type,lt.key,lt.props,null,st.mode,wt),zo(tt,lt),tt.return=st,tt)}function ft(st,tt,lt,wt){return tt===null||tt.tag!==4||tt.stateNode.containerInfo!==lt.containerInfo||tt.stateNode.implementation!==lt.implementation?(tt=Bf(lt,st.mode,wt),tt.return=st,tt):(tt=p(tt,lt.children||[]),tt.return=st,tt)}function gt(st,tt,lt,wt,Ht){return tt===null||tt.tag!==7?(tt=Os(lt,st.mode,wt,Ht),tt.return=st,tt):(tt=p(tt,lt),tt.return=st,tt)}function Et(st,tt,lt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return tt=Cf(""+tt,st.mode,lt),tt.return=st,tt;if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case R:return lt=ec(tt.type,tt.key,tt.props,null,st.mode,lt),zo(lt,tt),lt.return=st,lt;case M:return tt=Bf(tt,st.mode,lt),tt.return=st,tt;case ut:return tt=Bs(tt),Et(st,tt,lt)}if(w(tt)||$(tt))return tt=Os(tt,st.mode,lt,null),tt.return=st,tt;if(typeof tt.then=="function")return Et(st,uc(tt),lt);if(tt.$$typeof===P)return Et(st,ic(st,tt),lt);cc(st,tt)}return null}function ht(st,tt,lt,wt){var Ht=tt!==null?tt.key:null;if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return Ht!==null?null:j(st,tt,""+lt,wt);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case R:return lt.key===Ht?J(st,tt,lt,wt):null;case M:return lt.key===Ht?ft(st,tt,lt,wt):null;case ut:return lt=Bs(lt),ht(st,tt,lt,wt)}if(w(lt)||$(lt))return Ht!==null?null:gt(st,tt,lt,wt,null);if(typeof lt.then=="function")return ht(st,tt,uc(lt),wt);if(lt.$$typeof===P)return ht(st,tt,ic(st,lt),wt);cc(st,lt)}return null}function yt(st,tt,lt,wt,Ht){if(typeof wt=="string"&&wt!==""||typeof wt=="number"||typeof wt=="bigint")return st=st.get(lt)||null,j(tt,st,""+wt,Ht);if(typeof wt=="object"&&wt!==null){switch(wt.$$typeof){case R:return st=st.get(wt.key===null?lt:wt.key)||null,J(tt,st,wt,Ht);case M:return st=st.get(wt.key===null?lt:wt.key)||null,ft(tt,st,wt,Ht);case ut:return wt=Bs(wt),yt(st,tt,lt,wt,Ht)}if(w(wt)||$(wt))return st=st.get(lt)||null,gt(tt,st,wt,Ht,null);if(typeof wt.then=="function")return yt(st,tt,lt,uc(wt),Ht);if(wt.$$typeof===P)return yt(st,tt,lt,ic(tt,wt),Ht);cc(tt,wt)}return null}function Ct(st,tt,lt,wt){for(var Ht=null,le=null,Mt=tt,Xt=tt=0,ie=null;Mt!==null&&Xt<lt.length;Xt++){Mt.index>Xt?(ie=Mt,Mt=null):ie=Mt.sibling;var fe=ht(st,Mt,lt[Xt],wt);if(fe===null){Mt===null&&(Mt=ie);break}t&&Mt&&fe.alternate===null&&r(st,Mt),tt=b(fe,tt,Xt),le===null?Ht=fe:le.sibling=fe,le=fe,Mt=ie}if(Xt===lt.length)return a(st,Mt),ae&&ri(st,Xt),Ht;if(Mt===null){for(;Xt<lt.length;Xt++)Mt=Et(st,lt[Xt],wt),Mt!==null&&(tt=b(Mt,tt,Xt),le===null?Ht=Mt:le.sibling=Mt,le=Mt);return ae&&ri(st,Xt),Ht}for(Mt=c(Mt);Xt<lt.length;Xt++)ie=yt(Mt,st,Xt,lt[Xt],wt),ie!==null&&(t&&ie.alternate!==null&&Mt.delete(ie.key===null?Xt:ie.key),tt=b(ie,tt,Xt),le===null?Ht=ie:le.sibling=ie,le=ie);return t&&Mt.forEach(function(is){return r(st,is)}),ae&&ri(st,Xt),Ht}function Vt(st,tt,lt,wt){if(lt==null)throw Error(i(151));for(var Ht=null,le=null,Mt=tt,Xt=tt=0,ie=null,fe=lt.next();Mt!==null&&!fe.done;Xt++,fe=lt.next()){Mt.index>Xt?(ie=Mt,Mt=null):ie=Mt.sibling;var is=ht(st,Mt,fe.value,wt);if(is===null){Mt===null&&(Mt=ie);break}t&&Mt&&is.alternate===null&&r(st,Mt),tt=b(is,tt,Xt),le===null?Ht=is:le.sibling=is,le=is,Mt=ie}if(fe.done)return a(st,Mt),ae&&ri(st,Xt),Ht;if(Mt===null){for(;!fe.done;Xt++,fe=lt.next())fe=Et(st,fe.value,wt),fe!==null&&(tt=b(fe,tt,Xt),le===null?Ht=fe:le.sibling=fe,le=fe);return ae&&ri(st,Xt),Ht}for(Mt=c(Mt);!fe.done;Xt++,fe=lt.next())fe=yt(Mt,st,Xt,fe.value,wt),fe!==null&&(t&&fe.alternate!==null&&Mt.delete(fe.key===null?Xt:fe.key),tt=b(fe,tt,Xt),le===null?Ht=fe:le.sibling=fe,le=fe);return t&&Mt.forEach(function(WA){return r(st,WA)}),ae&&ri(st,Xt),Ht}function Te(st,tt,lt,wt){if(typeof lt=="object"&&lt!==null&&lt.type===U&&lt.key===null&&(lt=lt.props.children),typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case R:t:{for(var Ht=lt.key;tt!==null;){if(tt.key===Ht){if(Ht=lt.type,Ht===U){if(tt.tag===7){a(st,tt.sibling),wt=p(tt,lt.props.children),wt.return=st,st=wt;break t}}else if(tt.elementType===Ht||typeof Ht=="object"&&Ht!==null&&Ht.$$typeof===ut&&Bs(Ht)===tt.type){a(st,tt.sibling),wt=p(tt,lt.props),zo(wt,lt),wt.return=st,st=wt;break t}a(st,tt);break}else r(st,tt);tt=tt.sibling}lt.type===U?(wt=Os(lt.props.children,st.mode,wt,lt.key),wt.return=st,st=wt):(wt=ec(lt.type,lt.key,lt.props,null,st.mode,wt),zo(wt,lt),wt.return=st,st=wt)}return N(st);case M:t:{for(Ht=lt.key;tt!==null;){if(tt.key===Ht)if(tt.tag===4&&tt.stateNode.containerInfo===lt.containerInfo&&tt.stateNode.implementation===lt.implementation){a(st,tt.sibling),wt=p(tt,lt.children||[]),wt.return=st,st=wt;break t}else{a(st,tt);break}else r(st,tt);tt=tt.sibling}wt=Bf(lt,st.mode,wt),wt.return=st,st=wt}return N(st);case ut:return lt=Bs(lt),Te(st,tt,lt,wt)}if(w(lt))return Ct(st,tt,lt,wt);if($(lt)){if(Ht=$(lt),typeof Ht!="function")throw Error(i(150));return lt=Ht.call(lt),Vt(st,tt,lt,wt)}if(typeof lt.then=="function")return Te(st,tt,uc(lt),wt);if(lt.$$typeof===P)return Te(st,tt,ic(st,lt),wt);cc(st,lt)}return typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint"?(lt=""+lt,tt!==null&&tt.tag===6?(a(st,tt.sibling),wt=p(tt,lt),wt.return=st,st=wt):(a(st,tt),wt=Cf(lt,st.mode,wt),wt.return=st,st=wt),N(st)):a(st,tt)}return function(st,tt,lt,wt){try{Lo=0;var Ht=Te(st,tt,lt,wt);return Ta=null,Ht}catch(Mt){if(Mt===xa||Mt===ac)throw Mt;var le=Wn(29,Mt,null,st.mode);return le.lanes=wt,le.return=st,le}}}var Us=Em(!0),Sm=Em(!1),qi=!1;function Gf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ff(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Pi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ki(t,r,a){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(me&2)!==0){var p=c.pending;return p===null?r.next=r:(r.next=p.next,p.next=r),c.pending=r,r=tc(t),am(t,null,a),r}return Ju(t,c,r,a),tc(t)}function Ho(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var c=r.lanes;c&=t.pendingLanes,a|=c,r.lanes=a,wo(t,a)}}function Yf(t,r){var a=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var p=null,b=null;if(a=a.firstBaseUpdate,a!==null){do{var N={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};b===null?p=b=N:b=b.next=N,a=a.next}while(a!==null);b===null?p=b=r:b=b.next=r}else p=b=r;a={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:b,shared:c.shared,callbacks:c.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Zf=!1;function jo(){if(Zf){var t=Ra;if(t!==null)throw t}}function qo(t,r,a,c){Zf=!1;var p=t.updateQueue;qi=!1;var b=p.firstBaseUpdate,N=p.lastBaseUpdate,j=p.shared.pending;if(j!==null){p.shared.pending=null;var J=j,ft=J.next;J.next=null,N===null?b=ft:N.next=ft,N=J;var gt=t.alternate;gt!==null&&(gt=gt.updateQueue,j=gt.lastBaseUpdate,j!==N&&(j===null?gt.firstBaseUpdate=ft:j.next=ft,gt.lastBaseUpdate=J))}if(b!==null){var Et=p.baseState;N=0,gt=ft=J=null,j=b;do{var ht=j.lane&-536870913,yt=ht!==j.lane;if(yt?(re&ht)===ht:(c&ht)===ht){ht!==0&&ht===Aa&&(Zf=!0),gt!==null&&(gt=gt.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});t:{var Ct=t,Vt=j;ht=r;var Te=a;switch(Vt.tag){case 1:if(Ct=Vt.payload,typeof Ct=="function"){Et=Ct.call(Te,Et,ht);break t}Et=Ct;break t;case 3:Ct.flags=Ct.flags&-65537|128;case 0:if(Ct=Vt.payload,ht=typeof Ct=="function"?Ct.call(Te,Et,ht):Ct,ht==null)break t;Et=I({},Et,ht);break t;case 2:qi=!0}}ht=j.callback,ht!==null&&(t.flags|=64,yt&&(t.flags|=8192),yt=p.callbacks,yt===null?p.callbacks=[ht]:yt.push(ht))}else yt={lane:ht,tag:j.tag,payload:j.payload,callback:j.callback,next:null},gt===null?(ft=gt=yt,J=Et):gt=gt.next=yt,N|=ht;if(j=j.next,j===null){if(j=p.shared.pending,j===null)break;yt=j,j=yt.next,yt.next=null,p.lastBaseUpdate=yt,p.shared.pending=null}}while(!0);gt===null&&(J=Et),p.baseState=J,p.firstBaseUpdate=ft,p.lastBaseUpdate=gt,b===null&&(p.shared.lanes=0),Zi|=N,t.lanes=N,t.memoizedState=Et}}function Am(t,r){if(typeof t!="function")throw Error(i(191,t));t.call(r)}function Rm(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Am(a[t],r)}var Oa=m(null),lc=m(0);function xm(t,r){t=pi,g(lc,t),g(Oa,r),pi=t|r.baseLanes}function Xf(){g(lc,pi),g(Oa,Oa.current)}function $f(){pi=lc.current,f(Oa),f(lc)}var Qn=m(null),pr=null;function Vi(t){var r=t.alternate;g(on,on.current&1),g(Qn,t),pr===null&&(r===null||Oa.current!==null||r.memoizedState!==null)&&(pr=t)}function Wf(t){g(on,on.current),g(Qn,t),pr===null&&(pr=t)}function Tm(t){t.tag===22?(g(on,on.current),g(Qn,t),pr===null&&(pr=t)):Gi()}function Gi(){g(on,on.current),g(Qn,Qn.current)}function Jn(t){f(Qn),pr===t&&(pr=null),f(on)}var on=m(0);function fc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||rh(a)||ih(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ai=0,Zt=null,Re=null,dn=null,dc=!1,Na=!1,Ds=!1,hc=0,Po=0,ka=null,qS=0;function nn(){throw Error(i(321))}function Qf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!$n(t[a],r[a]))return!1;return!0}function Jf(t,r,a,c,p,b){return ai=b,Zt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,E.H=t===null||t.memoizedState===null?ly:pd,Ds=!1,b=a(c,p),Ds=!1,Na&&(b=Nm(r,a,c,p)),Om(t),b}function Om(t){E.H=Go;var r=Re!==null&&Re.next!==null;if(ai=0,dn=Re=Zt=null,dc=!1,Po=0,ka=null,r)throw Error(i(300));t===null||hn||(t=t.dependencies,t!==null&&rc(t)&&(hn=!0))}function Nm(t,r,a,c){Zt=t;var p=0;do{if(Na&&(ka=null),Po=0,Na=!1,25<=p)throw Error(i(301));if(p+=1,dn=Re=null,t.updateQueue!=null){var b=t.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}E.H=fy,b=r(a,c)}while(Na);return b}function PS(){var t=E.H,r=t.useState()[0];return r=typeof r.then=="function"?Ko(r):r,t=t.useState()[0],(Re!==null?Re.memoizedState:null)!==t&&(Zt.flags|=1024),r}function td(){var t=hc!==0;return hc=0,t}function ed(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function nd(t){if(dc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}dc=!1}ai=0,dn=Re=Zt=null,Na=!1,Po=hc=0,ka=null}function Ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dn===null?Zt.memoizedState=dn=t:dn=dn.next=t,dn}function un(){if(Re===null){var t=Zt.alternate;t=t!==null?t.memoizedState:null}else t=Re.next;var r=dn===null?Zt.memoizedState:dn.next;if(r!==null)dn=r,Re=t;else{if(t===null)throw Zt.alternate===null?Error(i(467)):Error(i(310));Re=t,t={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},dn===null?Zt.memoizedState=dn=t:dn=dn.next=t}return dn}function pc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ko(t){var r=Po;return Po+=1,ka===null&&(ka=[]),t=_m(ka,t,r),r=Zt,(dn===null?r.memoizedState:dn.next)===null&&(r=r.alternate,E.H=r===null||r.memoizedState===null?ly:pd),t}function mc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ko(t);if(t.$$typeof===P)return An(t)}throw Error(i(438,String(t)))}function rd(t){var r=null,a=Zt.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var c=Zt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(p){return p.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=pc(),Zt.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),c=0;c<t;c++)a[c]=F;return r.index++,a}function oi(t,r){return typeof r=="function"?r(t):r}function yc(t){var r=un();return id(r,Re,t)}function id(t,r,a){var c=t.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=a;var p=t.baseQueue,b=c.pending;if(b!==null){if(p!==null){var N=p.next;p.next=b.next,b.next=N}r.baseQueue=p=b,c.pending=null}if(b=t.baseState,p===null)t.memoizedState=b;else{r=p.next;var j=N=null,J=null,ft=r,gt=!1;do{var Et=ft.lane&-536870913;if(Et!==ft.lane?(re&Et)===Et:(ai&Et)===Et){var ht=ft.revertLane;if(ht===0)J!==null&&(J=J.next={lane:0,revertLane:0,gesture:null,action:ft.action,hasEagerState:ft.hasEagerState,eagerState:ft.eagerState,next:null}),Et===Aa&&(gt=!0);else if((ai&ht)===ht){ft=ft.next,ht===Aa&&(gt=!0);continue}else Et={lane:0,revertLane:ft.revertLane,gesture:null,action:ft.action,hasEagerState:ft.hasEagerState,eagerState:ft.eagerState,next:null},J===null?(j=J=Et,N=b):J=J.next=Et,Zt.lanes|=ht,Zi|=ht;Et=ft.action,Ds&&a(b,Et),b=ft.hasEagerState?ft.eagerState:a(b,Et)}else ht={lane:Et,revertLane:ft.revertLane,gesture:ft.gesture,action:ft.action,hasEagerState:ft.hasEagerState,eagerState:ft.eagerState,next:null},J===null?(j=J=ht,N=b):J=J.next=ht,Zt.lanes|=Et,Zi|=Et;ft=ft.next}while(ft!==null&&ft!==r);if(J===null?N=b:J.next=j,!$n(b,t.memoizedState)&&(hn=!0,gt&&(a=Ra,a!==null)))throw a;t.memoizedState=b,t.baseState=N,t.baseQueue=J,c.lastRenderedState=b}return p===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function sd(t){var r=un(),a=r.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=t;var c=a.dispatch,p=a.pending,b=r.memoizedState;if(p!==null){a.pending=null;var N=p=p.next;do b=t(b,N.action),N=N.next;while(N!==p);$n(b,r.memoizedState)||(hn=!0),r.memoizedState=b,r.baseQueue===null&&(r.baseState=b),a.lastRenderedState=b}return[b,c]}function km(t,r,a){var c=Zt,p=un(),b=ae;if(b){if(a===void 0)throw Error(i(407));a=a()}else a=r();var N=!$n((Re||p).memoizedState,a);if(N&&(p.memoizedState=a,hn=!0),p=p.queue,ud(Bm.bind(null,c,p,t),[t]),p.getSnapshot!==r||N||dn!==null&&dn.memoizedState.tag&1){if(c.flags|=2048,Ia(9,{destroy:void 0},Cm.bind(null,c,p,a,r),null),ke===null)throw Error(i(349));b||(ai&127)!==0||Im(c,r,a)}return a}function Im(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Zt.updateQueue,r===null?(r=pc(),Zt.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Cm(t,r,a,c){r.value=a,r.getSnapshot=c,Mm(r)&&Um(t)}function Bm(t,r,a){return a(function(){Mm(r)&&Um(t)})}function Mm(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!$n(t,a)}catch{return!0}}function Um(t){var r=Ts(t,2);r!==null&&Vn(r,t,2)}function ad(t){var r=Ln();if(typeof t=="function"){var a=t;if(t=a(),Ds){zt(!0);try{a()}finally{zt(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:t},r}function Dm(t,r,a,c){return t.baseState=a,id(t,Re,typeof c=="function"?c:oi)}function KS(t,r,a,c,p){if(_c(t))throw Error(i(485));if(t=r.action,t!==null){var b={payload:p,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){b.listeners.push(N)}};E.T!==null?a(!0):b.isTransition=!1,c(b),a=r.pending,a===null?(b.next=r.pending=b,Lm(r,b)):(b.next=a.next,r.pending=a.next=b)}}function Lm(t,r){var a=r.action,c=r.payload,p=t.state;if(r.isTransition){var b=E.T,N={};E.T=N;try{var j=a(p,c),J=E.S;J!==null&&J(N,j),zm(t,r,j)}catch(ft){od(t,r,ft)}finally{b!==null&&N.types!==null&&(b.types=N.types),E.T=b}}else try{b=a(p,c),zm(t,r,b)}catch(ft){od(t,r,ft)}}function zm(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){Hm(t,r,c)},function(c){return od(t,r,c)}):Hm(t,r,a)}function Hm(t,r,a){r.status="fulfilled",r.value=a,jm(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Lm(t,a)))}function od(t,r,a){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=a,jm(r),r=r.next;while(r!==c)}t.action=null}function jm(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function qm(t,r){return r}function Pm(t,r){if(ae){var a=ke.formState;if(a!==null){t:{var c=Zt;if(ae){if(ze){e:{for(var p=ze,b=hr;p.nodeType!==8;){if(!b){p=null;break e}if(p=mr(p.nextSibling),p===null){p=null;break e}}b=p.data,p=b==="F!"||b==="F"?p:null}if(p){ze=mr(p.nextSibling),c=p.data==="F!";break t}}Hi(c)}c=!1}c&&(r=a[0])}}return a=Ln(),a.memoizedState=a.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qm,lastRenderedState:r},a.queue=c,a=oy.bind(null,Zt,c),c.dispatch=a,c=ad(!1),b=hd.bind(null,Zt,!1,c.queue),c=Ln(),p={state:r,dispatch:null,action:t,pending:null},c.queue=p,a=KS.bind(null,Zt,p,b,a),p.dispatch=a,c.memoizedState=t,[r,a,!1]}function Km(t){var r=un();return Vm(r,Re,t)}function Vm(t,r,a){if(r=id(t,r,qm)[0],t=yc(oi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=Ko(r)}catch(N){throw N===xa?ac:N}else c=r;r=un();var p=r.queue,b=p.dispatch;return a!==r.memoizedState&&(Zt.flags|=2048,Ia(9,{destroy:void 0},VS.bind(null,p,a),null)),[c,b,t]}function VS(t,r){t.action=r}function Gm(t){var r=un(),a=Re;if(a!==null)return Vm(r,a,t);un(),r=r.memoizedState,a=un();var c=a.queue.dispatch;return a.memoizedState=t,[r,c,!1]}function Ia(t,r,a,c){return t={tag:t,create:a,deps:c,inst:r,next:null},r=Zt.updateQueue,r===null&&(r=pc(),Zt.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(c=a.next,a.next=t,t.next=c,r.lastEffect=t),t}function Fm(){return un().memoizedState}function gc(t,r,a,c){var p=Ln();Zt.flags|=t,p.memoizedState=Ia(1|r,{destroy:void 0},a,c===void 0?null:c)}function bc(t,r,a,c){var p=un();c=c===void 0?null:c;var b=p.memoizedState.inst;Re!==null&&c!==null&&Qf(c,Re.memoizedState.deps)?p.memoizedState=Ia(r,b,a,c):(Zt.flags|=t,p.memoizedState=Ia(1|r,b,a,c))}function Ym(t,r){gc(8390656,8,t,r)}function ud(t,r){bc(2048,8,t,r)}function GS(t){Zt.flags|=4;var r=Zt.updateQueue;if(r===null)r=pc(),Zt.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function Zm(t){var r=un().memoizedState;return GS({ref:r,nextImpl:t}),function(){if((me&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function Xm(t,r){return bc(4,2,t,r)}function $m(t,r){return bc(4,4,t,r)}function Wm(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Qm(t,r,a){a=a!=null?a.concat([t]):null,bc(4,4,Wm.bind(null,r,t),a)}function cd(){}function Jm(t,r){var a=un();r=r===void 0?null:r;var c=a.memoizedState;return r!==null&&Qf(r,c[1])?c[0]:(a.memoizedState=[t,r],t)}function ty(t,r){var a=un();r=r===void 0?null:r;var c=a.memoizedState;if(r!==null&&Qf(r,c[1]))return c[0];if(c=t(),Ds){zt(!0);try{t()}finally{zt(!1)}}return a.memoizedState=[c,r],c}function ld(t,r,a){return a===void 0||(ai&1073741824)!==0&&(re&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=e1(),Zt.lanes|=t,Zi|=t,a)}function ey(t,r,a,c){return $n(a,r)?a:Oa.current!==null?(t=ld(t,a,c),$n(t,r)||(hn=!0),t):(ai&42)===0||(ai&1073741824)!==0&&(re&261930)===0?(hn=!0,t.memoizedState=a):(t=e1(),Zt.lanes|=t,Zi|=t,r)}function ny(t,r,a,c,p){var b=B.p;B.p=b!==0&&8>b?b:8;var N=E.T,j={};E.T=j,hd(t,!1,r,a);try{var J=p(),ft=E.S;if(ft!==null&&ft(j,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var gt=jS(J,c);Vo(t,r,gt,nr(t))}else Vo(t,r,c,nr(t))}catch(Et){Vo(t,r,{then:function(){},status:"rejected",reason:Et},nr())}finally{B.p=b,N!==null&&j.types!==null&&(N.types=j.types),E.T=N}}function FS(){}function fd(t,r,a,c){if(t.tag!==5)throw Error(i(476));var p=ry(t).queue;ny(t,p,r,z,a===null?FS:function(){return iy(t),a(c)})}function ry(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:z,baseState:z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:z},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function iy(t){var r=ry(t);r.next===null&&(r=t.alternate.memoizedState),Vo(t,r.next.queue,{},nr())}function dd(){return An(ou)}function sy(){return un().memoizedState}function ay(){return un().memoizedState}function YS(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=nr();t=Pi(a);var c=Ki(r,t,a);c!==null&&(Vn(c,r,a),Ho(c,r,a)),r={cache:qf()},t.payload=r;return}r=r.return}}function ZS(t,r,a){var c=nr();a={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},_c(t)?uy(r,a):(a=kf(t,r,a,c),a!==null&&(Vn(a,t,c),cy(a,r,c)))}function oy(t,r,a){var c=nr();Vo(t,r,a,c)}function Vo(t,r,a,c){var p={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(_c(t))uy(r,p);else{var b=t.alternate;if(t.lanes===0&&(b===null||b.lanes===0)&&(b=r.lastRenderedReducer,b!==null))try{var N=r.lastRenderedState,j=b(N,a);if(p.hasEagerState=!0,p.eagerState=j,$n(j,N))return Ju(t,r,p,0),ke===null&&Qu(),!1}catch{}if(a=kf(t,r,p,c),a!==null)return Vn(a,t,c),cy(a,r,c),!0}return!1}function hd(t,r,a,c){if(c={lane:2,revertLane:Gd(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},_c(t)){if(r)throw Error(i(479))}else r=kf(t,a,c,2),r!==null&&Vn(r,t,2)}function _c(t){var r=t.alternate;return t===Zt||r!==null&&r===Zt}function uy(t,r){Na=dc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function cy(t,r,a){if((a&4194048)!==0){var c=r.lanes;c&=t.pendingLanes,a|=c,r.lanes=a,wo(t,a)}}var Go={readContext:An,use:mc,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useLayoutEffect:nn,useInsertionEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useSyncExternalStore:nn,useId:nn,useHostTransitionStatus:nn,useFormState:nn,useActionState:nn,useOptimistic:nn,useMemoCache:nn,useCacheRefresh:nn};Go.useEffectEvent=nn;var ly={readContext:An,use:mc,useCallback:function(t,r){return Ln().memoizedState=[t,r===void 0?null:r],t},useContext:An,useEffect:Ym,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,gc(4194308,4,Wm.bind(null,r,t),a)},useLayoutEffect:function(t,r){return gc(4194308,4,t,r)},useInsertionEffect:function(t,r){gc(4,2,t,r)},useMemo:function(t,r){var a=Ln();r=r===void 0?null:r;var c=t();if(Ds){zt(!0);try{t()}finally{zt(!1)}}return a.memoizedState=[c,r],c},useReducer:function(t,r,a){var c=Ln();if(a!==void 0){var p=a(r);if(Ds){zt(!0);try{a(r)}finally{zt(!1)}}}else p=r;return c.memoizedState=c.baseState=p,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:p},c.queue=t,t=t.dispatch=ZS.bind(null,Zt,t),[c.memoizedState,t]},useRef:function(t){var r=Ln();return t={current:t},r.memoizedState=t},useState:function(t){t=ad(t);var r=t.queue,a=oy.bind(null,Zt,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:cd,useDeferredValue:function(t,r){var a=Ln();return ld(a,t,r)},useTransition:function(){var t=ad(!1);return t=ny.bind(null,Zt,t.queue,!0,!1),Ln().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var c=Zt,p=Ln();if(ae){if(a===void 0)throw Error(i(407));a=a()}else{if(a=r(),ke===null)throw Error(i(349));(re&127)!==0||Im(c,r,a)}p.memoizedState=a;var b={value:a,getSnapshot:r};return p.queue=b,Ym(Bm.bind(null,c,b,t),[t]),c.flags|=2048,Ia(9,{destroy:void 0},Cm.bind(null,c,b,a,r),null),a},useId:function(){var t=Ln(),r=ke.identifierPrefix;if(ae){var a=Lr,c=Dr;a=(c&~(1<<32-Bt(c)-1)).toString(32)+a,r="_"+r+"R_"+a,a=hc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=qS++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:dd,useFormState:Pm,useActionState:Pm,useOptimistic:function(t){var r=Ln();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=hd.bind(null,Zt,!0,a),a.dispatch=r,[t,r]},useMemoCache:rd,useCacheRefresh:function(){return Ln().memoizedState=YS.bind(null,Zt)},useEffectEvent:function(t){var r=Ln(),a={impl:t};return r.memoizedState=a,function(){if((me&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},pd={readContext:An,use:mc,useCallback:Jm,useContext:An,useEffect:ud,useImperativeHandle:Qm,useInsertionEffect:Xm,useLayoutEffect:$m,useMemo:ty,useReducer:yc,useRef:Fm,useState:function(){return yc(oi)},useDebugValue:cd,useDeferredValue:function(t,r){var a=un();return ey(a,Re.memoizedState,t,r)},useTransition:function(){var t=yc(oi)[0],r=un().memoizedState;return[typeof t=="boolean"?t:Ko(t),r]},useSyncExternalStore:km,useId:sy,useHostTransitionStatus:dd,useFormState:Km,useActionState:Km,useOptimistic:function(t,r){var a=un();return Dm(a,Re,t,r)},useMemoCache:rd,useCacheRefresh:ay};pd.useEffectEvent=Zm;var fy={readContext:An,use:mc,useCallback:Jm,useContext:An,useEffect:ud,useImperativeHandle:Qm,useInsertionEffect:Xm,useLayoutEffect:$m,useMemo:ty,useReducer:sd,useRef:Fm,useState:function(){return sd(oi)},useDebugValue:cd,useDeferredValue:function(t,r){var a=un();return Re===null?ld(a,t,r):ey(a,Re.memoizedState,t,r)},useTransition:function(){var t=sd(oi)[0],r=un().memoizedState;return[typeof t=="boolean"?t:Ko(t),r]},useSyncExternalStore:km,useId:sy,useHostTransitionStatus:dd,useFormState:Gm,useActionState:Gm,useOptimistic:function(t,r){var a=un();return Re!==null?Dm(a,Re,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:rd,useCacheRefresh:ay};fy.useEffectEvent=Zm;function md(t,r,a,c){r=t.memoizedState,a=a(c,r),a=a==null?r:I({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var yd={enqueueSetState:function(t,r,a){t=t._reactInternals;var c=nr(),p=Pi(c);p.payload=r,a!=null&&(p.callback=a),r=Ki(t,p,c),r!==null&&(Vn(r,t,c),Ho(r,t,c))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var c=nr(),p=Pi(c);p.tag=1,p.payload=r,a!=null&&(p.callback=a),r=Ki(t,p,c),r!==null&&(Vn(r,t,c),Ho(r,t,c))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=nr(),c=Pi(a);c.tag=2,r!=null&&(c.callback=r),r=Ki(t,c,a),r!==null&&(Vn(r,t,a),Ho(r,t,a))}};function dy(t,r,a,c,p,b,N){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,b,N):r.prototype&&r.prototype.isPureReactComponent?!Io(a,c)||!Io(p,b):!0}function hy(t,r,a,c){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,c),r.state!==t&&yd.enqueueReplaceState(r,r.state,null)}function Ls(t,r){var a=r;if("ref"in r){a={};for(var c in r)c!=="ref"&&(a[c]=r[c])}if(t=t.defaultProps){a===r&&(a=I({},a));for(var p in t)a[p]===void 0&&(a[p]=t[p])}return a}function py(t){Wu(t)}function my(t){console.error(t)}function yy(t){Wu(t)}function wc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function gy(t,r,a){try{var c=t.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function gd(t,r,a){return a=Pi(a),a.tag=3,a.payload={element:null},a.callback=function(){wc(t,r)},a}function by(t){return t=Pi(t),t.tag=3,t}function _y(t,r,a,c){var p=a.type.getDerivedStateFromError;if(typeof p=="function"){var b=c.value;t.payload=function(){return p(b)},t.callback=function(){gy(r,a,c)}}var N=a.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(t.callback=function(){gy(r,a,c),typeof p!="function"&&(Xi===null?Xi=new Set([this]):Xi.add(this));var j=c.stack;this.componentDidCatch(c.value,{componentStack:j!==null?j:""})})}function XS(t,r,a,c,p){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=a.alternate,r!==null&&Sa(r,a,p,!0),a=Qn.current,a!==null){switch(a.tag){case 31:case 13:return pr===null?Cc():a.alternate===null&&rn===0&&(rn=3),a.flags&=-257,a.flags|=65536,a.lanes=p,c===oc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([c]):r.add(c),Pd(t,c,p)),!1;case 22:return a.flags|=65536,c===oc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([c]):a.add(c)),Pd(t,c,p)),!1}throw Error(i(435,a.tag))}return Pd(t,c,p),Cc(),!1}if(ae)return r=Qn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=p,c!==Df&&(t=Error(i(422),{cause:c}),Mo(lr(t,a)))):(c!==Df&&(r=Error(i(423),{cause:c}),Mo(lr(r,a))),t=t.current.alternate,t.flags|=65536,p&=-p,t.lanes|=p,c=lr(c,a),p=gd(t.stateNode,c,p),Yf(t,p),rn!==4&&(rn=2)),!1;var b=Error(i(520),{cause:c});if(b=lr(b,a),Jo===null?Jo=[b]:Jo.push(b),rn!==4&&(rn=2),r===null)return!0;c=lr(c,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=p&-p,a.lanes|=t,t=gd(a.stateNode,c,t),Yf(a,t),!1;case 1:if(r=a.type,b=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Xi===null||!Xi.has(b))))return a.flags|=65536,p&=-p,a.lanes|=p,p=by(p),_y(p,t,a,c),Yf(a,p),!1}a=a.return}while(a!==null);return!1}var bd=Error(i(461)),hn=!1;function Rn(t,r,a,c){r.child=t===null?Sm(r,null,a,c):Us(r,t.child,a,c)}function wy(t,r,a,c,p){a=a.render;var b=r.ref;if("ref"in c){var N={};for(var j in c)j!=="ref"&&(N[j]=c[j])}else N=c;return Is(r),c=Jf(t,r,a,N,b,p),j=td(),t!==null&&!hn?(ed(t,r,p),ui(t,r,p)):(ae&&j&&Mf(r),r.flags|=1,Rn(t,r,c,p),r.child)}function vy(t,r,a,c,p){if(t===null){var b=a.type;return typeof b=="function"&&!If(b)&&b.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=b,Ey(t,r,b,c,p)):(t=ec(a.type,null,c,r,r.mode,p),t.ref=r.ref,t.return=r,r.child=t)}if(b=t.child,!xd(t,p)){var N=b.memoizedProps;if(a=a.compare,a=a!==null?a:Io,a(N,c)&&t.ref===r.ref)return ui(t,r,p)}return r.flags|=1,t=ni(b,c),t.ref=r.ref,t.return=r,r.child=t}function Ey(t,r,a,c,p){if(t!==null){var b=t.memoizedProps;if(Io(b,c)&&t.ref===r.ref)if(hn=!1,r.pendingProps=c=b,xd(t,p))(t.flags&131072)!==0&&(hn=!0);else return r.lanes=t.lanes,ui(t,r,p)}return _d(t,r,a,c,p)}function Sy(t,r,a,c){var p=c.children,b=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(b=b!==null?b.baseLanes|a:a,t!==null){for(c=r.child=t.child,p=0;c!==null;)p=p|c.lanes|c.childLanes,c=c.sibling;c=p&~b}else c=0,r.child=null;return Ay(t,r,b,a,c)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&sc(r,b!==null?b.cachePool:null),b!==null?xm(r,b):Xf(),Tm(r);else return c=r.lanes=536870912,Ay(t,r,b!==null?b.baseLanes|a:a,a,c)}else b!==null?(sc(r,b.cachePool),xm(r,b),Gi(),r.memoizedState=null):(t!==null&&sc(r,null),Xf(),Gi());return Rn(t,r,p,a),r.child}function Fo(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Ay(t,r,a,c,p){var b=Kf();return b=b===null?null:{parent:fn._currentValue,pool:b},r.memoizedState={baseLanes:a,cachePool:b},t!==null&&sc(r,null),Xf(),Tm(r),t!==null&&Sa(t,r,c,!0),r.childLanes=p,null}function vc(t,r){return r=Sc({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function Ry(t,r,a){return Us(r,t.child,null,a),t=vc(r,r.pendingProps),t.flags|=2,Jn(r),r.memoizedState=null,t}function $S(t,r,a){var c=r.pendingProps,p=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(ae){if(c.mode==="hidden")return t=vc(r,c),r.lanes=536870912,Fo(null,t);if(Wf(r),(t=ze)?(t=L1(t,hr),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Li!==null?{id:Dr,overflow:Lr}:null,retryLane:536870912,hydrationErrors:null},a=um(t),a.return=r,r.child=a,Sn=r,ze=null)):t=null,t===null)throw Hi(r);return r.lanes=536870912,null}return vc(r,c)}var b=t.memoizedState;if(b!==null){var N=b.dehydrated;if(Wf(r),p)if(r.flags&256)r.flags&=-257,r=Ry(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(i(558));else if(hn||Sa(t,r,a,!1),p=(a&t.childLanes)!==0,hn||p){if(c=ke,c!==null&&(N=Ze(c,a),N!==0&&N!==b.retryLane))throw b.retryLane=N,Ts(t,N),Vn(c,t,N),bd;Cc(),r=Ry(t,r,a)}else t=b.treeContext,ze=mr(N.nextSibling),Sn=r,ae=!0,zi=null,hr=!1,t!==null&&fm(r,t),r=vc(r,c),r.flags|=4096;return r}return t=ni(t.child,{mode:c.mode,children:c.children}),t.ref=r.ref,r.child=t,t.return=r,t}function Ec(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function _d(t,r,a,c,p){return Is(r),a=Jf(t,r,a,c,void 0,p),c=td(),t!==null&&!hn?(ed(t,r,p),ui(t,r,p)):(ae&&c&&Mf(r),r.flags|=1,Rn(t,r,a,p),r.child)}function xy(t,r,a,c,p,b){return Is(r),r.updateQueue=null,a=Nm(r,c,a,p),Om(t),c=td(),t!==null&&!hn?(ed(t,r,b),ui(t,r,b)):(ae&&c&&Mf(r),r.flags|=1,Rn(t,r,a,b),r.child)}function Ty(t,r,a,c,p){if(Is(r),r.stateNode===null){var b=_a,N=a.contextType;typeof N=="object"&&N!==null&&(b=An(N)),b=new a(c,b),r.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=yd,r.stateNode=b,b._reactInternals=r,b=r.stateNode,b.props=c,b.state=r.memoizedState,b.refs={},Gf(r),N=a.contextType,b.context=typeof N=="object"&&N!==null?An(N):_a,b.state=r.memoizedState,N=a.getDerivedStateFromProps,typeof N=="function"&&(md(r,a,N,c),b.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(N=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),N!==b.state&&yd.enqueueReplaceState(b,b.state,null),qo(r,c,b,p),jo(),b.state=r.memoizedState),typeof b.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(t===null){b=r.stateNode;var j=r.memoizedProps,J=Ls(a,j);b.props=J;var ft=b.context,gt=a.contextType;N=_a,typeof gt=="object"&&gt!==null&&(N=An(gt));var Et=a.getDerivedStateFromProps;gt=typeof Et=="function"||typeof b.getSnapshotBeforeUpdate=="function",j=r.pendingProps!==j,gt||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(j||ft!==N)&&hy(r,b,c,N),qi=!1;var ht=r.memoizedState;b.state=ht,qo(r,c,b,p),jo(),ft=r.memoizedState,j||ht!==ft||qi?(typeof Et=="function"&&(md(r,a,Et,c),ft=r.memoizedState),(J=qi||dy(r,a,J,c,ht,ft,N))?(gt||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(r.flags|=4194308)):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=ft),b.props=c,b.state=ft,b.context=N,c=J):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{b=r.stateNode,Ff(t,r),N=r.memoizedProps,gt=Ls(a,N),b.props=gt,Et=r.pendingProps,ht=b.context,ft=a.contextType,J=_a,typeof ft=="object"&&ft!==null&&(J=An(ft)),j=a.getDerivedStateFromProps,(ft=typeof j=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(N!==Et||ht!==J)&&hy(r,b,c,J),qi=!1,ht=r.memoizedState,b.state=ht,qo(r,c,b,p),jo();var yt=r.memoizedState;N!==Et||ht!==yt||qi||t!==null&&t.dependencies!==null&&rc(t.dependencies)?(typeof j=="function"&&(md(r,a,j,c),yt=r.memoizedState),(gt=qi||dy(r,a,gt,c,ht,yt,J)||t!==null&&t.dependencies!==null&&rc(t.dependencies))?(ft||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(c,yt,J),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(c,yt,J)),typeof b.componentDidUpdate=="function"&&(r.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof b.componentDidUpdate!="function"||N===t.memoizedProps&&ht===t.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||N===t.memoizedProps&&ht===t.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=yt),b.props=c,b.state=yt,b.context=J,c=gt):(typeof b.componentDidUpdate!="function"||N===t.memoizedProps&&ht===t.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||N===t.memoizedProps&&ht===t.memoizedState||(r.flags|=1024),c=!1)}return b=c,Ec(t,r),c=(r.flags&128)!==0,b||c?(b=r.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:b.render(),r.flags|=1,t!==null&&c?(r.child=Us(r,t.child,null,p),r.child=Us(r,null,a,p)):Rn(t,r,a,p),r.memoizedState=b.state,t=r.child):t=ui(t,r,p),t}function Oy(t,r,a,c){return Ns(),r.flags|=256,Rn(t,r,a,c),r.child}var wd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vd(t){return{baseLanes:t,cachePool:gm()}}function Ed(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=er),t}function Ny(t,r,a){var c=r.pendingProps,p=!1,b=(r.flags&128)!==0,N;if((N=b)||(N=t!==null&&t.memoizedState===null?!1:(on.current&2)!==0),N&&(p=!0,r.flags&=-129),N=(r.flags&32)!==0,r.flags&=-33,t===null){if(ae){if(p?Vi(r):Gi(),(t=ze)?(t=L1(t,hr),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Li!==null?{id:Dr,overflow:Lr}:null,retryLane:536870912,hydrationErrors:null},a=um(t),a.return=r,r.child=a,Sn=r,ze=null)):t=null,t===null)throw Hi(r);return ih(t)?r.lanes=32:r.lanes=536870912,null}var j=c.children;return c=c.fallback,p?(Gi(),p=r.mode,j=Sc({mode:"hidden",children:j},p),c=Os(c,p,a,null),j.return=r,c.return=r,j.sibling=c,r.child=j,c=r.child,c.memoizedState=vd(a),c.childLanes=Ed(t,N,a),r.memoizedState=wd,Fo(null,c)):(Vi(r),Sd(r,j))}var J=t.memoizedState;if(J!==null&&(j=J.dehydrated,j!==null)){if(b)r.flags&256?(Vi(r),r.flags&=-257,r=Ad(t,r,a)):r.memoizedState!==null?(Gi(),r.child=t.child,r.flags|=128,r=null):(Gi(),j=c.fallback,p=r.mode,c=Sc({mode:"visible",children:c.children},p),j=Os(j,p,a,null),j.flags|=2,c.return=r,j.return=r,c.sibling=j,r.child=c,Us(r,t.child,null,a),c=r.child,c.memoizedState=vd(a),c.childLanes=Ed(t,N,a),r.memoizedState=wd,r=Fo(null,c));else if(Vi(r),ih(j)){if(N=j.nextSibling&&j.nextSibling.dataset,N)var ft=N.dgst;N=ft,c=Error(i(419)),c.stack="",c.digest=N,Mo({value:c,source:null,stack:null}),r=Ad(t,r,a)}else if(hn||Sa(t,r,a,!1),N=(a&t.childLanes)!==0,hn||N){if(N=ke,N!==null&&(c=Ze(N,a),c!==0&&c!==J.retryLane))throw J.retryLane=c,Ts(t,c),Vn(N,t,c),bd;rh(j)||Cc(),r=Ad(t,r,a)}else rh(j)?(r.flags|=192,r.child=t.child,r=null):(t=J.treeContext,ze=mr(j.nextSibling),Sn=r,ae=!0,zi=null,hr=!1,t!==null&&fm(r,t),r=Sd(r,c.children),r.flags|=4096);return r}return p?(Gi(),j=c.fallback,p=r.mode,J=t.child,ft=J.sibling,c=ni(J,{mode:"hidden",children:c.children}),c.subtreeFlags=J.subtreeFlags&65011712,ft!==null?j=ni(ft,j):(j=Os(j,p,a,null),j.flags|=2),j.return=r,c.return=r,c.sibling=j,r.child=c,Fo(null,c),c=r.child,j=t.child.memoizedState,j===null?j=vd(a):(p=j.cachePool,p!==null?(J=fn._currentValue,p=p.parent!==J?{parent:J,pool:J}:p):p=gm(),j={baseLanes:j.baseLanes|a,cachePool:p}),c.memoizedState=j,c.childLanes=Ed(t,N,a),r.memoizedState=wd,Fo(t.child,c)):(Vi(r),a=t.child,t=a.sibling,a=ni(a,{mode:"visible",children:c.children}),a.return=r,a.sibling=null,t!==null&&(N=r.deletions,N===null?(r.deletions=[t],r.flags|=16):N.push(t)),r.child=a,r.memoizedState=null,a)}function Sd(t,r){return r=Sc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Sc(t,r){return t=Wn(22,t,null,r),t.lanes=0,t}function Ad(t,r,a){return Us(r,t.child,null,a),t=Sd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function ky(t,r,a){t.lanes|=r;var c=t.alternate;c!==null&&(c.lanes|=r),Hf(t.return,r,a)}function Rd(t,r,a,c,p,b){var N=t.memoizedState;N===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:p,treeForkCount:b}:(N.isBackwards=r,N.rendering=null,N.renderingStartTime=0,N.last=c,N.tail=a,N.tailMode=p,N.treeForkCount=b)}function Iy(t,r,a){var c=r.pendingProps,p=c.revealOrder,b=c.tail;c=c.children;var N=on.current,j=(N&2)!==0;if(j?(N=N&1|2,r.flags|=128):N&=1,g(on,N),Rn(t,r,c,a),c=ae?Bo:0,!j&&t!==null&&(t.flags&128)!==0)t:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ky(t,a,r);else if(t.tag===19)ky(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break t;for(;t.sibling===null;){if(t.return===null||t.return===r)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(p){case"forwards":for(a=r.child,p=null;a!==null;)t=a.alternate,t!==null&&fc(t)===null&&(p=a),a=a.sibling;a=p,a===null?(p=r.child,r.child=null):(p=a.sibling,a.sibling=null),Rd(r,!1,p,a,b,c);break;case"backwards":case"unstable_legacy-backwards":for(a=null,p=r.child,r.child=null;p!==null;){if(t=p.alternate,t!==null&&fc(t)===null){r.child=p;break}t=p.sibling,p.sibling=a,a=p,p=t}Rd(r,!0,a,null,b,c);break;case"together":Rd(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function ui(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Zi|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Sa(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(i(153));if(r.child!==null){for(t=r.child,a=ni(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=ni(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function xd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&rc(t)))}function WS(t,r,a){switch(r.tag){case 3:bt(r,r.stateNode.containerInfo),ji(r,fn,t.memoizedState.cache),Ns();break;case 27:case 5:Lt(r);break;case 4:bt(r,r.stateNode.containerInfo);break;case 10:ji(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Wf(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(Vi(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Ny(t,r,a):(Vi(r),t=ui(t,r,a),t!==null?t.sibling:null);Vi(r);break;case 19:var p=(t.flags&128)!==0;if(c=(a&r.childLanes)!==0,c||(Sa(t,r,a,!1),c=(a&r.childLanes)!==0),p){if(c)return Iy(t,r,a);r.flags|=128}if(p=r.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),g(on,on.current),c)break;return null;case 22:return r.lanes=0,Sy(t,r,a,r.pendingProps);case 24:ji(r,fn,t.memoizedState.cache)}return ui(t,r,a)}function Cy(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)hn=!0;else{if(!xd(t,a)&&(r.flags&128)===0)return hn=!1,WS(t,r,a);hn=(t.flags&131072)!==0}else hn=!1,ae&&(r.flags&1048576)!==0&&lm(r,Bo,r.index);switch(r.lanes=0,r.tag){case 16:t:{var c=r.pendingProps;if(t=Bs(r.elementType),r.type=t,typeof t=="function")If(t)?(c=Ls(t,c),r.tag=1,r=Ty(null,r,t,c,a)):(r.tag=0,r=_d(null,r,t,c,a));else{if(t!=null){var p=t.$$typeof;if(p===W){r.tag=11,r=wy(null,r,t,c,a);break t}else if(p===it){r.tag=14,r=vy(null,r,t,c,a);break t}}throw r=h(t)||t,Error(i(306,r,""))}}return r;case 0:return _d(t,r,r.type,r.pendingProps,a);case 1:return c=r.type,p=Ls(c,r.pendingProps),Ty(t,r,c,p,a);case 3:t:{if(bt(r,r.stateNode.containerInfo),t===null)throw Error(i(387));c=r.pendingProps;var b=r.memoizedState;p=b.element,Ff(t,r),qo(r,c,null,a);var N=r.memoizedState;if(c=N.cache,ji(r,fn,c),c!==b.cache&&jf(r,[fn],a,!0),jo(),c=N.element,b.isDehydrated)if(b={element:c,isDehydrated:!1,cache:N.cache},r.updateQueue.baseState=b,r.memoizedState=b,r.flags&256){r=Oy(t,r,c,a);break t}else if(c!==p){p=lr(Error(i(424)),r),Mo(p),r=Oy(t,r,c,a);break t}else for(t=r.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ze=mr(t.firstChild),Sn=r,ae=!0,zi=null,hr=!0,a=Sm(r,null,c,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ns(),c===p){r=ui(t,r,a);break t}Rn(t,r,c,a)}r=r.child}return r;case 26:return Ec(t,r),t===null?(a=K1(r.type,null,r.pendingProps,null))?r.memoizedState=a:ae||(a=r.type,t=r.pendingProps,c=Hc(Y.current).createElement(a),c[Jt]=r,c[se]=t,xn(c,a,t),en(c),r.stateNode=c):r.memoizedState=K1(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Lt(r),t===null&&ae&&(c=r.stateNode=j1(r.type,r.pendingProps,Y.current),Sn=r,hr=!0,p=ze,Ji(r.type)?(sh=p,ze=mr(c.firstChild)):ze=p),Rn(t,r,r.pendingProps.children,a),Ec(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&ae&&((p=c=ze)&&(c=TA(c,r.type,r.pendingProps,hr),c!==null?(r.stateNode=c,Sn=r,ze=mr(c.firstChild),hr=!1,p=!0):p=!1),p||Hi(r)),Lt(r),p=r.type,b=r.pendingProps,N=t!==null?t.memoizedProps:null,c=b.children,th(p,b)?c=null:N!==null&&th(p,N)&&(r.flags|=32),r.memoizedState!==null&&(p=Jf(t,r,PS,null,null,a),ou._currentValue=p),Ec(t,r),Rn(t,r,c,a),r.child;case 6:return t===null&&ae&&((t=a=ze)&&(a=OA(a,r.pendingProps,hr),a!==null?(r.stateNode=a,Sn=r,ze=null,t=!0):t=!1),t||Hi(r)),null;case 13:return Ny(t,r,a);case 4:return bt(r,r.stateNode.containerInfo),c=r.pendingProps,t===null?r.child=Us(r,null,c,a):Rn(t,r,c,a),r.child;case 11:return wy(t,r,r.type,r.pendingProps,a);case 7:return Rn(t,r,r.pendingProps,a),r.child;case 8:return Rn(t,r,r.pendingProps.children,a),r.child;case 12:return Rn(t,r,r.pendingProps.children,a),r.child;case 10:return c=r.pendingProps,ji(r,r.type,c.value),Rn(t,r,c.children,a),r.child;case 9:return p=r.type._context,c=r.pendingProps.children,Is(r),p=An(p),c=c(p),r.flags|=1,Rn(t,r,c,a),r.child;case 14:return vy(t,r,r.type,r.pendingProps,a);case 15:return Ey(t,r,r.type,r.pendingProps,a);case 19:return Iy(t,r,a);case 31:return $S(t,r,a);case 22:return Sy(t,r,a,r.pendingProps);case 24:return Is(r),c=An(fn),t===null?(p=Kf(),p===null&&(p=ke,b=qf(),p.pooledCache=b,b.refCount++,b!==null&&(p.pooledCacheLanes|=a),p=b),r.memoizedState={parent:c,cache:p},Gf(r),ji(r,fn,p)):((t.lanes&a)!==0&&(Ff(t,r),qo(r,null,null,a),jo()),p=t.memoizedState,b=r.memoizedState,p.parent!==c?(p={parent:c,cache:c},r.memoizedState=p,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=p),ji(r,fn,c)):(c=b.cache,ji(r,fn,c),c!==p.cache&&jf(r,[fn],a,!0))),Rn(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function ci(t){t.flags|=4}function Td(t,r,a,c,p){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(p&335544128)===p)if(t.stateNode.complete)t.flags|=8192;else if(s1())t.flags|=8192;else throw Ms=oc,Vf}else t.flags&=-16777217}function By(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Z1(r))if(s1())t.flags|=8192;else throw Ms=oc,Vf}function Ac(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Fe():536870912,t.lanes|=r,Ua|=r)}function Yo(t,r){if(!ae)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function He(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,c=0;if(r)for(var p=t.child;p!==null;)a|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=t,p=p.sibling;else for(p=t.child;p!==null;)a|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=t,p=p.sibling;return t.subtreeFlags|=c,t.childLanes=a,r}function QS(t,r,a){var c=r.pendingProps;switch(Uf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(r),null;case 1:return He(r),null;case 3:return a=r.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),si(fn),_t(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ea(r)?ci(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Lf())),He(r),null;case 26:var p=r.type,b=r.memoizedState;return t===null?(ci(r),b!==null?(He(r),By(r,b)):(He(r),Td(r,p,null,c,a))):b?b!==t.memoizedState?(ci(r),He(r),By(r,b)):(He(r),r.flags&=-16777217):(t=t.memoizedProps,t!==c&&ci(r),He(r),Td(r,p,t,c,a)),null;case 27:if(Gt(r),a=Y.current,p=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==c&&ci(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return He(r),null}t=O.current,Ea(r)?dm(r):(t=j1(p,c,a),r.stateNode=t,ci(r))}return He(r),null;case 5:if(Gt(r),p=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==c&&ci(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return He(r),null}if(b=O.current,Ea(r))dm(r);else{var N=Hc(Y.current);switch(b){case 1:b=N.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:b=N.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":b=N.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":b=N.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":b=N.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof c.is=="string"?N.createElement("select",{is:c.is}):N.createElement("select"),c.multiple?b.multiple=!0:c.size&&(b.size=c.size);break;default:b=typeof c.is=="string"?N.createElement(p,{is:c.is}):N.createElement(p)}}b[Jt]=r,b[se]=c;t:for(N=r.child;N!==null;){if(N.tag===5||N.tag===6)b.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===r)break t;for(;N.sibling===null;){if(N.return===null||N.return===r)break t;N=N.return}N.sibling.return=N.return,N=N.sibling}r.stateNode=b;t:switch(xn(b,p,c),p){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&ci(r)}}return He(r),Td(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==c&&ci(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(i(166));if(t=Y.current,Ea(r)){if(t=r.stateNode,a=r.memoizedProps,c=null,p=Sn,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}t[Jt]=r,t=!!(t.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||N1(t.nodeValue,a)),t||Hi(r,!0)}else t=Hc(t).createTextNode(c),t[Jt]=r,r.stateNode=t}return He(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(c=Ea(r),a!==null){if(t===null){if(!c)throw Error(i(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(557));t[Jt]=r}else Ns(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;He(r),t=!1}else a=Lf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(Jn(r),r):(Jn(r),null);if((r.flags&128)!==0)throw Error(i(558))}return He(r),null;case 13:if(c=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(p=Ea(r),c!==null&&c.dehydrated!==null){if(t===null){if(!p)throw Error(i(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[Jt]=r}else Ns(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;He(r),p=!1}else p=Lf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=p),p=!0;if(!p)return r.flags&256?(Jn(r),r):(Jn(r),null)}return Jn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=c!==null,t=t!==null&&t.memoizedState!==null,a&&(c=r.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool),b=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(b=c.memoizedState.cachePool.pool),b!==p&&(c.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),Ac(r,r.updateQueue),He(r),null);case 4:return _t(),t===null&&Xd(r.stateNode.containerInfo),He(r),null;case 10:return si(r.type),He(r),null;case 19:if(f(on),c=r.memoizedState,c===null)return He(r),null;if(p=(r.flags&128)!==0,b=c.rendering,b===null)if(p)Yo(c,!1);else{if(rn!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(b=fc(t),b!==null){for(r.flags|=128,Yo(c,!1),t=b.updateQueue,r.updateQueue=t,Ac(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)om(a,t),a=a.sibling;return g(on,on.current&1|2),ae&&ri(r,c.treeForkCount),r.child}t=t.sibling}c.tail!==null&&Pt()>Nc&&(r.flags|=128,p=!0,Yo(c,!1),r.lanes=4194304)}else{if(!p)if(t=fc(b),t!==null){if(r.flags|=128,p=!0,t=t.updateQueue,r.updateQueue=t,Ac(r,t),Yo(c,!0),c.tail===null&&c.tailMode==="hidden"&&!b.alternate&&!ae)return He(r),null}else 2*Pt()-c.renderingStartTime>Nc&&a!==536870912&&(r.flags|=128,p=!0,Yo(c,!1),r.lanes=4194304);c.isBackwards?(b.sibling=r.child,r.child=b):(t=c.last,t!==null?t.sibling=b:r.child=b,c.last=b)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=Pt(),t.sibling=null,a=on.current,g(on,p?a&1|2:a&1),ae&&ri(r,c.treeForkCount),t):(He(r),null);case 22:case 23:return Jn(r),$f(),c=r.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(a&536870912)!==0&&(r.flags&128)===0&&(He(r),r.subtreeFlags&6&&(r.flags|=8192)):He(r),a=r.updateQueue,a!==null&&Ac(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==a&&(r.flags|=2048),t!==null&&f(Cs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),si(fn),He(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function JS(t,r){switch(Uf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return si(fn),_t(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Gt(r),null;case 31:if(r.memoizedState!==null){if(Jn(r),r.alternate===null)throw Error(i(340));Ns()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(Jn(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Ns()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return f(on),null;case 4:return _t(),null;case 10:return si(r.type),null;case 22:case 23:return Jn(r),$f(),t!==null&&f(Cs),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return si(fn),null;case 25:return null;default:return null}}function My(t,r){switch(Uf(r),r.tag){case 3:si(fn),_t();break;case 26:case 27:case 5:Gt(r);break;case 4:_t();break;case 31:r.memoizedState!==null&&Jn(r);break;case 13:Jn(r);break;case 19:f(on);break;case 10:si(r.type);break;case 22:case 23:Jn(r),$f(),t!==null&&f(Cs);break;case 24:si(fn)}}function Zo(t,r){try{var a=r.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var p=c.next;a=p;do{if((a.tag&t)===t){c=void 0;var b=a.create,N=a.inst;c=b(),N.destroy=c}a=a.next}while(a!==p)}}catch(j){Ee(r,r.return,j)}}function Fi(t,r,a){try{var c=r.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var b=p.next;c=b;do{if((c.tag&t)===t){var N=c.inst,j=N.destroy;if(j!==void 0){N.destroy=void 0,p=r;var J=a,ft=j;try{ft()}catch(gt){Ee(p,J,gt)}}}c=c.next}while(c!==b)}}catch(gt){Ee(r,r.return,gt)}}function Uy(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Rm(r,a)}catch(c){Ee(t,t.return,c)}}}function Dy(t,r,a){a.props=Ls(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(c){Ee(t,r,c)}}function Xo(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof a=="function"?t.refCleanup=a(c):a.current=c}}catch(p){Ee(t,r,p)}}function zr(t,r){var a=t.ref,c=t.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(p){Ee(t,r,p)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(p){Ee(t,r,p)}else a.current=null}function Ly(t){var r=t.type,a=t.memoizedProps,c=t.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break t;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(p){Ee(t,t.return,p)}}function Od(t,r,a){try{var c=t.stateNode;vA(c,t.type,a,r),c[se]=r}catch(p){Ee(t,t.return,p)}}function zy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ji(t.type)||t.tag===4}function Nd(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||zy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ji(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kd(t,r,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=ti));else if(c!==4&&(c===27&&Ji(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(kd(t,r,a),t=t.sibling;t!==null;)kd(t,r,a),t=t.sibling}function Rc(t,r,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(c!==4&&(c===27&&Ji(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Rc(t,r,a),t=t.sibling;t!==null;)Rc(t,r,a),t=t.sibling}function Hy(t){var r=t.stateNode,a=t.memoizedProps;try{for(var c=t.type,p=r.attributes;p.length;)r.removeAttributeNode(p[0]);xn(r,c,a),r[Jt]=t,r[se]=a}catch(b){Ee(t,t.return,b)}}var li=!1,pn=!1,Id=!1,jy=typeof WeakSet=="function"?WeakSet:Set,_n=null;function tA(t,r){if(t=t.containerInfo,Qd=Fc,t=Qp(t),Af(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var p=c.anchorOffset,b=c.focusNode;c=c.focusOffset;try{a.nodeType,b.nodeType}catch{a=null;break t}var N=0,j=-1,J=-1,ft=0,gt=0,Et=t,ht=null;e:for(;;){for(var yt;Et!==a||p!==0&&Et.nodeType!==3||(j=N+p),Et!==b||c!==0&&Et.nodeType!==3||(J=N+c),Et.nodeType===3&&(N+=Et.nodeValue.length),(yt=Et.firstChild)!==null;)ht=Et,Et=yt;for(;;){if(Et===t)break e;if(ht===a&&++ft===p&&(j=N),ht===b&&++gt===c&&(J=N),(yt=Et.nextSibling)!==null)break;Et=ht,ht=Et.parentNode}Et=yt}a=j===-1||J===-1?null:{start:j,end:J}}else a=null}a=a||{start:0,end:0}}else a=null;for(Jd={focusedElem:t,selectionRange:a},Fc=!1,_n=r;_n!==null;)if(r=_n,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,_n=t;else for(;_n!==null;){switch(r=_n,b=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)p=t[a],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&b!==null){t=void 0,a=r,p=b.memoizedProps,b=b.memoizedState,c=a.stateNode;try{var Ct=Ls(a.type,p);t=c.getSnapshotBeforeUpdate(Ct,b),c.__reactInternalSnapshotBeforeUpdate=t}catch(Vt){Ee(a,a.return,Vt)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)nh(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":nh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=r.sibling,t!==null){t.return=r.return,_n=t;break}_n=r.return}}function qy(t,r,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:di(t,a),c&4&&Zo(5,a);break;case 1:if(di(t,a),c&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(N){Ee(a,a.return,N)}else{var p=Ls(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(p,r,t.__reactInternalSnapshotBeforeUpdate)}catch(N){Ee(a,a.return,N)}}c&64&&Uy(a),c&512&&Xo(a,a.return);break;case 3:if(di(t,a),c&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Rm(t,r)}catch(N){Ee(a,a.return,N)}}break;case 27:r===null&&c&4&&Hy(a);case 26:case 5:di(t,a),r===null&&c&4&&Ly(a),c&512&&Xo(a,a.return);break;case 12:di(t,a);break;case 31:di(t,a),c&4&&Vy(t,a);break;case 13:di(t,a),c&4&&Gy(t,a),c&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=cA.bind(null,a),NA(t,a))));break;case 22:if(c=a.memoizedState!==null||li,!c){r=r!==null&&r.memoizedState!==null||pn,p=li;var b=pn;li=c,(pn=r)&&!b?hi(t,a,(a.subtreeFlags&8772)!==0):di(t,a),li=p,pn=b}break;case 30:break;default:di(t,a)}}function Py(t){var r=t.alternate;r!==null&&(t.alternate=null,Py(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Ss(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ve=null,jn=!1;function fi(t,r,a){for(a=a.child;a!==null;)Ky(t,r,a),a=a.sibling}function Ky(t,r,a){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(mt,a)}catch{}switch(a.tag){case 26:pn||zr(a,r),fi(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:pn||zr(a,r);var c=Ve,p=jn;Ji(a.type)&&(Ve=a.stateNode,jn=!1),fi(t,r,a),iu(a.stateNode),Ve=c,jn=p;break;case 5:pn||zr(a,r);case 6:if(c=Ve,p=jn,Ve=null,fi(t,r,a),Ve=c,jn=p,Ve!==null)if(jn)try{(Ve.nodeType===9?Ve.body:Ve.nodeName==="HTML"?Ve.ownerDocument.body:Ve).removeChild(a.stateNode)}catch(b){Ee(a,r,b)}else try{Ve.removeChild(a.stateNode)}catch(b){Ee(a,r,b)}break;case 18:Ve!==null&&(jn?(t=Ve,U1(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ka(t)):U1(Ve,a.stateNode));break;case 4:c=Ve,p=jn,Ve=a.stateNode.containerInfo,jn=!0,fi(t,r,a),Ve=c,jn=p;break;case 0:case 11:case 14:case 15:Fi(2,a,r),pn||Fi(4,a,r),fi(t,r,a);break;case 1:pn||(zr(a,r),c=a.stateNode,typeof c.componentWillUnmount=="function"&&Dy(a,r,c)),fi(t,r,a);break;case 21:fi(t,r,a);break;case 22:pn=(c=pn)||a.memoizedState!==null,fi(t,r,a),pn=c;break;default:fi(t,r,a)}}function Vy(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ka(t)}catch(a){Ee(r,r.return,a)}}}function Gy(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ka(t)}catch(a){Ee(r,r.return,a)}}function eA(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new jy),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new jy),r;default:throw Error(i(435,t.tag))}}function xc(t,r){var a=eA(t);r.forEach(function(c){if(!a.has(c)){a.add(c);var p=lA.bind(null,t,c);c.then(p,p)}})}function qn(t,r){var a=r.deletions;if(a!==null)for(var c=0;c<a.length;c++){var p=a[c],b=t,N=r,j=N;t:for(;j!==null;){switch(j.tag){case 27:if(Ji(j.type)){Ve=j.stateNode,jn=!1;break t}break;case 5:Ve=j.stateNode,jn=!1;break t;case 3:case 4:Ve=j.stateNode.containerInfo,jn=!0;break t}j=j.return}if(Ve===null)throw Error(i(160));Ky(b,N,p),Ve=null,jn=!1,b=p.alternate,b!==null&&(b.return=null),p.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Fy(r,t),r=r.sibling}var Sr=null;function Fy(t,r){var a=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:qn(r,t),Pn(t),c&4&&(Fi(3,t,t.return),Zo(3,t),Fi(5,t,t.return));break;case 1:qn(r,t),Pn(t),c&512&&(pn||a===null||zr(a,a.return)),c&64&&li&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var p=Sr;if(qn(r,t),Pn(t),c&512&&(pn||a===null||zr(a,a.return)),c&4){var b=a!==null?a.memoizedState:null;if(c=t.memoizedState,a===null)if(c===null)if(t.stateNode===null){t:{c=t.type,a=t.memoizedProps,p=p.ownerDocument||p;e:switch(c){case"title":b=p.getElementsByTagName("title")[0],(!b||b[Wr]||b[Jt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=p.createElement(c),p.head.insertBefore(b,p.querySelector("head > title"))),xn(b,c,a),b[Jt]=t,en(b),c=b;break t;case"link":var N=F1("link","href",p).get(c+(a.href||""));if(N){for(var j=0;j<N.length;j++)if(b=N[j],b.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&b.getAttribute("rel")===(a.rel==null?null:a.rel)&&b.getAttribute("title")===(a.title==null?null:a.title)&&b.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){N.splice(j,1);break e}}b=p.createElement(c),xn(b,c,a),p.head.appendChild(b);break;case"meta":if(N=F1("meta","content",p).get(c+(a.content||""))){for(j=0;j<N.length;j++)if(b=N[j],b.getAttribute("content")===(a.content==null?null:""+a.content)&&b.getAttribute("name")===(a.name==null?null:a.name)&&b.getAttribute("property")===(a.property==null?null:a.property)&&b.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&b.getAttribute("charset")===(a.charSet==null?null:a.charSet)){N.splice(j,1);break e}}b=p.createElement(c),xn(b,c,a),p.head.appendChild(b);break;default:throw Error(i(468,c))}b[Jt]=t,en(b),c=b}t.stateNode=c}else Y1(p,t.type,t.stateNode);else t.stateNode=G1(p,c,t.memoizedProps);else b!==c?(b===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):b.count--,c===null?Y1(p,t.type,t.stateNode):G1(p,c,t.memoizedProps)):c===null&&t.stateNode!==null&&Od(t,t.memoizedProps,a.memoizedProps)}break;case 27:qn(r,t),Pn(t),c&512&&(pn||a===null||zr(a,a.return)),a!==null&&c&4&&Od(t,t.memoizedProps,a.memoizedProps);break;case 5:if(qn(r,t),Pn(t),c&512&&(pn||a===null||zr(a,a.return)),t.flags&32){p=t.stateNode;try{da(p,"")}catch(Ct){Ee(t,t.return,Ct)}}c&4&&t.stateNode!=null&&(p=t.memoizedProps,Od(t,p,a!==null?a.memoizedProps:p)),c&1024&&(Id=!0);break;case 6:if(qn(r,t),Pn(t),c&4){if(t.stateNode===null)throw Error(i(162));c=t.memoizedProps,a=t.stateNode;try{a.nodeValue=c}catch(Ct){Ee(t,t.return,Ct)}}break;case 3:if(Pc=null,p=Sr,Sr=jc(r.containerInfo),qn(r,t),Sr=p,Pn(t),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Ka(r.containerInfo)}catch(Ct){Ee(t,t.return,Ct)}Id&&(Id=!1,Yy(t));break;case 4:c=Sr,Sr=jc(t.stateNode.containerInfo),qn(r,t),Pn(t),Sr=c;break;case 12:qn(r,t),Pn(t);break;case 31:qn(r,t),Pn(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,xc(t,c)));break;case 13:qn(r,t),Pn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Oc=Pt()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,xc(t,c)));break;case 22:p=t.memoizedState!==null;var J=a!==null&&a.memoizedState!==null,ft=li,gt=pn;if(li=ft||p,pn=gt||J,qn(r,t),pn=gt,li=ft,Pn(t),c&8192)t:for(r=t.stateNode,r._visibility=p?r._visibility&-2:r._visibility|1,p&&(a===null||J||li||pn||zs(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){J=a=r;try{if(b=J.stateNode,p)N=b.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{j=J.stateNode;var Et=J.memoizedProps.style,ht=Et!=null&&Et.hasOwnProperty("display")?Et.display:null;j.style.display=ht==null||typeof ht=="boolean"?"":(""+ht).trim()}}catch(Ct){Ee(J,J.return,Ct)}}}else if(r.tag===6){if(a===null){J=r;try{J.stateNode.nodeValue=p?"":J.memoizedProps}catch(Ct){Ee(J,J.return,Ct)}}}else if(r.tag===18){if(a===null){J=r;try{var yt=J.stateNode;p?D1(yt,!0):D1(J.stateNode,!1)}catch(Ct){Ee(J,J.return,Ct)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break t;for(;r.sibling===null;){if(r.return===null||r.return===t)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=t.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,xc(t,a))));break;case 19:qn(r,t),Pn(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,xc(t,c)));break;case 30:break;case 21:break;default:qn(r,t),Pn(t)}}function Pn(t){var r=t.flags;if(r&2){try{for(var a,c=t.return;c!==null;){if(zy(c)){a=c;break}c=c.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var p=a.stateNode,b=Nd(t);Rc(t,b,p);break;case 5:var N=a.stateNode;a.flags&32&&(da(N,""),a.flags&=-33);var j=Nd(t);Rc(t,j,N);break;case 3:case 4:var J=a.stateNode.containerInfo,ft=Nd(t);kd(t,ft,J);break;default:throw Error(i(161))}}catch(gt){Ee(t,t.return,gt)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Yy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;Yy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function di(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)qy(t,r.alternate,r),r=r.sibling}function zs(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Fi(4,r,r.return),zs(r);break;case 1:zr(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Dy(r,r.return,a),zs(r);break;case 27:iu(r.stateNode);case 26:case 5:zr(r,r.return),zs(r);break;case 22:r.memoizedState===null&&zs(r);break;case 30:zs(r);break;default:zs(r)}t=t.sibling}}function hi(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,p=t,b=r,N=b.flags;switch(b.tag){case 0:case 11:case 15:hi(p,b,a),Zo(4,b);break;case 1:if(hi(p,b,a),c=b,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(ft){Ee(c,c.return,ft)}if(c=b,p=c.updateQueue,p!==null){var j=c.stateNode;try{var J=p.shared.hiddenCallbacks;if(J!==null)for(p.shared.hiddenCallbacks=null,p=0;p<J.length;p++)Am(J[p],j)}catch(ft){Ee(c,c.return,ft)}}a&&N&64&&Uy(b),Xo(b,b.return);break;case 27:Hy(b);case 26:case 5:hi(p,b,a),a&&c===null&&N&4&&Ly(b),Xo(b,b.return);break;case 12:hi(p,b,a);break;case 31:hi(p,b,a),a&&N&4&&Vy(p,b);break;case 13:hi(p,b,a),a&&N&4&&Gy(p,b);break;case 22:b.memoizedState===null&&hi(p,b,a),Xo(b,b.return);break;case 30:break;default:hi(p,b,a)}r=r.sibling}}function Cd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Uo(a))}function Bd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Uo(t))}function Ar(t,r,a,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Zy(t,r,a,c),r=r.sibling}function Zy(t,r,a,c){var p=r.flags;switch(r.tag){case 0:case 11:case 15:Ar(t,r,a,c),p&2048&&Zo(9,r);break;case 1:Ar(t,r,a,c);break;case 3:Ar(t,r,a,c),p&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Uo(t)));break;case 12:if(p&2048){Ar(t,r,a,c),t=r.stateNode;try{var b=r.memoizedProps,N=b.id,j=b.onPostCommit;typeof j=="function"&&j(N,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(J){Ee(r,r.return,J)}}else Ar(t,r,a,c);break;case 31:Ar(t,r,a,c);break;case 13:Ar(t,r,a,c);break;case 23:break;case 22:b=r.stateNode,N=r.alternate,r.memoizedState!==null?b._visibility&2?Ar(t,r,a,c):$o(t,r):b._visibility&2?Ar(t,r,a,c):(b._visibility|=2,Ca(t,r,a,c,(r.subtreeFlags&10256)!==0||!1)),p&2048&&Cd(N,r);break;case 24:Ar(t,r,a,c),p&2048&&Bd(r.alternate,r);break;default:Ar(t,r,a,c)}}function Ca(t,r,a,c,p){for(p=p&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var b=t,N=r,j=a,J=c,ft=N.flags;switch(N.tag){case 0:case 11:case 15:Ca(b,N,j,J,p),Zo(8,N);break;case 23:break;case 22:var gt=N.stateNode;N.memoizedState!==null?gt._visibility&2?Ca(b,N,j,J,p):$o(b,N):(gt._visibility|=2,Ca(b,N,j,J,p)),p&&ft&2048&&Cd(N.alternate,N);break;case 24:Ca(b,N,j,J,p),p&&ft&2048&&Bd(N.alternate,N);break;default:Ca(b,N,j,J,p)}r=r.sibling}}function $o(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,c=r,p=c.flags;switch(c.tag){case 22:$o(a,c),p&2048&&Cd(c.alternate,c);break;case 24:$o(a,c),p&2048&&Bd(c.alternate,c);break;default:$o(a,c)}r=r.sibling}}var Wo=8192;function Ba(t,r,a){if(t.subtreeFlags&Wo)for(t=t.child;t!==null;)Xy(t,r,a),t=t.sibling}function Xy(t,r,a){switch(t.tag){case 26:Ba(t,r,a),t.flags&Wo&&t.memoizedState!==null&&qA(a,Sr,t.memoizedState,t.memoizedProps);break;case 5:Ba(t,r,a);break;case 3:case 4:var c=Sr;Sr=jc(t.stateNode.containerInfo),Ba(t,r,a),Sr=c;break;case 22:t.memoizedState===null&&(c=t.alternate,c!==null&&c.memoizedState!==null?(c=Wo,Wo=16777216,Ba(t,r,a),Wo=c):Ba(t,r,a));break;default:Ba(t,r,a)}}function $y(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Qo(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var c=r[a];_n=c,Qy(c,t)}$y(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Wy(t),t=t.sibling}function Wy(t){switch(t.tag){case 0:case 11:case 15:Qo(t),t.flags&2048&&Fi(9,t,t.return);break;case 3:Qo(t);break;case 12:Qo(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Tc(t)):Qo(t);break;default:Qo(t)}}function Tc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var c=r[a];_n=c,Qy(c,t)}$y(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Fi(8,r,r.return),Tc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Tc(r));break;default:Tc(r)}t=t.sibling}}function Qy(t,r){for(;_n!==null;){var a=_n;switch(a.tag){case 0:case 11:case 15:Fi(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Uo(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,_n=c;else t:for(a=t;_n!==null;){c=_n;var p=c.sibling,b=c.return;if(Py(c),c===a){_n=null;break t}if(p!==null){p.return=b,_n=p;break t}_n=b}}}var nA={getCacheForType:function(t){var r=An(fn),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return An(fn).controller.signal}},rA=typeof WeakMap=="function"?WeakMap:Map,me=0,ke=null,te=null,re=0,ve=0,tr=null,Yi=!1,Ma=!1,Md=!1,pi=0,rn=0,Zi=0,Hs=0,Ud=0,er=0,Ua=0,Jo=null,Kn=null,Dd=!1,Oc=0,Jy=0,Nc=1/0,kc=null,Xi=null,gn=0,$i=null,Da=null,mi=0,Ld=0,zd=null,t1=null,tu=0,Hd=null;function nr(){return(me&2)!==0&&re!==0?re&-re:E.T!==null?Gd():Xe()}function e1(){if(er===0)if((re&536870912)===0||ae){var t=Ue;Ue<<=1,(Ue&3932160)===0&&(Ue=262144),er=t}else er=536870912;return t=Qn.current,t!==null&&(t.flags|=32),er}function Vn(t,r,a){(t===ke&&(ve===2||ve===9)||t.cancelPendingCommit!==null)&&(La(t,0),Wi(t,re,er,!1)),Bi(t,a),((me&2)===0||t!==ke)&&(t===ke&&((me&2)===0&&(Hs|=a),rn===4&&Wi(t,re,er,!1)),Hr(t))}function n1(t,r,a){if((me&6)!==0)throw Error(i(327));var c=!a&&(r&127)===0&&(r&t.expiredLanes)===0||Ie(t,r),p=c?aA(t,r):qd(t,r,!0),b=c;do{if(p===0){Ma&&!c&&Wi(t,r,0,!1);break}else{if(a=t.current.alternate,b&&!iA(a)){p=qd(t,r,!1),b=!1;continue}if(p===2){if(b=r,t.errorRecoveryDisabledLanes&b)var N=0;else N=t.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){r=N;t:{var j=t;p=Jo;var J=j.current.memoizedState.isDehydrated;if(J&&(La(j,N).flags|=256),N=qd(j,N,!1),N!==2){if(Md&&!J){j.errorRecoveryDisabledLanes|=b,Hs|=b,p=4;break t}b=Kn,Kn=p,b!==null&&(Kn===null?Kn=b:Kn.push.apply(Kn,b))}p=N}if(b=!1,p!==2)continue}}if(p===1){La(t,0),Wi(t,r,0,!0);break}t:{switch(c=t,b=p,b){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:Wi(c,r,er,!Yi);break t;case 2:Kn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(p=Oc+300-Pt(),10<p)){if(Wi(c,r,er,!Yi),Le(c,0,!0)!==0)break t;mi=r,c.timeoutHandle=B1(r1.bind(null,c,a,Kn,kc,Dd,r,er,Hs,Ua,Yi,b,"Throttled",-0,0),p);break t}r1(c,a,Kn,kc,Dd,r,er,Hs,Ua,Yi,b,null,-0,0)}}break}while(!0);Hr(t)}function r1(t,r,a,c,p,b,N,j,J,ft,gt,Et,ht,yt){if(t.timeoutHandle=-1,Et=r.subtreeFlags,Et&8192||(Et&16785408)===16785408){Et={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},Xy(r,b,Et);var Ct=(b&62914560)===b?Oc-Pt():(b&4194048)===b?Jy-Pt():0;if(Ct=PA(Et,Ct),Ct!==null){mi=b,t.cancelPendingCommit=Ct(f1.bind(null,t,r,b,a,c,p,N,j,J,gt,Et,null,ht,yt)),Wi(t,b,N,!ft);return}}f1(t,r,b,a,c,p,N,j,J)}function iA(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var p=a[c],b=p.getSnapshot;p=p.value;try{if(!$n(b(),p))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Wi(t,r,a,c){r&=~Ud,r&=~Hs,t.suspendedLanes|=r,t.pingedLanes&=~r,c&&(t.warmLanes|=r),c=t.expirationTimes;for(var p=r;0<p;){var b=31-Bt(p),N=1<<b;c[b]=-1,p&=~N}a!==0&&Ye(t,a,r)}function Ic(){return(me&6)===0?(eu(0),!1):!0}function jd(){if(te!==null){if(ve===0)var t=te.return;else t=te,ii=ks=null,nd(t),Ta=null,Lo=0,t=te;for(;t!==null;)My(t.alternate,t),t=t.return;te=null}}function La(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,AA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),mi=0,jd(),ke=t,te=a=ni(t.current,null),re=r,ve=0,tr=null,Yi=!1,Ma=Ie(t,r),Md=!1,Ua=er=Ud=Hs=Zi=rn=0,Kn=Jo=null,Dd=!1,(r&8)!==0&&(r|=r&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=r;0<c;){var p=31-Bt(c),b=1<<p;r|=t[p],c&=~b}return pi=r,Qu(),a}function i1(t,r){Zt=null,E.H=Go,r===xa||r===ac?(r=wm(),ve=3):r===Vf?(r=wm(),ve=4):ve=r===bd?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,tr=r,te===null&&(rn=1,wc(t,lr(r,t.current)))}function s1(){var t=Qn.current;return t===null?!0:(re&4194048)===re?pr===null:(re&62914560)===re||(re&536870912)!==0?t===pr:!1}function a1(){var t=E.H;return E.H=Go,t===null?Go:t}function o1(){var t=E.A;return E.A=nA,t}function Cc(){rn=4,Yi||(re&4194048)!==re&&Qn.current!==null||(Ma=!0),(Zi&134217727)===0&&(Hs&134217727)===0||ke===null||Wi(ke,re,er,!1)}function qd(t,r,a){var c=me;me|=2;var p=a1(),b=o1();(ke!==t||re!==r)&&(kc=null,La(t,r)),r=!1;var N=rn;t:do try{if(ve!==0&&te!==null){var j=te,J=tr;switch(ve){case 8:jd(),N=6;break t;case 3:case 2:case 9:case 6:Qn.current===null&&(r=!0);var ft=ve;if(ve=0,tr=null,za(t,j,J,ft),a&&Ma){N=0;break t}break;default:ft=ve,ve=0,tr=null,za(t,j,J,ft)}}sA(),N=rn;break}catch(gt){i1(t,gt)}while(!0);return r&&t.shellSuspendCounter++,ii=ks=null,me=c,E.H=p,E.A=b,te===null&&(ke=null,re=0,Qu()),N}function sA(){for(;te!==null;)u1(te)}function aA(t,r){var a=me;me|=2;var c=a1(),p=o1();ke!==t||re!==r?(kc=null,Nc=Pt()+500,La(t,r)):Ma=Ie(t,r);t:do try{if(ve!==0&&te!==null){r=te;var b=tr;e:switch(ve){case 1:ve=0,tr=null,za(t,r,b,1);break;case 2:case 9:if(bm(b)){ve=0,tr=null,c1(r);break}r=function(){ve!==2&&ve!==9||ke!==t||(ve=7),Hr(t)},b.then(r,r);break t;case 3:ve=7;break t;case 4:ve=5;break t;case 7:bm(b)?(ve=0,tr=null,c1(r)):(ve=0,tr=null,za(t,r,b,7));break;case 5:var N=null;switch(te.tag){case 26:N=te.memoizedState;case 5:case 27:var j=te;if(N?Z1(N):j.stateNode.complete){ve=0,tr=null;var J=j.sibling;if(J!==null)te=J;else{var ft=j.return;ft!==null?(te=ft,Bc(ft)):te=null}break e}}ve=0,tr=null,za(t,r,b,5);break;case 6:ve=0,tr=null,za(t,r,b,6);break;case 8:jd(),rn=6;break t;default:throw Error(i(462))}}oA();break}catch(gt){i1(t,gt)}while(!0);return ii=ks=null,E.H=c,E.A=p,me=a,te!==null?0:(ke=null,re=0,Qu(),rn)}function oA(){for(;te!==null&&!En();)u1(te)}function u1(t){var r=Cy(t.alternate,t,pi);t.memoizedProps=t.pendingProps,r===null?Bc(t):te=r}function c1(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=xy(a,r,r.pendingProps,r.type,void 0,re);break;case 11:r=xy(a,r,r.pendingProps,r.type.render,r.ref,re);break;case 5:nd(r);default:My(a,r),r=te=om(r,pi),r=Cy(a,r,pi)}t.memoizedProps=t.pendingProps,r===null?Bc(t):te=r}function za(t,r,a,c){ii=ks=null,nd(r),Ta=null,Lo=0;var p=r.return;try{if(XS(t,p,r,a,re)){rn=1,wc(t,lr(a,t.current)),te=null;return}}catch(b){if(p!==null)throw te=p,b;rn=1,wc(t,lr(a,t.current)),te=null;return}r.flags&32768?(ae||c===1?t=!0:Ma||(re&536870912)!==0?t=!1:(Yi=t=!0,(c===2||c===9||c===3||c===6)&&(c=Qn.current,c!==null&&c.tag===13&&(c.flags|=16384))),l1(r,t)):Bc(r)}function Bc(t){var r=t;do{if((r.flags&32768)!==0){l1(r,Yi);return}t=r.return;var a=QS(r.alternate,r,pi);if(a!==null){te=a;return}if(r=r.sibling,r!==null){te=r;return}te=r=t}while(r!==null);rn===0&&(rn=5)}function l1(t,r){do{var a=JS(t.alternate,t);if(a!==null){a.flags&=32767,te=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){te=t;return}te=t=a}while(t!==null);rn=6,te=null}function f1(t,r,a,c,p,b,N,j,J){t.cancelPendingCommit=null;do Mc();while(gn!==0);if((me&6)!==0)throw Error(i(327));if(r!==null){if(r===t.current)throw Error(i(177));if(b=r.lanes|r.childLanes,b|=Nf,Je(t,a,b,N,j,J),t===ke&&(te=ke=null,re=0),Da=r,$i=t,mi=a,Ld=b,zd=p,t1=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,fA(A,function(){return y1(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=E.T,E.T=null,p=B.p,B.p=2,N=me,me|=4;try{tA(t,r,a)}finally{me=N,B.p=p,E.T=c}}gn=1,d1(),h1(),p1()}}function d1(){if(gn===1){gn=0;var t=$i,r=Da,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=E.T,E.T=null;var c=B.p;B.p=2;var p=me;me|=4;try{Fy(r,t);var b=Jd,N=Qp(t.containerInfo),j=b.focusedElem,J=b.selectionRange;if(N!==j&&j&&j.ownerDocument&&Wp(j.ownerDocument.documentElement,j)){if(J!==null&&Af(j)){var ft=J.start,gt=J.end;if(gt===void 0&&(gt=ft),"selectionStart"in j)j.selectionStart=ft,j.selectionEnd=Math.min(gt,j.value.length);else{var Et=j.ownerDocument||document,ht=Et&&Et.defaultView||window;if(ht.getSelection){var yt=ht.getSelection(),Ct=j.textContent.length,Vt=Math.min(J.start,Ct),Te=J.end===void 0?Vt:Math.min(J.end,Ct);!yt.extend&&Vt>Te&&(N=Te,Te=Vt,Vt=N);var st=$p(j,Vt),tt=$p(j,Te);if(st&&tt&&(yt.rangeCount!==1||yt.anchorNode!==st.node||yt.anchorOffset!==st.offset||yt.focusNode!==tt.node||yt.focusOffset!==tt.offset)){var lt=Et.createRange();lt.setStart(st.node,st.offset),yt.removeAllRanges(),Vt>Te?(yt.addRange(lt),yt.extend(tt.node,tt.offset)):(lt.setEnd(tt.node,tt.offset),yt.addRange(lt))}}}}for(Et=[],yt=j;yt=yt.parentNode;)yt.nodeType===1&&Et.push({element:yt,left:yt.scrollLeft,top:yt.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<Et.length;j++){var wt=Et[j];wt.element.scrollLeft=wt.left,wt.element.scrollTop=wt.top}}Fc=!!Qd,Jd=Qd=null}finally{me=p,B.p=c,E.T=a}}t.current=r,gn=2}}function h1(){if(gn===2){gn=0;var t=$i,r=Da,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=E.T,E.T=null;var c=B.p;B.p=2;var p=me;me|=4;try{qy(t,r.alternate,r)}finally{me=p,B.p=c,E.T=a}}gn=3}}function p1(){if(gn===4||gn===3){gn=0,_e();var t=$i,r=Da,a=mi,c=t1;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?gn=5:(gn=0,Da=$i=null,m1(t,t.pendingLanes));var p=t.pendingLanes;if(p===0&&(Xi=null),sa(a),r=r.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(mt,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=E.T,p=B.p,B.p=2,E.T=null;try{for(var b=t.onRecoverableError,N=0;N<c.length;N++){var j=c[N];b(j.value,{componentStack:j.stack})}}finally{E.T=r,B.p=p}}(mi&3)!==0&&Mc(),Hr(t),p=t.pendingLanes,(a&261930)!==0&&(p&42)!==0?t===Hd?tu++:(tu=0,Hd=t):tu=0,eu(0)}}function m1(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Uo(r)))}function Mc(){return d1(),h1(),p1(),y1()}function y1(){if(gn!==5)return!1;var t=$i,r=Ld;Ld=0;var a=sa(mi),c=E.T,p=B.p;try{B.p=32>a?32:a,E.T=null,a=zd,zd=null;var b=$i,N=mi;if(gn=0,Da=$i=null,mi=0,(me&6)!==0)throw Error(i(331));var j=me;if(me|=4,Wy(b.current),Zy(b,b.current,N,a),me=j,eu(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(mt,b)}catch{}return!0}finally{B.p=p,E.T=c,m1(t,r)}}function g1(t,r,a){r=lr(a,r),r=gd(t.stateNode,r,2),t=Ki(t,r,2),t!==null&&(Bi(t,2),Hr(t))}function Ee(t,r,a){if(t.tag===3)g1(t,t,a);else for(;r!==null;){if(r.tag===3){g1(r,t,a);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Xi===null||!Xi.has(c))){t=lr(a,t),a=by(2),c=Ki(r,a,2),c!==null&&(_y(a,c,r,t),Bi(c,2),Hr(c));break}}r=r.return}}function Pd(t,r,a){var c=t.pingCache;if(c===null){c=t.pingCache=new rA;var p=new Set;c.set(r,p)}else p=c.get(r),p===void 0&&(p=new Set,c.set(r,p));p.has(a)||(Md=!0,p.add(a),t=uA.bind(null,t,r,a),r.then(t,t))}function uA(t,r,a){var c=t.pingCache;c!==null&&c.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ke===t&&(re&a)===a&&(rn===4||rn===3&&(re&62914560)===re&&300>Pt()-Oc?(me&2)===0&&La(t,0):Ud|=a,Ua===re&&(Ua=0)),Hr(t)}function b1(t,r){r===0&&(r=Fe()),t=Ts(t,r),t!==null&&(Bi(t,r),Hr(t))}function cA(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),b1(t,a)}function lA(t,r){var a=0;switch(t.tag){case 31:case 13:var c=t.stateNode,p=t.memoizedState;p!==null&&(a=p.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(r),b1(t,a)}function fA(t,r){return be(t,r)}var Uc=null,Ha=null,Kd=!1,Dc=!1,Vd=!1,Qi=0;function Hr(t){t!==Ha&&t.next===null&&(Ha===null?Uc=Ha=t:Ha=Ha.next=t),Dc=!0,Kd||(Kd=!0,hA())}function eu(t,r){if(!Vd&&Dc){Vd=!0;do for(var a=!1,c=Uc;c!==null;){if(t!==0){var p=c.pendingLanes;if(p===0)var b=0;else{var N=c.suspendedLanes,j=c.pingedLanes;b=(1<<31-Bt(42|t)+1)-1,b&=p&~(N&~j),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(a=!0,E1(c,b))}else b=re,b=Le(c,c===ke?b:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(b&3)===0||Ie(c,b)||(a=!0,E1(c,b));c=c.next}while(a);Vd=!1}}function dA(){_1()}function _1(){Dc=Kd=!1;var t=0;Qi!==0&&SA()&&(t=Qi);for(var r=Pt(),a=null,c=Uc;c!==null;){var p=c.next,b=w1(c,r);b===0?(c.next=null,a===null?Uc=p:a.next=p,p===null&&(Ha=a)):(a=c,(t!==0||(b&3)!==0)&&(Dc=!0)),c=p}gn!==0&&gn!==5||eu(t),Qi!==0&&(Qi=0)}function w1(t,r){for(var a=t.suspendedLanes,c=t.pingedLanes,p=t.expirationTimes,b=t.pendingLanes&-62914561;0<b;){var N=31-Bt(b),j=1<<N,J=p[N];J===-1?((j&a)===0||(j&c)!==0)&&(p[N]=Pu(j,r)):J<=r&&(t.expiredLanes|=j),b&=~j}if(r=ke,a=re,a=Le(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,a===0||t===r&&(ve===2||ve===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&pe(c),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ie(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(c!==null&&pe(c),sa(a)){case 2:case 8:a=H;break;case 32:a=A;break;case 268435456:a=K;break;default:a=A}return c=v1.bind(null,t),a=be(a,c),t.callbackPriority=r,t.callbackNode=a,r}return c!==null&&c!==null&&pe(c),t.callbackPriority=2,t.callbackNode=null,2}function v1(t,r){if(gn!==0&&gn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Mc()&&t.callbackNode!==a)return null;var c=re;return c=Le(t,t===ke?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(n1(t,c,r),w1(t,Pt()),t.callbackNode!=null&&t.callbackNode===a?v1.bind(null,t):null)}function E1(t,r){if(Mc())return null;n1(t,r,!0)}function hA(){RA(function(){(me&6)!==0?be(Ne,dA):_1()})}function Gd(){if(Qi===0){var t=Aa;t===0&&(t=Es,Es<<=1,(Es&261888)===0&&(Es=256)),Qi=t}return Qi}function S1(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Vu(""+t)}function A1(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function pA(t,r,a,c,p){if(r==="submit"&&a&&a.stateNode===p){var b=S1((p[se]||null).action),N=c.submitter;N&&(r=(r=N[se]||null)?S1(r.formAction):N.getAttribute("formAction"),r!==null&&(b=r,N=null));var j=new Zu("action","action",null,c,p);t.push({event:j,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Qi!==0){var J=N?A1(p,N):new FormData(p);fd(a,{pending:!0,data:J,method:p.method,action:b},null,J)}}else typeof b=="function"&&(j.preventDefault(),J=N?A1(p,N):new FormData(p),fd(a,{pending:!0,data:J,method:p.method,action:b},b,J))},currentTarget:p}]})}}for(var Fd=0;Fd<Of.length;Fd++){var Yd=Of[Fd],mA=Yd.toLowerCase(),yA=Yd[0].toUpperCase()+Yd.slice(1);Er(mA,"on"+yA)}Er(em,"onAnimationEnd"),Er(nm,"onAnimationIteration"),Er(rm,"onAnimationStart"),Er("dblclick","onDoubleClick"),Er("focusin","onFocus"),Er("focusout","onBlur"),Er(CS,"onTransitionRun"),Er(BS,"onTransitionStart"),Er(MS,"onTransitionCancel"),Er(im,"onTransitionEnd"),Ur("onMouseEnter",["mouseout","mouseover"]),Ur("onMouseLeave",["mouseout","mouseover"]),Ur("onPointerEnter",["pointerout","pointerover"]),Ur("onPointerLeave",["pointerout","pointerover"]),vr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vr("onBeforeInput",["compositionend","keypress","textInput","paste"]),vr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nu));function R1(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var c=t[a],p=c.event;c=c.listeners;t:{var b=void 0;if(r)for(var N=c.length-1;0<=N;N--){var j=c[N],J=j.instance,ft=j.currentTarget;if(j=j.listener,J!==b&&p.isPropagationStopped())break t;b=j,p.currentTarget=ft;try{b(p)}catch(gt){Wu(gt)}p.currentTarget=null,b=J}else for(N=0;N<c.length;N++){if(j=c[N],J=j.instance,ft=j.currentTarget,j=j.listener,J!==b&&p.isPropagationStopped())break t;b=j,p.currentTarget=ft;try{b(p)}catch(gt){Wu(gt)}p.currentTarget=null,b=J}}}}function ee(t,r){var a=r[Ke];a===void 0&&(a=r[Ke]=new Set);var c=t+"__bubble";a.has(c)||(x1(r,t,2,!1),a.add(c))}function Zd(t,r,a){var c=0;r&&(c|=4),x1(a,t,c,r)}var Lc="_reactListening"+Math.random().toString(36).slice(2);function Xd(t){if(!t[Lc]){t[Lc]=!0,oa.forEach(function(a){a!=="selectionchange"&&(gA.has(a)||Zd(a,!1,t),Zd(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Lc]||(r[Lc]=!0,Zd("selectionchange",!1,r))}}function x1(t,r,a,c){switch(eg(r)){case 2:var p=GA;break;case 8:p=FA;break;default:p=lh}a=p.bind(null,r,a,t),p=void 0,!mf||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(p=!0),c?p!==void 0?t.addEventListener(r,a,{capture:!0,passive:p}):t.addEventListener(r,a,!0):p!==void 0?t.addEventListener(r,a,{passive:p}):t.addEventListener(r,a,!1)}function $d(t,r,a,c,p){var b=c;if((r&1)===0&&(r&2)===0&&c!==null)t:for(;;){if(c===null)return;var N=c.tag;if(N===3||N===4){var j=c.stateNode.containerInfo;if(j===p)break;if(N===4)for(N=c.return;N!==null;){var J=N.tag;if((J===3||J===4)&&N.stateNode.containerInfo===p)return;N=N.return}for(;j!==null;){if(N=Cr(j),N===null)return;if(J=N.tag,J===5||J===6||J===26||J===27){c=b=N;continue t}j=j.parentNode}}c=c.return}Ip(function(){var ft=b,gt=hf(a),Et=[];t:{var ht=sm.get(t);if(ht!==void 0){var yt=Zu,Ct=t;switch(t){case"keypress":if(Fu(a)===0)break t;case"keydown":case"keyup":yt=lS;break;case"focusin":Ct="focus",yt=_f;break;case"focusout":Ct="blur",yt=_f;break;case"beforeblur":case"afterblur":yt=_f;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":yt=Mp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":yt=QE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":yt=hS;break;case em:case nm:case rm:yt=eS;break;case im:yt=mS;break;case"scroll":case"scrollend":yt=$E;break;case"wheel":yt=gS;break;case"copy":case"cut":case"paste":yt=rS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":yt=Dp;break;case"toggle":case"beforetoggle":yt=_S}var Vt=(r&4)!==0,Te=!Vt&&(t==="scroll"||t==="scrollend"),st=Vt?ht!==null?ht+"Capture":null:ht;Vt=[];for(var tt=ft,lt;tt!==null;){var wt=tt;if(lt=wt.stateNode,wt=wt.tag,wt!==5&&wt!==26&&wt!==27||lt===null||st===null||(wt=Ao(tt,st),wt!=null&&Vt.push(ru(tt,wt,lt))),Te)break;tt=tt.return}0<Vt.length&&(ht=new yt(ht,Ct,null,a,gt),Et.push({event:ht,listeners:Vt}))}}if((r&7)===0){t:{if(ht=t==="mouseover"||t==="pointerover",yt=t==="mouseout"||t==="pointerout",ht&&a!==df&&(Ct=a.relatedTarget||a.fromElement)&&(Cr(Ct)||Ct[$r]))break t;if((yt||ht)&&(ht=gt.window===gt?gt:(ht=gt.ownerDocument)?ht.defaultView||ht.parentWindow:window,yt?(Ct=a.relatedTarget||a.toElement,yt=ft,Ct=Ct?Cr(Ct):null,Ct!==null&&(Te=o(Ct),Vt=Ct.tag,Ct!==Te||Vt!==5&&Vt!==27&&Vt!==6)&&(Ct=null)):(yt=null,Ct=ft),yt!==Ct)){if(Vt=Mp,wt="onMouseLeave",st="onMouseEnter",tt="mouse",(t==="pointerout"||t==="pointerover")&&(Vt=Dp,wt="onPointerLeave",st="onPointerEnter",tt="pointer"),Te=yt==null?ht:Qr(yt),lt=Ct==null?ht:Qr(Ct),ht=new Vt(wt,tt+"leave",yt,a,gt),ht.target=Te,ht.relatedTarget=lt,wt=null,Cr(gt)===ft&&(Vt=new Vt(st,tt+"enter",Ct,a,gt),Vt.target=lt,Vt.relatedTarget=Te,wt=Vt),Te=wt,yt&&Ct)e:{for(Vt=bA,st=yt,tt=Ct,lt=0,wt=st;wt;wt=Vt(wt))lt++;wt=0;for(var Ht=tt;Ht;Ht=Vt(Ht))wt++;for(;0<lt-wt;)st=Vt(st),lt--;for(;0<wt-lt;)tt=Vt(tt),wt--;for(;lt--;){if(st===tt||tt!==null&&st===tt.alternate){Vt=st;break e}st=Vt(st),tt=Vt(tt)}Vt=null}else Vt=null;yt!==null&&T1(Et,ht,yt,Vt,!1),Ct!==null&&Te!==null&&T1(Et,Te,Ct,Vt,!0)}}t:{if(ht=ft?Qr(ft):window,yt=ht.nodeName&&ht.nodeName.toLowerCase(),yt==="select"||yt==="input"&&ht.type==="file")var le=Vp;else if(Pp(ht))if(Gp)le=NS;else{le=TS;var Mt=xS}else yt=ht.nodeName,!yt||yt.toLowerCase()!=="input"||ht.type!=="checkbox"&&ht.type!=="radio"?ft&&ff(ft.elementType)&&(le=Vp):le=OS;if(le&&(le=le(t,ft))){Kp(Et,le,a,gt);break t}Mt&&Mt(t,ht,ft),t==="focusout"&&ft&&ht.type==="number"&&ft.memoizedProps.value!=null&&lf(ht,"number",ht.value)}switch(Mt=ft?Qr(ft):window,t){case"focusin":(Pp(Mt)||Mt.contentEditable==="true")&&(ya=Mt,Rf=ft,Co=null);break;case"focusout":Co=Rf=ya=null;break;case"mousedown":xf=!0;break;case"contextmenu":case"mouseup":case"dragend":xf=!1,Jp(Et,a,gt);break;case"selectionchange":if(IS)break;case"keydown":case"keyup":Jp(Et,a,gt)}var Xt;if(vf)t:{switch(t){case"compositionstart":var ie="onCompositionStart";break t;case"compositionend":ie="onCompositionEnd";break t;case"compositionupdate":ie="onCompositionUpdate";break t}ie=void 0}else ma?jp(t,a)&&(ie="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ie="onCompositionStart");ie&&(Lp&&a.locale!=="ko"&&(ma||ie!=="onCompositionStart"?ie==="onCompositionEnd"&&ma&&(Xt=Cp()):(Di=gt,yf="value"in Di?Di.value:Di.textContent,ma=!0)),Mt=zc(ft,ie),0<Mt.length&&(ie=new Up(ie,t,null,a,gt),Et.push({event:ie,listeners:Mt}),Xt?ie.data=Xt:(Xt=qp(a),Xt!==null&&(ie.data=Xt)))),(Xt=vS?ES(t,a):SS(t,a))&&(ie=zc(ft,"onBeforeInput"),0<ie.length&&(Mt=new Up("onBeforeInput","beforeinput",null,a,gt),Et.push({event:Mt,listeners:ie}),Mt.data=Xt)),pA(Et,t,ft,a,gt)}R1(Et,r)})}function ru(t,r,a){return{instance:t,listener:r,currentTarget:a}}function zc(t,r){for(var a=r+"Capture",c=[];t!==null;){var p=t,b=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||b===null||(p=Ao(t,a),p!=null&&c.unshift(ru(t,p,b)),p=Ao(t,r),p!=null&&c.push(ru(t,p,b))),t.tag===3)return c;t=t.return}return[]}function bA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function T1(t,r,a,c,p){for(var b=r._reactName,N=[];a!==null&&a!==c;){var j=a,J=j.alternate,ft=j.stateNode;if(j=j.tag,J!==null&&J===c)break;j!==5&&j!==26&&j!==27||ft===null||(J=ft,p?(ft=Ao(a,b),ft!=null&&N.unshift(ru(a,ft,J))):p||(ft=Ao(a,b),ft!=null&&N.push(ru(a,ft,J)))),a=a.return}N.length!==0&&t.push({event:r,listeners:N})}var _A=/\r\n?/g,wA=/\u0000|\uFFFD/g;function O1(t){return(typeof t=="string"?t:""+t).replace(_A,`
`).replace(wA,"")}function N1(t,r){return r=O1(r),O1(t)===r}function xe(t,r,a,c,p,b){switch(a){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||da(t,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&da(t,""+c);break;case"className":Ui(t,"class",c);break;case"tabIndex":Ui(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Ui(t,a,c);break;case"style":Np(t,c,b);break;case"data":if(r!=="object"){Ui(t,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(a);break}c=Vu(""+c),t.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(a==="formAction"?(r!=="input"&&xe(t,r,"name",p.name,p,null),xe(t,r,"formEncType",p.formEncType,p,null),xe(t,r,"formMethod",p.formMethod,p,null),xe(t,r,"formTarget",p.formTarget,p,null)):(xe(t,r,"encType",p.encType,p,null),xe(t,r,"method",p.method,p,null),xe(t,r,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(a);break}c=Vu(""+c),t.setAttribute(a,c);break;case"onClick":c!=null&&(t.onclick=ti);break;case"onScroll":c!=null&&ee("scroll",t);break;case"onScrollEnd":c!=null&&ee("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(a=c.__html,a!=null){if(p.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}a=Vu(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,""+c):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":c===!0?t.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,c):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(a,c):t.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(a):t.setAttribute(a,c);break;case"popover":ee("beforetoggle",t),ee("toggle",t),Mi(t,"popover",c);break;case"xlinkActuate":Jr(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Jr(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Jr(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Jr(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Jr(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Jr(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Jr(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Jr(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Jr(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Mi(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ZE.get(a)||a,Mi(t,a,c))}}function Wd(t,r,a,c,p,b){switch(a){case"style":Np(t,c,b);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(a=c.__html,a!=null){if(p.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"children":typeof c=="string"?da(t,c):(typeof c=="number"||typeof c=="bigint")&&da(t,""+c);break;case"onScroll":c!=null&&ee("scroll",t);break;case"onScrollEnd":c!=null&&ee("scrollend",t);break;case"onClick":c!=null&&(t.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ua.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(p=a.endsWith("Capture"),r=a.slice(2,p?a.length-7:void 0),b=t[se]||null,b=b!=null?b[a]:null,typeof b=="function"&&t.removeEventListener(r,b,p),typeof c=="function")){typeof b!="function"&&b!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,c,p);break t}a in t?t[a]=c:c===!0?t.setAttribute(a,""):Mi(t,a,c)}}}function xn(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ee("error",t),ee("load",t);var c=!1,p=!1,b;for(b in a)if(a.hasOwnProperty(b)){var N=a[b];if(N!=null)switch(b){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:xe(t,r,b,N,a,null)}}p&&xe(t,r,"srcSet",a.srcSet,a,null),c&&xe(t,r,"src",a.src,a,null);return;case"input":ee("invalid",t);var j=b=N=p=null,J=null,ft=null;for(c in a)if(a.hasOwnProperty(c)){var gt=a[c];if(gt!=null)switch(c){case"name":p=gt;break;case"type":N=gt;break;case"checked":J=gt;break;case"defaultChecked":ft=gt;break;case"value":b=gt;break;case"defaultValue":j=gt;break;case"children":case"dangerouslySetInnerHTML":if(gt!=null)throw Error(i(137,r));break;default:xe(t,r,c,gt,a,null)}}Rp(t,b,j,J,ft,N,p,!1);return;case"select":ee("invalid",t),c=N=b=null;for(p in a)if(a.hasOwnProperty(p)&&(j=a[p],j!=null))switch(p){case"value":b=j;break;case"defaultValue":N=j;break;case"multiple":c=j;default:xe(t,r,p,j,a,null)}r=b,a=N,t.multiple=!!c,r!=null?fa(t,!!c,r,!1):a!=null&&fa(t,!!c,a,!0);return;case"textarea":ee("invalid",t),b=p=c=null;for(N in a)if(a.hasOwnProperty(N)&&(j=a[N],j!=null))switch(N){case"value":c=j;break;case"defaultValue":p=j;break;case"children":b=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(i(91));break;default:xe(t,r,N,j,a,null)}Tp(t,c,p,b);return;case"option":for(J in a)a.hasOwnProperty(J)&&(c=a[J],c!=null)&&(J==="selected"?t.selected=c&&typeof c!="function"&&typeof c!="symbol":xe(t,r,J,c,a,null));return;case"dialog":ee("beforetoggle",t),ee("toggle",t),ee("cancel",t),ee("close",t);break;case"iframe":case"object":ee("load",t);break;case"video":case"audio":for(c=0;c<nu.length;c++)ee(nu[c],t);break;case"image":ee("error",t),ee("load",t);break;case"details":ee("toggle",t);break;case"embed":case"source":case"link":ee("error",t),ee("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ft in a)if(a.hasOwnProperty(ft)&&(c=a[ft],c!=null))switch(ft){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:xe(t,r,ft,c,a,null)}return;default:if(ff(r)){for(gt in a)a.hasOwnProperty(gt)&&(c=a[gt],c!==void 0&&Wd(t,r,gt,c,a,void 0));return}}for(j in a)a.hasOwnProperty(j)&&(c=a[j],c!=null&&xe(t,r,j,c,a,null))}function vA(t,r,a,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,b=null,N=null,j=null,J=null,ft=null,gt=null;for(yt in a){var Et=a[yt];if(a.hasOwnProperty(yt)&&Et!=null)switch(yt){case"checked":break;case"value":break;case"defaultValue":J=Et;default:c.hasOwnProperty(yt)||xe(t,r,yt,null,c,Et)}}for(var ht in c){var yt=c[ht];if(Et=a[ht],c.hasOwnProperty(ht)&&(yt!=null||Et!=null))switch(ht){case"type":b=yt;break;case"name":p=yt;break;case"checked":ft=yt;break;case"defaultChecked":gt=yt;break;case"value":N=yt;break;case"defaultValue":j=yt;break;case"children":case"dangerouslySetInnerHTML":if(yt!=null)throw Error(i(137,r));break;default:yt!==Et&&xe(t,r,ht,yt,c,Et)}}cf(t,N,j,J,ft,gt,b,p);return;case"select":yt=N=j=ht=null;for(b in a)if(J=a[b],a.hasOwnProperty(b)&&J!=null)switch(b){case"value":break;case"multiple":yt=J;default:c.hasOwnProperty(b)||xe(t,r,b,null,c,J)}for(p in c)if(b=c[p],J=a[p],c.hasOwnProperty(p)&&(b!=null||J!=null))switch(p){case"value":ht=b;break;case"defaultValue":j=b;break;case"multiple":N=b;default:b!==J&&xe(t,r,p,b,c,J)}r=j,a=N,c=yt,ht!=null?fa(t,!!a,ht,!1):!!c!=!!a&&(r!=null?fa(t,!!a,r,!0):fa(t,!!a,a?[]:"",!1));return;case"textarea":yt=ht=null;for(j in a)if(p=a[j],a.hasOwnProperty(j)&&p!=null&&!c.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:xe(t,r,j,null,c,p)}for(N in c)if(p=c[N],b=a[N],c.hasOwnProperty(N)&&(p!=null||b!=null))switch(N){case"value":ht=p;break;case"defaultValue":yt=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==b&&xe(t,r,N,p,c,b)}xp(t,ht,yt);return;case"option":for(var Ct in a)ht=a[Ct],a.hasOwnProperty(Ct)&&ht!=null&&!c.hasOwnProperty(Ct)&&(Ct==="selected"?t.selected=!1:xe(t,r,Ct,null,c,ht));for(J in c)ht=c[J],yt=a[J],c.hasOwnProperty(J)&&ht!==yt&&(ht!=null||yt!=null)&&(J==="selected"?t.selected=ht&&typeof ht!="function"&&typeof ht!="symbol":xe(t,r,J,ht,c,yt));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Vt in a)ht=a[Vt],a.hasOwnProperty(Vt)&&ht!=null&&!c.hasOwnProperty(Vt)&&xe(t,r,Vt,null,c,ht);for(ft in c)if(ht=c[ft],yt=a[ft],c.hasOwnProperty(ft)&&ht!==yt&&(ht!=null||yt!=null))switch(ft){case"children":case"dangerouslySetInnerHTML":if(ht!=null)throw Error(i(137,r));break;default:xe(t,r,ft,ht,c,yt)}return;default:if(ff(r)){for(var Te in a)ht=a[Te],a.hasOwnProperty(Te)&&ht!==void 0&&!c.hasOwnProperty(Te)&&Wd(t,r,Te,void 0,c,ht);for(gt in c)ht=c[gt],yt=a[gt],!c.hasOwnProperty(gt)||ht===yt||ht===void 0&&yt===void 0||Wd(t,r,gt,ht,c,yt);return}}for(var st in a)ht=a[st],a.hasOwnProperty(st)&&ht!=null&&!c.hasOwnProperty(st)&&xe(t,r,st,null,c,ht);for(Et in c)ht=c[Et],yt=a[Et],!c.hasOwnProperty(Et)||ht===yt||ht==null&&yt==null||xe(t,r,Et,ht,c,yt)}function k1(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function EA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),c=0;c<a.length;c++){var p=a[c],b=p.transferSize,N=p.initiatorType,j=p.duration;if(b&&j&&k1(N)){for(N=0,j=p.responseEnd,c+=1;c<a.length;c++){var J=a[c],ft=J.startTime;if(ft>j)break;var gt=J.transferSize,Et=J.initiatorType;gt&&k1(Et)&&(J=J.responseEnd,N+=gt*(J<j?1:(j-ft)/(J-ft)))}if(--c,r+=8*(b+N)/(p.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Qd=null,Jd=null;function Hc(t){return t.nodeType===9?t:t.ownerDocument}function I1(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function C1(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function th(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var eh=null;function SA(){var t=window.event;return t&&t.type==="popstate"?t===eh?!1:(eh=t,!0):(eh=null,!1)}var B1=typeof setTimeout=="function"?setTimeout:void 0,AA=typeof clearTimeout=="function"?clearTimeout:void 0,M1=typeof Promise=="function"?Promise:void 0,RA=typeof queueMicrotask=="function"?queueMicrotask:typeof M1<"u"?function(t){return M1.resolve(null).then(t).catch(xA)}:B1;function xA(t){setTimeout(function(){throw t})}function Ji(t){return t==="head"}function U1(t,r){var a=r,c=0;do{var p=a.nextSibling;if(t.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"||a==="/&"){if(c===0){t.removeChild(p),Ka(r);return}c--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")c++;else if(a==="html")iu(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,iu(a);for(var b=a.firstChild;b;){var N=b.nextSibling,j=b.nodeName;b[Wr]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&b.rel.toLowerCase()==="stylesheet"||a.removeChild(b),b=N}}else a==="body"&&iu(t.ownerDocument.body);a=p}while(a);Ka(r)}function D1(t,r){var a=t;t=0;do{var c=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=c}while(a)}function nh(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":nh(a),Ss(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function TA(t,r,a,c){for(;t.nodeType===1;){var p=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[Wr])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(b=t.getAttribute("rel"),b==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(b!==p.rel||t.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||t.getAttribute("title")!==(p.title==null?null:p.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(b=t.getAttribute("src"),(b!==(p.src==null?null:p.src)||t.getAttribute("type")!==(p.type==null?null:p.type)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&b&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var b=p.name==null?null:""+p.name;if(p.type==="hidden"&&t.getAttribute("name")===b)return t}else return t;if(t=mr(t.nextSibling),t===null)break}return null}function OA(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=mr(t.nextSibling),t===null))return null;return t}function L1(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=mr(t.nextSibling),t===null))return null;return t}function rh(t){return t.data==="$?"||t.data==="$~"}function ih(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function NA(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var c=function(){r(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function mr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var sh=null;function z1(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return mr(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function H1(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function j1(t,r,a){switch(r=Hc(a),t){case"html":if(t=r.documentElement,!t)throw Error(i(452));return t;case"head":if(t=r.head,!t)throw Error(i(453));return t;case"body":if(t=r.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function iu(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Ss(t)}var yr=new Map,q1=new Set;function jc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var yi=B.d;B.d={f:kA,r:IA,D:CA,C:BA,L:MA,m:UA,X:LA,S:DA,M:zA};function kA(){var t=yi.f(),r=Ic();return t||r}function IA(t){var r=Br(t);r!==null&&r.tag===5&&r.type==="form"?iy(r):yi.r(t)}var ja=typeof document>"u"?null:document;function P1(t,r,a){var c=ja;if(c&&typeof r=="string"&&r){var p=ur(r);p='link[rel="'+t+'"][href="'+p+'"]',typeof a=="string"&&(p+='[crossorigin="'+a+'"]'),q1.has(p)||(q1.add(p),t={rel:t,crossOrigin:a,href:r},c.querySelector(p)===null&&(r=c.createElement("link"),xn(r,"link",t),en(r),c.head.appendChild(r)))}}function CA(t){yi.D(t),P1("dns-prefetch",t,null)}function BA(t,r){yi.C(t,r),P1("preconnect",t,r)}function MA(t,r,a){yi.L(t,r,a);var c=ja;if(c&&t&&r){var p='link[rel="preload"][as="'+ur(r)+'"]';r==="image"&&a&&a.imageSrcSet?(p+='[imagesrcset="'+ur(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(p+='[imagesizes="'+ur(a.imageSizes)+'"]')):p+='[href="'+ur(t)+'"]';var b=p;switch(r){case"style":b=qa(t);break;case"script":b=Pa(t)}yr.has(b)||(t=I({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),yr.set(b,t),c.querySelector(p)!==null||r==="style"&&c.querySelector(su(b))||r==="script"&&c.querySelector(au(b))||(r=c.createElement("link"),xn(r,"link",t),en(r),c.head.appendChild(r)))}}function UA(t,r){yi.m(t,r);var a=ja;if(a&&t){var c=r&&typeof r.as=="string"?r.as:"script",p='link[rel="modulepreload"][as="'+ur(c)+'"][href="'+ur(t)+'"]',b=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Pa(t)}if(!yr.has(b)&&(t=I({rel:"modulepreload",href:t},r),yr.set(b,t),a.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(au(b)))return}c=a.createElement("link"),xn(c,"link",t),en(c),a.head.appendChild(c)}}}function DA(t,r,a){yi.S(t,r,a);var c=ja;if(c&&t){var p=Mr(c).hoistableStyles,b=qa(t);r=r||"default";var N=p.get(b);if(!N){var j={loading:0,preload:null};if(N=c.querySelector(su(b)))j.loading=5;else{t=I({rel:"stylesheet",href:t,"data-precedence":r},a),(a=yr.get(b))&&ah(t,a);var J=N=c.createElement("link");en(J),xn(J,"link",t),J._p=new Promise(function(ft,gt){J.onload=ft,J.onerror=gt}),J.addEventListener("load",function(){j.loading|=1}),J.addEventListener("error",function(){j.loading|=2}),j.loading|=4,qc(N,r,c)}N={type:"stylesheet",instance:N,count:1,state:j},p.set(b,N)}}}function LA(t,r){yi.X(t,r);var a=ja;if(a&&t){var c=Mr(a).hoistableScripts,p=Pa(t),b=c.get(p);b||(b=a.querySelector(au(p)),b||(t=I({src:t,async:!0},r),(r=yr.get(p))&&oh(t,r),b=a.createElement("script"),en(b),xn(b,"link",t),a.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},c.set(p,b))}}function zA(t,r){yi.M(t,r);var a=ja;if(a&&t){var c=Mr(a).hoistableScripts,p=Pa(t),b=c.get(p);b||(b=a.querySelector(au(p)),b||(t=I({src:t,async:!0,type:"module"},r),(r=yr.get(p))&&oh(t,r),b=a.createElement("script"),en(b),xn(b,"link",t),a.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},c.set(p,b))}}function K1(t,r,a,c){var p=(p=Y.current)?jc(p):null;if(!p)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=qa(a.href),a=Mr(p).hoistableStyles,c=a.get(r),c||(c={type:"style",instance:null,count:0,state:null},a.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=qa(a.href);var b=Mr(p).hoistableStyles,N=b.get(t);if(N||(p=p.ownerDocument||p,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(t,N),(b=p.querySelector(su(t)))&&!b._p&&(N.instance=b,N.state.loading=5),yr.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},yr.set(t,a),b||HA(p,t,a,N.state))),r&&c===null)throw Error(i(528,""));return N}if(r&&c!==null)throw Error(i(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Pa(a),a=Mr(p).hoistableScripts,c=a.get(r),c||(c={type:"script",instance:null,count:0,state:null},a.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function qa(t){return'href="'+ur(t)+'"'}function su(t){return'link[rel="stylesheet"]['+t+"]"}function V1(t){return I({},t,{"data-precedence":t.precedence,precedence:null})}function HA(t,r,a,c){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=t.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),xn(r,"link",a),en(r),t.head.appendChild(r))}function Pa(t){return'[src="'+ur(t)+'"]'}function au(t){return"script[async]"+t}function G1(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var c=t.querySelector('style[data-href~="'+ur(a.href)+'"]');if(c)return r.instance=c,en(c),c;var p=I({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),en(c),xn(c,"style",p),qc(c,a.precedence,t),r.instance=c;case"stylesheet":p=qa(a.href);var b=t.querySelector(su(p));if(b)return r.state.loading|=4,r.instance=b,en(b),b;c=V1(a),(p=yr.get(p))&&ah(c,p),b=(t.ownerDocument||t).createElement("link"),en(b);var N=b;return N._p=new Promise(function(j,J){N.onload=j,N.onerror=J}),xn(b,"link",c),r.state.loading|=4,qc(b,a.precedence,t),r.instance=b;case"script":return b=Pa(a.src),(p=t.querySelector(au(b)))?(r.instance=p,en(p),p):(c=a,(p=yr.get(b))&&(c=I({},a),oh(c,p)),t=t.ownerDocument||t,p=t.createElement("script"),en(p),xn(p,"link",c),t.head.appendChild(p),r.instance=p);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,qc(c,a.precedence,t));return r.instance}function qc(t,r,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,b=p,N=0;N<c.length;N++){var j=c[N];if(j.dataset.precedence===r)b=j;else if(b!==p)break}b?b.parentNode.insertBefore(t,b.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function ah(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function oh(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Pc=null;function F1(t,r,a){if(Pc===null){var c=new Map,p=Pc=new Map;p.set(a,c)}else p=Pc,c=p.get(a),c||(c=new Map,p.set(a,c));if(c.has(t))return c;for(c.set(t,null),a=a.getElementsByTagName(t),p=0;p<a.length;p++){var b=a[p];if(!(b[Wr]||b[Jt]||t==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var N=b.getAttribute(r)||"";N=t+N;var j=c.get(N);j?j.push(b):c.set(N,[b])}}return c}function Y1(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function jA(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(t=r.disabled,typeof r.precedence=="string"&&t==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Z1(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function qA(t,r,a,c){if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var p=qa(c.href),b=r.querySelector(su(p));if(b){r=b._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=Kc.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=b,en(b);return}b=r.ownerDocument||r,c=V1(c),(p=yr.get(p))&&ah(c,p),b=b.createElement("link"),en(b);var N=b;N._p=new Promise(function(j,J){N.onload=j,N.onerror=J}),xn(b,"link",c),a.instance=b}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Kc.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var uh=0;function PA(t,r){return t.stylesheets&&t.count===0&&Gc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var c=setTimeout(function(){if(t.stylesheets&&Gc(t,t.stylesheets),t.unsuspend){var b=t.unsuspend;t.unsuspend=null,b()}},6e4+r);0<t.imgBytes&&uh===0&&(uh=62500*EA());var p=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Gc(t,t.stylesheets),t.unsuspend)){var b=t.unsuspend;t.unsuspend=null,b()}},(t.imgBytes>uh?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(c),clearTimeout(p)}}:null}function Kc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Gc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Vc=null;function Gc(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Vc=new Map,r.forEach(KA,t),Vc=null,Kc.call(t))}function KA(t,r){if(!(r.state.loading&4)){var a=Vc.get(t);if(a)var c=a.get(null);else{a=new Map,Vc.set(t,a);for(var p=t.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<p.length;b++){var N=p[b];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(a.set(N.dataset.precedence,N),c=N)}c&&a.set(null,c)}p=r.instance,N=p.getAttribute("data-precedence"),b=a.get(N)||c,b===c&&a.set(null,p),a.set(N,p),this.count++,c=Kc.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),b?b.parentNode.insertBefore(p,b.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(p,t.firstChild)),r.state.loading|=4}}var ou={$$typeof:P,Provider:null,Consumer:null,_currentValue:z,_currentValue2:z,_threadCount:0};function VA(t,r,a,c,p,b,N,j,J){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qe(0),this.hiddenUpdates=qe(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=b,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=J,this.incompleteTransitions=new Map}function X1(t,r,a,c,p,b,N,j,J,ft,gt,Et){return t=new VA(t,r,a,N,J,ft,gt,Et,j),r=1,b===!0&&(r|=24),b=Wn(3,null,null,r),t.current=b,b.stateNode=t,r=qf(),r.refCount++,t.pooledCache=r,r.refCount++,b.memoizedState={element:c,isDehydrated:a,cache:r},Gf(b),t}function $1(t){return t?(t=_a,t):_a}function W1(t,r,a,c,p,b){p=$1(p),c.context===null?c.context=p:c.pendingContext=p,c=Pi(r),c.payload={element:a},b=b===void 0?null:b,b!==null&&(c.callback=b),a=Ki(t,c,r),a!==null&&(Vn(a,t,r),Ho(a,t,r))}function Q1(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function ch(t,r){Q1(t,r),(t=t.alternate)&&Q1(t,r)}function J1(t){if(t.tag===13||t.tag===31){var r=Ts(t,67108864);r!==null&&Vn(r,t,67108864),ch(t,67108864)}}function tg(t){if(t.tag===13||t.tag===31){var r=nr();r=Pe(r);var a=Ts(t,r);a!==null&&Vn(a,t,r),ch(t,r)}}var Fc=!0;function GA(t,r,a,c){var p=E.T;E.T=null;var b=B.p;try{B.p=2,lh(t,r,a,c)}finally{B.p=b,E.T=p}}function FA(t,r,a,c){var p=E.T;E.T=null;var b=B.p;try{B.p=8,lh(t,r,a,c)}finally{B.p=b,E.T=p}}function lh(t,r,a,c){if(Fc){var p=fh(c);if(p===null)$d(t,r,c,Yc,a),ng(t,c);else if(ZA(p,t,r,a,c))c.stopPropagation();else if(ng(t,c),r&4&&-1<YA.indexOf(t)){for(;p!==null;){var b=Br(p);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var N=Ir(b.pendingLanes);if(N!==0){var j=b;for(j.pendingLanes|=2,j.entangledLanes|=2;N;){var J=1<<31-Bt(N);j.entanglements[1]|=J,N&=~J}Hr(b),(me&6)===0&&(Nc=Pt()+500,eu(0))}}break;case 31:case 13:j=Ts(b,2),j!==null&&Vn(j,b,2),Ic(),ch(b,2)}if(b=fh(c),b===null&&$d(t,r,c,Yc,a),b===p)break;p=b}p!==null&&c.stopPropagation()}else $d(t,r,c,null,a)}}function fh(t){return t=hf(t),dh(t)}var Yc=null;function dh(t){if(Yc=null,t=Cr(t),t!==null){var r=o(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=l(r),t!==null)return t;t=null}else if(a===31){if(t=d(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Yc=t,null}function eg(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yn()){case Ne:return 2;case H:return 8;case A:case T:return 32;case K:return 268435456;default:return 32}default:return 32}}var hh=!1,ts=null,es=null,ns=null,uu=new Map,cu=new Map,rs=[],YA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ng(t,r){switch(t){case"focusin":case"focusout":ts=null;break;case"dragenter":case"dragleave":es=null;break;case"mouseover":case"mouseout":ns=null;break;case"pointerover":case"pointerout":uu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":cu.delete(r.pointerId)}}function lu(t,r,a,c,p,b){return t===null||t.nativeEvent!==b?(t={blockedOn:r,domEventName:a,eventSystemFlags:c,nativeEvent:b,targetContainers:[p]},r!==null&&(r=Br(r),r!==null&&J1(r)),t):(t.eventSystemFlags|=c,r=t.targetContainers,p!==null&&r.indexOf(p)===-1&&r.push(p),t)}function ZA(t,r,a,c,p){switch(r){case"focusin":return ts=lu(ts,t,r,a,c,p),!0;case"dragenter":return es=lu(es,t,r,a,c,p),!0;case"mouseover":return ns=lu(ns,t,r,a,c,p),!0;case"pointerover":var b=p.pointerId;return uu.set(b,lu(uu.get(b)||null,t,r,a,c,p)),!0;case"gotpointercapture":return b=p.pointerId,cu.set(b,lu(cu.get(b)||null,t,r,a,c,p)),!0}return!1}function rg(t){var r=Cr(t.target);if(r!==null){var a=o(r);if(a!==null){if(r=a.tag,r===13){if(r=l(a),r!==null){t.blockedOn=r,$e(t.priority,function(){tg(a)});return}}else if(r===31){if(r=d(a),r!==null){t.blockedOn=r,$e(t.priority,function(){tg(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=fh(t.nativeEvent);if(a===null){a=t.nativeEvent;var c=new a.constructor(a.type,a);df=c,a.target.dispatchEvent(c),df=null}else return r=Br(a),r!==null&&J1(r),t.blockedOn=a,!1;r.shift()}return!0}function ig(t,r,a){Zc(t)&&a.delete(r)}function XA(){hh=!1,ts!==null&&Zc(ts)&&(ts=null),es!==null&&Zc(es)&&(es=null),ns!==null&&Zc(ns)&&(ns=null),uu.forEach(ig),cu.forEach(ig)}function Xc(t,r){t.blockedOn===r&&(t.blockedOn=null,hh||(hh=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,XA)))}var $c=null;function sg(t){$c!==t&&($c=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){$c===t&&($c=null);for(var r=0;r<t.length;r+=3){var a=t[r],c=t[r+1],p=t[r+2];if(typeof c!="function"){if(dh(c||a)===null)continue;break}var b=Br(a);b!==null&&(t.splice(r,3),r-=3,fd(b,{pending:!0,data:p,method:a.method,action:c},c,p))}}))}function Ka(t){function r(J){return Xc(J,t)}ts!==null&&Xc(ts,t),es!==null&&Xc(es,t),ns!==null&&Xc(ns,t),uu.forEach(r),cu.forEach(r);for(var a=0;a<rs.length;a++){var c=rs[a];c.blockedOn===t&&(c.blockedOn=null)}for(;0<rs.length&&(a=rs[0],a.blockedOn===null);)rg(a),a.blockedOn===null&&rs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var p=a[c],b=a[c+1],N=p[se]||null;if(typeof b=="function")N||sg(a);else if(N){var j=null;if(b&&b.hasAttribute("formAction")){if(p=b,N=b[se]||null)j=N.formAction;else if(dh(p)!==null)continue}else j=N.action;typeof j=="function"?a[c+1]=j:(a.splice(c,3),c-=3),sg(a)}}}function ag(){function t(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(N){return p=N})},focusReset:"manual",scroll:"manual"})}function r(){p!==null&&(p(),p=null),c||setTimeout(a,20)}function a(){if(!c&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,p=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){c=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),p!==null&&(p(),p=null)}}}function ph(t){this._internalRoot=t}Wc.prototype.render=ph.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(i(409));var a=r.current,c=nr();W1(a,c,t,r,null,null)},Wc.prototype.unmount=ph.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;W1(t.current,2,null,t,null,null),Ic(),r[$r]=null}};function Wc(t){this._internalRoot=t}Wc.prototype.unstable_scheduleHydration=function(t){if(t){var r=Xe();t={blockedOn:null,target:t,priority:r};for(var a=0;a<rs.length&&r!==0&&r<rs[a].priority;a++);rs.splice(a,0,t),a===0&&rg(t)}};var og=e.version;if(og!=="19.2.3")throw Error(i(527,og,"19.2.3"));B.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=_(r),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var $A={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:E,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qc.isDisabled&&Qc.supportsFiber)try{mt=Qc.inject($A),Ut=Qc}catch{}}return hu.createRoot=function(t,r){if(!u(t))throw Error(i(299));var a=!1,c="",p=py,b=my,N=yy;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(b=r.onCaughtError),r.onRecoverableError!==void 0&&(N=r.onRecoverableError)),r=X1(t,1,!1,null,null,a,c,null,p,b,N,ag),t[$r]=r.current,Xd(t),new ph(r)},hu.hydrateRoot=function(t,r,a){if(!u(t))throw Error(i(299));var c=!1,p="",b=py,N=my,j=yy,J=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onUncaughtError!==void 0&&(b=a.onUncaughtError),a.onCaughtError!==void 0&&(N=a.onCaughtError),a.onRecoverableError!==void 0&&(j=a.onRecoverableError),a.formState!==void 0&&(J=a.formState)),r=X1(t,1,!0,r,a??null,c,p,J,b,N,j,ag),r.context=$1(null),a=r.current,c=nr(),c=Pe(c),p=Pi(c),p.callback=null,Ki(a,p,c),a=c,r.current.lanes=a,Bi(r,a),Hr(r),t[$r]=r.current,Xd(t),new Wc(r)},hu.version="19.2.3",hu}var vg;function dR(){if(vg)return _h.exports;vg=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),_h.exports=fR(),_h.exports}var hR=dR();const Va=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function Iu(s){return s instanceof Uint8Array||ArrayBuffer.isView(s)&&s.constructor.name==="Uint8Array"}function Su(s){if(!Number.isSafeInteger(s)||s<0)throw new Error("positive integer expected, got "+s)}function Ni(s,...e){if(!Iu(s))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(s.length))throw new Error("Uint8Array expected of length "+e+", got length="+s.length)}function d_(s){if(typeof s!="function"||typeof s.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Su(s.outputLen),Su(s.blockLen)}function oo(s,e=!0){if(s.destroyed)throw new Error("Hash instance has been destroyed");if(e&&s.finished)throw new Error("Hash#digest() has already been called")}function h_(s,e){Ni(s);const n=e.outputLen;if(s.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function pR(s){return new Uint32Array(s.buffer,s.byteOffset,Math.floor(s.byteLength/4))}function bs(...s){for(let e=0;e<s.length;e++)s[e].fill(0)}function Sh(s){return new DataView(s.buffer,s.byteOffset,s.byteLength)}function jr(s,e){return s<<32-e|s>>>e}const mR=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function yR(s){return s<<24&4278190080|s<<8&16711680|s>>>8&65280|s>>>24&255}function gR(s){for(let e=0;e<s.length;e++)s[e]=yR(s[e]);return s}const Eg=mR?s=>s:gR,p_=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",bR=Array.from({length:256},(s,e)=>e.toString(16).padStart(2,"0"));function Xs(s){if(Ni(s),p_)return s.toHex();let e="";for(let n=0;n<s.length;n++)e+=bR[s[n]];return e}const gi={_0:48,_9:57,A:65,F:70,a:97,f:102};function Sg(s){if(s>=gi._0&&s<=gi._9)return s-gi._0;if(s>=gi.A&&s<=gi.F)return s-(gi.A-10);if(s>=gi.a&&s<=gi.f)return s-(gi.a-10)}function Al(s){if(typeof s!="string")throw new Error("hex string expected, got "+typeof s);if(p_)return Uint8Array.fromHex(s);const e=s.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const i=new Uint8Array(n);for(let u=0,o=0;u<n;u++,o+=2){const l=Sg(s.charCodeAt(o)),d=Sg(s.charCodeAt(o+1));if(l===void 0||d===void 0){const y=s[o]+s[o+1];throw new Error('hex string expected, got non-hex character "'+y+'" at index '+o)}i[u]=l*16+d}return i}function _R(s){if(typeof s!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(s))}function ql(s){return typeof s=="string"&&(s=_R(s)),Ni(s),s}function Kr(...s){let e=0;for(let i=0;i<s.length;i++){const u=s[i];Ni(u),e+=u.length}const n=new Uint8Array(e);for(let i=0,u=0;i<s.length;i++){const o=s[i];n.set(o,u),u+=o.length}return n}class L0{}function z0(s){const e=i=>s().update(ql(i)).digest(),n=s();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>s(),e}function H0(s=32){if(Va&&typeof Va.getRandomValues=="function")return Va.getRandomValues(new Uint8Array(s));if(Va&&typeof Va.randomBytes=="function")return Uint8Array.from(Va.randomBytes(s));throw new Error("crypto.getRandomValues must be defined")}function wR(s,e,n,i){if(typeof s.setBigUint64=="function")return s.setBigUint64(e,n,i);const u=BigInt(32),o=BigInt(4294967295),l=Number(n>>u&o),d=Number(n&o),y=i?4:0,_=i?0:4;s.setUint32(e+y,l,i),s.setUint32(e+_,d,i)}function vR(s,e,n){return s&e^~s&n}function ER(s,e,n){return s&e^s&n^e&n}class m_ extends L0{constructor(e,n,i,u){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=i,this.isLE=u,this.buffer=new Uint8Array(e),this.view=Sh(this.buffer)}update(e){oo(this),e=ql(e),Ni(e);const{view:n,buffer:i,blockLen:u}=this,o=e.length;for(let l=0;l<o;){const d=Math.min(u-this.pos,o-l);if(d===u){const y=Sh(e);for(;u<=o-l;l+=u)this.process(y,l);continue}i.set(e.subarray(l,l+d),this.pos),this.pos+=d,l+=d,this.pos===u&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){oo(this),h_(e,this),this.finished=!0;const{buffer:n,view:i,blockLen:u,isLE:o}=this;let{pos:l}=this;n[l++]=128,bs(this.buffer.subarray(l)),this.padOffset>u-l&&(this.process(i,0),l=0);for(let I=l;I<u;I++)n[I]=0;wR(i,u-8,BigInt(this.length*8),o),this.process(i,0);const d=Sh(e),y=this.outputLen;if(y%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const _=y/4,S=this.get();if(_>S.length)throw new Error("_sha2: outputLen bigger than state");for(let I=0;I<_;I++)d.setUint32(4*I,S[I],o)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const i=e.slice(0,n);return this.destroy(),i}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:i,length:u,finished:o,destroyed:l,pos:d}=this;return e.destroyed=l,e.finished=o,e.length=u,e.pos=d,u%n&&e.buffer.set(i),e}clone(){return this._cloneInto()}}const ss=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Cn=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),tl=BigInt(2**32-1),Ag=BigInt(32);function SR(s,e=!1){return e?{h:Number(s&tl),l:Number(s>>Ag&tl)}:{h:Number(s>>Ag&tl)|0,l:Number(s&tl)|0}}function y_(s,e=!1){const n=s.length;let i=new Uint32Array(n),u=new Uint32Array(n);for(let o=0;o<n;o++){const{h:l,l:d}=SR(s[o],e);[i[o],u[o]]=[l,d]}return[i,u]}const Rg=(s,e,n)=>s>>>n,xg=(s,e,n)=>s<<32-n|e>>>n,Ga=(s,e,n)=>s>>>n|e<<32-n,Fa=(s,e,n)=>s<<32-n|e>>>n,el=(s,e,n)=>s<<64-n|e>>>n-32,nl=(s,e,n)=>s>>>n-32|e<<64-n,AR=(s,e,n)=>s<<n|e>>>32-n,RR=(s,e,n)=>e<<n|s>>>32-n,xR=(s,e,n)=>e<<n-32|s>>>64-n,TR=(s,e,n)=>s<<n-32|e>>>64-n;function bi(s,e,n,i){const u=(e>>>0)+(i>>>0);return{h:s+n+(u/2**32|0)|0,l:u|0}}const OR=(s,e,n)=>(s>>>0)+(e>>>0)+(n>>>0),NR=(s,e,n,i)=>e+n+i+(s/2**32|0)|0,kR=(s,e,n,i)=>(s>>>0)+(e>>>0)+(n>>>0)+(i>>>0),IR=(s,e,n,i,u)=>e+n+i+u+(s/2**32|0)|0,CR=(s,e,n,i,u)=>(s>>>0)+(e>>>0)+(n>>>0)+(i>>>0)+(u>>>0),BR=(s,e,n,i,u,o)=>e+n+i+u+o+(s/2**32|0)|0,MR=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),as=new Uint32Array(64);class UR extends m_{constructor(e=32){super(64,e,8,!1),this.A=ss[0]|0,this.B=ss[1]|0,this.C=ss[2]|0,this.D=ss[3]|0,this.E=ss[4]|0,this.F=ss[5]|0,this.G=ss[6]|0,this.H=ss[7]|0}get(){const{A:e,B:n,C:i,D:u,E:o,F:l,G:d,H:y}=this;return[e,n,i,u,o,l,d,y]}set(e,n,i,u,o,l,d,y){this.A=e|0,this.B=n|0,this.C=i|0,this.D=u|0,this.E=o|0,this.F=l|0,this.G=d|0,this.H=y|0}process(e,n){for(let I=0;I<16;I++,n+=4)as[I]=e.getUint32(n,!1);for(let I=16;I<64;I++){const k=as[I-15],R=as[I-2],M=jr(k,7)^jr(k,18)^k>>>3,U=jr(R,17)^jr(R,19)^R>>>10;as[I]=U+as[I-7]+M+as[I-16]|0}let{A:i,B:u,C:o,D:l,E:d,F:y,G:_,H:S}=this;for(let I=0;I<64;I++){const k=jr(d,6)^jr(d,11)^jr(d,25),R=S+k+vR(d,y,_)+MR[I]+as[I]|0,U=(jr(i,2)^jr(i,13)^jr(i,22))+ER(i,u,o)|0;S=_,_=y,y=d,d=l+R|0,l=o,o=u,u=i,i=R+U|0}i=i+this.A|0,u=u+this.B|0,o=o+this.C|0,l=l+this.D|0,d=d+this.E|0,y=y+this.F|0,_=_+this.G|0,S=S+this.H|0,this.set(i,u,o,l,d,y,_,S)}roundClean(){bs(as)}destroy(){this.set(0,0,0,0,0,0,0,0),bs(this.buffer)}}const g_=y_(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(s=>BigInt(s))),DR=g_[0],LR=g_[1],os=new Uint32Array(80),us=new Uint32Array(80);class zR extends m_{constructor(e=64){super(128,e,16,!1),this.Ah=Cn[0]|0,this.Al=Cn[1]|0,this.Bh=Cn[2]|0,this.Bl=Cn[3]|0,this.Ch=Cn[4]|0,this.Cl=Cn[5]|0,this.Dh=Cn[6]|0,this.Dl=Cn[7]|0,this.Eh=Cn[8]|0,this.El=Cn[9]|0,this.Fh=Cn[10]|0,this.Fl=Cn[11]|0,this.Gh=Cn[12]|0,this.Gl=Cn[13]|0,this.Hh=Cn[14]|0,this.Hl=Cn[15]|0}get(){const{Ah:e,Al:n,Bh:i,Bl:u,Ch:o,Cl:l,Dh:d,Dl:y,Eh:_,El:S,Fh:I,Fl:k,Gh:R,Gl:M,Hh:U,Hl:D}=this;return[e,n,i,u,o,l,d,y,_,S,I,k,R,M,U,D]}set(e,n,i,u,o,l,d,y,_,S,I,k,R,M,U,D){this.Ah=e|0,this.Al=n|0,this.Bh=i|0,this.Bl=u|0,this.Ch=o|0,this.Cl=l|0,this.Dh=d|0,this.Dl=y|0,this.Eh=_|0,this.El=S|0,this.Fh=I|0,this.Fl=k|0,this.Gh=R|0,this.Gl=M|0,this.Hh=U|0,this.Hl=D|0}process(e,n){for(let P=0;P<16;P++,n+=4)os[P]=e.getUint32(n),us[P]=e.getUint32(n+=4);for(let P=16;P<80;P++){const W=os[P-15]|0,nt=us[P-15]|0,ot=Ga(W,nt,1)^Ga(W,nt,8)^Rg(W,nt,7),it=Fa(W,nt,1)^Fa(W,nt,8)^xg(W,nt,7),ut=os[P-2]|0,V=us[P-2]|0,F=Ga(ut,V,19)^el(ut,V,61)^Rg(ut,V,6),X=Fa(ut,V,19)^nl(ut,V,61)^xg(ut,V,6),$=kR(it,X,us[P-7],us[P-16]),x=IR($,ot,F,os[P-7],os[P-16]);os[P]=x|0,us[P]=$|0}let{Ah:i,Al:u,Bh:o,Bl:l,Ch:d,Cl:y,Dh:_,Dl:S,Eh:I,El:k,Fh:R,Fl:M,Gh:U,Gl:D,Hh:q,Hl:G}=this;for(let P=0;P<80;P++){const W=Ga(I,k,14)^Ga(I,k,18)^el(I,k,41),nt=Fa(I,k,14)^Fa(I,k,18)^nl(I,k,41),ot=I&R^~I&U,it=k&M^~k&D,ut=CR(G,nt,it,LR[P],us[P]),V=BR(ut,q,W,ot,DR[P],os[P]),F=ut|0,X=Ga(i,u,28)^el(i,u,34)^el(i,u,39),$=Fa(i,u,28)^nl(i,u,34)^nl(i,u,39),x=i&o^i&d^o&d,h=u&l^u&y^l&y;q=U|0,G=D|0,U=R|0,D=M|0,R=I|0,M=k|0,{h:I,l:k}=bi(_|0,S|0,V|0,F|0),_=d|0,S=y|0,d=o|0,y=l|0,o=i|0,l=u|0;const w=OR(F,$,h);i=NR(w,V,X,x),u=w|0}({h:i,l:u}=bi(this.Ah|0,this.Al|0,i|0,u|0)),{h:o,l}=bi(this.Bh|0,this.Bl|0,o|0,l|0),{h:d,l:y}=bi(this.Ch|0,this.Cl|0,d|0,y|0),{h:_,l:S}=bi(this.Dh|0,this.Dl|0,_|0,S|0),{h:I,l:k}=bi(this.Eh|0,this.El|0,I|0,k|0),{h:R,l:M}=bi(this.Fh|0,this.Fl|0,R|0,M|0),{h:U,l:D}=bi(this.Gh|0,this.Gl|0,U|0,D|0),{h:q,l:G}=bi(this.Hh|0,this.Hl|0,q|0,G|0),this.set(i,u,o,l,d,y,_,S,I,k,R,M,U,D,q,G)}roundClean(){bs(os,us)}destroy(){bs(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const b_=z0(()=>new UR),HR=z0(()=>new zR);const j0=BigInt(0),p0=BigInt(1);function $s(s,e=""){if(typeof s!="boolean"){const n=e&&`"${e}"`;throw new Error(n+"expected boolean, got type="+typeof s)}return s}function Tr(s,e,n=""){const i=Iu(s),u=s?.length,o=e!==void 0;if(!i||o&&u!==e){const l=n&&`"${n}" `,d=o?` of length ${e}`:"",y=i?`length=${u}`:`type=${typeof s}`;throw new Error(l+"expected Uint8Array"+d+", got "+y)}return s}function rl(s){const e=s.toString(16);return e.length&1?"0"+e:e}function __(s){if(typeof s!="string")throw new Error("hex string expected, got "+typeof s);return s===""?j0:BigInt("0x"+s)}function Pl(s){return __(Xs(s))}function Au(s){return Ni(s),__(Xs(Uint8Array.from(s).reverse()))}function q0(s,e){return Al(s.toString(16).padStart(e*2,"0"))}function w_(s,e){return q0(s,e).reverse()}function an(s,e,n){let i;if(typeof e=="string")try{i=Al(e)}catch(o){throw new Error(s+" must be hex string or Uint8Array, cause: "+o)}else if(Iu(e))i=Uint8Array.from(e);else throw new Error(s+" must be hex string or Uint8Array");const u=i.length;if(typeof n=="number"&&u!==n)throw new Error(s+" of length "+n+" expected, got "+u);return i}function Tg(s){return Uint8Array.from(s)}const Ah=s=>typeof s=="bigint"&&j0<=s;function jR(s,e,n){return Ah(s)&&Ah(e)&&Ah(n)&&e<=s&&s<n}function m0(s,e,n,i){if(!jR(e,n,i))throw new Error("expected valid "+s+": "+n+" <= n < "+i+", got "+e)}function v_(s){let e;for(e=0;s>j0;s>>=p0,e+=1);return e}const Cu=s=>(p0<<BigInt(s))-p0;function qR(s,e,n){if(typeof s!="number"||s<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const i=R=>new Uint8Array(R),u=R=>Uint8Array.of(R);let o=i(s),l=i(s),d=0;const y=()=>{o.fill(1),l.fill(0),d=0},_=(...R)=>n(l,o,...R),S=(R=i(0))=>{l=_(u(0),R),o=_(),R.length!==0&&(l=_(u(1),R),o=_())},I=()=>{if(d++>=1e3)throw new Error("drbg: tried 1000 values");let R=0;const M=[];for(;R<e;){o=_();const U=o.slice();M.push(U),R+=o.length}return Kr(...M)};return(R,M)=>{y(),S(R);let U;for(;!(U=M(I()));)S();return y(),U}}function Bu(s,e,n={}){if(!s||typeof s!="object")throw new Error("expected valid options object");function i(u,o,l){const d=s[u];if(l&&d===void 0)return;const y=typeof d;if(y!==o||d===null)throw new Error(`param "${u}" is invalid: expected ${o}, got ${y}`)}Object.entries(e).forEach(([u,o])=>i(u,o,!1)),Object.entries(n).forEach(([u,o])=>i(u,o,!0))}function Rl(s){const e=new WeakMap;return(n,...i)=>{const u=e.get(n);if(u!==void 0)return u;const o=s(n,...i);return e.set(n,o),o}}const Yn=BigInt(0),kn=BigInt(1),Ks=BigInt(2),E_=BigInt(3),S_=BigInt(4),A_=BigInt(5),PR=BigInt(7),R_=BigInt(8),KR=BigInt(9),x_=BigInt(16);function mn(s,e){const n=s%e;return n>=Yn?n:e+n}function sn(s,e,n){let i=s;for(;e-- >Yn;)i*=i,i%=n;return i}function Og(s,e){if(s===Yn)throw new Error("invert: expected non-zero number");if(e<=Yn)throw new Error("invert: expected positive modulus, got "+e);let n=mn(s,e),i=e,u=Yn,o=kn;for(;n!==Yn;){const d=i/n,y=i%n,_=u-o*d;i=n,n=y,u=o,o=_}if(i!==kn)throw new Error("invert: does not exist");return mn(u,e)}function P0(s,e,n){if(!s.eql(s.sqr(e),n))throw new Error("Cannot find square root")}function T_(s,e){const n=(s.ORDER+kn)/S_,i=s.pow(e,n);return P0(s,i,e),i}function VR(s,e){const n=(s.ORDER-A_)/R_,i=s.mul(e,Ks),u=s.pow(i,n),o=s.mul(e,u),l=s.mul(s.mul(o,Ks),u),d=s.mul(o,s.sub(l,s.ONE));return P0(s,d,e),d}function GR(s){const e=ta(s),n=O_(s),i=n(e,e.neg(e.ONE)),u=n(e,i),o=n(e,e.neg(i)),l=(s+PR)/x_;return(d,y)=>{let _=d.pow(y,l),S=d.mul(_,i);const I=d.mul(_,u),k=d.mul(_,o),R=d.eql(d.sqr(S),y),M=d.eql(d.sqr(I),y);_=d.cmov(_,S,R),S=d.cmov(k,I,M);const U=d.eql(d.sqr(S),y),D=d.cmov(_,S,U);return P0(d,D,y),D}}function O_(s){if(s<E_)throw new Error("sqrt is not defined for small field");let e=s-kn,n=0;for(;e%Ks===Yn;)e/=Ks,n++;let i=Ks;const u=ta(s);for(;Ng(u,i)===1;)if(i++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return T_;let o=u.pow(i,e);const l=(e+kn)/Ks;return function(y,_){if(y.is0(_))return _;if(Ng(y,_)!==1)throw new Error("Cannot find square root");let S=n,I=y.mul(y.ONE,o),k=y.pow(_,e),R=y.pow(_,l);for(;!y.eql(k,y.ONE);){if(y.is0(k))return y.ZERO;let M=1,U=y.sqr(k);for(;!y.eql(U,y.ONE);)if(M++,U=y.sqr(U),M===S)throw new Error("Cannot find square root");const D=kn<<BigInt(S-M-1),q=y.pow(I,D);S=M,I=y.sqr(q),k=y.mul(k,I),R=y.mul(R,q)}return R}}function FR(s){return s%S_===E_?T_:s%R_===A_?VR:s%x_===KR?GR(s):O_(s)}const YR=(s,e)=>(mn(s,e)&kn)===kn,ZR=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function XR(s){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=ZR.reduce((i,u)=>(i[u]="function",i),e);return Bu(s,n),s}function $R(s,e,n){if(n<Yn)throw new Error("invalid exponent, negatives unsupported");if(n===Yn)return s.ONE;if(n===kn)return e;let i=s.ONE,u=e;for(;n>Yn;)n&kn&&(i=s.mul(i,u)),u=s.sqr(u),n>>=kn;return i}function N_(s,e,n=!1){const i=new Array(e.length).fill(n?s.ZERO:void 0),u=e.reduce((l,d,y)=>s.is0(d)?l:(i[y]=l,s.mul(l,d)),s.ONE),o=s.inv(u);return e.reduceRight((l,d,y)=>s.is0(d)?l:(i[y]=s.mul(l,i[y]),s.mul(l,d)),o),i}function Ng(s,e){const n=(s.ORDER-kn)/Ks,i=s.pow(e,n),u=s.eql(i,s.ONE),o=s.eql(i,s.ZERO),l=s.eql(i,s.neg(s.ONE));if(!u&&!o&&!l)throw new Error("invalid Legendre symbol result");return u?1:o?0:-1}function k_(s,e){e!==void 0&&Su(e);const n=e!==void 0?e:s.toString(2).length,i=Math.ceil(n/8);return{nBitLength:n,nByteLength:i}}function ta(s,e,n=!1,i={}){if(s<=Yn)throw new Error("invalid field: expected ORDER > 0, got "+s);let u,o,l=!1,d;if(typeof e=="object"&&e!=null){if(i.sqrt||n)throw new Error("cannot specify opts in two arguments");const k=e;k.BITS&&(u=k.BITS),k.sqrt&&(o=k.sqrt),typeof k.isLE=="boolean"&&(n=k.isLE),typeof k.modFromBytes=="boolean"&&(l=k.modFromBytes),d=k.allowedLengths}else typeof e=="number"&&(u=e),i.sqrt&&(o=i.sqrt);const{nBitLength:y,nByteLength:_}=k_(s,u);if(_>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let S;const I=Object.freeze({ORDER:s,isLE:n,BITS:y,BYTES:_,MASK:Cu(y),ZERO:Yn,ONE:kn,allowedLengths:d,create:k=>mn(k,s),isValid:k=>{if(typeof k!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof k);return Yn<=k&&k<s},is0:k=>k===Yn,isValidNot0:k=>!I.is0(k)&&I.isValid(k),isOdd:k=>(k&kn)===kn,neg:k=>mn(-k,s),eql:(k,R)=>k===R,sqr:k=>mn(k*k,s),add:(k,R)=>mn(k+R,s),sub:(k,R)=>mn(k-R,s),mul:(k,R)=>mn(k*R,s),pow:(k,R)=>$R(I,k,R),div:(k,R)=>mn(k*Og(R,s),s),sqrN:k=>k*k,addN:(k,R)=>k+R,subN:(k,R)=>k-R,mulN:(k,R)=>k*R,inv:k=>Og(k,s),sqrt:o||(k=>(S||(S=FR(s)),S(I,k))),toBytes:k=>n?w_(k,_):q0(k,_),fromBytes:(k,R=!0)=>{if(d){if(!d.includes(k.length)||k.length>_)throw new Error("Field.fromBytes: expected "+d+" bytes, got "+k.length);const U=new Uint8Array(_);U.set(k,n?0:U.length-k.length),k=U}if(k.length!==_)throw new Error("Field.fromBytes: expected "+_+" bytes, got "+k.length);let M=n?Au(k):Pl(k);if(l&&(M=mn(M,s)),!R&&!I.isValid(M))throw new Error("invalid field element: outside of range 0..ORDER");return M},invertBatch:k=>N_(I,k),cmov:(k,R,M)=>M?R:k});return Object.freeze(I)}function I_(s){if(typeof s!="bigint")throw new Error("field order must be bigint");const e=s.toString(2).length;return Math.ceil(e/8)}function C_(s){const e=I_(s);return e+Math.ceil(e/2)}function WR(s,e,n=!1){const i=s.length,u=I_(e),o=C_(e);if(i<16||i<o||i>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+i);const l=n?Au(s):Pl(s),d=mn(l,e-kn)+kn;return n?w_(d,u):q0(d,u)}const uo=BigInt(0),Vs=BigInt(1);function xl(s,e){const n=e.negate();return s?n:e}function Gs(s,e){const n=N_(s.Fp,e.map(i=>i.Z));return e.map((i,u)=>s.fromAffine(i.toAffine(n[u])))}function B_(s,e){if(!Number.isSafeInteger(s)||s<=0||s>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+s)}function Rh(s,e){B_(s,e);const n=Math.ceil(e/s)+1,i=2**(s-1),u=2**s,o=Cu(s),l=BigInt(s);return{windows:n,windowSize:i,mask:o,maxNumber:u,shiftBy:l}}function kg(s,e,n){const{windowSize:i,mask:u,maxNumber:o,shiftBy:l}=n;let d=Number(s&u),y=s>>l;d>i&&(d-=o,y+=Vs);const _=e*i,S=_+Math.abs(d)-1,I=d===0,k=d<0,R=e%2!==0;return{nextN:y,offset:S,isZero:I,isNeg:k,isNegF:R,offsetF:_}}function QR(s,e){if(!Array.isArray(s))throw new Error("array expected");s.forEach((n,i)=>{if(!(n instanceof e))throw new Error("invalid point at index "+i)})}function JR(s,e){if(!Array.isArray(s))throw new Error("array of scalars expected");s.forEach((n,i)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+i)})}const xh=new WeakMap,M_=new WeakMap;function Th(s){return M_.get(s)||1}function Ig(s){if(s!==uo)throw new Error("invalid wNAF")}class U_{constructor(e,n){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=n}_unsafeLadder(e,n,i=this.ZERO){let u=e;for(;n>uo;)n&Vs&&(i=i.add(u)),u=u.double(),n>>=Vs;return i}precomputeWindow(e,n){const{windows:i,windowSize:u}=Rh(n,this.bits),o=[];let l=e,d=l;for(let y=0;y<i;y++){d=l,o.push(d);for(let _=1;_<u;_++)d=d.add(l),o.push(d);l=d.double()}return o}wNAF(e,n,i){if(!this.Fn.isValid(i))throw new Error("invalid scalar");let u=this.ZERO,o=this.BASE;const l=Rh(e,this.bits);for(let d=0;d<l.windows;d++){const{nextN:y,offset:_,isZero:S,isNeg:I,isNegF:k,offsetF:R}=kg(i,d,l);i=y,S?o=o.add(xl(k,n[R])):u=u.add(xl(I,n[_]))}return Ig(i),{p:u,f:o}}wNAFUnsafe(e,n,i,u=this.ZERO){const o=Rh(e,this.bits);for(let l=0;l<o.windows&&i!==uo;l++){const{nextN:d,offset:y,isZero:_,isNeg:S}=kg(i,l,o);if(i=d,!_){const I=n[y];u=u.add(S?I.negate():I)}}return Ig(i),u}getPrecomputes(e,n,i){let u=xh.get(n);return u||(u=this.precomputeWindow(n,e),e!==1&&(typeof i=="function"&&(u=i(u)),xh.set(n,u))),u}cached(e,n,i){const u=Th(e);return this.wNAF(u,this.getPrecomputes(u,e,i),n)}unsafe(e,n,i,u){const o=Th(e);return o===1?this._unsafeLadder(e,n,u):this.wNAFUnsafe(o,this.getPrecomputes(o,e,i),n,u)}createCache(e,n){B_(n,this.bits),M_.set(e,n),xh.delete(e)}hasCache(e){return Th(e)!==1}}function t2(s,e,n,i){let u=e,o=s.ZERO,l=s.ZERO;for(;n>uo||i>uo;)n&Vs&&(o=o.add(u)),i&Vs&&(l=l.add(u)),u=u.double(),n>>=Vs,i>>=Vs;return{p1:o,p2:l}}function D_(s,e,n,i){QR(n,s),JR(i,e);const u=n.length,o=i.length;if(u!==o)throw new Error("arrays of points and scalars must have equal length");const l=s.ZERO,d=v_(BigInt(u));let y=1;d>12?y=d-3:d>4?y=d-2:d>0&&(y=2);const _=Cu(y),S=new Array(Number(_)+1).fill(l),I=Math.floor((e.BITS-1)/y)*y;let k=l;for(let R=I;R>=0;R-=y){S.fill(l);for(let U=0;U<o;U++){const D=i[U],q=Number(D>>BigInt(R)&_);S[q]=S[q].add(n[U])}let M=l;for(let U=S.length-1,D=l;U>0;U--)D=D.add(S[U]),M=M.add(D);if(k=k.add(M),R!==0)for(let U=0;U<y;U++)k=k.double()}return k}function Cg(s,e,n){if(e){if(e.ORDER!==s)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return XR(e),e}else return ta(s,{isLE:n})}function L_(s,e,n={},i){if(i===void 0&&(i=s==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${s} CURVE object`);for(const y of["p","n","h"]){const _=e[y];if(!(typeof _=="bigint"&&_>uo))throw new Error(`CURVE.${y} must be positive bigint`)}const u=Cg(e.p,n.Fp,i),o=Cg(e.n,n.Fn,i),d=["Gx","Gy","a",s==="weierstrass"?"b":"d"];for(const y of d)if(!u.isValid(e[y]))throw new Error(`CURVE.${y} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:u,Fn:o}}const cs=BigInt(0),wn=BigInt(1),Oh=BigInt(2),e2=BigInt(8);function n2(s,e,n,i){const u=s.sqr(n),o=s.sqr(i),l=s.add(s.mul(e.a,u),o),d=s.add(s.ONE,s.mul(e.d,s.mul(u,o)));return s.eql(l,d)}function r2(s,e={}){const n=L_("edwards",s,e,e.FpFnLE),{Fp:i,Fn:u}=n;let o=n.CURVE;const{h:l}=o;Bu(e,{},{uvRatio:"function"});const d=Oh<<BigInt(u.BYTES*8)-wn,y=D=>i.create(D),_=e.uvRatio||((D,q)=>{try{return{isValid:!0,value:i.sqrt(i.div(D,q))}}catch{return{isValid:!1,value:cs}}});if(!n2(i,o,o.Gx,o.Gy))throw new Error("bad curve params: generator point");function S(D,q,G=!1){const P=G?wn:cs;return m0("coordinate "+D,q,P,d),q}function I(D){if(!(D instanceof M))throw new Error("ExtendedPoint expected")}const k=Rl((D,q)=>{const{X:G,Y:P,Z:W}=D,nt=D.is0();q==null&&(q=nt?e2:i.inv(W));const ot=y(G*q),it=y(P*q),ut=i.mul(W,q);if(nt)return{x:cs,y:wn};if(ut!==wn)throw new Error("invZ was invalid");return{x:ot,y:it}}),R=Rl(D=>{const{a:q,d:G}=o;if(D.is0())throw new Error("bad point: ZERO");const{X:P,Y:W,Z:nt,T:ot}=D,it=y(P*P),ut=y(W*W),V=y(nt*nt),F=y(V*V),X=y(it*q),$=y(V*y(X+ut)),x=y(F+y(G*y(it*ut)));if($!==x)throw new Error("bad point: equation left != right (1)");const h=y(P*W),w=y(nt*ot);if(h!==w)throw new Error("bad point: equation left != right (2)");return!0});class M{constructor(q,G,P,W){this.X=S("x",q),this.Y=S("y",G),this.Z=S("z",P,!0),this.T=S("t",W),Object.freeze(this)}static CURVE(){return o}static fromAffine(q){if(q instanceof M)throw new Error("extended point not allowed");const{x:G,y:P}=q||{};return S("x",G),S("y",P),new M(G,P,wn,y(G*P))}static fromBytes(q,G=!1){const P=i.BYTES,{a:W,d:nt}=o;q=Tg(Tr(q,P,"point")),$s(G,"zip215");const ot=Tg(q),it=q[P-1];ot[P-1]=it&-129;const ut=Au(ot),V=G?d:i.ORDER;m0("point.y",ut,cs,V);const F=y(ut*ut),X=y(F-wn),$=y(nt*F-W);let{isValid:x,value:h}=_(X,$);if(!x)throw new Error("bad point: invalid y coordinate");const w=(h&wn)===wn,E=(it&128)!==0;if(!G&&h===cs&&E)throw new Error("bad point: x=0 and x_0=1");return E!==w&&(h=y(-h)),M.fromAffine({x:h,y:ut})}static fromHex(q,G=!1){return M.fromBytes(an("point",q),G)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(q=8,G=!0){return U.createCache(this,q),G||this.multiply(Oh),this}assertValidity(){R(this)}equals(q){I(q);const{X:G,Y:P,Z:W}=this,{X:nt,Y:ot,Z:it}=q,ut=y(G*it),V=y(nt*W),F=y(P*it),X=y(ot*W);return ut===V&&F===X}is0(){return this.equals(M.ZERO)}negate(){return new M(y(-this.X),this.Y,this.Z,y(-this.T))}double(){const{a:q}=o,{X:G,Y:P,Z:W}=this,nt=y(G*G),ot=y(P*P),it=y(Oh*y(W*W)),ut=y(q*nt),V=G+P,F=y(y(V*V)-nt-ot),X=ut+ot,$=X-it,x=ut-ot,h=y(F*$),w=y(X*x),E=y(F*x),B=y($*X);return new M(h,w,B,E)}add(q){I(q);const{a:G,d:P}=o,{X:W,Y:nt,Z:ot,T:it}=this,{X:ut,Y:V,Z:F,T:X}=q,$=y(W*ut),x=y(nt*V),h=y(it*P*X),w=y(ot*F),E=y((W+nt)*(ut+V)-$-x),B=w-h,z=w+h,C=y(x-G*$),v=y(E*B),m=y(z*C),f=y(E*C),g=y(B*z);return new M(v,m,g,f)}subtract(q){return this.add(q.negate())}multiply(q){if(!u.isValidNot0(q))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:G,f:P}=U.cached(this,q,W=>Gs(M,W));return Gs(M,[G,P])[0]}multiplyUnsafe(q,G=M.ZERO){if(!u.isValid(q))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return q===cs?M.ZERO:this.is0()||q===wn?this:U.unsafe(this,q,P=>Gs(M,P),G)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return U.unsafe(this,o.n).is0()}toAffine(q){return k(this,q)}clearCofactor(){return l===wn?this:this.multiplyUnsafe(l)}toBytes(){const{x:q,y:G}=this.toAffine(),P=i.toBytes(G);return P[P.length-1]|=q&wn?128:0,P}toHex(){return Xs(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(q){return Gs(M,q)}static msm(q,G){return D_(M,u,q,G)}_setWindowSize(q){this.precompute(q)}toRawBytes(){return this.toBytes()}}M.BASE=new M(o.Gx,o.Gy,wn,y(o.Gx*o.Gy)),M.ZERO=new M(cs,wn,wn,cs),M.Fp=i,M.Fn=u;const U=new U_(M,u.BITS);return M.BASE.precompute(8),M}function i2(s,e,n={}){if(typeof e!="function")throw new Error('"hash" function param is required');Bu(n,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:i}=n,{BASE:u,Fp:o,Fn:l}=s,d=n.randomBytes||H0,y=n.adjustScalarBytes||(V=>V),_=n.domain||((V,F,X)=>{if($s(X,"phflag"),F.length||X)throw new Error("Contexts/pre-hash are not supported");return V});function S(V){return l.create(Au(V))}function I(V){const F=P.secretKey;V=an("private key",V,F);const X=an("hashed private key",e(V),2*F),$=y(X.slice(0,F)),x=X.slice(F,2*F),h=S($);return{head:$,prefix:x,scalar:h}}function k(V){const{head:F,prefix:X,scalar:$}=I(V),x=u.multiply($),h=x.toBytes();return{head:F,prefix:X,scalar:$,point:x,pointBytes:h}}function R(V){return k(V).pointBytes}function M(V=Uint8Array.of(),...F){const X=Kr(...F);return S(e(_(X,an("context",V),!!i)))}function U(V,F,X={}){V=an("message",V),i&&(V=i(V));const{prefix:$,scalar:x,pointBytes:h}=k(F),w=M(X.context,$,V),E=u.multiply(w).toBytes(),B=M(X.context,E,h,V),z=l.create(w+B*x);if(!l.isValid(z))throw new Error("sign failed: invalid s");const C=Kr(E,l.toBytes(z));return Tr(C,P.signature,"result")}const D={zip215:!0};function q(V,F,X,$=D){const{context:x,zip215:h}=$,w=P.signature;V=an("signature",V,w),F=an("message",F),X=an("publicKey",X,P.publicKey),h!==void 0&&$s(h,"zip215"),i&&(F=i(F));const E=w/2,B=V.subarray(0,E),z=Au(V.subarray(E,w));let C,v,m;try{C=s.fromBytes(X,h),v=s.fromBytes(B,h),m=u.multiplyUnsafe(z)}catch{return!1}if(!h&&C.isSmallOrder())return!1;const f=M(x,v.toBytes(),C.toBytes(),F);return v.add(C.multiplyUnsafe(f)).subtract(m).clearCofactor().is0()}const G=o.BYTES,P={secretKey:G,publicKey:G,signature:2*G,seed:G};function W(V=d(P.seed)){return Tr(V,P.seed,"seed")}function nt(V){const F=ut.randomSecretKey(V);return{secretKey:F,publicKey:R(F)}}function ot(V){return Iu(V)&&V.length===l.BYTES}function it(V,F){try{return!!s.fromBytes(V,F)}catch{return!1}}const ut={getExtendedPublicKey:k,randomSecretKey:W,isValidSecretKey:ot,isValidPublicKey:it,toMontgomery(V){const{y:F}=s.fromBytes(V),X=P.publicKey,$=X===32;if(!$&&X!==57)throw new Error("only defined for 25519 and 448");const x=$?o.div(wn+F,wn-F):o.div(F-wn,F+wn);return o.toBytes(x)},toMontgomerySecret(V){const F=P.secretKey;Tr(V,F);const X=e(V.subarray(0,F));return y(X).subarray(0,F)},randomPrivateKey:W,precompute(V=8,F=s.BASE){return F.precompute(V,!1)}};return Object.freeze({keygen:nt,getPublicKey:R,sign:U,verify:q,utils:ut,Point:s,lengths:P})}function s2(s){const e={a:s.a,d:s.d,p:s.Fp.ORDER,n:s.n,h:s.h,Gx:s.Gx,Gy:s.Gy},n=s.Fp,i=ta(e.n,s.nBitLength,!0),u={Fp:n,Fn:i,uvRatio:s.uvRatio},o={randomBytes:s.randomBytes,adjustScalarBytes:s.adjustScalarBytes,domain:s.domain,prehash:s.prehash,mapToCurve:s.mapToCurve};return{CURVE:e,curveOpts:u,hash:s.hash,eddsaOpts:o}}function a2(s,e){const n=e.Point;return Object.assign({},e,{ExtendedPoint:n,CURVE:s,nBitLength:n.Fn.BITS,nByteLength:n.Fn.BYTES})}function o2(s){const{CURVE:e,curveOpts:n,hash:i,eddsaOpts:u}=s2(s),o=r2(e,n),l=i2(o,i,u);return a2(s,l)}const u2=BigInt(1),Bg=BigInt(2);BigInt(3);const c2=BigInt(5),l2=BigInt(8),K0=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),z_={p:K0,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:l2,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function f2(s){const e=BigInt(10),n=BigInt(20),i=BigInt(40),u=BigInt(80),o=K0,d=s*s%o*s%o,y=sn(d,Bg,o)*d%o,_=sn(y,u2,o)*s%o,S=sn(_,c2,o)*_%o,I=sn(S,e,o)*S%o,k=sn(I,n,o)*I%o,R=sn(k,i,o)*k%o,M=sn(R,u,o)*R%o,U=sn(M,u,o)*R%o,D=sn(U,e,o)*S%o;return{pow_p_5_8:sn(D,Bg,o)*s%o,b2:d}}function d2(s){return s[0]&=248,s[31]&=127,s[31]|=64,s}const Mg=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function h2(s,e){const n=K0,i=mn(e*e*e,n),u=mn(i*i*e,n),o=f2(s*u).pow_p_5_8;let l=mn(s*i*o,n);const d=mn(e*l*l,n),y=l,_=mn(l*Mg,n),S=d===s,I=d===mn(-s,n),k=d===mn(-s*Mg,n);return S&&(l=y),(I||k)&&(l=_),YR(l,n)&&(l=mn(-l,n)),{isValid:S||I,value:l}}const p2=ta(z_.p,{isLE:!0}),m2={...z_,Fp:p2,hash:HR,adjustScalarBytes:d2,uvRatio:h2},mo=o2(m2);var _l={exports:{}};const y2={},g2=Object.freeze(Object.defineProperty({__proto__:null,default:y2},Symbol.toStringTag,{value:"Module"})),b2=jl(g2);var _2=_l.exports,Ug;function V0(){return Ug||(Ug=1,(function(s){(function(e,n){function i(x,h){if(!x)throw new Error(h||"Assertion failed")}function u(x,h){x.super_=h;var w=function(){};w.prototype=h.prototype,x.prototype=new w,x.prototype.constructor=x}function o(x,h,w){if(o.isBN(x))return x;this.negative=0,this.words=null,this.length=0,this.red=null,x!==null&&((h==="le"||h==="be")&&(w=h,h=10),this._init(x||0,h||10,w||"be"))}typeof e=="object"?e.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var l;try{typeof window<"u"&&typeof window.Buffer<"u"?l=window.Buffer:l=b2.Buffer}catch{}o.isBN=function(h){return h instanceof o?!0:h!==null&&typeof h=="object"&&h.constructor.wordSize===o.wordSize&&Array.isArray(h.words)},o.max=function(h,w){return h.cmp(w)>0?h:w},o.min=function(h,w){return h.cmp(w)<0?h:w},o.prototype._init=function(h,w,E){if(typeof h=="number")return this._initNumber(h,w,E);if(typeof h=="object")return this._initArray(h,w,E);w==="hex"&&(w=16),i(w===(w|0)&&w>=2&&w<=36),h=h.toString().replace(/\s+/g,"");var B=0;h[0]==="-"&&(B++,this.negative=1),B<h.length&&(w===16?this._parseHex(h,B,E):(this._parseBase(h,w,B),E==="le"&&this._initArray(this.toArray(),w,E)))},o.prototype._initNumber=function(h,w,E){h<0&&(this.negative=1,h=-h),h<67108864?(this.words=[h&67108863],this.length=1):h<4503599627370496?(this.words=[h&67108863,h/67108864&67108863],this.length=2):(i(h<9007199254740992),this.words=[h&67108863,h/67108864&67108863,1],this.length=3),E==="le"&&this._initArray(this.toArray(),w,E)},o.prototype._initArray=function(h,w,E){if(i(typeof h.length=="number"),h.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(h.length/3),this.words=new Array(this.length);for(var B=0;B<this.length;B++)this.words[B]=0;var z,C,v=0;if(E==="be")for(B=h.length-1,z=0;B>=0;B-=3)C=h[B]|h[B-1]<<8|h[B-2]<<16,this.words[z]|=C<<v&67108863,this.words[z+1]=C>>>26-v&67108863,v+=24,v>=26&&(v-=26,z++);else if(E==="le")for(B=0,z=0;B<h.length;B+=3)C=h[B]|h[B+1]<<8|h[B+2]<<16,this.words[z]|=C<<v&67108863,this.words[z+1]=C>>>26-v&67108863,v+=24,v>=26&&(v-=26,z++);return this._strip()};function d(x,h){var w=x.charCodeAt(h);if(w>=48&&w<=57)return w-48;if(w>=65&&w<=70)return w-55;if(w>=97&&w<=102)return w-87;i(!1,"Invalid character in "+x)}function y(x,h,w){var E=d(x,w);return w-1>=h&&(E|=d(x,w-1)<<4),E}o.prototype._parseHex=function(h,w,E){this.length=Math.ceil((h.length-w)/6),this.words=new Array(this.length);for(var B=0;B<this.length;B++)this.words[B]=0;var z=0,C=0,v;if(E==="be")for(B=h.length-1;B>=w;B-=2)v=y(h,w,B)<<z,this.words[C]|=v&67108863,z>=18?(z-=18,C+=1,this.words[C]|=v>>>26):z+=8;else{var m=h.length-w;for(B=m%2===0?w+1:w;B<h.length;B+=2)v=y(h,w,B)<<z,this.words[C]|=v&67108863,z>=18?(z-=18,C+=1,this.words[C]|=v>>>26):z+=8}this._strip()};function _(x,h,w,E){for(var B=0,z=0,C=Math.min(x.length,w),v=h;v<C;v++){var m=x.charCodeAt(v)-48;B*=E,m>=49?z=m-49+10:m>=17?z=m-17+10:z=m,i(m>=0&&z<E,"Invalid character"),B+=z}return B}o.prototype._parseBase=function(h,w,E){this.words=[0],this.length=1;for(var B=0,z=1;z<=67108863;z*=w)B++;B--,z=z/w|0;for(var C=h.length-E,v=C%B,m=Math.min(C,C-v)+E,f=0,g=E;g<m;g+=B)f=_(h,g,g+B,w),this.imuln(z),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(v!==0){var O=1;for(f=_(h,g,h.length,w),g=0;g<v;g++)O*=w;this.imuln(O),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this._strip()},o.prototype.copy=function(h){h.words=new Array(this.length);for(var w=0;w<this.length;w++)h.words[w]=this.words[w];h.length=this.length,h.negative=this.negative,h.red=this.red};function S(x,h){x.words=h.words,x.length=h.length,x.negative=h.negative,x.red=h.red}if(o.prototype._move=function(h){S(h,this)},o.prototype.clone=function(){var h=new o(null);return this.copy(h),h},o.prototype._expand=function(h){for(;this.length<h;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=I}catch{o.prototype.inspect=I}else o.prototype.inspect=I;function I(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var k=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],R=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(h,w){h=h||10,w=w|0||1;var E;if(h===16||h==="hex"){E="";for(var B=0,z=0,C=0;C<this.length;C++){var v=this.words[C],m=((v<<B|z)&16777215).toString(16);z=v>>>24-B&16777215,B+=2,B>=26&&(B-=26,C--),z!==0||C!==this.length-1?E=k[6-m.length]+m+E:E=m+E}for(z!==0&&(E=z.toString(16)+E);E.length%w!==0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}if(h===(h|0)&&h>=2&&h<=36){var f=R[h],g=M[h];E="";var O=this.clone();for(O.negative=0;!O.isZero();){var L=O.modrn(g).toString(h);O=O.idivn(g),O.isZero()?E=L+E:E=k[f-L.length]+L+E}for(this.isZero()&&(E="0"+E);E.length%w!==0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}i(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var h=this.words[0];return this.length===2?h+=this.words[1]*67108864:this.length===3&&this.words[2]===1?h+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-h:h},o.prototype.toJSON=function(){return this.toString(16,2)},l&&(o.prototype.toBuffer=function(h,w){return this.toArrayLike(l,h,w)}),o.prototype.toArray=function(h,w){return this.toArrayLike(Array,h,w)};var U=function(h,w){return h.allocUnsafe?h.allocUnsafe(w):new h(w)};o.prototype.toArrayLike=function(h,w,E){this._strip();var B=this.byteLength(),z=E||Math.max(1,B);i(B<=z,"byte array longer than desired length"),i(z>0,"Requested array length <= 0");var C=U(h,z),v=w==="le"?"LE":"BE";return this["_toArrayLike"+v](C,B),C},o.prototype._toArrayLikeLE=function(h,w){for(var E=0,B=0,z=0,C=0;z<this.length;z++){var v=this.words[z]<<C|B;h[E++]=v&255,E<h.length&&(h[E++]=v>>8&255),E<h.length&&(h[E++]=v>>16&255),C===6?(E<h.length&&(h[E++]=v>>24&255),B=0,C=0):(B=v>>>24,C+=2)}if(E<h.length)for(h[E++]=B;E<h.length;)h[E++]=0},o.prototype._toArrayLikeBE=function(h,w){for(var E=h.length-1,B=0,z=0,C=0;z<this.length;z++){var v=this.words[z]<<C|B;h[E--]=v&255,E>=0&&(h[E--]=v>>8&255),E>=0&&(h[E--]=v>>16&255),C===6?(E>=0&&(h[E--]=v>>24&255),B=0,C=0):(B=v>>>24,C+=2)}if(E>=0)for(h[E--]=B;E>=0;)h[E--]=0},Math.clz32?o.prototype._countBits=function(h){return 32-Math.clz32(h)}:o.prototype._countBits=function(h){var w=h,E=0;return w>=4096&&(E+=13,w>>>=13),w>=64&&(E+=7,w>>>=7),w>=8&&(E+=4,w>>>=4),w>=2&&(E+=2,w>>>=2),E+w},o.prototype._zeroBits=function(h){if(h===0)return 26;var w=h,E=0;return(w&8191)===0&&(E+=13,w>>>=13),(w&127)===0&&(E+=7,w>>>=7),(w&15)===0&&(E+=4,w>>>=4),(w&3)===0&&(E+=2,w>>>=2),(w&1)===0&&E++,E},o.prototype.bitLength=function(){var h=this.words[this.length-1],w=this._countBits(h);return(this.length-1)*26+w};function D(x){for(var h=new Array(x.bitLength()),w=0;w<h.length;w++){var E=w/26|0,B=w%26;h[w]=x.words[E]>>>B&1}return h}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var h=0,w=0;w<this.length;w++){var E=this._zeroBits(this.words[w]);if(h+=E,E!==26)break}return h},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(h){return this.negative!==0?this.abs().inotn(h).iaddn(1):this.clone()},o.prototype.fromTwos=function(h){return this.testn(h-1)?this.notn(h).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(h){for(;this.length<h.length;)this.words[this.length++]=0;for(var w=0;w<h.length;w++)this.words[w]=this.words[w]|h.words[w];return this._strip()},o.prototype.ior=function(h){return i((this.negative|h.negative)===0),this.iuor(h)},o.prototype.or=function(h){return this.length>h.length?this.clone().ior(h):h.clone().ior(this)},o.prototype.uor=function(h){return this.length>h.length?this.clone().iuor(h):h.clone().iuor(this)},o.prototype.iuand=function(h){var w;this.length>h.length?w=h:w=this;for(var E=0;E<w.length;E++)this.words[E]=this.words[E]&h.words[E];return this.length=w.length,this._strip()},o.prototype.iand=function(h){return i((this.negative|h.negative)===0),this.iuand(h)},o.prototype.and=function(h){return this.length>h.length?this.clone().iand(h):h.clone().iand(this)},o.prototype.uand=function(h){return this.length>h.length?this.clone().iuand(h):h.clone().iuand(this)},o.prototype.iuxor=function(h){var w,E;this.length>h.length?(w=this,E=h):(w=h,E=this);for(var B=0;B<E.length;B++)this.words[B]=w.words[B]^E.words[B];if(this!==w)for(;B<w.length;B++)this.words[B]=w.words[B];return this.length=w.length,this._strip()},o.prototype.ixor=function(h){return i((this.negative|h.negative)===0),this.iuxor(h)},o.prototype.xor=function(h){return this.length>h.length?this.clone().ixor(h):h.clone().ixor(this)},o.prototype.uxor=function(h){return this.length>h.length?this.clone().iuxor(h):h.clone().iuxor(this)},o.prototype.inotn=function(h){i(typeof h=="number"&&h>=0);var w=Math.ceil(h/26)|0,E=h%26;this._expand(w),E>0&&w--;for(var B=0;B<w;B++)this.words[B]=~this.words[B]&67108863;return E>0&&(this.words[B]=~this.words[B]&67108863>>26-E),this._strip()},o.prototype.notn=function(h){return this.clone().inotn(h)},o.prototype.setn=function(h,w){i(typeof h=="number"&&h>=0);var E=h/26|0,B=h%26;return this._expand(E+1),w?this.words[E]=this.words[E]|1<<B:this.words[E]=this.words[E]&~(1<<B),this._strip()},o.prototype.iadd=function(h){var w;if(this.negative!==0&&h.negative===0)return this.negative=0,w=this.isub(h),this.negative^=1,this._normSign();if(this.negative===0&&h.negative!==0)return h.negative=0,w=this.isub(h),h.negative=1,w._normSign();var E,B;this.length>h.length?(E=this,B=h):(E=h,B=this);for(var z=0,C=0;C<B.length;C++)w=(E.words[C]|0)+(B.words[C]|0)+z,this.words[C]=w&67108863,z=w>>>26;for(;z!==0&&C<E.length;C++)w=(E.words[C]|0)+z,this.words[C]=w&67108863,z=w>>>26;if(this.length=E.length,z!==0)this.words[this.length]=z,this.length++;else if(E!==this)for(;C<E.length;C++)this.words[C]=E.words[C];return this},o.prototype.add=function(h){var w;return h.negative!==0&&this.negative===0?(h.negative=0,w=this.sub(h),h.negative^=1,w):h.negative===0&&this.negative!==0?(this.negative=0,w=h.sub(this),this.negative=1,w):this.length>h.length?this.clone().iadd(h):h.clone().iadd(this)},o.prototype.isub=function(h){if(h.negative!==0){h.negative=0;var w=this.iadd(h);return h.negative=1,w._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(h),this.negative=1,this._normSign();var E=this.cmp(h);if(E===0)return this.negative=0,this.length=1,this.words[0]=0,this;var B,z;E>0?(B=this,z=h):(B=h,z=this);for(var C=0,v=0;v<z.length;v++)w=(B.words[v]|0)-(z.words[v]|0)+C,C=w>>26,this.words[v]=w&67108863;for(;C!==0&&v<B.length;v++)w=(B.words[v]|0)+C,C=w>>26,this.words[v]=w&67108863;if(C===0&&v<B.length&&B!==this)for(;v<B.length;v++)this.words[v]=B.words[v];return this.length=Math.max(this.length,v),B!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(h){return this.clone().isub(h)};function q(x,h,w){w.negative=h.negative^x.negative;var E=x.length+h.length|0;w.length=E,E=E-1|0;var B=x.words[0]|0,z=h.words[0]|0,C=B*z,v=C&67108863,m=C/67108864|0;w.words[0]=v;for(var f=1;f<E;f++){for(var g=m>>>26,O=m&67108863,L=Math.min(f,h.length-1),Y=Math.max(0,f-x.length+1);Y<=L;Y++){var et=f-Y|0;B=x.words[et]|0,z=h.words[Y]|0,C=B*z+O,g+=C/67108864|0,O=C&67108863}w.words[f]=O|0,m=g|0}return m!==0?w.words[f]=m|0:w.length--,w._strip()}var G=function(h,w,E){var B=h.words,z=w.words,C=E.words,v=0,m,f,g,O=B[0]|0,L=O&8191,Y=O>>>13,et=B[1]|0,bt=et&8191,_t=et>>>13,Lt=B[2]|0,Gt=Lt&8191,qt=Lt>>>13,je=B[3]|0,Yt=je&8191,he=je>>>13,Xn=B[4]|0,ge=Xn&8191,Oe=Xn>>>13,kr=B[5]|0,be=kr&8191,pe=kr>>>13,En=B[6]|0,_e=En&8191,Pt=En>>>13,yn=B[7]|0,Ne=yn&8191,H=yn>>>13,A=B[8]|0,T=A&8191,K=A>>>13,rt=B[9]|0,at=rt&8191,mt=rt>>>13,Ut=z[0]|0,zt=Ut&8191,Bt=Ut>>>13,we=z[1]|0,Kt=we&8191,Me=we>>>13,Es=z[2]|0,Ue=Es&8191,De=Es>>>13,Ir=z[3]|0,Le=Ir&8191,Ie=Ir>>>13,Pu=z[4]|0,Fe=Pu&8191,qe=Pu>>>13,Bi=z[5]|0,Je=Bi&8191,Ye=Bi>>>13,wo=z[6]|0,Ze=wo&8191,Pe=wo>>>13,sa=z[7]|0,Xe=sa&8191,$e=sa>>>13,wr=z[8]|0,Jt=wr&8191,se=wr>>>13,$r=z[9]|0,Ke=$r&8191,tn=$r>>>13;E.negative=h.negative^w.negative,E.length=19,m=Math.imul(L,zt),f=Math.imul(L,Bt),f=f+Math.imul(Y,zt)|0,g=Math.imul(Y,Bt);var vo=(v+m|0)+((f&8191)<<13)|0;v=(g+(f>>>13)|0)+(vo>>>26)|0,vo&=67108863,m=Math.imul(bt,zt),f=Math.imul(bt,Bt),f=f+Math.imul(_t,zt)|0,g=Math.imul(_t,Bt),m=m+Math.imul(L,Kt)|0,f=f+Math.imul(L,Me)|0,f=f+Math.imul(Y,Kt)|0,g=g+Math.imul(Y,Me)|0;var aa=(v+m|0)+((f&8191)<<13)|0;v=(g+(f>>>13)|0)+(aa>>>26)|0,aa&=67108863,m=Math.imul(Gt,zt),f=Math.imul(Gt,Bt),f=f+Math.imul(qt,zt)|0,g=Math.imul(qt,Bt),m=m+Math.imul(bt,Kt)|0,f=f+Math.imul(bt,Me)|0,f=f+Math.imul(_t,Kt)|0,g=g+Math.imul(_t,Me)|0,m=m+Math.imul(L,Ue)|0,f=f+Math.imul(L,De)|0,f=f+Math.imul(Y,Ue)|0,g=g+Math.imul(Y,De)|0;var Wr=(v+m|0)+((f&8191)<<13)|0;v=(g+(f>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,m=Math.imul(Yt,zt),f=Math.imul(Yt,Bt),f=f+Math.imul(he,zt)|0,g=Math.imul(he,Bt),m=m+Math.imul(Gt,Kt)|0,f=f+Math.imul(Gt,Me)|0,f=f+Math.imul(qt,Kt)|0,g=g+Math.imul(qt,Me)|0,m=m+Math.imul(bt,Ue)|0,f=f+Math.imul(bt,De)|0,f=f+Math.imul(_t,Ue)|0,g=g+Math.imul(_t,De)|0,m=m+Math.imul(L,Le)|0,f=f+Math.imul(L,Ie)|0,f=f+Math.imul(Y,Le)|0,g=g+Math.imul(Y,Ie)|0;var Ss=(v+m|0)+((f&8191)<<13)|0;v=(g+(f>>>13)|0)+(Ss>>>26)|0,Ss&=67108863,m=Math.imul(ge,zt),f=Math.imul(ge,Bt),f=f+Math.imul(Oe,zt)|0,g=Math.imul(Oe,Bt),m=m+Math.imul(Yt,Kt)|0,f=f+Math.imul(Yt,Me)|0,f=f+Math.imul(he,Kt)|0,g=g+Math.imul(he,Me)|0,m=m+Math.imul(Gt,Ue)|0,f=f+Math.imul(Gt,De)|0,f=f+Math.imul(qt,Ue)|0,g=g+Math.imul(qt,De)|0,m=m+Math.imul(bt,Le)|0,f=f+Math.imul(bt,Ie)|0,f=f+Math.imul(_t,Le)|0,g=g+Math.imul(_t,Ie)|0,m=m+Math.imul(L,Fe)|0,f=f+Math.imul(L,qe)|0,f=f+Math.imul(Y,Fe)|0,g=g+Math.imul(Y,qe)|0;var Cr=(v+m|0)+((f&8191)<<13)|0;v=(g+(f>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,m=Math.imul(be,zt),f=Math.imul(be,Bt),f=f+Math.imul(pe,zt)|0,g=Math.imul(pe,Bt),m=m+Math.imul(ge,Kt)|0,f=f+Math.imul(ge,Me)|0,f=f+Math.imul(Oe,Kt)|0,g=g+Math.imul(Oe,Me)|0,m=m+Math.imul(Yt,Ue)|0,f=f+Math.imul(Yt,De)|0,f=f+Math.imul(he,Ue)|0,g=g+Math.imul(he,De)|0,m=m+Math.imul(Gt,Le)|0,f=f+Math.imul(Gt,Ie)|0,f=f+Math.imul(qt,Le)|0,g=g+Math.imul(qt,Ie)|0,m=m+Math.imul(bt,Fe)|0,f=f+Math.imul(bt,qe)|0,f=f+Math.imul(_t,Fe)|0,g=g+Math.imul(_t,qe)|0,m=m+Math.imul(L,Je)|0,f=f+Math.imul(L,Ye)|0,f=f+Math.imul(Y,Je)|0,g=g+Math.imul(Y,Ye)|0;var Br=(v+m|0)+((f&8191)<<13)|0;v=(g+(f>>>13)|0)+(Br>>>26)|0,Br&=67108863,m=Math.imul(_e,zt),f=Math.imul(_e,Bt),f=f+Math.imul(Pt,zt)|0,g=Math.imul(Pt,Bt),m=m+Math.imul(be,Kt)|0,f=f+Math.imul(be,Me)|0,f=f+Math.imul(pe,Kt)|0,g=g+Math.imul(pe,Me)|0,m=m+Math.imul(ge,Ue)|0,f=f+Math.imul(ge,De)|0,f=f+Math.imul(Oe,Ue)|0,g=g+Math.imul(Oe,De)|0,m=m+Math.imul(Yt,Le)|0,f=f+Math.imul(Yt,Ie)|0,f=f+Math.imul(he,Le)|0,g=g+Math.imul(he,Ie)|0,m=m+Math.imul(Gt,Fe)|0,f=f+Math.imul(Gt,qe)|0,f=f+Math.imul(qt,Fe)|0,g=g+Math.imul(qt,qe)|0,m=m+Math.imul(bt,Je)|0,f=f+Math.imul(bt,Ye)|0,f=f+Math.imul(_t,Je)|0,g=g+Math.imul(_t,Ye)|0,m=m+Math.imul(L,Ze)|0,f=f+Math.imul(L,Pe)|0,f=f+Math.imul(Y,Ze)|0,g=g+Math.imul(Y,Pe)|0;var Qr=(v+m|0)+((f&8191)<<13)|0;v=(g+(f>>>13)|0)+(Qr>>>26)|0,Qr&=67108863,m=Math.imul(Ne,zt),f=Math.imul(Ne,Bt),f=f+Math.imul(H,zt)|0,g=Math.imul(H,Bt),m=m+Math.imul(_e,Kt)|0,f=f+Math.imul(_e,Me)|0,f=f+Math.imul(Pt,Kt)|0,g=g+Math.imul(Pt,Me)|0,m=m+Math.imul(be,Ue)|0,f=f+Math.imul(be,De)|0,f=f+Math.imul(pe,Ue)|0,g=g+Math.imul(pe,De)|0,m=m+Math.imul(ge,Le)|0,f=f+Math.imul(ge,Ie)|0,f=f+Math.imul(Oe,Le)|0,g=g+Math.imul(Oe,Ie)|0,m=m+Math.imul(Yt,Fe)|0,f=f+Math.imul(Yt,qe)|0,f=f+Math.imul(he,Fe)|0,g=g+Math.imul(he,qe)|0,m=m+Math.imul(Gt,Je)|0,f=f+Math.imul(Gt,Ye)|0,f=f+Math.imul(qt,Je)|0,g=g+Math.imul(qt,Ye)|0,m=m+Math.imul(bt,Ze)|0,f=f+Math.imul(bt,Pe)|0,f=f+Math.imul(_t,Ze)|0,g=g+Math.imul(_t,Pe)|0,m=m+Math.imul(L,Xe)|0,f=f+Math.imul(L,$e)|0,f=f+Math.imul(Y,Xe)|0,g=g+Math.imul(Y,$e)|0;var Mr=(v+m|0)+((f&8191)<<13)|0;v=(g+(f>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,m=Math.imul(T,zt),f=Math.imul(T,Bt),f=f+Math.imul(K,zt)|0,g=Math.imul(K,Bt),m=m+Math.imul(Ne,Kt)|0,f=f+Math.imul(Ne,Me)|0,f=f+Math.imul(H,Kt)|0,g=g+Math.imul(H,Me)|0,m=m+Math.imul(_e,Ue)|0,f=f+Math.imul(_e,De)|0,f=f+Math.imul(Pt,Ue)|0,g=g+Math.imul(Pt,De)|0,m=m+Math.imul(be,Le)|0,f=f+Math.imul(be,Ie)|0,f=f+Math.imul(pe,Le)|0,g=g+Math.imul(pe,Ie)|0,m=m+Math.imul(ge,Fe)|0,f=f+Math.imul(ge,qe)|0,f=f+Math.imul(Oe,Fe)|0,g=g+Math.imul(Oe,qe)|0,m=m+Math.imul(Yt,Je)|0,f=f+Math.imul(Yt,Ye)|0,f=f+Math.imul(he,Je)|0,g=g+Math.imul(he,Ye)|0,m=m+Math.imul(Gt,Ze)|0,f=f+Math.imul(Gt,Pe)|0,f=f+Math.imul(qt,Ze)|0,g=g+Math.imul(qt,Pe)|0,m=m+Math.imul(bt,Xe)|0,f=f+Math.imul(bt,$e)|0,f=f+Math.imul(_t,Xe)|0,g=g+Math.imul(_t,$e)|0,m=m+Math.imul(L,Jt)|0,f=f+Math.imul(L,se)|0,f=f+Math.imul(Y,Jt)|0,g=g+Math.imul(Y,se)|0;var en=(v+m|0)+((f&8191)<<13)|0;v=(g+(f>>>13)|0)+(en>>>26)|0,en&=67108863,m=Math.imul(at,zt),f=Math.imul(at,Bt),f=f+Math.imul(mt,zt)|0,g=Math.imul(mt,Bt),m=m+Math.imul(T,Kt)|0,f=f+Math.imul(T,Me)|0,f=f+Math.imul(K,Kt)|0,g=g+Math.imul(K,Me)|0,m=m+Math.imul(Ne,Ue)|0,f=f+Math.imul(Ne,De)|0,f=f+Math.imul(H,Ue)|0,g=g+Math.imul(H,De)|0,m=m+Math.imul(_e,Le)|0,f=f+Math.imul(_e,Ie)|0,f=f+Math.imul(Pt,Le)|0,g=g+Math.imul(Pt,Ie)|0,m=m+Math.imul(be,Fe)|0,f=f+Math.imul(be,qe)|0,f=f+Math.imul(pe,Fe)|0,g=g+Math.imul(pe,qe)|0,m=m+Math.imul(ge,Je)|0,f=f+Math.imul(ge,Ye)|0,f=f+Math.imul(Oe,Je)|0,g=g+Math.imul(Oe,Ye)|0,m=m+Math.imul(Yt,Ze)|0,f=f+Math.imul(Yt,Pe)|0,f=f+Math.imul(he,Ze)|0,g=g+Math.imul(he,Pe)|0,m=m+Math.imul(Gt,Xe)|0,f=f+Math.imul(Gt,$e)|0,f=f+Math.imul(qt,Xe)|0,g=g+Math.imul(qt,$e)|0,m=m+Math.imul(bt,Jt)|0,f=f+Math.imul(bt,se)|0,f=f+Math.imul(_t,Jt)|0,g=g+Math.imul(_t,se)|0,m=m+Math.imul(L,Ke)|0,f=f+Math.imul(L,tn)|0,f=f+Math.imul(Y,Ke)|0,g=g+Math.imul(Y,tn)|0;var oa=(v+m|0)+((f&8191)<<13)|0;v=(g+(f>>>13)|0)+(oa>>>26)|0,oa&=67108863,m=Math.imul(at,Kt),f=Math.imul(at,Me),f=f+Math.imul(mt,Kt)|0,g=Math.imul(mt,Me),m=m+Math.imul(T,Ue)|0,f=f+Math.imul(T,De)|0,f=f+Math.imul(K,Ue)|0,g=g+Math.imul(K,De)|0,m=m+Math.imul(Ne,Le)|0,f=f+Math.imul(Ne,Ie)|0,f=f+Math.imul(H,Le)|0,g=g+Math.imul(H,Ie)|0,m=m+Math.imul(_e,Fe)|0,f=f+Math.imul(_e,qe)|0,f=f+Math.imul(Pt,Fe)|0,g=g+Math.imul(Pt,qe)|0,m=m+Math.imul(be,Je)|0,f=f+Math.imul(be,Ye)|0,f=f+Math.imul(pe,Je)|0,g=g+Math.imul(pe,Ye)|0,m=m+Math.imul(ge,Ze)|0,f=f+Math.imul(ge,Pe)|0,f=f+Math.imul(Oe,Ze)|0,g=g+Math.imul(Oe,Pe)|0,m=m+Math.imul(Yt,Xe)|0,f=f+Math.imul(Yt,$e)|0,f=f+Math.imul(he,Xe)|0,g=g+Math.imul(he,$e)|0,m=m+Math.imul(Gt,Jt)|0,f=f+Math.imul(Gt,se)|0,f=f+Math.imul(qt,Jt)|0,g=g+Math.imul(qt,se)|0,m=m+Math.imul(bt,Ke)|0,f=f+Math.imul(bt,tn)|0,f=f+Math.imul(_t,Ke)|0,g=g+Math.imul(_t,tn)|0;var ua=(v+m|0)+((f&8191)<<13)|0;v=(g+(f>>>13)|0)+(ua>>>26)|0,ua&=67108863,m=Math.imul(at,Ue),f=Math.imul(at,De),f=f+Math.imul(mt,Ue)|0,g=Math.imul(mt,De),m=m+Math.imul(T,Le)|0,f=f+Math.imul(T,Ie)|0,f=f+Math.imul(K,Le)|0,g=g+Math.imul(K,Ie)|0,m=m+Math.imul(Ne,Fe)|0,f=f+Math.imul(Ne,qe)|0,f=f+Math.imul(H,Fe)|0,g=g+Math.imul(H,qe)|0,m=m+Math.imul(_e,Je)|0,f=f+Math.imul(_e,Ye)|0,f=f+Math.imul(Pt,Je)|0,g=g+Math.imul(Pt,Ye)|0,m=m+Math.imul(be,Ze)|0,f=f+Math.imul(be,Pe)|0,f=f+Math.imul(pe,Ze)|0,g=g+Math.imul(pe,Pe)|0,m=m+Math.imul(ge,Xe)|0,f=f+Math.imul(ge,$e)|0,f=f+Math.imul(Oe,Xe)|0,g=g+Math.imul(Oe,$e)|0,m=m+Math.imul(Yt,Jt)|0,f=f+Math.imul(Yt,se)|0,f=f+Math.imul(he,Jt)|0,g=g+Math.imul(he,se)|0,m=m+Math.imul(Gt,Ke)|0,f=f+Math.imul(Gt,tn)|0,f=f+Math.imul(qt,Ke)|0,g=g+Math.imul(qt,tn)|0;var vr=(v+m|0)+((f&8191)<<13)|0;v=(g+(f>>>13)|0)+(vr>>>26)|0,vr&=67108863,m=Math.imul(at,Le),f=Math.imul(at,Ie),f=f+Math.imul(mt,Le)|0,g=Math.imul(mt,Ie),m=m+Math.imul(T,Fe)|0,f=f+Math.imul(T,qe)|0,f=f+Math.imul(K,Fe)|0,g=g+Math.imul(K,qe)|0,m=m+Math.imul(Ne,Je)|0,f=f+Math.imul(Ne,Ye)|0,f=f+Math.imul(H,Je)|0,g=g+Math.imul(H,Ye)|0,m=m+Math.imul(_e,Ze)|0,f=f+Math.imul(_e,Pe)|0,f=f+Math.imul(Pt,Ze)|0,g=g+Math.imul(Pt,Pe)|0,m=m+Math.imul(be,Xe)|0,f=f+Math.imul(be,$e)|0,f=f+Math.imul(pe,Xe)|0,g=g+Math.imul(pe,$e)|0,m=m+Math.imul(ge,Jt)|0,f=f+Math.imul(ge,se)|0,f=f+Math.imul(Oe,Jt)|0,g=g+Math.imul(Oe,se)|0,m=m+Math.imul(Yt,Ke)|0,f=f+Math.imul(Yt,tn)|0,f=f+Math.imul(he,Ke)|0,g=g+Math.imul(he,tn)|0;var Ur=(v+m|0)+((f&8191)<<13)|0;v=(g+(f>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,m=Math.imul(at,Fe),f=Math.imul(at,qe),f=f+Math.imul(mt,Fe)|0,g=Math.imul(mt,qe),m=m+Math.imul(T,Je)|0,f=f+Math.imul(T,Ye)|0,f=f+Math.imul(K,Je)|0,g=g+Math.imul(K,Ye)|0,m=m+Math.imul(Ne,Ze)|0,f=f+Math.imul(Ne,Pe)|0,f=f+Math.imul(H,Ze)|0,g=g+Math.imul(H,Pe)|0,m=m+Math.imul(_e,Xe)|0,f=f+Math.imul(_e,$e)|0,f=f+Math.imul(Pt,Xe)|0,g=g+Math.imul(Pt,$e)|0,m=m+Math.imul(be,Jt)|0,f=f+Math.imul(be,se)|0,f=f+Math.imul(pe,Jt)|0,g=g+Math.imul(pe,se)|0,m=m+Math.imul(ge,Ke)|0,f=f+Math.imul(ge,tn)|0,f=f+Math.imul(Oe,Ke)|0,g=g+Math.imul(Oe,tn)|0;var Eo=(v+m|0)+((f&8191)<<13)|0;v=(g+(f>>>13)|0)+(Eo>>>26)|0,Eo&=67108863,m=Math.imul(at,Je),f=Math.imul(at,Ye),f=f+Math.imul(mt,Je)|0,g=Math.imul(mt,Ye),m=m+Math.imul(T,Ze)|0,f=f+Math.imul(T,Pe)|0,f=f+Math.imul(K,Ze)|0,g=g+Math.imul(K,Pe)|0,m=m+Math.imul(Ne,Xe)|0,f=f+Math.imul(Ne,$e)|0,f=f+Math.imul(H,Xe)|0,g=g+Math.imul(H,$e)|0,m=m+Math.imul(_e,Jt)|0,f=f+Math.imul(_e,se)|0,f=f+Math.imul(Pt,Jt)|0,g=g+Math.imul(Pt,se)|0,m=m+Math.imul(be,Ke)|0,f=f+Math.imul(be,tn)|0,f=f+Math.imul(pe,Ke)|0,g=g+Math.imul(pe,tn)|0;var ca=(v+m|0)+((f&8191)<<13)|0;v=(g+(f>>>13)|0)+(ca>>>26)|0,ca&=67108863,m=Math.imul(at,Ze),f=Math.imul(at,Pe),f=f+Math.imul(mt,Ze)|0,g=Math.imul(mt,Pe),m=m+Math.imul(T,Xe)|0,f=f+Math.imul(T,$e)|0,f=f+Math.imul(K,Xe)|0,g=g+Math.imul(K,$e)|0,m=m+Math.imul(Ne,Jt)|0,f=f+Math.imul(Ne,se)|0,f=f+Math.imul(H,Jt)|0,g=g+Math.imul(H,se)|0,m=m+Math.imul(_e,Ke)|0,f=f+Math.imul(_e,tn)|0,f=f+Math.imul(Pt,Ke)|0,g=g+Math.imul(Pt,tn)|0;var la=(v+m|0)+((f&8191)<<13)|0;v=(g+(f>>>13)|0)+(la>>>26)|0,la&=67108863,m=Math.imul(at,Xe),f=Math.imul(at,$e),f=f+Math.imul(mt,Xe)|0,g=Math.imul(mt,$e),m=m+Math.imul(T,Jt)|0,f=f+Math.imul(T,se)|0,f=f+Math.imul(K,Jt)|0,g=g+Math.imul(K,se)|0,m=m+Math.imul(Ne,Ke)|0,f=f+Math.imul(Ne,tn)|0,f=f+Math.imul(H,Ke)|0,g=g+Math.imul(H,tn)|0;var So=(v+m|0)+((f&8191)<<13)|0;v=(g+(f>>>13)|0)+(So>>>26)|0,So&=67108863,m=Math.imul(at,Jt),f=Math.imul(at,se),f=f+Math.imul(mt,Jt)|0,g=Math.imul(mt,se),m=m+Math.imul(T,Ke)|0,f=f+Math.imul(T,tn)|0,f=f+Math.imul(K,Ke)|0,g=g+Math.imul(K,tn)|0;var Mi=(v+m|0)+((f&8191)<<13)|0;v=(g+(f>>>13)|0)+(Mi>>>26)|0,Mi&=67108863,m=Math.imul(at,Ke),f=Math.imul(at,tn),f=f+Math.imul(mt,Ke)|0,g=Math.imul(mt,tn);var Ui=(v+m|0)+((f&8191)<<13)|0;return v=(g+(f>>>13)|0)+(Ui>>>26)|0,Ui&=67108863,C[0]=vo,C[1]=aa,C[2]=Wr,C[3]=Ss,C[4]=Cr,C[5]=Br,C[6]=Qr,C[7]=Mr,C[8]=en,C[9]=oa,C[10]=ua,C[11]=vr,C[12]=Ur,C[13]=Eo,C[14]=ca,C[15]=la,C[16]=So,C[17]=Mi,C[18]=Ui,v!==0&&(C[19]=v,E.length++),E};Math.imul||(G=q);function P(x,h,w){w.negative=h.negative^x.negative,w.length=x.length+h.length;for(var E=0,B=0,z=0;z<w.length-1;z++){var C=B;B=0;for(var v=E&67108863,m=Math.min(z,h.length-1),f=Math.max(0,z-x.length+1);f<=m;f++){var g=z-f,O=x.words[g]|0,L=h.words[f]|0,Y=O*L,et=Y&67108863;C=C+(Y/67108864|0)|0,et=et+v|0,v=et&67108863,C=C+(et>>>26)|0,B+=C>>>26,C&=67108863}w.words[z]=v,E=C,C=B}return E!==0?w.words[z]=E:w.length--,w._strip()}function W(x,h,w){return P(x,h,w)}o.prototype.mulTo=function(h,w){var E,B=this.length+h.length;return this.length===10&&h.length===10?E=G(this,h,w):B<63?E=q(this,h,w):B<1024?E=P(this,h,w):E=W(this,h,w),E},o.prototype.mul=function(h){var w=new o(null);return w.words=new Array(this.length+h.length),this.mulTo(h,w)},o.prototype.mulf=function(h){var w=new o(null);return w.words=new Array(this.length+h.length),W(this,h,w)},o.prototype.imul=function(h){return this.clone().mulTo(h,this)},o.prototype.imuln=function(h){var w=h<0;w&&(h=-h),i(typeof h=="number"),i(h<67108864);for(var E=0,B=0;B<this.length;B++){var z=(this.words[B]|0)*h,C=(z&67108863)+(E&67108863);E>>=26,E+=z/67108864|0,E+=C>>>26,this.words[B]=C&67108863}return E!==0&&(this.words[B]=E,this.length++),this.length=h===0?1:this.length,w?this.ineg():this},o.prototype.muln=function(h){return this.clone().imuln(h)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(h){var w=D(h);if(w.length===0)return new o(1);for(var E=this,B=0;B<w.length&&w[B]===0;B++,E=E.sqr());if(++B<w.length)for(var z=E.sqr();B<w.length;B++,z=z.sqr())w[B]!==0&&(E=E.mul(z));return E},o.prototype.iushln=function(h){i(typeof h=="number"&&h>=0);var w=h%26,E=(h-w)/26,B=67108863>>>26-w<<26-w,z;if(w!==0){var C=0;for(z=0;z<this.length;z++){var v=this.words[z]&B,m=(this.words[z]|0)-v<<w;this.words[z]=m|C,C=v>>>26-w}C&&(this.words[z]=C,this.length++)}if(E!==0){for(z=this.length-1;z>=0;z--)this.words[z+E]=this.words[z];for(z=0;z<E;z++)this.words[z]=0;this.length+=E}return this._strip()},o.prototype.ishln=function(h){return i(this.negative===0),this.iushln(h)},o.prototype.iushrn=function(h,w,E){i(typeof h=="number"&&h>=0);var B;w?B=(w-w%26)/26:B=0;var z=h%26,C=Math.min((h-z)/26,this.length),v=67108863^67108863>>>z<<z,m=E;if(B-=C,B=Math.max(0,B),m){for(var f=0;f<C;f++)m.words[f]=this.words[f];m.length=C}if(C!==0)if(this.length>C)for(this.length-=C,f=0;f<this.length;f++)this.words[f]=this.words[f+C];else this.words[0]=0,this.length=1;var g=0;for(f=this.length-1;f>=0&&(g!==0||f>=B);f--){var O=this.words[f]|0;this.words[f]=g<<26-z|O>>>z,g=O&v}return m&&g!==0&&(m.words[m.length++]=g),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(h,w,E){return i(this.negative===0),this.iushrn(h,w,E)},o.prototype.shln=function(h){return this.clone().ishln(h)},o.prototype.ushln=function(h){return this.clone().iushln(h)},o.prototype.shrn=function(h){return this.clone().ishrn(h)},o.prototype.ushrn=function(h){return this.clone().iushrn(h)},o.prototype.testn=function(h){i(typeof h=="number"&&h>=0);var w=h%26,E=(h-w)/26,B=1<<w;if(this.length<=E)return!1;var z=this.words[E];return!!(z&B)},o.prototype.imaskn=function(h){i(typeof h=="number"&&h>=0);var w=h%26,E=(h-w)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=E)return this;if(w!==0&&E++,this.length=Math.min(E,this.length),w!==0){var B=67108863^67108863>>>w<<w;this.words[this.length-1]&=B}return this._strip()},o.prototype.maskn=function(h){return this.clone().imaskn(h)},o.prototype.iaddn=function(h){return i(typeof h=="number"),i(h<67108864),h<0?this.isubn(-h):this.negative!==0?this.length===1&&(this.words[0]|0)<=h?(this.words[0]=h-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(h),this.negative=1,this):this._iaddn(h)},o.prototype._iaddn=function(h){this.words[0]+=h;for(var w=0;w<this.length&&this.words[w]>=67108864;w++)this.words[w]-=67108864,w===this.length-1?this.words[w+1]=1:this.words[w+1]++;return this.length=Math.max(this.length,w+1),this},o.prototype.isubn=function(h){if(i(typeof h=="number"),i(h<67108864),h<0)return this.iaddn(-h);if(this.negative!==0)return this.negative=0,this.iaddn(h),this.negative=1,this;if(this.words[0]-=h,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var w=0;w<this.length&&this.words[w]<0;w++)this.words[w]+=67108864,this.words[w+1]-=1;return this._strip()},o.prototype.addn=function(h){return this.clone().iaddn(h)},o.prototype.subn=function(h){return this.clone().isubn(h)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(h,w,E){var B=h.length+E,z;this._expand(B);var C,v=0;for(z=0;z<h.length;z++){C=(this.words[z+E]|0)+v;var m=(h.words[z]|0)*w;C-=m&67108863,v=(C>>26)-(m/67108864|0),this.words[z+E]=C&67108863}for(;z<this.length-E;z++)C=(this.words[z+E]|0)+v,v=C>>26,this.words[z+E]=C&67108863;if(v===0)return this._strip();for(i(v===-1),v=0,z=0;z<this.length;z++)C=-(this.words[z]|0)+v,v=C>>26,this.words[z]=C&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(h,w){var E=this.length-h.length,B=this.clone(),z=h,C=z.words[z.length-1]|0,v=this._countBits(C);E=26-v,E!==0&&(z=z.ushln(E),B.iushln(E),C=z.words[z.length-1]|0);var m=B.length-z.length,f;if(w!=="mod"){f=new o(null),f.length=m+1,f.words=new Array(f.length);for(var g=0;g<f.length;g++)f.words[g]=0}var O=B.clone()._ishlnsubmul(z,1,m);O.negative===0&&(B=O,f&&(f.words[m]=1));for(var L=m-1;L>=0;L--){var Y=(B.words[z.length+L]|0)*67108864+(B.words[z.length+L-1]|0);for(Y=Math.min(Y/C|0,67108863),B._ishlnsubmul(z,Y,L);B.negative!==0;)Y--,B.negative=0,B._ishlnsubmul(z,1,L),B.isZero()||(B.negative^=1);f&&(f.words[L]=Y)}return f&&f._strip(),B._strip(),w!=="div"&&E!==0&&B.iushrn(E),{div:f||null,mod:B}},o.prototype.divmod=function(h,w,E){if(i(!h.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var B,z,C;return this.negative!==0&&h.negative===0?(C=this.neg().divmod(h,w),w!=="mod"&&(B=C.div.neg()),w!=="div"&&(z=C.mod.neg(),E&&z.negative!==0&&z.iadd(h)),{div:B,mod:z}):this.negative===0&&h.negative!==0?(C=this.divmod(h.neg(),w),w!=="mod"&&(B=C.div.neg()),{div:B,mod:C.mod}):(this.negative&h.negative)!==0?(C=this.neg().divmod(h.neg(),w),w!=="div"&&(z=C.mod.neg(),E&&z.negative!==0&&z.isub(h)),{div:C.div,mod:z}):h.length>this.length||this.cmp(h)<0?{div:new o(0),mod:this}:h.length===1?w==="div"?{div:this.divn(h.words[0]),mod:null}:w==="mod"?{div:null,mod:new o(this.modrn(h.words[0]))}:{div:this.divn(h.words[0]),mod:new o(this.modrn(h.words[0]))}:this._wordDiv(h,w)},o.prototype.div=function(h){return this.divmod(h,"div",!1).div},o.prototype.mod=function(h){return this.divmod(h,"mod",!1).mod},o.prototype.umod=function(h){return this.divmod(h,"mod",!0).mod},o.prototype.divRound=function(h){var w=this.divmod(h);if(w.mod.isZero())return w.div;var E=w.div.negative!==0?w.mod.isub(h):w.mod,B=h.ushrn(1),z=h.andln(1),C=E.cmp(B);return C<0||z===1&&C===0?w.div:w.div.negative!==0?w.div.isubn(1):w.div.iaddn(1)},o.prototype.modrn=function(h){var w=h<0;w&&(h=-h),i(h<=67108863);for(var E=(1<<26)%h,B=0,z=this.length-1;z>=0;z--)B=(E*B+(this.words[z]|0))%h;return w?-B:B},o.prototype.modn=function(h){return this.modrn(h)},o.prototype.idivn=function(h){var w=h<0;w&&(h=-h),i(h<=67108863);for(var E=0,B=this.length-1;B>=0;B--){var z=(this.words[B]|0)+E*67108864;this.words[B]=z/h|0,E=z%h}return this._strip(),w?this.ineg():this},o.prototype.divn=function(h){return this.clone().idivn(h)},o.prototype.egcd=function(h){i(h.negative===0),i(!h.isZero());var w=this,E=h.clone();w.negative!==0?w=w.umod(h):w=w.clone();for(var B=new o(1),z=new o(0),C=new o(0),v=new o(1),m=0;w.isEven()&&E.isEven();)w.iushrn(1),E.iushrn(1),++m;for(var f=E.clone(),g=w.clone();!w.isZero();){for(var O=0,L=1;(w.words[0]&L)===0&&O<26;++O,L<<=1);if(O>0)for(w.iushrn(O);O-- >0;)(B.isOdd()||z.isOdd())&&(B.iadd(f),z.isub(g)),B.iushrn(1),z.iushrn(1);for(var Y=0,et=1;(E.words[0]&et)===0&&Y<26;++Y,et<<=1);if(Y>0)for(E.iushrn(Y);Y-- >0;)(C.isOdd()||v.isOdd())&&(C.iadd(f),v.isub(g)),C.iushrn(1),v.iushrn(1);w.cmp(E)>=0?(w.isub(E),B.isub(C),z.isub(v)):(E.isub(w),C.isub(B),v.isub(z))}return{a:C,b:v,gcd:E.iushln(m)}},o.prototype._invmp=function(h){i(h.negative===0),i(!h.isZero());var w=this,E=h.clone();w.negative!==0?w=w.umod(h):w=w.clone();for(var B=new o(1),z=new o(0),C=E.clone();w.cmpn(1)>0&&E.cmpn(1)>0;){for(var v=0,m=1;(w.words[0]&m)===0&&v<26;++v,m<<=1);if(v>0)for(w.iushrn(v);v-- >0;)B.isOdd()&&B.iadd(C),B.iushrn(1);for(var f=0,g=1;(E.words[0]&g)===0&&f<26;++f,g<<=1);if(f>0)for(E.iushrn(f);f-- >0;)z.isOdd()&&z.iadd(C),z.iushrn(1);w.cmp(E)>=0?(w.isub(E),B.isub(z)):(E.isub(w),z.isub(B))}var O;return w.cmpn(1)===0?O=B:O=z,O.cmpn(0)<0&&O.iadd(h),O},o.prototype.gcd=function(h){if(this.isZero())return h.abs();if(h.isZero())return this.abs();var w=this.clone(),E=h.clone();w.negative=0,E.negative=0;for(var B=0;w.isEven()&&E.isEven();B++)w.iushrn(1),E.iushrn(1);do{for(;w.isEven();)w.iushrn(1);for(;E.isEven();)E.iushrn(1);var z=w.cmp(E);if(z<0){var C=w;w=E,E=C}else if(z===0||E.cmpn(1)===0)break;w.isub(E)}while(!0);return E.iushln(B)},o.prototype.invm=function(h){return this.egcd(h).a.umod(h)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(h){return this.words[0]&h},o.prototype.bincn=function(h){i(typeof h=="number");var w=h%26,E=(h-w)/26,B=1<<w;if(this.length<=E)return this._expand(E+1),this.words[E]|=B,this;for(var z=B,C=E;z!==0&&C<this.length;C++){var v=this.words[C]|0;v+=z,z=v>>>26,v&=67108863,this.words[C]=v}return z!==0&&(this.words[C]=z,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(h){var w=h<0;if(this.negative!==0&&!w)return-1;if(this.negative===0&&w)return 1;this._strip();var E;if(this.length>1)E=1;else{w&&(h=-h),i(h<=67108863,"Number is too big");var B=this.words[0]|0;E=B===h?0:B<h?-1:1}return this.negative!==0?-E|0:E},o.prototype.cmp=function(h){if(this.negative!==0&&h.negative===0)return-1;if(this.negative===0&&h.negative!==0)return 1;var w=this.ucmp(h);return this.negative!==0?-w|0:w},o.prototype.ucmp=function(h){if(this.length>h.length)return 1;if(this.length<h.length)return-1;for(var w=0,E=this.length-1;E>=0;E--){var B=this.words[E]|0,z=h.words[E]|0;if(B!==z){B<z?w=-1:B>z&&(w=1);break}}return w},o.prototype.gtn=function(h){return this.cmpn(h)===1},o.prototype.gt=function(h){return this.cmp(h)===1},o.prototype.gten=function(h){return this.cmpn(h)>=0},o.prototype.gte=function(h){return this.cmp(h)>=0},o.prototype.ltn=function(h){return this.cmpn(h)===-1},o.prototype.lt=function(h){return this.cmp(h)===-1},o.prototype.lten=function(h){return this.cmpn(h)<=0},o.prototype.lte=function(h){return this.cmp(h)<=0},o.prototype.eqn=function(h){return this.cmpn(h)===0},o.prototype.eq=function(h){return this.cmp(h)===0},o.red=function(h){return new X(h)},o.prototype.toRed=function(h){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),h.convertTo(this)._forceRed(h)},o.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(h){return this.red=h,this},o.prototype.forceRed=function(h){return i(!this.red,"Already a number in reduction context"),this._forceRed(h)},o.prototype.redAdd=function(h){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,h)},o.prototype.redIAdd=function(h){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,h)},o.prototype.redSub=function(h){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,h)},o.prototype.redISub=function(h){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,h)},o.prototype.redShl=function(h){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,h)},o.prototype.redMul=function(h){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.mul(this,h)},o.prototype.redIMul=function(h){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.imul(this,h)},o.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(h){return i(this.red&&!h.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,h)};var nt={k256:null,p224:null,p192:null,p25519:null};function ot(x,h){this.name=x,this.p=new o(h,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}ot.prototype._tmp=function(){var h=new o(null);return h.words=new Array(Math.ceil(this.n/13)),h},ot.prototype.ireduce=function(h){var w=h,E;do this.split(w,this.tmp),w=this.imulK(w),w=w.iadd(this.tmp),E=w.bitLength();while(E>this.n);var B=E<this.n?-1:w.ucmp(this.p);return B===0?(w.words[0]=0,w.length=1):B>0?w.isub(this.p):w.strip!==void 0?w.strip():w._strip(),w},ot.prototype.split=function(h,w){h.iushrn(this.n,0,w)},ot.prototype.imulK=function(h){return h.imul(this.k)};function it(){ot.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}u(it,ot),it.prototype.split=function(h,w){for(var E=4194303,B=Math.min(h.length,9),z=0;z<B;z++)w.words[z]=h.words[z];if(w.length=B,h.length<=9){h.words[0]=0,h.length=1;return}var C=h.words[9];for(w.words[w.length++]=C&E,z=10;z<h.length;z++){var v=h.words[z]|0;h.words[z-10]=(v&E)<<4|C>>>22,C=v}C>>>=22,h.words[z-10]=C,C===0&&h.length>10?h.length-=10:h.length-=9},it.prototype.imulK=function(h){h.words[h.length]=0,h.words[h.length+1]=0,h.length+=2;for(var w=0,E=0;E<h.length;E++){var B=h.words[E]|0;w+=B*977,h.words[E]=w&67108863,w=B*64+(w/67108864|0)}return h.words[h.length-1]===0&&(h.length--,h.words[h.length-1]===0&&h.length--),h};function ut(){ot.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}u(ut,ot);function V(){ot.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}u(V,ot);function F(){ot.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}u(F,ot),F.prototype.imulK=function(h){for(var w=0,E=0;E<h.length;E++){var B=(h.words[E]|0)*19+w,z=B&67108863;B>>>=26,h.words[E]=z,w=B}return w!==0&&(h.words[h.length++]=w),h},o._prime=function(h){if(nt[h])return nt[h];var w;if(h==="k256")w=new it;else if(h==="p224")w=new ut;else if(h==="p192")w=new V;else if(h==="p25519")w=new F;else throw new Error("Unknown prime "+h);return nt[h]=w,w};function X(x){if(typeof x=="string"){var h=o._prime(x);this.m=h.p,this.prime=h}else i(x.gtn(1),"modulus must be greater than 1"),this.m=x,this.prime=null}X.prototype._verify1=function(h){i(h.negative===0,"red works only with positives"),i(h.red,"red works only with red numbers")},X.prototype._verify2=function(h,w){i((h.negative|w.negative)===0,"red works only with positives"),i(h.red&&h.red===w.red,"red works only with red numbers")},X.prototype.imod=function(h){return this.prime?this.prime.ireduce(h)._forceRed(this):(S(h,h.umod(this.m)._forceRed(this)),h)},X.prototype.neg=function(h){return h.isZero()?h.clone():this.m.sub(h)._forceRed(this)},X.prototype.add=function(h,w){this._verify2(h,w);var E=h.add(w);return E.cmp(this.m)>=0&&E.isub(this.m),E._forceRed(this)},X.prototype.iadd=function(h,w){this._verify2(h,w);var E=h.iadd(w);return E.cmp(this.m)>=0&&E.isub(this.m),E},X.prototype.sub=function(h,w){this._verify2(h,w);var E=h.sub(w);return E.cmpn(0)<0&&E.iadd(this.m),E._forceRed(this)},X.prototype.isub=function(h,w){this._verify2(h,w);var E=h.isub(w);return E.cmpn(0)<0&&E.iadd(this.m),E},X.prototype.shl=function(h,w){return this._verify1(h),this.imod(h.ushln(w))},X.prototype.imul=function(h,w){return this._verify2(h,w),this.imod(h.imul(w))},X.prototype.mul=function(h,w){return this._verify2(h,w),this.imod(h.mul(w))},X.prototype.isqr=function(h){return this.imul(h,h.clone())},X.prototype.sqr=function(h){return this.mul(h,h)},X.prototype.sqrt=function(h){if(h.isZero())return h.clone();var w=this.m.andln(3);if(i(w%2===1),w===3){var E=this.m.add(new o(1)).iushrn(2);return this.pow(h,E)}for(var B=this.m.subn(1),z=0;!B.isZero()&&B.andln(1)===0;)z++,B.iushrn(1);i(!B.isZero());var C=new o(1).toRed(this),v=C.redNeg(),m=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);this.pow(f,m).cmp(v)!==0;)f.redIAdd(v);for(var g=this.pow(f,B),O=this.pow(h,B.addn(1).iushrn(1)),L=this.pow(h,B),Y=z;L.cmp(C)!==0;){for(var et=L,bt=0;et.cmp(C)!==0;bt++)et=et.redSqr();i(bt<Y);var _t=this.pow(g,new o(1).iushln(Y-bt-1));O=O.redMul(_t),g=_t.redSqr(),L=L.redMul(g),Y=bt}return O},X.prototype.invm=function(h){var w=h._invmp(this.m);return w.negative!==0?(w.negative=0,this.imod(w).redNeg()):this.imod(w)},X.prototype.pow=function(h,w){if(w.isZero())return new o(1).toRed(this);if(w.cmpn(1)===0)return h.clone();var E=4,B=new Array(1<<E);B[0]=new o(1).toRed(this),B[1]=h;for(var z=2;z<B.length;z++)B[z]=this.mul(B[z-1],h);var C=B[0],v=0,m=0,f=w.bitLength()%26;for(f===0&&(f=26),z=w.length-1;z>=0;z--){for(var g=w.words[z],O=f-1;O>=0;O--){var L=g>>O&1;if(C!==B[0]&&(C=this.sqr(C)),L===0&&v===0){m=0;continue}v<<=1,v|=L,m++,!(m!==E&&(z!==0||O!==0))&&(C=this.mul(C,B[v]),m=0,v=0)}f=26}return C},X.prototype.convertTo=function(h){var w=h.umod(this.m);return w===h?w.clone():w},X.prototype.convertFrom=function(h){var w=h.clone();return w.red=null,w},o.mont=function(h){return new $(h)};function $(x){X.call(this,x),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}u($,X),$.prototype.convertTo=function(h){return this.imod(h.ushln(this.shift))},$.prototype.convertFrom=function(h){var w=this.imod(h.mul(this.rinv));return w.red=null,w},$.prototype.imul=function(h,w){if(h.isZero()||w.isZero())return h.words[0]=0,h.length=1,h;var E=h.imul(w),B=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),z=E.isub(B).iushrn(this.shift),C=z;return z.cmp(this.m)>=0?C=z.isub(this.m):z.cmpn(0)<0&&(C=z.iadd(this.m)),C._forceRed(this)},$.prototype.mul=function(h,w){if(h.isZero()||w.isZero())return new o(0)._forceRed(this);var E=h.mul(w),B=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),z=E.isub(B).iushrn(this.shift),C=z;return z.cmp(this.m)>=0?C=z.isub(this.m):z.cmpn(0)<0&&(C=z.iadd(this.m)),C._forceRed(this)},$.prototype.invm=function(h){var w=this.imod(h._invmp(this.m).mul(this.r2));return w._forceRed(this)}})(s,_2)})(_l)),_l.exports}var w2=V0();const On=Ii(w2);var il={exports:{}};var Dg;function G0(){return Dg||(Dg=1,(function(s,e){var n=U0(),i=n.Buffer;function u(l,d){for(var y in l)d[y]=l[y]}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?s.exports=n:(u(n,e),e.Buffer=o);function o(l,d,y){return i(l,d,y)}o.prototype=Object.create(i.prototype),u(i,o),o.from=function(l,d,y){if(typeof l=="number")throw new TypeError("Argument must not be a number");return i(l,d,y)},o.alloc=function(l,d,y){if(typeof l!="number")throw new TypeError("Argument must be a number");var _=i(l);return d!==void 0?typeof y=="string"?_.fill(d,y):_.fill(d):_.fill(0),_},o.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return i(l)},o.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(l)}})(il,il.exports)),il.exports}var Nh,Lg;function v2(){if(Lg)return Nh;Lg=1;var s=G0().Buffer;function e(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var i=new Uint8Array(256),u=0;u<i.length;u++)i[u]=255;for(var o=0;o<n.length;o++){var l=n.charAt(o),d=l.charCodeAt(0);if(i[d]!==255)throw new TypeError(l+" is ambiguous");i[d]=o}var y=n.length,_=n.charAt(0),S=Math.log(y)/Math.log(256),I=Math.log(256)/Math.log(y);function k(U){if((Array.isArray(U)||U instanceof Uint8Array)&&(U=s.from(U)),!s.isBuffer(U))throw new TypeError("Expected Buffer");if(U.length===0)return"";for(var D=0,q=0,G=0,P=U.length;G!==P&&U[G]===0;)G++,D++;for(var W=(P-G)*I+1>>>0,nt=new Uint8Array(W);G!==P;){for(var ot=U[G],it=0,ut=W-1;(ot!==0||it<q)&&ut!==-1;ut--,it++)ot+=256*nt[ut]>>>0,nt[ut]=ot%y>>>0,ot=ot/y>>>0;if(ot!==0)throw new Error("Non-zero carry");q=it,G++}for(var V=W-q;V!==W&&nt[V]===0;)V++;for(var F=_.repeat(D);V<W;++V)F+=n.charAt(nt[V]);return F}function R(U){if(typeof U!="string")throw new TypeError("Expected String");if(U.length===0)return s.alloc(0);for(var D=0,q=0,G=0;U[D]===_;)q++,D++;for(var P=(U.length-D)*S+1>>>0,W=new Uint8Array(P);D<U.length;){var nt=U.charCodeAt(D);if(nt>255)return;var ot=i[nt];if(ot===255)return;for(var it=0,ut=P-1;(ot!==0||it<G)&&ut!==-1;ut--,it++)ot+=y*W[ut]>>>0,W[ut]=ot%256>>>0,ot=ot/256>>>0;if(ot!==0)throw new Error("Non-zero carry");G=it,D++}for(var V=P-G;V!==P&&W[V]===0;)V++;var F=s.allocUnsafe(q+(P-V));F.fill(0,0,q);for(var X=q;V!==P;)F[X++]=W[V++];return F}function M(U){var D=R(U);if(D)return D;throw new Error("Non-base"+y+" character")}return{encode:k,decodeUnsafe:R,decode:M}}return Nh=e,Nh}var kh,zg;function E2(){if(zg)return kh;zg=1;var s=v2(),e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return kh=s(e),kh}var S2=E2();const Nn=Ii(S2),Tl=b_;var Se={},Ih,Hg;function A2(){if(Hg)return Ih;Hg=1;var s=G0().Buffer;function e(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var i=new Uint8Array(256),u=0;u<i.length;u++)i[u]=255;for(var o=0;o<n.length;o++){var l=n.charAt(o),d=l.charCodeAt(0);if(i[d]!==255)throw new TypeError(l+" is ambiguous");i[d]=o}var y=n.length,_=n.charAt(0),S=Math.log(y)/Math.log(256),I=Math.log(256)/Math.log(y);function k(U){if((Array.isArray(U)||U instanceof Uint8Array)&&(U=s.from(U)),!s.isBuffer(U))throw new TypeError("Expected Buffer");if(U.length===0)return"";for(var D=0,q=0,G=0,P=U.length;G!==P&&U[G]===0;)G++,D++;for(var W=(P-G)*I+1>>>0,nt=new Uint8Array(W);G!==P;){for(var ot=U[G],it=0,ut=W-1;(ot!==0||it<q)&&ut!==-1;ut--,it++)ot+=256*nt[ut]>>>0,nt[ut]=ot%y>>>0,ot=ot/y>>>0;if(ot!==0)throw new Error("Non-zero carry");q=it,G++}for(var V=W-q;V!==W&&nt[V]===0;)V++;for(var F=_.repeat(D);V<W;++V)F+=n.charAt(nt[V]);return F}function R(U){if(typeof U!="string")throw new TypeError("Expected String");if(U.length===0)return s.alloc(0);for(var D=0,q=0,G=0;U[D]===_;)q++,D++;for(var P=(U.length-D)*S+1>>>0,W=new Uint8Array(P);D<U.length;){var nt=U.charCodeAt(D);if(nt>255)return;var ot=i[nt];if(ot===255)return;for(var it=0,ut=P-1;(ot!==0||it<G)&&ut!==-1;ut--,it++)ot+=y*W[ut]>>>0,W[ut]=ot%256>>>0,ot=ot/256>>>0;if(ot!==0)throw new Error("Non-zero carry");G=it,D++}for(var V=P-G;V!==P&&W[V]===0;)V++;var F=s.allocUnsafe(q+(P-V));F.fill(0,0,q);for(var X=q;V!==P;)F[X++]=W[V++];return F}function M(U){var D=R(U);if(D)return D;throw new Error("Non-base"+y+" character")}return{encode:k,decodeUnsafe:R,decode:M}}return Ih=e,Ih}var Ch,jg;function R2(){if(jg)return Ch;jg=1;var s=A2(),e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return Ch=s(e),Ch}function Ri(s,e,n){return e<=s&&s<=n}function Kl(s){if(s===void 0)return{};if(s===Object(s))return s;throw TypeError("Could not convert argument to dictionary")}function x2(s){for(var e=String(s),n=e.length,i=0,u=[];i<n;){var o=e.charCodeAt(i);if(o<55296||o>57343)u.push(o);else if(56320<=o&&o<=57343)u.push(65533);else if(55296<=o&&o<=56319)if(i===n-1)u.push(65533);else{var l=s.charCodeAt(i+1);if(56320<=l&&l<=57343){var d=o&1023,y=l&1023;u.push(65536+(d<<10)+y),i+=1}else u.push(65533)}i+=1}return u}function T2(s){for(var e="",n=0;n<s.length;++n){var i=s[n];i<=65535?e+=String.fromCharCode(i):(i-=65536,e+=String.fromCharCode((i>>10)+55296,(i&1023)+56320))}return e}var Ol=-1;function F0(s){this.tokens=[].slice.call(s)}F0.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Ol},prepend:function(s){if(Array.isArray(s))for(var e=s;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(s)},push:function(s){if(Array.isArray(s))for(var e=s;e.length;)this.tokens.push(e.shift());else this.tokens.push(s)}};var co=-1;function Bh(s,e){if(s)throw TypeError("Decoder error");return e||65533}var Nl="utf-8";function kl(s,e){if(!(this instanceof kl))return new kl(s,e);if(s=s!==void 0?String(s).toLowerCase():Nl,s!==Nl)throw new Error("Encoding not supported. Only utf-8 is supported");e=Kl(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}kl.prototype={decode:function(e,n){var i;typeof e=="object"&&e instanceof ArrayBuffer?i=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?i=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):i=new Uint8Array(0),n=Kl(n),this._streaming||(this._decoder=new O2({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var u=new F0(i),o=[],l;!u.endOfStream()&&(l=this._decoder.handler(u,u.read()),l!==co);)l!==null&&(Array.isArray(l)?o.push.apply(o,l):o.push(l));if(!this._streaming){do{if(l=this._decoder.handler(u,u.read()),l===co)break;l!==null&&(Array.isArray(l)?o.push.apply(o,l):o.push(l))}while(!u.endOfStream());this._decoder=null}return o.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(o[0]===65279?(this._BOMseen=!0,o.shift()):this._BOMseen=!0),T2(o)}};function Il(s,e){if(!(this instanceof Il))return new Il(s,e);if(s=s!==void 0?String(s).toLowerCase():Nl,s!==Nl)throw new Error("Encoding not supported. Only utf-8 is supported");e=Kl(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Il.prototype={encode:function(e,n){e=e?String(e):"",n=Kl(n),this._streaming||(this._encoder=new N2(this._options)),this._streaming=!!n.stream;for(var i=[],u=new F0(x2(e)),o;!u.endOfStream()&&(o=this._encoder.handler(u,u.read()),o!==co);)Array.isArray(o)?i.push.apply(i,o):i.push(o);if(!this._streaming){for(;o=this._encoder.handler(u,u.read()),o!==co;)Array.isArray(o)?i.push.apply(i,o):i.push(o);this._encoder=null}return new Uint8Array(i)}};function O2(s){var e=s.fatal,n=0,i=0,u=0,o=128,l=191;this.handler=function(d,y){if(y===Ol&&u!==0)return u=0,Bh(e);if(y===Ol)return co;if(u===0){if(Ri(y,0,127))return y;if(Ri(y,194,223))u=1,n=y-192;else if(Ri(y,224,239))y===224&&(o=160),y===237&&(l=159),u=2,n=y-224;else if(Ri(y,240,244))y===240&&(o=144),y===244&&(l=143),u=3,n=y-240;else return Bh(e);return n=n<<6*u,null}if(!Ri(y,o,l))return n=u=i=0,o=128,l=191,d.prepend(y),Bh(e);if(o=128,l=191,i+=1,n+=y-128<<6*(u-i),i!==u)return null;var _=n;return n=u=i=0,_}}function N2(s){s.fatal,this.handler=function(e,n){if(n===Ol)return co;if(Ri(n,0,127))return n;var i,u;Ri(n,128,2047)?(i=1,u=192):Ri(n,2048,65535)?(i=2,u=224):Ri(n,65536,1114111)&&(i=3,u=240);for(var o=[(n>>6*i)+u];i>0;){var l=n>>6*(i-1);o.push(128|l&63),i-=1}return o}}const k2=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:kl,TextEncoder:Il},Symbol.toStringTag,{value:"Module"})),I2=jl(k2);var qg;function C2(){if(qg)return Se;qg=1;var s=Se&&Se.__createBinding||(Object.create?(function(V,F,X,$){$===void 0&&($=X),Object.defineProperty(V,$,{enumerable:!0,get:function(){return F[X]}})}):(function(V,F,X,$){$===void 0&&($=X),V[$]=F[X]})),e=Se&&Se.__setModuleDefault||(Object.create?(function(V,F){Object.defineProperty(V,"default",{enumerable:!0,value:F})}):function(V,F){V.default=F}),n=Se&&Se.__decorate||function(V,F,X,$){var x=arguments.length,h=x<3?F:$===null?$=Object.getOwnPropertyDescriptor(F,X):$,w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(V,F,X,$);else for(var E=V.length-1;E>=0;E--)(w=V[E])&&(h=(x<3?w(h):x>3?w(F,X,h):w(F,X))||h);return x>3&&h&&Object.defineProperty(F,X,h),h},i=Se&&Se.__importStar||function(V){if(V&&V.__esModule)return V;var F={};if(V!=null)for(var X in V)X!=="default"&&Object.hasOwnProperty.call(V,X)&&s(F,V,X);return e(F,V),F},u=Se&&Se.__importDefault||function(V){return V&&V.__esModule?V:{default:V}};Object.defineProperty(Se,"__esModule",{value:!0}),Se.deserializeUnchecked=Se.deserialize=Se.serialize=Se.BinaryReader=Se.BinaryWriter=Se.BorshError=Se.baseDecode=Se.baseEncode=void 0;const o=u(V0()),l=u(R2()),d=i(I2),y=typeof TextDecoder!="function"?d.TextDecoder:TextDecoder,_=new y("utf-8",{fatal:!0});function S(V){return typeof V=="string"&&(V=Buffer.from(V,"utf8")),l.default.encode(Buffer.from(V))}Se.baseEncode=S;function I(V){return Buffer.from(l.default.decode(V))}Se.baseDecode=I;const k=1024;class R extends Error{constructor(F){super(F),this.fieldPath=[],this.originalMessage=F}addToFieldPath(F){this.fieldPath.splice(0,0,F),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}Se.BorshError=R;class M{constructor(){this.buf=Buffer.alloc(k),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(k)]))}writeU8(F){this.maybeResize(),this.buf.writeUInt8(F,this.length),this.length+=1}writeU16(F){this.maybeResize(),this.buf.writeUInt16LE(F,this.length),this.length+=2}writeU32(F){this.maybeResize(),this.buf.writeUInt32LE(F,this.length),this.length+=4}writeU64(F){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(F).toArray("le",8)))}writeU128(F){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(F).toArray("le",16)))}writeU256(F){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(F).toArray("le",32)))}writeU512(F){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(F).toArray("le",64)))}writeBuffer(F){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),F,Buffer.alloc(k)]),this.length+=F.length}writeString(F){this.maybeResize();const X=Buffer.from(F,"utf8");this.writeU32(X.length),this.writeBuffer(X)}writeFixedArray(F){this.writeBuffer(Buffer.from(F))}writeArray(F,X){this.maybeResize(),this.writeU32(F.length);for(const $ of F)this.maybeResize(),X($)}toArray(){return this.buf.subarray(0,this.length)}}Se.BinaryWriter=M;function U(V,F,X){const $=X.value;X.value=function(...x){try{return $.apply(this,x)}catch(h){if(h instanceof RangeError){const w=h.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(w)>=0)throw new R("Reached the end of buffer when deserializing")}throw h}}}class D{constructor(F){this.buf=F,this.offset=0}readU8(){const F=this.buf.readUInt8(this.offset);return this.offset+=1,F}readU16(){const F=this.buf.readUInt16LE(this.offset);return this.offset+=2,F}readU32(){const F=this.buf.readUInt32LE(this.offset);return this.offset+=4,F}readU64(){const F=this.readBuffer(8);return new o.default(F,"le")}readU128(){const F=this.readBuffer(16);return new o.default(F,"le")}readU256(){const F=this.readBuffer(32);return new o.default(F,"le")}readU512(){const F=this.readBuffer(64);return new o.default(F,"le")}readBuffer(F){if(this.offset+F>this.buf.length)throw new R(`Expected buffer length ${F} isn't within bounds`);const X=this.buf.slice(this.offset,this.offset+F);return this.offset+=F,X}readString(){const F=this.readU32(),X=this.readBuffer(F);try{return _.decode(X)}catch($){throw new R(`Error decoding UTF-8 string: ${$}`)}}readFixedArray(F){return new Uint8Array(this.readBuffer(F))}readArray(F){const X=this.readU32(),$=Array();for(let x=0;x<X;++x)$.push(F());return $}}n([U],D.prototype,"readU8",null),n([U],D.prototype,"readU16",null),n([U],D.prototype,"readU32",null),n([U],D.prototype,"readU64",null),n([U],D.prototype,"readU128",null),n([U],D.prototype,"readU256",null),n([U],D.prototype,"readU512",null),n([U],D.prototype,"readString",null),n([U],D.prototype,"readFixedArray",null),n([U],D.prototype,"readArray",null),Se.BinaryReader=D;function q(V){return V.charAt(0).toUpperCase()+V.slice(1)}function G(V,F,X,$,x){try{if(typeof $=="string")x[`write${q($)}`](X);else if($ instanceof Array)if(typeof $[0]=="number"){if(X.length!==$[0])throw new R(`Expecting byte array of length ${$[0]}, but got ${X.length} bytes`);x.writeFixedArray(X)}else if($.length===2&&typeof $[1]=="number"){if(X.length!==$[1])throw new R(`Expecting byte array of length ${$[1]}, but got ${X.length} bytes`);for(let h=0;h<$[1];h++)G(V,null,X[h],$[0],x)}else x.writeArray(X,h=>{G(V,F,h,$[0],x)});else if($.kind!==void 0)switch($.kind){case"option":{X==null?x.writeU8(0):(x.writeU8(1),G(V,F,X,$.type,x));break}case"map":{x.writeU32(X.size),X.forEach((h,w)=>{G(V,F,w,$.key,x),G(V,F,h,$.value,x)});break}default:throw new R(`FieldType ${$} unrecognized`)}else P(V,X,x)}catch(h){throw h instanceof R&&h.addToFieldPath(F),h}}function P(V,F,X){if(typeof F.borshSerialize=="function"){F.borshSerialize(X);return}const $=V.get(F.constructor);if(!$)throw new R(`Class ${F.constructor.name} is missing in schema`);if($.kind==="struct")$.fields.map(([x,h])=>{G(V,x,F[x],h,X)});else if($.kind==="enum"){const x=F[$.field];for(let h=0;h<$.values.length;++h){const[w,E]=$.values[h];if(w===x){X.writeU8(h),G(V,w,F[w],E,X);break}}}else throw new R(`Unexpected schema kind: ${$.kind} for ${F.constructor.name}`)}function W(V,F,X=M){const $=new X;return P(V,F,$),$.toArray()}Se.serialize=W;function nt(V,F,X,$){try{if(typeof X=="string")return $[`read${q(X)}`]();if(X instanceof Array){if(typeof X[0]=="number")return $.readFixedArray(X[0]);if(typeof X[1]=="number"){const x=[];for(let h=0;h<X[1];h++)x.push(nt(V,null,X[0],$));return x}else return $.readArray(()=>nt(V,F,X[0],$))}if(X.kind==="option")return $.readU8()?nt(V,F,X.type,$):void 0;if(X.kind==="map"){let x=new Map;const h=$.readU32();for(let w=0;w<h;w++){const E=nt(V,F,X.key,$),B=nt(V,F,X.value,$);x.set(E,B)}return x}return ot(V,X,$)}catch(x){throw x instanceof R&&x.addToFieldPath(F),x}}function ot(V,F,X){if(typeof F.borshDeserialize=="function")return F.borshDeserialize(X);const $=V.get(F);if(!$)throw new R(`Class ${F.name} is missing in schema`);if($.kind==="struct"){const x={};for(const[h,w]of V.get(F).fields)x[h]=nt(V,h,w,X);return new F(x)}if($.kind==="enum"){const x=X.readU8();if(x>=$.values.length)throw new R(`Enum index: ${x} is out of range`);const[h,w]=$.values[x],E=nt(V,h,w,X);return new F({[h]:E})}throw new R(`Unexpected schema kind: ${$.kind} for ${F.constructor.name}`)}function it(V,F,X,$=D){const x=new $(X),h=ot(V,F,x);if(x.offset<X.length)throw new R(`Unexpected ${X.length-x.offset} bytes after deserialized data`);return h}Se.deserialize=it;function ut(V,F,X,$=D){const x=new $(X);return ot(V,F,x)}return Se.deserializeUnchecked=ut,Se}var Mh=C2(),pt={},Pg;function B2(){if(Pg)return pt;Pg=1,Object.defineProperty(pt,"__esModule",{value:!0}),pt.s16=pt.s8=pt.nu64be=pt.u48be=pt.u40be=pt.u32be=pt.u24be=pt.u16be=pt.nu64=pt.u48=pt.u40=pt.u32=pt.u24=pt.u16=pt.u8=pt.offset=pt.greedy=pt.Constant=pt.UTF8=pt.CString=pt.Blob=pt.Boolean=pt.BitField=pt.BitStructure=pt.VariantLayout=pt.Union=pt.UnionLayoutDiscriminator=pt.UnionDiscriminator=pt.Structure=pt.Sequence=pt.DoubleBE=pt.Double=pt.FloatBE=pt.Float=pt.NearInt64BE=pt.NearInt64=pt.NearUInt64BE=pt.NearUInt64=pt.IntBE=pt.Int=pt.UIntBE=pt.UInt=pt.OffsetLayout=pt.GreedyCount=pt.ExternalLayout=pt.bindConstructorLayout=pt.nameWithProperty=pt.Layout=pt.uint8ArrayToBuffer=pt.checkUint8Array=void 0,pt.constant=pt.utf8=pt.cstr=pt.blob=pt.unionLayoutDiscriminator=pt.union=pt.seq=pt.bits=pt.struct=pt.f64be=pt.f64=pt.f32be=pt.f32=pt.ns64be=pt.s48be=pt.s40be=pt.s32be=pt.s24be=pt.s16be=pt.ns64=pt.s48=pt.s40=pt.s32=pt.s24=void 0;const s=U0();function e(f){if(!(f instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}pt.checkUint8Array=e;function n(f){return e(f),s.Buffer.from(f.buffer,f.byteOffset,f.length)}pt.uint8ArrayToBuffer=n;class i{constructor(g,O){if(!Number.isInteger(g))throw new TypeError("span must be an integer");this.span=g,this.property=O}makeDestinationObject(){return{}}getSpan(g,O){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(g){const O=Object.create(this.constructor.prototype);return Object.assign(O,this),O.property=g,O}fromArray(g){}}pt.Layout=i;function u(f,g){return g.property?f+"["+g.property+"]":f}pt.nameWithProperty=u;function o(f,g){if(typeof f!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(f,"layout_"))throw new Error("Class is already bound to a layout");if(!(g&&g instanceof i))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(g,"boundConstructor_"))throw new Error("layout is already bound to a constructor");f.layout_=g,g.boundConstructor_=f,g.makeDestinationObject=(()=>new f),Object.defineProperty(f.prototype,"encode",{value(O,L){return g.encode(this,O,L)},writable:!0}),Object.defineProperty(f,"decode",{value(O,L){return g.decode(O,L)},writable:!0})}pt.bindConstructorLayout=o;class l extends i{isCount(){throw new Error("ExternalLayout is abstract")}}pt.ExternalLayout=l;class d extends l{constructor(g=1,O){if(!Number.isInteger(g)||0>=g)throw new TypeError("elementSpan must be a (positive) integer");super(-1,O),this.elementSpan=g}isCount(){return!0}decode(g,O=0){e(g);const L=g.length-O;return Math.floor(L/this.elementSpan)}encode(g,O,L){return 0}}pt.GreedyCount=d;class y extends l{constructor(g,O=0,L){if(!(g instanceof i))throw new TypeError("layout must be a Layout");if(!Number.isInteger(O))throw new TypeError("offset must be integer or undefined");super(g.span,L||g.property),this.layout=g,this.offset=O}isCount(){return this.layout instanceof _||this.layout instanceof S}decode(g,O=0){return this.layout.decode(g,O+this.offset)}encode(g,O,L=0){return this.layout.encode(g,O,L+this.offset)}}pt.OffsetLayout=y;class _ extends i{constructor(g,O){if(super(g,O),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(g,O=0){return n(g).readUIntLE(O,this.span)}encode(g,O,L=0){return n(O).writeUIntLE(g,L,this.span),this.span}}pt.UInt=_;class S extends i{constructor(g,O){if(super(g,O),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(g,O=0){return n(g).readUIntBE(O,this.span)}encode(g,O,L=0){return n(O).writeUIntBE(g,L,this.span),this.span}}pt.UIntBE=S;class I extends i{constructor(g,O){if(super(g,O),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(g,O=0){return n(g).readIntLE(O,this.span)}encode(g,O,L=0){return n(O).writeIntLE(g,L,this.span),this.span}}pt.Int=I;class k extends i{constructor(g,O){if(super(g,O),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(g,O=0){return n(g).readIntBE(O,this.span)}encode(g,O,L=0){return n(O).writeIntBE(g,L,this.span),this.span}}pt.IntBE=k;const R=Math.pow(2,32);function M(f){const g=Math.floor(f/R),O=f-g*R;return{hi32:g,lo32:O}}function U(f,g){return f*R+g}class D extends i{constructor(g){super(8,g)}decode(g,O=0){const L=n(g),Y=L.readUInt32LE(O),et=L.readUInt32LE(O+4);return U(et,Y)}encode(g,O,L=0){const Y=M(g),et=n(O);return et.writeUInt32LE(Y.lo32,L),et.writeUInt32LE(Y.hi32,L+4),8}}pt.NearUInt64=D;class q extends i{constructor(g){super(8,g)}decode(g,O=0){const L=n(g),Y=L.readUInt32BE(O),et=L.readUInt32BE(O+4);return U(Y,et)}encode(g,O,L=0){const Y=M(g),et=n(O);return et.writeUInt32BE(Y.hi32,L),et.writeUInt32BE(Y.lo32,L+4),8}}pt.NearUInt64BE=q;class G extends i{constructor(g){super(8,g)}decode(g,O=0){const L=n(g),Y=L.readUInt32LE(O),et=L.readInt32LE(O+4);return U(et,Y)}encode(g,O,L=0){const Y=M(g),et=n(O);return et.writeUInt32LE(Y.lo32,L),et.writeInt32LE(Y.hi32,L+4),8}}pt.NearInt64=G;class P extends i{constructor(g){super(8,g)}decode(g,O=0){const L=n(g),Y=L.readInt32BE(O),et=L.readUInt32BE(O+4);return U(Y,et)}encode(g,O,L=0){const Y=M(g),et=n(O);return et.writeInt32BE(Y.hi32,L),et.writeUInt32BE(Y.lo32,L+4),8}}pt.NearInt64BE=P;class W extends i{constructor(g){super(4,g)}decode(g,O=0){return n(g).readFloatLE(O)}encode(g,O,L=0){return n(O).writeFloatLE(g,L),4}}pt.Float=W;class nt extends i{constructor(g){super(4,g)}decode(g,O=0){return n(g).readFloatBE(O)}encode(g,O,L=0){return n(O).writeFloatBE(g,L),4}}pt.FloatBE=nt;class ot extends i{constructor(g){super(8,g)}decode(g,O=0){return n(g).readDoubleLE(O)}encode(g,O,L=0){return n(O).writeDoubleLE(g,L),8}}pt.Double=ot;class it extends i{constructor(g){super(8,g)}decode(g,O=0){return n(g).readDoubleBE(O)}encode(g,O,L=0){return n(O).writeDoubleBE(g,L),8}}pt.DoubleBE=it;class ut extends i{constructor(g,O,L){if(!(g instanceof i))throw new TypeError("elementLayout must be a Layout");if(!(O instanceof l&&O.isCount()||Number.isInteger(O)&&0<=O))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let Y=-1;!(O instanceof l)&&0<g.span&&(Y=O*g.span),super(Y,L),this.elementLayout=g,this.count=O}getSpan(g,O=0){if(0<=this.span)return this.span;let L=0,Y=this.count;if(Y instanceof l&&(Y=Y.decode(g,O)),0<this.elementLayout.span)L=Y*this.elementLayout.span;else{let et=0;for(;et<Y;)L+=this.elementLayout.getSpan(g,O+L),++et}return L}decode(g,O=0){const L=[];let Y=0,et=this.count;for(et instanceof l&&(et=et.decode(g,O));Y<et;)L.push(this.elementLayout.decode(g,O)),O+=this.elementLayout.getSpan(g,O),Y+=1;return L}encode(g,O,L=0){const Y=this.elementLayout,et=g.reduce((bt,_t)=>bt+Y.encode(_t,O,L+bt),0);return this.count instanceof l&&this.count.encode(g.length,O,L),et}}pt.Sequence=ut;class V extends i{constructor(g,O,L){if(!(Array.isArray(g)&&g.reduce((et,bt)=>et&&bt instanceof i,!0)))throw new TypeError("fields must be array of Layout instances");typeof O=="boolean"&&L===void 0&&(L=O,O=void 0);for(const et of g)if(0>et.span&&et.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let Y=-1;try{Y=g.reduce((et,bt)=>et+bt.getSpan(),0)}catch{}super(Y,O),this.fields=g,this.decodePrefixes=!!L}getSpan(g,O=0){if(0<=this.span)return this.span;let L=0;try{L=this.fields.reduce((Y,et)=>{const bt=et.getSpan(g,O);return O+=bt,Y+bt},0)}catch{throw new RangeError("indeterminate span")}return L}decode(g,O=0){e(g);const L=this.makeDestinationObject();for(const Y of this.fields)if(Y.property!==void 0&&(L[Y.property]=Y.decode(g,O)),O+=Y.getSpan(g,O),this.decodePrefixes&&g.length===O)break;return L}encode(g,O,L=0){const Y=L;let et=0,bt=0;for(const _t of this.fields){let Lt=_t.span;if(bt=0<Lt?Lt:0,_t.property!==void 0){const Gt=g[_t.property];Gt!==void 0&&(bt=_t.encode(Gt,O,L),0>Lt&&(Lt=_t.getSpan(O,L)))}et=L,L+=Lt}return et+bt-Y}fromArray(g){const O=this.makeDestinationObject();for(const L of this.fields)L.property!==void 0&&0<g.length&&(O[L.property]=g.shift());return O}layoutFor(g){if(typeof g!="string")throw new TypeError("property must be string");for(const O of this.fields)if(O.property===g)return O}offsetOf(g){if(typeof g!="string")throw new TypeError("property must be string");let O=0;for(const L of this.fields){if(L.property===g)return O;0>L.span?O=-1:0<=O&&(O+=L.span)}}}pt.Structure=V;class F{constructor(g){this.property=g}decode(g,O){throw new Error("UnionDiscriminator is abstract")}encode(g,O,L){throw new Error("UnionDiscriminator is abstract")}}pt.UnionDiscriminator=F;class X extends F{constructor(g,O){if(!(g instanceof l&&g.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(O||g.property||"variant"),this.layout=g}decode(g,O){return this.layout.decode(g,O)}encode(g,O,L){return this.layout.encode(g,O,L)}}pt.UnionLayoutDiscriminator=X;class $ extends i{constructor(g,O,L){let Y;if(g instanceof _||g instanceof S)Y=new X(new y(g));else if(g instanceof l&&g.isCount())Y=new X(g);else if(g instanceof F)Y=g;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(O===void 0&&(O=null),!(O===null||O instanceof i))throw new TypeError("defaultLayout must be null or a Layout");if(O!==null){if(0>O.span)throw new Error("defaultLayout must have constant span");O.property===void 0&&(O=O.replicate("content"))}let et=-1;O&&(et=O.span,0<=et&&(g instanceof _||g instanceof S)&&(et+=Y.layout.span)),super(et,L),this.discriminator=Y,this.usesPrefixDiscriminator=g instanceof _||g instanceof S,this.defaultLayout=O,this.registry={};let bt=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(_t){return bt(_t)},this.configGetSourceVariant=function(_t){bt=_t.bind(this)}}getSpan(g,O=0){if(0<=this.span)return this.span;const L=this.getVariant(g,O);if(!L)throw new Error("unable to determine span for unrecognized variant");return L.getSpan(g,O)}defaultGetSourceVariant(g){if(Object.prototype.hasOwnProperty.call(g,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(g,this.defaultLayout.property))return;const O=this.registry[g[this.discriminator.property]];if(O&&(!O.layout||O.property&&Object.prototype.hasOwnProperty.call(g,O.property)))return O}else for(const O in this.registry){const L=this.registry[O];if(L.property&&Object.prototype.hasOwnProperty.call(g,L.property))return L}throw new Error("unable to infer src variant")}decode(g,O=0){let L;const Y=this.discriminator,et=Y.decode(g,O),bt=this.registry[et];if(bt===void 0){const _t=this.defaultLayout;let Lt=0;this.usesPrefixDiscriminator&&(Lt=Y.layout.span),L=this.makeDestinationObject(),L[Y.property]=et,L[_t.property]=_t.decode(g,O+Lt)}else L=bt.decode(g,O);return L}encode(g,O,L=0){const Y=this.getSourceVariant(g);if(Y===void 0){const et=this.discriminator,bt=this.defaultLayout;let _t=0;return this.usesPrefixDiscriminator&&(_t=et.layout.span),et.encode(g[et.property],O,L),_t+bt.encode(g[bt.property],O,L+_t)}return Y.encode(g,O,L)}addVariant(g,O,L){const Y=new x(this,g,O,L);return this.registry[g]=Y,Y}getVariant(g,O=0){let L;return g instanceof Uint8Array?L=this.discriminator.decode(g,O):L=g,this.registry[L]}}pt.Union=$;class x extends i{constructor(g,O,L,Y){if(!(g instanceof $))throw new TypeError("union must be a Union");if(!Number.isInteger(O)||0>O)throw new TypeError("variant must be a (non-negative) integer");if(typeof L=="string"&&Y===void 0&&(Y=L,L=null),L){if(!(L instanceof i))throw new TypeError("layout must be a Layout");if(g.defaultLayout!==null&&0<=L.span&&L.span>g.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof Y!="string")throw new TypeError("variant must have a String property")}let et=g.span;0>g.span&&(et=L?L.span:0,0<=et&&g.usesPrefixDiscriminator&&(et+=g.discriminator.layout.span)),super(et,Y),this.union=g,this.variant=O,this.layout=L||null}getSpan(g,O=0){if(0<=this.span)return this.span;let L=0;this.union.usesPrefixDiscriminator&&(L=this.union.discriminator.layout.span);let Y=0;return this.layout&&(Y=this.layout.getSpan(g,O+L)),L+Y}decode(g,O=0){const L=this.makeDestinationObject();if(this!==this.union.getVariant(g,O))throw new Error("variant mismatch");let Y=0;return this.union.usesPrefixDiscriminator&&(Y=this.union.discriminator.layout.span),this.layout?L[this.property]=this.layout.decode(g,O+Y):this.property?L[this.property]=!0:this.union.usesPrefixDiscriminator&&(L[this.union.discriminator.property]=this.variant),L}encode(g,O,L=0){let Y=0;if(this.union.usesPrefixDiscriminator&&(Y=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(g,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,O,L);let et=Y;if(this.layout&&(this.layout.encode(g[this.property],O,L+Y),et+=this.layout.getSpan(O,L+Y),0<=this.union.span&&et>this.union.span))throw new Error("encoded variant overruns containing union");return et}fromArray(g){if(this.layout)return this.layout.fromArray(g)}}pt.VariantLayout=x;function h(f){return 0>f&&(f+=4294967296),f}class w extends i{constructor(g,O,L){if(!(g instanceof _||g instanceof S))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof O=="string"&&L===void 0&&(L=O,O=!1),4<g.span)throw new RangeError("word cannot exceed 32 bits");super(g.span,L),this.word=g,this.msb=!!O,this.fields=[];let Y=0;this._packedSetValue=function(et){return Y=h(et),this},this._packedGetValue=function(){return Y}}decode(g,O=0){const L=this.makeDestinationObject(),Y=this.word.decode(g,O);this._packedSetValue(Y);for(const et of this.fields)et.property!==void 0&&(L[et.property]=et.decode(g));return L}encode(g,O,L=0){const Y=this.word.decode(O,L);this._packedSetValue(Y);for(const et of this.fields)if(et.property!==void 0){const bt=g[et.property];bt!==void 0&&et.encode(bt)}return this.word.encode(this._packedGetValue(),O,L)}addField(g,O){const L=new E(this,g,O);return this.fields.push(L),L}addBoolean(g){const O=new B(this,g);return this.fields.push(O),O}fieldFor(g){if(typeof g!="string")throw new TypeError("property must be string");for(const O of this.fields)if(O.property===g)return O}}pt.BitStructure=w;class E{constructor(g,O,L){if(!(g instanceof w))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(O)||0>=O)throw new TypeError("bits must be positive integer");const Y=8*g.span,et=g.fields.reduce((bt,_t)=>bt+_t.bits,0);if(O+et>Y)throw new Error("bits too long for span remainder ("+(Y-et)+" of "+Y+" remain)");this.container=g,this.bits=O,this.valueMask=(1<<O)-1,O===32&&(this.valueMask=4294967295),this.start=et,this.container.msb&&(this.start=Y-et-O),this.wordMask=h(this.valueMask<<this.start),this.property=L}decode(g,O){const L=this.container._packedGetValue();return h(L&this.wordMask)>>>this.start}encode(g){if(typeof g!="number"||!Number.isInteger(g)||g!==h(g&this.valueMask))throw new TypeError(u("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const O=this.container._packedGetValue(),L=h(g<<this.start);this.container._packedSetValue(h(O&~this.wordMask)|L)}}pt.BitField=E;class B extends E{constructor(g,O){super(g,1,O)}decode(g,O){return!!super.decode(g,O)}encode(g){typeof g=="boolean"&&(g=+g),super.encode(g)}}pt.Boolean=B;class z extends i{constructor(g,O){if(!(g instanceof l&&g.isCount()||Number.isInteger(g)&&0<=g))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let L=-1;g instanceof l||(L=g),super(L,O),this.length=g}getSpan(g,O){let L=this.span;return 0>L&&(L=this.length.decode(g,O)),L}decode(g,O=0){let L=this.span;return 0>L&&(L=this.length.decode(g,O)),n(g).slice(O,O+L)}encode(g,O,L){let Y=this.length;if(this.length instanceof l&&(Y=g.length),!(g instanceof Uint8Array&&Y===g.length))throw new TypeError(u("Blob.encode",this)+" requires (length "+Y+") Uint8Array as src");if(L+Y>O.length)throw new RangeError("encoding overruns Uint8Array");const et=n(g);return n(O).write(et.toString("hex"),L,Y,"hex"),this.length instanceof l&&this.length.encode(Y,O,L),Y}}pt.Blob=z;class C extends i{constructor(g){super(-1,g)}getSpan(g,O=0){e(g);let L=O;for(;L<g.length&&g[L]!==0;)L+=1;return 1+L-O}decode(g,O=0){const L=this.getSpan(g,O);return n(g).slice(O,O+L-1).toString("utf-8")}encode(g,O,L=0){typeof g!="string"&&(g=String(g));const Y=s.Buffer.from(g,"utf8"),et=Y.length;if(L+et>O.length)throw new RangeError("encoding overruns Buffer");const bt=n(O);return Y.copy(bt,L),bt[L+et]=0,et+1}}pt.CString=C;class v extends i{constructor(g,O){if(typeof g=="string"&&O===void 0&&(O=g,g=void 0),g===void 0)g=-1;else if(!Number.isInteger(g))throw new TypeError("maxSpan must be an integer");super(-1,O),this.maxSpan=g}getSpan(g,O=0){return e(g),g.length-O}decode(g,O=0){const L=this.getSpan(g,O);if(0<=this.maxSpan&&this.maxSpan<L)throw new RangeError("text length exceeds maxSpan");return n(g).slice(O,O+L).toString("utf-8")}encode(g,O,L=0){typeof g!="string"&&(g=String(g));const Y=s.Buffer.from(g,"utf8"),et=Y.length;if(0<=this.maxSpan&&this.maxSpan<et)throw new RangeError("text length exceeds maxSpan");if(L+et>O.length)throw new RangeError("encoding overruns Buffer");return Y.copy(n(O),L),et}}pt.UTF8=v;class m extends i{constructor(g,O){super(0,O),this.value=g}decode(g,O){return this.value}encode(g,O,L){return 0}}return pt.Constant=m,pt.greedy=((f,g)=>new d(f,g)),pt.offset=((f,g,O)=>new y(f,g,O)),pt.u8=(f=>new _(1,f)),pt.u16=(f=>new _(2,f)),pt.u24=(f=>new _(3,f)),pt.u32=(f=>new _(4,f)),pt.u40=(f=>new _(5,f)),pt.u48=(f=>new _(6,f)),pt.nu64=(f=>new D(f)),pt.u16be=(f=>new S(2,f)),pt.u24be=(f=>new S(3,f)),pt.u32be=(f=>new S(4,f)),pt.u40be=(f=>new S(5,f)),pt.u48be=(f=>new S(6,f)),pt.nu64be=(f=>new q(f)),pt.s8=(f=>new I(1,f)),pt.s16=(f=>new I(2,f)),pt.s24=(f=>new I(3,f)),pt.s32=(f=>new I(4,f)),pt.s40=(f=>new I(5,f)),pt.s48=(f=>new I(6,f)),pt.ns64=(f=>new G(f)),pt.s16be=(f=>new k(2,f)),pt.s24be=(f=>new k(3,f)),pt.s32be=(f=>new k(4,f)),pt.s40be=(f=>new k(5,f)),pt.s48be=(f=>new k(6,f)),pt.ns64be=(f=>new P(f)),pt.f32=(f=>new W(f)),pt.f32be=(f=>new nt(f)),pt.f64=(f=>new ot(f)),pt.f64be=(f=>new it(f)),pt.struct=((f,g,O)=>new V(f,g,O)),pt.bits=((f,g,O)=>new w(f,g,O)),pt.seq=((f,g,O)=>new ut(f,g,O)),pt.union=((f,g,O)=>new $(f,g,O)),pt.unionLayoutDiscriminator=((f,g)=>new X(f,g)),pt.blob=((f,g)=>new z(f,g)),pt.cstr=(f=>new C(f)),pt.utf8=((f,g)=>new v(f,g)),pt.constant=((f,g)=>new m(f,g)),pt}var Q=B2(),M2=8078e3,U2=8078001,D2=8078004,L2=8078005,z2=8078006,H2=8078011;function H_(s){return Array.isArray(s)?"%5B"+s.map(H_).join("%2C%20")+"%5D":typeof s=="bigint"?`${s}n`:encodeURIComponent(String(s!=null&&Object.getPrototypeOf(s)===null?{...s}:s))}function j2([s,e]){return`${s}=${H_(e)}`}function q2(s){const e=Object.entries(s).map(j2).join("&");return btoa(e)}function P2(s,e={}){{let n=`Solana error #${s}; Decode this error by running \`npx @solana/errors decode -- ${s}`;return Object.keys(e).length&&(n+=` '${q2(e)}'`),`${n}\``}}var no=class extends Error{cause=this.cause;context;constructor(...[s,e]){let n,i;if(e){const{cause:o,...l}=e;o&&(i={cause:o}),Object.keys(l).length>0&&(n=l)}const u=P2(s,n);super(u,i),this.context={__code:s,...n},this.name="SolanaError"}};function K2(s,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(s)}function V2(s){return Object.freeze({...s,encode:e=>{const n=new Uint8Array(K2(e,s));return s.write(e,n,0),n}})}function G2(s){return Object.freeze({...s,decode:(e,n=0)=>s.read(e,n)[0]})}function Ya(s){return"fixedSize"in s&&typeof s.fixedSize=="number"}function F2(s,e){if(Ya(s)!==Ya(e))throw new no(D2);if(Ya(s)&&Ya(e)&&s.fixedSize!==e.fixedSize)throw new no(L2,{decoderFixedSize:e.fixedSize,encoderFixedSize:s.fixedSize});if(!Ya(s)&&!Ya(e)&&s.maxSize!==e.maxSize)throw new no(z2,{decoderMaxSize:e.maxSize,encoderMaxSize:s.maxSize});return{...e,...s,decode:e.decode,encode:s.encode,read:e.read,write:s.write}}function Y2(s,e,n=0){if(e.length-n<=0)throw new no(M2,{codecDescription:s})}function Z2(s,e,n,i=0){const u=n.length-i;if(u<e)throw new no(U2,{bytesLength:u,codecDescription:s,expected:e})}function X2(s,e,n,i){if(i<e||i>n)throw new no(H2,{codecDescription:s,max:n,min:e,value:i})}function j_(s){return s?.endian!==1}function $2(s){return V2({fixedSize:s.size,write(e,n,i){s.range&&X2(s.name,s.range[0],s.range[1],e);const u=new ArrayBuffer(s.size);return s.set(new DataView(u),e,j_(s.config)),n.set(new Uint8Array(u),i),i+s.size}})}function W2(s){return G2({fixedSize:s.size,read(e,n=0){Y2(s.name,e,n),Z2(s.name,s.size,e,n);const i=new DataView(Q2(e,n,s.size));return[s.get(i,j_(s.config)),n+s.size]}})}function Q2(s,e,n){const i=s.byteOffset+(e??0),u=n??s.byteLength;return s.buffer.slice(i,i+u)}var q_=(s={})=>$2({config:s,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,n,i)=>e.setBigUint64(0,BigInt(n),i),size:8}),J2=(s={})=>W2({config:s,get:(e,n)=>e.getBigUint64(0,n),name:"u64",size:8}),tx=(s={})=>F2(q_(s),J2(s));let ex=class extends TypeError{constructor(e,n){let i;const{message:u,explanation:o,...l}=e,{path:d}=e,y=d.length===0?u:`At path: ${d.join(".")} -- ${u}`;super(o??y),o!=null&&(this.cause=y),Object.assign(this,l),this.name=this.constructor.name,this.failures=()=>i??(i=[e,...n()])}};function nx(s){return Mu(s)&&typeof s[Symbol.iterator]=="function"}function Mu(s){return typeof s=="object"&&s!=null}function Cl(s){return Mu(s)&&!Array.isArray(s)}function Or(s){return typeof s=="symbol"?s.toString():typeof s=="string"?JSON.stringify(s):`${s}`}function rx(s){const{done:e,value:n}=s.next();return e?void 0:n}function ix(s,e,n,i){if(s===!0)return;s===!1?s={}:typeof s=="string"&&(s={message:s});const{path:u,branch:o}=e,{type:l}=n,{refinement:d,message:y=`Expected a value of type \`${l}\`${d?` with refinement \`${d}\``:""}, but received: \`${Or(i)}\``}=s;return{value:i,type:l,refinement:d,key:u[u.length-1],path:u,branch:o,...s,message:y}}function*Kg(s,e,n,i){nx(s)||(s=[s]);for(const u of s){const o=ix(u,e,n,i);o&&(yield o)}}function*Y0(s,e,n={}){const{path:i=[],branch:u=[s],coerce:o=!1,mask:l=!1}=n,d={path:i,branch:u,mask:l};o&&(s=e.coercer(s,d));let y="valid";for(const _ of e.validator(s,d))_.explanation=n.message,y="not_valid",yield[_,void 0];for(let[_,S,I]of e.entries(s,d)){const k=Y0(S,I,{path:_===void 0?i:[...i,_],branch:_===void 0?u:[...u,S],coerce:o,mask:l,message:n.message});for(const R of k)R[0]?(y=R[0].refinement!=null?"not_refined":"not_valid",yield[R[0],void 0]):o&&(S=R[1],_===void 0?s=S:s instanceof Map?s.set(_,S):s instanceof Set?s.add(S):Mu(s)&&(S!==void 0||_ in s)&&(s[_]=S))}if(y!=="not_valid")for(const _ of e.refiner(s,d))_.explanation=n.message,y="not_refined",yield[_,void 0];y==="valid"&&(yield[void 0,s])}let Xr=class{constructor(e){const{type:n,schema:i,validator:u,refiner:o,coercer:l=y=>y,entries:d=function*(){}}=e;this.type=n,this.schema=i,this.entries=d,this.coercer=l,u?this.validator=(y,_)=>{const S=u(y,_);return Kg(S,_,this,y)}:this.validator=()=>[],o?this.refiner=(y,_)=>{const S=o(y,_);return Kg(S,_,this,y)}:this.refiner=()=>[]}assert(e,n){return P_(e,this,n)}create(e,n){return Rt(e,this,n)}is(e){return K_(e,this)}mask(e,n){return sx(e,this,n)}validate(e,n={}){return Uu(e,this,n)}};function P_(s,e,n){const i=Uu(s,e,{message:n});if(i[0])throw i[0]}function Rt(s,e,n){const i=Uu(s,e,{coerce:!0,message:n});if(i[0])throw i[0];return i[1]}function sx(s,e,n){const i=Uu(s,e,{coerce:!0,mask:!0,message:n});if(i[0])throw i[0];return i[1]}function K_(s,e){return!Uu(s,e)[0]}function Uu(s,e,n={}){const i=Y0(s,e,n),u=rx(i);return u[0]?[new ex(u[0],function*(){for(const l of i)l[0]&&(yield l[0])}),void 0]:[void 0,u[1]]}function ea(s,e){return new Xr({type:s,schema:null,validator:e})}function ax(){return ea("any",()=>!0)}function Ot(s){return new Xr({type:"array",schema:s,*entries(e){if(s&&Array.isArray(e))for(const[n,i]of e.entries())yield[n,i,s]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${Or(e)}`}})}function Zr(){return ea("boolean",s=>typeof s=="boolean")}function Z0(s){return ea("instance",e=>e instanceof s||`Expected a \`${s.name}\` instance, but received: ${Or(e)}`)}function We(s){const e=Or(s),n=typeof s;return new Xr({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?s:null,validator(i){return i===s||`Expected the literal \`${e}\`, but received: ${Or(i)}`}})}function ox(){return ea("never",()=>!1)}function Nt(s){return new Xr({...s,validator:(e,n)=>e===null||s.validator(e,n),refiner:(e,n)=>e===null||s.refiner(e,n)})}function ct(){return ea("number",s=>typeof s=="number"&&!isNaN(s)||`Expected a number, but received: ${Or(s)}`)}function jt(s){return new Xr({...s,validator:(e,n)=>e===void 0||s.validator(e,n),refiner:(e,n)=>e===void 0||s.refiner(e,n)})}function V_(s,e){return new Xr({type:"record",schema:null,*entries(n){if(Mu(n))for(const i in n){const u=n[i];yield[i,i,s],yield[i,u,e]}},validator(n){return Cl(n)||`Expected an object, but received: ${Or(n)}`},coercer(n){return Cl(n)?{...n}:n}})}function At(){return ea("string",s=>typeof s=="string"||`Expected a string, but received: ${Or(s)}`)}function X0(s){const e=ox();return new Xr({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const i=Math.max(s.length,n.length);for(let u=0;u<i;u++)yield[u,n[u],s[u]||e]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${Or(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function St(s){const e=Object.keys(s);return new Xr({type:"type",schema:s,*entries(n){if(Mu(n))for(const i of e)yield[i,n[i],s[i]]},validator(n){return Cl(n)||`Expected an object, but received: ${Or(n)}`},coercer(n){return Cl(n)?{...n}:n}})}function zn(s){const e=s.map(n=>n.type).join(" | ");return new Xr({type:"union",schema:null,coercer(n,i){for(const u of s){const[o,l]=u.validate(n,{coerce:!0,mask:i.mask});if(!o)return l}return n},validator(n,i){const u=[];for(const o of s){const[...l]=Y0(n,o,i),[d]=l;if(d[0])for(const[y]of l)y&&u.push(y);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${Or(n)}`,...u]}})}function yo(){return ea("unknown",()=>!0)}function Du(s,e,n){return new Xr({...s,coercer:(i,u)=>K_(i,e)?s.coercer(n(i,u),u):s.coercer(i,u)})}var sl,ux=new Uint8Array(16);function G_(){if(!sl&&(sl=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!sl))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return sl(ux)}const cx=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Vl(s){return typeof s=="string"&&cx.test(s)}var Tn=[];for(var Uh=0;Uh<256;++Uh)Tn.push((Uh+256).toString(16).substr(1));function Gl(s){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Tn[s[e+0]]+Tn[s[e+1]]+Tn[s[e+2]]+Tn[s[e+3]]+"-"+Tn[s[e+4]]+Tn[s[e+5]]+"-"+Tn[s[e+6]]+Tn[s[e+7]]+"-"+Tn[s[e+8]]+Tn[s[e+9]]+"-"+Tn[s[e+10]]+Tn[s[e+11]]+Tn[s[e+12]]+Tn[s[e+13]]+Tn[s[e+14]]+Tn[s[e+15]]).toLowerCase();if(!Vl(n))throw TypeError("Stringified UUID is invalid");return n}var Vg,Dh,Lh=0,zh=0;function lx(s,e,n){var i=e&&n||0,u=e||new Array(16);s=s||{};var o=s.node||Vg,l=s.clockseq!==void 0?s.clockseq:Dh;if(o==null||l==null){var d=s.random||(s.rng||G_)();o==null&&(o=Vg=[d[0]|1,d[1],d[2],d[3],d[4],d[5]]),l==null&&(l=Dh=(d[6]<<8|d[7])&16383)}var y=s.msecs!==void 0?s.msecs:Date.now(),_=s.nsecs!==void 0?s.nsecs:zh+1,S=y-Lh+(_-zh)/1e4;if(S<0&&s.clockseq===void 0&&(l=l+1&16383),(S<0||y>Lh)&&s.nsecs===void 0&&(_=0),_>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Lh=y,zh=_,Dh=l,y+=122192928e5;var I=((y&268435455)*1e4+_)%4294967296;u[i++]=I>>>24&255,u[i++]=I>>>16&255,u[i++]=I>>>8&255,u[i++]=I&255;var k=y/4294967296*1e4&268435455;u[i++]=k>>>8&255,u[i++]=k&255,u[i++]=k>>>24&15|16,u[i++]=k>>>16&255,u[i++]=l>>>8|128,u[i++]=l&255;for(var R=0;R<6;++R)u[i+R]=o[R];return e||Gl(u)}function F_(s){if(!Vl(s))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(s.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(s.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(s.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(s.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(s.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}function fx(s){s=unescape(encodeURIComponent(s));for(var e=[],n=0;n<s.length;++n)e.push(s.charCodeAt(n));return e}var dx="6ba7b810-9dad-11d1-80b4-00c04fd430c8",hx="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Y_(s,e,n){function i(u,o,l,d){if(typeof u=="string"&&(u=fx(u)),typeof o=="string"&&(o=F_(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var y=new Uint8Array(16+u.length);if(y.set(o),y.set(u,o.length),y=n(y),y[6]=y[6]&15|e,y[8]=y[8]&63|128,l){d=d||0;for(var _=0;_<16;++_)l[d+_]=y[_];return l}return Gl(y)}try{i.name=s}catch{}return i.DNS=dx,i.URL=hx,i}function px(s){if(typeof s=="string"){var e=unescape(encodeURIComponent(s));s=new Uint8Array(e.length);for(var n=0;n<e.length;++n)s[n]=e.charCodeAt(n)}return mx(yx(gx(s),s.length*8))}function mx(s){for(var e=[],n=s.length*32,i="0123456789abcdef",u=0;u<n;u+=8){var o=s[u>>5]>>>u%32&255,l=parseInt(i.charAt(o>>>4&15)+i.charAt(o&15),16);e.push(l)}return e}function Z_(s){return(s+64>>>9<<4)+14+1}function yx(s,e){s[e>>5]|=128<<e%32,s[Z_(e)-1]=e;for(var n=1732584193,i=-271733879,u=-1732584194,o=271733878,l=0;l<s.length;l+=16){var d=n,y=i,_=u,S=o;n=Bn(n,i,u,o,s[l],7,-680876936),o=Bn(o,n,i,u,s[l+1],12,-389564586),u=Bn(u,o,n,i,s[l+2],17,606105819),i=Bn(i,u,o,n,s[l+3],22,-1044525330),n=Bn(n,i,u,o,s[l+4],7,-176418897),o=Bn(o,n,i,u,s[l+5],12,1200080426),u=Bn(u,o,n,i,s[l+6],17,-1473231341),i=Bn(i,u,o,n,s[l+7],22,-45705983),n=Bn(n,i,u,o,s[l+8],7,1770035416),o=Bn(o,n,i,u,s[l+9],12,-1958414417),u=Bn(u,o,n,i,s[l+10],17,-42063),i=Bn(i,u,o,n,s[l+11],22,-1990404162),n=Bn(n,i,u,o,s[l+12],7,1804603682),o=Bn(o,n,i,u,s[l+13],12,-40341101),u=Bn(u,o,n,i,s[l+14],17,-1502002290),i=Bn(i,u,o,n,s[l+15],22,1236535329),n=Mn(n,i,u,o,s[l+1],5,-165796510),o=Mn(o,n,i,u,s[l+6],9,-1069501632),u=Mn(u,o,n,i,s[l+11],14,643717713),i=Mn(i,u,o,n,s[l],20,-373897302),n=Mn(n,i,u,o,s[l+5],5,-701558691),o=Mn(o,n,i,u,s[l+10],9,38016083),u=Mn(u,o,n,i,s[l+15],14,-660478335),i=Mn(i,u,o,n,s[l+4],20,-405537848),n=Mn(n,i,u,o,s[l+9],5,568446438),o=Mn(o,n,i,u,s[l+14],9,-1019803690),u=Mn(u,o,n,i,s[l+3],14,-187363961),i=Mn(i,u,o,n,s[l+8],20,1163531501),n=Mn(n,i,u,o,s[l+13],5,-1444681467),o=Mn(o,n,i,u,s[l+2],9,-51403784),u=Mn(u,o,n,i,s[l+7],14,1735328473),i=Mn(i,u,o,n,s[l+12],20,-1926607734),n=Un(n,i,u,o,s[l+5],4,-378558),o=Un(o,n,i,u,s[l+8],11,-2022574463),u=Un(u,o,n,i,s[l+11],16,1839030562),i=Un(i,u,o,n,s[l+14],23,-35309556),n=Un(n,i,u,o,s[l+1],4,-1530992060),o=Un(o,n,i,u,s[l+4],11,1272893353),u=Un(u,o,n,i,s[l+7],16,-155497632),i=Un(i,u,o,n,s[l+10],23,-1094730640),n=Un(n,i,u,o,s[l+13],4,681279174),o=Un(o,n,i,u,s[l],11,-358537222),u=Un(u,o,n,i,s[l+3],16,-722521979),i=Un(i,u,o,n,s[l+6],23,76029189),n=Un(n,i,u,o,s[l+9],4,-640364487),o=Un(o,n,i,u,s[l+12],11,-421815835),u=Un(u,o,n,i,s[l+15],16,530742520),i=Un(i,u,o,n,s[l+2],23,-995338651),n=Dn(n,i,u,o,s[l],6,-198630844),o=Dn(o,n,i,u,s[l+7],10,1126891415),u=Dn(u,o,n,i,s[l+14],15,-1416354905),i=Dn(i,u,o,n,s[l+5],21,-57434055),n=Dn(n,i,u,o,s[l+12],6,1700485571),o=Dn(o,n,i,u,s[l+3],10,-1894986606),u=Dn(u,o,n,i,s[l+10],15,-1051523),i=Dn(i,u,o,n,s[l+1],21,-2054922799),n=Dn(n,i,u,o,s[l+8],6,1873313359),o=Dn(o,n,i,u,s[l+15],10,-30611744),u=Dn(u,o,n,i,s[l+6],15,-1560198380),i=Dn(i,u,o,n,s[l+13],21,1309151649),n=Dn(n,i,u,o,s[l+4],6,-145523070),o=Dn(o,n,i,u,s[l+11],10,-1120210379),u=Dn(u,o,n,i,s[l+2],15,718787259),i=Dn(i,u,o,n,s[l+9],21,-343485551),n=ps(n,d),i=ps(i,y),u=ps(u,_),o=ps(o,S)}return[n,i,u,o]}function gx(s){if(s.length===0)return[];for(var e=s.length*8,n=new Uint32Array(Z_(e)),i=0;i<e;i+=8)n[i>>5]|=(s[i/8]&255)<<i%32;return n}function ps(s,e){var n=(s&65535)+(e&65535),i=(s>>16)+(e>>16)+(n>>16);return i<<16|n&65535}function bx(s,e){return s<<e|s>>>32-e}function Fl(s,e,n,i,u,o){return ps(bx(ps(ps(e,s),ps(i,o)),u),n)}function Bn(s,e,n,i,u,o,l){return Fl(e&n|~e&i,s,e,u,o,l)}function Mn(s,e,n,i,u,o,l){return Fl(e&i|n&~i,s,e,u,o,l)}function Un(s,e,n,i,u,o,l){return Fl(e^n^i,s,e,u,o,l)}function Dn(s,e,n,i,u,o,l){return Fl(n^(e|~i),s,e,u,o,l)}var _x=Y_("v3",48,px);function wx(s,e,n){s=s||{};var i=s.random||(s.rng||G_)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){n=n||0;for(var u=0;u<16;++u)e[n+u]=i[u];return e}return Gl(i)}function vx(s,e,n,i){switch(s){case 0:return e&n^~e&i;case 1:return e^n^i;case 2:return e&n^e&i^n&i;case 3:return e^n^i}}function Hh(s,e){return s<<e|s>>>32-e}function Ex(s){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof s=="string"){var i=unescape(encodeURIComponent(s));s=[];for(var u=0;u<i.length;++u)s.push(i.charCodeAt(u))}else Array.isArray(s)||(s=Array.prototype.slice.call(s));s.push(128);for(var o=s.length/4+2,l=Math.ceil(o/16),d=new Array(l),y=0;y<l;++y){for(var _=new Uint32Array(16),S=0;S<16;++S)_[S]=s[y*64+S*4]<<24|s[y*64+S*4+1]<<16|s[y*64+S*4+2]<<8|s[y*64+S*4+3];d[y]=_}d[l-1][14]=(s.length-1)*8/Math.pow(2,32),d[l-1][14]=Math.floor(d[l-1][14]),d[l-1][15]=(s.length-1)*8&4294967295;for(var I=0;I<l;++I){for(var k=new Uint32Array(80),R=0;R<16;++R)k[R]=d[I][R];for(var M=16;M<80;++M)k[M]=Hh(k[M-3]^k[M-8]^k[M-14]^k[M-16],1);for(var U=n[0],D=n[1],q=n[2],G=n[3],P=n[4],W=0;W<80;++W){var nt=Math.floor(W/20),ot=Hh(U,5)+vx(nt,D,q,G)+P+e[nt]+k[W]>>>0;P=G,G=q,q=Hh(D,30)>>>0,D=U,U=ot}n[0]=n[0]+U>>>0,n[1]=n[1]+D>>>0,n[2]=n[2]+q>>>0,n[3]=n[3]+G>>>0,n[4]=n[4]+P>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var Sx=Y_("v5",80,Ex);const Ax="00000000-0000-0000-0000-000000000000";function Rx(s){if(!Vl(s))throw TypeError("Invalid UUID");return parseInt(s.substr(14,1),16)}const xx=Object.freeze(Object.defineProperty({__proto__:null,NIL:Ax,parse:F_,stringify:Gl,v1:lx,v3:_x,v4:wx,v5:Sx,validate:Vl,version:Rx},Symbol.toStringTag,{value:"Module"})),X_=jl(xx);var jh,Gg;function Tx(){if(Gg)return jh;Gg=1;const s=X_.v4;return jh=function(n,i,u,o){if(typeof n!="string")throw new TypeError(n+" must be a string");o=o||{};const l=typeof o.version=="number"?o.version:2;if(l!==1&&l!==2)throw new TypeError(l+" must be 1 or 2");const d={method:n};if(l===2&&(d.jsonrpc="2.0"),i){if(typeof i!="object"&&!Array.isArray(i))throw new TypeError(i+" must be an object, array or omitted");d.params=i}if(typeof u>"u"){const y=typeof o.generator=="function"?o.generator:function(){return s()};d.id=y(d,o)}else l===2&&u===null?o.notificationIdNull&&(d.id=null):d.id=u;return d},jh}var qh,Fg;function Ox(){if(Fg)return qh;Fg=1;const s=X_.v4,e=Tx(),n=function(i,u){if(!(this instanceof n))return new n(i,u);u||(u={}),this.options={reviver:typeof u.reviver<"u"?u.reviver:null,replacer:typeof u.replacer<"u"?u.replacer:null,generator:typeof u.generator<"u"?u.generator:function(){return s()},version:typeof u.version<"u"?u.version:2,notificationIdNull:typeof u.notificationIdNull=="boolean"?u.notificationIdNull:!1},this.callServer=i};return qh=n,n.prototype.request=function(i,u,o,l){const d=this;let y=null;const _=Array.isArray(i)&&typeof u=="function";if(this.options.version===1&&_)throw new TypeError("JSON-RPC 1.0 does not support batching");if(_||!_&&i&&typeof i=="object"&&typeof u=="function")l=u,y=i;else{typeof o=="function"&&(l=o,o=void 0);const k=typeof l=="function";try{y=e(i,u,o,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(R){if(k){l(R);return}throw R}if(!k)return y}let I;try{I=JSON.stringify(y,this.options.replacer)}catch(k){l(k);return}return this.callServer(I,function(k,R){d._parseResponse(k,R,l)}),y},n.prototype._parseResponse=function(i,u,o){if(i){o(i);return}if(!u){o();return}let l;try{l=JSON.parse(u,this.options.reviver)}catch(d){o(d);return}if(o.length===3)if(Array.isArray(l)){const d=function(_){return typeof _.error<"u"},y=function(_){return!d(_)};o(null,l.filter(d),l.filter(y));return}else{o(null,l.error,l.result);return}o(null,l)},qh}var Nx=Ox();const kx=Ii(Nx);var Ph={exports:{}},Yg;function Ix(){return Yg||(Yg=1,(function(s){var e=Object.prototype.hasOwnProperty,n="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1));function u(y,_,S){this.fn=y,this.context=_,this.once=S||!1}function o(y,_,S,I,k){if(typeof S!="function")throw new TypeError("The listener must be a function");var R=new u(S,I||y,k),M=n?n+_:_;return y._events[M]?y._events[M].fn?y._events[M]=[y._events[M],R]:y._events[M].push(R):(y._events[M]=R,y._eventsCount++),y}function l(y,_){--y._eventsCount===0?y._events=new i:delete y._events[_]}function d(){this._events=new i,this._eventsCount=0}d.prototype.eventNames=function(){var _=[],S,I;if(this._eventsCount===0)return _;for(I in S=this._events)e.call(S,I)&&_.push(n?I.slice(1):I);return Object.getOwnPropertySymbols?_.concat(Object.getOwnPropertySymbols(S)):_},d.prototype.listeners=function(_){var S=n?n+_:_,I=this._events[S];if(!I)return[];if(I.fn)return[I.fn];for(var k=0,R=I.length,M=new Array(R);k<R;k++)M[k]=I[k].fn;return M},d.prototype.listenerCount=function(_){var S=n?n+_:_,I=this._events[S];return I?I.fn?1:I.length:0},d.prototype.emit=function(_,S,I,k,R,M){var U=n?n+_:_;if(!this._events[U])return!1;var D=this._events[U],q=arguments.length,G,P;if(D.fn){switch(D.once&&this.removeListener(_,D.fn,void 0,!0),q){case 1:return D.fn.call(D.context),!0;case 2:return D.fn.call(D.context,S),!0;case 3:return D.fn.call(D.context,S,I),!0;case 4:return D.fn.call(D.context,S,I,k),!0;case 5:return D.fn.call(D.context,S,I,k,R),!0;case 6:return D.fn.call(D.context,S,I,k,R,M),!0}for(P=1,G=new Array(q-1);P<q;P++)G[P-1]=arguments[P];D.fn.apply(D.context,G)}else{var W=D.length,nt;for(P=0;P<W;P++)switch(D[P].once&&this.removeListener(_,D[P].fn,void 0,!0),q){case 1:D[P].fn.call(D[P].context);break;case 2:D[P].fn.call(D[P].context,S);break;case 3:D[P].fn.call(D[P].context,S,I);break;case 4:D[P].fn.call(D[P].context,S,I,k);break;default:if(!G)for(nt=1,G=new Array(q-1);nt<q;nt++)G[nt-1]=arguments[nt];D[P].fn.apply(D[P].context,G)}}return!0},d.prototype.on=function(_,S,I){return o(this,_,S,I,!1)},d.prototype.once=function(_,S,I){return o(this,_,S,I,!0)},d.prototype.removeListener=function(_,S,I,k){var R=n?n+_:_;if(!this._events[R])return this;if(!S)return l(this,R),this;var M=this._events[R];if(M.fn)M.fn===S&&(!k||M.once)&&(!I||M.context===I)&&l(this,R);else{for(var U=0,D=[],q=M.length;U<q;U++)(M[U].fn!==S||k&&!M[U].once||I&&M[U].context!==I)&&D.push(M[U]);D.length?this._events[R]=D.length===1?D[0]:D:l(this,R)}return this},d.prototype.removeAllListeners=function(_){var S;return _?(S=n?n+_:_,this._events[S]&&l(this,S)):(this._events=new i,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,s.exports=d})(Ph)),Ph.exports}var Cx=Ix();const $_=Ii(Cx);var Bx=class extends $_{socket;constructor(s,e){super(),this.socket=new window.WebSocket(s,e.protocols),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=n=>this.emit("message",n.data),this.socket.onerror=n=>this.emit("error",n),this.socket.onclose=n=>{this.emit("close",n.code,n.reason)}}send(s,e,n){const i=n||e;try{this.socket.send(s),i()}catch(u){i(u)}}close(s,e){this.socket.close(s,e)}addEventListener(s,e,n){this.socket.addEventListener(s,e,n)}};function Mx(s,e){return new Bx(s,e)}var Ux=class{encode(s){return JSON.stringify(s)}decode(s){return JSON.parse(s)}},Dx=class extends $_{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(s,e="ws://localhost:8080",{autoconnect:n=!0,reconnect:i=!0,reconnect_interval:u=1e3,max_reconnects:o=5,...l}={},d,y){super(),this.webSocketFactory=s,this.queue={},this.rpc_id=0,this.address=e,this.autoconnect=n,this.ready=!1,this.reconnect=i,this.reconnect_timer_id=void 0,this.reconnect_interval=u,this.max_reconnects=o,this.rest_options=l,this.current_reconnects=0,this.generate_request_id=d||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),y?this.dataPack=y:this.dataPack=new Ux,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(s,e,n,i){return!i&&typeof n=="object"&&(i=n,n=null),new Promise((u,o)=>{if(!this.ready)return o(new Error("socket not ready"));const l=this.generate_request_id(s,e),d={jsonrpc:"2.0",method:s,params:e||void 0,id:l};this.socket.send(this.dataPack.encode(d),i,y=>{if(y)return o(y);this.queue[l]={promise:[u,o]},n&&(this.queue[l].timeout=setTimeout(()=>{delete this.queue[l],o(new Error("reply timeout"))},n))})})}async login(s){const e=await this.call("rpc.login",s);if(!e)throw new Error("authentication failed");return e}async listMethods(){return await this.call("__listMethods")}notify(s,e){return new Promise((n,i)=>{if(!this.ready)return i(new Error("socket not ready"));const u={jsonrpc:"2.0",method:s,params:e};this.socket.send(this.dataPack.encode(u),o=>{if(o)return i(o);n()})})}async subscribe(s){typeof s=="string"&&(s=[s]);const e=await this.call("rpc.on",s);if(typeof s=="string"&&e[s]!=="ok")throw new Error("Failed subscribing to an event '"+s+"' with: "+e[s]);return e}async unsubscribe(s){typeof s=="string"&&(s=[s]);const e=await this.call("rpc.off",s);if(typeof s=="string"&&e[s]!=="ok")throw new Error("Failed unsubscribing from an event with: "+e);return e}close(s,e){this.socket&&this.socket.close(s||1e3,e)}setAutoReconnect(s){this.reconnect=s}setReconnectInterval(s){this.reconnect_interval=s}setMaxReconnects(s){this.max_reconnects=s}getCurrentReconnects(){return this.current_reconnects}getMaxReconnects(){return this.max_reconnects}isReconnecting(){return this.reconnect_timer_id!==void 0}willReconnect(){return this.reconnect&&(this.max_reconnects===0||this.current_reconnects<this.max_reconnects)}_connect(s,e){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(s,e),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:n})=>{n instanceof ArrayBuffer&&(n=kt.Buffer.from(n).toString());try{n=this.dataPack.decode(n)}catch{return}if(n.notification&&this.listeners(n.notification).length){if(!Object.keys(n.params).length)return this.emit(n.notification);const i=[n.notification];if(n.params.constructor===Object)i.push(n.params);else for(let u=0;u<n.params.length;u++)i.push(n.params[u]);return Promise.resolve().then(()=>{this.emit.apply(this,i)})}if(!this.queue[n.id])return n.method?Promise.resolve().then(()=>{this.emit(n.method,n?.params)}):void 0;"error"in n=="result"in n&&this.queue[n.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[n.id].timeout&&clearTimeout(this.queue[n.id].timeout),n.error?this.queue[n.id].promise[1](n.error):this.queue[n.id].promise[0](n.result),delete this.queue[n.id]}),this.socket.addEventListener("error",n=>this.emit("error",n)),this.socket.addEventListener("close",({code:n,reason:i})=>{this.ready&&setTimeout(()=>this.emit("close",n,i),0),this.ready=!1,this.socket=void 0,n!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)?this.reconnect_timer_id=setTimeout(()=>this._connect(s,e),this.reconnect_interval):this.reconnect&&this.max_reconnects>0&&this.current_reconnects>=this.max_reconnects&&setTimeout(()=>this.emit("max_reconnects_reached",n,i),1))})}};const Lx=BigInt(0),pu=BigInt(1),zx=BigInt(2),Hx=BigInt(7),jx=BigInt(256),qx=BigInt(113),W_=[],Q_=[],J_=[];for(let s=0,e=pu,n=1,i=0;s<24;s++){[n,i]=[i,(2*n+3*i)%5],W_.push(2*(5*i+n)),Q_.push((s+1)*(s+2)/2%64);let u=Lx;for(let o=0;o<7;o++)e=(e<<pu^(e>>Hx)*qx)%jx,e&zx&&(u^=pu<<(pu<<BigInt(o))-pu);J_.push(u)}const tw=y_(J_,!0),Px=tw[0],Kx=tw[1],Zg=(s,e,n)=>n>32?xR(s,e,n):AR(s,e,n),Xg=(s,e,n)=>n>32?TR(s,e,n):RR(s,e,n);function Vx(s,e=24){const n=new Uint32Array(10);for(let i=24-e;i<24;i++){for(let l=0;l<10;l++)n[l]=s[l]^s[l+10]^s[l+20]^s[l+30]^s[l+40];for(let l=0;l<10;l+=2){const d=(l+8)%10,y=(l+2)%10,_=n[y],S=n[y+1],I=Zg(_,S,1)^n[d],k=Xg(_,S,1)^n[d+1];for(let R=0;R<50;R+=10)s[l+R]^=I,s[l+R+1]^=k}let u=s[2],o=s[3];for(let l=0;l<24;l++){const d=Q_[l],y=Zg(u,o,d),_=Xg(u,o,d),S=W_[l];u=s[S],o=s[S+1],s[S]=y,s[S+1]=_}for(let l=0;l<50;l+=10){for(let d=0;d<10;d++)n[d]=s[l+d];for(let d=0;d<10;d++)s[l+d]^=~n[(d+2)%10]&n[(d+4)%10]}s[0]^=Px[i],s[1]^=Kx[i]}bs(n)}class $0 extends L0{constructor(e,n,i,u=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=i,this.enableXOF=u,this.rounds=o,Su(i),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=pR(this.state)}clone(){return this._cloneInto()}keccak(){Eg(this.state32),Vx(this.state32,this.rounds),Eg(this.state32),this.posOut=0,this.pos=0}update(e){oo(this),e=ql(e),Ni(e);const{blockLen:n,state:i}=this,u=e.length;for(let o=0;o<u;){const l=Math.min(n-this.pos,u-o);for(let d=0;d<l;d++)i[this.pos++]^=e[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:i,blockLen:u}=this;e[i]^=n,(n&128)!==0&&i===u-1&&this.keccak(),e[u-1]^=128,this.keccak()}writeInto(e){oo(this,!1),Ni(e),this.finish();const n=this.state,{blockLen:i}=this;for(let u=0,o=e.length;u<o;){this.posOut>=i&&this.keccak();const l=Math.min(i-this.posOut,o-u);e.set(n.subarray(this.posOut,this.posOut+l),u),this.posOut+=l,u+=l}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Su(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(h_(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,bs(this.state)}_cloneInto(e){const{blockLen:n,suffix:i,outputLen:u,rounds:o,enableXOF:l}=this;return e||(e=new $0(n,i,u,l,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=i,e.outputLen=u,e.enableXOF=l,e.destroyed=this.destroyed,e}}const Gx=(s,e,n)=>z0(()=>new $0(e,s,n)),$g=Gx(1,136,256/8);class ew extends L0{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,d_(e);const i=ql(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const u=this.blockLen,o=new Uint8Array(u);o.set(i.length>u?e.create().update(i).digest():i);for(let l=0;l<o.length;l++)o[l]^=54;this.iHash.update(o),this.oHash=e.create();for(let l=0;l<o.length;l++)o[l]^=106;this.oHash.update(o),bs(o)}update(e){return oo(this),this.iHash.update(e),this}digestInto(e){oo(this),Ni(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:i,finished:u,destroyed:o,blockLen:l,outputLen:d}=this;return e=e,e.finished=u,e.destroyed=o,e.blockLen=l,e.outputLen=d,e.oHash=n._cloneInto(e.oHash),e.iHash=i._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const nw=(s,e,n)=>new ew(s,e).update(n).digest();nw.create=(s,e)=>new ew(s,e);const Wg=(s,e)=>(s+(s>=0?e:-e)/rw)/e;function Fx(s,e,n){const[[i,u],[o,l]]=e,d=Wg(l*s,n),y=Wg(-u*s,n);let _=s-d*i-y*o,S=-d*u-y*l;const I=_<Oi,k=S<Oi;I&&(_=-_),k&&(S=-S);const R=Cu(Math.ceil(v_(n)/2))+ro;if(_<Oi||_>=R||S<Oi||S>=R)throw new Error("splitScalar (endomorphism): failed, k="+s);return{k1neg:I,k1:_,k2neg:k,k2:S}}function y0(s){if(!["compact","recovered","der"].includes(s))throw new Error('Signature format must be "compact", "recovered", or "der"');return s}function Kh(s,e){const n={};for(let i of Object.keys(e))n[i]=s[i]===void 0?e[i]:s[i];return $s(n.lowS,"lowS"),$s(n.prehash,"prehash"),n.format!==void 0&&y0(n.format),n}class Yx extends Error{constructor(e=""){super(e)}}const Si={Err:Yx,_tlv:{encode:(s,e)=>{const{Err:n}=Si;if(s<0||s>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const i=e.length/2,u=rl(i);if(u.length/2&128)throw new n("tlv.encode: long form length too big");const o=i>127?rl(u.length/2|128):"";return rl(s)+o+u+e},decode(s,e){const{Err:n}=Si;let i=0;if(s<0||s>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[i++]!==s)throw new n("tlv.decode: wrong tlv");const u=e[i++],o=!!(u&128);let l=0;if(!o)l=u;else{const y=u&127;if(!y)throw new n("tlv.decode(long): indefinite length not supported");if(y>4)throw new n("tlv.decode(long): byte length is too big");const _=e.subarray(i,i+y);if(_.length!==y)throw new n("tlv.decode: length bytes not complete");if(_[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const S of _)l=l<<8|S;if(i+=y,l<128)throw new n("tlv.decode(long): not minimal encoding")}const d=e.subarray(i,i+l);if(d.length!==l)throw new n("tlv.decode: wrong value length");return{v:d,l:e.subarray(i+l)}}},_int:{encode(s){const{Err:e}=Si;if(s<Oi)throw new e("integer: negative integers are not allowed");let n=rl(s);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(s){const{Err:e}=Si;if(s[0]&128)throw new e("invalid signature integer: negative");if(s[0]===0&&!(s[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Pl(s)}},toSig(s){const{Err:e,_int:n,_tlv:i}=Si,u=an("signature",s),{v:o,l}=i.decode(48,u);if(l.length)throw new e("invalid signature: left bytes after parsing");const{v:d,l:y}=i.decode(2,o),{v:_,l:S}=i.decode(2,y);if(S.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(d),s:n.decode(_)}},hexFromSig(s){const{_tlv:e,_int:n}=Si,i=e.encode(2,n.encode(s.r)),u=e.encode(2,n.encode(s.s)),o=i+u;return e.encode(48,o)}},Oi=BigInt(0),ro=BigInt(1),rw=BigInt(2),al=BigInt(3),Zx=BigInt(4);function Qa(s,e){const{BYTES:n}=s;let i;if(typeof e=="bigint")i=e;else{let u=an("private key",e);try{i=s.fromBytes(u)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof e}`)}}if(!s.isValidNot0(i))throw new Error("invalid private key: out of range [1..N-1]");return i}function Xx(s,e={}){const n=L_("weierstrass",s,e),{Fp:i,Fn:u}=n;let o=n.CURVE;const{h:l,n:d}=o;Bu(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:y}=e;if(y&&(!i.is0(o.a)||typeof y.beta!="bigint"||!Array.isArray(y.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const _=sw(i,u);function S(){if(!i.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function I($,x,h){const{x:w,y:E}=x.toAffine(),B=i.toBytes(w);if($s(h,"isCompressed"),h){S();const z=!i.isOdd(E);return Kr(iw(z),B)}else return Kr(Uint8Array.of(4),B,i.toBytes(E))}function k($){Tr($,void 0,"Point");const{publicKey:x,publicKeyUncompressed:h}=_,w=$.length,E=$[0],B=$.subarray(1);if(w===x&&(E===2||E===3)){const z=i.fromBytes(B);if(!i.isValid(z))throw new Error("bad point: is not on curve, wrong x");const C=U(z);let v;try{v=i.sqrt(C)}catch(g){const O=g instanceof Error?": "+g.message:"";throw new Error("bad point: is not on curve, sqrt error"+O)}S();const m=i.isOdd(v);return(E&1)===1!==m&&(v=i.neg(v)),{x:z,y:v}}else if(w===h&&E===4){const z=i.BYTES,C=i.fromBytes(B.subarray(0,z)),v=i.fromBytes(B.subarray(z,z*2));if(!D(C,v))throw new Error("bad point: is not on curve");return{x:C,y:v}}else throw new Error(`bad point: got length ${w}, expected compressed=${x} or uncompressed=${h}`)}const R=e.toBytes||I,M=e.fromBytes||k;function U($){const x=i.sqr($),h=i.mul(x,$);return i.add(i.add(h,i.mul($,o.a)),o.b)}function D($,x){const h=i.sqr(x),w=U($);return i.eql(h,w)}if(!D(o.Gx,o.Gy))throw new Error("bad curve params: generator point");const q=i.mul(i.pow(o.a,al),Zx),G=i.mul(i.sqr(o.b),BigInt(27));if(i.is0(i.add(q,G)))throw new Error("bad curve params: a or b");function P($,x,h=!1){if(!i.isValid(x)||h&&i.is0(x))throw new Error(`bad point coordinate ${$}`);return x}function W($){if(!($ instanceof V))throw new Error("ProjectivePoint expected")}function nt($){if(!y||!y.basises)throw new Error("no endo");return Fx($,y.basises,u.ORDER)}const ot=Rl(($,x)=>{const{X:h,Y:w,Z:E}=$;if(i.eql(E,i.ONE))return{x:h,y:w};const B=$.is0();x==null&&(x=B?i.ONE:i.inv(E));const z=i.mul(h,x),C=i.mul(w,x),v=i.mul(E,x);if(B)return{x:i.ZERO,y:i.ZERO};if(!i.eql(v,i.ONE))throw new Error("invZ was invalid");return{x:z,y:C}}),it=Rl($=>{if($.is0()){if(e.allowInfinityPoint&&!i.is0($.Y))return;throw new Error("bad point: ZERO")}const{x,y:h}=$.toAffine();if(!i.isValid(x)||!i.isValid(h))throw new Error("bad point: x or y not field elements");if(!D(x,h))throw new Error("bad point: equation left != right");if(!$.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function ut($,x,h,w,E){return h=new V(i.mul(h.X,$),h.Y,h.Z),x=xl(w,x),h=xl(E,h),x.add(h)}class V{constructor(x,h,w){this.X=P("x",x),this.Y=P("y",h,!0),this.Z=P("z",w),Object.freeze(this)}static CURVE(){return o}static fromAffine(x){const{x:h,y:w}=x||{};if(!x||!i.isValid(h)||!i.isValid(w))throw new Error("invalid affine point");if(x instanceof V)throw new Error("projective point not allowed");return i.is0(h)&&i.is0(w)?V.ZERO:new V(h,w,i.ONE)}static fromBytes(x){const h=V.fromAffine(M(Tr(x,void 0,"point")));return h.assertValidity(),h}static fromHex(x){return V.fromBytes(an("pointHex",x))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(x=8,h=!0){return X.createCache(this,x),h||this.multiply(al),this}assertValidity(){it(this)}hasEvenY(){const{y:x}=this.toAffine();if(!i.isOdd)throw new Error("Field doesn't support isOdd");return!i.isOdd(x)}equals(x){W(x);const{X:h,Y:w,Z:E}=this,{X:B,Y:z,Z:C}=x,v=i.eql(i.mul(h,C),i.mul(B,E)),m=i.eql(i.mul(w,C),i.mul(z,E));return v&&m}negate(){return new V(this.X,i.neg(this.Y),this.Z)}double(){const{a:x,b:h}=o,w=i.mul(h,al),{X:E,Y:B,Z:z}=this;let C=i.ZERO,v=i.ZERO,m=i.ZERO,f=i.mul(E,E),g=i.mul(B,B),O=i.mul(z,z),L=i.mul(E,B);return L=i.add(L,L),m=i.mul(E,z),m=i.add(m,m),C=i.mul(x,m),v=i.mul(w,O),v=i.add(C,v),C=i.sub(g,v),v=i.add(g,v),v=i.mul(C,v),C=i.mul(L,C),m=i.mul(w,m),O=i.mul(x,O),L=i.sub(f,O),L=i.mul(x,L),L=i.add(L,m),m=i.add(f,f),f=i.add(m,f),f=i.add(f,O),f=i.mul(f,L),v=i.add(v,f),O=i.mul(B,z),O=i.add(O,O),f=i.mul(O,L),C=i.sub(C,f),m=i.mul(O,g),m=i.add(m,m),m=i.add(m,m),new V(C,v,m)}add(x){W(x);const{X:h,Y:w,Z:E}=this,{X:B,Y:z,Z:C}=x;let v=i.ZERO,m=i.ZERO,f=i.ZERO;const g=o.a,O=i.mul(o.b,al);let L=i.mul(h,B),Y=i.mul(w,z),et=i.mul(E,C),bt=i.add(h,w),_t=i.add(B,z);bt=i.mul(bt,_t),_t=i.add(L,Y),bt=i.sub(bt,_t),_t=i.add(h,E);let Lt=i.add(B,C);return _t=i.mul(_t,Lt),Lt=i.add(L,et),_t=i.sub(_t,Lt),Lt=i.add(w,E),v=i.add(z,C),Lt=i.mul(Lt,v),v=i.add(Y,et),Lt=i.sub(Lt,v),f=i.mul(g,_t),v=i.mul(O,et),f=i.add(v,f),v=i.sub(Y,f),f=i.add(Y,f),m=i.mul(v,f),Y=i.add(L,L),Y=i.add(Y,L),et=i.mul(g,et),_t=i.mul(O,_t),Y=i.add(Y,et),et=i.sub(L,et),et=i.mul(g,et),_t=i.add(_t,et),L=i.mul(Y,_t),m=i.add(m,L),L=i.mul(Lt,_t),v=i.mul(bt,v),v=i.sub(v,L),L=i.mul(bt,Y),f=i.mul(Lt,f),f=i.add(f,L),new V(v,m,f)}subtract(x){return this.add(x.negate())}is0(){return this.equals(V.ZERO)}multiply(x){const{endo:h}=e;if(!u.isValidNot0(x))throw new Error("invalid scalar: out of range");let w,E;const B=z=>X.cached(this,z,C=>Gs(V,C));if(h){const{k1neg:z,k1:C,k2neg:v,k2:m}=nt(x),{p:f,f:g}=B(C),{p:O,f:L}=B(m);E=g.add(L),w=ut(h.beta,f,O,z,v)}else{const{p:z,f:C}=B(x);w=z,E=C}return Gs(V,[w,E])[0]}multiplyUnsafe(x){const{endo:h}=e,w=this;if(!u.isValid(x))throw new Error("invalid scalar: out of range");if(x===Oi||w.is0())return V.ZERO;if(x===ro)return w;if(X.hasCache(this))return this.multiply(x);if(h){const{k1neg:E,k1:B,k2neg:z,k2:C}=nt(x),{p1:v,p2:m}=t2(V,w,B,C);return ut(h.beta,v,m,E,z)}else return X.unsafe(w,x)}multiplyAndAddUnsafe(x,h,w){const E=this.multiplyUnsafe(h).add(x.multiplyUnsafe(w));return E.is0()?void 0:E}toAffine(x){return ot(this,x)}isTorsionFree(){const{isTorsionFree:x}=e;return l===ro?!0:x?x(V,this):X.unsafe(this,d).is0()}clearCofactor(){const{clearCofactor:x}=e;return l===ro?this:x?x(V,this):this.multiplyUnsafe(l)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}toBytes(x=!0){return $s(x,"isCompressed"),this.assertValidity(),R(V,this,x)}toHex(x=!0){return Xs(this.toBytes(x))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(x=!0){return this.toBytes(x)}_setWindowSize(x){this.precompute(x)}static normalizeZ(x){return Gs(V,x)}static msm(x,h){return D_(V,u,x,h)}static fromPrivateKey(x){return V.BASE.multiply(Qa(u,x))}}V.BASE=new V(o.Gx,o.Gy,i.ONE),V.ZERO=new V(i.ZERO,i.ONE,i.ZERO),V.Fp=i,V.Fn=u;const F=u.BITS,X=new U_(V,e.endo?Math.ceil(F/2):F);return V.BASE.precompute(8),V}function iw(s){return Uint8Array.of(s?2:3)}function sw(s,e){return{secretKey:e.BYTES,publicKey:1+s.BYTES,publicKeyUncompressed:1+2*s.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function $x(s,e={}){const{Fn:n}=s,i=e.randomBytes||H0,u=Object.assign(sw(s.Fp,n),{seed:C_(n.ORDER)});function o(R){try{return!!Qa(n,R)}catch{return!1}}function l(R,M){const{publicKey:U,publicKeyUncompressed:D}=u;try{const q=R.length;return M===!0&&q!==U||M===!1&&q!==D?!1:!!s.fromBytes(R)}catch{return!1}}function d(R=i(u.seed)){return WR(Tr(R,u.seed,"seed"),n.ORDER)}function y(R,M=!0){return s.BASE.multiply(Qa(n,R)).toBytes(M)}function _(R){const M=d(R);return{secretKey:M,publicKey:y(M)}}function S(R){if(typeof R=="bigint")return!1;if(R instanceof s)return!0;const{secretKey:M,publicKey:U,publicKeyUncompressed:D}=u;if(n.allowedLengths||M===U)return;const q=an("key",R).length;return q===U||q===D}function I(R,M,U=!0){if(S(R)===!0)throw new Error("first arg must be private key");if(S(M)===!1)throw new Error("second arg must be public key");const D=Qa(n,R);return s.fromHex(M).multiply(D).toBytes(U)}return Object.freeze({getPublicKey:y,getSharedSecret:I,keygen:_,Point:s,utils:{isValidSecretKey:o,isValidPublicKey:l,randomSecretKey:d,isValidPrivateKey:o,randomPrivateKey:d,normPrivateKeyToScalar:R=>Qa(n,R),precompute(R=8,M=s.BASE){return M.precompute(R,!1)}},lengths:u})}function Wx(s,e,n={}){d_(e),Bu(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const i=n.randomBytes||H0,u=n.hmac||((h,...w)=>nw(e,h,Kr(...w))),{Fp:o,Fn:l}=s,{ORDER:d,BITS:y}=l,{keygen:_,getPublicKey:S,getSharedSecret:I,utils:k,lengths:R}=$x(s,n),M={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},U="compact";function D(h){const w=d>>ro;return h>w}function q(h,w){if(!l.isValidNot0(w))throw new Error(`invalid signature ${h}: out of range 1..Point.Fn.ORDER`);return w}function G(h,w){y0(w);const E=R.signature,B=w==="compact"?E:w==="recovered"?E+1:void 0;return Tr(h,B,`${w} signature`)}class P{constructor(w,E,B){this.r=q("r",w),this.s=q("s",E),B!=null&&(this.recovery=B),Object.freeze(this)}static fromBytes(w,E=U){G(w,E);let B;if(E==="der"){const{r:m,s:f}=Si.toSig(Tr(w));return new P(m,f)}E==="recovered"&&(B=w[0],E="compact",w=w.subarray(1));const z=l.BYTES,C=w.subarray(0,z),v=w.subarray(z,z*2);return new P(l.fromBytes(C),l.fromBytes(v),B)}static fromHex(w,E){return this.fromBytes(Al(w),E)}addRecoveryBit(w){return new P(this.r,this.s,w)}recoverPublicKey(w){const E=o.ORDER,{r:B,s:z,recovery:C}=this;if(C==null||![0,1,2,3].includes(C))throw new Error("recovery id invalid");if(d*rw<E&&C>1)throw new Error("recovery id is ambiguous for h>1 curve");const m=C===2||C===3?B+d:B;if(!o.isValid(m))throw new Error("recovery id 2 or 3 invalid");const f=o.toBytes(m),g=s.fromBytes(Kr(iw((C&1)===0),f)),O=l.inv(m),L=nt(an("msgHash",w)),Y=l.create(-L*O),et=l.create(z*O),bt=s.BASE.multiplyUnsafe(Y).add(g.multiplyUnsafe(et));if(bt.is0())throw new Error("point at infinify");return bt.assertValidity(),bt}hasHighS(){return D(this.s)}toBytes(w=U){if(y0(w),w==="der")return Al(Si.hexFromSig(this));const E=l.toBytes(this.r),B=l.toBytes(this.s);if(w==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return Kr(Uint8Array.of(this.recovery),E,B)}return Kr(E,B)}toHex(w){return Xs(this.toBytes(w))}assertValidity(){}static fromCompact(w){return P.fromBytes(an("sig",w),"compact")}static fromDER(w){return P.fromBytes(an("sig",w),"der")}normalizeS(){return this.hasHighS()?new P(this.r,l.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Xs(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Xs(this.toBytes("compact"))}}const W=n.bits2int||function(w){if(w.length>8192)throw new Error("input is too large");const E=Pl(w),B=w.length*8-y;return B>0?E>>BigInt(B):E},nt=n.bits2int_modN||function(w){return l.create(W(w))},ot=Cu(y);function it(h){return m0("num < 2^"+y,h,Oi,ot),l.toBytes(h)}function ut(h,w){return Tr(h,void 0,"message"),w?Tr(e(h),void 0,"prehashed message"):h}function V(h,w,E){if(["recovered","canonical"].some(Y=>Y in E))throw new Error("sign() legacy options not supported");const{lowS:B,prehash:z,extraEntropy:C}=Kh(E,M);h=ut(h,z);const v=nt(h),m=Qa(l,w),f=[it(m),it(v)];if(C!=null&&C!==!1){const Y=C===!0?i(R.secretKey):C;f.push(an("extraEntropy",Y))}const g=Kr(...f),O=v;function L(Y){const et=W(Y);if(!l.isValidNot0(et))return;const bt=l.inv(et),_t=s.BASE.multiply(et).toAffine(),Lt=l.create(_t.x);if(Lt===Oi)return;const Gt=l.create(bt*l.create(O+Lt*m));if(Gt===Oi)return;let qt=(_t.x===Lt?0:2)|Number(_t.y&ro),je=Gt;return B&&D(Gt)&&(je=l.neg(Gt),qt^=1),new P(Lt,je,qt)}return{seed:g,k2sig:L}}function F(h,w,E={}){h=an("message",h);const{seed:B,k2sig:z}=V(h,w,E);return qR(e.outputLen,l.BYTES,u)(B,z)}function X(h){let w;const E=typeof h=="string"||Iu(h),B=!E&&h!==null&&typeof h=="object"&&typeof h.r=="bigint"&&typeof h.s=="bigint";if(!E&&!B)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(B)w=new P(h.r,h.s);else if(E){try{w=P.fromBytes(an("sig",h),"der")}catch(z){if(!(z instanceof Si.Err))throw z}if(!w)try{w=P.fromBytes(an("sig",h),"compact")}catch{return!1}}return w||!1}function $(h,w,E,B={}){const{lowS:z,prehash:C,format:v}=Kh(B,M);if(E=an("publicKey",E),w=ut(an("message",w),C),"strict"in B)throw new Error("options.strict was renamed to lowS");const m=v===void 0?X(h):P.fromBytes(an("sig",h),v);if(m===!1)return!1;try{const f=s.fromBytes(E);if(z&&m.hasHighS())return!1;const{r:g,s:O}=m,L=nt(w),Y=l.inv(O),et=l.create(L*Y),bt=l.create(g*Y),_t=s.BASE.multiplyUnsafe(et).add(f.multiplyUnsafe(bt));return _t.is0()?!1:l.create(_t.x)===g}catch{return!1}}function x(h,w,E={}){const{prehash:B}=Kh(E,M);return w=ut(w,B),P.fromBytes(h,"recovered").recoverPublicKey(w).toBytes()}return Object.freeze({keygen:_,getPublicKey:S,getSharedSecret:I,utils:k,lengths:R,Point:s,sign:F,verify:$,recoverPublicKey:x,Signature:P,hash:e})}function Qx(s){const e={a:s.a,b:s.b,p:s.Fp.ORDER,n:s.n,h:s.h,Gx:s.Gx,Gy:s.Gy},n=s.Fp;let i=s.allowedPrivateKeyLengths?Array.from(new Set(s.allowedPrivateKeyLengths.map(l=>Math.ceil(l/2)))):void 0;const u=ta(e.n,{BITS:s.nBitLength,allowedLengths:i,modFromBytes:s.wrapPrivateKey}),o={Fp:n,Fn:u,allowInfinityPoint:s.allowInfinityPoint,endo:s.endo,isTorsionFree:s.isTorsionFree,clearCofactor:s.clearCofactor,fromBytes:s.fromBytes,toBytes:s.toBytes};return{CURVE:e,curveOpts:o}}function Jx(s){const{CURVE:e,curveOpts:n}=Qx(s),i={hmac:s.hmac,randomBytes:s.randomBytes,lowS:s.lowS,bits2int:s.bits2int,bits2int_modN:s.bits2int_modN};return{CURVE:e,curveOpts:n,hash:s.hash,ecdsaOpts:i}}function tT(s,e){const n=e.Point;return Object.assign({},e,{ProjectivePoint:n,CURVE:Object.assign({},s,k_(n.Fn.ORDER,n.Fn.BITS))})}function eT(s){const{CURVE:e,curveOpts:n,hash:i,ecdsaOpts:u}=Jx(s),o=Xx(e,n),l=Wx(o,i,u);return tT(s,l)}function nT(s,e){const n=i=>eT({...s,hash:i});return{...n(e),create:n}}const W0={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},rT={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},Qg=BigInt(2);function iT(s){const e=W0.p,n=BigInt(3),i=BigInt(6),u=BigInt(11),o=BigInt(22),l=BigInt(23),d=BigInt(44),y=BigInt(88),_=s*s*s%e,S=_*_*s%e,I=sn(S,n,e)*S%e,k=sn(I,n,e)*S%e,R=sn(k,Qg,e)*_%e,M=sn(R,u,e)*R%e,U=sn(M,o,e)*M%e,D=sn(U,d,e)*U%e,q=sn(D,y,e)*D%e,G=sn(q,d,e)*U%e,P=sn(G,n,e)*S%e,W=sn(P,l,e)*M%e,nt=sn(W,i,e)*_%e,ot=sn(nt,Qg,e);if(!g0.eql(g0.sqr(ot),s))throw new Error("Cannot find square root");return ot}const g0=ta(W0.p,{sqrt:iT}),Q0=nT({...W0,Fp:g0,lowS:!0,endo:rT},b_),sT=mo.utils.randomPrivateKey,Jg=()=>{const s=mo.utils.randomPrivateKey(),e=Bl(s),n=new Uint8Array(64);return n.set(s),n.set(e,32),{publicKey:e,secretKey:n}},Bl=mo.getPublicKey;function tb(s){try{return mo.ExtendedPoint.fromHex(s),!0}catch{return!1}}const J0=(s,e)=>mo.sign(s,e.slice(0,32)),aT=mo.verify,Qt=s=>kt.Buffer.isBuffer(s)?s:s instanceof Uint8Array?kt.Buffer.from(s.buffer,s.byteOffset,s.byteLength):kt.Buffer.from(s);let tp=class{constructor(e){Object.assign(this,e)}encode(){return kt.Buffer.from(Mh.serialize(_u,this))}static decode(e){return Mh.deserialize(_u,this,e)}static decodeUnchecked(e){return Mh.deserializeUnchecked(_u,this,e)}};class oT extends tp{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(n=>{this.enum=n})}}const _u=new Map;var aw;const ow=32,Yr=32;function uT(s){return s._bn!==void 0}let eb=1;class vt extends tp{constructor(e){if(super({}),this._bn=void 0,uT(e))this._bn=e._bn;else{if(typeof e=="string"){const n=Nn.decode(e);if(n.length!=Yr)throw new Error("Invalid public key input");this._bn=new On(n)}else this._bn=new On(e);if(this._bn.byteLength()>Yr)throw new Error("Invalid public key input")}}static unique(){const e=new vt(eb);return eb+=1,new vt(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Nn.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(kt.Buffer);if(e.length===Yr)return e;const n=kt.Buffer.alloc(32);return e.copy(n,32-e.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,n,i){const u=kt.Buffer.concat([e.toBuffer(),kt.Buffer.from(n),i.toBuffer()]),o=Tl(u);return new vt(o)}static createProgramAddressSync(e,n){let i=kt.Buffer.alloc(0);e.forEach(function(o){if(o.length>ow)throw new TypeError("Max seed length exceeded");i=kt.Buffer.concat([i,Qt(o)])}),i=kt.Buffer.concat([i,n.toBuffer(),kt.Buffer.from("ProgramDerivedAddress")]);const u=Tl(i);if(tb(u))throw new Error("Invalid seeds, address must fall off the curve");return new vt(u)}static async createProgramAddress(e,n){return this.createProgramAddressSync(e,n)}static findProgramAddressSync(e,n){let i=255,u;for(;i!=0;){try{const o=e.concat(kt.Buffer.from([i]));u=this.createProgramAddressSync(o,n)}catch(o){if(o instanceof TypeError)throw o;i--;continue}return[u,i]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,n){return this.findProgramAddressSync(e,n)}static isOnCurve(e){const n=new vt(e);return tb(n.toBytes())}}aw=vt;vt.default=new aw("11111111111111111111111111111111");_u.set(vt,{kind:"struct",fields:[["_bn","u256"]]});class cT{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const n=Qt(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=n.slice(32,64),this._secretKey=n.slice(0,32)}else this._secretKey=Qt(sT()),this._publicKey=Qt(Bl(this._secretKey))}get publicKey(){return new vt(this._publicKey)}get secretKey(){return kt.Buffer.concat([this._secretKey,this._publicKey],64)}}const lT=new vt("BPFLoader1111111111111111111111111111111111"),ms=1232,Yl=127,Ru=64;class ep extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(ep.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class np extends Error{constructor(e,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(np.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Ja extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Ja.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class xu{constructor(e,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=n}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const n of this.keySegments()){if(e<n.length)return n[e];e-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const i=new Map;this.keySegments().flat().forEach((o,l)=>{i.set(o.toBase58(),l)});const u=o=>{const l=i.get(o.toBase58());if(l===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return l};return e.map(o=>({programIdIndex:u(o.programId),accountKeyIndexes:o.keys.map(l=>u(l.pubkey)),data:o.data}))}}const ne=(s="publicKey")=>Q.blob(32,s),fT=(s="signature")=>Q.blob(64,s),Fs=(s="string")=>{const e=Q.struct([Q.u32("length"),Q.u32("lengthPadding"),Q.blob(Q.offset(Q.u32(),-8),"chars")],s),n=e.decode.bind(e),i=e.encode.bind(e),u=e;return u.decode=(o,l)=>n(o,l).chars.toString(),u.encode=(o,l,d)=>{const y={chars:kt.Buffer.from(o,"utf8")};return i(y,l,d)},u.alloc=o=>Q.u32().span+Q.u32().span+kt.Buffer.from(o,"utf8").length,u},dT=(s="authorized")=>Q.struct([ne("staker"),ne("withdrawer")],s),hT=(s="lockup")=>Q.struct([Q.ns64("unixTimestamp"),Q.ns64("epoch"),ne("custodian")],s),pT=(s="voteInit")=>Q.struct([ne("nodePubkey"),ne("authorizedVoter"),ne("authorizedWithdrawer"),Q.u8("commission")],s),mT=(s="voteAuthorizeWithSeedArgs")=>Q.struct([Q.u32("voteAuthorizationType"),ne("currentAuthorityDerivedKeyOwnerPubkey"),Fs("currentAuthorityDerivedKeySeed"),ne("newAuthorized")],s);function uw(s,e){const n=u=>{if(u.span>=0)return u.span;if(typeof u.alloc=="function")return u.alloc(e[u.property]);if("count"in u&&"elementLayout"in u){const o=e[u.property];if(Array.isArray(o))return o.length*n(u.elementLayout)}else if("fields"in u)return uw({layout:u},e[u.property]);return 0};let i=0;return s.layout.fields.forEach(u=>{i+=n(u)}),i}function Gn(s){let e=0,n=0;for(;;){let i=s.shift();if(e|=(i&127)<<n*7,n+=1,(i&128)===0)break}return e}function sr(s,e){let n=e;for(;;){let i=n&127;if(n>>=7,n==0){s.push(i);break}else i|=128,s.push(i)}}function de(s,e){if(!s)throw new Error(e||"Assertion failed")}class Zl{constructor(e,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=n}static compile(e,n){const i=new Map,u=l=>{const d=l.toBase58();let y=i.get(d);return y===void 0&&(y={isSigner:!1,isWritable:!1,isInvoked:!1},i.set(d,y)),y},o=u(n);o.isSigner=!0,o.isWritable=!0;for(const l of e){u(l.programId).isInvoked=!0;for(const d of l.keys){const y=u(d.pubkey);y.isSigner||=d.isSigner,y.isWritable||=d.isWritable}}return new Zl(n,i)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];de(e.length<=256,"Max static account keys length exceeded");const n=e.filter(([,y])=>y.isSigner&&y.isWritable),i=e.filter(([,y])=>y.isSigner&&!y.isWritable),u=e.filter(([,y])=>!y.isSigner&&y.isWritable),o=e.filter(([,y])=>!y.isSigner&&!y.isWritable),l={numRequiredSignatures:n.length+i.length,numReadonlySignedAccounts:i.length,numReadonlyUnsignedAccounts:o.length};{de(n.length>0,"Expected at least one writable signer key");const[y]=n[0];de(y===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const d=[...n.map(([y])=>new vt(y)),...i.map(([y])=>new vt(y)),...u.map(([y])=>new vt(y)),...o.map(([y])=>new vt(y))];return[l,d]}extractTableLookup(e){const[n,i]=this.drainKeysFoundInLookupTable(e.state.addresses,l=>!l.isSigner&&!l.isInvoked&&l.isWritable),[u,o]=this.drainKeysFoundInLookupTable(e.state.addresses,l=>!l.isSigner&&!l.isInvoked&&!l.isWritable);if(!(n.length===0&&u.length===0))return[{accountKey:e.key,writableIndexes:n,readonlyIndexes:u},{writable:i,readonly:o}]}drainKeysFoundInLookupTable(e,n){const i=new Array,u=new Array;for(const[o,l]of this.keyMetaMap.entries())if(n(l)){const d=new vt(o),y=e.findIndex(_=>_.equals(d));y>=0&&(de(y<256,"Max lookup table index exceeded"),i.push(y),u.push(d),this.keyMetaMap.delete(o))}return[i,u]}}const cw="Reached end of buffer unexpectedly";function Vr(s){if(s.length===0)throw new Error(cw);return s.shift()}function Fn(s,...e){const[n]=e;if(e.length===2?n+(e[1]??0)>s.length:n>=s.length)throw new Error(cw);return s.splice(...e)}class Nr{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(n=>new vt(n)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Nn.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new xu(this.staticAccountKeys)}static compile(e){const n=Zl.compile(e.instructions,e.payerKey),[i,u]=n.getMessageComponents(),l=new xu(u).compileInstructions(e.instructions).map(d=>({programIdIndex:d.programIdIndex,accounts:d.accountKeyIndexes,data:Nn.encode(d.data)}));return new Nr({header:i,accountKeys:u,recentBlockhash:e.recentBlockhash,instructions:l})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const i=e-n,o=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=n-this.header.numReadonlySignedAccounts;return e<i}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,n)=>!this.isProgramId(n))}serialize(){const e=this.accountKeys.length;let n=[];sr(n,e);const i=this.instructions.map(I=>{const{accounts:k,programIdIndex:R}=I,M=Array.from(Nn.decode(I.data));let U=[];sr(U,k.length);let D=[];return sr(D,M.length),{programIdIndex:R,keyIndicesCount:kt.Buffer.from(U),keyIndices:k,dataLength:kt.Buffer.from(D),data:M}});let u=[];sr(u,i.length);let o=kt.Buffer.alloc(ms);kt.Buffer.from(u).copy(o);let l=u.length;i.forEach(I=>{const R=Q.struct([Q.u8("programIdIndex"),Q.blob(I.keyIndicesCount.length,"keyIndicesCount"),Q.seq(Q.u8("keyIndex"),I.keyIndices.length,"keyIndices"),Q.blob(I.dataLength.length,"dataLength"),Q.seq(Q.u8("userdatum"),I.data.length,"data")]).encode(I,o,l);l+=R}),o=o.slice(0,l);const d=Q.struct([Q.blob(1,"numRequiredSignatures"),Q.blob(1,"numReadonlySignedAccounts"),Q.blob(1,"numReadonlyUnsignedAccounts"),Q.blob(n.length,"keyCount"),Q.seq(ne("key"),e,"keys"),ne("recentBlockhash")]),y={numRequiredSignatures:kt.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:kt.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:kt.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:kt.Buffer.from(n),keys:this.accountKeys.map(I=>Qt(I.toBytes())),recentBlockhash:Nn.decode(this.recentBlockhash)};let _=kt.Buffer.alloc(2048);const S=d.encode(y,_);return o.copy(_,S),_.slice(0,S+o.length)}static from(e){let n=[...e];const i=Vr(n);if(i!==(i&Yl))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const u=Vr(n),o=Vr(n),l=Gn(n);let d=[];for(let k=0;k<l;k++){const R=Fn(n,0,Yr);d.push(new vt(kt.Buffer.from(R)))}const y=Fn(n,0,Yr),_=Gn(n);let S=[];for(let k=0;k<_;k++){const R=Vr(n),M=Gn(n),U=Fn(n,0,M),D=Gn(n),q=Fn(n,0,D),G=Nn.encode(kt.Buffer.from(q));S.push({programIdIndex:R,accounts:U,data:G})}const I={header:{numRequiredSignatures:i,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:o},recentBlockhash:Nn.encode(kt.Buffer.from(y)),accountKeys:d,instructions:S};return new Nr(I)}}class Ws{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const n of this.addressTableLookups)e+=n.readonlyIndexes.length+n.writableIndexes.length;return e}getAccountKeys(e){let n;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)n=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new xu(this.staticAccountKeys,n)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures,i=this.staticAccountKeys.length;if(e>=i){const u=e-i,o=this.addressTableLookups.reduce((l,d)=>l+d.writableIndexes.length,0);return u<o}else if(e>=this.header.numRequiredSignatures){const u=e-n,l=i-n-this.header.numReadonlyUnsignedAccounts;return u<l}else{const u=n-this.header.numReadonlySignedAccounts;return e<u}}resolveAddressTableLookups(e){const n={writable:[],readonly:[]};for(const i of this.addressTableLookups){const u=e.find(o=>o.key.equals(i.accountKey));if(!u)throw new Error(`Failed to find address lookup table account for table key ${i.accountKey.toBase58()}`);for(const o of i.writableIndexes)if(o<u.state.addresses.length)n.writable.push(u.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${i.accountKey.toBase58()}`);for(const o of i.readonlyIndexes)if(o<u.state.addresses.length)n.readonly.push(u.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${i.accountKey.toBase58()}`)}return n}static compile(e){const n=Zl.compile(e.instructions,e.payerKey),i=new Array,u={writable:new Array,readonly:new Array},o=e.addressLookupTableAccounts||[];for(const S of o){const I=n.extractTableLookup(S);if(I!==void 0){const[k,{writable:R,readonly:M}]=I;i.push(k),u.writable.push(...R),u.readonly.push(...M)}}const[l,d]=n.getMessageComponents(),_=new xu(d,u).compileInstructions(e.instructions);return new Ws({header:l,staticAccountKeys:d,recentBlockhash:e.recentBlockhash,compiledInstructions:_,addressTableLookups:i})}serialize(){const e=Array();sr(e,this.staticAccountKeys.length);const n=this.serializeInstructions(),i=Array();sr(i,this.compiledInstructions.length);const u=this.serializeAddressTableLookups(),o=Array();sr(o,this.addressTableLookups.length);const l=Q.struct([Q.u8("prefix"),Q.struct([Q.u8("numRequiredSignatures"),Q.u8("numReadonlySignedAccounts"),Q.u8("numReadonlyUnsignedAccounts")],"header"),Q.blob(e.length,"staticAccountKeysLength"),Q.seq(ne(),this.staticAccountKeys.length,"staticAccountKeys"),ne("recentBlockhash"),Q.blob(i.length,"instructionsLength"),Q.blob(n.length,"serializedInstructions"),Q.blob(o.length,"addressTableLookupsLength"),Q.blob(u.length,"serializedAddressTableLookups")]),d=new Uint8Array(ms),_=l.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(S=>S.toBytes()),recentBlockhash:Nn.decode(this.recentBlockhash),instructionsLength:new Uint8Array(i),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:u},d);return d.slice(0,_)}serializeInstructions(){let e=0;const n=new Uint8Array(ms);for(const i of this.compiledInstructions){const u=Array();sr(u,i.accountKeyIndexes.length);const o=Array();sr(o,i.data.length);const l=Q.struct([Q.u8("programIdIndex"),Q.blob(u.length,"encodedAccountKeyIndexesLength"),Q.seq(Q.u8(),i.accountKeyIndexes.length,"accountKeyIndexes"),Q.blob(o.length,"encodedDataLength"),Q.blob(i.data.length,"data")]);e+=l.encode({programIdIndex:i.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(u),accountKeyIndexes:i.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:i.data},n,e)}return n.slice(0,e)}serializeAddressTableLookups(){let e=0;const n=new Uint8Array(ms);for(const i of this.addressTableLookups){const u=Array();sr(u,i.writableIndexes.length);const o=Array();sr(o,i.readonlyIndexes.length);const l=Q.struct([ne("accountKey"),Q.blob(u.length,"encodedWritableIndexesLength"),Q.seq(Q.u8(),i.writableIndexes.length,"writableIndexes"),Q.blob(o.length,"encodedReadonlyIndexesLength"),Q.seq(Q.u8(),i.readonlyIndexes.length,"readonlyIndexes")]);e+=l.encode({accountKey:i.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(u),writableIndexes:i.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:i.readonlyIndexes},n,e)}return n.slice(0,e)}static deserialize(e){let n=[...e];const i=Vr(n),u=i&Yl;de(i!==u,"Expected versioned message but received legacy message");const o=u;de(o===0,`Expected versioned message with version 0 but found version ${o}`);const l={numRequiredSignatures:Vr(n),numReadonlySignedAccounts:Vr(n),numReadonlyUnsignedAccounts:Vr(n)},d=[],y=Gn(n);for(let M=0;M<y;M++)d.push(new vt(Fn(n,0,Yr)));const _=Nn.encode(Fn(n,0,Yr)),S=Gn(n),I=[];for(let M=0;M<S;M++){const U=Vr(n),D=Gn(n),q=Fn(n,0,D),G=Gn(n),P=new Uint8Array(Fn(n,0,G));I.push({programIdIndex:U,accountKeyIndexes:q,data:P})}const k=Gn(n),R=[];for(let M=0;M<k;M++){const U=new vt(Fn(n,0,Yr)),D=Gn(n),q=Fn(n,0,D),G=Gn(n),P=Fn(n,0,G);R.push({accountKey:U,writableIndexes:q,readonlyIndexes:P})}return new Ws({header:l,staticAccountKeys:d,recentBlockhash:_,compiledInstructions:I,addressTableLookups:R})}}const rp={deserializeMessageVersion(s){const e=s[0],n=e&Yl;return n===e?"legacy":n},deserialize:s=>{const e=rp.deserializeMessageVersion(s);if(e==="legacy")return Nr.from(s);if(e===0)return Ws.deserialize(s);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let Ei=(function(s){return s[s.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",s[s.PROCESSED=1]="PROCESSED",s[s.TIMED_OUT=2]="TIMED_OUT",s[s.NONCE_INVALID=3]="NONCE_INVALID",s})({});const yT=kt.Buffer.alloc(Ru).fill(0);class Ae{constructor(e){this.keys=void 0,this.programId=void 0,this.data=kt.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:n,isWritable:i})=>({pubkey:e.toJSON(),isSigner:n,isWritable:i})),programId:this.programId.toJSON(),data:[...this.data]}}}class ce{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:n,nonceInfo:i}=e;this.minNonceContextSlot=n,this.nonceInfo=i}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:i}=e;this.recentBlockhash=n,this.lastValidBlockHeight=i}else{const{recentBlockhash:n,nonceInfo:i}=e;i&&(this.nonceInfo=i),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new Ae(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(e=this.recentBlockhash,n=this.instructions),!e)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let i;if(this.feePayer)i=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)i=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let U=0;U<n.length;U++)if(n[U].programId===void 0)throw new Error(`Transaction instruction index ${U} has undefined program id`);const u=[],o=[];n.forEach(U=>{U.keys.forEach(q=>{o.push({...q})});const D=U.programId.toString();u.includes(D)||u.push(D)}),u.forEach(U=>{o.push({pubkey:new vt(U),isSigner:!1,isWritable:!1})});const l=[];o.forEach(U=>{const D=U.pubkey.toString(),q=l.findIndex(G=>G.pubkey.toString()===D);q>-1?(l[q].isWritable=l[q].isWritable||U.isWritable,l[q].isSigner=l[q].isSigner||U.isSigner):l.push(U)}),l.sort(function(U,D){if(U.isSigner!==D.isSigner)return U.isSigner?-1:1;if(U.isWritable!==D.isWritable)return U.isWritable?-1:1;const q={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return U.pubkey.toBase58().localeCompare(D.pubkey.toBase58(),"en",q)});const d=l.findIndex(U=>U.pubkey.equals(i));if(d>-1){const[U]=l.splice(d,1);U.isSigner=!0,U.isWritable=!0,l.unshift(U)}else l.unshift({pubkey:i,isSigner:!0,isWritable:!0});for(const U of this.signatures){const D=l.findIndex(q=>q.pubkey.equals(U.publicKey));if(D>-1)l[D].isSigner||(l[D].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${U.publicKey.toString()}`)}let y=0,_=0,S=0;const I=[],k=[];l.forEach(({pubkey:U,isSigner:D,isWritable:q})=>{D?(I.push(U.toString()),y+=1,q||(_+=1)):(k.push(U.toString()),q||(S+=1))});const R=I.concat(k),M=n.map(U=>{const{data:D,programId:q}=U;return{programIdIndex:R.indexOf(q.toString()),accounts:U.keys.map(G=>R.indexOf(G.pubkey.toString())),data:Nn.encode(D)}});return M.forEach(U=>{de(U.programIdIndex>=0),U.accounts.forEach(D=>de(D>=0))}),new Nr({header:{numRequiredSignatures:y,numReadonlySignedAccounts:_,numReadonlyUnsignedAccounts:S},accountKeys:R,recentBlockhash:e,instructions:M})}_compile(){const e=this.compileMessage(),n=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((u,o)=>n[o].equals(u.publicKey))||(this.signatures=n.map(i=>({signature:null,publicKey:i}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const n=new Set;this.signatures=e.filter(i=>{const u=i.toString();return n.has(u)?!1:(n.add(u),!0)}).map(i=>({signature:null,publicKey:i}))}sign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,i=[];for(const o of e){const l=o.publicKey.toString();n.has(l)||(n.add(l),i.push(o))}this.signatures=i.map(o=>({signature:null,publicKey:o.publicKey}));const u=this._compile();this._partialSign(u,...i)}partialSign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,i=[];for(const o of e){const l=o.publicKey.toString();n.has(l)||(n.add(l),i.push(o))}const u=this._compile();this._partialSign(u,...i)}_partialSign(e,...n){const i=e.serialize();n.forEach(u=>{const o=J0(i,u.secretKey);this._addSignature(u.publicKey,Qt(o))})}addSignature(e,n){this._compile(),this._addSignature(e,n)}_addSignature(e,n){de(n.length===64);const i=this.signatures.findIndex(u=>e.equals(u.publicKey));if(i<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[i].signature=kt.Buffer.from(n)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,n){const i={};for(const{signature:u,publicKey:o}of this.signatures)u===null?n&&(i.missing||=[]).push(o):aT(u,e,o.toBytes())||(i.invalid||=[]).push(o);return i.invalid||i.missing?i:void 0}serialize(e){const{requireAllSignatures:n,verifySignatures:i}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),u=this.serializeMessage();if(i){const o=this._getMessageSignednessErrors(u,n);if(o){let l="Signature verification failed.";throw o.invalid&&(l+=`
Invalid signature for public key${o.invalid.length===1?"":"(s)"} [\`${o.invalid.map(d=>d.toBase58()).join("`, `")}\`].`),o.missing&&(l+=`
Missing signature for public key${o.missing.length===1?"":"(s)"} [\`${o.missing.map(d=>d.toBase58()).join("`, `")}\`].`),new Error(l)}}return this._serialize(u)}_serialize(e){const{signatures:n}=this,i=[];sr(i,n.length);const u=i.length+n.length*64+e.length,o=kt.Buffer.alloc(u);return de(n.length<256),kt.Buffer.from(i).copy(o,0),n.forEach(({signature:l},d)=>{l!==null&&(de(l.length===64,"signature has invalid length"),kt.Buffer.from(l).copy(o,i.length+d*64))}),e.copy(o,i.length+n.length*64),de(o.length<=ms,`Transaction too large: ${o.length} > ${ms}`),o}get keys(){return de(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return de(this.instructions.length===1),this.instructions[0].programId}get data(){return de(this.instructions.length===1),this.instructions[0].data}static from(e){let n=[...e];const i=Gn(n);let u=[];for(let o=0;o<i;o++){const l=Fn(n,0,Ru);u.push(Nn.encode(kt.Buffer.from(l)))}return ce.populate(Nr.from(n),u)}static populate(e,n=[]){const i=new ce;return i.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(i.feePayer=e.accountKeys[0]),n.forEach((u,o)=>{const l={signature:u==Nn.encode(yT)?null:Nn.decode(u),publicKey:e.accountKeys[o]};i.signatures.push(l)}),e.instructions.forEach(u=>{const o=u.accounts.map(l=>{const d=e.accountKeys[l];return{pubkey:d,isSigner:i.signatures.some(y=>y.publicKey.toString()===d.toString())||e.isAccountSigner(l),isWritable:e.isAccountWritable(l)}});i.instructions.push(new Ae({keys:o,programId:e.accountKeys[u.programIdIndex],data:Nn.decode(u.data)}))}),i._message=e,i._json=i.toJSON(),i}}class ip{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,n){const{header:i,compiledInstructions:u,recentBlockhash:o}=e,{numRequiredSignatures:l,numReadonlySignedAccounts:d,numReadonlyUnsignedAccounts:y}=i,_=l-d;de(_>0,"Message header is invalid");const S=e.staticAccountKeys.length-l-y;de(S>=0,"Message header is invalid");const I=e.getAccountKeys(n),k=I.get(0);if(k===void 0)throw new Error("Failed to decompile message because no account keys were found");const R=[];for(const M of u){const U=[];for(const q of M.accountKeyIndexes){const G=I.get(q);if(G===void 0)throw new Error(`Failed to find key for account key index ${q}`);const P=q<l;let W;P?W=q<_:q<I.staticAccountKeys.length?W=q-l<S:W=q-I.staticAccountKeys.length<I.accountKeysFromLookups.writable.length,U.push({pubkey:G,isSigner:q<i.numRequiredSignatures,isWritable:W})}const D=I.get(M.programIdIndex);if(D===void 0)throw new Error(`Failed to find program id for program id index ${M.programIdIndex}`);R.push(new Ae({programId:D,data:Qt(M.data),keys:U}))}return new ip({payerKey:k,instructions:R,recentBlockhash:o})}compileToLegacyMessage(){return Nr.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return Ws.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class sp{get version(){return this.message.version}constructor(e,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)de(n.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const i=[];for(let u=0;u<e.header.numRequiredSignatures;u++)i.push(new Uint8Array(Ru));this.signatures=i}this.message=e}serialize(){const e=this.message.serialize(),n=Array();sr(n,this.signatures.length);const i=Q.struct([Q.blob(n.length,"encodedSignaturesLength"),Q.seq(fT(),this.signatures.length,"signatures"),Q.blob(e.length,"serializedMessage")]),u=new Uint8Array(2048),o=i.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:e},u);return u.slice(0,o)}static deserialize(e){let n=[...e];const i=[],u=Gn(n);for(let l=0;l<u;l++)i.push(new Uint8Array(Fn(n,0,Ru)));const o=rp.deserialize(new Uint8Array(n));return new sp(o,i)}sign(e){const n=this.message.serialize(),i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const u of e){const o=i.findIndex(l=>l.equals(u.publicKey));de(o>=0,`Cannot sign with non signer key ${u.publicKey.toBase58()}`),this.signatures[o]=J0(n,u.secretKey)}}addSignature(e,n){de(n.byteLength===64,"Signature must be 64 bytes long");const u=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(o=>o.equals(e));de(u>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[u]=n}}const gT=160,bT=64,_T=gT/bT,lw=1e3/_T,Pr=new vt("SysvarC1ock11111111111111111111111111111111"),wT=new vt("SysvarEpochSchedu1e111111111111111111111111"),vT=new vt("Sysvar1nstructions1111111111111111111111111"),wl=new vt("SysvarRecentB1ockHashes11111111111111111111"),lo=new vt("SysvarRent111111111111111111111111111111111"),ET=new vt("SysvarRewards111111111111111111111111111111"),ST=new vt("SysvarS1otHashes111111111111111111111111111"),AT=new vt("SysvarS1otHistory11111111111111111111111111"),vl=new vt("SysvarStakeHistory1111111111111111111111111");class _s extends Error{constructor({action:e,signature:n,transactionMessage:i,logs:u}){const o=u?`Logs: 
${JSON.stringify(u.slice(-10),null,2)}. `:"",l="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let d;switch(e){case"send":d=`Transaction ${n} resulted in an error. 
${i}. `+o+l;break;case"simulate":d=`Simulation failed. 
Message: ${i}. 
`+o+l;break;default:d=`Unknown action '${(y=>y)(e)}'`}super(d),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=n,this.transactionMessage=i,this.transactionLogs=u||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((n,i)=>{e.getTransaction(this.signature).then(u=>{if(u&&u.meta&&u.meta.logMessages){const o=u.meta.logMessages;this.transactionLogs=o,n(o)}else i(new Error("Log messages not found"))}).catch(i)})),await this.transactionLogs}}const RT={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class Dt extends Error{constructor({code:e,message:n,data:i},u){super(u!=null?`${u}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=e,this.data=i,this.name="SolanaJSONRPCError"}}async function b0(s,e,n,i){const u=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,maxRetries:i.maxRetries,minContextSlot:i.minContextSlot},o=await s.sendTransaction(e,n,u);let l;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)l=(await s.confirmTransaction({abortSignal:i?.abortSignal,signature:o,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},i&&i.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:d}=e.nonceInfo,y=d.keys[0].pubkey;l=(await s.confirmTransaction({abortSignal:i?.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:y,nonceValue:e.nonceInfo.nonce,signature:o},i&&i.commitment)).value}else i?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),l=(await s.confirmTransaction(o,i&&i.commitment)).value;if(l.err)throw o!=null?new _s({action:"send",signature:o,transactionMessage:`Status: (${JSON.stringify(l)})`}):new Error(`Transaction ${o} failed (${JSON.stringify(l)})`);return o}function Ps(s){return new Promise(e=>setTimeout(e,s))}function ue(s,e){const n=s.layout.span>=0?s.layout.span:uw(s,e),i=kt.Buffer.alloc(n),u=Object.assign({instruction:s.index},e);return s.layout.encode(u,i),i}function ye(s,e){let n;try{n=s.layout.decode(e)}catch(i){throw new Error("invalid instruction; "+i)}if(n.instruction!==s.index)throw new Error(`invalid instruction; instruction index mismatch ${n.instruction} != ${s.index}`);return n}const fw=Q.nu64("lamportsPerSignature"),dw=Q.struct([Q.u32("version"),Q.u32("state"),ne("authorizedPubkey"),ne("nonce"),Q.struct([fw],"feeCalculator")]),_0=dw.span;class Xl{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const n=dw.decode(Qt(e),0);return new Xl({authorizedPubkey:new vt(n.authorizedPubkey),nonce:new vt(n.nonce).toString(),feeCalculator:n.feeCalculator})}}function fo(s){const e=Q.blob(8,s),n=e.decode.bind(e),i=e.encode.bind(e),u=e,o=tx();return u.decode=(l,d)=>{const y=n(l,d);return o.decode(y)},u.encode=(l,d,y)=>{const _=o.encode(l);return i(_,d,y)},u}class xT{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const i=Q.u32("instruction").decode(e.data);let u;for(const[o,l]of Object.entries(Be))if(l.index==i){u=o;break}if(!u)throw new Error("Instruction type incorrect; not a SystemInstruction");return u}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:n,space:i,programId:u}=ye(Be.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:n,space:i,programId:new vt(u)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:n}=ye(Be.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:n}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:n,seed:i,programId:u}=ye(Be.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:n,seed:i,programId:new vt(u)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:n}=ye(Be.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:n}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:n,seed:i,space:u,programId:o}=ye(Be.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new vt(n),seed:i,space:u,programId:new vt(o)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:n}=ye(Be.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new vt(n)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:n,seed:i,programId:u}=ye(Be.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new vt(n),seed:i,programId:new vt(u)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:n,seed:i,lamports:u,space:o,programId:l}=ye(Be.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new vt(n),seed:i,lamports:u,space:o,programId:new vt(l)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:n}=ye(Be.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new vt(n)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),ye(Be.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:n}=ye(Be.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:n}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:n}=ye(Be.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new vt(n)}}static checkProgramId(e){if(!e.equals(ln.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}const Be=Object.freeze({Create:{index:0,layout:Q.struct([Q.u32("instruction"),Q.ns64("lamports"),Q.ns64("space"),ne("programId")])},Assign:{index:1,layout:Q.struct([Q.u32("instruction"),ne("programId")])},Transfer:{index:2,layout:Q.struct([Q.u32("instruction"),fo("lamports")])},CreateWithSeed:{index:3,layout:Q.struct([Q.u32("instruction"),ne("base"),Fs("seed"),Q.ns64("lamports"),Q.ns64("space"),ne("programId")])},AdvanceNonceAccount:{index:4,layout:Q.struct([Q.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:Q.struct([Q.u32("instruction"),Q.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:Q.struct([Q.u32("instruction"),ne("authorized")])},AuthorizeNonceAccount:{index:7,layout:Q.struct([Q.u32("instruction"),ne("authorized")])},Allocate:{index:8,layout:Q.struct([Q.u32("instruction"),Q.ns64("space")])},AllocateWithSeed:{index:9,layout:Q.struct([Q.u32("instruction"),ne("base"),Fs("seed"),Q.ns64("space"),ne("programId")])},AssignWithSeed:{index:10,layout:Q.struct([Q.u32("instruction"),ne("base"),Fs("seed"),ne("programId")])},TransferWithSeed:{index:11,layout:Q.struct([Q.u32("instruction"),fo("lamports"),Fs("seed"),ne("programId")])},UpgradeNonceAccount:{index:12,layout:Q.struct([Q.u32("instruction")])}});class ln{constructor(){}static createAccount(e){const n=Be.Create,i=ue(n,{lamports:e.lamports,space:e.space,programId:Qt(e.programId.toBuffer())});return new Ae({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:i})}static transfer(e){let n,i;if("basePubkey"in e){const u=Be.TransferWithSeed;n=ue(u,{lamports:BigInt(e.lamports),seed:e.seed,programId:Qt(e.programId.toBuffer())}),i=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const u=Be.Transfer;n=ue(u,{lamports:BigInt(e.lamports)}),i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Ae({keys:i,programId:this.programId,data:n})}static assign(e){let n,i;if("basePubkey"in e){const u=Be.AssignWithSeed;n=ue(u,{base:Qt(e.basePubkey.toBuffer()),seed:e.seed,programId:Qt(e.programId.toBuffer())}),i=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const u=Be.Assign;n=ue(u,{programId:Qt(e.programId.toBuffer())}),i=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Ae({keys:i,programId:this.programId,data:n})}static createAccountWithSeed(e){const n=Be.CreateWithSeed,i=ue(n,{base:Qt(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Qt(e.programId.toBuffer())});let u=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||u.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Ae({keys:u,programId:this.programId,data:i})}static createNonceAccount(e){const n=new ce;"basePubkey"in e&&"seed"in e?n.add(ln.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:_0,programId:this.programId})):n.add(ln.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:_0,programId:this.programId}));const i={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return n.add(this.nonceInitialize(i)),n}static nonceInitialize(e){const n=Be.InitializeNonceAccount,i=ue(n,{authorized:Qt(e.authorizedPubkey.toBuffer())}),u={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:wl,isSigner:!1,isWritable:!1},{pubkey:lo,isSigner:!1,isWritable:!1}],programId:this.programId,data:i};return new Ae(u)}static nonceAdvance(e){const n=Be.AdvanceNonceAccount,i=ue(n),u={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:wl,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new Ae(u)}static nonceWithdraw(e){const n=Be.WithdrawNonceAccount,i=ue(n,{lamports:e.lamports});return new Ae({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:wl,isSigner:!1,isWritable:!1},{pubkey:lo,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static nonceAuthorize(e){const n=Be.AuthorizeNonceAccount,i=ue(n,{authorized:Qt(e.newAuthorizedPubkey.toBuffer())});return new Ae({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static allocate(e){let n,i;if("basePubkey"in e){const u=Be.AllocateWithSeed;n=ue(u,{base:Qt(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Qt(e.programId.toBuffer())}),i=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const u=Be.Allocate;n=ue(u,{space:e.space}),i=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Ae({keys:i,programId:this.programId,data:n})}}ln.programId=new vt("11111111111111111111111111111111");const TT=ms-300;class Qs{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/Qs.chunkSize)+1+1)}static async load(e,n,i,u,o){{const I=await e.getMinimumBalanceForRentExemption(o.length),k=await e.getAccountInfo(i.publicKey,"confirmed");let R=null;if(k!==null){if(k.executable)return console.error("Program load failed, account is already executable"),!1;k.data.length!==o.length&&(R=R||new ce,R.add(ln.allocate({accountPubkey:i.publicKey,space:o.length}))),k.owner.equals(u)||(R=R||new ce,R.add(ln.assign({accountPubkey:i.publicKey,programId:u}))),k.lamports<I&&(R=R||new ce,R.add(ln.transfer({fromPubkey:n.publicKey,toPubkey:i.publicKey,lamports:I-k.lamports})))}else R=new ce().add(ln.createAccount({fromPubkey:n.publicKey,newAccountPubkey:i.publicKey,lamports:I>0?I:1,space:o.length,programId:u}));R!==null&&await b0(e,R,[n,i],{commitment:"confirmed"})}const l=Q.struct([Q.u32("instruction"),Q.u32("offset"),Q.u32("bytesLength"),Q.u32("bytesLengthPadding"),Q.seq(Q.u8("byte"),Q.offset(Q.u32(),-8),"bytes")]),d=Qs.chunkSize;let y=0,_=o,S=[];for(;_.length>0;){const I=_.slice(0,d),k=kt.Buffer.alloc(d+16);l.encode({instruction:0,offset:y,bytes:I,bytesLength:0,bytesLengthPadding:0},k);const R=new ce().add({keys:[{pubkey:i.publicKey,isSigner:!0,isWritable:!0}],programId:u,data:k});S.push(b0(e,R,[n,i],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await Ps(1e3/4),y+=d,_=_.slice(d)}await Promise.all(S);{const I=Q.struct([Q.u32("instruction")]),k=kt.Buffer.alloc(I.span);I.encode({instruction:1},k);const R=new ce().add({keys:[{pubkey:i.publicKey,isSigner:!0,isWritable:!0},{pubkey:lo,isSigner:!1,isWritable:!1}],programId:u,data:k}),M="processed",U=await e.sendTransaction(R,[n,i],{preflightCommitment:M}),{context:D,value:q}=await e.confirmTransaction({signature:U,lastValidBlockHeight:R.lastValidBlockHeight,blockhash:R.recentBlockhash},M);if(q.err)throw new Error(`Transaction ${U} failed (${JSON.stringify(q)})`);for(;;){try{if(await e.getSlot({commitment:M})>D.slot)break}catch{}await new Promise(G=>setTimeout(G,Math.round(lw/2)))}}return!0}}Qs.chunkSize=TT;const OT=new vt("BPFLoader2111111111111111111111111111111111");class NT{static getMinNumSignatures(e){return Qs.getMinNumSignatures(e)}static load(e,n,i,u,o){return Qs.load(e,n,i,o,u)}}function kT(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Vh,nb;function IT(){if(nb)return Vh;nb=1;var s=Object.prototype.toString,e=Object.keys||function(i){var u=[];for(var o in i)u.push(o);return u};function n(i,u){var o,l,d,y,_,S,I;if(i===!0)return"true";if(i===!1)return"false";switch(typeof i){case"object":if(i===null)return null;if(i.toJSON&&typeof i.toJSON=="function")return n(i.toJSON(),u);if(I=s.call(i),I==="[object Array]"){for(d="[",l=i.length-1,o=0;o<l;o++)d+=n(i[o],!0)+",";return l>-1&&(d+=n(i[o],!0)),d+"]"}else if(I==="[object Object]"){for(y=e(i).sort(),l=y.length,d="",o=0;o<l;)_=y[o],S=n(i[_],!1),S!==void 0&&(d&&(d+=","),d+=JSON.stringify(_)+":"+S),o++;return"{"+d+"}"}else return JSON.stringify(i);case"function":case"undefined":return u?null:void 0;case"string":return JSON.stringify(i);default:return isFinite(i)?i:null}}return Vh=function(i){var u=n(i,!1);if(u!==void 0)return""+u},Vh}var CT=IT(),rb=kT(CT);const mu=32;function Gh(s){let e=0;for(;s>1;)s/=2,e++;return e}function BT(s){return s===0?1:(s--,s|=s>>1,s|=s>>2,s|=s>>4,s|=s>>8,s|=s>>16,s|=s>>32,s+1)}class hw{constructor(e,n,i,u,o){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=n,this.warmup=i,this.firstNormalEpoch=u,this.firstNormalSlot=o}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const n=Gh(BT(e+mu+1))-Gh(mu)-1,i=this.getSlotsInEpoch(n),u=e-(i-mu);return[n,u]}else{const n=e-this.firstNormalSlot,i=Math.floor(n/this.slotsPerEpoch),u=this.firstNormalEpoch+i,o=n%this.slotsPerEpoch;return[u,o]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*mu:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+Gh(mu)):this.slotsPerEpoch}}var MT=globalThis.fetch;class UT extends Dx{constructor(e,n,i){const u=o=>{const l=Mx(o,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in l?this.underlyingSocket=l.socket:this.underlyingSocket=l,l};super(u,e,n,i),this.underlyingSocket=void 0}call(...e){const n=this.underlyingSocket?.readyState;return n===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...e){const n=this.underlyingSocket?.readyState;return n===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}}function DT(s,e){let n;try{n=s.layout.decode(e)}catch(i){throw new Error("invalid instruction; "+i)}if(n.typeIndex!==s.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${s.index}`);return n}const ib=56;class w0{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const n=DT(LT,e),i=e.length-ib;de(i>=0,"lookup table is invalid"),de(i%32===0,"lookup table is invalid");const u=i/32,{addresses:o}=Q.struct([Q.seq(ne(),u,"addresses")]).decode(e.slice(ib));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new vt(n.authority[0]):void 0,addresses:o.map(l=>new vt(l))}}}const LT={index:1,layout:Q.struct([Q.u32("typeIndex"),fo("deactivationSlot"),Q.nu64("lastExtendedSlot"),Q.u8("lastExtendedStartIndex"),Q.u8(),Q.seq(ne(),Q.offset(Q.u8(),-1),"authority")])},zT=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function HT(s){const e=s.match(zT);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${s}\``);const[n,i,u,o]=e,l=s.startsWith("https:")?"wss:":"ws:",d=u==null?null:parseInt(u.slice(1),10),y=d==null?"":`:${d+1}`;return`${l}//${i}${y}${o}`}const Qe=Du(Z0(vt),At(),s=>new vt(s)),pw=X0([At(),We("base64")]),ap=Du(Z0(kt.Buffer),pw,s=>kt.Buffer.from(s[0],"base64")),mw=30*1e3;function jT(s){if(/^https?:/.test(s)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return s}function Ce(s){let e,n;if(typeof s=="string")e=s;else if(s){const{commitment:i,...u}=s;e=i,n=u}return{commitment:e,config:n}}function sb(s){return s.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function yw(s){return zn([St({jsonrpc:We("2.0"),id:At(),result:s}),St({jsonrpc:We("2.0"),id:At(),error:St({code:yo(),message:At(),data:jt(ax())})})])}const qT=yw(yo());function Wt(s){return Du(yw(s),qT,e=>"error"in e?e:{...e,result:Rt(e.result,s)})}function cn(s){return Wt(St({context:St({slot:ct()}),value:s}))}function $l(s){return St({context:St({slot:ct()}),value:s})}function Fh(s,e){return s===0?new Ws({header:e.header,staticAccountKeys:e.accountKeys.map(n=>new vt(n)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:Nn.decode(n.data)})),addressTableLookups:e.addressTableLookups}):new Nr(e)}const PT=St({foundation:ct(),foundationTerm:ct(),initial:ct(),taper:ct(),terminal:ct()}),KT=Wt(Ot(Nt(St({epoch:ct(),effectiveSlot:ct(),amount:ct(),postBalance:ct(),commission:jt(Nt(ct()))})))),VT=Ot(St({slot:ct(),prioritizationFee:ct()})),GT=St({total:ct(),validator:ct(),foundation:ct(),epoch:ct()}),FT=St({epoch:ct(),slotIndex:ct(),slotsInEpoch:ct(),absoluteSlot:ct(),blockHeight:jt(ct()),transactionCount:jt(ct())}),YT=St({slotsPerEpoch:ct(),leaderScheduleSlotOffset:ct(),warmup:Zr(),firstNormalEpoch:ct(),firstNormalSlot:ct()}),ZT=V_(At(),Ot(ct())),na=Nt(zn([St({}),At()])),XT=St({err:na}),$T=We("receivedSignature"),WT=St({"solana-core":At(),"feature-set":jt(ct())}),QT=St({program:At(),programId:Qe,parsed:yo()}),JT=St({programId:Qe,accounts:Ot(Qe),data:At()}),ab=cn(St({err:Nt(zn([St({}),At()])),logs:Nt(Ot(At())),accounts:jt(Nt(Ot(Nt(St({executable:Zr(),owner:At(),lamports:ct(),data:Ot(At()),rentEpoch:jt(ct())}))))),unitsConsumed:jt(ct()),returnData:jt(Nt(St({programId:At(),data:X0([At(),We("base64")])}))),innerInstructions:jt(Nt(Ot(St({index:ct(),instructions:Ot(zn([QT,JT]))}))))})),tO=cn(St({byIdentity:V_(At(),Ot(ct())),range:St({firstSlot:ct(),lastSlot:ct()})}));function eO(s,e,n,i,u,o){const l=n||MT;let d;o!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let y;return i&&(y=async(S,I)=>{const k=await new Promise((R,M)=>{try{i(S,I,(U,D)=>R([U,D]))}catch(U){M(U)}});return await l(...k)}),new kx(async(S,I)=>{const k={method:"POST",body:S,agent:d,headers:Object.assign({"Content-Type":"application/json"},e||{},eN)};try{let R=5,M,U=500;for(;y?M=await y(s,k):M=await l(s,k),!(M.status!==429||u===!0||(R-=1,R===0));)console.error(`Server responded with ${M.status} ${M.statusText}.  Retrying after ${U}ms delay...`),await Ps(U),U*=2;const D=await M.text();M.ok?I(null,D):I(new Error(`${M.status} ${M.statusText}: ${D}`))}catch(R){R instanceof Error&&I(R)}},{})}function nO(s){return(e,n)=>new Promise((i,u)=>{s.request(e,n,(o,l)=>{if(o){u(o);return}i(l)})})}function rO(s){return e=>new Promise((n,i)=>{e.length===0&&n([]);const u=e.map(o=>s.request(o.methodName,o.args));s.request(u,(o,l)=>{if(o){i(o);return}n(l)})})}const iO=Wt(PT),sO=Wt(GT),aO=Wt(VT),oO=Wt(FT),uO=Wt(YT),cO=Wt(ZT),lO=Wt(ct()),fO=cn(St({total:ct(),circulating:ct(),nonCirculating:ct(),nonCirculatingAccounts:Ot(Qe)})),v0=St({amount:At(),uiAmount:Nt(ct()),decimals:ct(),uiAmountString:jt(At())}),dO=cn(Ot(St({address:Qe,amount:At(),uiAmount:Nt(ct()),decimals:ct(),uiAmountString:jt(At())}))),hO=cn(Ot(St({pubkey:Qe,account:St({executable:Zr(),owner:Qe,lamports:ct(),data:ap,rentEpoch:ct()})}))),E0=St({program:At(),parsed:yo(),space:ct()}),pO=cn(Ot(St({pubkey:Qe,account:St({executable:Zr(),owner:Qe,lamports:ct(),data:E0,rentEpoch:ct()})}))),mO=cn(Ot(St({lamports:ct(),address:Qe}))),Tu=St({executable:Zr(),owner:Qe,lamports:ct(),data:ap,rentEpoch:ct()}),yO=St({pubkey:Qe,account:Tu}),gO=Du(zn([Z0(kt.Buffer),E0]),zn([pw,E0]),s=>Array.isArray(s)?Rt(s,ap):s),S0=St({executable:Zr(),owner:Qe,lamports:ct(),data:gO,rentEpoch:ct()}),bO=St({pubkey:Qe,account:S0}),_O=St({state:zn([We("active"),We("inactive"),We("activating"),We("deactivating")]),active:ct(),inactive:ct()}),wO=Wt(Ot(St({signature:At(),slot:ct(),err:na,memo:Nt(At()),blockTime:jt(Nt(ct()))}))),vO=Wt(Ot(St({signature:At(),slot:ct(),err:na,memo:Nt(At()),blockTime:jt(Nt(ct()))}))),EO=St({subscription:ct(),result:$l(Tu)}),SO=St({pubkey:Qe,account:Tu}),AO=St({subscription:ct(),result:$l(SO)}),RO=St({parent:ct(),slot:ct(),root:ct()}),xO=St({subscription:ct(),result:RO}),TO=zn([St({type:zn([We("firstShredReceived"),We("completed"),We("optimisticConfirmation"),We("root")]),slot:ct(),timestamp:ct()}),St({type:We("createdBank"),parent:ct(),slot:ct(),timestamp:ct()}),St({type:We("frozen"),slot:ct(),timestamp:ct(),stats:St({numTransactionEntries:ct(),numSuccessfulTransactions:ct(),numFailedTransactions:ct(),maxTransactionsPerEntry:ct()})}),St({type:We("dead"),slot:ct(),timestamp:ct(),err:At()})]),OO=St({subscription:ct(),result:TO}),NO=St({subscription:ct(),result:$l(zn([XT,$T]))}),kO=St({subscription:ct(),result:ct()}),IO=St({pubkey:At(),gossip:Nt(At()),tpu:Nt(At()),rpc:Nt(At()),version:Nt(At())}),ob=St({votePubkey:At(),nodePubkey:At(),activatedStake:ct(),epochVoteAccount:Zr(),epochCredits:Ot(X0([ct(),ct(),ct()])),commission:ct(),lastVote:ct(),rootSlot:Nt(ct())}),CO=Wt(St({current:Ot(ob),delinquent:Ot(ob)})),BO=zn([We("processed"),We("confirmed"),We("finalized")]),MO=St({slot:ct(),confirmations:Nt(ct()),err:na,confirmationStatus:jt(BO)}),UO=cn(Ot(Nt(MO))),DO=Wt(ct()),gw=St({accountKey:Qe,writableIndexes:Ot(ct()),readonlyIndexes:Ot(ct())}),op=St({signatures:Ot(At()),message:St({accountKeys:Ot(At()),header:St({numRequiredSignatures:ct(),numReadonlySignedAccounts:ct(),numReadonlyUnsignedAccounts:ct()}),instructions:Ot(St({accounts:Ot(ct()),data:At(),programIdIndex:ct()})),recentBlockhash:At(),addressTableLookups:jt(Ot(gw))})}),bw=St({pubkey:Qe,signer:Zr(),writable:Zr(),source:jt(zn([We("transaction"),We("lookupTable")]))}),_w=St({accountKeys:Ot(bw),signatures:Ot(At())}),ww=St({parsed:yo(),program:At(),programId:Qe}),vw=St({accounts:Ot(Qe),data:At(),programId:Qe}),LO=zn([vw,ww]),zO=zn([St({parsed:yo(),program:At(),programId:At()}),St({accounts:Ot(At()),data:At(),programId:At()})]),Ew=Du(LO,zO,s=>"accounts"in s?Rt(s,vw):Rt(s,ww)),Sw=St({signatures:Ot(At()),message:St({accountKeys:Ot(bw),instructions:Ot(Ew),recentBlockhash:At(),addressTableLookups:jt(Nt(Ot(gw)))})}),Ml=St({accountIndex:ct(),mint:At(),owner:jt(At()),programId:jt(At()),uiTokenAmount:v0}),Aw=St({writable:Ot(Qe),readonly:Ot(Qe)}),Wl=St({err:na,fee:ct(),innerInstructions:jt(Nt(Ot(St({index:ct(),instructions:Ot(St({accounts:Ot(ct()),data:At(),programIdIndex:ct()}))})))),preBalances:Ot(ct()),postBalances:Ot(ct()),logMessages:jt(Nt(Ot(At()))),preTokenBalances:jt(Nt(Ot(Ml))),postTokenBalances:jt(Nt(Ot(Ml))),loadedAddresses:jt(Aw),computeUnitsConsumed:jt(ct()),costUnits:jt(ct())}),up=St({err:na,fee:ct(),innerInstructions:jt(Nt(Ot(St({index:ct(),instructions:Ot(Ew)})))),preBalances:Ot(ct()),postBalances:Ot(ct()),logMessages:jt(Nt(Ot(At()))),preTokenBalances:jt(Nt(Ot(Ml))),postTokenBalances:jt(Nt(Ot(Ml))),loadedAddresses:jt(Aw),computeUnitsConsumed:jt(ct()),costUnits:jt(ct())}),go=zn([We(0),We("legacy")]),ra=St({pubkey:At(),lamports:ct(),postBalance:Nt(ct()),rewardType:Nt(At()),commission:jt(Nt(ct()))}),HO=Wt(Nt(St({blockhash:At(),previousBlockhash:At(),parentSlot:ct(),transactions:Ot(St({transaction:op,meta:Nt(Wl),version:jt(go)})),rewards:jt(Ot(ra)),blockTime:Nt(ct()),blockHeight:Nt(ct())}))),jO=Wt(Nt(St({blockhash:At(),previousBlockhash:At(),parentSlot:ct(),rewards:jt(Ot(ra)),blockTime:Nt(ct()),blockHeight:Nt(ct())}))),qO=Wt(Nt(St({blockhash:At(),previousBlockhash:At(),parentSlot:ct(),transactions:Ot(St({transaction:_w,meta:Nt(Wl),version:jt(go)})),rewards:jt(Ot(ra)),blockTime:Nt(ct()),blockHeight:Nt(ct())}))),PO=Wt(Nt(St({blockhash:At(),previousBlockhash:At(),parentSlot:ct(),transactions:Ot(St({transaction:Sw,meta:Nt(up),version:jt(go)})),rewards:jt(Ot(ra)),blockTime:Nt(ct()),blockHeight:Nt(ct())}))),KO=Wt(Nt(St({blockhash:At(),previousBlockhash:At(),parentSlot:ct(),transactions:Ot(St({transaction:_w,meta:Nt(up),version:jt(go)})),rewards:jt(Ot(ra)),blockTime:Nt(ct()),blockHeight:Nt(ct())}))),VO=Wt(Nt(St({blockhash:At(),previousBlockhash:At(),parentSlot:ct(),rewards:jt(Ot(ra)),blockTime:Nt(ct()),blockHeight:Nt(ct())}))),GO=Wt(Nt(St({blockhash:At(),previousBlockhash:At(),parentSlot:ct(),transactions:Ot(St({transaction:op,meta:Nt(Wl)})),rewards:jt(Ot(ra)),blockTime:Nt(ct())}))),ub=Wt(Nt(St({blockhash:At(),previousBlockhash:At(),parentSlot:ct(),signatures:Ot(At()),blockTime:Nt(ct())}))),Yh=Wt(Nt(St({slot:ct(),meta:Nt(Wl),blockTime:jt(Nt(ct())),transaction:op,version:jt(go)}))),ol=Wt(Nt(St({slot:ct(),transaction:Sw,meta:Nt(up),blockTime:jt(Nt(ct())),version:jt(go)}))),FO=cn(St({blockhash:At(),lastValidBlockHeight:ct()})),YO=cn(Zr()),ZO=St({slot:ct(),numTransactions:ct(),numSlots:ct(),samplePeriodSecs:ct()}),XO=Wt(Ot(ZO)),$O=cn(Nt(St({feeCalculator:St({lamportsPerSignature:ct()})}))),WO=Wt(At()),QO=Wt(At()),JO=St({err:na,logs:Ot(At()),signature:At()}),tN=St({result:$l(JO),subscription:ct()}),eN={"solana-client":"js/1.0.0-maintenance"};class cp{constructor(e,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const _={};return async S=>{const{commitment:I,config:k}=Ce(S),R=this._buildArgs([],I,void 0,k),M=rb(R);return _[M]=_[M]??(async()=>{try{const U=await this._rpcRequest("getBlockHeight",R),D=Rt(U,Wt(ct()));if("error"in D)throw new Dt(D.error,"failed to get block height information");return D.result}finally{delete _[M]}})(),await _[M]}})();let i,u,o,l,d,y;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,i=n.wsEndpoint,u=n.httpHeaders,o=n.fetch,l=n.fetchMiddleware,d=n.disableRetryOnRateLimit,y=n.httpAgent),this._rpcEndpoint=jT(e),this._rpcWsEndpoint=i||HT(e),this._rpcClient=eO(e,u,o,l,d,y),this._rpcRequest=nO(this._rpcClient),this._rpcBatchRequest=rO(this._rpcClient),this._rpcWebSocket=new UT(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,n){const{commitment:i,config:u}=Ce(n),o=this._buildArgs([e.toBase58()],i,void 0,u),l=await this._rpcRequest("getBalance",o),d=Rt(l,cn(ct()));if("error"in d)throw new Dt(d.error,`failed to get balance for ${e.toBase58()}`);return d.result}async getBalance(e,n){return await this.getBalanceAndContext(e,n).then(i=>i.value).catch(i=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+i)})}async getBlockTime(e){const n=await this._rpcRequest("getBlockTime",[e]),i=Rt(n,Wt(Nt(ct())));if("error"in i)throw new Dt(i.error,`failed to get block time for slot ${e}`);return i.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),n=Rt(e,Wt(ct()));if("error"in n)throw new Dt(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),n=Rt(e,lO);if("error"in n)throw new Dt(n.error,"failed to get first available block");return n.result}async getSupply(e){let n={};typeof e=="string"?n={commitment:e}:e?n={...e,commitment:e&&e.commitment||this.commitment}:n={commitment:this.commitment};const i=await this._rpcRequest("getSupply",[n]),u=Rt(i,fO);if("error"in u)throw new Dt(u.error,"failed to get supply");return u.result}async getTokenSupply(e,n){const i=this._buildArgs([e.toBase58()],n),u=await this._rpcRequest("getTokenSupply",i),o=Rt(u,cn(v0));if("error"in o)throw new Dt(o.error,"failed to get token supply");return o.result}async getTokenAccountBalance(e,n){const i=this._buildArgs([e.toBase58()],n),u=await this._rpcRequest("getTokenAccountBalance",i),o=Rt(u,cn(v0));if("error"in o)throw new Dt(o.error,"failed to get token account balance");return o.result}async getTokenAccountsByOwner(e,n,i){const{commitment:u,config:o}=Ce(i);let l=[e.toBase58()];"mint"in n?l.push({mint:n.mint.toBase58()}):l.push({programId:n.programId.toBase58()});const d=this._buildArgs(l,u,"base64",o),y=await this._rpcRequest("getTokenAccountsByOwner",d),_=Rt(y,hO);if("error"in _)throw new Dt(_.error,`failed to get token accounts owned by account ${e.toBase58()}`);return _.result}async getParsedTokenAccountsByOwner(e,n,i){let u=[e.toBase58()];"mint"in n?u.push({mint:n.mint.toBase58()}):u.push({programId:n.programId.toBase58()});const o=this._buildArgs(u,i,"jsonParsed"),l=await this._rpcRequest("getTokenAccountsByOwner",o),d=Rt(l,pO);if("error"in d)throw new Dt(d.error,`failed to get token accounts owned by account ${e.toBase58()}`);return d.result}async getLargestAccounts(e){const n={...e,commitment:e&&e.commitment||this.commitment},i=n.filter||n.commitment?[n]:[],u=await this._rpcRequest("getLargestAccounts",i),o=Rt(u,mO);if("error"in o)throw new Dt(o.error,"failed to get largest accounts");return o.result}async getTokenLargestAccounts(e,n){const i=this._buildArgs([e.toBase58()],n),u=await this._rpcRequest("getTokenLargestAccounts",i),o=Rt(u,dO);if("error"in o)throw new Dt(o.error,"failed to get token largest accounts");return o.result}async getAccountInfoAndContext(e,n){const{commitment:i,config:u}=Ce(n),o=this._buildArgs([e.toBase58()],i,"base64",u),l=await this._rpcRequest("getAccountInfo",o),d=Rt(l,cn(Nt(Tu)));if("error"in d)throw new Dt(d.error,`failed to get info about account ${e.toBase58()}`);return d.result}async getParsedAccountInfo(e,n){const{commitment:i,config:u}=Ce(n),o=this._buildArgs([e.toBase58()],i,"jsonParsed",u),l=await this._rpcRequest("getAccountInfo",o),d=Rt(l,cn(Nt(S0)));if("error"in d)throw new Dt(d.error,`failed to get info about account ${e.toBase58()}`);return d.result}async getAccountInfo(e,n){try{return(await this.getAccountInfoAndContext(e,n)).value}catch(i){throw new Error("failed to get info about account "+e.toBase58()+": "+i)}}async getMultipleParsedAccounts(e,n){const{commitment:i,config:u}=Ce(n),o=e.map(_=>_.toBase58()),l=this._buildArgs([o],i,"jsonParsed",u),d=await this._rpcRequest("getMultipleAccounts",l),y=Rt(d,cn(Ot(Nt(S0))));if("error"in y)throw new Dt(y.error,`failed to get info for accounts ${o}`);return y.result}async getMultipleAccountsInfoAndContext(e,n){const{commitment:i,config:u}=Ce(n),o=e.map(_=>_.toBase58()),l=this._buildArgs([o],i,"base64",u),d=await this._rpcRequest("getMultipleAccounts",l),y=Rt(d,cn(Ot(Nt(Tu))));if("error"in y)throw new Dt(y.error,`failed to get info for accounts ${o}`);return y.result}async getMultipleAccountsInfo(e,n){return(await this.getMultipleAccountsInfoAndContext(e,n)).value}async getStakeActivation(e,n,i){const{commitment:u,config:o}=Ce(n),l=this._buildArgs([e.toBase58()],u,void 0,{...o,epoch:i??o?.epoch}),d=await this._rpcRequest("getStakeActivation",l),y=Rt(d,Wt(_O));if("error"in y)throw new Dt(y.error,`failed to get Stake Activation ${e.toBase58()}`);return y.result}async getProgramAccounts(e,n){const{commitment:i,config:u}=Ce(n),{encoding:o,...l}=u||{},d=this._buildArgs([e.toBase58()],i,o||"base64",{...l,...l.filters?{filters:sb(l.filters)}:null}),y=await this._rpcRequest("getProgramAccounts",d),_=Ot(yO),S=l.withContext===!0?Rt(y,cn(_)):Rt(y,Wt(_));if("error"in S)throw new Dt(S.error,`failed to get accounts owned by program ${e.toBase58()}`);return S.result}async getParsedProgramAccounts(e,n){const{commitment:i,config:u}=Ce(n),o=this._buildArgs([e.toBase58()],i,"jsonParsed",u),l=await this._rpcRequest("getProgramAccounts",o),d=Rt(l,Wt(Ot(bO)));if("error"in d)throw new Dt(d.error,`failed to get accounts owned by program ${e.toBase58()}`);return d.result}async confirmTransaction(e,n){let i;if(typeof e=="string")i=e;else{const o=e;if(o.abortSignal?.aborted)return Promise.reject(o.abortSignal.reason);i=o.signature}let u;try{u=Nn.decode(i)}catch{throw new Error("signature must be base58 encoded: "+i)}return de(u.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:i}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((n,i)=>{e!=null&&(e.aborted?i(e.reason):e.addEventListener("abort",()=>{i(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:n}){let i,u,o=!1;const l=new Promise((y,_)=>{try{i=this.onSignature(n,(I,k)=>{i=void 0;const R={context:k,value:I};y({__type:Ei.PROCESSED,response:R})},e);const S=new Promise(I=>{i==null?I():u=this._onSubscriptionStateChange(i,k=>{k==="subscribed"&&I()})});(async()=>{if(await S,o)return;const I=await this.getSignatureStatus(n);if(o||I==null)return;const{context:k,value:R}=I;if(R!=null)if(R?.err)_(R.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(R.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(R.confirmationStatus==="processed"||R.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}o=!0,y({__type:Ei.PROCESSED,response:{context:k,value:R}})}})()}catch(S){_(S)}});return{abortConfirmation:()=>{u&&(u(),u=void 0),i!=null&&(this.removeSignatureListener(i),i=void 0)},confirmationPromise:l}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:n,lastValidBlockHeight:i,signature:u}}){let o=!1;const l=new Promise(I=>{const k=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let R=await k();if(!o){for(;R<=i;)if(await Ps(1e3),o||(R=await k(),o))return;I({__type:Ei.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:d,confirmationPromise:y}=this.getTransactionConfirmationPromise({commitment:e,signature:u}),_=this.getCancellationPromise(n);let S;try{const I=await Promise.race([_,y,l]);if(I.__type===Ei.PROCESSED)S=I.response;else throw new ep(u)}finally{o=!0,d()}return S}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:n,minContextSlot:i,nonceAccountPubkey:u,nonceValue:o,signature:l}}){let d=!1;const y=new Promise(R=>{let M=o,U=null;const D=async()=>{try{const{context:q,value:G}=await this.getNonceAndContext(u,{commitment:e,minContextSlot:i});return U=q.slot,G?.nonce}catch{return M}};(async()=>{if(M=await D(),!d)for(;;){if(o!==M){R({__type:Ei.NONCE_INVALID,slotInWhichNonceDidAdvance:U});return}if(await Ps(2e3),d||(M=await D(),d))return}})()}),{abortConfirmation:_,confirmationPromise:S}=this.getTransactionConfirmationPromise({commitment:e,signature:l}),I=this.getCancellationPromise(n);let k;try{const R=await Promise.race([I,S,y]);if(R.__type===Ei.PROCESSED)k=R.response;else{let M;for(;;){const U=await this.getSignatureStatus(l);if(U==null)break;if(U.context.slot<(R.slotInWhichNonceDidAdvance??i)){await Ps(400);continue}M=U;break}if(M?.value){const U=e||"finalized",{confirmationStatus:D}=M.value;switch(U){case"processed":case"recent":if(D!=="processed"&&D!=="confirmed"&&D!=="finalized")throw new Ja(l);break;case"confirmed":case"single":case"singleGossip":if(D!=="confirmed"&&D!=="finalized")throw new Ja(l);break;case"finalized":case"max":case"root":if(D!=="finalized")throw new Ja(l);break;default:}k={context:M.context,value:{err:M.value.err}}}else throw new Ja(l)}}finally{d=!0,_()}return k}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:n}){let i;const u=new Promise(y=>{let _=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{_=this._confirmTransactionInitialTimeout||3e4;break}}i=setTimeout(()=>y({__type:Ei.TIMED_OUT,timeoutMs:_}),_)}),{abortConfirmation:o,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:n});let d;try{const y=await Promise.race([l,u]);if(y.__type===Ei.PROCESSED)d=y.response;else throw new np(n,y.timeoutMs/1e3)}finally{clearTimeout(i),o()}return d}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),n=Rt(e,Wt(Ot(IO)));if("error"in n)throw new Dt(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(e){const n=this._buildArgs([],e),i=await this._rpcRequest("getVoteAccounts",n),u=Rt(i,CO);if("error"in u)throw new Dt(u.error,"failed to get vote accounts");return u.result}async getSlot(e){const{commitment:n,config:i}=Ce(e),u=this._buildArgs([],n,void 0,i),o=await this._rpcRequest("getSlot",u),l=Rt(o,Wt(ct()));if("error"in l)throw new Dt(l.error,"failed to get slot");return l.result}async getSlotLeader(e){const{commitment:n,config:i}=Ce(e),u=this._buildArgs([],n,void 0,i),o=await this._rpcRequest("getSlotLeader",u),l=Rt(o,Wt(At()));if("error"in l)throw new Dt(l.error,"failed to get slot leader");return l.result}async getSlotLeaders(e,n){const i=[e,n],u=await this._rpcRequest("getSlotLeaders",i),o=Rt(u,Wt(Ot(Qe)));if("error"in o)throw new Dt(o.error,"failed to get slot leaders");return o.result}async getSignatureStatus(e,n){const{context:i,value:u}=await this.getSignatureStatuses([e],n);de(u.length===1);const o=u[0];return{context:i,value:o}}async getSignatureStatuses(e,n){const i=[e];n&&i.push(n);const u=await this._rpcRequest("getSignatureStatuses",i),o=Rt(u,UO);if("error"in o)throw new Dt(o.error,"failed to get signature status");return o.result}async getTransactionCount(e){const{commitment:n,config:i}=Ce(e),u=this._buildArgs([],n,void 0,i),o=await this._rpcRequest("getTransactionCount",u),l=Rt(o,Wt(ct()));if("error"in l)throw new Dt(l.error,"failed to get transaction count");return l.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const n=this._buildArgs([],e),i=await this._rpcRequest("getInflationGovernor",n),u=Rt(i,iO);if("error"in u)throw new Dt(u.error,"failed to get inflation");return u.result}async getInflationReward(e,n,i){const{commitment:u,config:o}=Ce(i),l=this._buildArgs([e.map(_=>_.toBase58())],u,void 0,{...o,epoch:n??o?.epoch}),d=await this._rpcRequest("getInflationReward",l),y=Rt(d,KT);if("error"in y)throw new Dt(y.error,"failed to get inflation reward");return y.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),n=Rt(e,sO);if("error"in n)throw new Dt(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(e){const{commitment:n,config:i}=Ce(e),u=this._buildArgs([],n,void 0,i),o=await this._rpcRequest("getEpochInfo",u),l=Rt(o,oO);if("error"in l)throw new Dt(l.error,"failed to get epoch info");return l.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),n=Rt(e,uO);if("error"in n)throw new Dt(n.error,"failed to get epoch schedule");const i=n.result;return new hw(i.slotsPerEpoch,i.leaderScheduleSlotOffset,i.warmup,i.firstNormalEpoch,i.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),n=Rt(e,cO);if("error"in n)throw new Dt(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(e,n){const i=this._buildArgs([e],n),u=await this._rpcRequest("getMinimumBalanceForRentExemption",i),o=Rt(u,DO);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(e){const{context:n,value:{blockhash:i}}=await this.getLatestBlockhashAndContext(e);return{context:n,value:{blockhash:i,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){const n=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),i=Rt(n,XO);if("error"in i)throw new Dt(i.error,"failed to get recent performance samples");return i.result}async getFeeCalculatorForBlockhash(e,n){const i=this._buildArgs([e],n),u=await this._rpcRequest("getFeeCalculatorForBlockhash",i),o=Rt(u,$O);if("error"in o)throw new Dt(o.error,"failed to get fee calculator");const{context:l,value:d}=o.result;return{context:l,value:d!==null?d.feeCalculator:null}}async getFeeForMessage(e,n){const i=Qt(e.serialize()).toString("base64"),u=this._buildArgs([i],n),o=await this._rpcRequest("getFeeForMessage",u),l=Rt(o,cn(Nt(ct())));if("error"in l)throw new Dt(l.error,"failed to get fee for message");if(l.result===null)throw new Error("invalid blockhash");return l.result}async getRecentPrioritizationFees(e){const n=e?.lockedWritableAccounts?.map(l=>l.toBase58()),i=n?.length?[n]:[],u=await this._rpcRequest("getRecentPrioritizationFees",i),o=Rt(u,aO);if("error"in o)throw new Dt(o.error,"failed to get recent prioritization fees");return o.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(e){const{commitment:n,config:i}=Ce(e),u=this._buildArgs([],n,void 0,i),o=await this._rpcRequest("getLatestBlockhash",u),l=Rt(o,FO);if("error"in l)throw new Dt(l.error,"failed to get latest blockhash");return l.result}async isBlockhashValid(e,n){const{commitment:i,config:u}=Ce(n),o=this._buildArgs([e],i,void 0,u),l=await this._rpcRequest("isBlockhashValid",o),d=Rt(l,YO);if("error"in d)throw new Dt(d.error,"failed to determine if the blockhash `"+e+"`is valid");return d.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),n=Rt(e,Wt(WT));if("error"in n)throw new Dt(n.error,"failed to get version");return n.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),n=Rt(e,Wt(At()));if("error"in n)throw new Dt(n.error,"failed to get genesis hash");return n.result}async getBlock(e,n){const{commitment:i,config:u}=Ce(n),o=this._buildArgsAtLeastConfirmed([e],i,void 0,u),l=await this._rpcRequest("getBlock",o);try{switch(u?.transactionDetails){case"accounts":{const d=Rt(l,qO);if("error"in d)throw d.error;return d.result}case"none":{const d=Rt(l,jO);if("error"in d)throw d.error;return d.result}default:{const d=Rt(l,HO);if("error"in d)throw d.error;const{result:y}=d;return y?{...y,transactions:y.transactions.map(({transaction:_,meta:S,version:I})=>({meta:S,transaction:{..._,message:Fh(I,_.message)},version:I}))}:null}}}catch(d){throw new Dt(d,"failed to get confirmed block")}}async getParsedBlock(e,n){const{commitment:i,config:u}=Ce(n),o=this._buildArgsAtLeastConfirmed([e],i,"jsonParsed",u),l=await this._rpcRequest("getBlock",o);try{switch(u?.transactionDetails){case"accounts":{const d=Rt(l,KO);if("error"in d)throw d.error;return d.result}case"none":{const d=Rt(l,VO);if("error"in d)throw d.error;return d.result}default:{const d=Rt(l,PO);if("error"in d)throw d.error;return d.result}}}catch(d){throw new Dt(d,"failed to get block")}}async getBlockProduction(e){let n,i;if(typeof e=="string")i=e;else if(e){const{commitment:d,...y}=e;i=d,n=y}const u=this._buildArgs([],i,"base64",n),o=await this._rpcRequest("getBlockProduction",u),l=Rt(o,tO);if("error"in l)throw new Dt(l.error,"failed to get block production information");return l.result}async getTransaction(e,n){const{commitment:i,config:u}=Ce(n),o=this._buildArgsAtLeastConfirmed([e],i,void 0,u),l=await this._rpcRequest("getTransaction",o),d=Rt(l,Yh);if("error"in d)throw new Dt(d.error,"failed to get transaction");const y=d.result;return y&&{...y,transaction:{...y.transaction,message:Fh(y.version,y.transaction.message)}}}async getParsedTransaction(e,n){const{commitment:i,config:u}=Ce(n),o=this._buildArgsAtLeastConfirmed([e],i,"jsonParsed",u),l=await this._rpcRequest("getTransaction",o),d=Rt(l,ol);if("error"in d)throw new Dt(d.error,"failed to get transaction");return d.result}async getParsedTransactions(e,n){const{commitment:i,config:u}=Ce(n),o=e.map(y=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([y],i,"jsonParsed",u)}));return(await this._rpcBatchRequest(o)).map(y=>{const _=Rt(y,ol);if("error"in _)throw new Dt(_.error,"failed to get transactions");return _.result})}async getTransactions(e,n){const{commitment:i,config:u}=Ce(n),o=e.map(y=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([y],i,void 0,u)}));return(await this._rpcBatchRequest(o)).map(y=>{const _=Rt(y,Yh);if("error"in _)throw new Dt(_.error,"failed to get transactions");const S=_.result;return S&&{...S,transaction:{...S.transaction,message:Fh(S.version,S.transaction.message)}}})}async getConfirmedBlock(e,n){const i=this._buildArgsAtLeastConfirmed([e],n),u=await this._rpcRequest("getBlock",i),o=Rt(u,GO);if("error"in o)throw new Dt(o.error,"failed to get confirmed block");const l=o.result;if(!l)throw new Error("Confirmed block "+e+" not found");const d={...l,transactions:l.transactions.map(({transaction:y,meta:_})=>{const S=new Nr(y.message);return{meta:_,transaction:{...y,message:S}}})};return{...d,transactions:d.transactions.map(({transaction:y,meta:_})=>({meta:_,transaction:ce.populate(y.message,y.signatures)}))}}async getBlocks(e,n,i){const u=this._buildArgsAtLeastConfirmed(n!==void 0?[e,n]:[e],i),o=await this._rpcRequest("getBlocks",u),l=Rt(o,Wt(Ot(ct())));if("error"in l)throw new Dt(l.error,"failed to get blocks");return l.result}async getBlockSignatures(e,n){const i=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),u=await this._rpcRequest("getBlock",i),o=Rt(u,ub);if("error"in o)throw new Dt(o.error,"failed to get block");const l=o.result;if(!l)throw new Error("Block "+e+" not found");return l}async getConfirmedBlockSignatures(e,n){const i=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),u=await this._rpcRequest("getBlock",i),o=Rt(u,ub);if("error"in o)throw new Dt(o.error,"failed to get confirmed block");const l=o.result;if(!l)throw new Error("Confirmed block "+e+" not found");return l}async getConfirmedTransaction(e,n){const i=this._buildArgsAtLeastConfirmed([e],n),u=await this._rpcRequest("getTransaction",i),o=Rt(u,Yh);if("error"in o)throw new Dt(o.error,"failed to get transaction");const l=o.result;if(!l)return l;const d=new Nr(l.transaction.message),y=l.transaction.signatures;return{...l,transaction:ce.populate(d,y)}}async getParsedConfirmedTransaction(e,n){const i=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed"),u=await this._rpcRequest("getTransaction",i),o=Rt(u,ol);if("error"in o)throw new Dt(o.error,"failed to get confirmed transaction");return o.result}async getParsedConfirmedTransactions(e,n){const i=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],n,"jsonParsed")}));return(await this._rpcBatchRequest(i)).map(l=>{const d=Rt(l,ol);if("error"in d)throw new Dt(d.error,"failed to get confirmed transactions");return d.result})}async getConfirmedSignaturesForAddress(e,n,i){let u={},o=await this.getFirstAvailableBlock();for(;!("until"in u)&&(n--,!(n<=0||n<o));)try{const y=await this.getConfirmedBlockSignatures(n,"finalized");y.signatures.length>0&&(u.until=y.signatures[y.signatures.length-1].toString())}catch(y){if(y instanceof Error&&y.message.includes("skipped"))continue;throw y}let l=await this.getSlot("finalized");for(;!("before"in u)&&(i++,!(i>l));)try{const y=await this.getConfirmedBlockSignatures(i);y.signatures.length>0&&(u.before=y.signatures[y.signatures.length-1].toString())}catch(y){if(y instanceof Error&&y.message.includes("skipped"))continue;throw y}return(await this.getConfirmedSignaturesForAddress2(e,u)).map(y=>y.signature)}async getConfirmedSignaturesForAddress2(e,n,i){const u=this._buildArgsAtLeastConfirmed([e.toBase58()],i,void 0,n),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",u),l=Rt(o,wO);if("error"in l)throw new Dt(l.error,"failed to get confirmed signatures for address");return l.result}async getSignaturesForAddress(e,n,i){const u=this._buildArgsAtLeastConfirmed([e.toBase58()],i,void 0,n),o=await this._rpcRequest("getSignaturesForAddress",u),l=Rt(o,vO);if("error"in l)throw new Dt(l.error,"failed to get signatures for address");return l.result}async getAddressLookupTable(e,n){const{context:i,value:u}=await this.getAccountInfoAndContext(e,n);let o=null;return u!==null&&(o=new w0({key:e,state:w0.deserialize(u.data)})),{context:i,value:o}}async getNonceAndContext(e,n){const{context:i,value:u}=await this.getAccountInfoAndContext(e,n);let o=null;return u!==null&&(o=Xl.fromAccountData(u.data)),{context:i,value:o}}async getNonce(e,n){return await this.getNonceAndContext(e,n).then(i=>i.value).catch(i=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+i)})}async requestAirdrop(e,n){const i=await this._rpcRequest("requestAirdrop",[e.toBase58(),n]),u=Rt(i,WO);if("error"in u)throw new Dt(u.error,`airdrop to ${e.toBase58()} failed`);return u.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Ps(100);const i=Date.now()-this._blockhashInfo.lastFetch>=mw;if(this._blockhashInfo.latestBlockhash!==null&&!i)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),n=this._blockhashInfo.latestBlockhash,i=n?n.blockhash:null;for(let u=0;u<50;u++){const o=await this.getLatestBlockhash("finalized");if(i!==o.blockhash)return this._blockhashInfo={latestBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;await Ps(lw/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:n,config:i}=Ce(e),u=this._buildArgs([],n,"base64",i),o=await this._rpcRequest("getStakeMinimumDelegation",u),l=Rt(o,cn(ct()));if("error"in l)throw new Dt(l.error,"failed to get stake minimum delegation");return l.result}async simulateTransaction(e,n,i){if("message"in e){const U=e.serialize(),D=kt.Buffer.from(U).toString("base64");if(Array.isArray(n)||i!==void 0)throw new Error("Invalid arguments");const q=n||{};q.encoding="base64","commitment"in q||(q.commitment=this.commitment),n&&typeof n=="object"&&"innerInstructions"in n&&(q.innerInstructions=n.innerInstructions);const G=[D,q],P=await this._rpcRequest("simulateTransaction",G),W=Rt(P,ab);if("error"in W)throw new Error("failed to simulate transaction: "+W.error.message);return W.result}let u;if(e instanceof ce){let M=e;u=new ce,u.feePayer=M.feePayer,u.instructions=e.instructions,u.nonceInfo=M.nonceInfo,u.signatures=M.signatures}else u=ce.populate(e),u._message=u._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const o=n;if(u.nonceInfo&&o)u.sign(...o);else{let M=this._disableBlockhashCaching;for(;;){const U=await this._blockhashWithExpiryBlockHeight(M);if(u.lastValidBlockHeight=U.lastValidBlockHeight,u.recentBlockhash=U.blockhash,!o)break;if(u.sign(...o),!u.signature)throw new Error("!signature");const D=u.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(D)&&!this._blockhashInfo.transactionSignatures.includes(D)){this._blockhashInfo.simulatedSignatures.push(D);break}else M=!0}}const l=u._compile(),d=l.serialize(),_=u._serialize(d).toString("base64"),S={encoding:"base64",commitment:this.commitment};if(i){const M=(Array.isArray(i)?i:l.nonProgramIds()).map(U=>U.toBase58());S.accounts={encoding:"base64",addresses:M}}o&&(S.sigVerify=!0),n&&typeof n=="object"&&"innerInstructions"in n&&(S.innerInstructions=n.innerInstructions);const I=[_,S],k=await this._rpcRequest("simulateTransaction",I),R=Rt(k,ab);if("error"in R){let M;if("data"in R.error&&(M=R.error.data.logs,M&&Array.isArray(M))){const U=`
    `,D=U+M.join(U);console.error(R.error.message,D)}throw new _s({action:"simulate",signature:"",transactionMessage:R.error.message,logs:M})}return R.result}async sendTransaction(e,n,i){if("version"in e){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const l=e.serialize();return await this.sendRawTransaction(l,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const u=n;if(e.nonceInfo)e.sign(...u);else{let l=this._disableBlockhashCaching;for(;;){const d=await this._blockhashWithExpiryBlockHeight(l);if(e.lastValidBlockHeight=d.lastValidBlockHeight,e.recentBlockhash=d.blockhash,e.sign(...u),!e.signature)throw new Error("!signature");const y=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(y))l=!0;else{this._blockhashInfo.transactionSignatures.push(y);break}}}const o=e.serialize();return await this.sendRawTransaction(o,i)}async sendRawTransaction(e,n){const i=Qt(e).toString("base64");return await this.sendEncodedTransaction(i,n)}async sendEncodedTransaction(e,n){const i={encoding:"base64"},u=n&&n.skipPreflight,o=u===!0?"processed":n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(i.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(i.minContextSlot=n.minContextSlot),u&&(i.skipPreflight=u),o&&(i.preflightCommitment=o);const l=[e,i],d=await this._rpcRequest("sendTransaction",l),y=Rt(d,QO);if("error"in y){let _;throw"data"in y.error&&(_=y.error.data.logs),new _s({action:u?"send":"simulate",signature:"",transactionMessage:y.error.message,logs:_})}return y.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,i])=>{this._setSubscription(n,{...i,state:"pending"})})}_setSubscription(e,n){const i=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=n,i!==n.state){const u=this._subscriptionStateChangeCallbacksByHash[e];u&&u.forEach(o=>{try{o(n.state)}catch{}})}}_onSubscriptionStateChange(e,n){const i=this._subscriptionHashByClientSubscriptionId[e];if(i==null)return()=>{};const u=this._subscriptionStateChangeCallbacksByHash[i]||=new Set;return u.add(n),()=>{u.delete(n),u.size===0&&delete this._subscriptionStateChangeCallbacksByHash[i]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(i){i instanceof Error&&console.log(`Error when closing socket connection: ${i.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,n=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async i=>{const u=this._subscriptionsByHash[i];if(u!==void 0)switch(u.state){case"pending":case"unsubscribed":if(u.callbacks.size===0){delete this._subscriptionsByHash[i],u.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[u.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:o,method:l}=u;try{this._setSubscription(i,{...u,state:"subscribing"});const d=await this._rpcWebSocket.call(l,o);this._setSubscription(i,{...u,serverSubscriptionId:d,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[d]=u.callbacks,await this._updateSubscriptions()}catch(d){if(console.error(`Received ${d instanceof Error?"":"JSON-RPC "}error calling \`${l}\``,{args:o,error:d}),!n())return;this._setSubscription(i,{...u,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":u.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:o,unsubscribeMethod:l}=u;if(this._subscriptionsAutoDisposedByRpc.has(o))this._subscriptionsAutoDisposedByRpc.delete(o);else{this._setSubscription(i,{...u,state:"unsubscribing"}),this._setSubscription(i,{...u,state:"unsubscribing"});try{await this._rpcWebSocket.call(l,[o])}catch(d){if(d instanceof Error&&console.error(`${l} error:`,d.message),!n())return;this._setSubscription(i,{...u,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(i,{...u,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,n){const i=this._subscriptionCallbacksByServerSubscriptionId[e];i!==void 0&&i.forEach(u=>{try{u(...n)}catch(o){console.error(o)}})}_wsOnAccountNotification(e){const{result:n,subscription:i}=Rt(e,EO);this._handleServerNotification(i,[n.value,n.context])}_makeSubscription(e,n){const i=this._nextClientSubscriptionId++,u=rb([e.method,n]),o=this._subscriptionsByHash[u];return o===void 0?this._subscriptionsByHash[u]={...e,args:n,callbacks:new Set([e.callback]),state:"pending"}:o.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[i]=u,this._subscriptionDisposeFunctionsByClientSubscriptionId[i]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[i],delete this._subscriptionHashByClientSubscriptionId[i];const l=this._subscriptionsByHash[u];de(l!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${i}`),l.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),i}onAccountChange(e,n,i){const{commitment:u,config:o}=Ce(i),l=this._buildArgs([e.toBase58()],u||this._commitment||"finalized","base64",o);return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},l)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:n,subscription:i}=Rt(e,AO);this._handleServerNotification(i,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(e,n,i,u){const{commitment:o,config:l}=Ce(i),d=this._buildArgs([e.toBase58()],o||this._commitment||"finalized","base64",l||(u?{filters:sb(u)}:void 0));return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},d)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,n,i){const u=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],i||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},u)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:n,subscription:i}=Rt(e,tN);this._handleServerNotification(i,[n.value,n.context])}_wsOnSlotNotification(e){const{result:n,subscription:i}=Rt(e,xO);this._handleServerNotification(i,[n])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:n,subscription:i}=Rt(e,OO);this._handleServerNotification(i,[n])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,n){const i=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];i?await i():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${n}' events could not be found.`)}_buildArgs(e,n,i,u){const o=n||this._commitment;if(o||i||u){let l={};i&&(l.encoding=i),o&&(l.commitment=o),u&&(l=Object.assign(l,u)),e.push(l)}return e}_buildArgsAtLeastConfirmed(e,n,i,u){const o=n||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,n,i,u)}_wsOnSignatureNotification(e){const{result:n,subscription:i}=Rt(e,NO);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(i),this._handleServerNotification(i,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(e,n,i){const u=this._buildArgs([e],i||this._commitment||"finalized"),o=this._makeSubscription({callback:(l,d)=>{if(l.type==="status"){n(l.result,d);try{this.removeSignatureListener(o)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},u);return o}onSignatureWithOptions(e,n,i){const{commitment:u,...o}={...i,commitment:i&&i.commitment||this._commitment||"finalized"},l=this._buildArgs([e],u,void 0,o),d=this._makeSubscription({callback:(y,_)=>{n(y,_);try{this.removeSignatureListener(d)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},l);return d}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:n,subscription:i}=Rt(e,kO);this._handleServerNotification(i,[n])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class io{constructor(e){this._keypair=void 0,this._keypair=e??Jg()}static generate(){return new io(Jg())}static fromSecretKey(e,n){if(e.byteLength!==64)throw new Error("bad secret key size");const i=e.slice(32,64);if(!n||!n.skipValidation){const u=e.slice(0,32),o=Bl(u);for(let l=0;l<32;l++)if(i[l]!==o[l])throw new Error("provided secretKey is invalid")}return new io({publicKey:i,secretKey:e})}static fromSeed(e){const n=Bl(e),i=new Uint8Array(64);return i.set(e),i.set(n,32),new io({publicKey:n,secretKey:i})}get publicKey(){return new vt(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const xi=Object.freeze({CreateLookupTable:{index:0,layout:Q.struct([Q.u32("instruction"),fo("recentSlot"),Q.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:Q.struct([Q.u32("instruction")])},ExtendLookupTable:{index:2,layout:Q.struct([Q.u32("instruction"),fo(),Q.seq(ne(),Q.offset(Q.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Q.struct([Q.u32("instruction")])},CloseLookupTable:{index:4,layout:Q.struct([Q.u32("instruction")])}});class nN{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const i=Q.u32("instruction").decode(e.data);let u;for(const[o,l]of Object.entries(xi))if(l.index==i){u=o;break}if(!u)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return u}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:n}=ye(xi.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(n)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:n}=ye(xi.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:n.map(i=>new vt(i))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(lp.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}class lp{constructor(){}static createLookupTable(e){const[n,i]=vt.findProgramAddressSync([e.authority.toBuffer(),q_().encode(e.recentSlot)],this.programId),u=xi.CreateLookupTable,o=ue(u,{recentSlot:BigInt(e.recentSlot),bumpSeed:i}),l=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:ln.programId,isSigner:!1,isWritable:!1}];return[new Ae({programId:this.programId,keys:l,data:o}),n]}static freezeLookupTable(e){const n=xi.FreezeLookupTable,i=ue(n),u=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Ae({programId:this.programId,keys:u,data:i})}static extendLookupTable(e){const n=xi.ExtendLookupTable,i=ue(n,{addresses:e.addresses.map(o=>o.toBytes())}),u=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&u.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:ln.programId,isSigner:!1,isWritable:!1}),new Ae({programId:this.programId,keys:u,data:i})}static deactivateLookupTable(e){const n=xi.DeactivateLookupTable,i=ue(n),u=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Ae({programId:this.programId,keys:u,data:i})}static closeLookupTable(e){const n=xi.CloseLookupTable,i=ue(n),u=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new Ae({programId:this.programId,keys:u,data:i})}}lp.programId=new vt("AddressLookupTab1e1111111111111111111111111");class rN{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const i=Q.u8("instruction").decode(e.data);let u;for(const[o,l]of Object.entries(Gr))if(l.index==i){u=o;break}if(!u)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return u}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:n,additionalFee:i}=ye(Gr.RequestUnits,e.data);return{units:n,additionalFee:i}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:n}=ye(Gr.RequestHeapFrame,e.data);return{bytes:n}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:n}=ye(Gr.SetComputeUnitLimit,e.data);return{units:n}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:n}=ye(Gr.SetComputeUnitPrice,e.data);return{microLamports:n}}static checkProgramId(e){if(!e.equals(fp.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const Gr=Object.freeze({RequestUnits:{index:0,layout:Q.struct([Q.u8("instruction"),Q.u32("units"),Q.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:Q.struct([Q.u8("instruction"),Q.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:Q.struct([Q.u8("instruction"),Q.u32("units")])},SetComputeUnitPrice:{index:3,layout:Q.struct([Q.u8("instruction"),fo("microLamports")])}});class fp{constructor(){}static requestUnits(e){const n=Gr.RequestUnits,i=ue(n,e);return new Ae({keys:[],programId:this.programId,data:i})}static requestHeapFrame(e){const n=Gr.RequestHeapFrame,i=ue(n,e);return new Ae({keys:[],programId:this.programId,data:i})}static setComputeUnitLimit(e){const n=Gr.SetComputeUnitLimit,i=ue(n,e);return new Ae({keys:[],programId:this.programId,data:i})}static setComputeUnitPrice(e){const n=Gr.SetComputeUnitPrice,i=ue(n,{microLamports:BigInt(e.microLamports)});return new Ae({keys:[],programId:this.programId,data:i})}}fp.programId=new vt("ComputeBudget111111111111111111111111111111");const cb=64,lb=32,fb=64,db=Q.struct([Q.u8("numSignatures"),Q.u8("padding"),Q.u16("signatureOffset"),Q.u16("signatureInstructionIndex"),Q.u16("publicKeyOffset"),Q.u16("publicKeyInstructionIndex"),Q.u16("messageDataOffset"),Q.u16("messageDataSize"),Q.u16("messageInstructionIndex")]);class Ql{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:n,message:i,signature:u,instructionIndex:o}=e;de(n.length===lb,`Public Key must be ${lb} bytes but received ${n.length} bytes`),de(u.length===fb,`Signature must be ${fb} bytes but received ${u.length} bytes`);const l=db.span,d=l+n.length,y=d+u.length,_=1,S=kt.Buffer.alloc(y+i.length),I=o??65535;return db.encode({numSignatures:_,padding:0,signatureOffset:d,signatureInstructionIndex:I,publicKeyOffset:l,publicKeyInstructionIndex:I,messageDataOffset:y,messageDataSize:i.length,messageInstructionIndex:I},S),S.fill(n,l),S.fill(u,d),S.fill(i,y),new Ae({keys:[],programId:Ql.programId,data:S})}static createInstructionWithPrivateKey(e){const{privateKey:n,message:i,instructionIndex:u}=e;de(n.length===cb,`Private key must be ${cb} bytes but received ${n.length} bytes`);try{const o=io.fromSecretKey(n),l=o.publicKey.toBytes(),d=J0(i,o.secretKey);return this.createInstructionWithPublicKey({publicKey:l,message:i,signature:d,instructionIndex:u})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}}Ql.programId=new vt("Ed25519SigVerify111111111111111111111111111");const iN=(s,e)=>{const n=Q0.sign(s,e);return[n.toCompactRawBytes(),n.recovery]};Q0.utils.isValidPrivateKey;const sN=Q0.getPublicKey,hb=32,Zh=20,pb=64,aN=11,Xh=Q.struct([Q.u8("numSignatures"),Q.u16("signatureOffset"),Q.u8("signatureInstructionIndex"),Q.u16("ethAddressOffset"),Q.u8("ethAddressInstructionIndex"),Q.u16("messageDataOffset"),Q.u16("messageDataSize"),Q.u8("messageInstructionIndex"),Q.blob(20,"ethAddress"),Q.blob(64,"signature"),Q.u8("recoveryId")]);class so{constructor(){}static publicKeyToEthAddress(e){de(e.length===pb,`Public key must be ${pb} bytes but received ${e.length} bytes`);try{return kt.Buffer.from($g(Qt(e))).slice(-Zh)}catch(n){throw new Error(`Error constructing Ethereum address: ${n}`)}}static createInstructionWithPublicKey(e){const{publicKey:n,message:i,signature:u,recoveryId:o,instructionIndex:l}=e;return so.createInstructionWithEthAddress({ethAddress:so.publicKeyToEthAddress(n),message:i,signature:u,recoveryId:o,instructionIndex:l})}static createInstructionWithEthAddress(e){const{ethAddress:n,message:i,signature:u,recoveryId:o,instructionIndex:l=0}=e;let d;typeof n=="string"?n.startsWith("0x")?d=kt.Buffer.from(n.substr(2),"hex"):d=kt.Buffer.from(n,"hex"):d=n,de(d.length===Zh,`Address must be ${Zh} bytes but received ${d.length} bytes`);const y=1+aN,_=y,S=y+d.length,I=S+u.length+1,k=1,R=kt.Buffer.alloc(Xh.span+i.length);return Xh.encode({numSignatures:k,signatureOffset:S,signatureInstructionIndex:l,ethAddressOffset:_,ethAddressInstructionIndex:l,messageDataOffset:I,messageDataSize:i.length,messageInstructionIndex:l,signature:Qt(u),ethAddress:Qt(d),recoveryId:o},R),R.fill(Qt(i),Xh.span),new Ae({keys:[],programId:so.programId,data:R})}static createInstructionWithPrivateKey(e){const{privateKey:n,message:i,instructionIndex:u}=e;de(n.length===hb,`Private key must be ${hb} bytes but received ${n.length} bytes`);try{const o=Qt(n),l=sN(o,!1).slice(1),d=kt.Buffer.from($g(Qt(i))),[y,_]=iN(d,o);return this.createInstructionWithPublicKey({publicKey:l,message:i,signature:y,recoveryId:_,instructionIndex:u})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}}so.programId=new vt("KeccakSecp256k11111111111111111111111111111");var Rw;const xw=new vt("StakeConfig11111111111111111111111111111111");class Tw{constructor(e,n){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=n}}class Lu{constructor(e,n,i){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=n,this.custodian=i}}Rw=Lu;Lu.default=new Rw(0,0,vt.default);class oN{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const i=Q.u32("instruction").decode(e.data);let u;for(const[o,l]of Object.entries(vn))if(l.index==i){u=o;break}if(!u)throw new Error("Instruction type incorrect; not a StakeInstruction");return u}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:n,lockup:i}=ye(vn.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new Tw(new vt(n.staker),new vt(n.withdrawer)),lockup:new Lu(i.unixTimestamp,i.epoch,new vt(i.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),ye(vn.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:n,stakeAuthorizationType:i}=ye(vn.Authorize,e.data),u={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new vt(n),stakeAuthorizationType:{index:i}};return e.keys.length>3&&(u.custodianPubkey=e.keys[3].pubkey),u}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:n,stakeAuthorizationType:i,authoritySeed:u,authorityOwner:o}=ye(vn.AuthorizeWithSeed,e.data),l={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:u,authorityOwner:new vt(o),newAuthorizedPubkey:new vt(n),stakeAuthorizationType:{index:i}};return e.keys.length>3&&(l.custodianPubkey=e.keys[3].pubkey),l}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:n}=ye(vn.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:n}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),ye(vn.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:n}=ye(vn.Withdraw,e.data),i={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:n};return e.keys.length>5&&(i.custodianPubkey=e.keys[5].pubkey),i}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),ye(vn.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(Jl.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}const vn=Object.freeze({Initialize:{index:0,layout:Q.struct([Q.u32("instruction"),dT(),hT()])},Authorize:{index:1,layout:Q.struct([Q.u32("instruction"),ne("newAuthorized"),Q.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:Q.struct([Q.u32("instruction")])},Split:{index:3,layout:Q.struct([Q.u32("instruction"),Q.ns64("lamports")])},Withdraw:{index:4,layout:Q.struct([Q.u32("instruction"),Q.ns64("lamports")])},Deactivate:{index:5,layout:Q.struct([Q.u32("instruction")])},Merge:{index:7,layout:Q.struct([Q.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:Q.struct([Q.u32("instruction"),ne("newAuthorized"),Q.u32("stakeAuthorizationType"),Fs("authoritySeed"),ne("authorityOwner")])}}),uN=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class Jl{constructor(){}static initialize(e){const{stakePubkey:n,authorized:i,lockup:u}=e,o=u||Lu.default,l=vn.Initialize,d=ue(l,{authorized:{staker:Qt(i.staker.toBuffer()),withdrawer:Qt(i.withdrawer.toBuffer())},lockup:{unixTimestamp:o.unixTimestamp,epoch:o.epoch,custodian:Qt(o.custodian.toBuffer())}}),y={keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:lo,isSigner:!1,isWritable:!1}],programId:this.programId,data:d};return new Ae(y)}static createAccountWithSeed(e){const n=new ce;n.add(ln.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:i,authorized:u,lockup:o}=e;return n.add(this.initialize({stakePubkey:i,authorized:u,lockup:o}))}static createAccount(e){const n=new ce;n.add(ln.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:i,authorized:u,lockup:o}=e;return n.add(this.initialize({stakePubkey:i,authorized:u,lockup:o}))}static delegate(e){const{stakePubkey:n,authorizedPubkey:i,votePubkey:u}=e,o=vn.Delegate,l=ue(o);return new ce().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:Pr,isSigner:!1,isWritable:!1},{pubkey:vl,isSigner:!1,isWritable:!1},{pubkey:xw,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:l})}static authorize(e){const{stakePubkey:n,authorizedPubkey:i,newAuthorizedPubkey:u,stakeAuthorizationType:o,custodianPubkey:l}=e,d=vn.Authorize,y=ue(d,{newAuthorized:Qt(u.toBuffer()),stakeAuthorizationType:o.index}),_=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Pr,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1}];return l&&_.push({pubkey:l,isSigner:!0,isWritable:!1}),new ce().add({keys:_,programId:this.programId,data:y})}static authorizeWithSeed(e){const{stakePubkey:n,authorityBase:i,authoritySeed:u,authorityOwner:o,newAuthorizedPubkey:l,stakeAuthorizationType:d,custodianPubkey:y}=e,_=vn.AuthorizeWithSeed,S=ue(_,{newAuthorized:Qt(l.toBuffer()),stakeAuthorizationType:d.index,authoritySeed:u,authorityOwner:Qt(o.toBuffer())}),I=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:Pr,isSigner:!1,isWritable:!1}];return y&&I.push({pubkey:y,isSigner:!0,isWritable:!1}),new ce().add({keys:I,programId:this.programId,data:S})}static splitInstruction(e){const{stakePubkey:n,authorizedPubkey:i,splitStakePubkey:u,lamports:o}=e,l=vn.Split,d=ue(l,{lamports:o});return new Ae({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:d})}static split(e,n){const i=new ce;return i.add(ln.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:n,space:this.space,programId:this.programId})),i.add(this.splitInstruction(e))}static splitWithSeed(e,n){const{stakePubkey:i,authorizedPubkey:u,splitStakePubkey:o,basePubkey:l,seed:d,lamports:y}=e,_=new ce;return _.add(ln.allocate({accountPubkey:o,basePubkey:l,seed:d,space:this.space,programId:this.programId})),n&&n>0&&_.add(ln.transfer({fromPubkey:e.authorizedPubkey,toPubkey:o,lamports:n})),_.add(this.splitInstruction({stakePubkey:i,authorizedPubkey:u,splitStakePubkey:o,lamports:y}))}static merge(e){const{stakePubkey:n,sourceStakePubKey:i,authorizedPubkey:u}=e,o=vn.Merge,l=ue(o);return new ce().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:Pr,isSigner:!1,isWritable:!1},{pubkey:vl,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!0,isWritable:!1}],programId:this.programId,data:l})}static withdraw(e){const{stakePubkey:n,authorizedPubkey:i,toPubkey:u,lamports:o,custodianPubkey:l}=e,d=vn.Withdraw,y=ue(d,{lamports:o}),_=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:Pr,isSigner:!1,isWritable:!1},{pubkey:vl,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}];return l&&_.push({pubkey:l,isSigner:!0,isWritable:!1}),new ce().add({keys:_,programId:this.programId,data:y})}static deactivate(e){const{stakePubkey:n,authorizedPubkey:i}=e,u=vn.Deactivate,o=ue(u);return new ce().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Pr,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}}Jl.programId=new vt("Stake11111111111111111111111111111111111111");Jl.space=200;class Ow{constructor(e,n,i,u){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=n,this.authorizedWithdrawer=i,this.commission=u}}class cN{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const i=Q.u32("instruction").decode(e.data);let u;for(const[o,l]of Object.entries(Fr))if(l.index==i){u=o;break}if(!u)throw new Error("Instruction type incorrect; not a VoteInstruction");return u}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:n}=ye(Fr.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new Ow(new vt(n.nodePubkey),new vt(n.authorizedVoter),new vt(n.authorizedWithdrawer),n.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:n,voteAuthorizationType:i}=ye(Fr.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new vt(n),voteAuthorizationType:{index:i}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:i,newAuthorized:u,voteAuthorizationType:o}}=ye(Fr.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new vt(n),currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:new vt(u),voteAuthorizationType:{index:o},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:n}=ye(Fr.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:n,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(bo.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}const Fr=Object.freeze({InitializeAccount:{index:0,layout:Q.struct([Q.u32("instruction"),pT()])},Authorize:{index:1,layout:Q.struct([Q.u32("instruction"),ne("newAuthorized"),Q.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:Q.struct([Q.u32("instruction"),Q.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:Q.struct([Q.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:Q.struct([Q.u32("instruction"),mT()])}}),lN=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class bo{constructor(){}static initializeAccount(e){const{votePubkey:n,nodePubkey:i,voteInit:u}=e,o=Fr.InitializeAccount,l=ue(o,{voteInit:{nodePubkey:Qt(u.nodePubkey.toBuffer()),authorizedVoter:Qt(u.authorizedVoter.toBuffer()),authorizedWithdrawer:Qt(u.authorizedWithdrawer.toBuffer()),commission:u.commission}}),d={keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:lo,isSigner:!1,isWritable:!1},{pubkey:Pr,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:l};return new Ae(d)}static createAccount(e){const n=new ce;return n.add(ln.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),n.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:n,authorizedPubkey:i,newAuthorizedPubkey:u,voteAuthorizationType:o}=e,l=Fr.Authorize,d=ue(l,{newAuthorized:Qt(u.toBuffer()),voteAuthorizationType:o.index}),y=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Pr,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}];return new ce().add({keys:y,programId:this.programId,data:d})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:n,currentAuthorityDerivedKeyOwnerPubkey:i,currentAuthorityDerivedKeySeed:u,newAuthorizedPubkey:o,voteAuthorizationType:l,votePubkey:d}=e,y=Fr.AuthorizeWithSeed,_=ue(y,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Qt(i.toBuffer()),currentAuthorityDerivedKeySeed:u,newAuthorized:Qt(o.toBuffer()),voteAuthorizationType:l.index}}),S=[{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:Pr,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new ce().add({keys:S,programId:this.programId,data:_})}static withdraw(e){const{votePubkey:n,authorizedWithdrawerPubkey:i,lamports:u,toPubkey:o}=e,l=Fr.Withdraw,d=ue(l,{lamports:u}),y=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1}];return new ce().add({keys:y,programId:this.programId,data:d})}static safeWithdraw(e,n,i){if(e.lamports>n-i)throw new Error("Withdraw will leave vote account with insufficient funds.");return bo.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:n,authorizedWithdrawerPubkey:i,nodePubkey:u}=e,o=Fr.UpdateValidatorIdentity,l=ue(o),d=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!0,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}];return new ce().add({keys:d,programId:this.programId,data:l})}}bo.programId=new vt("Vote111111111111111111111111111111111111111");bo.space=3762;const Nw=new vt("Va1idator1nfo111111111111111111111111111111"),fN=St({name:At(),website:jt(At()),details:jt(At()),iconUrl:jt(At()),keybaseUsername:jt(At())});class dp{constructor(e,n){this.key=void 0,this.info=void 0,this.key=e,this.info=n}static fromConfigData(e){let n=[...e];if(Gn(n)!==2)return null;const u=[];for(let o=0;o<2;o++){const l=new vt(Fn(n,0,Yr)),d=Vr(n)===1;u.push({publicKey:l,isSigner:d})}if(u[0].publicKey.equals(Nw)&&u[1].isSigner){const o=Fs().decode(kt.Buffer.from(n)),l=JSON.parse(o);return P_(l,fN),new dp(u[1].publicKey,l)}return null}}const dN=new vt("Vote111111111111111111111111111111111111111"),hN=Q.struct([ne("nodePubkey"),ne("authorizedWithdrawer"),Q.u8("commission"),Q.nu64(),Q.seq(Q.struct([Q.nu64("slot"),Q.u32("confirmationCount")]),Q.offset(Q.u32(),-8),"votes"),Q.u8("rootSlotValid"),Q.nu64("rootSlot"),Q.nu64(),Q.seq(Q.struct([Q.nu64("epoch"),ne("authorizedVoter")]),Q.offset(Q.u32(),-8),"authorizedVoters"),Q.struct([Q.seq(Q.struct([ne("authorizedPubkey"),Q.nu64("epochOfLastAuthorizedSwitch"),Q.nu64("targetEpoch")]),32,"buf"),Q.nu64("idx"),Q.u8("isEmpty")],"priorVoters"),Q.nu64(),Q.seq(Q.struct([Q.nu64("epoch"),Q.nu64("credits"),Q.nu64("prevCredits")]),Q.offset(Q.u32(),-8),"epochCredits"),Q.struct([Q.nu64("slot"),Q.nu64("timestamp")],"lastTimestamp")]);class hp{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const i=hN.decode(Qt(e),4);let u=i.rootSlot;return i.rootSlotValid||(u=null),new hp({nodePubkey:new vt(i.nodePubkey),authorizedWithdrawer:new vt(i.authorizedWithdrawer),commission:i.commission,votes:i.votes,rootSlot:u,authorizedVoters:i.authorizedVoters.map(pN),priorVoters:mN(i.priorVoters),epochCredits:i.epochCredits,lastTimestamp:i.lastTimestamp})}}function pN({authorizedVoter:s,epoch:e}){return{epoch:e,authorizedVoter:new vt(s)}}function mb({authorizedPubkey:s,epochOfLastAuthorizedSwitch:e,targetEpoch:n}){return{authorizedPubkey:new vt(s),epochOfLastAuthorizedSwitch:e,targetEpoch:n}}function mN({buf:s,idx:e,isEmpty:n}){return n?[]:[...s.slice(e+1).map(mb),...s.slice(0,e).map(mb)]}const yb={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function kw(s,e){const n=e===!1?"http":"https";if(!s)return yb[n].devnet;const i=yb[n][s];if(!i)throw new Error(`Unknown ${n} cluster: ${s}`);return i}async function yN(s,e,n,i){let u,o;n&&Object.prototype.hasOwnProperty.call(n,"lastValidBlockHeight")||n&&Object.prototype.hasOwnProperty.call(n,"nonceValue")?(u=n,o=i):o=n;const l=o&&{skipPreflight:o.skipPreflight,preflightCommitment:o.preflightCommitment||o.commitment,minContextSlot:o.minContextSlot},d=await s.sendRawTransaction(e,l),y=o&&o.commitment,S=(await(u?s.confirmTransaction(u,y):s.confirmTransaction(d,y))).value;if(S.err)throw d!=null?new _s({action:l?.skipPreflight?"send":"simulate",signature:d,transactionMessage:`Status: (${JSON.stringify(S)})`}):new Error(`Raw transaction ${d} failed (${JSON.stringify(S)})`);return d}const A0=1e9,gN=Object.freeze(Object.defineProperty({__proto__:null,Account:cT,AddressLookupTableAccount:w0,AddressLookupTableInstruction:nN,AddressLookupTableProgram:lp,Authorized:Tw,BLOCKHASH_CACHE_TIMEOUT_MS:mw,BPF_LOADER_DEPRECATED_PROGRAM_ID:lT,BPF_LOADER_PROGRAM_ID:OT,BpfLoader:NT,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:Gr,ComputeBudgetInstruction:rN,ComputeBudgetProgram:fp,Connection:cp,Ed25519Program:Ql,Enum:oT,EpochSchedule:hw,FeeCalculatorLayout:fw,Keypair:io,LAMPORTS_PER_SOL:A0,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:xi,Loader:Qs,Lockup:Lu,MAX_SEED_LENGTH:ow,Message:Nr,MessageAccountKeys:xu,MessageV0:Ws,NONCE_ACCOUNT_LENGTH:_0,NonceAccount:Xl,PACKET_DATA_SIZE:ms,PUBLIC_KEY_LENGTH:Yr,PublicKey:vt,SIGNATURE_LENGTH_IN_BYTES:Ru,SOLANA_SCHEMA:_u,STAKE_CONFIG_ID:xw,STAKE_INSTRUCTION_LAYOUTS:vn,SYSTEM_INSTRUCTION_LAYOUTS:Be,SYSVAR_CLOCK_PUBKEY:Pr,SYSVAR_EPOCH_SCHEDULE_PUBKEY:wT,SYSVAR_INSTRUCTIONS_PUBKEY:vT,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:wl,SYSVAR_RENT_PUBKEY:lo,SYSVAR_REWARDS_PUBKEY:ET,SYSVAR_SLOT_HASHES_PUBKEY:ST,SYSVAR_SLOT_HISTORY_PUBKEY:AT,SYSVAR_STAKE_HISTORY_PUBKEY:vl,Secp256k1Program:so,SendTransactionError:_s,SolanaJSONRPCError:Dt,SolanaJSONRPCErrorCode:RT,StakeAuthorizationLayout:uN,StakeInstruction:oN,StakeProgram:Jl,Struct:tp,SystemInstruction:xT,SystemProgram:ln,Transaction:ce,TransactionExpiredBlockheightExceededError:ep,TransactionExpiredNonceInvalidError:Ja,TransactionExpiredTimeoutError:np,TransactionInstruction:Ae,TransactionMessage:ip,TransactionStatus:Ei,VALIDATOR_INFO_KEY:Nw,VERSION_PREFIX_MASK:Yl,VOTE_PROGRAM_ID:dN,ValidatorInfo:dp,VersionedMessage:rp,VersionedTransaction:sp,VoteAccount:hp,VoteAuthorizationLayout:lN,VoteInit:Ow,VoteInstruction:cN,VoteProgram:bo,clusterApiUrl:kw,sendAndConfirmRawTransaction:yN,sendAndConfirmTransaction:b0},Symbol.toStringTag,{value:"Module"}));function bN(s){if(s.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let _=0;_<e.length;_++)e[_]=255;for(let _=0;_<s.length;_++){const S=s.charAt(_),I=S.charCodeAt(0);if(e[I]!==255)throw new TypeError(S+" is ambiguous");e[I]=_}const n=s.length,i=s.charAt(0),u=Math.log(n)/Math.log(256),o=Math.log(256)/Math.log(n);function l(_){if(_ instanceof Uint8Array||(ArrayBuffer.isView(_)?_=new Uint8Array(_.buffer,_.byteOffset,_.byteLength):Array.isArray(_)&&(_=Uint8Array.from(_))),!(_ instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(_.length===0)return"";let S=0,I=0,k=0;const R=_.length;for(;k!==R&&_[k]===0;)k++,S++;const M=(R-k)*o+1>>>0,U=new Uint8Array(M);for(;k!==R;){let G=_[k],P=0;for(let W=M-1;(G!==0||P<I)&&W!==-1;W--,P++)G+=256*U[W]>>>0,U[W]=G%n>>>0,G=G/n>>>0;if(G!==0)throw new Error("Non-zero carry");I=P,k++}let D=M-I;for(;D!==M&&U[D]===0;)D++;let q=i.repeat(S);for(;D<M;++D)q+=s.charAt(U[D]);return q}function d(_){if(typeof _!="string")throw new TypeError("Expected String");if(_.length===0)return new Uint8Array;let S=0,I=0,k=0;for(;_[S]===i;)I++,S++;const R=(_.length-S)*u+1>>>0,M=new Uint8Array(R);for(;S<_.length;){const G=_.charCodeAt(S);if(G>255)return;let P=e[G];if(P===255)return;let W=0;for(let nt=R-1;(P!==0||W<k)&&nt!==-1;nt--,W++)P+=n*M[nt]>>>0,M[nt]=P%256>>>0,P=P/256>>>0;if(P!==0)throw new Error("Non-zero carry");k=W,S++}let U=R-k;for(;U!==R&&M[U]===0;)U++;const D=new Uint8Array(I+(R-U));let q=I;for(;U!==R;)D[q++]=M[U++];return D}function y(_){const S=d(_);if(S)return S;throw new Error("Non-base"+n+" character")}return{encode:l,decodeUnsafe:d,decode:y}}var _N="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const wN=bN(_N);var $h,gb;function vN(){if(gb)return $h;gb=1;var s=G0().Buffer;function e(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var i=new Uint8Array(256),u=0;u<i.length;u++)i[u]=255;for(var o=0;o<n.length;o++){var l=n.charAt(o),d=l.charCodeAt(0);if(i[d]!==255)throw new TypeError(l+" is ambiguous");i[d]=o}var y=n.length,_=n.charAt(0),S=Math.log(y)/Math.log(256),I=Math.log(256)/Math.log(y);function k(U){if((Array.isArray(U)||U instanceof Uint8Array)&&(U=s.from(U)),!s.isBuffer(U))throw new TypeError("Expected Buffer");if(U.length===0)return"";for(var D=0,q=0,G=0,P=U.length;G!==P&&U[G]===0;)G++,D++;for(var W=(P-G)*I+1>>>0,nt=new Uint8Array(W);G!==P;){for(var ot=U[G],it=0,ut=W-1;(ot!==0||it<q)&&ut!==-1;ut--,it++)ot+=256*nt[ut]>>>0,nt[ut]=ot%y>>>0,ot=ot/y>>>0;if(ot!==0)throw new Error("Non-zero carry");q=it,G++}for(var V=W-q;V!==W&&nt[V]===0;)V++;for(var F=_.repeat(D);V<W;++V)F+=n.charAt(nt[V]);return F}function R(U){if(typeof U!="string")throw new TypeError("Expected String");if(U.length===0)return s.alloc(0);for(var D=0,q=0,G=0;U[D]===_;)q++,D++;for(var P=(U.length-D)*S+1>>>0,W=new Uint8Array(P);D<U.length;){var nt=U.charCodeAt(D);if(nt>255)return;var ot=i[nt];if(ot===255)return;for(var it=0,ut=P-1;(ot!==0||it<G)&&ut!==-1;ut--,it++)ot+=y*W[ut]>>>0,W[ut]=ot%256>>>0,ot=ot/256>>>0;if(ot!==0)throw new Error("Non-zero carry");G=it,D++}for(var V=P-G;V!==P&&W[V]===0;)V++;var F=s.allocUnsafe(q+(P-V));F.fill(0,0,q);for(var X=q;V!==P;)F[X++]=W[V++];return F}function M(U){var D=R(U);if(D)return D;throw new Error("Non-base"+y+" character")}return{encode:k,decodeUnsafe:R,decode:M}}return $h=e,$h}var Wh,bb;function EN(){if(bb)return Wh;bb=1;var s=vN(),e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return Wh=s(e),Wh}var SN=EN();const tf=Ii(SN);var ul={exports:{}},_b;function AN(){if(_b)return ul.exports;_b=1;const s=/[\p{Lu}]/u,e=/[\p{Ll}]/u,n=/^[\p{Lu}](?![\p{Lu}])/gu,i=/([\p{Alpha}\p{N}_]|$)/u,u=/[_.\- ]+/,o=new RegExp("^"+u.source),l=new RegExp(u.source+i.source,"gu"),d=new RegExp("\\d+"+i.source,"gu"),y=(k,R,M)=>{let U=!1,D=!1,q=!1;for(let G=0;G<k.length;G++){const P=k[G];U&&s.test(P)?(k=k.slice(0,G)+"-"+k.slice(G),U=!1,q=D,D=!0,G++):D&&q&&e.test(P)?(k=k.slice(0,G-1)+"-"+k.slice(G-1),q=D,D=!1,U=!0):(U=R(P)===P&&M(P)!==P,q=D,D=M(P)===P&&R(P)!==P)}return k},_=(k,R)=>(n.lastIndex=0,k.replace(n,M=>R(M))),S=(k,R)=>(l.lastIndex=0,d.lastIndex=0,k.replace(l,(M,U)=>R(U)).replace(d,M=>R(M))),I=(k,R)=>{if(!(typeof k=="string"||Array.isArray(k)))throw new TypeError("Expected the input to be `string | string[]`");if(R={pascalCase:!1,preserveConsecutiveUppercase:!1,...R},Array.isArray(k)?k=k.map(q=>q.trim()).filter(q=>q.length).join("-"):k=k.trim(),k.length===0)return"";const M=R.locale===!1?q=>q.toLowerCase():q=>q.toLocaleLowerCase(R.locale),U=R.locale===!1?q=>q.toUpperCase():q=>q.toLocaleUpperCase(R.locale);return k.length===1?R.pascalCase?U(k):M(k):(k!==M(k)&&(k=y(k,M,U)),k=k.replace(o,""),R.preserveConsecutiveUppercase?k=_(k,M):k=M(k),R.pascalCase&&(k=U(k.charAt(0))+k.slice(1)),S(k,U))};return ul.exports=I,ul.exports.default=I,ul.exports}var RN=AN();const xN=Ii(RN);var yu={},It={},wb;function vb(){if(wb)return It;wb=1;class s{constructor(v,m){if(!Number.isInteger(v))throw new TypeError("span must be an integer");this.span=v,this.property=m}makeDestinationObject(){return{}}decode(v,m){throw new Error("Layout is abstract")}encode(v,m,f){throw new Error("Layout is abstract")}getSpan(v,m){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(v){const m=Object.create(this.constructor.prototype);return Object.assign(m,this),m.property=v,m}fromArray(v){}}It.Layout=s;function e(C,v){return v.property?C+"["+v.property+"]":C}It.nameWithProperty=e;function n(C,v){if(typeof C!="function")throw new TypeError("Class must be constructor");if(C.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(v&&v instanceof s))throw new TypeError("layout must be a Layout");if(v.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");C.layout_=v,v.boundConstructor_=C,v.makeDestinationObject=(()=>new C),Object.defineProperty(C.prototype,"encode",{value:function(m,f){return v.encode(this,m,f)},writable:!0}),Object.defineProperty(C,"decode",{value:function(m,f){return v.decode(m,f)},writable:!0})}It.bindConstructorLayout=n;class i extends s{isCount(){throw new Error("ExternalLayout is abstract")}}class u extends i{constructor(v,m){if(v===void 0&&(v=1),!Number.isInteger(v)||0>=v)throw new TypeError("elementSpan must be a (positive) integer");super(-1,m),this.elementSpan=v}isCount(){return!0}decode(v,m){m===void 0&&(m=0);const f=v.length-m;return Math.floor(f/this.elementSpan)}encode(v,m,f){return 0}}class o extends i{constructor(v,m,f){if(!(v instanceof s))throw new TypeError("layout must be a Layout");if(m===void 0)m=0;else if(!Number.isInteger(m))throw new TypeError("offset must be integer or undefined");super(v.span,f||v.property),this.layout=v,this.offset=m}isCount(){return this.layout instanceof l||this.layout instanceof d}decode(v,m){return m===void 0&&(m=0),this.layout.decode(v,m+this.offset)}encode(v,m,f){return f===void 0&&(f=0),this.layout.encode(v,m,f+this.offset)}}class l extends s{constructor(v,m){if(super(v,m),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(v,m){return m===void 0&&(m=0),v.readUIntLE(m,this.span)}encode(v,m,f){return f===void 0&&(f=0),m.writeUIntLE(v,f,this.span),this.span}}class d extends s{constructor(v,m){if(super(v,m),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(v,m){return m===void 0&&(m=0),v.readUIntBE(m,this.span)}encode(v,m,f){return f===void 0&&(f=0),m.writeUIntBE(v,f,this.span),this.span}}class y extends s{constructor(v,m){if(super(v,m),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(v,m){return m===void 0&&(m=0),v.readIntLE(m,this.span)}encode(v,m,f){return f===void 0&&(f=0),m.writeIntLE(v,f,this.span),this.span}}class _ extends s{constructor(v,m){if(super(v,m),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(v,m){return m===void 0&&(m=0),v.readIntBE(m,this.span)}encode(v,m,f){return f===void 0&&(f=0),m.writeIntBE(v,f,this.span),this.span}}const S=Math.pow(2,32);function I(C){const v=Math.floor(C/S),m=C-v*S;return{hi32:v,lo32:m}}function k(C,v){return C*S+v}class R extends s{constructor(v){super(8,v)}decode(v,m){m===void 0&&(m=0);const f=v.readUInt32LE(m),g=v.readUInt32LE(m+4);return k(g,f)}encode(v,m,f){f===void 0&&(f=0);const g=I(v);return m.writeUInt32LE(g.lo32,f),m.writeUInt32LE(g.hi32,f+4),8}}class M extends s{constructor(v){super(8,v)}decode(v,m){m===void 0&&(m=0);const f=v.readUInt32BE(m),g=v.readUInt32BE(m+4);return k(f,g)}encode(v,m,f){f===void 0&&(f=0);const g=I(v);return m.writeUInt32BE(g.hi32,f),m.writeUInt32BE(g.lo32,f+4),8}}class U extends s{constructor(v){super(8,v)}decode(v,m){m===void 0&&(m=0);const f=v.readUInt32LE(m),g=v.readInt32LE(m+4);return k(g,f)}encode(v,m,f){f===void 0&&(f=0);const g=I(v);return m.writeUInt32LE(g.lo32,f),m.writeInt32LE(g.hi32,f+4),8}}class D extends s{constructor(v){super(8,v)}decode(v,m){m===void 0&&(m=0);const f=v.readInt32BE(m),g=v.readUInt32BE(m+4);return k(f,g)}encode(v,m,f){f===void 0&&(f=0);const g=I(v);return m.writeInt32BE(g.hi32,f),m.writeUInt32BE(g.lo32,f+4),8}}class q extends s{constructor(v){super(4,v)}decode(v,m){return m===void 0&&(m=0),v.readFloatLE(m)}encode(v,m,f){return f===void 0&&(f=0),m.writeFloatLE(v,f),4}}class G extends s{constructor(v){super(4,v)}decode(v,m){return m===void 0&&(m=0),v.readFloatBE(m)}encode(v,m,f){return f===void 0&&(f=0),m.writeFloatBE(v,f),4}}class P extends s{constructor(v){super(8,v)}decode(v,m){return m===void 0&&(m=0),v.readDoubleLE(m)}encode(v,m,f){return f===void 0&&(f=0),m.writeDoubleLE(v,f),8}}class W extends s{constructor(v){super(8,v)}decode(v,m){return m===void 0&&(m=0),v.readDoubleBE(m)}encode(v,m,f){return f===void 0&&(f=0),m.writeDoubleBE(v,f),8}}class nt extends s{constructor(v,m,f){if(!(v instanceof s))throw new TypeError("elementLayout must be a Layout");if(!(m instanceof i&&m.isCount()||Number.isInteger(m)&&0<=m))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let g=-1;!(m instanceof i)&&0<v.span&&(g=m*v.span),super(g,f),this.elementLayout=v,this.count=m}getSpan(v,m){if(0<=this.span)return this.span;m===void 0&&(m=0);let f=0,g=this.count;if(g instanceof i&&(g=g.decode(v,m)),0<this.elementLayout.span)f=g*this.elementLayout.span;else{let O=0;for(;O<g;)f+=this.elementLayout.getSpan(v,m+f),++O}return f}decode(v,m){m===void 0&&(m=0);const f=[];let g=0,O=this.count;for(O instanceof i&&(O=O.decode(v,m));g<O;)f.push(this.elementLayout.decode(v,m)),m+=this.elementLayout.getSpan(v,m),g+=1;return f}encode(v,m,f){f===void 0&&(f=0);const g=this.elementLayout,O=v.reduce((L,Y)=>L+g.encode(Y,m,f+L),0);return this.count instanceof i&&this.count.encode(v.length,m,f),O}}class ot extends s{constructor(v,m,f){if(!(Array.isArray(v)&&v.reduce((O,L)=>O&&L instanceof s,!0)))throw new TypeError("fields must be array of Layout instances");typeof m=="boolean"&&f===void 0&&(f=m,m=void 0);for(const O of v)if(0>O.span&&O.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let g=-1;try{g=v.reduce((O,L)=>O+L.getSpan(),0)}catch{}super(g,m),this.fields=v,this.decodePrefixes=!!f}getSpan(v,m){if(0<=this.span)return this.span;m===void 0&&(m=0);let f=0;try{f=this.fields.reduce((g,O)=>{const L=O.getSpan(v,m);return m+=L,g+L},0)}catch{throw new RangeError("indeterminate span")}return f}decode(v,m){m===void 0&&(m=0);const f=this.makeDestinationObject();for(const g of this.fields)if(g.property!==void 0&&(f[g.property]=g.decode(v,m)),m+=g.getSpan(v,m),this.decodePrefixes&&v.length===m)break;return f}encode(v,m,f){f===void 0&&(f=0);const g=f;let O=0,L=0;for(const Y of this.fields){let et=Y.span;if(L=0<et?et:0,Y.property!==void 0){const bt=v[Y.property];bt!==void 0&&(L=Y.encode(bt,m,f),0>et&&(et=Y.getSpan(m,f)))}O=f,f+=et}return O+L-g}fromArray(v){const m=this.makeDestinationObject();for(const f of this.fields)f.property!==void 0&&0<v.length&&(m[f.property]=v.shift());return m}layoutFor(v){if(typeof v!="string")throw new TypeError("property must be string");for(const m of this.fields)if(m.property===v)return m}offsetOf(v){if(typeof v!="string")throw new TypeError("property must be string");let m=0;for(const f of this.fields){if(f.property===v)return m;0>f.span?m=-1:0<=m&&(m+=f.span)}}}class it{constructor(v){this.property=v}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class ut extends it{constructor(v,m){if(!(v instanceof i&&v.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(m||v.property||"variant"),this.layout=v}decode(v,m){return this.layout.decode(v,m)}encode(v,m,f){return this.layout.encode(v,m,f)}}class V extends s{constructor(v,m,f){const g=v instanceof l||v instanceof d;if(g)v=new ut(new o(v));else if(v instanceof i&&v.isCount())v=new ut(v);else if(!(v instanceof it))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(m===void 0&&(m=null),!(m===null||m instanceof s))throw new TypeError("defaultLayout must be null or a Layout");if(m!==null){if(0>m.span)throw new Error("defaultLayout must have constant span");m.property===void 0&&(m=m.replicate("content"))}let O=-1;m&&(O=m.span,0<=O&&g&&(O+=v.layout.span)),super(O,f),this.discriminator=v,this.usesPrefixDiscriminator=g,this.defaultLayout=m,this.registry={};let L=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(Y){return L(Y)},this.configGetSourceVariant=function(Y){L=Y.bind(this)}}getSpan(v,m){if(0<=this.span)return this.span;m===void 0&&(m=0);const f=this.getVariant(v,m);if(!f)throw new Error("unable to determine span for unrecognized variant");return f.getSpan(v,m)}defaultGetSourceVariant(v){if(v.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&v.hasOwnProperty(this.defaultLayout.property))return;const m=this.registry[v[this.discriminator.property]];if(m&&(!m.layout||v.hasOwnProperty(m.property)))return m}else for(const m in this.registry){const f=this.registry[m];if(v.hasOwnProperty(f.property))return f}throw new Error("unable to infer src variant")}decode(v,m){m===void 0&&(m=0);let f;const g=this.discriminator,O=g.decode(v,m);let L=this.registry[O];if(L===void 0){let Y=0;L=this.defaultLayout,this.usesPrefixDiscriminator&&(Y=g.layout.span),f=this.makeDestinationObject(),f[g.property]=O,f[L.property]=this.defaultLayout.decode(v,m+Y)}else f=L.decode(v,m);return f}encode(v,m,f){f===void 0&&(f=0);const g=this.getSourceVariant(v);if(g===void 0){const O=this.discriminator,L=this.defaultLayout;let Y=0;return this.usesPrefixDiscriminator&&(Y=O.layout.span),O.encode(v[O.property],m,f),Y+L.encode(v[L.property],m,f+Y)}return g.encode(v,m,f)}addVariant(v,m,f){const g=new F(this,v,m,f);return this.registry[v]=g,g}getVariant(v,m){let f=v;return Buffer.isBuffer(v)&&(m===void 0&&(m=0),f=this.discriminator.decode(v,m)),this.registry[f]}}class F extends s{constructor(v,m,f,g){if(!(v instanceof V))throw new TypeError("union must be a Union");if(!Number.isInteger(m)||0>m)throw new TypeError("variant must be a (non-negative) integer");if(typeof f=="string"&&g===void 0&&(g=f,f=null),f){if(!(f instanceof s))throw new TypeError("layout must be a Layout");if(v.defaultLayout!==null&&0<=f.span&&f.span>v.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof g!="string")throw new TypeError("variant must have a String property")}let O=v.span;0>v.span&&(O=f?f.span:0,0<=O&&v.usesPrefixDiscriminator&&(O+=v.discriminator.layout.span)),super(O,g),this.union=v,this.variant=m,this.layout=f||null}getSpan(v,m){if(0<=this.span)return this.span;m===void 0&&(m=0);let f=0;return this.union.usesPrefixDiscriminator&&(f=this.union.discriminator.layout.span),f+this.layout.getSpan(v,m+f)}decode(v,m){const f=this.makeDestinationObject();if(m===void 0&&(m=0),this!==this.union.getVariant(v,m))throw new Error("variant mismatch");let g=0;return this.union.usesPrefixDiscriminator&&(g=this.union.discriminator.layout.span),this.layout?f[this.property]=this.layout.decode(v,m+g):this.property?f[this.property]=!0:this.union.usesPrefixDiscriminator&&(f[this.union.discriminator.property]=this.variant),f}encode(v,m,f){f===void 0&&(f=0);let g=0;if(this.union.usesPrefixDiscriminator&&(g=this.union.discriminator.layout.span),this.layout&&!v.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,m,f);let O=g;if(this.layout&&(this.layout.encode(v[this.property],m,f+g),O+=this.layout.getSpan(m,f+g),0<=this.union.span&&O>this.union.span))throw new Error("encoded variant overruns containing union");return O}fromArray(v){if(this.layout)return this.layout.fromArray(v)}}function X(C){return 0>C&&(C+=4294967296),C}class $ extends s{constructor(v,m,f){if(!(v instanceof l||v instanceof d))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof m=="string"&&f===void 0&&(f=m,m=void 0),4<v.span)throw new RangeError("word cannot exceed 32 bits");super(v.span,f),this.word=v,this.msb=!!m,this.fields=[];let g=0;this._packedSetValue=function(O){return g=X(O),this},this._packedGetValue=function(){return g}}decode(v,m){const f=this.makeDestinationObject();m===void 0&&(m=0);const g=this.word.decode(v,m);this._packedSetValue(g);for(const O of this.fields)O.property!==void 0&&(f[O.property]=O.decode(g));return f}encode(v,m,f){f===void 0&&(f=0);const g=this.word.decode(m,f);this._packedSetValue(g);for(const O of this.fields)if(O.property!==void 0){const L=v[O.property];L!==void 0&&O.encode(L)}return this.word.encode(this._packedGetValue(),m,f)}addField(v,m){const f=new x(this,v,m);return this.fields.push(f),f}addBoolean(v){const m=new h(this,v);return this.fields.push(m),m}fieldFor(v){if(typeof v!="string")throw new TypeError("property must be string");for(const m of this.fields)if(m.property===v)return m}}class x{constructor(v,m,f){if(!(v instanceof $))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(m)||0>=m)throw new TypeError("bits must be positive integer");const g=8*v.span,O=v.fields.reduce((L,Y)=>L+Y.bits,0);if(m+O>g)throw new Error("bits too long for span remainder ("+(g-O)+" of "+g+" remain)");this.container=v,this.bits=m,this.valueMask=(1<<m)-1,m===32&&(this.valueMask=4294967295),this.start=O,this.container.msb&&(this.start=g-O-m),this.wordMask=X(this.valueMask<<this.start),this.property=f}decode(){const v=this.container._packedGetValue();return X(v&this.wordMask)>>>this.start}encode(v){if(!Number.isInteger(v)||v!==X(v&this.valueMask))throw new TypeError(e("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const m=this.container._packedGetValue(),f=X(v<<this.start);this.container._packedSetValue(X(m&~this.wordMask)|f)}}class h extends x{constructor(v,m){super(v,1,m)}decode(v,m){return!!x.prototype.decode.call(this,v,m)}encode(v){return typeof v=="boolean"&&(v=+v),x.prototype.encode.call(this,v)}}class w extends s{constructor(v,m){if(!(v instanceof i&&v.isCount()||Number.isInteger(v)&&0<=v))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let f=-1;v instanceof i||(f=v),super(f,m),this.length=v}getSpan(v,m){let f=this.span;return 0>f&&(f=this.length.decode(v,m)),f}decode(v,m){m===void 0&&(m=0);let f=this.span;return 0>f&&(f=this.length.decode(v,m)),v.slice(m,m+f)}encode(v,m,f){let g=this.length;if(this.length instanceof i&&(g=v.length),!(Buffer.isBuffer(v)&&g===v.length))throw new TypeError(e("Blob.encode",this)+" requires (length "+g+") Buffer as src");if(f+g>m.length)throw new RangeError("encoding overruns Buffer");return m.write(v.toString("hex"),f,g,"hex"),this.length instanceof i&&this.length.encode(g,m,f),g}}class E extends s{constructor(v){super(-1,v)}getSpan(v,m){if(!Buffer.isBuffer(v))throw new TypeError("b must be a Buffer");m===void 0&&(m=0);let f=m;for(;f<v.length&&v[f]!==0;)f+=1;return 1+f-m}decode(v,m,f){m===void 0&&(m=0);let g=this.getSpan(v,m);return v.slice(m,m+g-1).toString("utf-8")}encode(v,m,f){f===void 0&&(f=0),typeof v!="string"&&(v=v.toString());const g=new Buffer(v,"utf8"),O=g.length;if(f+O>m.length)throw new RangeError("encoding overruns Buffer");return g.copy(m,f),m[f+O]=0,O+1}}class B extends s{constructor(v,m){if(typeof v=="string"&&m===void 0&&(m=v,v=void 0),v===void 0)v=-1;else if(!Number.isInteger(v))throw new TypeError("maxSpan must be an integer");super(-1,m),this.maxSpan=v}getSpan(v,m){if(!Buffer.isBuffer(v))throw new TypeError("b must be a Buffer");return m===void 0&&(m=0),v.length-m}decode(v,m,f){m===void 0&&(m=0);let g=this.getSpan(v,m);if(0<=this.maxSpan&&this.maxSpan<g)throw new RangeError("text length exceeds maxSpan");return v.slice(m,m+g).toString("utf-8")}encode(v,m,f){f===void 0&&(f=0),typeof v!="string"&&(v=v.toString());const g=new Buffer(v,"utf8"),O=g.length;if(0<=this.maxSpan&&this.maxSpan<O)throw new RangeError("text length exceeds maxSpan");if(f+O>m.length)throw new RangeError("encoding overruns Buffer");return g.copy(m,f),O}}class z extends s{constructor(v,m){super(0,m),this.value=v}decode(v,m,f){return this.value}encode(v,m,f){return 0}}return It.ExternalLayout=i,It.GreedyCount=u,It.OffsetLayout=o,It.UInt=l,It.UIntBE=d,It.Int=y,It.IntBE=_,It.Float=q,It.FloatBE=G,It.Double=P,It.DoubleBE=W,It.Sequence=nt,It.Structure=ot,It.UnionDiscriminator=it,It.UnionLayoutDiscriminator=ut,It.Union=V,It.VariantLayout=F,It.BitStructure=$,It.BitField=x,It.Boolean=h,It.Blob=w,It.CString=E,It.UTF8=B,It.Constant=z,It.greedy=((C,v)=>new u(C,v)),It.offset=((C,v,m)=>new o(C,v,m)),It.u8=(C=>new l(1,C)),It.u16=(C=>new l(2,C)),It.u24=(C=>new l(3,C)),It.u32=(C=>new l(4,C)),It.u40=(C=>new l(5,C)),It.u48=(C=>new l(6,C)),It.nu64=(C=>new R(C)),It.u16be=(C=>new d(2,C)),It.u24be=(C=>new d(3,C)),It.u32be=(C=>new d(4,C)),It.u40be=(C=>new d(5,C)),It.u48be=(C=>new d(6,C)),It.nu64be=(C=>new M(C)),It.s8=(C=>new y(1,C)),It.s16=(C=>new y(2,C)),It.s24=(C=>new y(3,C)),It.s32=(C=>new y(4,C)),It.s40=(C=>new y(5,C)),It.s48=(C=>new y(6,C)),It.ns64=(C=>new U(C)),It.s16be=(C=>new _(2,C)),It.s24be=(C=>new _(3,C)),It.s32be=(C=>new _(4,C)),It.s40be=(C=>new _(5,C)),It.s48be=(C=>new _(6,C)),It.ns64be=(C=>new D(C)),It.f32=(C=>new q(C)),It.f32be=(C=>new G(C)),It.f64=(C=>new P(C)),It.f64be=(C=>new W(C)),It.struct=((C,v,m)=>new ot(C,v,m)),It.bits=((C,v,m)=>new $(C,v,m)),It.seq=((C,v,m)=>new nt(C,v,m)),It.union=((C,v,m)=>new V(C,v,m)),It.unionLayoutDiscriminator=((C,v)=>new ut(C,v)),It.blob=((C,v)=>new w(C,v)),It.cstr=(C=>new E(C)),It.utf8=((C,v)=>new B(C,v)),It.const=((C,v)=>new z(C,v)),It}const TN=jl(gN);var Eb;function ON(){return Eb||(Eb=1,(function(s){var e=yu&&yu.__importDefault||function($){return $&&$.__esModule?$:{default:$}};Object.defineProperty(s,"__esModule",{value:!0}),s.struct=s.f64=s.f32=s.i32=s.u32=s.i16=s.u16=s.i8=s.u8=void 0,s.u64=d,s.i64=y,s.u128=_,s.i128=S,s.u256=I,s.i256=k,s.publicKey=M,s.option=D,s.bool=q,s.vec=W,s.tagged=nt,s.vecU8=ot,s.str=it,s.rustEnum=ut,s.array=V,s.map=X;const n=vb(),i=TN,u=e(V0());var o=vb();Object.defineProperty(s,"u8",{enumerable:!0,get:function(){return o.u8}}),Object.defineProperty(s,"i8",{enumerable:!0,get:function(){return o.s8}}),Object.defineProperty(s,"u16",{enumerable:!0,get:function(){return o.u16}}),Object.defineProperty(s,"i16",{enumerable:!0,get:function(){return o.s16}}),Object.defineProperty(s,"u32",{enumerable:!0,get:function(){return o.u32}}),Object.defineProperty(s,"i32",{enumerable:!0,get:function(){return o.s32}}),Object.defineProperty(s,"f32",{enumerable:!0,get:function(){return o.f32}}),Object.defineProperty(s,"f64",{enumerable:!0,get:function(){return o.f64}}),Object.defineProperty(s,"struct",{enumerable:!0,get:function(){return o.struct}});class l extends n.Layout{constructor(x,h,w){super(x,w),this.blob=(0,n.blob)(x),this.signed=h}decode(x,h=0){const w=new u.default(this.blob.decode(x,h),10,"le");return this.signed?w.fromTwos(this.span*8).clone():w}encode(x,h,w=0){return this.signed&&(x=x.toTwos(this.span*8)),this.blob.encode(x.toArrayLike(Buffer,"le",this.span),h,w)}}function d($){return new l(8,!1,$)}function y($){return new l(8,!0,$)}function _($){return new l(16,!1,$)}function S($){return new l(16,!0,$)}function I($){return new l(32,!1,$)}function k($){return new l(32,!0,$)}class R extends n.Layout{constructor(x,h,w,E){super(x.span,E),this.layout=x,this.decoder=h,this.encoder=w}decode(x,h){return this.decoder(this.layout.decode(x,h))}encode(x,h,w){return this.layout.encode(this.encoder(x),h,w)}getSpan(x,h){return this.layout.getSpan(x,h)}}function M($){return new R((0,n.blob)(32),x=>new i.PublicKey(x),x=>x.toBuffer(),$)}class U extends n.Layout{constructor(x,h){super(-1,h),this.layout=x,this.discriminator=(0,n.u8)()}encode(x,h,w=0){return x==null?this.discriminator.encode(0,h,w):(this.discriminator.encode(1,h,w),this.layout.encode(x,h,w+1)+1)}decode(x,h=0){const w=this.discriminator.decode(x,h);if(w===0)return null;if(w===1)return this.layout.decode(x,h+1);throw new Error("Invalid option "+this.property)}getSpan(x,h=0){const w=this.discriminator.decode(x,h);if(w===0)return 1;if(w===1)return this.layout.getSpan(x,h+1)+1;throw new Error("Invalid option "+this.property)}}function D($,x){return new U($,x)}function q($){return new R((0,n.u8)(),G,P,$)}function G($){if($===0)return!1;if($===1)return!0;throw new Error("Invalid bool: "+$)}function P($){return $?1:0}function W($,x){const h=(0,n.u32)("length"),w=(0,n.struct)([h,(0,n.seq)($,(0,n.offset)(h,-h.span),"values")]);return new R(w,({values:E})=>E,E=>({values:E}),x)}function nt($,x,h){const w=(0,n.struct)([d("tag"),x.replicate("data")]);function E({tag:B,data:z}){if(!B.eq($))throw new Error("Invalid tag, expected: "+$.toString("hex")+", got: "+B.toString("hex"));return z}return new R(w,E,B=>({tag:$,data:B}),h)}function ot($){const x=(0,n.u32)("length"),h=(0,n.struct)([x,(0,n.blob)((0,n.offset)(x,-x.span),"data")]);return new R(h,({data:w})=>w,w=>({data:w}),$)}function it($){return new R(ot(),x=>x.toString("utf-8"),x=>Buffer.from(x,"utf-8"),$)}function ut($,x,h){const w=(0,n.union)(h??(0,n.u8)(),x);return $.forEach((E,B)=>w.addVariant(B,E,E.property)),w}function V($,x,h){const w=(0,n.struct)([(0,n.seq)($,x,"values")]);return new R(w,({values:E})=>E,E=>({values:E}),h)}class F extends n.Layout{constructor(x,h,w){super(x.span+h.span,w),this.keyLayout=x,this.valueLayout=h}decode(x,h){h=h||0;const w=this.keyLayout.decode(x,h),E=this.valueLayout.decode(x,h+this.keyLayout.getSpan(x,h));return[w,E]}encode(x,h,w){w=w||0;const E=this.keyLayout.encode(x[0],h,w),B=this.valueLayout.encode(x[1],h,w+E);return E+B}getSpan(x,h){return this.keyLayout.getSpan(x,h)+this.valueLayout.getSpan(x,h)}}function X($,x,h){const w=(0,n.u32)("length"),E=(0,n.struct)([w,(0,n.seq)(new F($,x),(0,n.offset)(w,-w.span),"values")]);return new R(E,({values:B})=>new Map(B),B=>({values:Array.from(B.entries())}),h)}})(yu)),yu}var $t=ON();function _o(s){let e=s.length;for(;--e>=0;)s[e]=0}const NN=3,kN=258,Iw=29,IN=256,CN=IN+1+Iw,Cw=30,BN=512,MN=new Array((CN+2)*2);_o(MN);const UN=new Array(Cw*2);_o(UN);const DN=new Array(BN);_o(DN);const LN=new Array(kN-NN+1);_o(LN);const zN=new Array(Iw);_o(zN);const HN=new Array(Cw);_o(HN);const jN=(s,e,n,i)=>{let u=s&65535|0,o=s>>>16&65535|0,l=0;for(;n!==0;){l=n>2e3?2e3:n,n-=l;do u=u+e[i++]|0,o=o+u|0;while(--l);u%=65521,o%=65521}return u|o<<16|0};var R0=jN;const qN=()=>{let s,e=[];for(var n=0;n<256;n++){s=n;for(var i=0;i<8;i++)s=s&1?3988292384^s>>>1:s>>>1;e[n]=s}return e},PN=new Uint32Array(qN()),KN=(s,e,n,i)=>{const u=PN,o=i+n;s^=-1;for(let l=i;l<o;l++)s=s>>>8^u[(s^e[l])&255];return s^-1};var qr=KN,x0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Bw={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const VN=(s,e)=>Object.prototype.hasOwnProperty.call(s,e);var GN=function(s){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const i in n)VN(n,i)&&(s[i]=n[i])}}return s},FN=s=>{let e=0;for(let i=0,u=s.length;i<u;i++)e+=s[i].length;const n=new Uint8Array(e);for(let i=0,u=0,o=s.length;i<o;i++){let l=s[i];n.set(l,u),u+=l.length}return n},Mw={assign:GN,flattenChunks:FN};let Uw=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Uw=!1}const Ou=new Uint8Array(256);for(let s=0;s<256;s++)Ou[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;Ou[254]=Ou[254]=1;var YN=s=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(s);let e,n,i,u,o,l=s.length,d=0;for(u=0;u<l;u++)n=s.charCodeAt(u),(n&64512)===55296&&u+1<l&&(i=s.charCodeAt(u+1),(i&64512)===56320&&(n=65536+(n-55296<<10)+(i-56320),u++)),d+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(d),o=0,u=0;o<d;u++)n=s.charCodeAt(u),(n&64512)===55296&&u+1<l&&(i=s.charCodeAt(u+1),(i&64512)===56320&&(n=65536+(n-55296<<10)+(i-56320),u++)),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|n&63):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|n&63):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|n&63);return e};const ZN=(s,e)=>{if(e<65534&&s.subarray&&Uw)return String.fromCharCode.apply(null,s.length===e?s:s.subarray(0,e));let n="";for(let i=0;i<e;i++)n+=String.fromCharCode(s[i]);return n};var XN=(s,e)=>{const n=e||s.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(s.subarray(0,e));let i,u;const o=new Array(n*2);for(u=0,i=0;i<n;){let l=s[i++];if(l<128){o[u++]=l;continue}let d=Ou[l];if(d>4){o[u++]=65533,i+=d-1;continue}for(l&=d===2?31:d===3?15:7;d>1&&i<n;)l=l<<6|s[i++]&63,d--;if(d>1){o[u++]=65533;continue}l<65536?o[u++]=l:(l-=65536,o[u++]=55296|l>>10&1023,o[u++]=56320|l&1023)}return ZN(o,u)},$N=(s,e)=>{e=e||s.length,e>s.length&&(e=s.length);let n=e-1;for(;n>=0&&(s[n]&192)===128;)n--;return n<0||n===0?e:n+Ou[s[n]]>e?n:e},T0={string2buf:YN,buf2string:XN,utf8border:$N};function WN(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var QN=WN;const cl=16209,JN=16191;var tk=function(e,n){let i,u,o,l,d,y,_,S,I,k,R,M,U,D,q,G,P,W,nt,ot,it,ut,V,F;const X=e.state;i=e.next_in,V=e.input,u=i+(e.avail_in-5),o=e.next_out,F=e.output,l=o-(n-e.avail_out),d=o+(e.avail_out-257),y=X.dmax,_=X.wsize,S=X.whave,I=X.wnext,k=X.window,R=X.hold,M=X.bits,U=X.lencode,D=X.distcode,q=(1<<X.lenbits)-1,G=(1<<X.distbits)-1;t:do{M<15&&(R+=V[i++]<<M,M+=8,R+=V[i++]<<M,M+=8),P=U[R&q];e:for(;;){if(W=P>>>24,R>>>=W,M-=W,W=P>>>16&255,W===0)F[o++]=P&65535;else if(W&16){nt=P&65535,W&=15,W&&(M<W&&(R+=V[i++]<<M,M+=8),nt+=R&(1<<W)-1,R>>>=W,M-=W),M<15&&(R+=V[i++]<<M,M+=8,R+=V[i++]<<M,M+=8),P=D[R&G];n:for(;;){if(W=P>>>24,R>>>=W,M-=W,W=P>>>16&255,W&16){if(ot=P&65535,W&=15,M<W&&(R+=V[i++]<<M,M+=8,M<W&&(R+=V[i++]<<M,M+=8)),ot+=R&(1<<W)-1,ot>y){e.msg="invalid distance too far back",X.mode=cl;break t}if(R>>>=W,M-=W,W=o-l,ot>W){if(W=ot-W,W>S&&X.sane){e.msg="invalid distance too far back",X.mode=cl;break t}if(it=0,ut=k,I===0){if(it+=_-W,W<nt){nt-=W;do F[o++]=k[it++];while(--W);it=o-ot,ut=F}}else if(I<W){if(it+=_+I-W,W-=I,W<nt){nt-=W;do F[o++]=k[it++];while(--W);if(it=0,I<nt){W=I,nt-=W;do F[o++]=k[it++];while(--W);it=o-ot,ut=F}}}else if(it+=I-W,W<nt){nt-=W;do F[o++]=k[it++];while(--W);it=o-ot,ut=F}for(;nt>2;)F[o++]=ut[it++],F[o++]=ut[it++],F[o++]=ut[it++],nt-=3;nt&&(F[o++]=ut[it++],nt>1&&(F[o++]=ut[it++]))}else{it=o-ot;do F[o++]=F[it++],F[o++]=F[it++],F[o++]=F[it++],nt-=3;while(nt>2);nt&&(F[o++]=F[it++],nt>1&&(F[o++]=F[it++]))}}else if((W&64)===0){P=D[(P&65535)+(R&(1<<W)-1)];continue n}else{e.msg="invalid distance code",X.mode=cl;break t}break}}else if((W&64)===0){P=U[(P&65535)+(R&(1<<W)-1)];continue e}else if(W&32){X.mode=JN;break t}else{e.msg="invalid literal/length code",X.mode=cl;break t}break}}while(i<u&&o<d);nt=M>>3,i-=nt,M-=nt<<3,R&=(1<<M)-1,e.next_in=i,e.next_out=o,e.avail_in=i<u?5+(u-i):5-(i-u),e.avail_out=o<d?257+(d-o):257-(o-d),X.hold=R,X.bits=M};const Za=15,Sb=852,Ab=592,Rb=0,Qh=1,xb=2,ek=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),nk=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),rk=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ik=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),sk=(s,e,n,i,u,o,l,d)=>{const y=d.bits;let _=0,S=0,I=0,k=0,R=0,M=0,U=0,D=0,q=0,G=0,P,W,nt,ot,it,ut=null,V;const F=new Uint16Array(Za+1),X=new Uint16Array(Za+1);let $=null,x,h,w;for(_=0;_<=Za;_++)F[_]=0;for(S=0;S<i;S++)F[e[n+S]]++;for(R=y,k=Za;k>=1&&F[k]===0;k--);if(R>k&&(R=k),k===0)return u[o++]=1<<24|64<<16|0,u[o++]=1<<24|64<<16|0,d.bits=1,0;for(I=1;I<k&&F[I]===0;I++);for(R<I&&(R=I),D=1,_=1;_<=Za;_++)if(D<<=1,D-=F[_],D<0)return-1;if(D>0&&(s===Rb||k!==1))return-1;for(X[1]=0,_=1;_<Za;_++)X[_+1]=X[_]+F[_];for(S=0;S<i;S++)e[n+S]!==0&&(l[X[e[n+S]]++]=S);if(s===Rb?(ut=$=l,V=20):s===Qh?(ut=ek,$=nk,V=257):(ut=rk,$=ik,V=0),G=0,S=0,_=I,it=o,M=R,U=0,nt=-1,q=1<<R,ot=q-1,s===Qh&&q>Sb||s===xb&&q>Ab)return 1;for(;;){x=_-U,l[S]+1<V?(h=0,w=l[S]):l[S]>=V?(h=$[l[S]-V],w=ut[l[S]-V]):(h=96,w=0),P=1<<_-U,W=1<<M,I=W;do W-=P,u[it+(G>>U)+W]=x<<24|h<<16|w|0;while(W!==0);for(P=1<<_-1;G&P;)P>>=1;if(P!==0?(G&=P-1,G+=P):G=0,S++,--F[_]===0){if(_===k)break;_=e[n+l[S]]}if(_>R&&(G&ot)!==nt){for(U===0&&(U=R),it+=I,M=_-U,D=1<<M;M+U<k&&(D-=F[M+U],!(D<=0));)M++,D<<=1;if(q+=1<<M,s===Qh&&q>Sb||s===xb&&q>Ab)return 1;nt=G&ot,u[nt]=R<<24|M<<16|it-o|0}}return G!==0&&(u[it+G]=_-U<<24|64<<16|0),d.bits=R,0};var wu=sk;const ak=0,Dw=1,Lw=2,{Z_FINISH:Tb,Z_BLOCK:ok,Z_TREES:ll,Z_OK:Js,Z_STREAM_END:uk,Z_NEED_DICT:ck,Z_STREAM_ERROR:br,Z_DATA_ERROR:zw,Z_MEM_ERROR:Hw,Z_BUF_ERROR:lk,Z_DEFLATED:Ob}=Bw,ef=16180,Nb=16181,kb=16182,Ib=16183,Cb=16184,Bb=16185,Mb=16186,Ub=16187,Db=16188,Lb=16189,Ul=16190,_i=16191,Jh=16192,zb=16193,t0=16194,Hb=16195,jb=16196,qb=16197,Pb=16198,fl=16199,dl=16200,Kb=16201,Vb=16202,Gb=16203,Fb=16204,Yb=16205,e0=16206,Zb=16207,Xb=16208,Ge=16209,jw=16210,qw=16211,fk=852,dk=592,hk=15,pk=hk,$b=s=>(s>>>24&255)+(s>>>8&65280)+((s&65280)<<8)+((s&255)<<24);function mk(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ia=s=>{if(!s)return 1;const e=s.state;return!e||e.strm!==s||e.mode<ef||e.mode>qw?1:0},Pw=s=>{if(ia(s))return br;const e=s.state;return s.total_in=s.total_out=e.total=0,s.msg="",e.wrap&&(s.adler=e.wrap&1),e.mode=ef,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(fk),e.distcode=e.distdyn=new Int32Array(dk),e.sane=1,e.back=-1,Js},Kw=s=>{if(ia(s))return br;const e=s.state;return e.wsize=0,e.whave=0,e.wnext=0,Pw(s)},Vw=(s,e)=>{let n;if(ia(s))return br;const i=s.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?br:(i.window!==null&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,Kw(s))},Gw=(s,e)=>{if(!s)return br;const n=new mk;s.state=n,n.strm=s,n.window=null,n.mode=ef;const i=Vw(s,e);return i!==Js&&(s.state=null),i},yk=s=>Gw(s,pk);let Wb=!0,n0,r0;const gk=s=>{if(Wb){n0=new Int32Array(512),r0=new Int32Array(32);let e=0;for(;e<144;)s.lens[e++]=8;for(;e<256;)s.lens[e++]=9;for(;e<280;)s.lens[e++]=7;for(;e<288;)s.lens[e++]=8;for(wu(Dw,s.lens,0,288,n0,0,s.work,{bits:9}),e=0;e<32;)s.lens[e++]=5;wu(Lw,s.lens,0,32,r0,0,s.work,{bits:5}),Wb=!1}s.lencode=n0,s.lenbits=9,s.distcode=r0,s.distbits=5},Fw=(s,e,n,i)=>{let u;const o=s.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),i>=o.wsize?(o.window.set(e.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(u=o.wsize-o.wnext,u>i&&(u=i),o.window.set(e.subarray(n-i,n-i+u),o.wnext),i-=u,i?(o.window.set(e.subarray(n-i,n),0),o.wnext=i,o.whave=o.wsize):(o.wnext+=u,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=u))),0},bk=(s,e)=>{let n,i,u,o,l,d,y,_,S,I,k,R,M,U,D=0,q,G,P,W,nt,ot,it,ut;const V=new Uint8Array(4);let F,X;const $=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ia(s)||!s.output||!s.input&&s.avail_in!==0)return br;n=s.state,n.mode===_i&&(n.mode=Jh),l=s.next_out,u=s.output,y=s.avail_out,o=s.next_in,i=s.input,d=s.avail_in,_=n.hold,S=n.bits,I=d,k=y,ut=Js;t:for(;;)switch(n.mode){case ef:if(n.wrap===0){n.mode=Jh;break}for(;S<16;){if(d===0)break t;d--,_+=i[o++]<<S,S+=8}if(n.wrap&2&&_===35615){n.wbits===0&&(n.wbits=15),n.check=0,V[0]=_&255,V[1]=_>>>8&255,n.check=qr(n.check,V,2,0),_=0,S=0,n.mode=Nb;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((_&255)<<8)+(_>>8))%31){s.msg="incorrect header check",n.mode=Ge;break}if((_&15)!==Ob){s.msg="unknown compression method",n.mode=Ge;break}if(_>>>=4,S-=4,it=(_&15)+8,n.wbits===0&&(n.wbits=it),it>15||it>n.wbits){s.msg="invalid window size",n.mode=Ge;break}n.dmax=1<<n.wbits,n.flags=0,s.adler=n.check=1,n.mode=_&512?Lb:_i,_=0,S=0;break;case Nb:for(;S<16;){if(d===0)break t;d--,_+=i[o++]<<S,S+=8}if(n.flags=_,(n.flags&255)!==Ob){s.msg="unknown compression method",n.mode=Ge;break}if(n.flags&57344){s.msg="unknown header flags set",n.mode=Ge;break}n.head&&(n.head.text=_>>8&1),n.flags&512&&n.wrap&4&&(V[0]=_&255,V[1]=_>>>8&255,n.check=qr(n.check,V,2,0)),_=0,S=0,n.mode=kb;case kb:for(;S<32;){if(d===0)break t;d--,_+=i[o++]<<S,S+=8}n.head&&(n.head.time=_),n.flags&512&&n.wrap&4&&(V[0]=_&255,V[1]=_>>>8&255,V[2]=_>>>16&255,V[3]=_>>>24&255,n.check=qr(n.check,V,4,0)),_=0,S=0,n.mode=Ib;case Ib:for(;S<16;){if(d===0)break t;d--,_+=i[o++]<<S,S+=8}n.head&&(n.head.xflags=_&255,n.head.os=_>>8),n.flags&512&&n.wrap&4&&(V[0]=_&255,V[1]=_>>>8&255,n.check=qr(n.check,V,2,0)),_=0,S=0,n.mode=Cb;case Cb:if(n.flags&1024){for(;S<16;){if(d===0)break t;d--,_+=i[o++]<<S,S+=8}n.length=_,n.head&&(n.head.extra_len=_),n.flags&512&&n.wrap&4&&(V[0]=_&255,V[1]=_>>>8&255,n.check=qr(n.check,V,2,0)),_=0,S=0}else n.head&&(n.head.extra=null);n.mode=Bb;case Bb:if(n.flags&1024&&(R=n.length,R>d&&(R=d),R&&(n.head&&(it=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(o,o+R),it)),n.flags&512&&n.wrap&4&&(n.check=qr(n.check,i,R,o)),d-=R,o+=R,n.length-=R),n.length))break t;n.length=0,n.mode=Mb;case Mb:if(n.flags&2048){if(d===0)break t;R=0;do it=i[o+R++],n.head&&it&&n.length<65536&&(n.head.name+=String.fromCharCode(it));while(it&&R<d);if(n.flags&512&&n.wrap&4&&(n.check=qr(n.check,i,R,o)),d-=R,o+=R,it)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=Ub;case Ub:if(n.flags&4096){if(d===0)break t;R=0;do it=i[o+R++],n.head&&it&&n.length<65536&&(n.head.comment+=String.fromCharCode(it));while(it&&R<d);if(n.flags&512&&n.wrap&4&&(n.check=qr(n.check,i,R,o)),d-=R,o+=R,it)break t}else n.head&&(n.head.comment=null);n.mode=Db;case Db:if(n.flags&512){for(;S<16;){if(d===0)break t;d--,_+=i[o++]<<S,S+=8}if(n.wrap&4&&_!==(n.check&65535)){s.msg="header crc mismatch",n.mode=Ge;break}_=0,S=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),s.adler=n.check=0,n.mode=_i;break;case Lb:for(;S<32;){if(d===0)break t;d--,_+=i[o++]<<S,S+=8}s.adler=n.check=$b(_),_=0,S=0,n.mode=Ul;case Ul:if(n.havedict===0)return s.next_out=l,s.avail_out=y,s.next_in=o,s.avail_in=d,n.hold=_,n.bits=S,ck;s.adler=n.check=1,n.mode=_i;case _i:if(e===ok||e===ll)break t;case Jh:if(n.last){_>>>=S&7,S-=S&7,n.mode=e0;break}for(;S<3;){if(d===0)break t;d--,_+=i[o++]<<S,S+=8}switch(n.last=_&1,_>>>=1,S-=1,_&3){case 0:n.mode=zb;break;case 1:if(gk(n),n.mode=fl,e===ll){_>>>=2,S-=2;break t}break;case 2:n.mode=jb;break;case 3:s.msg="invalid block type",n.mode=Ge}_>>>=2,S-=2;break;case zb:for(_>>>=S&7,S-=S&7;S<32;){if(d===0)break t;d--,_+=i[o++]<<S,S+=8}if((_&65535)!==(_>>>16^65535)){s.msg="invalid stored block lengths",n.mode=Ge;break}if(n.length=_&65535,_=0,S=0,n.mode=t0,e===ll)break t;case t0:n.mode=Hb;case Hb:if(R=n.length,R){if(R>d&&(R=d),R>y&&(R=y),R===0)break t;u.set(i.subarray(o,o+R),l),d-=R,o+=R,y-=R,l+=R,n.length-=R;break}n.mode=_i;break;case jb:for(;S<14;){if(d===0)break t;d--,_+=i[o++]<<S,S+=8}if(n.nlen=(_&31)+257,_>>>=5,S-=5,n.ndist=(_&31)+1,_>>>=5,S-=5,n.ncode=(_&15)+4,_>>>=4,S-=4,n.nlen>286||n.ndist>30){s.msg="too many length or distance symbols",n.mode=Ge;break}n.have=0,n.mode=qb;case qb:for(;n.have<n.ncode;){for(;S<3;){if(d===0)break t;d--,_+=i[o++]<<S,S+=8}n.lens[$[n.have++]]=_&7,_>>>=3,S-=3}for(;n.have<19;)n.lens[$[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,F={bits:n.lenbits},ut=wu(ak,n.lens,0,19,n.lencode,0,n.work,F),n.lenbits=F.bits,ut){s.msg="invalid code lengths set",n.mode=Ge;break}n.have=0,n.mode=Pb;case Pb:for(;n.have<n.nlen+n.ndist;){for(;D=n.lencode[_&(1<<n.lenbits)-1],q=D>>>24,G=D>>>16&255,P=D&65535,!(q<=S);){if(d===0)break t;d--,_+=i[o++]<<S,S+=8}if(P<16)_>>>=q,S-=q,n.lens[n.have++]=P;else{if(P===16){for(X=q+2;S<X;){if(d===0)break t;d--,_+=i[o++]<<S,S+=8}if(_>>>=q,S-=q,n.have===0){s.msg="invalid bit length repeat",n.mode=Ge;break}it=n.lens[n.have-1],R=3+(_&3),_>>>=2,S-=2}else if(P===17){for(X=q+3;S<X;){if(d===0)break t;d--,_+=i[o++]<<S,S+=8}_>>>=q,S-=q,it=0,R=3+(_&7),_>>>=3,S-=3}else{for(X=q+7;S<X;){if(d===0)break t;d--,_+=i[o++]<<S,S+=8}_>>>=q,S-=q,it=0,R=11+(_&127),_>>>=7,S-=7}if(n.have+R>n.nlen+n.ndist){s.msg="invalid bit length repeat",n.mode=Ge;break}for(;R--;)n.lens[n.have++]=it}}if(n.mode===Ge)break;if(n.lens[256]===0){s.msg="invalid code -- missing end-of-block",n.mode=Ge;break}if(n.lenbits=9,F={bits:n.lenbits},ut=wu(Dw,n.lens,0,n.nlen,n.lencode,0,n.work,F),n.lenbits=F.bits,ut){s.msg="invalid literal/lengths set",n.mode=Ge;break}if(n.distbits=6,n.distcode=n.distdyn,F={bits:n.distbits},ut=wu(Lw,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,F),n.distbits=F.bits,ut){s.msg="invalid distances set",n.mode=Ge;break}if(n.mode=fl,e===ll)break t;case fl:n.mode=dl;case dl:if(d>=6&&y>=258){s.next_out=l,s.avail_out=y,s.next_in=o,s.avail_in=d,n.hold=_,n.bits=S,tk(s,k),l=s.next_out,u=s.output,y=s.avail_out,o=s.next_in,i=s.input,d=s.avail_in,_=n.hold,S=n.bits,n.mode===_i&&(n.back=-1);break}for(n.back=0;D=n.lencode[_&(1<<n.lenbits)-1],q=D>>>24,G=D>>>16&255,P=D&65535,!(q<=S);){if(d===0)break t;d--,_+=i[o++]<<S,S+=8}if(G&&(G&240)===0){for(W=q,nt=G,ot=P;D=n.lencode[ot+((_&(1<<W+nt)-1)>>W)],q=D>>>24,G=D>>>16&255,P=D&65535,!(W+q<=S);){if(d===0)break t;d--,_+=i[o++]<<S,S+=8}_>>>=W,S-=W,n.back+=W}if(_>>>=q,S-=q,n.back+=q,n.length=P,G===0){n.mode=Yb;break}if(G&32){n.back=-1,n.mode=_i;break}if(G&64){s.msg="invalid literal/length code",n.mode=Ge;break}n.extra=G&15,n.mode=Kb;case Kb:if(n.extra){for(X=n.extra;S<X;){if(d===0)break t;d--,_+=i[o++]<<S,S+=8}n.length+=_&(1<<n.extra)-1,_>>>=n.extra,S-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Vb;case Vb:for(;D=n.distcode[_&(1<<n.distbits)-1],q=D>>>24,G=D>>>16&255,P=D&65535,!(q<=S);){if(d===0)break t;d--,_+=i[o++]<<S,S+=8}if((G&240)===0){for(W=q,nt=G,ot=P;D=n.distcode[ot+((_&(1<<W+nt)-1)>>W)],q=D>>>24,G=D>>>16&255,P=D&65535,!(W+q<=S);){if(d===0)break t;d--,_+=i[o++]<<S,S+=8}_>>>=W,S-=W,n.back+=W}if(_>>>=q,S-=q,n.back+=q,G&64){s.msg="invalid distance code",n.mode=Ge;break}n.offset=P,n.extra=G&15,n.mode=Gb;case Gb:if(n.extra){for(X=n.extra;S<X;){if(d===0)break t;d--,_+=i[o++]<<S,S+=8}n.offset+=_&(1<<n.extra)-1,_>>>=n.extra,S-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){s.msg="invalid distance too far back",n.mode=Ge;break}n.mode=Fb;case Fb:if(y===0)break t;if(R=k-y,n.offset>R){if(R=n.offset-R,R>n.whave&&n.sane){s.msg="invalid distance too far back",n.mode=Ge;break}R>n.wnext?(R-=n.wnext,M=n.wsize-R):M=n.wnext-R,R>n.length&&(R=n.length),U=n.window}else U=u,M=l-n.offset,R=n.length;R>y&&(R=y),y-=R,n.length-=R;do u[l++]=U[M++];while(--R);n.length===0&&(n.mode=dl);break;case Yb:if(y===0)break t;u[l++]=n.length,y--,n.mode=dl;break;case e0:if(n.wrap){for(;S<32;){if(d===0)break t;d--,_|=i[o++]<<S,S+=8}if(k-=y,s.total_out+=k,n.total+=k,n.wrap&4&&k&&(s.adler=n.check=n.flags?qr(n.check,u,k,l-k):R0(n.check,u,k,l-k)),k=y,n.wrap&4&&(n.flags?_:$b(_))!==n.check){s.msg="incorrect data check",n.mode=Ge;break}_=0,S=0}n.mode=Zb;case Zb:if(n.wrap&&n.flags){for(;S<32;){if(d===0)break t;d--,_+=i[o++]<<S,S+=8}if(n.wrap&4&&_!==(n.total&4294967295)){s.msg="incorrect length check",n.mode=Ge;break}_=0,S=0}n.mode=Xb;case Xb:ut=uk;break t;case Ge:ut=zw;break t;case jw:return Hw;case qw:default:return br}return s.next_out=l,s.avail_out=y,s.next_in=o,s.avail_in=d,n.hold=_,n.bits=S,(n.wsize||k!==s.avail_out&&n.mode<Ge&&(n.mode<e0||e!==Tb))&&Fw(s,s.output,s.next_out,k-s.avail_out),I-=s.avail_in,k-=s.avail_out,s.total_in+=I,s.total_out+=k,n.total+=k,n.wrap&4&&k&&(s.adler=n.check=n.flags?qr(n.check,u,k,s.next_out-k):R0(n.check,u,k,s.next_out-k)),s.data_type=n.bits+(n.last?64:0)+(n.mode===_i?128:0)+(n.mode===fl||n.mode===t0?256:0),(I===0&&k===0||e===Tb)&&ut===Js&&(ut=lk),ut},_k=s=>{if(ia(s))return br;let e=s.state;return e.window&&(e.window=null),s.state=null,Js},wk=(s,e)=>{if(ia(s))return br;const n=s.state;return(n.wrap&2)===0?br:(n.head=e,e.done=!1,Js)},vk=(s,e)=>{const n=e.length;let i,u,o;return ia(s)||(i=s.state,i.wrap!==0&&i.mode!==Ul)?br:i.mode===Ul&&(u=1,u=R0(u,e,n,0),u!==i.check)?zw:(o=Fw(s,e,n,n),o?(i.mode=jw,Hw):(i.havedict=1,Js))};var Ek=Kw,Sk=Vw,Ak=Pw,Rk=yk,xk=Gw,Tk=bk,Ok=_k,Nk=wk,kk=vk,Ik="pako inflate (from Nodeca project)",Ai={inflateReset:Ek,inflateReset2:Sk,inflateResetKeep:Ak,inflateInit:Rk,inflateInit2:xk,inflate:Tk,inflateEnd:Ok,inflateGetHeader:Nk,inflateSetDictionary:kk,inflateInfo:Ik};function Ck(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Bk=Ck;const Yw=Object.prototype.toString,{Z_NO_FLUSH:Mk,Z_FINISH:Uk,Z_OK:Nu,Z_STREAM_END:i0,Z_NEED_DICT:s0,Z_STREAM_ERROR:Dk,Z_DATA_ERROR:Qb,Z_MEM_ERROR:Lk}=Bw;function nf(s){this.options=Mw.assign({chunkSize:1024*64,windowBits:15,to:""},s||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(s&&s.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new QN,this.strm.avail_out=0;let n=Ai.inflateInit2(this.strm,e.windowBits);if(n!==Nu)throw new Error(x0[n]);if(this.header=new Bk,Ai.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=T0.string2buf(e.dictionary):Yw.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Ai.inflateSetDictionary(this.strm,e.dictionary),n!==Nu)))throw new Error(x0[n])}nf.prototype.push=function(s,e){const n=this.strm,i=this.options.chunkSize,u=this.options.dictionary;let o,l,d;if(this.ended)return!1;for(e===~~e?l=e:l=e===!0?Uk:Mk,Yw.call(s)==="[object ArrayBuffer]"?n.input=new Uint8Array(s):n.input=s,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),o=Ai.inflate(n,l),o===s0&&u&&(o=Ai.inflateSetDictionary(n,u),o===Nu?o=Ai.inflate(n,l):o===Qb&&(o=s0));n.avail_in>0&&o===i0&&n.state.wrap>0&&s[n.next_in]!==0;)Ai.inflateReset(n),o=Ai.inflate(n,l);switch(o){case Dk:case Qb:case s0:case Lk:return this.onEnd(o),this.ended=!0,!1}if(d=n.avail_out,n.next_out&&(n.avail_out===0||o===i0))if(this.options.to==="string"){let y=T0.utf8border(n.output,n.next_out),_=n.next_out-y,S=T0.buf2string(n.output,y);n.next_out=_,n.avail_out=i-_,_&&n.output.set(n.output.subarray(y,y+_),0),this.onData(S)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(o===Nu&&d===0)){if(o===i0)return o=Ai.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};nf.prototype.onData=function(s){this.chunks.push(s)};nf.prototype.onEnd=function(s){s===Nu&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Mw.flattenChunks(this.chunks)),this.chunks=[],this.err=s,this.msg=this.strm.msg};function zk(s,e){const n=new nf(e);if(n.push(s),n.err)throw n.msg||x0[n.err];return n.result}var Hk=zk,jk={inflate:Hk};const{inflate:qk}=jk;var Pk=qk,a0={exports:{}},Jb;function Kk(){return Jb||(Jb=1,(function(s){var e=Object.prototype.hasOwnProperty,n="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1));function u(y,_,S){this.fn=y,this.context=_,this.once=S||!1}function o(y,_,S,I,k){if(typeof S!="function")throw new TypeError("The listener must be a function");var R=new u(S,I||y,k),M=n?n+_:_;return y._events[M]?y._events[M].fn?y._events[M]=[y._events[M],R]:y._events[M].push(R):(y._events[M]=R,y._eventsCount++),y}function l(y,_){--y._eventsCount===0?y._events=new i:delete y._events[_]}function d(){this._events=new i,this._eventsCount=0}d.prototype.eventNames=function(){var _=[],S,I;if(this._eventsCount===0)return _;for(I in S=this._events)e.call(S,I)&&_.push(n?I.slice(1):I);return Object.getOwnPropertySymbols?_.concat(Object.getOwnPropertySymbols(S)):_},d.prototype.listeners=function(_){var S=n?n+_:_,I=this._events[S];if(!I)return[];if(I.fn)return[I.fn];for(var k=0,R=I.length,M=new Array(R);k<R;k++)M[k]=I[k].fn;return M},d.prototype.listenerCount=function(_){var S=n?n+_:_,I=this._events[S];return I?I.fn?1:I.length:0},d.prototype.emit=function(_,S,I,k,R,M){var U=n?n+_:_;if(!this._events[U])return!1;var D=this._events[U],q=arguments.length,G,P;if(D.fn){switch(D.once&&this.removeListener(_,D.fn,void 0,!0),q){case 1:return D.fn.call(D.context),!0;case 2:return D.fn.call(D.context,S),!0;case 3:return D.fn.call(D.context,S,I),!0;case 4:return D.fn.call(D.context,S,I,k),!0;case 5:return D.fn.call(D.context,S,I,k,R),!0;case 6:return D.fn.call(D.context,S,I,k,R,M),!0}for(P=1,G=new Array(q-1);P<q;P++)G[P-1]=arguments[P];D.fn.apply(D.context,G)}else{var W=D.length,nt;for(P=0;P<W;P++)switch(D[P].once&&this.removeListener(_,D[P].fn,void 0,!0),q){case 1:D[P].fn.call(D[P].context);break;case 2:D[P].fn.call(D[P].context,S);break;case 3:D[P].fn.call(D[P].context,S,I);break;case 4:D[P].fn.call(D[P].context,S,I,k);break;default:if(!G)for(nt=1,G=new Array(q-1);nt<q;nt++)G[nt-1]=arguments[nt];D[P].fn.apply(D[P].context,G)}}return!0},d.prototype.on=function(_,S,I){return o(this,_,S,I,!1)},d.prototype.once=function(_,S,I){return o(this,_,S,I,!0)},d.prototype.removeListener=function(_,S,I,k){var R=n?n+_:_;if(!this._events[R])return this;if(!S)return l(this,R),this;var M=this._events[R];if(M.fn)M.fn===S&&(!k||M.once)&&(!I||M.context===I)&&l(this,R);else{for(var U=0,D=[],q=M.length;U<q;U++)(M[U].fn!==S||k&&!M[U].once||I&&M[U].context!==I)&&D.push(M[U]);D.length?this._events[R]=D.length===1?D[0]:D:l(this,R)}return this},d.prototype.removeAllListeners=function(_){var S;return _?(S=n?n+_:_,this._events[S]&&l(this,S)):(this._events=new i,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,s.exports=d})(a0)),a0.exports}var Vk=Kk();const Gk=Ii(Vk);function Fk(s,e){return Array.apply(0,new Array(Math.ceil(s.length/e))).map((n,i)=>s.slice(i*e,(i+1)*e))}const js=s=>"version"in s;function Yk(s){return s.reduce((e,n)=>e+n.toString(16).padStart(2,"0"),"0x")}function Zk(s){s.indexOf("0x")===0&&(s=s.substr(2)),s.length%2===1&&(s="0"+s);let e=s.match(/.{2}/g);return e===null?kt.Buffer.from([]):kt.Buffer.from(e.map(n=>parseInt(n,16)))}var Xk=Object.freeze({__proto__:null,encode:Yk,decode:Zk});function Zw(s){return new TextDecoder("utf-8").decode(s)}function $k(s){return new TextEncoder().encode(s)}var Wk=Object.freeze({__proto__:null,decode:Zw,encode:$k});function O0(s){return tf.encode(s)}function Qk(s){return tf.decode(s)}var Jk=Object.freeze({__proto__:null,encode:O0,decode:Qk});function tI(s){return s.toString("base64")}function pp(s){return kt.Buffer.from(s,"base64")}var eI=Object.freeze({__proto__:null,encode:tI,decode:pp}),nI=Object.freeze({__proto__:null,hex:Xk,utf8:Wk,bs58:Jk,base64:eI});function fs(s){return"accounts"in s}async function rI(s){const e=(await vt.findProgramAddress([],s))[0];return await vt.createWithSeed(e,iI(),s)}function iI(){return"anchor:idl"}const sI=$t.struct([$t.publicKey("authority"),$t.vecU8("data")]);function aI(s){return sI.decode(s)}function oI(s){const e=["name","path","account","relations","generic"],n=o=>o.split(".").map(l=>xN(l,{locale:!1})).join("."),i=o=>{for(const l in o){const d=o[l];e.includes(l)?o[l]=Array.isArray(d)?d.map(n):n(d):typeof d=="object"&&i(d)}},u=structuredClone(s);return i(u),u}function to(s,e,n,i){return s?.length?s[0].name?n(s):i(s):e()}function uI(s){const e=new Map;return s.errors&&s.errors.forEach(n=>{var i;let u=(i=n.msg)!==null&&i!==void 0?i:n.name;e.set(n.code,u)}),e}function cI(s,...e){if(s.args.length!=e.length)throw new Error("Invalid argument length");const n={};let i=0;return s.args.forEach(u=>{n[u.name]=e[i],i+=1}),n}function Xw(s,e={}){s.forEach(n=>{if(fs(n))Xw(n.accounts,e[n.name]);else if(!e[n.name])throw new Error(`Account \`${n.name}\` not provided.`)})}function gr(s){return s instanceof vt?s:new vt(s)}class lI extends TypeError{constructor(e,n){let i;const{message:u,...o}=e,{path:l}=e,d=l.length===0?u:"At path: "+l.join(".")+" -- "+u;super(d),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>{var y;return(y=i)!=null?y:i=[e,...n()]}}}function fI(s){return ao(s)&&typeof s[Symbol.iterator]=="function"}function ao(s){return typeof s=="object"&&s!=null}function ws(s){return typeof s=="string"?JSON.stringify(s):""+s}function dI(s){const{done:e,value:n}=s.next();return e?void 0:n}function hI(s,e,n,i){if(s===!0)return;s===!1?s={}:typeof s=="string"&&(s={message:s});const{path:u,branch:o}=e,{type:l}=n,{refinement:d,message:y="Expected a value of type `"+l+"`"+(d?" with refinement `"+d+"`":"")+", but received: `"+ws(i)+"`"}=s;return{value:i,type:l,refinement:d,key:u[u.length-1],path:u,branch:o,...s,message:y}}function*t_(s,e,n,i){fI(s)||(s=[s]);for(const u of s){const o=hI(u,e,n,i);o&&(yield o)}}function*mp(s,e,n){n===void 0&&(n={});const{path:i=[],branch:u=[s],coerce:o=!1,mask:l=!1}=n,d={path:i,branch:u};if(o&&(s=e.coercer(s,d),l&&e.type!=="type"&&ao(e.schema)&&ao(s)&&!Array.isArray(s)))for(const _ in s)e.schema[_]===void 0&&delete s[_];let y=!0;for(const _ of e.validator(s,d))y=!1,yield[_,void 0];for(let[_,S,I]of e.entries(s,d)){const k=mp(S,I,{path:_===void 0?i:[...i,_],branch:_===void 0?u:[...u,S],coerce:o,mask:l});for(const R of k)R[0]?(y=!1,yield[R[0],void 0]):o&&(S=R[1],_===void 0?s=S:s instanceof Map?s.set(_,S):s instanceof Set?s.add(S):ao(s)&&(s[_]=S))}if(y)for(const _ of e.refiner(s,d))y=!1,yield[_,void 0];y&&(yield[void 0,s])}class vs{constructor(e){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:n,schema:i,validator:u,refiner:o,coercer:l=y=>y,entries:d=function*(){}}=e;this.type=n,this.schema=i,this.entries=d,this.coercer=l,u?this.validator=(y,_)=>{const S=u(y,_);return t_(S,_,this,y)}:this.validator=()=>[],o?this.refiner=(y,_)=>{const S=o(y,_);return t_(S,_,this,y)}:this.refiner=()=>[]}assert(e){return pI(e,this)}create(e){return yp(e,this)}is(e){return $w(e,this)}mask(e){return mI(e,this)}validate(e,n){return n===void 0&&(n={}),zu(e,this,n)}}function pI(s,e){const n=zu(s,e);if(n[0])throw n[0]}function yp(s,e){const n=zu(s,e,{coerce:!0});if(n[0])throw n[0];return n[1]}function mI(s,e){const n=zu(s,e,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}function $w(s,e){return!zu(s,e)[0]}function zu(s,e,n){n===void 0&&(n={});const i=mp(s,e,n),u=dI(i);return u[0]?[new lI(u[0],function*(){for(const l of i)l[0]&&(yield l[0])}),void 0]:[void 0,u[1]]}function Hu(s,e){return new vs({type:s,schema:null,validator:e})}function yI(){return Hu("any",()=>!0)}function o0(s){return new vs({type:"array",schema:s,*entries(e){if(s&&Array.isArray(e))for(const[n,i]of e.entries())yield[n,i,s]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+ws(e)}})}function gI(){return Hu("boolean",s=>typeof s=="boolean")}function e_(s){const e=ws(s);return new vs({type:"literal",schema:s,validator(n){return n===s||"Expected the literal `"+e+"`, but received: "+ws(n)}})}function hl(s){return new vs({...s,validator:(e,n)=>e===null||s.validator(e,n),refiner:(e,n)=>e===null||s.refiner(e,n)})}function El(){return Hu("number",s=>typeof s=="number"&&!isNaN(s)||"Expected a number, but received: "+ws(s))}function Sl(s){return new vs({...s,validator:(e,n)=>e===void 0||s.validator(e,n),refiner:(e,n)=>e===void 0||s.refiner(e,n)})}function Ys(){return Hu("string",s=>typeof s=="string"||"Expected a string, but received: "+ws(s))}function ys(s){const e=Object.keys(s);return new vs({type:"type",schema:s,*entries(n){if(ao(n))for(const i of e)yield[i,n[i],s[i]]},validator(n){return ao(n)||"Expected an object, but received: "+ws(n)}})}function Ww(s){const e=s.map(n=>n.type).join(" | ");return new vs({type:"union",schema:null,coercer(n,i){return(s.find(o=>{const[l]=o.validate(n,{coerce:!0});return!l})||gp()).coercer(n,i)},validator(n,i){const u=[];for(const o of s){const[...l]=mp(n,o,i),[d]=l;if(d[0])for(const[y]of l)y&&u.push(y);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+ws(n),...u]}})}function gp(){return Hu("unknown",()=>!0)}function bI(s,e,n){return new vs({...s,coercer:(i,u)=>$w(i,e)?s.coercer(n(i,u),u):s.coercer(i,u)})}async function _I(s,e,n,i){s=gr(s),i||(i=Dl());const u=new ce;if(u.add(new Ae({programId:s,keys:e??[],data:n})),i.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");return await i.sendAndConfirm(u,[])}const n_=99;async function wI(s,e,n){return(await bp(s,e,n)).map(u=>u?{publicKey:u.publicKey,account:u.account}:null)}async function bp(s,e,n){if(e.length<=n_)return await r_(s,e,n);{const i=Fk(e,n_);return(await Promise.all(i.map(o=>r_(s,o,n)))).flat()}}async function r_(s,e,n){const i=n??s.commitment,{value:u,context:o}=await s.getMultipleAccountsInfoAndContext(e,i);return u.map((d,y)=>d===null?null:{publicKey:e[y],account:d,context:o})}async function Qw(s,e,n,i,u){var o;n&&n.length>0&&e.sign(...n);const l=e._compile(),d=l.serialize(),_=e._serialize(d).toString("base64"),S={encoding:"base64",commitment:i??s.commitment};if(u){const M=(Array.isArray(u)?u:l.nonProgramIds()).map(U=>U.toBase58());S.accounts={encoding:"base64",addresses:M}}n&&n.length>0&&(S.sigVerify=!0);const I=[_,S],k=await s._rpcRequest("simulateTransaction",I),R=yp(k,AI);if("error"in R){let M;if("data"in R.error&&(M=(o=R.error.data)===null||o===void 0?void 0:o.logs,M&&Array.isArray(M))){const U=`
    `,D=U+M.join(U);console.error(R.error.message,D)}throw new _s("failed to simulate transaction: "+R.error.message,M)}return R.result}function vI(s){return bI(Jw(s),EI,e=>"error"in e?e:{...e,result:yp(e.result,s)})}const EI=Jw(gp());function Jw(s){return Ww([ys({jsonrpc:e_("2.0"),id:Ys(),result:s}),ys({jsonrpc:e_("2.0"),id:Ys(),error:ys({code:gp(),message:Ys(),data:Sl(yI())})})])}function SI(s){return vI(ys({context:ys({slot:El()}),value:s}))}const AI=SI(ys({err:hl(Ww([ys({}),Ys()])),logs:hl(o0(Ys())),accounts:Sl(hl(o0(hl(ys({executable:gI(),owner:Ys(),lamports:El(),data:o0(Ys()),rentEpoch:Sl(El())}))))),unitsConsumed:Sl(El())}));var RI=Object.freeze({__proto__:null,invoke:_I,getMultipleAccounts:wI,getMultipleAccountsAndContext:bp,simulateTransaction:Qw});class ku{constructor(e,n,i=ku.defaultOptions()){this.connection=e,this.wallet=n,this.opts=i,this.publicKey=n?.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(e,n=ku.defaultOptions()){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(e,n,i){var u,o,l,d;if(i===void 0&&(i=this.opts),js(e))n&&e.sign(n);else if(e.feePayer=(u=e.feePayer)!==null&&u!==void 0?u:this.wallet.publicKey,e.recentBlockhash=(await this.connection.getLatestBlockhash(i.preflightCommitment)).blockhash,n)for(const _ of n)e.partialSign(_);e=await this.wallet.signTransaction(e);const y=e.serialize();try{return await i_(this.connection,y,i)}catch(_){if(_ instanceof N0){const S=O0(js(e)?((o=e.signatures)===null||o===void 0?void 0:o[0])||new Uint8Array:(l=e.signature)!==null&&l!==void 0?l:new Uint8Array),I=js(e)?0:void 0,k=await this.connection.getTransaction(S,{commitment:"confirmed",maxSupportedTransactionVersion:I});if(k){const R=(d=k.meta)===null||d===void 0?void 0:d.logMessages;throw R?new _s(_.message,R):_}else throw _}else throw _}}async sendAll(e,n){var i,u,o;n===void 0&&(n=this.opts);const l=(await this.connection.getLatestBlockhash(n.preflightCommitment)).blockhash;let d=e.map(S=>{var I,k;if(js(S.tx)){let R=S.tx;return S.signers&&R.sign(S.signers),R}else{let R=S.tx,M=(I=S.signers)!==null&&I!==void 0?I:[];return R.feePayer=(k=R.feePayer)!==null&&k!==void 0?k:this.wallet.publicKey,R.recentBlockhash=l,M.forEach(U=>{R.partialSign(U)}),R}});const y=await this.wallet.signAllTransactions(d),_=[];for(let S=0;S<d.length;S+=1){const I=y[S],k=I.serialize();try{_.push(await i_(this.connection,k,n))}catch(R){if(R instanceof N0){const M=O0(js(I)?((i=I.signatures)===null||i===void 0?void 0:i[0])||new Uint8Array:(u=I.signature)!==null&&u!==void 0?u:new Uint8Array),U=js(I)?0:void 0,D=await this.connection.getTransaction(M,{commitment:"confirmed",maxSupportedTransactionVersion:U});if(D){const q=(o=D.meta)===null||o===void 0?void 0:o.logMessages;throw q?new _s(R.message,q):R}else throw R}else throw R}}return _}async simulate(e,n,i,u){let o=(await this.connection.getLatestBlockhash(i??this.connection.commitment)).blockhash,l;if(js(e)?(n&&n.length>0&&(e.sign(n),e=await this.wallet.signTransaction(e)),l=await this.connection.simulateTransaction(e,{commitment:i})):(e.feePayer=e.feePayer||this.wallet.publicKey,e.recentBlockhash=o,n&&n.length>0&&(e=await this.wallet.signTransaction(e)),l=await Qw(this.connection,e,n,i,u)),l.value.err)throw new xI(l.value);return l.value}}class xI extends Error{constructor(e,n){super(n),this.simulationResponse=e}}async function i_(s,e,n){const i=n?{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot}:{};let u;const o=Date.now();for(;Date.now()-o<6e4;)try{const l=await s.sendRawTransaction(e,i);if(n?.blockhash)if(i.maxRetries===0){const d=AbortSignal.timeout(15e3);u=(await s.confirmTransaction({abortSignal:d,signature:l,...n.blockhash},n&&n.commitment)).value}else u=(await s.confirmTransaction({signature:l,...n.blockhash},n&&n.commitment)).value;else u=(await s.confirmTransaction(l,n&&n.commitment)).value;if(u.err)throw new N0(`Raw transaction ${l} failed (${JSON.stringify(u)})`);return l}catch(l){if(l.name==="TimeoutError")continue;throw l}throw Error("Transaction failed to confirm in 60s")}class N0 extends Error{constructor(e){super(e)}}function Dl(){return ku.local()}var TI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function OI(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var dt={};Object.defineProperty(dt,"__esModule",{value:!0});var tv=dt.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=$v=dt.ANCHOR_ERROR__REQUIRE_VIOLATED=Xv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=Zv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=Yv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=Fv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=Gv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=Vv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=Kv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=Pv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=qv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=jv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=Hv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=zv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=Lv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=Dv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=Uv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=Mv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=Bv=dt.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=Cv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=Iv=dt.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=kv=dt.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=Nv=dt.ANCHOR_ERROR__CONSTRAINT_SPACE=Ov=dt.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=Tv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=xv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=Rv=dt.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=Av=dt.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=Sv=dt.ANCHOR_ERROR__CONSTRAINT_ZERO=Ev=dt.ANCHOR_ERROR__CONSTRAINT_ADDRESS=vv=dt.ANCHOR_ERROR__CONSTRAINT_CLOSE=wv=dt.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=_v=dt.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=bv=dt.ANCHOR_ERROR__CONSTRAINT_STATE=gv=dt.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=yv=dt.ANCHOR_ERROR__CONSTRAINT_SEEDS=mv=dt.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=pv=dt.ANCHOR_ERROR__CONSTRAINT_OWNER=hv=dt.ANCHOR_ERROR__CONSTRAINT_RAW=dv=dt.ANCHOR_ERROR__CONSTRAINT_SIGNER=fv=dt.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=lv=dt.ANCHOR_ERROR__CONSTRAINT_MUT=cv=dt.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=uv=dt.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=ov=dt.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=av=dt.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=sv=dt.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=iv=dt.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=rv=dt.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=nv=dt.ANCHOR_ERROR__INSTRUCTION_MISSING=void 0,ev=dt.ANCHOR_ERROR__DEPRECATED=EE=dt.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=vE=dt.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=wE=dt.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=_E=dt.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=bE=dt.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=gE=dt.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=yE=dt.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=mE=dt.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=pE=dt.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=hE=dt.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=dE=dt.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=fE=dt.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=lE=dt.ANCHOR_ERROR__INVALID_PROGRAM_ID=cE=dt.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=uE=dt.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=oE=dt.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=aE=dt.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=sE=dt.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=iE=dt.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=rE=dt.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=nE=dt.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=eE=dt.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=tE=dt.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=Jv=dt.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=Qv=dt.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=Wv=dt.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=void 0,nv=dt.ANCHOR_ERROR__INSTRUCTION_MISSING=100,rv=dt.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=101,iv=dt.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=102,sv=dt.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=103,av=dt.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=1e3,ov=dt.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=1001,uv=dt.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=1002,cv=dt.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=1500,lv=dt.ANCHOR_ERROR__CONSTRAINT_MUT=2e3,fv=dt.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=2001,dv=dt.ANCHOR_ERROR__CONSTRAINT_SIGNER=2002,hv=dt.ANCHOR_ERROR__CONSTRAINT_RAW=2003,pv=dt.ANCHOR_ERROR__CONSTRAINT_OWNER=2004,mv=dt.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=2005,yv=dt.ANCHOR_ERROR__CONSTRAINT_SEEDS=2006,gv=dt.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=2007,bv=dt.ANCHOR_ERROR__CONSTRAINT_STATE=2008,_v=dt.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=2009,wv=dt.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=2010,vv=dt.ANCHOR_ERROR__CONSTRAINT_CLOSE=2011,Ev=dt.ANCHOR_ERROR__CONSTRAINT_ADDRESS=2012,Sv=dt.ANCHOR_ERROR__CONSTRAINT_ZERO=2013,Av=dt.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=2014,Rv=dt.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=2015,xv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=2016,Tv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=2017,Ov=dt.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=2018,Nv=dt.ANCHOR_ERROR__CONSTRAINT_SPACE=2019,kv=dt.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=2020,Iv=dt.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=2021,Cv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=2022,Bv=dt.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=2023,Mv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=2024,Uv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=2025,Dv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=2026,Lv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=2027,zv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=2028,Hv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=2029,jv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=2030,qv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=2031,Pv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=2032,Kv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=2033,Vv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=2034,Gv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=2035,Fv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=2036,Yv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=2037,Zv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=2038,Xv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=2039,$v=dt.ANCHOR_ERROR__REQUIRE_VIOLATED=2500;tv=dt.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=2501;var Wv=dt.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=2502,Qv=dt.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=2503,Jv=dt.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=2504,tE=dt.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=2505,eE=dt.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=2506,nE=dt.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=3e3,rE=dt.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=3001,iE=dt.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=3002,sE=dt.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=3003,aE=dt.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=3004,oE=dt.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=3005,uE=dt.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=3006,cE=dt.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=3007,lE=dt.ANCHOR_ERROR__INVALID_PROGRAM_ID=3008,fE=dt.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=3009,dE=dt.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=3010,hE=dt.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=3011,pE=dt.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=3012,mE=dt.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=3013,yE=dt.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=3014,gE=dt.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=3015,bE=dt.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=3016,_E=dt.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=3017,wE=dt.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=4100,vE=dt.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=4101,EE=dt.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=4102;ev=dt.ANCHOR_ERROR__DEPRECATED=5e3;const NI=new Set(["debug-logs"]),SE=new Map;function kI(s){if(!NI.has(s))throw new Error("Invalid feature");SE.set(s,!0)}function _p(s){return SE.get(s)!==void 0}var II=Object.freeze({__proto__:null,set:kI,isSet:_p});class ls extends Error{constructor(e){super(e),this.name="IdlError"}}class ju{constructor(e){this.stack=e}static parse(e){var n;const i=/^Program (\w*) invoke/,u=/^Program \w* success/,o=[];for(let l=0;l<e.length;l++){if(u.exec(e[l])){o.pop();continue}const d=(n=i.exec(e[l]))===null||n===void 0?void 0:n[1];d&&o.push(new vt(d))}return new ju(o)}}class vu extends Error{constructor(e,n,i,u,o,l){super(i.join(`
`).replace("Program log: ","")),this.errorLogs=i,this.logs=u,this.error={errorCode:e,errorMessage:n,comparedValues:l,origin:o},this._programErrorStack=ju.parse(u)}static parse(e){if(!e)return null;const n=e.findIndex(k=>k.startsWith("Program log: AnchorError"));if(n===-1)return null;const i=e[n],u=[i];let o;if(n+1<e.length){if(e[n+1]==="Program log: Left:"){const k=/^Program log: (.*)$/,R=k.exec(e[n+2])[1],M=k.exec(e[n+4])[1];o=[new vt(R),new vt(M)],u.push(...e.slice(n+1,n+5))}else if(e[n+1].startsWith("Program log: Left:")){const k=/^Program log: (Left|Right): (.*)$/,R=k.exec(e[n+1])[2],M=k.exec(e[n+2])[2];u.push(...e.slice(n+1,n+3)),o=[R,M]}}const d=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(i),_=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(i),I=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(i);if(d){const[k,R,M]=d.slice(1,4),U={code:k,number:parseInt(R)};return new vu(U,M,u,e,void 0,o)}else if(_){const[k,R,M,U,D]=_.slice(1,6),q={code:M,number:parseInt(U)},G={file:k,line:parseInt(R)};return new vu(q,D,u,e,G,o)}else if(I){const[k,R,M,U]=I.slice(1,5),D=k,q={code:R,number:parseInt(M)};return new vu(q,U,u,e,D,o)}else return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class Ll extends Error{constructor(e,n,i){super(),this.code=e,this.msg=n,this.logs=i,i&&(this._programErrorStack=ju.parse(i))}static parse(e,n){const i=e.toString();let u;if(i.includes("custom program error:")){let d=i.split("custom program error: ");if(d.length!==2)return null;u=d[1]}else{const d=i.match(/"Custom":([0-9]+)}/g);if(!d||d.length>1)return null;u=d[0].match(/([0-9]+)/g)[0]}let o;try{o=parseInt(u)}catch{return null}let l=n.get(o);return l!==void 0?new Ll(o,l,e.logs):(l=CI.get(o),l!==void 0?new Ll(o,l,e.logs):null)}get program(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack}toString(){return this.msg}}function AE(s,e){_p("debug-logs")&&console.log("Translating error:",s);const n=vu.parse(s.logs);if(n)return n;const i=Ll.parse(s,e);if(i)return i;if(s.logs){const u={get:function(o,l){return l==="programErrorStack"?o.programErrorStack.stack:l==="program"?o.programErrorStack.stack[s.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return s.programErrorStack=ju.parse(s.logs),new Proxy(s,u)}return s}const xt={InstructionMissing:nv,InstructionFallbackNotFound:rv,InstructionDidNotDeserialize:iv,InstructionDidNotSerialize:sv,IdlInstructionStub:av,IdlInstructionInvalidProgram:ov,IdlAccountNotEmpty:uv,EventInstructionStub:cv,ConstraintMut:lv,ConstraintHasOne:fv,ConstraintSigner:dv,ConstraintRaw:hv,ConstraintOwner:pv,ConstraintRentExempt:mv,ConstraintSeeds:yv,ConstraintExecutable:gv,ConstraintState:bv,ConstraintAssociated:_v,ConstraintAssociatedInit:wv,ConstraintClose:vv,ConstraintAddress:Ev,ConstraintZero:Sv,ConstraintTokenMint:Av,ConstraintTokenOwner:Rv,ConstraintMintMintAuthority:xv,ConstraintMintFreezeAuthority:Tv,ConstraintMintDecimals:Ov,ConstraintSpace:Nv,ConstraintAccountIsNone:kv,ConstraintTokenTokenProgram:Iv,ConstraintMintTokenProgram:Cv,ConstraintAssociatedTokenTokenProgram:Bv,ConstraintMintGroupPointerExtension:Mv,ConstraintMintGroupPointerExtensionAuthority:Uv,ConstraintMintGroupPointerExtensionGroupAddress:Dv,ConstraintMintGroupMemberPointerExtension:Lv,ConstraintMintGroupMemberPointerExtensionAuthority:zv,ConstraintMintGroupMemberPointerExtensionMemberAddress:Hv,ConstraintMintMetadataPointerExtension:jv,ConstraintMintMetadataPointerExtensionAuthority:qv,ConstraintMintMetadataPointerExtensionMetadataAddress:Pv,ConstraintMintCloseAuthorityExtension:Kv,ConstraintMintCloseAuthorityExtensionAuthority:Vv,ConstraintMintPermanentDelegateExtension:Gv,ConstraintMintPermanentDelegateExtensionDelegate:Fv,ConstraintMintTransferHookExtension:Yv,ConstraintMintTransferHookExtensionAuthority:Zv,ConstraintMintTransferHookExtensionProgramId:Xv,RequireViolated:$v,RequireEqViolated:tv,RequireKeysEqViolated:Wv,RequireNeqViolated:Qv,RequireKeysNeqViolated:Jv,RequireGtViolated:tE,RequireGteViolated:eE,AccountDiscriminatorAlreadySet:nE,AccountDiscriminatorNotFound:rE,AccountDiscriminatorMismatch:iE,AccountDidNotDeserialize:sE,AccountDidNotSerialize:aE,AccountNotEnoughKeys:oE,AccountNotMutable:uE,AccountOwnedByWrongProgram:cE,InvalidProgramId:lE,InvalidProgramExecutable:fE,AccountNotSigner:dE,AccountNotSystemOwned:hE,AccountNotInitialized:pE,AccountNotProgramData:mE,AccountNotAssociatedTokenAccount:yE,AccountSysvarMismatch:gE,AccountReallocExceedsLimit:bE,AccountDuplicateReallocs:_E,DeclaredProgramIdMismatch:wE,TryingToInitPayerAsProgramAccount:vE,InvalidNumericConversion:EE,Deprecated:ev},CI=new Map([[xt.InstructionMissing,"Instruction discriminator not provided"],[xt.InstructionFallbackNotFound,"Fallback functions are not supported"],[xt.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[xt.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[xt.IdlInstructionStub,"The program was compiled without idl instructions"],[xt.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[xt.IdlAccountNotEmpty,"IDL account must be empty in order to resize, try closing first"],[xt.EventInstructionStub,"The program was compiled without `event-cpi` feature"],[xt.ConstraintMut,"A mut constraint was violated"],[xt.ConstraintHasOne,"A has one constraint was violated"],[xt.ConstraintSigner,"A signer constraint was violated"],[xt.ConstraintRaw,"A raw constraint was violated"],[xt.ConstraintOwner,"An owner constraint was violated"],[xt.ConstraintRentExempt,"A rent exemption constraint was violated"],[xt.ConstraintSeeds,"A seeds constraint was violated"],[xt.ConstraintExecutable,"An executable constraint was violated"],[xt.ConstraintState,"Deprecated Error, feel free to replace with something else"],[xt.ConstraintAssociated,"An associated constraint was violated"],[xt.ConstraintAssociatedInit,"An associated init constraint was violated"],[xt.ConstraintClose,"A close constraint was violated"],[xt.ConstraintAddress,"An address constraint was violated"],[xt.ConstraintZero,"Expected zero account discriminant"],[xt.ConstraintTokenMint,"A token mint constraint was violated"],[xt.ConstraintTokenOwner,"A token owner constraint was violated"],[xt.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[xt.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[xt.ConstraintMintDecimals,"A mint decimals constraint was violated"],[xt.ConstraintSpace,"A space constraint was violated"],[xt.ConstraintAccountIsNone,"A required account for the constraint is None"],[xt.ConstraintTokenTokenProgram,"A token account token program constraint was violated"],[xt.ConstraintMintTokenProgram,"A mint token program constraint was violated"],[xt.ConstraintAssociatedTokenTokenProgram,"An associated token account token program constraint was violated"],[xt.ConstraintMintGroupPointerExtension,"A group pointer extension constraint was violated"],[xt.ConstraintMintGroupPointerExtensionAuthority,"A group pointer extension authority constraint was violated"],[xt.ConstraintMintGroupPointerExtensionGroupAddress,"A group pointer extension group address constraint was violated"],[xt.ConstraintMintGroupMemberPointerExtension,"A group member pointer extension constraint was violated"],[xt.ConstraintMintGroupMemberPointerExtensionAuthority,"A group member pointer extension authority constraint was violated"],[xt.ConstraintMintGroupMemberPointerExtensionMemberAddress,"A group member pointer extension group address constraint was violated"],[xt.ConstraintMintMetadataPointerExtension,"A metadata pointer extension constraint was violated"],[xt.ConstraintMintMetadataPointerExtensionAuthority,"A metadata pointer extension authority constraint was violated"],[xt.ConstraintMintMetadataPointerExtensionMetadataAddress,"A metadata pointer extension metadata address constraint was violated"],[xt.ConstraintMintCloseAuthorityExtension,"A close authority constraint was violated"],[xt.ConstraintMintCloseAuthorityExtensionAuthority,"A close authority extension authority constraint was violated"],[xt.ConstraintMintPermanentDelegateExtension,"A permanent delegate extension constraint was violated"],[xt.ConstraintMintPermanentDelegateExtensionDelegate,"A permanent delegate extension delegate constraint was violated"],[xt.ConstraintMintTransferHookExtension,"A transfer hook extension constraint was violated"],[xt.ConstraintMintTransferHookExtensionAuthority,"A transfer hook extension authority constraint was violated"],[xt.ConstraintMintTransferHookExtensionProgramId,"A transfer hook extension transfer hook program id constraint was violated"],[xt.RequireViolated,"A require expression was violated"],[xt.RequireEqViolated,"A require_eq expression was violated"],[xt.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[xt.RequireNeqViolated,"A require_neq expression was violated"],[xt.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[xt.RequireGtViolated,"A require_gt expression was violated"],[xt.RequireGteViolated,"A require_gte expression was violated"],[xt.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[xt.AccountDiscriminatorNotFound,"No discriminator was found on the account"],[xt.AccountDiscriminatorMismatch,"Account discriminator did not match what was expected"],[xt.AccountDidNotDeserialize,"Failed to deserialize the account"],[xt.AccountDidNotSerialize,"Failed to serialize the account"],[xt.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[xt.AccountNotMutable,"The given account is not mutable"],[xt.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[xt.InvalidProgramId,"Program ID was not as expected"],[xt.InvalidProgramExecutable,"Program account is not executable"],[xt.AccountNotSigner,"The given account did not sign"],[xt.AccountNotSystemOwned,"The given account is not owned by the system program"],[xt.AccountNotInitialized,"The program expected this account to be already initialized"],[xt.AccountNotProgramData,"The given account is not a program data account"],[xt.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[xt.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[xt.AccountReallocExceedsLimit,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[xt.AccountDuplicateReallocs,"The account was duplicated for more than one reallocation"],[xt.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[xt.TryingToInitPayerAsProgramAccount,"You cannot/should not initialize the payer account as a program account"],[xt.InvalidNumericConversion,"The program could not perform the numeric conversion, out of range integral type conversion attempted"],[xt.Deprecated,"The API being used is deprecated and should no longer be used"]]);class oe{static fieldLayout(e,n=[],i){const u=e.name;switch(e.type){case"bool":return $t.bool(u);case"u8":return $t.u8(u);case"i8":return $t.i8(u);case"u16":return $t.u16(u);case"i16":return $t.i16(u);case"u32":return $t.u32(u);case"i32":return $t.i32(u);case"f32":return $t.f32(u);case"u64":return $t.u64(u);case"i64":return $t.i64(u);case"f64":return $t.f64(u);case"u128":return $t.u128(u);case"i128":return $t.i128(u);case"u256":return $t.u256(u);case"i256":return $t.i256(u);case"bytes":return $t.vecU8(u);case"string":return $t.str(u);case"pubkey":return $t.publicKey(u);default:{if("option"in e.type)return $t.option(oe.fieldLayout({type:e.type.option},n,i),u);if("vec"in e.type)return $t.vec(oe.fieldLayout({type:e.type.vec},n,i),u);if("array"in e.type){let[o,l]=e.type.array;return l=oe.resolveArrayLen(l,i),$t.array(oe.fieldLayout({type:o},n,i),l,u)}if("defined"in e.type){if(!n)throw new ls("User defined types not provided");const o=e.type.defined.name,l=n.find(d=>d.name===o);if(!l)throw new ls(`Type not found: ${e.name}`);return oe.typeDefLayout({typeDef:l,types:n,genericArgs:i??e.type.defined.generics,name:u})}if("generic"in e.type){const o=i?.at(0);if(o?.kind!=="type")throw new ls(`Invalid generic field: ${e.name}`);return oe.fieldLayout({...e,type:o.type},n)}throw new ls(`Not yet implemented: ${JSON.stringify(e.type)}`)}}}static typeDefLayout({typeDef:e,types:n,name:i,genericArgs:u}){switch(e.type.kind){case"struct":{const o=to(e.type.fields,()=>[],l=>l.map(d=>{const y=u&&oe.resolveGenericArgs({type:d.type,typeDef:e,genericArgs:u});return oe.fieldLayout(d,n,y)}),l=>l.map((d,y)=>{const _=u&&oe.resolveGenericArgs({type:d,typeDef:e,genericArgs:u});return oe.fieldLayout({name:y.toString(),type:d},n,_)}));return $t.struct(o,i)}case"enum":{const o=e.type.variants.map(l=>{const d=to(l.fields,()=>[],y=>y.map(_=>{const S=u&&oe.resolveGenericArgs({type:_.type,typeDef:e,genericArgs:u});return oe.fieldLayout(_,n,S)}),y=>y.map((_,S)=>{const I=u&&oe.resolveGenericArgs({type:_,typeDef:e,genericArgs:u});return oe.fieldLayout({name:S.toString(),type:_},n,I)}));return $t.struct(d,l.name)});return i!==void 0?$t.rustEnum(o).replicate(i):$t.rustEnum(o,i)}case"type":return oe.fieldLayout({type:e.type.alias,name:i},n)}}static typeSize(e,n,i){var u;switch(e){case"bool":return 1;case"u8":return 1;case"i8":return 1;case"i16":return 2;case"u16":return 2;case"u32":return 4;case"i32":return 4;case"f32":return 4;case"u64":return 8;case"i64":return 8;case"f64":return 8;case"u128":return 16;case"i128":return 16;case"u256":return 32;case"i256":return 32;case"bytes":return 1;case"string":return 1;case"pubkey":return 32;default:if("option"in e)return 1+oe.typeSize(e.option,n,i);if("coption"in e)return 4+oe.typeSize(e.coption,n,i);if("vec"in e)return 1;if("array"in e){let[o,l]=e.array;return l=oe.resolveArrayLen(l,i),oe.typeSize(o,n,i)*l}if("defined"in e){const o=(u=n.types)===null||u===void 0?void 0:u.find(d=>d.name===e.defined.name);if(!o)throw new ls(`Type not found: ${JSON.stringify(e)}`);const l=d=>{const y=i??e.defined.generics,_=y&&oe.resolveGenericArgs({type:d,typeDef:o,genericArgs:y});return oe.typeSize(d,n,_)};switch(o.type.kind){case"struct":return to(o.type.fields,()=>[0],d=>d.map(y=>l(y.type)),d=>d.map(y=>l(y))).reduce((d,y)=>d+y,0);case"enum":{const d=o.type.variants.map(y=>to(y.fields,()=>[0],_=>_.map(S=>l(S.type)),_=>_.map(S=>l(S))).reduce((_,S)=>_+S,0));return Math.max(...d)+1}case"type":return oe.typeSize(o.type.alias,n,i)}}if("generic"in e){const o=i?.at(0);if(o?.kind!=="type")throw new ls(`Invalid generic: ${e.generic}`);return oe.typeSize(o.type,n,i)}throw new Error(`Invalid type ${JSON.stringify(e)}`)}}static resolveArrayLen(e,n){if(typeof e=="number")return e;if(n){const i=n.find(u=>u.kind==="const");i?.kind==="const"&&(e=+i.value)}if(typeof e!="number")throw new ls("Generic array length did not resolve");return e}static resolveGenericArgs({type:e,typeDef:n,genericArgs:i,isDefined:u}){if(typeof e!="object")return null;for(const o in n.generics){const l=n.generics[o];if("generic"in e&&l.name===e.generic)return[i[o]];if("option"in e){const d=oe.resolveGenericArgs({type:e.option,typeDef:n,genericArgs:i,isDefined:u});if(!d||!u)return d;if(d[0].kind==="type")return[{kind:"type",type:{option:d[0].type}}]}if("vec"in e){const d=oe.resolveGenericArgs({type:e.vec,typeDef:n,genericArgs:i,isDefined:u});if(!d||!u)return d;if(d[0].kind==="type")return[{kind:"type",type:{vec:d[0].type}}]}if("array"in e){const[d,y]=e.array,_=typeof y=="object",S=oe.resolveGenericArgs({type:d,typeDef:n,genericArgs:i,isDefined:u})||[];if(_){const I=n.generics.findIndex(k=>k.name===y.generic);I!==-1&&S.push(i[I])}if(S.length>0){if(!u)return S;if(S[0].kind==="type"&&S[1].kind==="const")return[{kind:"type",type:{array:[S[0].type,+S[1].value]}}]}if(_&&l.name===y.generic){const I=i[o];return u?[{kind:"type",type:{array:[d,+I.value]}}]:[I]}return null}if("defined"in e)return e.defined.generics?e.defined.generics.flatMap(d=>{switch(d.kind){case"type":return oe.resolveGenericArgs({type:d.type,typeDef:n,genericArgs:i,isDefined:!0});case"const":return[d]}}).filter(d=>d!==null):null}return null}}class BI{constructor(e){this.idl=e;const n=e.instructions.map(i=>{const u=i.name,o=i.args.map(d=>oe.fieldLayout(d,e.types)),l=$t.struct(o,u);return[u,{discriminator:i.discriminator,layout:l}]});this.ixLayouts=new Map(n)}encode(e,n){const i=kt.Buffer.alloc(1e3),u=this.ixLayouts.get(e);if(!u)throw new Error(`Unknown method: ${e}`);const o=u.layout.encode(n,i),l=i.slice(0,o);return kt.Buffer.concat([kt.Buffer.from(u.discriminator),l])}decode(e,n="hex"){typeof e=="string"&&(e=n==="hex"?kt.Buffer.from(e,"hex"):tf.decode(e));for(const[i,u]of this.ixLayouts){const o=e.subarray(0,u.discriminator.length);if(o.equals(kt.Buffer.from(u.discriminator)))return{name:i,data:u.layout.decode(e.subarray(o.length))}}return null}format(e,n){return rr.format(e,n,this.idl)}}class rr{static format(e,n,i){const u=i.instructions.find(y=>e.name===y.name);if(!u)return console.error("Invalid instruction given"),null;const o=u.args.map(y=>({name:y.name,type:rr.formatIdlType(y.type),data:rr.formatIdlData(y,e.data[y.name],i.types)})),l=rr.flattenIdlAccounts(u.accounts),d=n.map((y,_)=>_<l.length?{name:l[_].name,...y}:{name:void 0,...y});return{args:o,accounts:d}}static formatIdlType(e){if(typeof e=="string")return e;if("option"in e)return`Option<${this.formatIdlType(e.option)}>`;if("coption"in e)return`COption<${this.formatIdlType(e.coption)}>`;if("vec"in e)return`Vec<${this.formatIdlType(e.vec)}>`;if("array"in e)return`Array<${e.array[0]}; ${e.array[1]}>`;if("defined"in e){const n=e.defined.name;if(e.defined.generics){const i=e.defined.generics.map(u=>{switch(u.kind){case"type":return rr.formatIdlType(u.type);case"const":return u.value}}).join(", ");return`${n}<${i}>`}return n}throw new Error(`Unknown IDL type: ${e}`)}static formatIdlData(e,n,i){if(typeof e.type=="string")return n.toString();if("vec"in e.type)return"["+n.map(u=>this.formatIdlData({name:"",type:e.type.vec},u,i)).join(", ")+"]";if("option"in e.type)return n===null?"null":this.formatIdlData({name:"",type:e.type.option},n,i);if("defined"in e.type){if(!i)throw new Error("User defined types not provided");const u=e.type.defined.name,o=i.find(l=>l.name===u);if(!o)throw new Error(`Type not found: ${u}`);return rr.formatIdlDataDefined(o,n,i)}return"unknown"}static formatIdlDataDefined(e,n,i){switch(e.type.kind){case"struct":return"{ "+to(e.type.fields,()=>"",u=>Object.entries(n).map(([o,l])=>{const d=u.find(y=>y.name===o);if(!d)throw new Error(`Field not found: ${o}`);return o+": "+rr.formatIdlData(d,l,i)}).join(", "),u=>Object.entries(n).map(([o,l])=>o+": "+rr.formatIdlData({name:"",type:u[o]},l,i)).join(", "))+" }";case"enum":{const u=Object.keys(n)[0],o=e.type.variants.find(d=>d.name===u);if(!o)throw new Error(`Unable to find variant: ${u}`);const l=n[u];return to(o.fields,()=>u,d=>{const y=Object.keys(l).map(_=>{const S=l[_],I=d.find(k=>k.name===_);if(!I)throw new Error(`Field not found: ${_}`);return _+": "+rr.formatIdlData(I,S,i)}).join(", ");return`${u} { ${y} }`},d=>{const y=Object.entries(l).map(([_,S])=>_+": "+rr.formatIdlData({name:"",type:d[_]},S,i)).join(", ");return`${u} { ${y} }`})}case"type":return rr.formatIdlType(e.type.alias)}}static flattenIdlAccounts(e,n){return e.map(i=>{const u=MI(i.name);if(i.hasOwnProperty("accounts")){const o=n?`${n} > ${u}`:u;return rr.flattenIdlAccounts(i.accounts,o)}else return{...i,name:n?`${n} > ${u}`:u}}).flat()}}function MI(s){const e=s.replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)}class wp{constructor(e){if(this.idl=e,!e.accounts){this.accountLayouts=new Map;return}const n=e.types;if(!n)throw new Error("Accounts require `idl.types`");const i=e.accounts.map(u=>{const o=n.find(l=>l.name===u.name);if(!o)throw new Error(`Account not found: ${u.name}`);return[u.name,{discriminator:u.discriminator,layout:oe.typeDefLayout({typeDef:o,types:n})}]});this.accountLayouts=new Map(i)}async encode(e,n){const i=kt.Buffer.alloc(1e3),u=this.accountLayouts.get(e);if(!u)throw new Error(`Unknown account: ${e}`);const o=u.layout.encode(n,i),l=i.slice(0,o),d=this.accountDiscriminator(e);return kt.Buffer.concat([d,l])}decode(e,n){const i=this.accountDiscriminator(e);if(i.compare(n.slice(0,i.length)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(e,n)}decodeAny(e){for(const[n,i]of this.accountLayouts)if(e.subarray(0,i.discriminator.length).equals(kt.Buffer.from(i.discriminator)))return this.decodeUnchecked(n,e);throw new Error("Account not found")}decodeUnchecked(e,n){const i=this.accountDiscriminator(e),u=n.subarray(i.length),o=this.accountLayouts.get(e);if(!o)throw new Error(`Unknown account: ${e}`);return o.layout.decode(u)}memcmp(e,n){const i=this.accountDiscriminator(e);return{offset:0,bytes:tf.encode(n?kt.Buffer.concat([i,n]):i)}}size(e){return this.accountDiscriminator(e).length+oe.typeSize({defined:{name:e}},this.idl)}accountDiscriminator(e){var n;const i=(n=this.idl.accounts)===null||n===void 0?void 0:n.find(u=>u.name===e);if(!i)throw new Error(`Account not found: ${e}`);return kt.Buffer.from(i.discriminator)}}class UI{constructor(e){if(!e.events){this.layouts=new Map;return}const n=e.types;if(!n)throw new Error("Events require `idl.types`");const i=e.events.map(u=>{const o=n.find(l=>l.name===u.name);if(!o)throw new Error(`Event not found: ${u.name}`);return[u.name,{discriminator:u.discriminator,layout:oe.typeDefLayout({typeDef:o,types:n})}]});this.layouts=new Map(i)}decode(e){let n;try{n=pp(e)}catch{return null}for(const[i,u]of this.layouts){const o=n.subarray(0,u.discriminator.length);if(o.equals(kt.Buffer.from(u.discriminator)))return{name:i,data:u.layout.decode(n.subarray(o.length))}}return null}}class DI{constructor(e){const n=e.types;if(!n){this.typeLayouts=new Map;return}const i=n.filter(u=>!u.generics).map(u=>[u.name,oe.typeDefLayout({typeDef:u,types:n})]);this.typeLayouts=new Map(i)}encode(e,n){const i=kt.Buffer.alloc(1e3),u=this.typeLayouts.get(e);if(!u)throw new Error(`Unknown type: ${e}`);const o=u.encode(n,i);return i.slice(0,o)}decode(e,n){const i=this.typeLayouts.get(e);if(!i)throw new Error(`Unknown type: ${e}`);return i.decode(n)}}class RE{constructor(e){this.instruction=new BI(e),this.accounts=new wp(e),this.events=new UI(e),this.types=new DI(e)}}class Zn{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}decode(e,n){throw new Error("Layout is abstract")}encode(e,n,i){throw new Error("Layout is abstract")}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}}var rf=Zn;function LI(s,e){return e.property?s+"["+e.property+"]":s}class Zs extends Zn{isCount(){throw new Error("ExternalLayout is abstract")}}class xE extends Zs{constructor(e,n,i){if(!(e instanceof Zn))throw new TypeError("layout must be a Layout");if(n===void 0)n=0;else if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,i||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof sf||this.layout instanceof TE}decode(e,n){return n===void 0&&(n=0),this.layout.decode(e,n+this.offset)}encode(e,n,i){return i===void 0&&(i=0),this.layout.encode(e,n,i+this.offset)}}class sf extends Zn{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readUIntLE(n,this.span)}encode(e,n,i){return i===void 0&&(i=0),n.writeUIntLE(e,i,this.span),this.span}}class TE extends Zn{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readUIntBE(n,this.span)}encode(e,n,i){return i===void 0&&(i=0),n.writeUIntBE(e,i,this.span),this.span}}const k0=Math.pow(2,32);function OE(s){const e=Math.floor(s/k0),n=s-e*k0;return{hi32:e,lo32:n}}function NE(s,e){return s*k0+e}class zI extends Zn{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const i=e.readUInt32LE(n),u=e.readUInt32LE(n+4);return NE(u,i)}encode(e,n,i){i===void 0&&(i=0);const u=OE(e);return n.writeUInt32LE(u.lo32,i),n.writeUInt32LE(u.hi32,i+4),8}}class HI extends Zn{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const i=e.readUInt32LE(n),u=e.readInt32LE(n+4);return NE(u,i)}encode(e,n,i){i===void 0&&(i=0);const u=OE(e);return n.writeUInt32LE(u.lo32,i),n.writeInt32LE(u.hi32,i+4),8}}class jI extends Zn{constructor(e,n,i){if(!(Array.isArray(e)&&e.reduce((o,l)=>o&&l instanceof Zn,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&i===void 0&&(i=n,n=void 0);for(const o of e)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let u=-1;try{u=e.reduce((o,l)=>o+l.getSpan(),0)}catch{}super(u,n),this.fields=e,this.decodePrefixes=!!i}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let i=0;try{i=this.fields.reduce((u,o)=>{const l=o.getSpan(e,n);return n+=l,u+l},0)}catch{throw new RangeError("indeterminate span")}return i}decode(e,n){n===void 0&&(n=0);const i=this.makeDestinationObject();for(const u of this.fields)if(u.property!==void 0&&(i[u.property]=u.decode(e,n)),n+=u.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return i}encode(e,n,i){i===void 0&&(i=0);const u=i;let o=0,l=0;for(const d of this.fields){let y=d.span;if(l=0<y?y:0,d.property!==void 0){const _=e[d.property];_!==void 0&&(l=d.encode(_,n,i),0>y&&(y=d.getSpan(n,i)))}o=i,i+=y}return o+l-u}fromArray(e){const n=this.makeDestinationObject();for(const i of this.fields)i.property!==void 0&&0<e.length&&(n[i.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const i of this.fields){if(i.property===e)return n;0>i.span?n=-1:0<=n&&(n+=i.span)}}}class kE{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class s_ extends kE{constructor(e,n){if(!(e instanceof Zs&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,i){return this.layout.encode(e,n,i)}}class IE extends Zn{constructor(e,n,i){const u=e instanceof sf||e instanceof TE;if(u)e=new s_(new xE(e));else if(e instanceof Zs&&e.isCount())e=new s_(e);else if(!(e instanceof kE))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof Zn))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let o=-1;n&&(o=n.span,0<=o&&u&&(o+=e.layout.span)),super(o,i),this.discriminator=e,this.usesPrefixDiscriminator=u,this.defaultLayout=n,this.registry={};let l=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(d){return l(d)},this.configGetSourceVariant=function(d){l=d.bind(this)}}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);const i=this.getVariant(e,n);if(!i)throw new Error("unable to determine span for unrecognized variant");return i.getSpan(e,n)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||e.hasOwnProperty(n.property)))return n}else for(const n in this.registry){const i=this.registry[n];if(e.hasOwnProperty(i.property))return i}throw new Error("unable to infer src variant")}decode(e,n){n===void 0&&(n=0);let i;const u=this.discriminator,o=u.decode(e,n);let l=this.registry[o];if(l===void 0){let d=0;l=this.defaultLayout,this.usesPrefixDiscriminator&&(d=u.layout.span),i=this.makeDestinationObject(),i[u.property]=o,i[l.property]=this.defaultLayout.decode(e,n+d)}else i=l.decode(e,n);return i}encode(e,n,i){i===void 0&&(i=0);const u=this.getSourceVariant(e);if(u===void 0){const o=this.discriminator,l=this.defaultLayout;let d=0;return this.usesPrefixDiscriminator&&(d=o.layout.span),o.encode(e[o.property],n,i),d+l.encode(e[l.property],n,i+d)}return u.encode(e,n,i)}addVariant(e,n,i){const u=new qI(this,e,n,i);return this.registry[e]=u,u}getVariant(e,n){let i=e;return Buffer.isBuffer(e)&&(n===void 0&&(n=0),i=this.discriminator.decode(e,n)),this.registry[i]}}class qI extends Zn{constructor(e,n,i,u){if(!(e instanceof IE))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof i=="string"&&u===void 0&&(u=i,i=null),i){if(!(i instanceof Zn))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=i.span&&i.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof u!="string")throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=i?i.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,u),this.union=e,this.variant=n,this.layout=i||null}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),i+this.layout.getSpan(e,n+i)}decode(e,n){const i=this.makeDestinationObject();if(n===void 0&&(n=0),this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let u=0;return this.union.usesPrefixDiscriminator&&(u=this.union.discriminator.layout.span),this.layout?i[this.property]=this.layout.decode(e,n+u):this.property?i[this.property]=!0:this.union.usesPrefixDiscriminator&&(i[this.union.discriminator.property]=this.variant),i}encode(e,n,i){i===void 0&&(i=0);let u=0;if(this.union.usesPrefixDiscriminator&&(u=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,i);let o=u;if(this.layout&&(this.layout.encode(e[this.property],n,i+u),o+=this.layout.getSpan(n,i+u),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}class PI extends Zn{constructor(e,n){if(!(e instanceof Zs&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let i=-1;e instanceof Zs||(i=e),super(i,n),this.length=e}getSpan(e,n){let i=this.span;return 0>i&&(i=this.length.decode(e,n)),i}decode(e,n){n===void 0&&(n=0);let i=this.span;return 0>i&&(i=this.length.decode(e,n)),e.slice(n,n+i)}encode(e,n,i){let u=this.length;if(this.length instanceof Zs&&(u=e.length),!(Buffer.isBuffer(e)&&u===e.length))throw new TypeError(LI("Blob.encode",this)+" requires (length "+u+") Buffer as src");if(i+u>n.length)throw new RangeError("encoding overruns Buffer");return n.write(e.toString("hex"),i,u,"hex"),this.length instanceof Zs&&this.length.encode(u,n,i),u}}var KI=((s,e,n)=>new xE(s,e,n)),VI=(s=>new sf(1,s)),Ti=(s=>new sf(4,s)),GI=(s=>new zI(s)),ki=(s=>new HI(s)),bn=((s,e,n)=>new jI(s,e,n)),CE=((s,e,n)=>new IE(s,e,n)),qu=((s,e)=>new PI(s,e));class FI extends rf{constructor(e){super(-1,e),this.property=e,this.layout=bn([Ti("length"),Ti("lengthPadding"),qu(KI(Ti(),-8),"chars")],this.property)}encode(e,n,i=0){if(e==null)return this.layout.span;const u={chars:Buffer.from(e,"utf8")};return this.layout.encode(u,n,i)}decode(e,n=0){return this.layout.decode(e,n).chars.toString()}getSpan(e,n=0){return Ti().span+Ti().span+new On(new Uint8Array(e).slice(n,n+4),10,"le").toNumber()}}function af(s){return new FI(s)}function _r(s){return qu(32,s)}const ar=CE(Ti("instruction"));ar.addVariant(0,bn([ki("lamports"),ki("space"),_r("owner")]),"createAccount");ar.addVariant(1,bn([_r("owner")]),"assign");ar.addVariant(2,bn([ki("lamports")]),"transfer");ar.addVariant(3,bn([_r("base"),af("seed"),ki("lamports"),ki("space"),_r("owner")]),"createAccountWithSeed");ar.addVariant(4,bn([_r("authorized")]),"advanceNonceAccount");ar.addVariant(5,bn([ki("lamports")]),"withdrawNonceAccount");ar.addVariant(6,bn([_r("authorized")]),"initializeNonceAccount");ar.addVariant(7,bn([_r("authorized")]),"authorizeNonceAccount");ar.addVariant(8,bn([ki("space")]),"allocate");ar.addVariant(9,bn([_r("base"),af("seed"),ki("space"),_r("owner")]),"allocateWithSeed");ar.addVariant(10,bn([_r("base"),af("seed"),_r("owner")]),"assignWithSeed");ar.addVariant(11,bn([ki("lamports"),af("seed"),_r("owner")]),"transferWithSeed");Math.max(...Object.values(ar.registry).map(s=>s.span));class YI extends rf{constructor(e,n,i,u){super(e.span,u),this.layout=e,this.decoder=n,this.encoder=i}decode(e,n){return this.decoder(this.layout.decode(e,n))}encode(e,n,i){return this.layout.encode(this.encoder(e),n,i)}getSpan(e,n){return this.layout.getSpan(e,n)}}function a_(s){return new YI(qu(32),e=>new vt(e),e=>e.toBuffer(),s)}bn([Ti("version"),Ti("state"),a_("authorizedPubkey"),a_("nonce"),bn([GI("lamportsPerSignature")],"feeCalculator")]);function ZI(s){return new TextDecoder().decode(Tl(s))}var XI=Object.freeze({__proto__:null,hash:ZI});function $I(s,e,n){const i=kt.Buffer.concat([s.toBuffer(),kt.Buffer.from(e),n.toBuffer()]);return new vt(Tl(i))}var WI=Object.freeze({__proto__:null,createWithSeedSync:$I});const BE=new vt("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),ME=new vt("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");function QI({mint:s,owner:e}){return vt.findProgramAddressSync([e.toBuffer(),BE.toBuffer(),s.toBuffer()],ME)[0]}var JI=Object.freeze({__proto__:null,TOKEN_PROGRAM_ID:BE,ASSOCIATED_PROGRAM_ID:ME,associatedAddress:QI}),I0={exports:{}};(function(s,e){var n=typeof self<"u"?self:TI,i=(function(){function o(){this.fetch=!1,this.DOMException=n.DOMException}return o.prototype=n,new o})();(function(o){(function(l){var d={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function y(h){return h&&DataView.prototype.isPrototypeOf(h)}if(d.arrayBuffer)var _=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],S=ArrayBuffer.isView||function(h){return h&&_.indexOf(Object.prototype.toString.call(h))>-1};function I(h){if(typeof h!="string"&&(h=String(h)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(h))throw new TypeError("Invalid character in header field name");return h.toLowerCase()}function k(h){return typeof h!="string"&&(h=String(h)),h}function R(h){var w={next:function(){var E=h.shift();return{done:E===void 0,value:E}}};return d.iterable&&(w[Symbol.iterator]=function(){return w}),w}function M(h){this.map={},h instanceof M?h.forEach(function(w,E){this.append(E,w)},this):Array.isArray(h)?h.forEach(function(w){this.append(w[0],w[1])},this):h&&Object.getOwnPropertyNames(h).forEach(function(w){this.append(w,h[w])},this)}M.prototype.append=function(h,w){h=I(h),w=k(w);var E=this.map[h];this.map[h]=E?E+", "+w:w},M.prototype.delete=function(h){delete this.map[I(h)]},M.prototype.get=function(h){return h=I(h),this.has(h)?this.map[h]:null},M.prototype.has=function(h){return this.map.hasOwnProperty(I(h))},M.prototype.set=function(h,w){this.map[I(h)]=k(w)},M.prototype.forEach=function(h,w){for(var E in this.map)this.map.hasOwnProperty(E)&&h.call(w,this.map[E],E,this)},M.prototype.keys=function(){var h=[];return this.forEach(function(w,E){h.push(E)}),R(h)},M.prototype.values=function(){var h=[];return this.forEach(function(w){h.push(w)}),R(h)},M.prototype.entries=function(){var h=[];return this.forEach(function(w,E){h.push([E,w])}),R(h)},d.iterable&&(M.prototype[Symbol.iterator]=M.prototype.entries);function U(h){if(h.bodyUsed)return Promise.reject(new TypeError("Already read"));h.bodyUsed=!0}function D(h){return new Promise(function(w,E){h.onload=function(){w(h.result)},h.onerror=function(){E(h.error)}})}function q(h){var w=new FileReader,E=D(w);return w.readAsArrayBuffer(h),E}function G(h){var w=new FileReader,E=D(w);return w.readAsText(h),E}function P(h){for(var w=new Uint8Array(h),E=new Array(w.length),B=0;B<w.length;B++)E[B]=String.fromCharCode(w[B]);return E.join("")}function W(h){if(h.slice)return h.slice(0);var w=new Uint8Array(h.byteLength);return w.set(new Uint8Array(h)),w.buffer}function nt(){return this.bodyUsed=!1,this._initBody=function(h){this._bodyInit=h,h?typeof h=="string"?this._bodyText=h:d.blob&&Blob.prototype.isPrototypeOf(h)?this._bodyBlob=h:d.formData&&FormData.prototype.isPrototypeOf(h)?this._bodyFormData=h:d.searchParams&&URLSearchParams.prototype.isPrototypeOf(h)?this._bodyText=h.toString():d.arrayBuffer&&d.blob&&y(h)?(this._bodyArrayBuffer=W(h.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):d.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(h)||S(h))?this._bodyArrayBuffer=W(h):this._bodyText=h=Object.prototype.toString.call(h):this._bodyText="",this.headers.get("content-type")||(typeof h=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):d.searchParams&&URLSearchParams.prototype.isPrototypeOf(h)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},d.blob&&(this.blob=function(){var h=U(this);if(h)return h;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?U(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(q)}),this.text=function(){var h=U(this);if(h)return h;if(this._bodyBlob)return G(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(P(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},d.formData&&(this.formData=function(){return this.text().then(V)}),this.json=function(){return this.text().then(JSON.parse)},this}var ot=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function it(h){var w=h.toUpperCase();return ot.indexOf(w)>-1?w:h}function ut(h,w){w=w||{};var E=w.body;if(h instanceof ut){if(h.bodyUsed)throw new TypeError("Already read");this.url=h.url,this.credentials=h.credentials,w.headers||(this.headers=new M(h.headers)),this.method=h.method,this.mode=h.mode,this.signal=h.signal,!E&&h._bodyInit!=null&&(E=h._bodyInit,h.bodyUsed=!0)}else this.url=String(h);if(this.credentials=w.credentials||this.credentials||"same-origin",(w.headers||!this.headers)&&(this.headers=new M(w.headers)),this.method=it(w.method||this.method||"GET"),this.mode=w.mode||this.mode||null,this.signal=w.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&E)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(E)}ut.prototype.clone=function(){return new ut(this,{body:this._bodyInit})};function V(h){var w=new FormData;return h.trim().split("&").forEach(function(E){if(E){var B=E.split("="),z=B.shift().replace(/\+/g," "),C=B.join("=").replace(/\+/g," ");w.append(decodeURIComponent(z),decodeURIComponent(C))}}),w}function F(h){var w=new M,E=h.replace(/\r?\n[\t ]+/g," ");return E.split(/\r?\n/).forEach(function(B){var z=B.split(":"),C=z.shift().trim();if(C){var v=z.join(":").trim();w.append(C,v)}}),w}nt.call(ut.prototype);function X(h,w){w||(w={}),this.type="default",this.status=w.status===void 0?200:w.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in w?w.statusText:"OK",this.headers=new M(w.headers),this.url=w.url||"",this._initBody(h)}nt.call(X.prototype),X.prototype.clone=function(){return new X(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new M(this.headers),url:this.url})},X.error=function(){var h=new X(null,{status:0,statusText:""});return h.type="error",h};var $=[301,302,303,307,308];X.redirect=function(h,w){if($.indexOf(w)===-1)throw new RangeError("Invalid status code");return new X(null,{status:w,headers:{location:h}})},l.DOMException=o.DOMException;try{new l.DOMException}catch{l.DOMException=function(w,E){this.message=w,this.name=E;var B=Error(w);this.stack=B.stack},l.DOMException.prototype=Object.create(Error.prototype),l.DOMException.prototype.constructor=l.DOMException}function x(h,w){return new Promise(function(E,B){var z=new ut(h,w);if(z.signal&&z.signal.aborted)return B(new l.DOMException("Aborted","AbortError"));var C=new XMLHttpRequest;function v(){C.abort()}C.onload=function(){var m={status:C.status,statusText:C.statusText,headers:F(C.getAllResponseHeaders()||"")};m.url="responseURL"in C?C.responseURL:m.headers.get("X-Request-URL");var f="response"in C?C.response:C.responseText;E(new X(f,m))},C.onerror=function(){B(new TypeError("Network request failed"))},C.ontimeout=function(){B(new TypeError("Network request failed"))},C.onabort=function(){B(new l.DOMException("Aborted","AbortError"))},C.open(z.method,z.url,!0),z.credentials==="include"?C.withCredentials=!0:z.credentials==="omit"&&(C.withCredentials=!1),"responseType"in C&&d.blob&&(C.responseType="blob"),z.headers.forEach(function(m,f){C.setRequestHeader(f,m)}),z.signal&&(z.signal.addEventListener("abort",v),C.onreadystatechange=function(){C.readyState===4&&z.signal.removeEventListener("abort",v)}),C.send(typeof z._bodyInit>"u"?null:z._bodyInit)})}return x.polyfill=!0,o.fetch||(o.fetch=x,o.Headers=M,o.Request=ut,o.Response=X),l.Headers=M,l.Request=ut,l.Response=X,l.fetch=x,Object.defineProperty(l,"__esModule",{value:!0}),l})({})})(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var u=i;e=u.fetch,e.default=u.fetch,e.fetch=u.fetch,e.Headers=u.Headers,e.Request=u.Request,e.Response=u.Response,s.exports=e})(I0,I0.exports);var t3=OI(I0.exports);async function e3(s,e,n=5){const i=`https://api.apr.dev/api/v0/program/${e.toString()}/latest?limit=${n}`,[u,o]=await Promise.all([UE(s,e),t3(i)]),l=(await o.json()).filter(y=>!y.aborted&&y.state==="Built"&&y.verified==="Verified");if(l.length===0)return null;const d=l[0];return u.slot.toNumber()!==d.verified_slot?null:d}async function UE(s,e){const n=await s.getAccountInfo(e);if(n===null)throw new Error("program account not found");const{program:i}=C0(n.data),u=await s.getAccountInfo(i.programdataAddress);if(u===null)throw new Error("program data account not found");const{programData:o}=C0(u.data);return o}const n3=$t.rustEnum([$t.struct([],"uninitialized"),$t.struct([$t.option($t.publicKey(),"authorityAddress")],"buffer"),$t.struct([$t.publicKey("programdataAddress")],"program"),$t.struct([$t.u64("slot"),$t.option($t.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,$t.u32());function C0(s){return n3.decode(s)}var r3=Object.freeze({__proto__:null,verifiedBuild:e3,fetchData:UE,decodeUpgradeableLoaderState:C0}),qs=Object.freeze({__proto__:null,sha256:XI,rpc:RI,publicKey:WI,bytes:nI,token:JI,features:II,registry:r3});const B0="Program log: ",DE="Program data: ",i3=B0.length,s3=DE.length;class a3{constructor(e,n,i){this._programId=e,this._provider=n,this._eventParser=new gs(e,i),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(e,n,i){var u;let o=this._listenerIdCount;return this._listenerIdCount+=1,this._eventListeners.has(e)||this._eventListeners.set(e,[]),this._eventListeners.set(e,((u=this._eventListeners.get(e))!==null&&u!==void 0?u:[]).concat(o)),this._eventCallbacks.set(o,[e,n]),this._onLogsSubscriptionId!==void 0||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,(l,d)=>{if(!l.err)for(const y of this._eventParser.parseLogs(l.logs)){const _=this._eventListeners.get(y.name);_&&_.forEach(S=>{const I=this._eventCallbacks.get(S);if(I){const[,k]=I;k(y.data,d.slot,l.signature)}})}},i)),o}async removeEventListener(e){const n=this._eventCallbacks.get(e);if(!n)throw new Error(`Event listener ${e} doesn't exist!`);const[i]=n;let u=this._eventListeners.get(i);if(!u)throw new Error(`Event listeners don't exist for ${i}!`);if(this._eventCallbacks.delete(e),u=u.filter(o=>o!==e),this._eventListeners.set(i,u),u.length===0&&this._eventListeners.delete(i),this._eventCallbacks.size===0){if(this._eventListeners.size!==0)throw new Error(`Expected event listeners size to be 0 but got ${this._eventListeners.size}`);this._onLogsSubscriptionId!==void 0&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0)}}}class gs{constructor(e,n){this.coder=n,this.programId=e}*parseLogs(e,n=!1){const i=new u3([...e]),u=new o3,o=i.next();if(o===null)return;const l=gs.INVOKE_RE.exec(o);if(!l||l[2]!==gs.ROOT_DEPTH)throw new Error(`Unexpected first log line: ${o}`);for(u.push(l[1]);i.peek()!==null;){const d=i.next();if(d===null)break;let[y,_,S]=this.handleLog(u,d,n);if(y&&(yield y),_&&u.push(_),S){u.pop();const I=i.peek();if(I&&I.endsWith("invoke [1]")){const k=gs.INVOKE_RE.exec(I);k&&u.push(k[1])}}}}handleLog(e,n,i){return e.stack.length>0&&e.program()===this.programId.toString()?this.handleProgramLog(n,i):[null,...this.handleSystemLog(n)]}handleProgramLog(e,n){if(e.startsWith(B0)||e.startsWith(DE)){const i=e.startsWith(B0)?e.slice(i3):e.slice(s3),u=this.coder.events.decode(i);if(n&&u===null)throw new Error(`Unable to decode event ${i}`);return[u,null,!1]}else return[null,...this.handleSystemLog(e)]}handleSystemLog(e){return e.startsWith(`Program ${this.programId.toString()} log:`)?[this.programId.toString(),!1]:e.includes("invoke")&&!e.endsWith("[1]")?["cpi",!1]:/^Program ([1-9A-HJ-NP-Za-km-z]+) success$/.test(e)?[null,!0]:[null,!1]}}gs.INVOKE_RE=/^Program ([1-9A-HJ-NP-Za-km-z]+) invoke \[(\d+)\]$/;gs.ROOT_DEPTH="1";class o3{constructor(){this.stack=[]}program(){if(!this.stack.length)throw new Error("Expected the stack to have elements");return this.stack[this.stack.length-1]}push(e){this.stack.push(e)}pop(){if(!this.stack.length)throw new Error("Expected the stack to have elements");this.stack.pop()}}class u3{constructor(e){this.logs=e,this.logs=this.logs.filter(n=>n.startsWith("Program "))}next(){if(this.logs.length===0)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}peek(){return this.logs.length>0?this.logs[0]:null}}function of(s,e){var n,i;let u={};const o=s.args?s.args.length:0;if(e.length>o){if(e.length!==o+1)throw new Error(`provided too many arguments ${e} to instruction ${s?.name} expecting: ${(i=(n=s.args)===null||n===void 0?void 0:n.map(l=>l.name))!==null&&i!==void 0?i:[]}`);u=e.pop()}return[e,u]}class zl{static build(e,n,i){if(e.name==="_inner")throw new ls("the _inner name is reserved");const u=(...o)=>{const[l,d]=of(e,[...o]);Xw(e.accounts,d.accounts),c3(e,...o);const y=u.accounts(d.accounts);return d.remainingAccounts!==void 0&&y.push(...d.remainingAccounts),_p("debug-logs")&&console.log("Outgoing account metas:",y),new Ae({keys:y,programId:i,data:n(e.name,cI(e,...l))})};return u.accounts=o=>zl.accountsArray(o,e.accounts,i,e.name),u}static accountsArray(e,n,i,u){return e?n.map(o=>{if(fs(o)){const S=e[o.name];return zl.accountsArray(S,o.accounts,i,u).flat()}let l;try{l=gr(e[o.name])}catch{throw new Error(`Wrong input type for account "${o.name}" in the instruction accounts object${u!==void 0?' for instruction "'+u+'"':""}. Expected PublicKey or string.`)}const d=o.optional&&l.equals(i),y=!!(o.writable&&!d),_=!!(o.signer&&!d);return{pubkey:l,isWritable:y,isSigner:_}}).flat():[]}}function c3(s,...e){}class l3{static build(e,n){return(...u)=>{var o,l,d;const[,y]=of(e,[...u]),_=new ce;if(y.preInstructions&&y.instructions)throw new Error("instructions is deprecated, use preInstructions");return(o=y.preInstructions)===null||o===void 0||o.forEach(S=>_.add(S)),(l=y.instructions)===null||l===void 0||l.forEach(S=>_.add(S)),_.add(n(...u)),(d=y.postInstructions)===null||d===void 0||d.forEach(S=>_.add(S)),_}}}class f3{static build(e,n,i,u){return async(...l)=>{var d;const y=n(...l),[,_]=of(e,[...l]);if(u.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await u.sendAndConfirm(y,(d=_.signers)!==null&&d!==void 0?d:[],_.options)}catch(S){throw AE(S,i)}}}}class d3{static build(e,n,i,u){var o;return((o=e.accounts)!==null&&o!==void 0?o:[]).reduce((l,d)=>(l[d.name]=new h3(e,d,i,u,n),l),{})}}class h3{get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}constructor(e,n,i,u,o){this._idlAccount=n,this._programId=i,this._provider=u??Dl(),this._coder=o??new RE(e),this._size=this._coder.accounts.size(n.name)}async fetchNullable(e,n){const{data:i}=await this.fetchNullableAndContext(e,n);return i}async fetchNullableAndContext(e,n){const i=await this.getAccountInfoAndContext(e,n),{value:u,context:o}=i;return{data:u&&u.data.length!==0?this._coder.accounts.decode(this._idlAccount.name,u.data):null,context:o}}async fetch(e,n){const{data:i}=await this.fetchNullableAndContext(e,n);if(i===null)throw new Error(`Account does not exist or has no data ${e.toString()}`);return i}async fetchAndContext(e,n){const{data:i,context:u}=await this.fetchNullableAndContext(e,n);if(i===null)throw new Error(`Account does not exist ${e.toString()}`);return{data:i,context:u}}async fetchMultiple(e,n){return(await this.fetchMultipleAndContext(e,n)).map(u=>u?u.data:null)}async fetchMultipleAndContext(e,n){return(await bp(this._provider.connection,e.map(u=>gr(u)),n)).map(u=>{if(u==null)return null;const{account:o,context:l}=u;return{data:this._coder.accounts.decode(this._idlAccount.name,o.data),context:l}})}async all(e){const n=this.coder.accounts.memcmp(this._idlAccount.name,e instanceof Buffer?e:void 0),i=[];return n?.offset!=null&&n?.bytes!=null&&i.push({memcmp:{offset:n.offset,bytes:n.bytes}}),n?.dataSize!=null&&i.push({dataSize:n.dataSize}),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[...i,...Array.isArray(e)?e:[]]})).map(({pubkey:o,account:l})=>({publicKey:o,account:this._coder.accounts.decode(this._idlAccount.name,l.data)}))}subscribe(e,n){const i=gu.get(e.toString());if(i)return i.ee;const u=new Gk;e=gr(e);const o=this._provider.connection.onAccountChange(e,l=>{const d=this._coder.accounts.decode(this._idlAccount.name,l.data);u.emit("change",d)},n);return gu.set(e.toString(),{ee:u,listener:o}),u}async unsubscribe(e){let n=gu.get(e.toString());if(!n){console.warn("Address is not subscribed");return}gu&&await this._provider.connection.removeAccountChangeListener(n.listener).then(()=>{gu.delete(e.toString())}).catch(console.error)}async createInstruction(e,n){const i=this.size;if(this._provider.publicKey===void 0)throw new Error("This function requires the Provider interface implementor to have a 'publicKey' field.");return ln.createAccount({fromPubkey:this._provider.publicKey,newAccountPubkey:e.publicKey,space:n??i,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(n??i),programId:this._programId})}async getAccountInfo(e,n){return await this._provider.connection.getAccountInfo(gr(e),n)}async getAccountInfoAndContext(e,n){return await this._provider.connection.getAccountInfoAndContext(gr(e),n)}}const gu=new Map;class p3{static build(e,n,i,u,o,l,d){return async(..._)=>{var S;const I=n(..._),[,k]=of(e,[..._]);let R;if(u.simulate===void 0)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{R=await u.simulate(I,k.signers,(S=k.options)===null||S===void 0?void 0:S.commitment)}catch(D){throw AE(D,i)}if(R===void 0)throw new Error("Unable to simulate transaction");const M=R.logs;if(!M)throw new Error("Simulated logs not found");const U=[];if(d.events){let D=new gs(l,o);for(const q of D.parseLogs(M))U.push(q)}return{events:U,raw:M}}}}function u0(s){return new LE(qu(8),e=>vp.fromBuffer(e),e=>e.toBuffer(),s)}function pl(s){return new LE(qu(32),e=>new vt(e),e=>e.toBuffer(),s)}function c0(s,e){return new m3(s,e)}class LE extends rf{constructor(e,n,i,u){super(e.span,u),this.layout=e,this.decoder=n,this.encoder=i}decode(e,n){return this.decoder(this.layout.decode(e,n))}encode(e,n,i){return this.layout.encode(this.encoder(e),n,i)}getSpan(e,n){return this.layout.getSpan(e,n)}}class m3 extends rf{constructor(e,n){super(-1,n),this.layout=e,this.discriminator=Ti()}encode(e,n,i=0){return e==null?this.layout.span+this.discriminator.encode(0,n,i):(this.discriminator.encode(1,n,i),this.layout.encode(e,n,i+4)+4)}decode(e,n=0){const i=this.discriminator.decode(e,n);if(i===0)return null;if(i===1)return this.layout.decode(e,n+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(e,n=0){return this.layout.getSpan(e,n+4)+4}}class vp extends On{toBuffer(){const e=super.toArray().reverse(),n=Buffer.from(e);if(n.length===8)return n;if(n.length>=8)throw new Error("u64 too large");const i=Buffer.alloc(8);return n.copy(i),i}static fromBuffer(e){if(e.length!==8)throw new Error(`Invalid buffer length: ${e.length}`);return new vp([...e].reverse().map(n=>`00${n.toString(16)}`.slice(-2)).join(""),16)}}const y3=bn([pl("mint"),pl("owner"),u0("amount"),c0(pl(),"delegate"),(s=>{const e=CE(VI("discriminator"),null,s);return e.addVariant(0,bn([]),"uninitialized"),e.addVariant(1,bn([]),"initialized"),e.addVariant(2,bn([]),"frozen"),e})("state"),c0(u0(),"isNative"),u0("delegatedAmount"),c0(pl(),"closeAuthority")]);function g3(s){return y3.decode(s)}class b3{constructor(e,n,i,u,o,l,d,y){this._args=e,this._accounts=n,this._provider=i,this._programId=u,this._idlIx=o,this._idlTypes=d,this._customResolver=y,this._accountStore=new _3(i,l,u)}args(e){this._args=e}async resolve(){this.resolveEventCpi(this._idlIx.accounts),this.resolveConst(this._idlIx.accounts);let e=0;for(;await this.resolvePdasAndRelations(this._idlIx.accounts)+await this.resolveCustom()>0;)if(e++,e===16){const n=l=>fs(l)?l.accounts.some(n):!!(l.address||l.pda||l.relations),i=(l,d=[],y=[])=>{for(const _ of l)fs(_)?y.push(...i(_.accounts,[...d,_.name])):y.push([...d,_.name]);return y},u=this._idlIx.accounts.filter(n),o=i(u).filter(l=>!this.get(l)).map(l=>l.reduce((d,y)=>d+"."+y)).map(l=>`\`${l}\``).join(", ");throw new Error(["Reached maximum depth for account resolution.",`Unresolved accounts: ${o}`].join(" "))}}resolveOptionals(e){Object.assign(this._accounts,this.resolveOptionalsHelper(e,this._idlIx.accounts))}get(e){const n=e.reduce((i,u)=>i&&i[u],this._accounts);if(n&&n.toBase58)return n}set(e,n){let i=this._accounts;e.forEach((u,o)=>{var l;o===e.length-1&&(i[u]=n),i[u]=(l=i[u])!==null&&l!==void 0?l:{},i=i[u]})}resolveOptionalsHelper(e,n){const i={};for(const u of n){const o=u.name,l=e[o];l!==void 0&&(zE(l)?fs(u)?i[o]=this.resolveOptionalsHelper(l,u.accounts):i[o]=HE(l):l!==null?i[o]=gr(l):u.optional&&(i[o]=this._programId))}return i}async resolveCustom(){if(this._customResolver){const{accounts:e,resolved:n}=await this._customResolver({args:this._args,accounts:this._accounts,provider:this._provider,programId:this._programId,idlIx:this._idlIx});return this._accounts=e,n}return 0}resolveEventCpi(e,n=[]){for(const i in e){const u=e[i];fs(u)&&this.resolveEventCpi(u.accounts,[...n,u.name]);const o=+i+1;if(o===e.length)return;const l=e[i].name,d=e[o].name;if(l==="eventAuthority"&&d==="program"){const y=[...n,l],_=[...n,d];this.get(y)||this.set(y,vt.findProgramAddressSync([Buffer.from("__event_authority")],this._programId)[0]),this.get(_)||this.set(_,this._programId);return}}}resolveConst(e,n=[]){for(const i of e){const u=i.name;if(fs(i))this.resolveConst(i.accounts,[...n,u]);else{const o=i;if((o.signer||o.address)&&!this.get([...n,u])){if(o.signer){if(!this._provider.publicKey)throw new Error("This function requires the `Provider` interface implementor to have a `publicKey` field.");this.set([...n,u],this._provider.publicKey)}o.address&&this.set([...n,u],gr(o.address))}}}}async resolvePdasAndRelations(e,n=[]){let i=0;for(const u of e){const o=u.name;if(fs(u))i+=await this.resolvePdasAndRelations(u.accounts,[...n,o]);else{const l=u;if((l.pda||l.relations)&&!this.get([...n,o])){i++;try{if(l.pda){const d=await Promise.all(l.pda.seeds.map(S=>this.toBuffer(S,n)));if(d.some(S=>!S))continue;const y=await this.parseProgramId(l,n),[_]=vt.findProgramAddressSync(d,y);this.set([...n,o],_)}}catch{}try{if(l.relations){const d=this.get([...n,l.relations[0]]);if(d){const y=await this._accountStore.fetchAccount({publicKey:d});this.set([...n,o],y[o])}}}catch{}}}}return i}async parseProgramId(e,n=[]){var i;if(!(!((i=e.pda)===null||i===void 0)&&i.program))return this._programId;const u=await this.toBuffer(e.pda.program,n);if(!u)throw new Error(`Program seed not resolved: ${e.name}`);return new vt(u)}async toBuffer(e,n=[]){switch(e.kind){case"const":return this.toBufferConst(e);case"arg":return await this.toBufferArg(e);case"account":return await this.toBufferAccount(e,n);default:throw new Error(`Unexpected seed: ${e}`)}}toBufferConst(e){return this.toBufferValue("bytes",e.value)}async toBufferArg(e){const[n,...i]=e.path.split("."),u=this._idlIx.args.findIndex(d=>d.name===n);if(u===-1)throw new Error(`Unable to find argument for seed: ${n}`);const o=i.reduce((d,y)=>(d??{})[y],this._args[u]);if(o===void 0)return;const l=this.getType(this._idlIx.args[u].type,i);return this.toBufferValue(l,o)}async toBufferAccount(e,n=[]){const[i,...u]=e.path.split("."),o=this.get([...n,i]);if(!o)return;if(!u.length)return this.toBufferValue("pubkey",o);if(!e.account)throw new Error(`Seed account is required in order to resolve type: ${e.path}`);let d=await this._accountStore.fetchAccount({publicKey:o,name:e.account}),y=u;for(;y.length>0;)d=d[y[0]],y=y.slice(1);if(d===void 0)return;const _=this.getType({defined:{name:e.account}},u);return this.toBufferValue(_,d)}toBufferValue(e,n){switch(e){case"u8":case"i8":return Buffer.from([n]);case"u16":case"i16":return new On(n).toArrayLike(Buffer,"le",2);case"u32":case"i32":return new On(n).toArrayLike(Buffer,"le",4);case"u64":case"i64":return new On(n).toArrayLike(Buffer,"le",8);case"u128":case"i128":return new On(n).toArrayLike(Buffer,"le",16);case"u256":case"i256":return new On(n).toArrayLike(Buffer,"le",32);case"string":return Buffer.from(n);case"pubkey":return n.toBuffer();case"bytes":return Buffer.from(n);default:if(e?.array)return Buffer.from(n);throw new Error(`Unexpected seed type: ${e}`)}}getType(e,n=[]){var i;const u=(i=e?.defined)===null||i===void 0?void 0:i.name;if(u){if(u==="tokenAccount")switch(n.at(0)){case"mint":case"owner":return"pubkey";case"amount":case"delagatedAmount":return"u64";default:throw new Error(`Unknown token account path: ${n}`)}const o=this._idlTypes.find(S=>S.name===u);if(!o)throw new Error(`Type not found: ${u}`);const[l,...d]=n,_=o.type.fields.find(S=>S.name===l);if(!_)throw new Error(`Field not found: ${l}`);return this.getType(_.type,d)}return e}}class _3{constructor(e,n,i){this._provider=e,this._cache=new Map,this._idls={},this._idls[i.toBase58()]=n}async fetchAccount({publicKey:e,name:n}){const i=e.toBase58();if(!this._cache.has(i)){const u=await this._provider.connection.getAccountInfo(e);if(u===null)throw new Error(`Account not found: ${i}`);if(n==="tokenAccount"){const o=g3(u.data);this._cache.set(i,o)}else{const o=await this.getAccountsNs(u.owner);if(o){const l=Object.values(o)[0];if(l){const d=l.coder.accounts.decodeAny(u.data);this._cache.set(i,d)}}}}return this._cache.get(i)}async getAccountsNs(e){const n=e.toBase58();if(!this._idls[n]){const i=await ho.fetchIdl(e,this._provider);if(i){const u=new ho(i,this._provider);this._idls[n]=u.account}}return this._idls[n]}}class w3{static build(e,n,i,u,o,l,d,y,_,S,I){return(...k)=>new v3(k,u,o,l,d,y,e,n,i,_,S,I)}}function zE(s){return typeof s=="object"&&s!==null&&!("_bn"in s)}function HE(s,e){const n={};for(const i in s){const u=s[i];if(u===null)throw new Error("Failed to resolve optionals due to IDL type mismatch with input accounts!");n[i]=zE(u)?HE(u):gr(u)}return n}class v3{constructor(e,n,i,u,o,l,d,y,_,S,I,k){this._args=e,this._ixFn=n,this._txFn=i,this._rpcFn=u,this._simulateFn=o,this._viewFn=l,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._resolveAccounts=!0,this._accountsResolver=new b3(e,this._accounts,d,y,_,S,I,k)}args(e){this._args=e,this._accountsResolver.args(e)}accounts(e){return this.accountsPartial(e)}accountsPartial(e){return this._resolveAccounts=!0,this._accountsResolver.resolveOptionals(e),this}accountsStrict(e){return this._resolveAccounts=!1,this._accountsResolver.resolveOptionals(e),this}signers(e){return this._signers=this._signers.concat(e),this}remainingAccounts(e){return this._remainingAccounts=this._remainingAccounts.concat(e),this}preInstructions(e,n=!1){return n?this._preInstructions=e.concat(this._preInstructions):this._preInstructions=this._preInstructions.concat(e),this}postInstructions(e){return this._postInstructions=this._postInstructions.concat(e),this}async pubkeys(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._accounts}async instruction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async transaction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async simulate(e){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async view(e){if(this._resolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw new Error(["Method does not support views.","The instruction should return a value, and its accounts must be read-only"].join(" "));return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async rpc(e){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async rpcAndKeys(e){return{signature:await this.rpc(e),pubkeys:await this.pubkeys()}}async prepare(){return{instruction:await this.instruction(),signers:this._signers,pubkeys:await this.pubkeys()}}}class E3{static build(e,n,i,u){const o=n.accounts.find(y=>y.writable),l=!!n.returns;return o||!l?void 0:async(...y)=>{let _=await i(...y);const S=`Program return: ${e} `;let I=_.raw.find(U=>U.startsWith(S));if(!I)throw new Error("View expected return log");let k=pp(I.slice(S.length)),R=n.returns;if(!R)throw new Error("View expected return type");return oe.fieldLayout({type:R},u.types).decode(k)}}}class S3{static build(e,n,i,u,o){const l={},d={},y={},_={},S={},I={},k=uI(e),R=e.accounts?d3.build(e,n,i,u):{};return e.instructions.forEach(M=>{const U=zl.build(M,(ot,it)=>n.instruction.encode(ot,it),i),D=l3.build(M,U),q=f3.build(M,D,k,u),G=p3.build(M,D,k,u,n,i,e),P=E3.build(i,M,G,e),W=w3.build(u,i,M,U,D,q,G,P,R,e.types||[],o?.(M)),nt=M.name;d[nt]=U,y[nt]=D,l[nt]=q,_[nt]=G,S[nt]=W,P&&(I[nt]=P)}),[l,d,y,R,_,S,I]}}class ho{get programId(){return this._programId}get idl(){return this._idl}get rawIdl(){return this._rawIdl}get coder(){return this._coder}get provider(){return this._provider}constructor(e,n=Dl(),i,u){this._idl=oI(e),this._rawIdl=e,this._provider=n,this._programId=gr(e.address),this._coder=i??new RE(this._idl),this._events=new a3(this._programId,n,this._coder);const[o,l,d,y,_,S,I]=S3.build(this._idl,this._coder,this._programId,n,u);this.rpc=o,this.instruction=l,this.transaction=d,this.account=y,this.simulate=_,this.methods=S,this.views=I}static async at(e,n){const i=gr(e),u=await ho.fetchIdl(i,n);if(!u)throw new Error(`IDL not found for program: ${e.toString()}`);return new ho(u,n)}static async fetchIdl(e,n){n=n??Dl();const i=gr(e),u=await rI(i),o=await n.connection.getAccountInfo(u);if(!o)return null;let l=aI(o.data.slice(8));const d=Pk(l.data);return JSON.parse(Zw(d))}addEventListener(e,n,i){return this._events.addEventListener(e,n,i)}async removeEventListener(e){return await this._events.removeEventListener(e)}}new vt("11111111111111111111111111111111");const l0=[{id:"simple_1",label:"Simple: 1 ticket (recommended)",description:"Normal user flow: commit 1 ticket  reveal  claim (if winner)."},{id:"wrong_reveal",label:"Robustness: wrong reveal (should fail)",description:"Commits normally, then reveals with an intentionally wrong salt.",reveal:{wrongSalt:!0},disabled:!1},{id:"batch_2",label:"Batch: 2 tickets (coming soon)",description:"Commit/reveal 2 tickets with commit_batch/reveal_batch.",disabled:!0},{id:"multi_round",label:"Multi-round (coming soon)",description:"Repeat the same strategy across multiple rounds.",disabled:!0}];function po(s){const e=typeof s=="bigint"?s:BigInt(s),n=new Uint8Array(8);let i=e;for(let u=0;u<8;u++)n[u]=Number(i&0xffn),i>>=8n;return n}function A3(...s){const e=s.reduce((u,o)=>u+o.length,0),n=new Uint8Array(e);let i=0;for(const u of s)n.set(u,i),i+=u.length;return n}async function R3(s){if(!globalThis.crypto?.subtle)throw new Error("WebCrypto not available (crypto.subtle missing)");const e=await globalThis.crypto.subtle.digest("SHA-256",s);return new Uint8Array(e)}async function x3(s,e,n,i,u){const o=e instanceof vt?e:new vt(e),l=new TextEncoder().encode("commit"),d=A3(l,po(s),o.toBytes(),po(n),Uint8Array.from([i&255]),u);return R3(d)}function T3(){const s=new Uint8Array(32);return globalThis.crypto.getRandomValues(s),s}function o_(s){return[...s].map(e=>e.toString(16).padStart(2,"0")).join("")}function O3(s){const e=(s||"").trim();if(e.length%2!==0)throw new Error("Invalid hex length");const n=new Uint8Array(e.length/2);for(let i=0;i<n.length;i++)n[i]=parseInt(e.slice(i*2,i*2+2),16);return n}function Ci(s){return new TextEncoder().encode(s)}function eo(s){const[e]=vt.findProgramAddressSync([Ci("config")],s);return e}function jE(s,e){const[n]=vt.findProgramAddressSync([Ci("round_registry"),e.toBuffer()],s);return n}function ds(s,e){const[n]=vt.findProgramAddressSync([Ci("round"),Buffer.from(po(e))],s);return n}function Eu(s,e){const[n]=vt.findProgramAddressSync([Ci("chrono_vault"),Buffer.from(po(e))],s);return n}function M0(s,e,n,i){const u=n instanceof vt?n:new vt(n),[o]=vt.findProgramAddressSync([Ci("ticket"),Buffer.from(po(e)),u.toBuffer(),Buffer.from(po(i))],s);return o}function Hl(s,e){const[n]=vt.findProgramAddressSync([Ci("tokenomics"),e.toBuffer()],s);return n}function qE(s,e){const[n]=vt.findProgramAddressSync([Ci("reward_fee_pool"),e.toBuffer()],s);return n}function N3(s,e){const[n]=vt.findProgramAddressSync([Ci("replication_pool"),e.toBuffer()],s);return n}function k3(s){const[e]=vt.findProgramAddressSync([Ci("treasury")],s);return e}async function I3(s,e,n){const i=await s.getParsedTokenAccountsByOwner(e,{mint:n},"confirmed");return i.value.length?new vt(i.value[0].pubkey):null}function Ep(s,e){return`timlg_play_v1:${s}:round:${e}`}function C3(s,e){if(!s)return null;try{const n=localStorage.getItem(Ep(s,e));if(!n)return null;const i=JSON.parse(n);return Array.isArray(i)?i.length>0?i[i.length-1]:null:i}catch{return null}}function B3(s,e){if(!s)return[];try{const n=localStorage.getItem(Ep(s,e));if(!n)return[];const i=JSON.parse(n);return Array.isArray(i)?i:[i]}catch{return[]}}function M3(s,e,n){if(!s)return;const i=Ep(s,e);try{const u=localStorage.getItem(i);let o=[];if(u){const d=JSON.parse(u);Array.isArray(d)?o=d:o=[d]}const l=o.findIndex(d=>d.ticketPda===n.ticketPda);l>=0?o[l]=n:o.push(n),localStorage.setItem(i,JSON.stringify(o))}catch(u){console.error("Failed to save local state",u)}}function U3(s){if(!s)return[];const e=`timlg_play_v1:${s}:round:`,n=[];try{for(let i=0;i<localStorage.length;i++){const u=localStorage.key(i);if(u&&u.startsWith(e)){const o=localStorage.getItem(u);if(o){const l=JSON.parse(o);Array.isArray(l)?n.push(...l):n.push(l)}}}}catch(i){console.error("Failed to scan local storage",i)}return n}function D3(s,e){return C3(s,e)}function u_(s,e){return B3(s,e)}function L3(s){return U3(s)}function PE(s,e,n){M3(s,e,n)}function bu(s){const e=typeof s=="string"?s:s?.toBase58?.()??"";return e.length>10?`${e.slice(0,4)}${e.slice(-4)}`:e}function z3(s){return`https://explorer.solana.com/tx/${s}?cluster=devnet`}function H3(s){return`https://explorer.solana.com/address/${typeof s=="string"?s:s?.toBase58?.()??""}?cluster=devnet`}function j3(s){return(s?.error?.errorMessage||s?.message||String(s)).replace(/\s+/g," ").trim()}function q3({logs:s=[],onClear:e,title:n="Activity log",defaultOpen:i=!1,maxHeight:u=220}){const o=Tt.useMemo(()=>s?.length?s.join(`
`):"",[s]);return Z.jsxs("details",{className:"beta-log",open:i,children:[Z.jsxs("summary",{className:"beta-log__summary",children:[Z.jsx("span",{children:Z.jsx("b",{children:n})}),Z.jsx("span",{className:"beta-log__meta",children:s?.length?`${s.length} lines`:"empty"})]}),Z.jsxs("div",{className:"beta-log__toolbar",children:[Z.jsx("button",{className:"beta-btn",onClick:()=>navigator.clipboard?.writeText(o),disabled:!s?.length,title:"Copy to clipboard",type:"button",children:"Copy"}),Z.jsx("button",{className:"beta-btn",onClick:()=>e?.(),disabled:!s?.length,type:"button",children:"Clear"})]}),Z.jsx("pre",{className:"beta-log__pre",style:{maxHeight:u},children:s?.length?o:""})]})}function P3({rpcUrl:s,connection:e,program:n,walletReady:i,programPk:u,chronoMint:o,pubkey:l,appendLog:d,chainState:y,refreshProtocolState:_,statusLine:S,onActionComplete:I,nist:k,logs:R,onClearLog:M}){const U=typeof d=="function"?d:()=>{},D=Tt.useMemo(()=>new vt(String(o).trim()),[o]),q=l?.toBase58?.()??null,[G,P]=Tt.useState("simple_1"),[W,nt]=Tt.useState(0),[ot,it]=Tt.useState(!1),[ut,V]=Tt.useState(""),[F,X]=Tt.useState(null),$=Tt.useMemo(()=>l0.find(f=>f.id===G)??l0[0],[G]);Tt.useEffect(()=>{if(!q||y?.roundId==null)return;const f=D3(q,y.roundId);X(f||null)},[q,y?.roundId]);function x(f,g,O={}){const L=Object.entries(g).filter(([,Y])=>Y==null).map(([Y])=>Y);if(L.length)throw console.error(`${f}: missing accounts`,{missing:L,accounts:g,chainState:y,...O}),new Error(`${f}: missing accounts: ${L.join(", ")}`)}async function h(){if(!l)return U("Commit: connect wallet first.");if(!i||!n)return U("Commit: wallet/program not ready yet.");if(!y?.roundPda||y.roundId==null)return U("Commit: round not loaded yet.");const f=y?.currentSlot,g=y?.round?.commitDeadlineSlot;if(f!=null&&g!=null&&BigInt(f)>=g)return U(`Commit: commit window closed (slot=${f} >= commit_deadline_slot=${g.toString()}).`);if(y.round?.pulseSet)return U("Commit: commit window closed (pulseSet=true).");it(!0),V("");try{const O=y.roundId,L=l,Y=await I3(e,L,D);if(!Y)throw new Error("You don't have CHRONO yet. Use the faucet first.");const et=Math.floor(Math.random()*1e9),bt=T3(),_t=await x3(O,L,et,W,bt),Lt=y.configPda??eo(u),Gt=y.roundRegistryPda??y.rrPda??jE(u,Lt),qt=y.chronoVaultPda??Eu(u,O),je=M0(u,O,L,et),Yt={config:Lt,roundRegistry:Gt,round:y.roundPda,ticket:je,user:L,chronoMint:D,chronoVault:qt,userChronoAta:Y,systemProgram:ln.programId,tokenProgram:qs.token.TOKEN_PROGRAM_ID};x("Commit",Yt,{roundId:O,nonce:et,guess:W}),U(`Commit: sending tx (round=${O}, guess=${W}, nonce=${et})`);const he=await n.methods.commitTicket(new On(O),new On(et),Array.from(_t)).accounts(Yt).rpc();V(he),U(`Commit OK  tx=${he}`);const Xn={version:1,roundId:O,guess:W,nonce:et,saltHex:o_(bt),commitmentHex:o_(_t),ticketPda:je.toBase58(),committedAt:Date.now()};PE(q,O,Xn),X(Xn),await _?.(),I?.()}catch(O){U(`Commit failed: ${j3(O)}`),console.error("Commit error:",O)}finally{it(!1)}}const[w,E]=Tt.useState(null);Tt.useEffect(()=>{const f=y?.round?.commitDeadlineSlot,g=y?.currentSlot;if(f==null||g==null){E(null);return}const O=Number(f-10n-BigInt(g));if(O<=0){E(0);return}let L=Math.max(0,Math.floor(O*.4));E(L);const Y=setInterval(()=>{E(et=>et!=null&&et>0?et-1:0)},1e3);return()=>clearInterval(Y)},[y?.currentSlot,y?.round?.commitDeadlineSlot]);const B=y?.currentSlot,z=y?.round?.commitDeadlineSlot,C=y?.round?.revealDeadlineSlot,v=!!(l&&y?.round&&B!=null&&z!=null&&BigInt(B)<z-10n&&!y.round.pulseSet);ot||console.log("PROTOCOL_DEBUG: canCommit logic",{pubkeyConnected:!!l,hasRound:!!y?.round,curSlot:B,commitDl:z?.toString(),isBeforeDeadline:B!=null&&z!=null&&BigInt(B)<z,pulseSet:y?.round?.pulseSet,canCommitResult:v});const m=v;return l&&y?.round&&F&&y.round.pulseSet&&B!=null&&C!=null&&BigInt(B)<=C,l&&y?.round&&y.round.tokenSettled,Z.jsxs("div",{className:"beta-card",children:[Z.jsxs("div",{className:"beta-card__head",children:[Z.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[Z.jsx("div",{className:"beta-card__title",children:"Play (devnet)"}),Z.jsxs("div",{className:"beta-tooltip",children:["i",Z.jsxs("div",{className:"beta-tooltip__content",children:[Z.jsxs("div",{children:[Z.jsx("b",{children:"Scenario:"})," ",$.description]}),Z.jsxs("div",{style:{marginTop:4},children:[Z.jsx("b",{children:"Receipt:"})," ",F?` ${bu(F.nonce)}`:""]}),Z.jsxs("div",{style:{marginTop:4},children:[Z.jsx("b",{children:"Prog:"})," ",bu(u),"  ",Z.jsx("b",{children:"Mint:"})," ",bu(D)]}),ut?Z.jsxs("div",{style:{marginTop:4},children:[Z.jsx("b",{children:"Last:"})," ",bu(ut)]}):null,Z.jsxs("div",{style:{marginTop:4,opacity:.6,fontSize:10},children:["RPC: ",s]})]})]})]}),Z.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,fontSize:13,fontWeight:"bold"},children:[Z.jsxs("span",{children:["Round #",y?.roundId??""]}),y?.round&&Z.jsxs("span",{style:{opacity:.7,fontWeight:"normal",fontSize:12},children:["Target: #",y.round.pulseIndexTarget?.toString()??y.round.pulse_index_target?.toString()??"?"]}),Z.jsx("span",{style:{opacity:.4,margin:"0 4px"},children:"|"}),Z.jsxs("span",{style:{opacity:.7,fontWeight:"normal",fontSize:12,display:"flex",gap:6},children:[Z.jsxs("span",{children:["Current:"," ",Z.jsxs("a",{href:k?.pulseUrl??"#",target:"_blank",rel:"noreferrer",style:{color:"inherit",textDecoration:"underline",fontWeight:"bold"},children:["#",k?.pulse?.pulseIndex??""]})]}),Z.jsx("span",{style:{opacity:.6},children:k?.pulseTimeMs?new Date(k.pulseTimeMs).toLocaleTimeString([],{hour12:!1}):""})]}),y?.round?v?Z.jsx("span",{className:"beta-badge beta-badge--ok",style:{fontSize:10},children:"OPEN"}):Z.jsx("span",{className:"beta-badge beta-badge--warn",style:{fontSize:10},children:"CLOSED"}):null]})]}),Z.jsxs("div",{className:"beta-card__body",children:[Z.jsxs("div",{className:"beta-play-status-row",children:[Z.jsx("div",{style:{fontSize:13,opacity:.8},children:v?"Window Open":"Window Closed"}),v&&w!=null&&w>0&&Z.jsxs("div",{style:{fontSize:13,fontWeight:"bold",color:"#4caf50"},children:["Closing in ",w,"s"]}),!v&&Z.jsx("div",{style:{fontSize:13,color:"#aaa"},children:"Next round soon..."})]}),Z.jsxs("div",{className:"beta-play-grid",children:[Z.jsxs("div",{className:"beta-field",children:[Z.jsx("span",{className:"beta-field__label",children:"Flow / Strategy"}),Z.jsx("select",{className:"beta-input",value:G,onChange:f=>P(f.target.value),disabled:ot,children:l0.map(f=>Z.jsx("option",{value:f.id,children:f.label},f.id))})]}),Z.jsxs("div",{className:"beta-field",children:[Z.jsx("span",{className:"beta-field__label",children:"Prediction"}),Z.jsxs("select",{className:"beta-input",value:W,onChange:f=>nt(Number(f.target.value)),disabled:ot,children:[Z.jsx("option",{value:0,children:"0 (Bear)"}),Z.jsx("option",{value:1,children:"1 (Bull)"})]})]})]}),Z.jsx("div",{style:{marginBottom:12,fontSize:12,opacity:.7,textAlign:"right"},children:"Cost: 1.00 CHRONO + Fee"}),Z.jsx("button",{className:"beta-play-btn",onClick:h,disabled:!m||ot,children:ot?"Processing...":"Buy Ticket"}),Z.jsx("div",{style:{marginTop:24},children:Z.jsx(q3,{logs:R,onClear:M,title:"Terminal Output",defaultOpen:!0,maxHeight:160})})]})]})}const Rr=(s,e=4)=>{if(!s)return"";const n=s.toString();return n.slice(0,e)+".."+n.slice(-e)},wi="https://explorer.solana.com",vi="?cluster=devnet",K3=({ticket:s,connection:e,programPk:n,claimGraceSlots:i,onClose:u,currentSlot:o})=>{const[l,d]=Tt.useState([]),[y,_]=Tt.useState(!1),[S,I]=Tt.useState(null),{roundId:k,ticketPk:R,receipt:M,ticket:U,round:D}=s||{};if(Tt.useEffect(()=>{!R||!e||(_(!0),e.getSignaturesForAddress(R,{limit:10}).then(w=>d(w)).catch(w=>console.error("Err fetching sigs:",w)).finally(()=>_(!1)))},[R,e]),Tt.useEffect(()=>{if(!D||!e||!n||!k)return;const w=D?.pulseSetSlot||D?.pulse_set_slot;if(!w)return;(async()=>{try{const B=await ds(n,Number(k)),z=await e.getSignaturesForAddress(B,{limit:50}),C=Number(w),v=z.find(m=>Math.abs(m.slot-C)<=1);v&&I(v.signature)}catch(B){console.error("Err fetching round sigs:",B)}})()},[D,e,n,k]),!s)return null;const q=U?.revealed?U.guess:M?.guess??U?.guess,G=q===1,P=q===0,nt=(()=>{if(M?.refunded===!0)return"REFUNDED";const w=!!U?.revealed,E=!!U?.win,B=!!U?.claimed,z=!!(U?.processed||U?.tokenSettled);if(B)return"CLAIMED";if(E){if(z){if(o&&D&&i!=null)try{const C=BigInt(D.revealDeadlineSlot||D.reveal_deadline_slot||0),v=BigInt(i),m=BigInt(o);if(C>0n&&m>C+v)return"SWEPT"}catch(C){console.warn("Error calculating swept status:",C)}return"CLAIM PRIZE"}return"WIN"}if(w&&!E)return"LOSS";if(!w&&!E){if(!D||D.finalized)return"EXPIRED";const C=Number(o||0),v=D.revealDeadlineSlot||D.reveal_deadline_slot;if(v&&C>0){const m=Number(v);if(C>m+150)return"REFUND AVAILABLE";if(C>m)return"EXPIRED";if(!!(D?.pulseSet||D?.pulse_set)&&C<=m)return"REVEAL NOW"}}return"PENDING"})(),it=(w=>w==="CLAIM PRIZE"||w==="READY TO CLAIM"||w==="WINNER"||w==="CLAIMED"||w==="REFUNDED"?"#4caf50":w==="LOSS"||w==="REFUND AVAILABLE"||w==="SWEPT"?"#f44336":w==="REVEAL NOW"?"#ff9800":"#9e9e9e")(nt),ut=w=>{if(!w)return null;const E=w.toString();return l.find(B=>{const z=B.slot.toString();return z===E||Math.abs(Number(z)-Number(E))<=1})},V=ut(U?.createdSlot||U?.created_slot),F=ut(U?.revealedSlot||U?.revealed_slot),X=ut(U?.claimedSlot||U?.claimed_slot),$=D?.pulseIndexTarget??D?.pulse_index_target,x=$?`https://beacon.nist.gov/beacon/2.0/chain/1/pulse/${$}`:"#",h=n&&k!=null?ds(n,Number(k)):null;return Z.jsx("div",{className:"beta-modal-overlay",onClick:u,children:Z.jsxs("div",{className:"beta-modal",onClick:w=>w.stopPropagation(),children:[Z.jsxs("div",{className:"beta-modal__head",style:{alignItems:"flex-start",paddingBottom:16},children:[Z.jsxs("div",{children:[Z.jsx("h3",{className:"beta-modal__title",style:{marginBottom:4,lineHeight:1},children:"Ticket Details"}),Z.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[Z.jsx("span",{style:{fontSize:11,opacity:.5},children:"Ticket:"}),Z.jsxs("a",{href:`${wi}/address/${R?.toString()}${vi}`,target:"_blank",rel:"noreferrer",className:"beta-link",style:{fontSize:11,fontFamily:"monospace"},children:[Rr(R,6)," "]})]})]}),Z.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[Z.jsx("button",{className:"beta-btn",onClick:w=>{w.stopPropagation();try{const E=m=>{if(!m)return null;const f=m.toString();return f==="0"?null:f},B={snapshot:{slot:E(o),timestamp:new Date().toISOString()},ticket:{address:R?R.toString():"unknown",status:nt,prediction:G?"Bull":P?"Bear":"Unknown",outcome:U?.win?"Win":U?.revealed?"Loss":nt==="REFUND AVAILABLE"?"Refundable":nt==="SWEPT"?"Swept":nt==="EXPIRED"?"Expired":nt==="REFUNDED"?"Refunded":"Pending",timestamps:{createdSlot:E(U?.createdSlot||U?.created_slot),revealedSlot:E(U?.revealedSlot||U?.revealed_slot),claimedSlot:E(U?.claimedSlot||U?.claimed_slot)}},round:{id:Number(k),address:h?h.toString():null,slots:{commitOpen:E(D?.createdSlot||D?.created_slot),commitClose:E(D?.commitDeadlineSlot||D?.commit_deadline_slot),pulse:E(D?.pulseSetSlot||D?.pulse_set_slot),revealDeadline:E(D?.revealDeadlineSlot||D?.reveal_deadline_slot),settled:E(D?.tokenSettledSlot||D?.token_settled_slot),swept:E(D?.sweptSlot||D?.swept_slot)}},cryptography:{commitmentHash:U?.commitment?Buffer.from(U.commitment).toString("hex"):M?.commitment||null,localSalt:M?.salt?Array.isArray(M.salt)?Buffer.from(M.salt).toString("hex"):M.salt:null,oracle:{pulseHash:D?.pulse?Buffer.from(D.pulse).toString("hex"):null},revealData:U?.revealed?{guess:U.guess,salt:Buffer.from(U.salt||[]).toString("hex")}:null},transactions:{commitTx:V?V.signature:null,revealTx:F?F.signature:null,claimTx:X?X.signature:null,refundTx:M?.refundedTx||null,pulseTx:S||null}},z=new Blob([JSON.stringify(B,null,2)],{type:"application/json"}),C=URL.createObjectURL(z),v=document.createElement("a");v.href=C,v.download=`chronos_ticket_${k}_${R?R.toString().slice(0,8):"data"}.json`,document.body.appendChild(v),v.click(),document.body.removeChild(v),URL.revokeObjectURL(C)}catch(E){console.error("Download failed:",E),alert("Download failed. See console.")}},style:{fontSize:11,padding:"6px 12px",height:28,background:"rgba(255,255,255,0.08)",border:"1px solid rgba(255,255,255,0.25)",borderRadius:4,cursor:"pointer",color:"#ffffff",fontWeight:500,transition:"all 0.2s"},onMouseEnter:w=>{w.target.style.background="rgba(255,255,255,0.15)",w.target.style.borderColor="rgba(255,255,255,0.5)"},onMouseLeave:w=>{w.target.style.background="rgba(255,255,255,0.08)",w.target.style.borderColor="rgba(255,255,255,0.25)"},title:"Download Receipt JSON",children:" Download JSON"}),Z.jsx("button",{className:"beta-modal__close",onClick:u,style:{marginLeft:0},children:""})]})]}),Z.jsxs("div",{className:"beta-modal__body",children:[Z.jsxs("div",{style:{background:`linear-gradient(to right, ${it}22, transparent)`,borderLeft:`3px solid ${it}`,padding:"10px 14px",marginBottom:20,borderRadius:"0 8px 8px 0"},children:[Z.jsx("div",{style:{fontSize:11,textTransform:"uppercase",color:it,fontWeight:"bold",letterSpacing:1},children:"Status"}),Z.jsx("div",{style:{fontSize:24,fontWeight:800,color:"#fff"},children:nt})]}),Z.jsxs("div",{className:"beta-detail-grid",children:[Z.jsxs("div",{className:"beta-detail-row",children:[Z.jsx("span",{className:"beta-detail-label",children:"Round ID"}),Z.jsx("span",{className:"beta-detail-value",children:h?Z.jsxs("a",{href:`${wi}/address/${h.toString()}${vi}`,target:"_blank",rel:"noreferrer",className:"beta-link",children:["#",String(k)," "]}):`#${String(k)}`})]}),Z.jsxs("div",{className:"beta-detail-row",children:[Z.jsx("span",{className:"beta-detail-label",children:"Target Pulse"}),Z.jsx("span",{className:"beta-detail-value",children:$?Z.jsxs("a",{href:x,target:"_blank",rel:"noreferrer",className:"beta-link",children:["#",String($)," "]}):""})]}),Z.jsxs("div",{className:"beta-detail-row",children:[Z.jsx("span",{className:"beta-detail-label",children:"Prediction"}),Z.jsx("span",{className:"beta-detail-value",style:{color:G?"#4caf50":P?"#f44336":"#ddd"},children:G?" Bull (1)":P?" Bear (0)":""})]}),U?.bit_index!==void 0&&Z.jsxs("div",{className:"beta-detail-row",children:[Z.jsx("span",{className:"beta-detail-label",children:"Bit Index"}),Z.jsx("span",{className:"beta-detail-value",children:U.bit_index})]}),Z.jsxs("div",{className:"beta-detail-row",children:[Z.jsx("span",{className:"beta-detail-label",children:"Nonce"}),Z.jsx("span",{className:"beta-detail-value",children:String(U?.nonce??M?.nonce??"")})]}),Z.jsx("div",{style:{marginTop:20,marginBottom:8,fontSize:11,fontWeight:"bold",opacity:.5},children:"ON-CHAIN TRANSACTIONS"}),Z.jsxs("div",{className:"beta-detail-row",children:[Z.jsx("span",{className:"beta-detail-label",children:"Commit (Buy)"}),Z.jsx("span",{className:"beta-detail-value",children:V?Z.jsxs("a",{href:`${wi}/tx/${V.signature}${vi}`,target:"_blank",rel:"noreferrer",className:"beta-link",children:[Rr(V.signature)," "]}):y?Z.jsx("span",{style:{opacity:.5},children:"Searching..."}):""})]}),Z.jsxs("div",{className:"beta-detail-row",children:[Z.jsx("span",{className:"beta-detail-label",children:"Reveal"}),Z.jsx("span",{className:"beta-detail-value",children:F?Z.jsxs("a",{href:`${wi}/tx/${F.signature}${vi}`,target:"_blank",rel:"noreferrer",className:"beta-link",children:[Rr(F.signature)," "]}):y?Z.jsx("span",{style:{opacity:.5},children:"Searching..."}):U?.revealed?"":"Pending"})]}),U?.win&&Z.jsxs("div",{className:"beta-detail-row",children:[Z.jsx("span",{className:"beta-detail-label",children:"Claim Reward"}),Z.jsx("span",{className:"beta-detail-value",children:X?Z.jsxs("a",{href:`${wi}/tx/${X.signature}${vi}`,target:"_blank",rel:"noreferrer",className:"beta-link",children:[Rr(X.signature)," "]}):U?.claimed?"":"Unclaimed"})]}),Z.jsx("div",{style:{marginTop:20,marginBottom:8,fontSize:11,fontWeight:"bold",opacity:.5},children:"FULL TRACEABILITY DATA"}),Z.jsxs("div",{className:"beta-detail-row",children:[Z.jsx("span",{className:"beta-detail-label",children:"Commitment Hash"}),Z.jsx("span",{className:"beta-detail-value",children:U?.commitment?V?Z.jsxs("a",{href:`${wi}/tx/${V.signature}${vi}`,target:"_blank",rel:"noreferrer",className:"beta-link",title:Buffer.from(U.commitment).toString("hex"),children:[Rr(Buffer.from(U.commitment).toString("hex"),10)," "]}):Z.jsx("span",{title:Buffer.from(U.commitment).toString("hex"),children:Rr(Buffer.from(U.commitment).toString("hex"),10)}):M?.commitment?Z.jsx("span",{title:M.commitment,children:Rr(M.commitment,10)}):Z.jsx("span",{style:{opacity:.5},children:"Pending / Not Found"})})]}),Z.jsxs("div",{className:"beta-detail-row",children:[Z.jsx("span",{className:"beta-detail-label",children:"Local Salt (Secret)"}),Z.jsx("span",{className:"beta-detail-value",children:M?.salt?Z.jsx("span",{title:Array.isArray(M.salt)?Buffer.from(M.salt).toString("hex"):M.salt,children:Rr(Array.isArray(M.salt)?Buffer.from(M.salt).toString("hex"):M.salt,10)}):Z.jsx("span",{style:{opacity:.5},children:""})})]}),Z.jsxs("div",{className:"beta-detail-row",children:[Z.jsx("span",{className:"beta-detail-label",children:"Oracle Pulse Hash"}),Z.jsx("span",{className:"beta-detail-value",children:(D?.pulseSet||D?.pulse_set)&&D?.pulse?Z.jsxs("a",{href:S?`${wi}/tx/${S}${vi}`:x,target:"_blank",rel:"noreferrer",className:"beta-link",title:Buffer.from(D.pulse).toString("hex"),children:[Rr(Buffer.from(D.pulse).toString("hex"),12)," "]}):Z.jsx("span",{style:{opacity:.5},children:"Waiting for NIST..."})})]}),Z.jsxs("div",{className:"beta-detail-row",children:[Z.jsx("span",{className:"beta-detail-label",children:"Revealed Data"}),Z.jsx("span",{className:"beta-detail-value beta-detail-value--long",children:U?.revealed?`Guess: ${U.guess} | Salt: ...${Buffer.from(U.salt||[]).toString("hex").slice(-6)}`:Z.jsx("span",{style:{opacity:.5},children:"Not Revealed"})})]}),Z.jsxs("div",{className:"beta-detail-row",children:[Z.jsx("span",{className:"beta-detail-label",children:"Claim Receipt"}),Z.jsx("span",{className:"beta-detail-value beta-detail-value--long",children:U?.claimed?X?Z.jsxs("a",{href:`${wi}/tx/${X.signature}${vi}`,target:"_blank",rel:"noreferrer",className:"beta-link",children:[Rr(X.signature,8)," "]}):"Claimed (Tx loading...)":Z.jsx("span",{style:{opacity:.5},children:""})})]}),Z.jsxs("div",{className:"beta-detail-row",children:[Z.jsx("span",{className:"beta-detail-label",children:"Refund txn"}),Z.jsx("span",{className:"beta-detail-value beta-detail-value--long",children:M?.refunded?M.refundedTx?Z.jsxs("a",{href:`${wi}/tx/${M.refundedTx}${vi}`,target:"_blank",rel:"noreferrer",className:"beta-link",children:[Rr(M.refundedTx,8)," "]}):"Refunded (Local Record)":Z.jsx("span",{style:{opacity:.5},children:""})})]})]})]})]})})},V3="DrsJxZRNuEFHVyj3Sz5CzpVeacpAGHBoZrg9NtRH9JqR",G3={name:"chronos_mvp",version:"0.1.0",spec:"0.1.0",description:"Created with Anchor"},F3=JSON.parse('[{"name":"add_oracle","discriminator":[185,165,165,167,208,207,55,35],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"oracle_set","writable":true,"pda":{"seeds":[{"kind":"const","value":[111,114,97,99,108,101,95,115,101,116]},{"kind":"account","path":"config"}]}},{"name":"admin","signer":true}],"args":[{"name":"oracle","type":"pubkey"}]},{"name":"claim_reward","discriminator":[149,95,181,242,94,90,158,162],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"tokenomics","pda":{"seeds":[{"kind":"const","value":[116,111,107,101,110,111,109,105,99,115]},{"kind":"account","path":"config"}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"ticket","writable":true,"pda":{"seeds":[{"kind":"const","value":[116,105,99,107,101,116]},{"kind":"arg","path":"round_id"},{"kind":"account","path":"user"},{"kind":"arg","path":"nonce"}]}},{"name":"user","writable":true,"signer":true},{"name":"chrono_mint","writable":true},{"name":"chrono_vault","writable":true},{"name":"user_chrono_ata","writable":true},{"name":"reward_fee_pool","writable":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}],"args":[{"name":"round_id","type":"u64"},{"name":"nonce","type":"u64"}]},{"name":"commit_batch","discriminator":[27,234,100,224,134,31,168,142],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"chrono_mint"},{"name":"chrono_vault","writable":true},{"name":"user","writable":true,"signer":true},{"name":"user_chrono_ata","writable":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"round_id","type":"u64"},{"name":"entries","type":{"vec":{"defined":{"name":"CommitEntry"}}}}]},{"name":"commit_batch_signed","discriminator":[114,249,180,103,248,14,43,173],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"chrono_mint"},{"name":"chrono_vault","writable":true},{"name":"payer","docs":["Relayer (paga fees)"],"writable":true,"signer":true},{"name":"user_escrow","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,95,101,115,99,114,111,119]},{"kind":"account","path":"user"}]}},{"name":"user_escrow_ata","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,95,101,115,99,114,111,119,95,118,97,117,108,116]},{"kind":"account","path":"user"}]}},{"name":"user"},{"name":"instructions"},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"round_id","type":"u64"},{"name":"entries","type":{"vec":{"defined":{"name":"CommitSignedEntry"}}}}]},{"name":"commit_ticket","discriminator":[15,97,55,56,38,249,88,220],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"chrono_mint"},{"name":"chrono_vault","writable":true},{"name":"ticket","writable":true,"pda":{"seeds":[{"kind":"const","value":[116,105,99,107,101,116]},{"kind":"arg","path":"round_id"},{"kind":"account","path":"user"},{"kind":"arg","path":"nonce"}]}},{"name":"user","writable":true,"signer":true},{"name":"user_chrono_ata","writable":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"round_id","type":"u64"},{"name":"nonce","type":"u64"},{"name":"commitment","type":{"array":["u8",32]}}]},{"name":"create_round","discriminator":[229,218,236,169,231,80,134,112],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"chrono_mint"},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"vault","writable":true,"pda":{"seeds":[{"kind":"const","value":[118,97,117,108,116]},{"kind":"arg","path":"round_id"}]}},{"name":"chrono_vault","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,104,114,111,110,111,95,118,97,117,108,116]},{"kind":"arg","path":"round_id"}]}},{"name":"admin","writable":true,"signer":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[{"name":"round_id","type":"u64"},{"name":"pulse_index_target","type":"u64"},{"name":"commit_deadline_slot","type":"u64"},{"name":"reveal_deadline_slot","type":"u64"}]},{"name":"create_round_auto","discriminator":[203,214,64,8,185,82,116,71],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"chrono_mint"},{"name":"round_registry","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100,95,114,101,103,105,115,116,114,121]},{"kind":"account","path":"config"}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"account","path":"round_registry.next_round_id","account":"RoundRegistry"}]}},{"name":"vault","writable":true,"pda":{"seeds":[{"kind":"const","value":[118,97,117,108,116]},{"kind":"account","path":"round_registry.next_round_id","account":"RoundRegistry"}]}},{"name":"chrono_vault","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,104,114,111,110,111,95,118,97,117,108,116]},{"kind":"account","path":"round_registry.next_round_id","account":"RoundRegistry"}]}},{"name":"admin","writable":true,"signer":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[{"name":"pulse_index_target","type":"u64"},{"name":"commit_deadline_slot","type":"u64"},{"name":"reveal_deadline_slot","type":"u64"}]},{"name":"deposit_escrow","discriminator":[226,112,158,176,178,118,153,128],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"chrono_mint","writable":true},{"name":"user_escrow","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,95,101,115,99,114,111,119]},{"kind":"account","path":"user"}]}},{"name":"user_escrow_ata","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,95,101,115,99,114,111,119,95,118,97,117,108,116]},{"kind":"account","path":"user"}]}},{"name":"user","writable":true,"signer":true},{"name":"user_chrono_ata","writable":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}],"args":[{"name":"amount","type":"u64"}]},{"name":"finalize_round","discriminator":[239,160,254,11,254,144,53,148],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"admin","signer":true}],"args":[{"name":"round_id","type":"u64"}]},{"name":"fund_vault","discriminator":[26,33,207,242,119,108,134,73],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"vault","writable":true,"pda":{"seeds":[{"kind":"const","value":[118,97,117,108,116]},{"kind":"arg","path":"round_id"}]}},{"name":"funder","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"round_id","type":"u64"},{"name":"amount","type":"u64"}]},{"name":"init_user_escrow","discriminator":[122,51,129,53,23,2,205,146],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"chrono_mint","writable":true},{"name":"user_escrow","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,95,101,115,99,114,111,119]},{"kind":"account","path":"user"}]}},{"name":"user_escrow_ata","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,95,101,115,99,114,111,119,95,118,97,117,108,116]},{"kind":"account","path":"user"}]}},{"name":"user","writable":true,"signer":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[]},{"name":"initialize_config","discriminator":[208,127,21,1,194,190,196,70],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"chrono_mint","docs":["Mint SPL del token CHRONO (ya creado off-chain en tests o en deploy script)"],"writable":true},{"name":"treasury_sol","docs":[" NUEVO: Treasury SOL (lamports) como system-owned PDA (igual que vault)"],"writable":true,"pda":{"seeds":[{"kind":"const","value":[116,114,101,97,115,117,114,121,95,115,111,108]}]}},{"name":"treasury","docs":["Treasury SPL = TokenAccount PDA controlado por el programa (authority = config PDA)"],"writable":true,"pda":{"seeds":[{"kind":"const","value":[116,114,101,97,115,117,114,121]}]}},{"name":"admin","writable":true,"signer":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[{"name":"stake_amount","type":"u64"},{"name":"commit_window_slots","type":"u64"},{"name":"reveal_window_slots","type":"u64"}]},{"name":"initialize_oracle_set","discriminator":[130,190,220,106,237,202,154,216],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"oracle_set","writable":true,"pda":{"seeds":[{"kind":"const","value":[111,114,97,99,108,101,95,115,101,116]},{"kind":"account","path":"config"}]}},{"name":"admin","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[{"name":"threshold","type":"u8"},{"name":"initial_oracles","type":{"vec":"pubkey"}}]},{"name":"initialize_round_registry","discriminator":[168,224,102,212,197,199,124,55],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round_registry","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100,95,114,101,103,105,115,116,114,121]},{"kind":"account","path":"config"}]}},{"name":"admin","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[{"name":"start_round_id","type":"u64"}]},{"name":"initialize_tokenomics","discriminator":[212,84,141,244,21,193,39,208],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"chrono_mint"},{"name":"tokenomics","writable":true,"pda":{"seeds":[{"kind":"const","value":[116,111,107,101,110,111,109,105,99,115]},{"kind":"account","path":"config"}]}},{"name":"reward_fee_pool","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,101,119,97,114,100,95,102,101,101,95,112,111,111,108]},{"kind":"account","path":"tokenomics"}]}},{"name":"replication_pool","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,101,112,108,105,99,97,116,105,111,110,95,112,111,111,108]},{"kind":"account","path":"tokenomics"}]}},{"name":"admin","writable":true,"signer":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[{"name":"reward_fee_bps","type":"u16"}]},{"name":"remove_oracle","discriminator":[60,93,51,197,182,42,170,26],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"oracle_set","writable":true,"pda":{"seeds":[{"kind":"const","value":[111,114,97,99,108,101,95,115,101,116]},{"kind":"account","path":"config"}]}},{"name":"admin","signer":true}],"args":[{"name":"oracle","type":"pubkey"}]},{"name":"reveal_batch","discriminator":[42,176,196,168,123,47,195,121],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"user","signer":true}],"args":[{"name":"round_id","type":"u64"},{"name":"entries","type":{"vec":{"defined":{"name":"RevealEntry"}}}}]},{"name":"reveal_batch_signed","discriminator":[157,126,204,244,23,210,88,121],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"payer","docs":["Relayer paying tx fees (must sign tx)"],"signer":true},{"name":"instructions","address":"Sysvar1nstructions1111111111111111111111111"}],"args":[{"name":"round_id","type":"u64"},{"name":"entries","type":{"vec":{"defined":{"name":"RevealSignedEntry"}}}}]},{"name":"reveal_ticket","discriminator":[223,24,70,21,181,13,151,239],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"ticket","writable":true,"pda":{"seeds":[{"kind":"const","value":[116,105,99,107,101,116]},{"kind":"arg","path":"round_id"},{"kind":"account","path":"user"},{"kind":"arg","path":"nonce"}]}},{"name":"user","signer":true}],"args":[{"name":"round_id","type":"u64"},{"name":"nonce","type":"u64"},{"name":"guess","type":"u8"},{"name":"salt","type":{"array":["u8",32]}}]},{"name":"set_claim_grace_slots","discriminator":[186,199,198,137,128,29,135,49],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"admin","signer":true}],"args":[{"name":"claim_grace_slots","type":"u64"}]},{"name":"set_oracle_pubkey","discriminator":[90,135,153,229,200,95,163,243],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"admin","signer":true}],"args":[{"name":"oracle_pubkey","type":"pubkey"}]},{"name":"set_oracle_threshold","discriminator":[181,85,21,30,120,168,37,233],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"oracle_set","writable":true,"pda":{"seeds":[{"kind":"const","value":[111,114,97,99,108,101,95,115,101,116]},{"kind":"account","path":"config"}]}},{"name":"admin","signer":true}],"args":[{"name":"threshold","type":"u8"}]},{"name":"set_pause","discriminator":[63,32,154,2,56,103,79,45],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"admin","signer":true}],"args":[{"name":"paused","type":"bool"}]},{"name":"set_pulse_signed","discriminator":[50,221,54,125,25,40,123,89],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"instructions","address":"Sysvar1nstructions1111111111111111111111111"}],"args":[{"name":"round_id","type":"u64"},{"name":"pulse","type":{"array":["u8",64]}}]},{"name":"settle_round_tokens","discriminator":[237,209,221,2,7,78,113,158],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"tokenomics","pda":{"seeds":[{"kind":"const","value":[116,111,107,101,110,111,109,105,99,115]},{"kind":"account","path":"config"}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"chrono_mint","writable":true},{"name":"chrono_vault","writable":true},{"name":"treasury","writable":true},{"name":"replication_pool","writable":true},{"name":"admin","writable":true,"signer":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}],"args":[{"name":"round_id","type":"u64"}]},{"name":"sweep_unclaimed","discriminator":[64,168,221,224,42,216,138,144],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"vault","writable":true,"pda":{"seeds":[{"kind":"const","value":[118,97,117,108,116]},{"kind":"arg","path":"round_id"}]}},{"name":"treasury_sol","docs":[" NUEVO: destino del sweep = treasury SOL PDA (lamports)"],"writable":true,"pda":{"seeds":[{"kind":"const","value":[116,114,101,97,115,117,114,121,95,115,111,108]}]}},{"name":"admin","signer":true},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"round_id","type":"u64"}]},{"name":"withdraw_escrow","discriminator":[81,84,226,128,245,47,96,104],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"chrono_mint","writable":true},{"name":"user_escrow","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,95,101,115,99,114,111,119]},{"kind":"account","path":"user"}]}},{"name":"user_escrow_ata","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,95,101,115,99,114,111,119,95,118,97,117,108,116]},{"kind":"account","path":"user"}]}},{"name":"user","writable":true,"signer":true},{"name":"user_chrono_ata","writable":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}],"args":[{"name":"amount","type":"u64"}]}]'),Y3=[{name:"Config",discriminator:[155,12,170,224,30,250,204,130]},{name:"OracleSet",discriminator:[128,26,73,134,218,90,126,42]},{name:"Round",discriminator:[87,127,165,51,73,78,116,174]},{name:"RoundRegistry",discriminator:[89,3,13,175,73,80,211,206]},{name:"Ticket",discriminator:[41,228,24,165,78,90,235,200]},{name:"Tokenomics",discriminator:[252,176,228,183,130,36,15,194]},{name:"UserEscrow",discriminator:[242,233,85,38,26,5,142,109]}],Z3=[{code:6e3,name:"Unauthorized",msg:"Unauthorized"},{code:6001,name:"Paused",msg:"Protocol paused"},{code:6002,name:"InvalidDeadlines",msg:"Invalid deadlines"},{code:6003,name:"CommitClosed",msg:"Commit window closed"},{code:6004,name:"RevealClosed",msg:"Reveal window closed"},{code:6005,name:"PulseNotSet",msg:"Pulse not set"},{code:6006,name:"PulseAlreadySet",msg:"Round pulse already set"},{code:6007,name:"AlreadyFinalized",msg:"Round already finalized"},{code:6008,name:"NotFinalized",msg:"Round not finalized"},{code:6009,name:"CannotFinalizeYet",msg:"Cannot finalize yet"},{code:6010,name:"AlreadyRevealed",msg:"Already revealed"},{code:6011,name:"CommitmentMismatch",msg:"Commitment mismatch"},{code:6012,name:"InvalidGuess",msg:"Invalid guess (must be 0/1)"},{code:6013,name:"TooManyEntries",msg:"Too many entries"},{code:6014,name:"TicketPdaMismatch",msg:"Ticket PDA mismatch"},{code:6015,name:"TicketAlreadyExists",msg:"Ticket already exists"},{code:6016,name:"TicketNotOwnedByProgram",msg:"Ticket not owned by program"},{code:6017,name:"VaultPdaMismatch",msg:"Vault PDA mismatch"},{code:6018,name:"InsufficientVaultFunds",msg:"Insufficient vault funds"},{code:6019,name:"MissingOrInvalidEd25519Ix",msg:"Missing or invalid ed25519 verify instruction"},{code:6020,name:"Ed25519PubkeyMismatch",msg:"Ed25519 pubkey mismatch"},{code:6021,name:"Ed25519MessageMismatch",msg:"Ed25519 message mismatch"},{code:6022,name:"OracleNotSet",msg:"Oracle pubkey not set"},{code:6023,name:"BitIndexMismatch",msg:"Bit index mismatch"},{code:6024,name:"AccountBorrowFailed",msg:"Failed to borrow account data"},{code:6025,name:"RoundFinalized",msg:"Round is finalized"},{code:6026,name:"CommitAfterPulseSet",msg:"Commit not allowed after pulse is set"},{code:6027,name:"SweepTooEarly",msg:"Sweep not allowed yet (grace period not elapsed)"},{code:6028,name:"AlreadySwept",msg:"Vault already swept for this round"},{code:6029,name:"ClaimAfterSweep",msg:"Cannot claim after vault sweep"},{code:6030,name:"InvalidStakeAmount",msg:"Invalid stake amount"},{code:6031,name:"InvalidWindow",msg:"Invalid window"},{code:6032,name:"MissingBump",msg:"Missing bump"},{code:6033,name:"MathOverflow",msg:"Math overflow"},{code:6034,name:"ChronoMintMismatch",msg:"chrono_mint does not match config"},{code:6035,name:"InvalidUserChronoAta",msg:"Invalid user CHRONO token account"},{code:6036,name:"TicketNotRevealed",msg:"Ticket not revealed"},{code:6037,name:"NotWinner",msg:"Not a winner"},{code:6038,name:"AlreadyClaimed",msg:"Already claimed"},{code:6039,name:"StakeNotPaid",msg:"Stake not paid for this ticket"},{code:6040,name:"InsufficientEscrow",msg:"Insufficient escrow funds"},{code:6041,name:"SignedBatchMixedUsers",msg:"Signed batch contains mixed users"},{code:6042,name:"RoundNotSettled",msg:"Round tokens not settled yet"},{code:6043,name:"SettleTooEarly",msg:"Too early to settle round tokens"},{code:6044,name:"RoundTokensAlreadySettled",msg:"Round tokens already settled"},{code:6045,name:"OracleSetFull",msg:"OracleSet is full"},{code:6046,name:"OracleAlreadyExists",msg:"Oracle already exists in allowlist"},{code:6047,name:"OracleNotFound",msg:"Oracle not found in allowlist"},{code:6048,name:"InvalidThreshold",msg:"Invalid threshold"},{code:6049,name:"ThresholdExceedsOracleCount",msg:"Threshold exceeds current oracle count"},{code:6050,name:"InvalidFeeBps",msg:"Invalid fee bps (must be 0..=10_000)."},{code:6051,name:"InvalidBps",msg:"Invalid basis points (must be <= 10000)"},{code:6052,name:"TokenomicsNotInitialized",msg:"Tokenomics not initialized"}],X3=[{name:"CommitEntry",type:{kind:"struct",fields:[{name:"nonce",type:"u64"},{name:"commitment",type:{array:["u8",32]}}]}},{name:"CommitSignedEntry",type:{kind:"struct",fields:[{name:"user",type:"pubkey"},{name:"nonce",type:"u64"},{name:"commitment",type:{array:["u8",32]}}]}},{name:"Config",type:{kind:"struct",fields:[{name:"admin",type:"pubkey"},{name:"bump",type:"u8"},{name:"stake_amount",type:"u64"},{name:"commit_window_slots",type:"u64"},{name:"reveal_window_slots",type:"u64"},{name:"claim_grace_slots",type:"u64"},{name:"oracle_pubkey",type:"pubkey"},{name:"paused",type:"bool"},{name:"version",type:"u16"},{name:"chrono_mint",type:"pubkey"},{name:"treasury",type:"pubkey"},{name:"treasury_bump",type:"u8"},{name:"treasury_sol",type:"pubkey"},{name:"treasury_sol_bump",type:"u8"}]}},{name:"OracleSet",type:{kind:"struct",fields:[{name:"admin",type:"pubkey"},{name:"bump",type:"u8"},{name:"threshold",docs:["Minimum number of oracle attestations required (PR2 will consume this)."],type:"u8"},{name:"oracles",docs:["Allowlisted oracle pubkeys.","NOTE: fixed max_len to keep account size deterministic."],type:{vec:"pubkey"}},{name:"version",type:"u16"}]}},{name:"RevealEntry",type:{kind:"struct",fields:[{name:"nonce",type:"u64"},{name:"guess",type:"u8"},{name:"salt",type:{array:["u8",32]}}]}},{name:"RevealSignedEntry",type:{kind:"struct",fields:[{name:"user",type:"pubkey"},{name:"nonce",type:"u64"},{name:"guess",type:"u8"},{name:"salt",type:{array:["u8",32]}}]}},{name:"Round",type:{kind:"struct",fields:[{name:"round_id",type:"u64"},{name:"bump",type:"u8"},{name:"state",type:"u8"},{name:"vault",type:"pubkey"},{name:"vault_bump",type:"u8"},{name:"pulse_index_target",type:"u64"},{name:"commit_deadline_slot",type:"u64"},{name:"reveal_deadline_slot",type:"u64"},{name:"created_slot",type:"u64"},{name:"pulse_set",type:"bool"},{name:"pulse",type:{array:["u8",64]}},{name:"pulse_set_slot",type:"u64"},{name:"finalized",type:"bool"},{name:"finalized_slot",type:"u64"},{name:"swept",type:"bool"},{name:"swept_slot",type:"u64"},{name:"chrono_vault",type:"pubkey"},{name:"chrono_vault_bump",type:"u8"},{name:"committed_count",type:"u64"},{name:"revealed_count",type:"u64"},{name:"win_count",type:"u64"},{name:"settled_count",type:"u64"},{name:"token_settled",type:"bool"},{name:"token_settled_slot",type:"u64"}]}},{name:"RoundRegistry",type:{kind:"struct",fields:[{name:"admin",type:"pubkey"},{name:"bump",type:"u8"},{name:"next_round_id",type:"u64"},{name:"version",type:"u16"}]}},{name:"Ticket",type:{kind:"struct",fields:[{name:"round_id",type:"u64"},{name:"user",type:"pubkey"},{name:"nonce",type:"u64"},{name:"bump",type:"u8"},{name:"commitment",type:{array:["u8",32]}},{name:"stake_paid",type:"bool"},{name:"stake_slashed",type:"bool"},{name:"processed",type:"bool"},{name:"revealed",type:"bool"},{name:"guess",type:"u8"},{name:"win",type:"bool"},{name:"bit_index",type:"u16"},{name:"claimed",type:"bool"},{name:"claimed_slot",type:"u64"},{name:"created_slot",type:"u64"},{name:"revealed_slot",type:"u64"}]}},{name:"Tokenomics",type:{kind:"struct",fields:[{name:"admin",type:"pubkey"},{name:"bump",type:"u8"},{name:"reward_fee_bps",docs:["Fee charged on minted rewards (basis points). 100 = 1%."],type:"u16"},{name:"reward_fee_pool",docs:["SPL TokenAccount PDAs (CHRONO mint)"],type:"pubkey"},{name:"reward_fee_pool_bump",type:"u8"},{name:"replication_pool",type:"pubkey"},{name:"replication_pool_bump",type:"u8"},{name:"version",type:"u16"}]}},{name:"UserEscrow",type:{kind:"struct",fields:[{name:"user",type:"pubkey"},{name:"bump",type:"u8"},{name:"created_slot",type:"u64"},{name:"updated_slot",type:"u64"}]}}],KE={address:V3,metadata:G3,instructions:F3,accounts:Y3,errors:Z3,types:X3},c_=122,$3=16,ml=5e3,W3=3e4;function f0(s,e=0){try{return s==null?e:typeof s=="number"?s:typeof s?.toNumber=="function"?s.toNumber():typeof s?.toString=="function"?Number(s.toString()):e}catch{return e}}function ir(s,e,n=void 0){for(const i of e)if(s&&s[i]!==void 0)return s[i];return n}function Q3({ticket:s,round:e}){const n=!!ir(s,["revealed"],!1),i=!!ir(s,["win"],!1);return ir(s,["claimed"],!1)?"CLAIMED":n?i?!!ir(e,["tokenSettled","token_settled"],!1)?"CLAIM":"WIN":"LOSE":"PENDING"}function J3(s){const e=String(s?.message||s||"");return e.includes("429")||e.toLowerCase().includes("too many requests")}function yl(s){if(!s)return"Unknown error";const e=typeof s=="string"?s:s?.message||s?.toString?.()||"Unknown error";return e.toLowerCase().includes("user rejected")?"User rejected":e.toLowerCase().includes("declined")?"User declined":e}function gl(s){const e=s?.logs||s?.error?.logs||s?.data?.logs;return Array.isArray(e)&&e.length?e:null}function t6({program:s,connection:e,programPk:n,userPubkey:i,mintPk:u,appendLog:o,onAfterAction:l,setLastTx:d,limit:y=20}){const _=Tt.useMemo(()=>new wp(KE),[]),[S,I]=Tt.useState([]),[k,R]=Tt.useState(!1),[M,U]=Tt.useState(null),[D,q]=Tt.useState(null),[G,P]=Tt.useState(0),W=Tt.useRef(!1),nt=Tt.useRef(ml),ot=Tt.useRef(0),it=Tt.useRef(null),ut=Tt.useCallback(async(x="manual")=>{if(!e||!n||!i){q(Date.now());return}const h=Date.now();if(x==="action"&&(ot.current=0),!(h<ot.current)&&!W.current)try{W.current=!0,R(!0),U(null),P(0);const w=i.toBase58(),B=(await e.getProgramAccounts(n,{commitment:"confirmed",filters:[{dataSize:c_},{memcmp:{offset:$3,bytes:w}}]})).map(L=>{try{const Y=_.decode("Ticket",kt.Buffer.from(L.account.data)),et=f0(ir(Y,["roundId","round_id"],0),0),bt=f0(ir(Y,["createdSlot","created_slot"],0),0),_t=f0(ir(Y,["nonce"],0),0),Gt=u_(w,et).find(qt=>qt.ticketPda===L.pubkey.toBase58())||null;return{ticketPk:L.pubkey,ticket:Y,roundId:et,createdSlot:bt,nonce:_t,receipt:Gt}}catch{return null}}).filter(Boolean),z=new Set(B.map(L=>L.ticketPk.toBase58())),v=L3(w).filter(L=>L.refunded&&!z.has(L.ticketPda)).map(L=>({ticketPk:new vt(L.ticketPda),ticket:null,roundId:L.roundId,createdSlot:L.createdSlot||0,nonce:L.nonce,receipt:L})),m=[...B,...v].sort((L,Y)=>(Y.createdSlot??0)-(L.createdSlot??0)).slice(0,Math.max(1,y)),f=Array.from(new Set(m.map(L=>L.roundId))).filter(L=>L!=null),g=new Map;if(f.length){const L=await Promise.all(f.map(bt=>ds(n,bt))),Y=[],et=100;for(let bt=0;bt<L.length;bt+=et){const _t=L.slice(bt,bt+et),Lt=await e.getMultipleAccountsInfo(_t,"confirmed");Y.push(...Lt)}for(let bt=0;bt<f.length;bt++){const _t=Y[bt];if(_t?.data)try{g.set(f[bt],_.decode("Round",kt.Buffer.from(_t.data)))}catch{}}}const O=m.map(L=>{const Y=g.get(L.roundId)||null,et=!!ir(L.ticket,["revealed"],!1),bt=ir(L.ticket,["guess"],null),_t=et?bt:L.receipt?.guess??bt,Lt=!!ir(L.ticket,["win"],!1),Gt=!!ir(L.ticket,["claimed"],!1),qt=!!ir(Y,["pulseSet","pulse_set"],!1),je=!!ir(Y,["tokenSettled","token_settled"],!1),Yt=Q3({ticket:L.ticket,round:Y});return{...L,round:Y,guess:_t,win:Lt,revealed:et,claimed:Gt,pulseSet:qt,tokenSettled:je,uiStatus:Yt}});I(O),q(Date.now()),nt.current=ml,ot.current=0}catch(w){const E=w?.message||String(w);if(U(E),q(Date.now()),J3(w)){const B=Math.min(nt.current*2,W3),z=Math.floor(500+Math.random()*1500);nt.current=B;const C=B+z,v=Date.now()+C;ot.current=v,P(Math.ceil(C/1e3)),it.current&&clearInterval(it.current),it.current=setInterval(()=>{const m=Math.max(0,Math.ceil((ot.current-Date.now())/1e3));P(m),m<=0&&(clearInterval(it.current),it.current=null)},500)}else x!=="poll"&&o?.(`Tickets refresh error: ${E}`)}finally{W.current=!1,R(!1)}},[e,n,i,_,y,o]);Tt.useEffect(()=>{let x=null,h=!1;const w=async()=>{h||(document.visibilityState==="visible"&&await ut("poll"),x=setTimeout(w,ml))},E=800+Math.floor(Math.random()*1200);x=setTimeout(()=>ut("init"),E);const B=setTimeout(w,ml);return()=>{h=!0,x&&clearTimeout(x),B&&clearTimeout(B),it.current&&clearInterval(it.current),it.current=null}},[ut]);const V=Tt.useCallback(async x=>{if(!s||!i)throw new Error("Wallet not connected");if(!x?.receipt?.saltHex)throw new Error("Missing local receipt for this ticket (salt).");const h=await eo(n),w=await ds(n,x.roundId),E=O3(x.receipt.saltHex);o?.(`Reveal: sending tx (round=${x.roundId}, nonce=${x.nonce})`);try{const B=await s.methods.revealTicket(new On(x.roundId),new On(x.nonce),Number(x.receipt.guess),Array.from(E)).accounts({config:h,round:w,user:i,ticket:x.ticketPk}).rpc();return o?.(`Reveal OK  tx=${B}`),d?.(B),l?.(),await ut("action"),B}catch(B){o?.(`Reveal failed: ${yl(B)}`);const z=gl(B);return z?.length&&z.slice(0,12).forEach(C=>o?.(`  ${C}`)),null}},[s,n,i,o,d,l,ut]),F=Tt.useCallback(async x=>{if(!s||!i)throw new Error("Wallet not connected");if(!u)throw new Error("Mint not set");const h=await eo(n),w=await ds(n,x.roundId),E=await Hl(n,h),B=await qE(n,E),z=await Eu(n,x.roundId),C=await qs.token.associatedAddress({mint:u,owner:i});o?.(`Claim: sending tx (round=${x.roundId}, nonce=${x.nonce})`);try{const v=await s.methods.claimReward(new On(x.roundId),new On(x.nonce)).accounts({config:h,tokenomics:E,round:w,ticket:x.ticketPk,user:i,chronoMint:u,chronoVault:z,userChronoAta:C,rewardFeePool:B,tokenProgram:qs.token.TOKEN_PROGRAM_ID}).rpc();return o?.(`Claim OK  tx=${v}`),d?.(v),l?.(),await ut("action"),v}catch(v){o?.(`Claim failed: ${yl(v)}`);const m=gl(v);return m?.length&&m.slice(0,12).forEach(f=>o?.(`  ${f}`)),null}},[s,n,i,u,o,d,l,ut]),X=Tt.useCallback(async x=>{if(!s||!i)throw new Error("Wallet not connected");if(!u)throw new Error("Mint not set");const h=await eo(n),w=await ds(n,x.roundId),E=await Eu(n,x.roundId),B=await qs.token.associatedAddress({mint:u,owner:i});o?.(`Refund: recovering funds (round=${x.roundId})`);try{const z=await s.methods.recoverFunds(new On(x.roundId)).accounts({config:h,round:w,ticket:x.ticketPk,user:i,userTokenAccount:B,chronoVault:E,chronoMint:u,tokenProgram:qs.token.TOKEN_PROGRAM_ID,systemProgram:ln.programId}).rpc();o?.(`Refund OK  tx=${z}`);try{const C=i.toBase58();let m=u_(C,x.roundId).find(f=>f.ticketPda===x.ticketPk.toBase58());m?(m.refunded=!0,m.refundedTx=z,x.createdSlot&&(m.createdSlot=x.createdSlot)):m={ticketPda:x.ticketPk.toBase58(),roundId:x.roundId,nonce:x.nonce,commitment:null,timestamp:Date.now(),createdSlot:x.createdSlot,refunded:!0,refundedTx:z},PE(C,x.roundId,m)}catch(C){console.error("Failed to update receipt for refund:",C)}return console.log("Receipt saved/updated successfully for",x.ticketPk.toBase58()),d?.(z),l?.(),await ut("action"),z}catch(z){console.error("Refund RPC Failed:",z),o?.(`Refund failed: ${yl(z)}`);const C=gl(z);return C?.length&&C.slice(0,12).forEach(v=>o?.(`  ${v}`)),null}},[s,n,i,u,o,d,l,ut]),$=Tt.useCallback(async x=>{if(!s||!i)throw new Error("Wallet not connected");if(!u)throw new Error("Mint not set");o?.(`Settle: discovering tickets for round ${x.roundId}...`);const h=await eo(n),w=await ds(n,x.roundId),E=await Hl(n,h),B=await Eu(n,x.roundId),z=await k3(n),C=await N3(n,E),v=new On(x.roundId),m=v.toArrayLike(kt.Buffer,"le",8),f=await e.getProgramAccounts(n,{commitment:"confirmed",filters:[{dataSize:c_},{memcmp:{offset:8,bytes:qs.bytes.bs58.encode(m)}}]}),g=[];for(const O of f)try{_.decode("Ticket",O.account.data).processed===!1&&g.push({pubkey:O.pubkey,isSigner:!1,isWritable:!0})}catch{}if(g.length===0)return o?.("Settle: No unprocessed tickets found."),null;o?.(`Settle: found ${g.length} tickets to process.`);try{const O=await s.methods.settleRoundTokens(v).accounts({config:h,tokenomics:E,round:w,chronoMint:u,chronoVault:B,treasury:z,replicationPool:C,payer:i,tokenProgram:qs.token.TOKEN_PROGRAM_ID}).remainingAccounts(g).rpc();return o?.(`Settle OK  tx=${O}`),d?.(O),l?.(),await ut("action"),O}catch(O){o?.(`Settle failed: ${yl(O)}`);const L=gl(O);return L?.length&&L.slice(0,12).forEach(Y=>o?.(`  ${Y}`)),null}},[s,n,i,u,e,_,o,d,l,ut]);return{rows:S,loading:k,error:M,lastUpdatedAt:D,retryInSec:G,forceRefresh:()=>ut("manual"),doRevealTicket:V,doClaimTicket:F,doRefundTicket:X,doSettleRound:$}}function Xa(s){if(s<=0)return"0s";const e=Math.floor(s/60),n=Math.floor(s%60);return e>0?`${e}m ${n}s`:`${n}s`}function $a(s){try{return s==null?null:typeof s=="bigint"?s:typeof s=="number"||typeof s=="string"?BigInt(s):typeof s?.toString=="function"?BigInt(s.toString()):null}catch{return null}}function e6({program:s,connection:e,programPk:n,pubkey:i,mintPk:u,appendLog:o,onAfterAction:l,setLastTx:d,actionsEnabled:y=!0,refreshNonce:_=0,limit:S=20,currentSlot:I,activeRoundId:k,nist:R,claimGraceSlots:M}){const U=Tt.useMemo(()=>i?i instanceof vt?i:new vt(i):null,[i]),{rows:D=[],loading:q,error:G,lastUpdatedAt:P,forceRefresh:W,doRevealTicket:nt,doClaimTicket:ot,doRefundTicket:it,doSettleRound:ut}=t6?.({program:s,connection:e,programPk:n,userPubkey:U,mintPk:u,appendLog:o,onAfterAction:l,setLastTx:d,refreshNonce:_,limit:S})||{},V=D??[],[F,X]=Tt.useState(null),[$,x]=Tt.useState("ALL");function h(g,O){const L=!!g.revealed,Y=!!g.win,et=!!g.claimed,bt=!!g.tokenSettled;if(g.receipt?.refunded===!0)return"REFUNDED";if(et)return"CLAIMED";if(Y){if(bt){if(O&&g.round&&M!=null){const _t=$a(g.round.revealDeadlineSlot||g.round.reveal_deadline_slot);if(_t){const Lt=_t+BigInt(M);if(BigInt(O)>Lt)return"SWEPT"}}return"CLAIM PRIZE"}return"WIN"}if(L&&!Y)return"LOSS";if(!L&&!Y){if(!g.round||g.round.finalized)return"EXPIRED";const _t=$a(g.round.revealDeadlineSlot||g.round.reveal_deadline_slot),Lt=!!g.round.finalized,Gt=!!(g.round.pulseSet||g.round.pulse_set);if(_t&&O){const qt=BigInt(O);if(!Lt&&qt>_t+150n)return"REFUND AVAILABLE";if(!Lt&&!Gt&&qt>_t)return"WAITING PULSE";if(qt>_t)return"EXPIRED";if(Gt&&qt<=_t)return"REVEAL NOW"}}return"PENDING"}const w=Tt.useMemo(()=>$==="ALL"?V:V.filter(g=>{const O=h(g,I);return $==="WIN"?O==="CLAIM PRIZE"||O==="WIN":O===$}),[V,$,I,M]),[E,B]=Tt.useState(1),[z,C]=Tt.useState(10),v=Math.ceil(w.length/z)||1;Tt.useEffect(()=>{E>v&&B(v)},[E,v,$,z]);const m=w.slice((E-1)*z,E*z);function f(g){switch(g){case"WIN":return"beta-badge--win";case"CLAIM PRIZE":return"beta-badge--win";case"CLAIMED":case"REFUNDED":return"beta-badge--ok";case"LOSS":return"beta-badge--lose";case"REVEAL NOW":return"beta-badge--warning";case"REFUND AVAILABLE":return"beta-badge--lose";case"EXPIRED":case"SWEPT":return"beta-badge--expired";default:return"beta-badge--pending"}}return Z.jsxs("div",{className:"beta-card",style:{padding:0,overflow:"hidden"},children:[Z.jsx("div",{className:"beta-card__head",style:{padding:"16px 24px",borderBottom:"1px solid rgba(0,0,0,0.05)"},children:Z.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:10},children:[Z.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[Z.jsx("div",{className:"beta-card__title",children:"Order History"}),U&&!q&&Z.jsxs("span",{className:"beta-badge",style:{fontSize:10,opacity:.8},children:[w.length," TICKETS"]})]}),Z.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[Z.jsxs("select",{className:"beta-input",style:{padding:"6px 10px",fontSize:13,height:32,minWidth:110,border:"1px solid rgba(0,0,0,0.1)"},value:$,onChange:g=>x(g.target.value),children:[Z.jsx("option",{value:"ALL",children:"All Status"}),Z.jsx("option",{value:"PENDING",children:"Pending"}),Z.jsx("option",{value:"REVEAL NOW",children:"Reveal Now"}),Z.jsx("option",{value:"WIN",children:"Win / Claim"}),Z.jsx("option",{value:"LOSS",children:"Loss"}),Z.jsx("option",{value:"EXPIRED",children:"Expired"}),Z.jsx("option",{value:"REFUND AVAILABLE",children:"Refund Available"}),Z.jsx("option",{value:"REFUNDED",children:"Refunded"}),Z.jsx("option",{value:"CLAIMED",children:"Claimed"}),Z.jsx("option",{value:"SWEPT",children:"Swept (Lost Prize)"})]}),Z.jsx("select",{className:"beta-input",style:{padding:"6px 10px",fontSize:13,height:32,width:"auto",border:"1px solid rgba(0,0,0,0.1)"},value:z,onChange:g=>{C(Number(g.target.value)),B(1)},children:[10,20,50].map(g=>Z.jsxs("option",{value:g,children:[g," / page"]},g))})]})]})}),G&&Z.jsxs("div",{style:{padding:"12px 24px",fontSize:13,color:"#e53935",background:"rgba(229, 57, 53, 0.1)"},children:[Z.jsx("b",{children:"Error:"})," ",String(G)]}),Z.jsx("div",{className:"beta-table-container",children:Z.jsxs("table",{className:"beta-table",children:[Z.jsx("thead",{children:Z.jsxs("tr",{children:[Z.jsx("th",{style:{paddingLeft:24},children:"Round"}),Z.jsx("th",{children:"Prediction"}),Z.jsx("th",{children:"Status"}),Z.jsx("th",{children:"Details"}),y?Z.jsxs(Z.Fragment,{children:[Z.jsx("th",{style:{textAlign:"right"},children:"Countdown"}),Z.jsx("th",{style:{paddingRight:24,textAlign:"right"},children:"Action"})]}):null]})}),Z.jsx("tbody",{children:m.length?m.map(g=>{const O=Number(g.roundId),L=g.guess,Y=!!g.win,et=!!g.revealed,bt=!!g.claimed,_t=!!g.pulseSet,Lt=!!g.tokenSettled,Gt=!!g.round?.finalized,qt=h(g,I),je=k===O,Yt=g.ticketPk??null,he=(Yt?.toBase58?.()??String(Yt))||`${O}-${L}`,Xn=!!g.receipt?.saltHex,ge=g.round?$a(g.round.revealDeadlineSlot||g.round.reveal_deadline_slot):0n,Oe=I?BigInt(I):0n,kr=ge>0n&&Oe>ge;let be=y&&_t&&!Lt&&!et&&Xn&&typeof nt=="function"&&qt!=="EXPIRED"&&qt!=="REFUNDED"&&qt!=="REFUND AVAILABLE",pe=y&&Lt&&Y&&!bt&&typeof ot=="function"&&qt!=="SWEPT",En=y&&qt==="REFUND AVAILABLE"&&typeof it=="function",_e=y&&(Gt||_t&&kr)&&!Lt&&typeof ut=="function",Pt=Z.jsx("span",{style:{fontSize:12,opacity:.3},children:""});if(I&&g.round){const H=$a(g.round.commitDeadlineSlot||g.round.commit_deadline_slot),A=$a(g.round.revealDeadlineSlot||g.round.reveal_deadline_slot),T=$a(g.round.pulseIndexTarget||g.round.pulse_index_target),K=BigInt(I);if(["EXPIRED","LOSS","REFUNDED","SWEPT","CLAIMED"].includes(qt))Pt=Z.jsx("span",{style:{fontSize:12,opacity:.5},children:"Done"});else if(H&&K<H){const at=Number(H-K);Pt=Z.jsxs("span",{style:{fontSize:12,opacity:.7},children:["Commit ends: ",Xa(at*.45)]})}else if(!_t&&A){const at=A+150n;if(qt==="REFUND AVAILABLE")Pt=Z.jsx("span",{style:{fontSize:12,opacity:.6},children:"Refund Available"});else if(K>A&&K<at){const mt=Number(at-K);Pt=Z.jsxs("span",{style:{fontSize:12,opacity:.6},children:["Refund safety: ",Xa(mt*.45)]})}else if(qt==="WAITING PULSE")Pt=Z.jsx("span",{style:{fontSize:12,opacity:.6,color:"#faad14"},children:"Pulse Delayed"});else{let mt=!1;if(T&&R?.pulse?.pulseIndex){const Ut=Number(R.pulse.pulseIndex),zt=Number(T);if(zt>Ut){const Bt=new Date(R.pulse.timeStamp).getTime(),we=zt-Ut,Me=Bt+we*6e4+6e4-Date.now();Me>0?(Pt=Z.jsxs("span",{style:{fontSize:12,opacity:.6},children:["Pulse in ~",Xa(Me/1e3)]}),mt=!0):(Pt=Z.jsx("span",{style:{fontSize:12,opacity:.6},children:"Pulse arriving..."}),mt=!0)}}mt||(Pt=Z.jsx("span",{style:{fontSize:12,opacity:.6},children:"Waiting for Pulse..."}))}}else if(_t&&!et&&!Y&&A)if(K<A){const at=Number(A-K);Pt=Z.jsxs("span",{style:{fontSize:12,opacity:.8},children:["Reveal ends: ",Xa(at*.45)]})}else Pt=Z.jsx("span",{style:{fontSize:12,opacity:.5},children:"Reveal missed"});else if(Y&&!bt&&A&&M){const at=A+BigInt(M);if(K<A){const mt=Number(A-K);Pt=Z.jsxs("span",{style:{fontSize:12,opacity:.7},children:["Claim in: ",Xa(mt*.45)]})}else if(K<at){const mt=Number(at-K),Ut=!Lt;Pt=Z.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",lineHeight:1.1},children:[Z.jsxs("span",{style:{fontSize:12,opacity:.8},children:["Sweep in: ",Xa(mt*.45)]}),Ut&&!_e&&Z.jsx("span",{style:{fontSize:10,opacity:.5},children:"(Settling...)"})]})}else Pt=Z.jsx("span",{style:{fontSize:12,opacity:.5},children:"SWEPT"})}else bt&&(Pt=Z.jsx("span",{style:{fontSize:12,opacity:.5},children:"Completed"}))}let yn=null;be?yn=Z.jsx("button",{className:"beta-btn beta-btn--sm",onClick:()=>nt(g),type:"button",style:{minWidth:80},children:"Reveal"}):pe?yn=Z.jsx("button",{className:"beta-btn beta-btn--sm",onClick:()=>ot(g),type:"button",style:{background:"#4caf50",color:"white",minWidth:80},children:"Claim"}):En?yn=Z.jsx("button",{className:"beta-btn beta-btn--sm",onClick:()=>it(g),type:"button",style:{background:"#f44336",color:"white",minWidth:80},children:"Refund"}):_e&&(yn=Z.jsx("button",{className:"beta-btn beta-btn--sm",onClick:()=>ut(g),type:"button",style:{background:"#9c27b0",color:"white",minWidth:80},children:"Settle"}));const Ne=H=>H==="WIN"?"WINNER":H==="LOSE"||H==="LOSS"?"LOSS":H==="CLAIM"||H==="CLAIM PRIZE"?"READY TO CLAIM":H;return Z.jsxs("tr",{children:[Z.jsxs("td",{style:{paddingLeft:24,fontWeight:je?"bold":"normal"},children:[Z.jsxs("span",{style:{opacity:je?1:.7},children:["#",String(O)]}),je&&Z.jsx("span",{className:"beta-dot",style:{marginLeft:6}})]}),Z.jsx("td",{children:Z.jsx("span",{style:{fontWeight:500},children:L===1?" Bull (1)":L===0?" Bear (0)":""})}),Z.jsx("td",{children:Z.jsx("span",{className:`beta-badge ${f(qt)}`,children:Ne(qt)})}),Z.jsx("td",{children:Z.jsx("button",{className:"beta-btn beta-btn--soft",style:{fontSize:11,padding:"2px 8px",height:"auto",minHeight:24,opacity:.8},onClick:()=>X(g),children:"INFO"})}),y?Z.jsxs(Z.Fragment,{children:[Z.jsx("td",{style:{textAlign:"right"},children:Pt||""}),Z.jsx("td",{style:{paddingRight:24,textAlign:"right"},children:yn||""})]}):null]},he)}):Z.jsx("tr",{children:Z.jsx("td",{colSpan:y?5:4,style:{padding:"32px",textAlign:"center",opacity:.5},children:U?q?"Loading tickets...":"No tickets found":"Please connect wallet"})})})]})}),V.length>0&&Z.jsxs("div",{style:{padding:"12px 24px",borderTop:"1px solid rgba(0,0,0,0.05)",display:"flex",justifyContent:"space-between",alignItems:"center",background:"rgba(0,0,0,0.01)"},children:[Z.jsxs("div",{style:{fontSize:12,opacity:.5},children:["Showing ",m.length," of ",w.length," tickets"]}),Z.jsxs("div",{style:{display:"flex",gap:8},children:[Z.jsx("button",{className:"beta-btn beta-btn--soft",style:{padding:"4px 10px",fontSize:12},disabled:E<=1,onClick:()=>B(g=>g-1),children:"Previous"}),Z.jsx("button",{className:"beta-btn beta-btn--soft",style:{padding:"4px 10px",fontSize:12},disabled:E>=v,onClick:()=>B(g=>g+1),children:"Next"})]})]}),Z.jsx(K3,{ticket:F,connection:e,programPk:n,claimGraceSlots:M,onClose:()=>X(null),currentSlot:I})]})}function n6(){return typeof window>"u"?null:window?.phantom?.solana??window?.solana??null}function r6(s,e){return!s?.isPhantom||!e?null:{publicKey:e,signTransaction:s.signTransaction.bind(s),signAllTransactions:s.signAllTransactions.bind(s)}}function i6({rpcUrl:s,programId:e,pubkey:n}){const i=Tt.useMemo(()=>n6(),[]),u=Tt.useMemo(()=>new cp(s,"confirmed"),[s]),[o,l]=Tt.useState(null),[d,y]=Tt.useState(!1);return Tt.useEffect(()=>{let _=!0;async function S(){try{if(!i||!n){_&&(l(null),y(!1));return}const I=r6(i,n);if(!I){_&&(l(null),y(!1));return}const k=new ku(u,I,{commitment:"confirmed"}),R=await ho.at(e,k);_&&(l(R),y(!0))}catch{_&&(l(null),y(!1))}}return S(),()=>{_=!1}},[i,n,e,u]),{program:o,connection:u,walletReady:d}}function s6({chainId:s=2}={}){const n="https://beacon.nist.gov/beacon/2.0",i=Tt.useMemo(()=>[`${n}/chain/${s}/pulse/last`,`${n}/pulse/last`],[n,s]),[u,o]=Tt.useState(null),[l,d]=Tt.useState(""),[y,_]=Tt.useState(Date.now());async function S(){d("");for(const U of i)try{const D=await fetch(U,{cache:"no-store"});if(!D.ok)throw new Error(`HTTP ${D.status}`);const q=await D.json(),G=q?.pulse||q;if(!G?.pulseIndex||!G?.timeStamp)throw new Error("Unexpected NIST response");o({pulseIndex:Number(G.pulseIndex),timeStamp:String(G.timeStamp)});return}catch(D){d(D?.message??String(D))}}Tt.useEffect(()=>{S();const U=setInterval(()=>_(Date.now()),1e3),D=setInterval(()=>S(),15e3);return()=>{clearInterval(U),clearInterval(D)}},[]);let I=null,k=null,R=null;if(u?.timeStamp){const U=Date.parse(u.timeStamp);if(!Number.isNaN(U)){I=U;const D=Math.max(0,y-U);k=Math.floor(D/1e3);const q=6e4-D%6e4;R=Math.max(0,Math.ceil(q/1e3)),R>60&&(R=60)}}const M=u?.pulseIndex!=null?`${n}/chain/${s}/pulse/${u.pulseIndex}`:`${n}/chain/${s}/pulse/last`;return{pulse:u,pulseTimeMs:I,elapsedSec:k,nextInSec:R,err:l,pulseUrl:M}}function xr(s,...e){for(const n of e)if(s&&Object.prototype.hasOwnProperty.call(s,n))return s[n]}function Wa(s){return s==null?null:typeof s=="bigint"?s:typeof s=="number"||typeof s=="string"?BigInt(s):typeof s=="object"&&typeof s.toString=="function"?BigInt(s.toString()):null}function a6({rpcUrl:s,connection:e,programId:n,pubkey:i}){const u=Tt.useMemo(()=>e||new cp(s,"processed"),[e,s]),o=Tt.useMemo(()=>new wp(KE),[]),[l,d]=Tt.useState(null),[y,_]=Tt.useState(""),S=Tt.useCallback(async()=>{if(!i){d(null),_("");return}try{const I=eo(n),k=jE(n,I),R=await u.getAccountInfo(k,"processed"),M=await u.getAccountInfo(I,"processed");if(!R?.data||!M?.data){const z=Hl(n,I);d({configPda:I,config:null,roundRegistryPda:k,rrPda:k,roundId:null,roundPda:null,chronoVaultPda:null,round:null,tokenomicsPda:z,tokenomicsExists:!1,rewardFeePoolPda:null,deriveTicketPda:()=>null}),_("Protocol not fully initialized (Config or RR missing).");return}const U=o.decode("Config",M.data),D={claimGraceSlots:Wa(xr(U,"claimGraceSlots","claim_grace_slots")),paused:!!xr(U,"paused")},q=o.decode("RoundRegistry",R.data),G=xr(q,"nextRoundId","next_round_id"),P=Wa(G)??0n,W=P>0n?Number(P-1n):0,nt=await u.getSlot("processed"),ot=ds(n,W),it=await u.getAccountInfo(ot,"processed"),ut=Eu(n,W),V=Hl(n,I),X=!!(await u.getAccountInfo(V,"processed"))?.data,$=X?qE(n,V):null;if(!it?.data){d({configPda:I,config:D,roundRegistryPda:k,rrPda:k,roundId:W,roundPda:ot,chronoVaultPda:ut,currentSlot:nt,round:null,tokenomicsPda:V,tokenomicsExists:X,rewardFeePoolPda:$,deriveTicketPda:(z,C,v)=>M0(n,z,C,v)}),_("Round account not found yet (operator hasn't created it).");return}const x=o.decode("Round",it.data);console.log("PROTOCOL_DEBUG: roundId",W,"raw decoded:",x);const h={pulseSet:!!xr(x,"pulseSet","pulse_set"),finalized:!!xr(x,"finalized"),tokenSettled:!!xr(x,"tokenSettled","token_settled"),commitDeadlineSlot:Wa(xr(x,"commitDeadlineSlot","commit_deadline_slot")),revealDeadlineSlot:Wa(xr(x,"revealDeadlineSlot","reveal_deadline_slot")),pulseIndexTarget:Wa(xr(x,"pulseIndexTarget","pulse_index_target")),pulse:xr(x,"pulse"),pulseSetSlot:Wa(xr(x,"pulseSetSlot","pulse_set_slot"))},E=14e11+(Number(h.pulseIndexTarget)-1)*6e4;console.log("PROTOCOL_DEBUG: finalized round object",h),d({configPda:I,config:D,roundRegistryPda:k,rrPda:k,rrPda:k,roundId:W,roundPda:ot,chronoVaultPda:ut,currentSlot:nt,round:h,tokenomicsPda:V,tokenomicsExists:X,rewardFeePoolPda:$,deriveTicketPda:(z,C,v)=>M0(n,z,C,v)});const B=h.pulseIndexTarget?.toString();_(`Targeting NIST Pulse: ${h.pulseIndexTarget}`)}catch(I){d(null),_("Play: could not load protocol state"),console.error("useProtocolState refresh error:",I)}},[o,u,n,i]);return Tt.useEffect(()=>{if(!i)return;let I=!1;const k=async()=>{I||document.visibilityState==="visible"&&await S()},R=l?.round&&l?.currentSlot!=null&&l.round.commitDeadlineSlot!=null&&BigInt(l.currentSlot)<l.round.commitDeadlineSlot,U=l?.round&&(R||!l.round.pulseSet||!l.round.finalized)?2e3:8e3;k();const D=setInterval(k,U);return()=>{I=!0,clearInterval(D)}},[i,S,l?.round?.pulseSet,l?.round?.finalized]),{chainState:l,statusLine:y,refreshNow:S}}kw("devnet");const bl="https://api.devnet.solana.com",o6="BETA2026",l_="DrsJxZRNuEFHVyj3Sz5CzpVeacpAGHBoZrg9NtRH9JqR",f_="https://timlg-faucet.vercel.app/api/faucet",d0="7nJ9vaCpjo3zDY1fzZv1KicjoZ6yPpzHFcKq3HDh8cEf",u6=+"0.05",c6=1;function h0(){return typeof window>"u"?null:window?.phantom?.solana??window?.solana??null}function l6(){const s=new Date,e=n=>String(n).padStart(2,"0");return`${e(s.getUTCHours())}:${e(s.getUTCMinutes())}:${e(s.getUTCSeconds())}Z`}function f6(){const s=Tt.useMemo(()=>new vt(l_),[]),e=Tt.useMemo(()=>new vt(d0),[]),[n,i]=Tt.useState(!0),[u,o]=Tt.useState(null),[l,d]=Tt.useState(null),[y,_]=Tt.useState(null),[S,I]=Tt.useState(o6),[k,R]=Tt.useState(""),[M,U]=Tt.useState(""),[D,q]=Tt.useState([]),G=Tt.useCallback(m=>{const f=String(m??"").trim();f&&q(g=>{const O=[...g,`[${l6()}] ${f}`];return O.length>400?O.slice(-400):O})},[]),P=Tt.useCallback(()=>q([]),[]),W=u?.toBase58?.()??null,{program:nt,connection:ot,walletReady:it}=i6({rpcUrl:bl,programId:s,pubkey:u}),ut=s6({chainId:2}),{chainState:V,statusLine:F,refreshNow:X}=a6({rpcUrl:bl,connection:ot,programId:s,pubkey:u}),$=Tt.useCallback(async m=>{try{const g=await ot.getBalance(m,"confirmed")/A0;return d(g),g}catch{return d(null),null}},[ot]),x=Tt.useCallback(async m=>{try{const g=(await ot.getParsedTokenAccountsByOwner(m,{mint:e},"confirmed"))?.value?.[0]?.account?.data?.parsed?.info?.tokenAmount?.uiAmount??0;return _(g),g}catch{return _(null),null}},[ot,e]),[h,w]=Tt.useState(0),E=Tt.useCallback(()=>{w(m=>m+1),setTimeout(()=>w(m=>m+1),1e3),setTimeout(()=>w(m=>m+1),3e3)},[]);Tt.useCallback(async()=>{u&&(await Promise.all([$(u),x(u),X()]),E())},[u,$,x,X,E]);async function B(){try{let m=window?.solana;if(m?.isPhantom||(m=window?.phantom?.solana),!m){i(!1),R("Phantom not detected."),G("Connect: Phantom not detected.");return}i(!!m?.isPhantom),R("Connecting");const f={isPhantom:m?.isPhantom,isSolflare:m?.isSolflare,source:m===window?.solana?"window.solana":"window.phantom.solana",isConnected:m?.isConnected,pubkey:m?.publicKey?.toBase58?.()};if(G(`Connect: provider state: ${JSON.stringify(f)}`),m?.isConnected&&m?.publicKey){o(m.publicKey),R("Wallet connected (researched) "),G(`Connected (cached): ${m.publicKey.toBase58()}`),await Promise.all([$(m.publicKey),x(m.publicKey),X()]);return}let g;try{g=await m.connect()}catch(O){console.warn("Standard connect failed, retrying with onlyIfTrusted:false",O),G(`Connect: retry forced (${O.message})`),await new Promise(L=>setTimeout(L,200)),g=await m.connect({onlyIfTrusted:!1})}g?.publicKey&&(o(g.publicKey),G(`Connected: ${g.publicKey.toBase58()}`),R("Wallet connected "),await Promise.all([$(g.publicKey),x(g.publicKey),X()]))}catch(m){console.error("Phantom connect error:",m);let f=m?.message??String(m);m?.code===-32603&&(f="Wallet Error (-32603). The Phantom extension is stuck. PLEASE RESTART YOUR BROWSER entirely.");const g=JSON.stringify(m,Object.getOwnPropertyNames(m));R(`Error: ${f}`),G(`Connect error details: ${g}`)}}async function z(){try{const m=h0();G("Disconnect: wallet requested."),await m?.disconnect?.()}catch{}o(null),d(null),_(null),U(""),R("Disconnected.")}async function C(){if(!u){R("Connect your wallet first."),G("Airdrop SOL: connect wallet first.");return}try{R("Requesting 1 SOL airdrop (devnet)..."),G("Airdrop SOL: requesting 1 SOL");const m=await ot.requestAirdrop(u,1*A0);if(U(m),G(`Airdrop SOL: submitted tx=${m}`),(await ot.confirmTransaction(m,"confirmed"))?.value?.err){R("Airdrop failed."),G("Airdrop SOL: failed (confirm err).");return}await $(u),R("Airdrop OK "),G("Airdrop SOL: OK ")}catch(m){R(`Airdrop error: ${m?.message??String(m)}`),G(`Airdrop SOL error: ${m?.message??String(m)}`)}}async function v(){if(!u){R("Connect your wallet first."),G("CHRONO faucet: connect wallet first.");return}const m=h0();if(!m?.isPhantom){R("Phantom not detected."),G("CHRONO faucet: Phantom not detected.");return}const f=u.toBase58(),g=S?.trim()||"";R("Requesting CHRONO from faucet..."),G("CHRONO faucet: preparing request"),U("");try{const O=`Recipient: ${f}
Timestamp: ${Date.now()}
Domain: timlg.org`;let L;if(m.signMessage){R("Waiting for Phantom signature approval..."),G("CHRONO faucet: waiting Phantom signature");const _t=new TextEncoder().encode(O),Lt=await m.signMessage(_t,"utf8"),Gt=Lt?.signature??Lt;L=wN.encode(Gt)}R("Sending request to faucet..."),G("CHRONO faucet: sending request");const Y=await fetch(f_,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({recipient:f,inviteCode:g,message:O,signature:L})}),et=await Y.json().catch(()=>({}));if(!(Y.ok&&(et?.ok===void 0||et?.ok===!0))){const _t=et?.error||`HTTP ${Y.status}`;R(`Faucet error: ${_t}`),G(`CHRONO faucet error: ${_t}`);return}et?.signature&&(U(et.signature),G(`CHRONO faucet: tx=${et.signature}`)),await x(u),R("CHRONO sent "),G("CHRONO faucet: OK ")}catch(O){const L=O?.message??String(O);R(`Faucet error: ${L}`),G(`CHRONO faucet error: ${L}`)}}return Tt.useEffect(()=>{const m=h0();i(!!m?.isPhantom);const f=O=>O&&o(O),g=()=>{o(null),d(null),_(null)};return m?.on?.("connect",f),m?.on?.("disconnect",g),(async()=>{try{m?.isPhantom&&m?.publicKey&&(o(m.publicKey),await Promise.all([$(m.publicKey),x(m.publicKey)]))}catch{}})(),()=>{m?.off?.("connect",f),m?.off?.("disconnect",g)}},[$,x]),Tt.useMemo(()=>W?l!=null&&l<u6?{label:"Needs SOL",tone:"warn"}:y!=null&&y<c6?{label:"Needs CHRONO",tone:"warn"}:{label:"Ready",tone:"ok"}:{label:"Connect wallet",tone:"muted"},[W,l,y]),Z.jsxs("div",{className:"beta-app",children:[!n&&Z.jsxs("div",{className:"beta-card beta-card--warn",children:[Z.jsx("b",{children:"Phantom not detected."}),Z.jsxs("div",{style:{marginTop:6},children:["Install Phantom:"," ",Z.jsx("a",{href:"https://phantom.app/",target:"_blank",rel:"noreferrer",children:"https://phantom.app/"})]})]}),Z.jsx("header",{className:"beta-header",children:Z.jsxs("div",{className:"beta-walletbar",children:[Z.jsxs("div",{className:"beta-walletbar__header-row",children:[Z.jsx("div",{className:"beta-walletbar__title",children:"Devnet Beta"}),Z.jsxs("div",{className:"beta-tooltip",children:["i",Z.jsxs("div",{className:"beta-tooltip__content",children:[Z.jsxs("div",{children:[Z.jsx("b",{children:"RPC:"})," ",bl]}),Z.jsxs("div",{children:[Z.jsx("b",{children:"Program:"})," ",l_]}),Z.jsxs("div",{children:[Z.jsx("b",{children:"Mint:"})," ",d0]}),Z.jsxs("div",{children:[Z.jsx("b",{children:"Faucet:"})," ",f_]}),Z.jsx("div",{style:{marginTop:6},children:"Version: 0.1.0-beta"}),Z.jsxs("div",{style:{marginTop:6,borderTop:"1px solid #444",paddingTop:6},children:[k||"Status: ",M&&Z.jsx("div",{style:{marginTop:4},children:Z.jsx("a",{href:z3(M),target:"_blank",style:{color:"#aaa"},children:"View Last Tx"})})]})]})]})]}),Z.jsxs("div",{className:"beta-walletbar__info-row",children:[Z.jsxs("span",{className:W?"":"beta-muted",children:["Wallet: ",W?bu(W):"Not connected"]}),W&&Z.jsx("a",{className:"beta-link",href:H3(W),target:"_blank",rel:"noreferrer",style:{fontSize:12},children:"View on Solana Explorer"})]}),Z.jsxs("div",{className:"beta-walletbar__balance-row",children:[Z.jsx("span",{className:"beta-muted",children:"SOL Balance:"}),Z.jsxs("span",{children:[l==null?"":l.toFixed(3)," SOL"]})]}),Z.jsxs("div",{className:"beta-walletbar__balance-row",style:{borderBottom:"1px solid rgba(255,255,255,0.1)",paddingBottom:12},children:[Z.jsx("span",{className:"beta-muted",children:"CHRONO Balance:"}),Z.jsxs("span",{children:[y==null?"":Number(y).toFixed(2)," CHRONO"]})]}),Z.jsxs("div",{className:"beta-walletbar__actions-row",children:[Z.jsx("button",{className:"beta-btn beta-walletbar__btn-main",onClick:W?z:B,type:"button",style:{opacity:W?.8:1},children:W?"Disconnect":"Connect Phantom Wallet"}),Z.jsxs("div",{className:"beta-walletbar__tools-grid",children:[Z.jsx("button",{className:"beta-btn",onClick:C,disabled:!W,type:"button",children:"Airdrop SOL"}),Z.jsx("div",{className:"beta-walletbar__input-group",children:Z.jsx("button",{className:"beta-btn",style:{flex:1,background:"#2D68EA",color:"white",border:"none"},onClick:v,disabled:!W,type:"button",children:"Get CHRONO"})})]}),Z.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginTop:4},children:[Z.jsx("span",{className:"beta-muted",style:{fontSize:12,whiteSpace:"nowrap"},children:"Invite Code:"}),Z.jsx("input",{className:"beta-input",style:{padding:"6px 10px",fontSize:13,background:"rgba(0,0,0,0.2)",border:"1px solid #555"},value:S,onChange:m=>I(m.target.value),placeholder:"Beta Code..."}),Z.jsxs("div",{className:"beta-tooltip",style:{width:14,height:14,fontSize:10,opacity:.5},children:["?",Z.jsx("div",{className:"beta-tooltip__content",style:{width:180,bottom:"110%"},children:"Optional code for tracking referrals."})]})]})]})]})}),Z.jsxs("main",{className:"beta-main",children:[Z.jsx(P3,{rpcUrl:bl,connection:ot,program:nt,walletReady:it,programPk:s,chronoMint:d0,pubkey:u,appendLog:G,chainState:V,refreshProtocolState:X,statusLine:F,onActionComplete:E,nist:ut,logs:D,onClearLog:P}),Z.jsx("div",{style:{marginTop:24},children:Z.jsx(e6,{program:nt,connection:ot,programPk:s,pubkey:u,mintPk:e,appendLog:G,actionsEnabled:!0,limit:1e3,currentSlot:V?.currentSlot,claimGraceSlots:V?.config?.claimGraceSlots,activeRoundId:V?.roundId??null,nist:ut,refreshNonce:h,onAfterAction:E})})]})]})}class d6 extends aR.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("ErrorBoundary caught an error",e,n),this.setState({errorInfo:n})}render(){return this.state.hasError?Z.jsxs("div",{style:{padding:20,color:"red",border:"1px solid red",margin:20},children:[Z.jsx("h2",{children:"Something went wrong."}),Z.jsxs("details",{style:{whiteSpace:"pre-wrap"},children:[this.state.error&&this.state.error.toString(),Z.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]})]}):this.props.children}}let hs=null;function VE(){const s=document.getElementById("beta-root")||document.getElementById("root");if(s){if(hs){try{hs.unmount()}catch{}hs=null}hs=hR.createRoot(s),hs.render(Z.jsx(Tt.StrictMode,{children:Z.jsx(d6,{children:Z.jsx(f6,{})})}))}}function h6(){if(hs){try{hs.unmount()}catch{}hs=null}}typeof window<"u"&&(window.__mountBetaApp=VE,window.__unmountBetaApp=h6);VE();
