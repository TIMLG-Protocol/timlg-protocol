(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))i(u);new MutationObserver(u=>{for(const o of u)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(u){const o={};return u.integrity&&(o.integrity=u.integrity),u.referrerPolicy&&(o.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?o.credentials="include":u.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(u){if(u.ep)return;u.ep=!0;const o=n(u);fetch(u.href,o)}})();function xi(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function Ml(s){if(Object.prototype.hasOwnProperty.call(s,"__esModule"))return s;var e=s.default;if(typeof e=="function"){var n=function i(){var u=!1;try{u=this instanceof i}catch{}return u?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(s).forEach(function(i){var u=Object.getOwnPropertyDescriptor(s,i);Object.defineProperty(n,i,u.get?u:{enumerable:!0,get:function(){return s[i]}})}),n}var ch={exports:{}},nu={};var ag;function XA(){if(ag)return nu;ag=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,u,o){var l=null;if(o!==void 0&&(l=""+o),u.key!==void 0&&(l=""+u.key),"key"in u){o={};for(var d in u)d!=="key"&&(o[d]=u[d])}else o=u;return u=o.ref,{$$typeof:s,type:i,key:l,ref:u!==void 0?u:null,props:o}}return nu.Fragment=e,nu.jsx=n,nu.jsxs=n,nu}var og;function $A(){return og||(og=1,ch.exports=XA()),ch.exports}var J=$A(),lh={},ru={},ug;function WA(){if(ug)return ru;ug=1,ru.byteLength=d,ru.toByteArray=_,ru.fromByteArray=k;for(var s=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,o=i.length;u<o;++u)s[u]=i[u],e[i.charCodeAt(u)]=u;e[45]=62,e[95]=63;function l(R){var M=R.length;if(M%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var U=R.indexOf("=");U===-1&&(U=M);var L=U===M?0:4-U%4;return[U,L]}function d(R){var M=l(R),U=M[0],L=M[1];return(U+L)*3/4-L}function y(R,M,U){return(M+U)*3/4-U}function _(R){var M,U=l(R),L=U[0],j=U[1],G=new n(y(R,L,j)),P=0,$=j>0?L-4:L,et;for(et=0;et<$;et+=4)M=e[R.charCodeAt(et)]<<18|e[R.charCodeAt(et+1)]<<12|e[R.charCodeAt(et+2)]<<6|e[R.charCodeAt(et+3)],G[P++]=M>>16&255,G[P++]=M>>8&255,G[P++]=M&255;return j===2&&(M=e[R.charCodeAt(et)]<<2|e[R.charCodeAt(et+1)]>>4,G[P++]=M&255),j===1&&(M=e[R.charCodeAt(et)]<<10|e[R.charCodeAt(et+1)]<<4|e[R.charCodeAt(et+2)]>>2,G[P++]=M>>8&255,G[P++]=M&255),G}function E(R){return s[R>>18&63]+s[R>>12&63]+s[R>>6&63]+s[R&63]}function C(R,M,U){for(var L,j=[],G=M;G<U;G+=3)L=(R[G]<<16&16711680)+(R[G+1]<<8&65280)+(R[G+2]&255),j.push(E(L));return j.join("")}function k(R){for(var M,U=R.length,L=U%3,j=[],G=16383,P=0,$=U-L;P<$;P+=G)j.push(C(R,P,P+G>$?$:P+G));return L===1?(M=R[U-1],j.push(s[M>>2]+s[M<<4&63]+"==")):L===2&&(M=(R[U-2]<<8)+R[U-1],j.push(s[M>>10]+s[M>>4&63]+s[M<<2&63]+"=")),j.join("")}return ru}var Kc={};var cg;function QA(){return cg||(cg=1,Kc.read=function(s,e,n,i,u){var o,l,d=u*8-i-1,y=(1<<d)-1,_=y>>1,E=-7,C=n?u-1:0,k=n?-1:1,R=s[e+C];for(C+=k,o=R&(1<<-E)-1,R>>=-E,E+=d;E>0;o=o*256+s[e+C],C+=k,E-=8);for(l=o&(1<<-E)-1,o>>=-E,E+=i;E>0;l=l*256+s[e+C],C+=k,E-=8);if(o===0)o=1-_;else{if(o===y)return l?NaN:(R?-1:1)*(1/0);l=l+Math.pow(2,i),o=o-_}return(R?-1:1)*l*Math.pow(2,o-i)},Kc.write=function(s,e,n,i,u,o){var l,d,y,_=o*8-u-1,E=(1<<_)-1,C=E>>1,k=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,R=i?0:o-1,M=i?1:-1,U=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(d=isNaN(e)?1:0,l=E):(l=Math.floor(Math.log(e)/Math.LN2),e*(y=Math.pow(2,-l))<1&&(l--,y*=2),l+C>=1?e+=k/y:e+=k*Math.pow(2,1-C),e*y>=2&&(l++,y/=2),l+C>=E?(d=0,l=E):l+C>=1?(d=(e*y-1)*Math.pow(2,u),l=l+C):(d=e*Math.pow(2,C-1)*Math.pow(2,u),l=0));u>=8;s[n+R]=d&255,R+=M,d/=256,u-=8);for(l=l<<u|d,_+=u;_>0;s[n+R]=l&255,R+=M,l/=256,_-=8);s[n+R-M]|=U*128}),Kc}var lg;function I0(){return lg||(lg=1,(function(s){const e=WA(),n=QA(),i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;s.Buffer=d,s.SlowBuffer=G,s.INSPECT_MAX_BYTES=50;const u=2147483647;s.kMaxLength=u,d.TYPED_ARRAY_SUPPORT=o(),!d.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const H=new Uint8Array(1),A={foo:function(){return 42}};return Object.setPrototypeOf(A,Uint8Array.prototype),Object.setPrototypeOf(H,A),H.foo()===42}catch{return!1}}Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}});function l(H){if(H>u)throw new RangeError('The value "'+H+'" is invalid for option "size"');const A=new Uint8Array(H);return Object.setPrototypeOf(A,d.prototype),A}function d(H,A,T){if(typeof H=="number"){if(typeof A=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return C(H)}return y(H,A,T)}d.poolSize=8192;function y(H,A,T){if(typeof H=="string")return k(H,A);if(ArrayBuffer.isView(H))return M(H);if(H==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H);if(En(H,ArrayBuffer)||H&&En(H.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(En(H,SharedArrayBuffer)||H&&En(H.buffer,SharedArrayBuffer)))return U(H,A,T);if(typeof H=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const V=H.valueOf&&H.valueOf();if(V!=null&&V!==H)return d.from(V,A,T);const rt=L(H);if(rt)return rt;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof H[Symbol.toPrimitive]=="function")return d.from(H[Symbol.toPrimitive]("string"),A,T);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H)}d.from=function(H,A,T){return y(H,A,T)},Object.setPrototypeOf(d.prototype,Uint8Array.prototype),Object.setPrototypeOf(d,Uint8Array);function _(H){if(typeof H!="number")throw new TypeError('"size" argument must be of type number');if(H<0)throw new RangeError('The value "'+H+'" is invalid for option "size"')}function E(H,A,T){return _(H),H<=0?l(H):A!==void 0?typeof T=="string"?l(H).fill(A,T):l(H).fill(A):l(H)}d.alloc=function(H,A,T){return E(H,A,T)};function C(H){return _(H),l(H<0?0:j(H)|0)}d.allocUnsafe=function(H){return C(H)},d.allocUnsafeSlow=function(H){return C(H)};function k(H,A){if((typeof A!="string"||A==="")&&(A="utf8"),!d.isEncoding(A))throw new TypeError("Unknown encoding: "+A);const T=P(H,A)|0;let V=l(T);const rt=V.write(H,A);return rt!==T&&(V=V.slice(0,rt)),V}function R(H){const A=H.length<0?0:j(H.length)|0,T=l(A);for(let V=0;V<A;V+=1)T[V]=H[V]&255;return T}function M(H){if(En(H,Uint8Array)){const A=new Uint8Array(H);return U(A.buffer,A.byteOffset,A.byteLength)}return R(H)}function U(H,A,T){if(A<0||H.byteLength<A)throw new RangeError('"offset" is outside of buffer bounds');if(H.byteLength<A+(T||0))throw new RangeError('"length" is outside of buffer bounds');let V;return A===void 0&&T===void 0?V=new Uint8Array(H):T===void 0?V=new Uint8Array(H,A):V=new Uint8Array(H,A,T),Object.setPrototypeOf(V,d.prototype),V}function L(H){if(d.isBuffer(H)){const A=j(H.length)|0,T=l(A);return T.length===0||H.copy(T,0,0,A),T}if(H.length!==void 0)return typeof H.length!="number"||xe(H.length)?l(0):R(H);if(H.type==="Buffer"&&Array.isArray(H.data))return R(H.data)}function j(H){if(H>=u)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u.toString(16)+" bytes");return H|0}function G(H){return+H!=H&&(H=0),d.alloc(+H)}d.isBuffer=function(A){return A!=null&&A._isBuffer===!0&&A!==d.prototype},d.compare=function(A,T){if(En(A,Uint8Array)&&(A=d.from(A,A.offset,A.byteLength)),En(T,Uint8Array)&&(T=d.from(T,T.offset,T.byteLength)),!d.isBuffer(A)||!d.isBuffer(T))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(A===T)return 0;let V=A.length,rt=T.length;for(let ut=0,mt=Math.min(V,rt);ut<mt;++ut)if(A[ut]!==T[ut]){V=A[ut],rt=T[ut];break}return V<rt?-1:rt<V?1:0},d.isEncoding=function(A){switch(String(A).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(A,T){if(!Array.isArray(A))throw new TypeError('"list" argument must be an Array of Buffers');if(A.length===0)return d.alloc(0);let V;if(T===void 0)for(T=0,V=0;V<A.length;++V)T+=A[V].length;const rt=d.allocUnsafe(T);let ut=0;for(V=0;V<A.length;++V){let mt=A[V];if(En(mt,Uint8Array))ut+mt.length>rt.length?(d.isBuffer(mt)||(mt=d.from(mt)),mt.copy(rt,ut)):Uint8Array.prototype.set.call(rt,mt,ut);else if(d.isBuffer(mt))mt.copy(rt,ut);else throw new TypeError('"list" argument must be an Array of Buffers');ut+=mt.length}return rt};function P(H,A){if(d.isBuffer(H))return H.length;if(ArrayBuffer.isView(H)||En(H,ArrayBuffer))return H.byteLength;if(typeof H!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof H);const T=H.length,V=arguments.length>2&&arguments[2]===!0;if(!V&&T===0)return 0;let rt=!1;for(;;)switch(A){case"ascii":case"latin1":case"binary":return T;case"utf8":case"utf-8":return Se(H).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T*2;case"hex":return T>>>1;case"base64":return de(H).length;default:if(rt)return V?-1:Se(H).length;A=(""+A).toLowerCase(),rt=!0}}d.byteLength=P;function $(H,A,T){let V=!1;if((A===void 0||A<0)&&(A=0),A>this.length||((T===void 0||T>this.length)&&(T=this.length),T<=0)||(T>>>=0,A>>>=0,T<=A))return"";for(H||(H="utf8");;)switch(H){case"hex":return I(this,A,T);case"utf8":case"utf-8":return h(this,A,T);case"ascii":return B(this,A,T);case"latin1":case"binary":return D(this,A,T);case"base64":return O(this,A,T);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v(this,A,T);default:if(V)throw new TypeError("Unknown encoding: "+H);H=(H+"").toLowerCase(),V=!0}}d.prototype._isBuffer=!0;function et(H,A,T){const V=H[A];H[A]=H[T],H[T]=V}d.prototype.swap16=function(){const A=this.length;if(A%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let T=0;T<A;T+=2)et(this,T,T+1);return this},d.prototype.swap32=function(){const A=this.length;if(A%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let T=0;T<A;T+=4)et(this,T,T+3),et(this,T+1,T+2);return this},d.prototype.swap64=function(){const A=this.length;if(A%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let T=0;T<A;T+=8)et(this,T,T+7),et(this,T+1,T+6),et(this,T+2,T+5),et(this,T+3,T+4);return this},d.prototype.toString=function(){const A=this.length;return A===0?"":arguments.length===0?h(this,0,A):$.apply(this,arguments)},d.prototype.toLocaleString=d.prototype.toString,d.prototype.equals=function(A){if(!d.isBuffer(A))throw new TypeError("Argument must be a Buffer");return this===A?!0:d.compare(this,A)===0},d.prototype.inspect=function(){let A="";const T=s.INSPECT_MAX_BYTES;return A=this.toString("hex",0,T).replace(/(.{2})/g,"$1 ").trim(),this.length>T&&(A+=" ... "),"<Buffer "+A+">"},i&&(d.prototype[i]=d.prototype.inspect),d.prototype.compare=function(A,T,V,rt,ut){if(En(A,Uint8Array)&&(A=d.from(A,A.offset,A.byteLength)),!d.isBuffer(A))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof A);if(T===void 0&&(T=0),V===void 0&&(V=A?A.length:0),rt===void 0&&(rt=0),ut===void 0&&(ut=this.length),T<0||V>A.length||rt<0||ut>this.length)throw new RangeError("out of range index");if(rt>=ut&&T>=V)return 0;if(rt>=ut)return-1;if(T>=V)return 1;if(T>>>=0,V>>>=0,rt>>>=0,ut>>>=0,this===A)return 0;let mt=ut-rt,Dt=V-T;const Ht=Math.min(mt,Dt),Mt=this.slice(rt,ut),Oe=A.slice(T,V);for(let jt=0;jt<Ht;++jt)if(Mt[jt]!==Oe[jt]){mt=Mt[jt],Dt=Oe[jt];break}return mt<Dt?-1:Dt<mt?1:0};function it(H,A,T,V,rt){if(H.length===0)return-1;if(typeof T=="string"?(V=T,T=0):T>2147483647?T=2147483647:T<-2147483648&&(T=-2147483648),T=+T,xe(T)&&(T=rt?0:H.length-1),T<0&&(T=H.length+T),T>=H.length){if(rt)return-1;T=H.length-1}else if(T<0)if(rt)T=0;else return-1;if(typeof A=="string"&&(A=d.from(A,V)),d.isBuffer(A))return A.length===0?-1:st(H,A,T,V,rt);if(typeof A=="number")return A=A&255,typeof Uint8Array.prototype.indexOf=="function"?rt?Uint8Array.prototype.indexOf.call(H,A,T):Uint8Array.prototype.lastIndexOf.call(H,A,T):st(H,[A],T,V,rt);throw new TypeError("val must be string, number or Buffer")}function st(H,A,T,V,rt){let ut=1,mt=H.length,Dt=A.length;if(V!==void 0&&(V=String(V).toLowerCase(),V==="ucs2"||V==="ucs-2"||V==="utf16le"||V==="utf-16le")){if(H.length<2||A.length<2)return-1;ut=2,mt/=2,Dt/=2,T/=2}function Ht(Oe,jt){return ut===1?Oe[jt]:Oe.readUInt16BE(jt*ut)}let Mt;if(rt){let Oe=-1;for(Mt=T;Mt<mt;Mt++)if(Ht(H,Mt)===Ht(A,Oe===-1?0:Mt-Oe)){if(Oe===-1&&(Oe=Mt),Mt-Oe+1===Dt)return Oe*ut}else Oe!==-1&&(Mt-=Mt-Oe),Oe=-1}else for(T+Dt>mt&&(T=mt-Dt),Mt=T;Mt>=0;Mt--){let Oe=!0;for(let jt=0;jt<Dt;jt++)if(Ht(H,Mt+jt)!==Ht(A,jt)){Oe=!1;break}if(Oe)return Mt}return-1}d.prototype.includes=function(A,T,V){return this.indexOf(A,T,V)!==-1},d.prototype.indexOf=function(A,T,V){return it(this,A,T,V,!0)},d.prototype.lastIndexOf=function(A,T,V){return it(this,A,T,V,!1)};function ot(H,A,T,V){T=Number(T)||0;const rt=H.length-T;V?(V=Number(V),V>rt&&(V=rt)):V=rt;const ut=A.length;V>ut/2&&(V=ut/2);let mt;for(mt=0;mt<V;++mt){const Dt=parseInt(A.substr(mt*2,2),16);if(xe(Dt))return mt;H[T+mt]=Dt}return mt}function K(H,A,T,V){return ie(Se(A,H.length-T),H,T,V)}function Y(H,A,T,V){return ie(Qt(A),H,T,V)}function F(H,A,T,V){return ie(de(A),H,T,V)}function X(H,A,T,V){return ie(vn(A,H.length-T),H,T,V)}d.prototype.write=function(A,T,V,rt){if(T===void 0)rt="utf8",V=this.length,T=0;else if(V===void 0&&typeof T=="string")rt=T,V=this.length,T=0;else if(isFinite(T))T=T>>>0,isFinite(V)?(V=V>>>0,rt===void 0&&(rt="utf8")):(rt=V,V=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ut=this.length-T;if((V===void 0||V>ut)&&(V=ut),A.length>0&&(V<0||T<0)||T>this.length)throw new RangeError("Attempt to write outside buffer bounds");rt||(rt="utf8");let mt=!1;for(;;)switch(rt){case"hex":return ot(this,A,T,V);case"utf8":case"utf-8":return K(this,A,T,V);case"ascii":case"latin1":case"binary":return Y(this,A,T,V);case"base64":return F(this,A,T,V);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,A,T,V);default:if(mt)throw new TypeError("Unknown encoding: "+rt);rt=(""+rt).toLowerCase(),mt=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function O(H,A,T){return A===0&&T===H.length?e.fromByteArray(H):e.fromByteArray(H.slice(A,T))}function h(H,A,T){T=Math.min(H.length,T);const V=[];let rt=A;for(;rt<T;){const ut=H[rt];let mt=null,Dt=ut>239?4:ut>223?3:ut>191?2:1;if(rt+Dt<=T){let Ht,Mt,Oe,jt;switch(Dt){case 1:ut<128&&(mt=ut);break;case 2:Ht=H[rt+1],(Ht&192)===128&&(jt=(ut&31)<<6|Ht&63,jt>127&&(mt=jt));break;case 3:Ht=H[rt+1],Mt=H[rt+2],(Ht&192)===128&&(Mt&192)===128&&(jt=(ut&15)<<12|(Ht&63)<<6|Mt&63,jt>2047&&(jt<55296||jt>57343)&&(mt=jt));break;case 4:Ht=H[rt+1],Mt=H[rt+2],Oe=H[rt+3],(Ht&192)===128&&(Mt&192)===128&&(Oe&192)===128&&(jt=(ut&15)<<18|(Ht&63)<<12|(Mt&63)<<6|Oe&63,jt>65535&&jt<1114112&&(mt=jt))}}mt===null?(mt=65533,Dt=1):mt>65535&&(mt-=65536,V.push(mt>>>10&1023|55296),mt=56320|mt&1023),V.push(mt),rt+=Dt}return S(V)}const w=4096;function S(H){const A=H.length;if(A<=w)return String.fromCharCode.apply(String,H);let T="",V=0;for(;V<A;)T+=String.fromCharCode.apply(String,H.slice(V,V+=w));return T}function B(H,A,T){let V="";T=Math.min(H.length,T);for(let rt=A;rt<T;++rt)V+=String.fromCharCode(H[rt]&127);return V}function D(H,A,T){let V="";T=Math.min(H.length,T);for(let rt=A;rt<T;++rt)V+=String.fromCharCode(H[rt]);return V}function I(H,A,T){const V=H.length;(!A||A<0)&&(A=0),(!T||T<0||T>V)&&(T=V);let rt="";for(let ut=A;ut<T;++ut)rt+=te[H[ut]];return rt}function v(H,A,T){const V=H.slice(A,T);let rt="";for(let ut=0;ut<V.length-1;ut+=2)rt+=String.fromCharCode(V[ut]+V[ut+1]*256);return rt}d.prototype.slice=function(A,T){const V=this.length;A=~~A,T=T===void 0?V:~~T,A<0?(A+=V,A<0&&(A=0)):A>V&&(A=V),T<0?(T+=V,T<0&&(T=0)):T>V&&(T=V),T<A&&(T=A);const rt=this.subarray(A,T);return Object.setPrototypeOf(rt,d.prototype),rt};function m(H,A,T){if(H%1!==0||H<0)throw new RangeError("offset is not uint");if(H+A>T)throw new RangeError("Trying to access beyond buffer length")}d.prototype.readUintLE=d.prototype.readUIntLE=function(A,T,V){A=A>>>0,T=T>>>0,V||m(A,T,this.length);let rt=this[A],ut=1,mt=0;for(;++mt<T&&(ut*=256);)rt+=this[A+mt]*ut;return rt},d.prototype.readUintBE=d.prototype.readUIntBE=function(A,T,V){A=A>>>0,T=T>>>0,V||m(A,T,this.length);let rt=this[A+--T],ut=1;for(;T>0&&(ut*=256);)rt+=this[A+--T]*ut;return rt},d.prototype.readUint8=d.prototype.readUInt8=function(A,T){return A=A>>>0,T||m(A,1,this.length),this[A]},d.prototype.readUint16LE=d.prototype.readUInt16LE=function(A,T){return A=A>>>0,T||m(A,2,this.length),this[A]|this[A+1]<<8},d.prototype.readUint16BE=d.prototype.readUInt16BE=function(A,T){return A=A>>>0,T||m(A,2,this.length),this[A]<<8|this[A+1]},d.prototype.readUint32LE=d.prototype.readUInt32LE=function(A,T){return A=A>>>0,T||m(A,4,this.length),(this[A]|this[A+1]<<8|this[A+2]<<16)+this[A+3]*16777216},d.prototype.readUint32BE=d.prototype.readUInt32BE=function(A,T){return A=A>>>0,T||m(A,4,this.length),this[A]*16777216+(this[A+1]<<16|this[A+2]<<8|this[A+3])},d.prototype.readBigUInt64LE=Cn(function(A){A=A>>>0,We(A,"offset");const T=this[A],V=this[A+7];(T===void 0||V===void 0)&&Wt(A,this.length-8);const rt=T+this[++A]*2**8+this[++A]*2**16+this[++A]*2**24,ut=this[++A]+this[++A]*2**8+this[++A]*2**16+V*2**24;return BigInt(rt)+(BigInt(ut)<<BigInt(32))}),d.prototype.readBigUInt64BE=Cn(function(A){A=A>>>0,We(A,"offset");const T=this[A],V=this[A+7];(T===void 0||V===void 0)&&Wt(A,this.length-8);const rt=T*2**24+this[++A]*2**16+this[++A]*2**8+this[++A],ut=this[++A]*2**24+this[++A]*2**16+this[++A]*2**8+V;return(BigInt(rt)<<BigInt(32))+BigInt(ut)}),d.prototype.readIntLE=function(A,T,V){A=A>>>0,T=T>>>0,V||m(A,T,this.length);let rt=this[A],ut=1,mt=0;for(;++mt<T&&(ut*=256);)rt+=this[A+mt]*ut;return ut*=128,rt>=ut&&(rt-=Math.pow(2,8*T)),rt},d.prototype.readIntBE=function(A,T,V){A=A>>>0,T=T>>>0,V||m(A,T,this.length);let rt=T,ut=1,mt=this[A+--rt];for(;rt>0&&(ut*=256);)mt+=this[A+--rt]*ut;return ut*=128,mt>=ut&&(mt-=Math.pow(2,8*T)),mt},d.prototype.readInt8=function(A,T){return A=A>>>0,T||m(A,1,this.length),this[A]&128?(255-this[A]+1)*-1:this[A]},d.prototype.readInt16LE=function(A,T){A=A>>>0,T||m(A,2,this.length);const V=this[A]|this[A+1]<<8;return V&32768?V|4294901760:V},d.prototype.readInt16BE=function(A,T){A=A>>>0,T||m(A,2,this.length);const V=this[A+1]|this[A]<<8;return V&32768?V|4294901760:V},d.prototype.readInt32LE=function(A,T){return A=A>>>0,T||m(A,4,this.length),this[A]|this[A+1]<<8|this[A+2]<<16|this[A+3]<<24},d.prototype.readInt32BE=function(A,T){return A=A>>>0,T||m(A,4,this.length),this[A]<<24|this[A+1]<<16|this[A+2]<<8|this[A+3]},d.prototype.readBigInt64LE=Cn(function(A){A=A>>>0,We(A,"offset");const T=this[A],V=this[A+7];(T===void 0||V===void 0)&&Wt(A,this.length-8);const rt=this[A+4]+this[A+5]*2**8+this[A+6]*2**16+(V<<24);return(BigInt(rt)<<BigInt(32))+BigInt(T+this[++A]*2**8+this[++A]*2**16+this[++A]*2**24)}),d.prototype.readBigInt64BE=Cn(function(A){A=A>>>0,We(A,"offset");const T=this[A],V=this[A+7];(T===void 0||V===void 0)&&Wt(A,this.length-8);const rt=(T<<24)+this[++A]*2**16+this[++A]*2**8+this[++A];return(BigInt(rt)<<BigInt(32))+BigInt(this[++A]*2**24+this[++A]*2**16+this[++A]*2**8+V)}),d.prototype.readFloatLE=function(A,T){return A=A>>>0,T||m(A,4,this.length),n.read(this,A,!0,23,4)},d.prototype.readFloatBE=function(A,T){return A=A>>>0,T||m(A,4,this.length),n.read(this,A,!1,23,4)},d.prototype.readDoubleLE=function(A,T){return A=A>>>0,T||m(A,8,this.length),n.read(this,A,!0,52,8)},d.prototype.readDoubleBE=function(A,T){return A=A>>>0,T||m(A,8,this.length),n.read(this,A,!1,52,8)};function f(H,A,T,V,rt,ut){if(!d.isBuffer(H))throw new TypeError('"buffer" argument must be a Buffer instance');if(A>rt||A<ut)throw new RangeError('"value" argument is out of bounds');if(T+V>H.length)throw new RangeError("Index out of range")}d.prototype.writeUintLE=d.prototype.writeUIntLE=function(A,T,V,rt){if(A=+A,T=T>>>0,V=V>>>0,!rt){const Dt=Math.pow(2,8*V)-1;f(this,A,T,V,Dt,0)}let ut=1,mt=0;for(this[T]=A&255;++mt<V&&(ut*=256);)this[T+mt]=A/ut&255;return T+V},d.prototype.writeUintBE=d.prototype.writeUIntBE=function(A,T,V,rt){if(A=+A,T=T>>>0,V=V>>>0,!rt){const Dt=Math.pow(2,8*V)-1;f(this,A,T,V,Dt,0)}let ut=V-1,mt=1;for(this[T+ut]=A&255;--ut>=0&&(mt*=256);)this[T+ut]=A/mt&255;return T+V},d.prototype.writeUint8=d.prototype.writeUInt8=function(A,T,V){return A=+A,T=T>>>0,V||f(this,A,T,1,255,0),this[T]=A&255,T+1},d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(A,T,V){return A=+A,T=T>>>0,V||f(this,A,T,2,65535,0),this[T]=A&255,this[T+1]=A>>>8,T+2},d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(A,T,V){return A=+A,T=T>>>0,V||f(this,A,T,2,65535,0),this[T]=A>>>8,this[T+1]=A&255,T+2},d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(A,T,V){return A=+A,T=T>>>0,V||f(this,A,T,4,4294967295,0),this[T+3]=A>>>24,this[T+2]=A>>>16,this[T+1]=A>>>8,this[T]=A&255,T+4},d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(A,T,V){return A=+A,T=T>>>0,V||f(this,A,T,4,4294967295,0),this[T]=A>>>24,this[T+1]=A>>>16,this[T+2]=A>>>8,this[T+3]=A&255,T+4};function b(H,A,T,V,rt){ce(A,V,rt,H,T,7);let ut=Number(A&BigInt(4294967295));H[T++]=ut,ut=ut>>8,H[T++]=ut,ut=ut>>8,H[T++]=ut,ut=ut>>8,H[T++]=ut;let mt=Number(A>>BigInt(32)&BigInt(4294967295));return H[T++]=mt,mt=mt>>8,H[T++]=mt,mt=mt>>8,H[T++]=mt,mt=mt>>8,H[T++]=mt,T}function x(H,A,T,V,rt){ce(A,V,rt,H,T,7);let ut=Number(A&BigInt(4294967295));H[T+7]=ut,ut=ut>>8,H[T+6]=ut,ut=ut>>8,H[T+5]=ut,ut=ut>>8,H[T+4]=ut;let mt=Number(A>>BigInt(32)&BigInt(4294967295));return H[T+3]=mt,mt=mt>>8,H[T+2]=mt,mt=mt>>8,H[T+1]=mt,mt=mt>>8,H[T]=mt,T+8}d.prototype.writeBigUInt64LE=Cn(function(A,T=0){return b(this,A,T,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeBigUInt64BE=Cn(function(A,T=0){return x(this,A,T,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeIntLE=function(A,T,V,rt){if(A=+A,T=T>>>0,!rt){const Ht=Math.pow(2,8*V-1);f(this,A,T,V,Ht-1,-Ht)}let ut=0,mt=1,Dt=0;for(this[T]=A&255;++ut<V&&(mt*=256);)A<0&&Dt===0&&this[T+ut-1]!==0&&(Dt=1),this[T+ut]=(A/mt>>0)-Dt&255;return T+V},d.prototype.writeIntBE=function(A,T,V,rt){if(A=+A,T=T>>>0,!rt){const Ht=Math.pow(2,8*V-1);f(this,A,T,V,Ht-1,-Ht)}let ut=V-1,mt=1,Dt=0;for(this[T+ut]=A&255;--ut>=0&&(mt*=256);)A<0&&Dt===0&&this[T+ut+1]!==0&&(Dt=1),this[T+ut]=(A/mt>>0)-Dt&255;return T+V},d.prototype.writeInt8=function(A,T,V){return A=+A,T=T>>>0,V||f(this,A,T,1,127,-128),A<0&&(A=255+A+1),this[T]=A&255,T+1},d.prototype.writeInt16LE=function(A,T,V){return A=+A,T=T>>>0,V||f(this,A,T,2,32767,-32768),this[T]=A&255,this[T+1]=A>>>8,T+2},d.prototype.writeInt16BE=function(A,T,V){return A=+A,T=T>>>0,V||f(this,A,T,2,32767,-32768),this[T]=A>>>8,this[T+1]=A&255,T+2},d.prototype.writeInt32LE=function(A,T,V){return A=+A,T=T>>>0,V||f(this,A,T,4,2147483647,-2147483648),this[T]=A&255,this[T+1]=A>>>8,this[T+2]=A>>>16,this[T+3]=A>>>24,T+4},d.prototype.writeInt32BE=function(A,T,V){return A=+A,T=T>>>0,V||f(this,A,T,4,2147483647,-2147483648),A<0&&(A=4294967295+A+1),this[T]=A>>>24,this[T+1]=A>>>16,this[T+2]=A>>>8,this[T+3]=A&255,T+4},d.prototype.writeBigInt64LE=Cn(function(A,T=0){return b(this,A,T,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),d.prototype.writeBigInt64BE=Cn(function(A,T=0){return x(this,A,T,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function z(H,A,T,V,rt,ut){if(T+V>H.length)throw new RangeError("Index out of range");if(T<0)throw new RangeError("Index out of range")}function Z(H,A,T,V,rt){return A=+A,T=T>>>0,rt||z(H,A,T,4),n.write(H,A,T,V,23,4),T+4}d.prototype.writeFloatLE=function(A,T,V){return Z(this,A,T,!0,V)},d.prototype.writeFloatBE=function(A,T,V){return Z(this,A,T,!1,V)};function nt(H,A,T,V,rt){return A=+A,T=T>>>0,rt||z(H,A,T,8),n.write(H,A,T,V,52,8),T+8}d.prototype.writeDoubleLE=function(A,T,V){return nt(this,A,T,!0,V)},d.prototype.writeDoubleBE=function(A,T,V){return nt(this,A,T,!1,V)},d.prototype.copy=function(A,T,V,rt){if(!d.isBuffer(A))throw new TypeError("argument should be a Buffer");if(V||(V=0),!rt&&rt!==0&&(rt=this.length),T>=A.length&&(T=A.length),T||(T=0),rt>0&&rt<V&&(rt=V),rt===V||A.length===0||this.length===0)return 0;if(T<0)throw new RangeError("targetStart out of bounds");if(V<0||V>=this.length)throw new RangeError("Index out of range");if(rt<0)throw new RangeError("sourceEnd out of bounds");rt>this.length&&(rt=this.length),A.length-T<rt-V&&(rt=A.length-T+V);const ut=rt-V;return this===A&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(T,V,rt):Uint8Array.prototype.set.call(A,this.subarray(V,rt),T),ut},d.prototype.fill=function(A,T,V,rt){if(typeof A=="string"){if(typeof T=="string"?(rt=T,T=0,V=this.length):typeof V=="string"&&(rt=V,V=this.length),rt!==void 0&&typeof rt!="string")throw new TypeError("encoding must be a string");if(typeof rt=="string"&&!d.isEncoding(rt))throw new TypeError("Unknown encoding: "+rt);if(A.length===1){const mt=A.charCodeAt(0);(rt==="utf8"&&mt<128||rt==="latin1")&&(A=mt)}}else typeof A=="number"?A=A&255:typeof A=="boolean"&&(A=Number(A));if(T<0||this.length<T||this.length<V)throw new RangeError("Out of range index");if(V<=T)return this;T=T>>>0,V=V===void 0?this.length:V>>>0,A||(A=0);let ut;if(typeof A=="number")for(ut=T;ut<V;++ut)this[ut]=A;else{const mt=d.isBuffer(A)?A:d.from(A,rt),Dt=mt.length;if(Dt===0)throw new TypeError('The value "'+A+'" is invalid for argument "value"');for(ut=0;ut<V-T;++ut)this[ut+T]=mt[ut%Dt]}return this};const vt={};function Et(H,A,T){vt[H]=class extends T{constructor(){super(),Object.defineProperty(this,"message",{value:A.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${H}]`,this.stack,delete this.name}get code(){return H}set code(rt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:rt,writable:!0})}toString(){return`${this.name} [${H}]: ${this.message}`}}}Et("ERR_BUFFER_OUT_OF_BOUNDS",function(H){return H?`${H} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Et("ERR_INVALID_ARG_TYPE",function(H,A){return`The "${H}" argument must be of type number. Received type ${typeof A}`},TypeError),Et("ERR_OUT_OF_RANGE",function(H,A,T){let V=`The value of "${H}" is out of range.`,rt=T;return Number.isInteger(T)&&Math.abs(T)>2**32?rt=Pt(String(T)):typeof T=="bigint"&&(rt=String(T),(T>BigInt(2)**BigInt(32)||T<-(BigInt(2)**BigInt(32)))&&(rt=Pt(rt)),rt+="n"),V+=` It must be ${A}. Received ${rt}`,V},RangeError);function Pt(H){let A="",T=H.length;const V=H[0]==="-"?1:0;for(;T>=V+4;T-=3)A=`_${H.slice(T-3,T)}${A}`;return`${H.slice(0,T)}${A}`}function Gt(H,A,T){We(A,"offset"),(H[A]===void 0||H[A+T]===void 0)&&Wt(A,H.length-(T+1))}function ce(H,A,T,V,rt,ut){if(H>T||H<A){const mt=typeof A=="bigint"?"n":"";let Dt;throw A===0||A===BigInt(0)?Dt=`>= 0${mt} and < 2${mt} ** ${(ut+1)*8}${mt}`:Dt=`>= -(2${mt} ** ${(ut+1)*8-1}${mt}) and < 2 ** ${(ut+1)*8-1}${mt}`,new vt.ERR_OUT_OF_RANGE("value",Dt,H)}Gt(V,rt,ut)}function We(H,A){if(typeof H!="number")throw new vt.ERR_INVALID_ARG_TYPE(A,"number",H)}function Wt(H,A,T){throw Math.floor(H)!==H?(We(H,T),new vt.ERR_OUT_OF_RANGE("offset","an integer",H)):A<0?new vt.ERR_BUFFER_OUT_OF_BOUNDS:new vt.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${A}`,H)}const Zt=/[^+/0-9A-Za-z-_]/g;function kn(H){if(H=H.split("=")[0],H=H.trim().replace(Zt,""),H.length<2)return"";for(;H.length%4!==0;)H=H+"=";return H}function Se(H,A){A=A||1/0;let T;const V=H.length;let rt=null;const ut=[];for(let mt=0;mt<V;++mt){if(T=H.charCodeAt(mt),T>55295&&T<57344){if(!rt){if(T>56319){(A-=3)>-1&&ut.push(239,191,189);continue}else if(mt+1===V){(A-=3)>-1&&ut.push(239,191,189);continue}rt=T;continue}if(T<56320){(A-=3)>-1&&ut.push(239,191,189),rt=T;continue}T=(rt-55296<<10|T-56320)+65536}else rt&&(A-=3)>-1&&ut.push(239,191,189);if(rt=null,T<128){if((A-=1)<0)break;ut.push(T)}else if(T<2048){if((A-=2)<0)break;ut.push(T>>6|192,T&63|128)}else if(T<65536){if((A-=3)<0)break;ut.push(T>>12|224,T>>6&63|128,T&63|128)}else if(T<1114112){if((A-=4)<0)break;ut.push(T>>18|240,T>>12&63|128,T>>6&63|128,T&63|128)}else throw new Error("Invalid code point")}return ut}function Qt(H){const A=[];for(let T=0;T<H.length;++T)A.push(H.charCodeAt(T)&255);return A}function vn(H,A){let T,V,rt;const ut=[];for(let mt=0;mt<H.length&&!((A-=2)<0);++mt)T=H.charCodeAt(mt),V=T>>8,rt=T%256,ut.push(rt),ut.push(V);return ut}function de(H){return e.toByteArray(kn(H))}function ie(H,A,T,V){let rt;for(rt=0;rt<V&&!(rt+T>=A.length||rt>=H.length);++rt)A[rt+T]=H[rt];return rt}function En(H,A){return H instanceof A||H!=null&&H.constructor!=null&&H.constructor.name!=null&&H.constructor.name===A.name}function xe(H){return H!==H}const te=(function(){const H="0123456789abcdef",A=new Array(256);for(let T=0;T<16;++T){const V=T*16;for(let rt=0;rt<16;++rt)A[V+rt]=H[T]+H[rt]}return A})();function Cn(H){return typeof BigInt>"u"?Be:H}function Be(){throw new Error("BigInt not supported")}})(lh)),lh}var Ct=I0(),fh={exports:{}},fg;function JA(){if(fg)return fh.exports;fg=1;var s=fh.exports={},e,n;function i(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=i}catch{e=i}try{typeof clearTimeout=="function"?n=clearTimeout:n=u}catch{n=u}})();function o(U){if(e===setTimeout)return setTimeout(U,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(U,0);try{return e(U,0)}catch{try{return e.call(null,U,0)}catch{return e.call(this,U,0)}}}function l(U){if(n===clearTimeout)return clearTimeout(U);if((n===u||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(U);try{return n(U)}catch{try{return n.call(null,U)}catch{return n.call(this,U)}}}var d=[],y=!1,_,E=-1;function C(){!y||!_||(y=!1,_.length?d=_.concat(d):E=-1,d.length&&k())}function k(){if(!y){var U=o(C);y=!0;for(var L=d.length;L;){for(_=d,d=[];++E<L;)_&&_[E].run();E=-1,L=d.length}_=null,y=!1,l(U)}}s.nextTick=function(U){var L=new Array(arguments.length-1);if(arguments.length>1)for(var j=1;j<arguments.length;j++)L[j-1]=arguments[j];d.push(new R(U,L)),d.length===1&&!y&&o(k)};function R(U,L){this.fun=U,this.array=L}R.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={};function M(){}return s.on=M,s.addListener=M,s.once=M,s.off=M,s.removeListener=M,s.removeAllListeners=M,s.emit=M,s.prependListener=M,s.prependOnceListener=M,s.listeners=function(U){return[]},s.binding=function(U){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(U){throw new Error("process.chdir is not supported")},s.umask=function(){return 0},fh.exports}var tR=JA();const eR=xi(tR);globalThis.Buffer||(globalThis.Buffer=Ct.Buffer);globalThis.process||(globalThis.process=eR);var dh={exports:{}},Kt={};var dg;function nR(){if(dg)return Kt;dg=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),k=Symbol.iterator;function R(m){return m===null||typeof m!="object"?null:(m=k&&m[k]||m["@@iterator"],typeof m=="function"?m:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,L={};function j(m,f,b){this.props=m,this.context=f,this.refs=L,this.updater=b||M}j.prototype.isReactComponent={},j.prototype.setState=function(m,f){if(typeof m!="object"&&typeof m!="function"&&m!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,m,f,"setState")},j.prototype.forceUpdate=function(m){this.updater.enqueueForceUpdate(this,m,"forceUpdate")};function G(){}G.prototype=j.prototype;function P(m,f,b){this.props=m,this.context=f,this.refs=L,this.updater=b||M}var $=P.prototype=new G;$.constructor=P,U($,j.prototype),$.isPureReactComponent=!0;var et=Array.isArray;function it(){}var st={H:null,A:null,T:null,S:null},ot=Object.prototype.hasOwnProperty;function K(m,f,b){var x=b.ref;return{$$typeof:s,type:m,key:f,ref:x!==void 0?x:null,props:b}}function Y(m,f){return K(m.type,f,m.props)}function F(m){return typeof m=="object"&&m!==null&&m.$$typeof===s}function X(m){var f={"=":"=0",":":"=2"};return"$"+m.replace(/[=:]/g,function(b){return f[b]})}var O=/\/+/g;function h(m,f){return typeof m=="object"&&m!==null&&m.key!=null?X(""+m.key):f.toString(36)}function w(m){switch(m.status){case"fulfilled":return m.value;case"rejected":throw m.reason;default:switch(typeof m.status=="string"?m.then(it,it):(m.status="pending",m.then(function(f){m.status==="pending"&&(m.status="fulfilled",m.value=f)},function(f){m.status==="pending"&&(m.status="rejected",m.reason=f)})),m.status){case"fulfilled":return m.value;case"rejected":throw m.reason}}throw m}function S(m,f,b,x,z){var Z=typeof m;(Z==="undefined"||Z==="boolean")&&(m=null);var nt=!1;if(m===null)nt=!0;else switch(Z){case"bigint":case"string":case"number":nt=!0;break;case"object":switch(m.$$typeof){case s:case e:nt=!0;break;case E:return nt=m._init,S(nt(m._payload),f,b,x,z)}}if(nt)return z=z(m),nt=x===""?"."+h(m,0):x,et(z)?(b="",nt!=null&&(b=nt.replace(O,"$&/")+"/"),S(z,f,b,"",function(Pt){return Pt})):z!=null&&(F(z)&&(z=Y(z,b+(z.key==null||m&&m.key===z.key?"":(""+z.key).replace(O,"$&/")+"/")+nt)),f.push(z)),1;nt=0;var vt=x===""?".":x+":";if(et(m))for(var Et=0;Et<m.length;Et++)x=m[Et],Z=vt+h(x,Et),nt+=S(x,f,b,Z,z);else if(Et=R(m),typeof Et=="function")for(m=Et.call(m),Et=0;!(x=m.next()).done;)x=x.value,Z=vt+h(x,Et++),nt+=S(x,f,b,Z,z);else if(Z==="object"){if(typeof m.then=="function")return S(w(m),f,b,x,z);throw f=String(m),Error("Objects are not valid as a React child (found: "+(f==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":f)+"). If you meant to render a collection of children, use an array instead.")}return nt}function B(m,f,b){if(m==null)return m;var x=[],z=0;return S(m,x,"","",function(Z){return f.call(b,Z,z++)}),x}function D(m){if(m._status===-1){var f=m._result;f=f(),f.then(function(b){(m._status===0||m._status===-1)&&(m._status=1,m._result=b)},function(b){(m._status===0||m._status===-1)&&(m._status=2,m._result=b)}),m._status===-1&&(m._status=0,m._result=f)}if(m._status===1)return m._result.default;throw m._result}var I=typeof reportError=="function"?reportError:function(m){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof m=="object"&&m!==null&&typeof m.message=="string"?String(m.message):String(m),error:m});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",m);return}console.error(m)},v={map:B,forEach:function(m,f,b){B(m,function(){f.apply(this,arguments)},b)},count:function(m){var f=0;return B(m,function(){f++}),f},toArray:function(m){return B(m,function(f){return f})||[]},only:function(m){if(!F(m))throw Error("React.Children.only expected to receive a single React element child.");return m}};return Kt.Activity=C,Kt.Children=v,Kt.Component=j,Kt.Fragment=n,Kt.Profiler=u,Kt.PureComponent=P,Kt.StrictMode=i,Kt.Suspense=y,Kt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=st,Kt.__COMPILER_RUNTIME={__proto__:null,c:function(m){return st.H.useMemoCache(m)}},Kt.cache=function(m){return function(){return m.apply(null,arguments)}},Kt.cacheSignal=function(){return null},Kt.cloneElement=function(m,f,b){if(m==null)throw Error("The argument must be a React element, but you passed "+m+".");var x=U({},m.props),z=m.key;if(f!=null)for(Z in f.key!==void 0&&(z=""+f.key),f)!ot.call(f,Z)||Z==="key"||Z==="__self"||Z==="__source"||Z==="ref"&&f.ref===void 0||(x[Z]=f[Z]);var Z=arguments.length-2;if(Z===1)x.children=b;else if(1<Z){for(var nt=Array(Z),vt=0;vt<Z;vt++)nt[vt]=arguments[vt+2];x.children=nt}return K(m.type,z,x)},Kt.createContext=function(m){return m={$$typeof:l,_currentValue:m,_currentValue2:m,_threadCount:0,Provider:null,Consumer:null},m.Provider=m,m.Consumer={$$typeof:o,_context:m},m},Kt.createElement=function(m,f,b){var x,z={},Z=null;if(f!=null)for(x in f.key!==void 0&&(Z=""+f.key),f)ot.call(f,x)&&x!=="key"&&x!=="__self"&&x!=="__source"&&(z[x]=f[x]);var nt=arguments.length-2;if(nt===1)z.children=b;else if(1<nt){for(var vt=Array(nt),Et=0;Et<nt;Et++)vt[Et]=arguments[Et+2];z.children=vt}if(m&&m.defaultProps)for(x in nt=m.defaultProps,nt)z[x]===void 0&&(z[x]=nt[x]);return K(m,Z,z)},Kt.createRef=function(){return{current:null}},Kt.forwardRef=function(m){return{$$typeof:d,render:m}},Kt.isValidElement=F,Kt.lazy=function(m){return{$$typeof:E,_payload:{_status:-1,_result:m},_init:D}},Kt.memo=function(m,f){return{$$typeof:_,type:m,compare:f===void 0?null:f}},Kt.startTransition=function(m){var f=st.T,b={};st.T=b;try{var x=m(),z=st.S;z!==null&&z(b,x),typeof x=="object"&&x!==null&&typeof x.then=="function"&&x.then(it,I)}catch(Z){I(Z)}finally{f!==null&&b.types!==null&&(f.types=b.types),st.T=f}},Kt.unstable_useCacheRefresh=function(){return st.H.useCacheRefresh()},Kt.use=function(m){return st.H.use(m)},Kt.useActionState=function(m,f,b){return st.H.useActionState(m,f,b)},Kt.useCallback=function(m,f){return st.H.useCallback(m,f)},Kt.useContext=function(m){return st.H.useContext(m)},Kt.useDebugValue=function(){},Kt.useDeferredValue=function(m,f){return st.H.useDeferredValue(m,f)},Kt.useEffect=function(m,f){return st.H.useEffect(m,f)},Kt.useEffectEvent=function(m){return st.H.useEffectEvent(m)},Kt.useId=function(){return st.H.useId()},Kt.useImperativeHandle=function(m,f,b){return st.H.useImperativeHandle(m,f,b)},Kt.useInsertionEffect=function(m,f){return st.H.useInsertionEffect(m,f)},Kt.useLayoutEffect=function(m,f){return st.H.useLayoutEffect(m,f)},Kt.useMemo=function(m,f){return st.H.useMemo(m,f)},Kt.useOptimistic=function(m,f){return st.H.useOptimistic(m,f)},Kt.useReducer=function(m,f,b){return st.H.useReducer(m,f,b)},Kt.useRef=function(m){return st.H.useRef(m)},Kt.useState=function(m){return st.H.useState(m)},Kt.useSyncExternalStore=function(m,f,b){return st.H.useSyncExternalStore(m,f,b)},Kt.useTransition=function(){return st.H.useTransition()},Kt.version="19.2.3",Kt}var hg;function B0(){return hg||(hg=1,dh.exports=nR()),dh.exports}var Nt=B0();const rR=xi(Nt);var hh={exports:{}},iu={},ph={exports:{}},mh={};var pg;function iR(){return pg||(pg=1,(function(s){function e(S,B){var D=S.length;S.push(B);t:for(;0<D;){var I=D-1>>>1,v=S[I];if(0<u(v,B))S[I]=B,S[D]=v,D=I;else break t}}function n(S){return S.length===0?null:S[0]}function i(S){if(S.length===0)return null;var B=S[0],D=S.pop();if(D!==B){S[0]=D;t:for(var I=0,v=S.length,m=v>>>1;I<m;){var f=2*(I+1)-1,b=S[f],x=f+1,z=S[x];if(0>u(b,D))x<v&&0>u(z,b)?(S[I]=z,S[x]=D,I=x):(S[I]=b,S[f]=D,I=f);else if(x<v&&0>u(z,D))S[I]=z,S[x]=D,I=x;else break t}}return B}function u(S,B){var D=S.sortIndex-B.sortIndex;return D!==0?D:S.id-B.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;s.unstable_now=function(){return o.now()}}else{var l=Date,d=l.now();s.unstable_now=function(){return l.now()-d}}var y=[],_=[],E=1,C=null,k=3,R=!1,M=!1,U=!1,L=!1,j=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function $(S){for(var B=n(_);B!==null;){if(B.callback===null)i(_);else if(B.startTime<=S)i(_),B.sortIndex=B.expirationTime,e(y,B);else break;B=n(_)}}function et(S){if(U=!1,$(S),!M)if(n(y)!==null)M=!0,it||(it=!0,X());else{var B=n(_);B!==null&&w(et,B.startTime-S)}}var it=!1,st=-1,ot=5,K=-1;function Y(){return L?!0:!(s.unstable_now()-K<ot)}function F(){if(L=!1,it){var S=s.unstable_now();K=S;var B=!0;try{t:{M=!1,U&&(U=!1,G(st),st=-1),R=!0;var D=k;try{e:{for($(S),C=n(y);C!==null&&!(C.expirationTime>S&&Y());){var I=C.callback;if(typeof I=="function"){C.callback=null,k=C.priorityLevel;var v=I(C.expirationTime<=S);if(S=s.unstable_now(),typeof v=="function"){C.callback=v,$(S),B=!0;break e}C===n(y)&&i(y),$(S)}else i(y);C=n(y)}if(C!==null)B=!0;else{var m=n(_);m!==null&&w(et,m.startTime-S),B=!1}}break t}finally{C=null,k=D,R=!1}B=void 0}}finally{B?X():it=!1}}}var X;if(typeof P=="function")X=function(){P(F)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,h=O.port2;O.port1.onmessage=F,X=function(){h.postMessage(null)}}else X=function(){j(F,0)};function w(S,B){st=j(function(){S(s.unstable_now())},B)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(S){S.callback=null},s.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ot=0<S?Math.floor(1e3/S):5},s.unstable_getCurrentPriorityLevel=function(){return k},s.unstable_next=function(S){switch(k){case 1:case 2:case 3:var B=3;break;default:B=k}var D=k;k=B;try{return S()}finally{k=D}},s.unstable_requestPaint=function(){L=!0},s.unstable_runWithPriority=function(S,B){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var D=k;k=S;try{return B()}finally{k=D}},s.unstable_scheduleCallback=function(S,B,D){var I=s.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?I+D:I):D=I,S){case 1:var v=-1;break;case 2:v=250;break;case 5:v=1073741823;break;case 4:v=1e4;break;default:v=5e3}return v=D+v,S={id:E++,callback:B,priorityLevel:S,startTime:D,expirationTime:v,sortIndex:-1},D>I?(S.sortIndex=D,e(_,S),n(y)===null&&S===n(_)&&(U?(G(st),st=-1):U=!0,w(et,D-I))):(S.sortIndex=v,e(y,S),M||R||(M=!0,it||(it=!0,X()))),S},s.unstable_shouldYield=Y,s.unstable_wrapCallback=function(S){var B=k;return function(){var D=k;k=B;try{return S.apply(this,arguments)}finally{k=D}}}})(mh)),mh}var mg;function sR(){return mg||(mg=1,ph.exports=iR()),ph.exports}var yh={exports:{}},In={};var yg;function aR(){if(yg)return In;yg=1;var s=B0();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)_+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},u=Symbol.for("react.portal");function o(y,_,E){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:C==null?null:""+C,children:y,containerInfo:_,implementation:E}}var l=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return In.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,In.createPortal=function(y,_){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return o(y,_,null,E)},In.flushSync=function(y){var _=l.T,E=i.p;try{if(l.T=null,i.p=2,y)return y()}finally{l.T=_,i.p=E,i.d.f()}},In.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,i.d.C(y,_))},In.prefetchDNS=function(y){typeof y=="string"&&i.d.D(y)},In.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var E=_.as,C=d(E,_.crossOrigin),k=typeof _.integrity=="string"?_.integrity:void 0,R=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;E==="style"?i.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:C,integrity:k,fetchPriority:R}):E==="script"&&i.d.X(y,{crossOrigin:C,integrity:k,fetchPriority:R,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},In.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var E=d(_.as,_.crossOrigin);i.d.M(y,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&i.d.M(y)},In.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var E=_.as,C=d(E,_.crossOrigin);i.d.L(y,E,{crossOrigin:C,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},In.preloadModule=function(y,_){if(typeof y=="string")if(_){var E=d(_.as,_.crossOrigin);i.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else i.d.m(y)},In.requestFormReset=function(y){i.d.r(y)},In.unstable_batchedUpdates=function(y,_){return y(_)},In.useFormState=function(y,_,E){return l.H.useFormState(y,_,E)},In.useFormStatus=function(){return l.H.useHostTransitionStatus()},In.version="19.2.3",In}var gg;function oR(){if(gg)return yh.exports;gg=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),yh.exports=aR(),yh.exports}var bg;function uR(){if(bg)return iu;bg=1;var s=sR(),e=B0(),n=oR();function i(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function o(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function l(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function d(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function y(t){if(o(t)!==t)throw Error(i(188))}function _(t){var r=t.alternate;if(!r){if(r=o(t),r===null)throw Error(i(188));return r!==t?null:t}for(var a=t,c=r;;){var p=a.return;if(p===null)break;var g=p.alternate;if(g===null){if(c=p.return,c!==null){a=c;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===a)return y(p),t;if(g===c)return y(p),r;g=g.sibling}throw Error(i(188))}if(a.return!==c.return)a=p,c=g;else{for(var N=!1,q=p.child;q;){if(q===a){N=!0,a=p,c=g;break}if(q===c){N=!0,c=p,a=g;break}q=q.sibling}if(!N){for(q=g.child;q;){if(q===a){N=!0,a=g,c=p;break}if(q===c){N=!0,c=g,a=p;break}q=q.sibling}if(!N)throw Error(i(189))}}if(a.alternate!==c)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?t:r}function E(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=E(t),r!==null)return r;t=t.sibling}return null}var C=Object.assign,k=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),P=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),et=Symbol.for("react.suspense"),it=Symbol.for("react.suspense_list"),st=Symbol.for("react.memo"),ot=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),Y=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function X(t){return t===null||typeof t!="object"?null:(t=F&&t[F]||t["@@iterator"],typeof t=="function"?t:null)}var O=Symbol.for("react.client.reference");function h(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===O?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case U:return"Fragment";case j:return"Profiler";case L:return"StrictMode";case et:return"Suspense";case it:return"SuspenseList";case K:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case M:return"Portal";case P:return t.displayName||"Context";case G:return(t._context.displayName||"Context")+".Consumer";case $:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case st:return r=t.displayName||null,r!==null?r:h(t.type)||"Memo";case ot:r=t._payload,t=t._init;try{return h(t(r))}catch{}}return null}var w=Array.isArray,S=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D={pending:!1,data:null,method:null,action:null},I=[],v=-1;function m(t){return{current:t}}function f(t){0>v||(t.current=I[v],I[v]=null,v--)}function b(t,r){v++,I[v]=t.current,t.current=r}var x=m(null),z=m(null),Z=m(null),nt=m(null);function vt(t,r){switch(b(Z,r),b(z,t),b(x,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?N1(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=N1(r),t=k1(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}f(x),b(x,t)}function Et(){f(x),f(z),f(Z)}function Pt(t){t.memoizedState!==null&&b(nt,t);var r=x.current,a=k1(r,t.type);r!==a&&(b(z,t),b(x,a))}function Gt(t){z.current===t&&(f(x),f(z)),nt.current===t&&(f(nt),Qo._currentValue=D)}var ce,We;function Wt(t){if(ce===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);ce=r&&r[1]||"",We=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ce+t+We}var Zt=!1;function kn(t,r){if(!t||Zt)return"";Zt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var _t=function(){throw Error()};if(Object.defineProperty(_t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_t,[])}catch(yt){var ht=yt}Reflect.construct(t,[],_t)}else{try{_t.call()}catch(yt){ht=yt}t.call(_t.prototype)}}else{try{throw Error()}catch(yt){ht=yt}(_t=t())&&typeof _t.catch=="function"&&_t.catch(function(){})}}catch(yt){if(yt&&ht&&typeof yt.stack=="string")return[yt.stack,ht.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),N=g[0],q=g[1];if(N&&q){var Q=N.split(`
`),ft=q.split(`
`);for(p=c=0;c<Q.length&&!Q[c].includes("DetermineComponentFrameRoot");)c++;for(;p<ft.length&&!ft[p].includes("DetermineComponentFrameRoot");)p++;if(c===Q.length||p===ft.length)for(c=Q.length-1,p=ft.length-1;1<=c&&0<=p&&Q[c]!==ft[p];)p--;for(;1<=c&&0<=p;c--,p--)if(Q[c]!==ft[p]){if(c!==1||p!==1)do if(c--,p--,0>p||Q[c]!==ft[p]){var gt=`
`+Q[c].replace(" at new "," at ");return t.displayName&&gt.includes("<anonymous>")&&(gt=gt.replace("<anonymous>",t.displayName)),gt}while(1<=c&&0<=p);break}}}finally{Zt=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Wt(a):""}function Se(t,r){switch(t.tag){case 26:case 27:case 5:return Wt(t.type);case 16:return Wt("Lazy");case 13:return t.child!==r&&r!==null?Wt("Suspense Fallback"):Wt("Suspense");case 19:return Wt("SuspenseList");case 0:case 15:return kn(t.type,!1);case 11:return kn(t.type.render,!1);case 1:return kn(t.type,!0);case 31:return Wt("Activity");default:return""}}function Qt(t){try{var r="",a=null;do r+=Se(t,a),a=t,t=t.return;while(t);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var vn=Object.prototype.hasOwnProperty,de=s.unstable_scheduleCallback,ie=s.unstable_cancelCallback,En=s.unstable_shouldYield,xe=s.unstable_requestPaint,te=s.unstable_now,Cn=s.unstable_getCurrentPriorityLevel,Be=s.unstable_ImmediatePriority,H=s.unstable_UserBlockingPriority,A=s.unstable_NormalPriority,T=s.unstable_LowPriority,V=s.unstable_IdlePriority,rt=s.log,ut=s.unstable_setDisableYieldValue,mt=null,Dt=null;function Ht(t){if(typeof rt=="function"&&ut(t),Dt&&typeof Dt.setStrictMode=="function")try{Dt.setStrictMode(mt,t)}catch{}}var Mt=Math.clz32?Math.clz32:Qe,Oe=Math.log,jt=Math.LN2;function Qe(t){return t>>>=0,t===0?32:31-(Oe(t)/jt|0)|0}var ys=256,Me=262144,Ue=4194304;function Nr(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Le(t,r,a){var c=t.pendingLanes;if(c===0)return 0;var p=0,g=t.suspendedLanes,N=t.pingedLanes;t=t.warmLanes;var q=c&134217727;return q!==0?(c=q&~g,c!==0?p=Nr(c):(N&=q,N!==0?p=Nr(N):a||(a=q&~t,a!==0&&(p=Nr(a))))):(q=c&~g,q!==0?p=Nr(q):N!==0?p=Nr(N):a||(a=c&~t,a!==0&&(p=Nr(a)))),p===0?0:r!==0&&r!==p&&(r&g)===0&&(g=p&-p,a=r&-r,g>=a||g===32&&(a&4194048)!==0)?r:p}function ke(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Iu(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ve(){var t=Ue;return Ue<<=1,(Ue&62914560)===0&&(Ue=4194304),t}function He(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Oi(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Je(t,r,a,c,p,g){var N=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var q=t.entanglements,Q=t.expirationTimes,ft=t.hiddenUpdates;for(a=N&~a;0<a;){var gt=31-Mt(a),_t=1<<gt;q[gt]=0,Q[gt]=-1;var ht=ft[gt];if(ht!==null)for(ft[gt]=null,gt=0;gt<ht.length;gt++){var yt=ht[gt];yt!==null&&(yt.lane&=-536870913)}a&=~_t}c!==0&&Ge(t,c,0),g!==0&&p===0&&t.tag!==0&&(t.suspendedLanes|=g&~(N&~r))}function Ge(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var c=31-Mt(r);t.entangledLanes|=r,t.entanglements[c]=t.entanglements[c]|1073741824|a&261930}function lo(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var c=31-Mt(a),p=1<<c;p&r|t[c]&r&&(t[c]|=r),a&=~p}}function Ye(t,r){var a=r&-r;return a=(a&42)!==0?1:qe(a),(a&(t.suspendedLanes|r))!==0?0:a}function qe(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ta(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Fe(){var t=B.p;return t!==0?t:(t=window.event,t===void 0?32:J1(t.type))}function Ze(t,r){var a=B.p;try{return B.p=t,r()}finally{B.p=a}}var vr=Math.random().toString(36).slice(2),Jt="__reactFiber$"+vr,oe="__reactProps$"+vr,Zr="__reactContainer$"+vr,je="__reactEvents$"+vr,tn="__reactListeners$"+vr,fo="__reactHandles$"+vr,ea="__reactResources$"+vr,Xr="__reactMarker$"+vr;function gs(t){delete t[Jt],delete t[oe],delete t[je],delete t[tn],delete t[fo]}function kr(t){var r=t[Jt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Zr]||a[Jt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=D1(t);t!==null;){if(a=t[Jt])return a;t=D1(t)}return r}t=a,a=t.parentNode}return null}function Cr(t){if(t=t[Jt]||t[Zr]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function $r(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(i(33))}function Ir(t){var r=t[ea];return r||(r=t[ea]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function en(t){t[Xr]=!0}var na=new Set,ra={};function Er(t,r){Br(t,r),Br(t+"Capture",r)}function Br(t,r){for(ra[t]=r,t=0;t<r.length;t++)na.add(r[t])}var ho=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ia={},sa={};function po(t){return vn.call(sa,t)?!0:vn.call(ia,t)?!1:ho.test(t)?sa[t]=!0:(ia[t]=!0,!1)}function Ni(t,r,a){if(po(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function ki(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Wr(t,r,a,c){if(c===null)t.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+c)}}function ur(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vp(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function PE(t,r,a){var c=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,g=c.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return p.call(this)},set:function(N){a=""+N,g.call(this,N)}}),Object.defineProperty(t,r,{enumerable:c.enumerable}),{getValue:function(){return a},setValue:function(N){a=""+N},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function ef(t){if(!t._valueTracker){var r=vp(t)?"checked":"value";t._valueTracker=PE(t,r,""+t[r])}}function Ep(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),c="";return t&&(c=vp(t)?t.checked?"true":"false":t.value),t=c,t!==a?(r.setValue(t),!0):!1}function Bu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var KE=/[\n"\\]/g;function cr(t){return t.replace(KE,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function nf(t,r,a,c,p,g,N,q){t.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?t.type=N:t.removeAttribute("type"),r!=null?N==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+ur(r)):t.value!==""+ur(r)&&(t.value=""+ur(r)):N!=="submit"&&N!=="reset"||t.removeAttribute("value"),r!=null?rf(t,N,ur(r)):a!=null?rf(t,N,ur(a)):c!=null&&t.removeAttribute("value"),p==null&&g!=null&&(t.defaultChecked=!!g),p!=null&&(t.checked=p&&typeof p!="function"&&typeof p!="symbol"),q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?t.name=""+ur(q):t.removeAttribute("name")}function Sp(t,r,a,c,p,g,N,q){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.type=g),r!=null||a!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){ef(t);return}a=a!=null?""+ur(a):"",r=r!=null?""+ur(r):a,q||r===t.value||(t.value=r),t.defaultValue=r}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=q?t.checked:!!c,t.defaultChecked=!!c,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(t.name=N),ef(t)}function rf(t,r,a){r==="number"&&Bu(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function aa(t,r,a,c){if(t=t.options,r){r={};for(var p=0;p<a.length;p++)r["$"+a[p]]=!0;for(a=0;a<t.length;a++)p=r.hasOwnProperty("$"+t[a].value),t[a].selected!==p&&(t[a].selected=p),p&&c&&(t[a].defaultSelected=!0)}else{for(a=""+ur(a),r=null,p=0;p<t.length;p++){if(t[p].value===a){t[p].selected=!0,c&&(t[p].defaultSelected=!0);return}r!==null||t[p].disabled||(r=t[p])}r!==null&&(r.selected=!0)}}function Ap(t,r,a){if(r!=null&&(r=""+ur(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+ur(a):""}function Rp(t,r,a,c){if(r==null){if(c!=null){if(a!=null)throw Error(i(92));if(w(c)){if(1<c.length)throw Error(i(93));c=c[0]}a=c}a==null&&(a=""),r=a}a=ur(r),t.defaultValue=a,c=t.textContent,c===a&&c!==""&&c!==null&&(t.value=c),ef(t)}function oa(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var VE=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tp(t,r,a){var c=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":c?t.setProperty(r,a):typeof a!="number"||a===0||VE.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function xp(t,r,a){if(r!=null&&typeof r!="object")throw Error(i(62));if(t=t.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var p in r)c=r[p],r.hasOwnProperty(p)&&a[p]!==c&&Tp(t,p,c)}else for(var g in r)r.hasOwnProperty(g)&&Tp(t,g,r[g])}function sf(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var GE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),YE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mu(t){return YE.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Qr(){}var af=null;function of(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ua=null,ca=null;function Op(t){var r=Cr(t);if(r&&(t=r.stateNode)){var a=t[oe]||null;t:switch(t=r.stateNode,r.type){case"input":if(nf(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+cr(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var c=a[r];if(c!==t&&c.form===t.form){var p=c[oe]||null;if(!p)throw Error(i(90));nf(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(r=0;r<a.length;r++)c=a[r],c.form===t.form&&Ep(c)}break t;case"textarea":Ap(t,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&aa(t,!!a.multiple,r,!1)}}}var uf=!1;function Np(t,r,a){if(uf)return t(r,a);uf=!0;try{var c=t(r);return c}finally{if(uf=!1,(ua!==null||ca!==null)&&(vc(),ua&&(r=ua,t=ca,ca=ua=null,Op(r),t)))for(r=0;r<t.length;r++)Op(t[r])}}function mo(t,r){var a=t.stateNode;if(a===null)return null;var c=a[oe]||null;if(c===null)return null;a=c[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(i(231,r,typeof a));return a}var Jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cf=!1;if(Jr)try{var yo={};Object.defineProperty(yo,"passive",{get:function(){cf=!0}}),window.addEventListener("test",yo,yo),window.removeEventListener("test",yo,yo)}catch{cf=!1}var Ci=null,lf=null,Uu=null;function kp(){if(Uu)return Uu;var t,r=lf,a=r.length,c,p="value"in Ci?Ci.value:Ci.textContent,g=p.length;for(t=0;t<a&&r[t]===p[t];t++);var N=a-t;for(c=1;c<=N&&r[a-c]===p[g-c];c++);return Uu=p.slice(t,1<c?1-c:void 0)}function Lu(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Du(){return!0}function Cp(){return!1}function jn(t){function r(a,c,p,g,N){this._reactName=a,this._targetInst=p,this.type=c,this.nativeEvent=g,this.target=N,this.currentTarget=null;for(var q in t)t.hasOwnProperty(q)&&(a=t[q],this[q]=a?a(g):g[q]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Du:Cp,this.isPropagationStopped=Cp,this}return C(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Du)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Du)},persist:function(){},isPersistent:Du}),r}var bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zu=jn(bs),go=C({},bs,{view:0,detail:0}),FE=jn(go),ff,df,bo,Hu=C({},go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bo&&(bo&&t.type==="mousemove"?(ff=t.screenX-bo.screenX,df=t.screenY-bo.screenY):df=ff=0,bo=t),ff)},movementY:function(t){return"movementY"in t?t.movementY:df}}),Ip=jn(Hu),ZE=C({},Hu,{dataTransfer:0}),XE=jn(ZE),$E=C({},go,{relatedTarget:0}),hf=jn($E),WE=C({},bs,{animationName:0,elapsedTime:0,pseudoElement:0}),QE=jn(WE),JE=C({},bs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),tS=jn(JE),eS=C({},bs,{data:0}),Bp=jn(eS),nS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sS(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=iS[t])?!!r[t]:!1}function pf(){return sS}var aS=C({},go,{key:function(t){if(t.key){var r=nS[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Lu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?rS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pf,charCode:function(t){return t.type==="keypress"?Lu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Lu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),oS=jn(aS),uS=C({},Hu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mp=jn(uS),cS=C({},go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pf}),lS=jn(cS),fS=C({},bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),dS=jn(fS),hS=C({},Hu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pS=jn(hS),mS=C({},bs,{newState:0,oldState:0}),yS=jn(mS),gS=[9,13,27,32],mf=Jr&&"CompositionEvent"in window,_o=null;Jr&&"documentMode"in document&&(_o=document.documentMode);var bS=Jr&&"TextEvent"in window&&!_o,Up=Jr&&(!mf||_o&&8<_o&&11>=_o),Lp=" ",Dp=!1;function zp(t,r){switch(t){case"keyup":return gS.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var la=!1;function _S(t,r){switch(t){case"compositionend":return Hp(r);case"keypress":return r.which!==32?null:(Dp=!0,Lp);case"textInput":return t=r.data,t===Lp&&Dp?null:t;default:return null}}function wS(t,r){if(la)return t==="compositionend"||!mf&&zp(t,r)?(t=kp(),Uu=lf=Ci=null,la=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Up&&r.locale!=="ko"?null:r.data;default:return null}}var vS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qp(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!vS[t.type]:r==="textarea"}function jp(t,r,a,c){ua?ca?ca.push(c):ca=[c]:ua=c,r=Oc(r,"onChange"),0<r.length&&(a=new zu("onChange","change",null,a,c),t.push({event:a,listeners:r}))}var wo=null,vo=null;function ES(t){S1(t,0)}function qu(t){var r=$r(t);if(Ep(r))return t}function Pp(t,r){if(t==="change")return r}var Kp=!1;if(Jr){var yf;if(Jr){var gf="oninput"in document;if(!gf){var Vp=document.createElement("div");Vp.setAttribute("oninput","return;"),gf=typeof Vp.oninput=="function"}yf=gf}else yf=!1;Kp=yf&&(!document.documentMode||9<document.documentMode)}function Gp(){wo&&(wo.detachEvent("onpropertychange",Yp),vo=wo=null)}function Yp(t){if(t.propertyName==="value"&&qu(vo)){var r=[];jp(r,vo,t,of(t)),Np(ES,r)}}function SS(t,r,a){t==="focusin"?(Gp(),wo=r,vo=a,wo.attachEvent("onpropertychange",Yp)):t==="focusout"&&Gp()}function AS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qu(vo)}function RS(t,r){if(t==="click")return qu(r)}function TS(t,r){if(t==="input"||t==="change")return qu(r)}function xS(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Wn=typeof Object.is=="function"?Object.is:xS;function Eo(t,r){if(Wn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),c=Object.keys(r);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var p=a[c];if(!vn.call(r,p)||!Wn(t[p],r[p]))return!1}return!0}function Fp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zp(t,r){var a=Fp(t);t=0;for(var c;a;){if(a.nodeType===3){if(c=t+a.textContent.length,t<=r&&c>=r)return{node:a,offset:r-t};t=c}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Fp(a)}}function Xp(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Xp(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function $p(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Bu(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Bu(t.document)}return r}function bf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var OS=Jr&&"documentMode"in document&&11>=document.documentMode,fa=null,_f=null,So=null,wf=!1;function Wp(t,r,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;wf||fa==null||fa!==Bu(c)||(c=fa,"selectionStart"in c&&bf(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),So&&Eo(So,c)||(So=c,c=Oc(_f,"onSelect"),0<c.length&&(r=new zu("onSelect","select",null,r,a),t.push({event:r,listeners:c}),r.target=fa)))}function _s(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var da={animationend:_s("Animation","AnimationEnd"),animationiteration:_s("Animation","AnimationIteration"),animationstart:_s("Animation","AnimationStart"),transitionrun:_s("Transition","TransitionRun"),transitionstart:_s("Transition","TransitionStart"),transitioncancel:_s("Transition","TransitionCancel"),transitionend:_s("Transition","TransitionEnd")},vf={},Qp={};Jr&&(Qp=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function ws(t){if(vf[t])return vf[t];if(!da[t])return t;var r=da[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Qp)return vf[t]=r[a];return t}var Jp=ws("animationend"),tm=ws("animationiteration"),em=ws("animationstart"),NS=ws("transitionrun"),kS=ws("transitionstart"),CS=ws("transitioncancel"),nm=ws("transitionend"),rm=new Map,Ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ef.push("scrollEnd");function Sr(t,r){rm.set(t,r),Er(r,[t])}var ju=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},lr=[],ha=0,Sf=0;function Pu(){for(var t=ha,r=Sf=ha=0;r<t;){var a=lr[r];lr[r++]=null;var c=lr[r];lr[r++]=null;var p=lr[r];lr[r++]=null;var g=lr[r];if(lr[r++]=null,c!==null&&p!==null){var N=c.pending;N===null?p.next=p:(p.next=N.next,N.next=p),c.pending=p}g!==0&&im(a,p,g)}}function Ku(t,r,a,c){lr[ha++]=t,lr[ha++]=r,lr[ha++]=a,lr[ha++]=c,Sf|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function Af(t,r,a,c){return Ku(t,r,a,c),Vu(t)}function vs(t,r){return Ku(t,null,null,r),Vu(t)}function im(t,r,a){t.lanes|=a;var c=t.alternate;c!==null&&(c.lanes|=a);for(var p=!1,g=t.return;g!==null;)g.childLanes|=a,c=g.alternate,c!==null&&(c.childLanes|=a),g.tag===22&&(t=g.stateNode,t===null||t._visibility&1||(p=!0)),t=g,g=g.return;return t.tag===3?(g=t.stateNode,p&&r!==null&&(p=31-Mt(a),t=g.hiddenUpdates,c=t[p],c===null?t[p]=[r]:c.push(r),r.lane=a|536870912),g):null}function Vu(t){if(50<Go)throw Go=0,Bd=null,Error(i(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var pa={};function IS(t,r,a,c){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(t,r,a,c){return new IS(t,r,a,c)}function Rf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ti(t,r){var a=t.alternate;return a===null?(a=Qn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function sm(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Gu(t,r,a,c,p,g){var N=0;if(c=t,typeof t=="function")Rf(t)&&(N=1);else if(typeof t=="string")N=DA(t,a,x.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case K:return t=Qn(31,a,r,p),t.elementType=K,t.lanes=g,t;case U:return Es(a.children,p,g,r);case L:N=8,p|=24;break;case j:return t=Qn(12,a,r,p|2),t.elementType=j,t.lanes=g,t;case et:return t=Qn(13,a,r,p),t.elementType=et,t.lanes=g,t;case it:return t=Qn(19,a,r,p),t.elementType=it,t.lanes=g,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case P:N=10;break t;case G:N=9;break t;case $:N=11;break t;case st:N=14;break t;case ot:N=16,c=null;break t}N=29,a=Error(i(130,t===null?"null":typeof t,"")),c=null}return r=Qn(N,a,r,p),r.elementType=t,r.type=c,r.lanes=g,r}function Es(t,r,a,c){return t=Qn(7,t,c,r),t.lanes=a,t}function Tf(t,r,a){return t=Qn(6,t,null,r),t.lanes=a,t}function am(t){var r=Qn(18,null,null,0);return r.stateNode=t,r}function xf(t,r,a){return r=Qn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var om=new WeakMap;function fr(t,r){if(typeof t=="object"&&t!==null){var a=om.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Qt(r)},om.set(t,r),r)}return{value:t,source:r,stack:Qt(r)}}var ma=[],ya=0,Yu=null,Ao=0,dr=[],hr=0,Ii=null,Mr=1,Ur="";function ei(t,r){ma[ya++]=Ao,ma[ya++]=Yu,Yu=t,Ao=r}function um(t,r,a){dr[hr++]=Mr,dr[hr++]=Ur,dr[hr++]=Ii,Ii=t;var c=Mr;t=Ur;var p=32-Mt(c)-1;c&=~(1<<p),a+=1;var g=32-Mt(r)+p;if(30<g){var N=p-p%5;g=(c&(1<<N)-1).toString(32),c>>=N,p-=N,Mr=1<<32-Mt(r)+p|a<<p|c,Ur=g+t}else Mr=1<<g|a<<p|c,Ur=t}function Of(t){t.return!==null&&(ei(t,1),um(t,1,0))}function Nf(t){for(;t===Yu;)Yu=ma[--ya],ma[ya]=null,Ao=ma[--ya],ma[ya]=null;for(;t===Ii;)Ii=dr[--hr],dr[hr]=null,Ur=dr[--hr],dr[hr]=null,Mr=dr[--hr],dr[hr]=null}function cm(t,r){dr[hr++]=Mr,dr[hr++]=Ur,dr[hr++]=Ii,Mr=r.id,Ur=r.overflow,Ii=t}var Sn=null,De=null,ue=!1,Bi=null,pr=!1,kf=Error(i(519));function Mi(t){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ro(fr(r,t)),kf}function lm(t){var r=t.stateNode,a=t.type,c=t.memoizedProps;switch(r[Jt]=t,r[oe]=c,a){case"dialog":ne("cancel",r),ne("close",r);break;case"iframe":case"object":case"embed":ne("load",r);break;case"video":case"audio":for(a=0;a<Fo.length;a++)ne(Fo[a],r);break;case"source":ne("error",r);break;case"img":case"image":case"link":ne("error",r),ne("load",r);break;case"details":ne("toggle",r);break;case"input":ne("invalid",r),Sp(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":ne("invalid",r);break;case"textarea":ne("invalid",r),Rp(r,c.value,c.defaultValue,c.children)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||c.suppressHydrationWarning===!0||x1(r.textContent,a)?(c.popover!=null&&(ne("beforetoggle",r),ne("toggle",r)),c.onScroll!=null&&ne("scroll",r),c.onScrollEnd!=null&&ne("scrollend",r),c.onClick!=null&&(r.onclick=Qr),r=!0):r=!1,r||Mi(t,!0)}function fm(t){for(Sn=t.return;Sn;)switch(Sn.tag){case 5:case 31:case 13:pr=!1;return;case 27:case 3:pr=!0;return;default:Sn=Sn.return}}function ga(t){if(t!==Sn)return!1;if(!ue)return fm(t),ue=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Zd(t.type,t.memoizedProps)),a=!a),a&&De&&Mi(t),fm(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));De=L1(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));De=L1(t)}else r===27?(r=De,Zi(t.type)?(t=Jd,Jd=null,De=t):De=r):De=Sn?yr(t.stateNode.nextSibling):null;return!0}function Ss(){De=Sn=null,ue=!1}function Cf(){var t=Bi;return t!==null&&(Gn===null?Gn=t:Gn.push.apply(Gn,t),Bi=null),t}function Ro(t){Bi===null?Bi=[t]:Bi.push(t)}var If=m(null),As=null,ni=null;function Ui(t,r,a){b(If,r._currentValue),r._currentValue=a}function ri(t){t._currentValue=If.current,f(If)}function Bf(t,r,a){for(;t!==null;){var c=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),t===a)break;t=t.return}}function Mf(t,r,a,c){var p=t.child;for(p!==null&&(p.return=t);p!==null;){var g=p.dependencies;if(g!==null){var N=p.child;g=g.firstContext;t:for(;g!==null;){var q=g;g=p;for(var Q=0;Q<r.length;Q++)if(q.context===r[Q]){g.lanes|=a,q=g.alternate,q!==null&&(q.lanes|=a),Bf(g.return,a,t),c||(N=null);break t}g=q.next}}else if(p.tag===18){if(N=p.return,N===null)throw Error(i(341));N.lanes|=a,g=N.alternate,g!==null&&(g.lanes|=a),Bf(N,a,t),N=null}else N=p.child;if(N!==null)N.return=p;else for(N=p;N!==null;){if(N===t){N=null;break}if(p=N.sibling,p!==null){p.return=N.return,N=p;break}N=N.return}p=N}}function ba(t,r,a,c){t=null;for(var p=r,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var N=p.alternate;if(N===null)throw Error(i(387));if(N=N.memoizedProps,N!==null){var q=p.type;Wn(p.pendingProps.value,N.value)||(t!==null?t.push(q):t=[q])}}else if(p===nt.current){if(N=p.alternate,N===null)throw Error(i(387));N.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(t!==null?t.push(Qo):t=[Qo])}p=p.return}t!==null&&Mf(r,t,a,c),r.flags|=262144}function Fu(t){for(t=t.firstContext;t!==null;){if(!Wn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Rs(t){As=t,ni=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function An(t){return dm(As,t)}function Zu(t,r){return As===null&&Rs(t),dm(t,r)}function dm(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},ni===null){if(t===null)throw Error(i(308));ni=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else ni=ni.next=r;return a}var BS=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,c){t.push(c)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},MS=s.unstable_scheduleCallback,US=s.unstable_NormalPriority,ln={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uf(){return{controller:new BS,data:new Map,refCount:0}}function To(t){t.refCount--,t.refCount===0&&MS(US,function(){t.controller.abort()})}var xo=null,Lf=0,_a=0,wa=null;function LS(t,r){if(xo===null){var a=xo=[];Lf=0,_a=Hd(),wa={status:"pending",value:void 0,then:function(c){a.push(c)}}}return Lf++,r.then(hm,hm),r}function hm(){if(--Lf===0&&xo!==null){wa!==null&&(wa.status="fulfilled");var t=xo;xo=null,_a=0,wa=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function DS(t,r){var a=[],c={status:"pending",value:null,reason:null,then:function(p){a.push(p)}};return t.then(function(){c.status="fulfilled",c.value=r;for(var p=0;p<a.length;p++)(0,a[p])(r)},function(p){for(c.status="rejected",c.reason=p,p=0;p<a.length;p++)(0,a[p])(void 0)}),c}var pm=S.S;S.S=function(t,r){Wy=te(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&LS(t,r),pm!==null&&pm(t,r)};var Ts=m(null);function Df(){var t=Ts.current;return t!==null?t:Ne.pooledCache}function Xu(t,r){r===null?b(Ts,Ts.current):b(Ts,r.pool)}function mm(){var t=Df();return t===null?null:{parent:ln._currentValue,pool:t}}var va=Error(i(460)),zf=Error(i(474)),$u=Error(i(542)),Wu={then:function(){}};function ym(t){return t=t.status,t==="fulfilled"||t==="rejected"}function gm(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Qr,Qr),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,_m(t),t;default:if(typeof r.status=="string")r.then(Qr,Qr);else{if(t=Ne,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=r,t.status="pending",t.then(function(c){if(r.status==="pending"){var p=r;p.status="fulfilled",p.value=c}},function(c){if(r.status==="pending"){var p=r;p.status="rejected",p.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,_m(t),t}throw Os=r,va}}function xs(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Os=a,va):a}}var Os=null;function bm(){if(Os===null)throw Error(i(459));var t=Os;return Os=null,t}function _m(t){if(t===va||t===$u)throw Error(i(483))}var Ea=null,Oo=0;function Qu(t){var r=Oo;return Oo+=1,Ea===null&&(Ea=[]),gm(Ea,t,r)}function No(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Ju(t,r){throw r.$$typeof===k?Error(i(525)):(t=Object.prototype.toString.call(r),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function wm(t){function r(at,tt){if(t){var lt=at.deletions;lt===null?(at.deletions=[tt],at.flags|=16):lt.push(tt)}}function a(at,tt){if(!t)return null;for(;tt!==null;)r(at,tt),tt=tt.sibling;return null}function c(at){for(var tt=new Map;at!==null;)at.key!==null?tt.set(at.key,at):tt.set(at.index,at),at=at.sibling;return tt}function p(at,tt){return at=ti(at,tt),at.index=0,at.sibling=null,at}function g(at,tt,lt){return at.index=lt,t?(lt=at.alternate,lt!==null?(lt=lt.index,lt<tt?(at.flags|=67108866,tt):lt):(at.flags|=67108866,tt)):(at.flags|=1048576,tt)}function N(at){return t&&at.alternate===null&&(at.flags|=67108866),at}function q(at,tt,lt,bt){return tt===null||tt.tag!==6?(tt=Tf(lt,at.mode,bt),tt.return=at,tt):(tt=p(tt,lt),tt.return=at,tt)}function Q(at,tt,lt,bt){var Lt=lt.type;return Lt===U?gt(at,tt,lt.props.children,bt,lt.key):tt!==null&&(tt.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===ot&&xs(Lt)===tt.type)?(tt=p(tt,lt.props),No(tt,lt),tt.return=at,tt):(tt=Gu(lt.type,lt.key,lt.props,null,at.mode,bt),No(tt,lt),tt.return=at,tt)}function ft(at,tt,lt,bt){return tt===null||tt.tag!==4||tt.stateNode.containerInfo!==lt.containerInfo||tt.stateNode.implementation!==lt.implementation?(tt=xf(lt,at.mode,bt),tt.return=at,tt):(tt=p(tt,lt.children||[]),tt.return=at,tt)}function gt(at,tt,lt,bt,Lt){return tt===null||tt.tag!==7?(tt=Es(lt,at.mode,bt,Lt),tt.return=at,tt):(tt=p(tt,lt),tt.return=at,tt)}function _t(at,tt,lt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return tt=Tf(""+tt,at.mode,lt),tt.return=at,tt;if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case R:return lt=Gu(tt.type,tt.key,tt.props,null,at.mode,lt),No(lt,tt),lt.return=at,lt;case M:return tt=xf(tt,at.mode,lt),tt.return=at,tt;case ot:return tt=xs(tt),_t(at,tt,lt)}if(w(tt)||X(tt))return tt=Es(tt,at.mode,lt,null),tt.return=at,tt;if(typeof tt.then=="function")return _t(at,Qu(tt),lt);if(tt.$$typeof===P)return _t(at,Zu(at,tt),lt);Ju(at,tt)}return null}function ht(at,tt,lt,bt){var Lt=tt!==null?tt.key:null;if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return Lt!==null?null:q(at,tt,""+lt,bt);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case R:return lt.key===Lt?Q(at,tt,lt,bt):null;case M:return lt.key===Lt?ft(at,tt,lt,bt):null;case ot:return lt=xs(lt),ht(at,tt,lt,bt)}if(w(lt)||X(lt))return Lt!==null?null:gt(at,tt,lt,bt,null);if(typeof lt.then=="function")return ht(at,tt,Qu(lt),bt);if(lt.$$typeof===P)return ht(at,tt,Zu(at,lt),bt);Ju(at,lt)}return null}function yt(at,tt,lt,bt,Lt){if(typeof bt=="string"&&bt!==""||typeof bt=="number"||typeof bt=="bigint")return at=at.get(lt)||null,q(tt,at,""+bt,Lt);if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case R:return at=at.get(bt.key===null?lt:bt.key)||null,Q(tt,at,bt,Lt);case M:return at=at.get(bt.key===null?lt:bt.key)||null,ft(tt,at,bt,Lt);case ot:return bt=xs(bt),yt(at,tt,lt,bt,Lt)}if(w(bt)||X(bt))return at=at.get(lt)||null,gt(tt,at,bt,Lt,null);if(typeof bt.then=="function")return yt(at,tt,lt,Qu(bt),Lt);if(bt.$$typeof===P)return yt(at,tt,lt,Zu(tt,bt),Lt);Ju(tt,bt)}return null}function It(at,tt,lt,bt){for(var Lt=null,pe=null,Bt=tt,Yt=tt=0,ae=null;Bt!==null&&Yt<lt.length;Yt++){Bt.index>Yt?(ae=Bt,Bt=null):ae=Bt.sibling;var me=ht(at,Bt,lt[Yt],bt);if(me===null){Bt===null&&(Bt=ae);break}t&&Bt&&me.alternate===null&&r(at,Bt),tt=g(me,tt,Yt),pe===null?Lt=me:pe.sibling=me,pe=me,Bt=ae}if(Yt===lt.length)return a(at,Bt),ue&&ei(at,Yt),Lt;if(Bt===null){for(;Yt<lt.length;Yt++)Bt=_t(at,lt[Yt],bt),Bt!==null&&(tt=g(Bt,tt,Yt),pe===null?Lt=Bt:pe.sibling=Bt,pe=Bt);return ue&&ei(at,Yt),Lt}for(Bt=c(Bt);Yt<lt.length;Yt++)ae=yt(Bt,at,Yt,lt[Yt],bt),ae!==null&&(t&&ae.alternate!==null&&Bt.delete(ae.key===null?Yt:ae.key),tt=g(ae,tt,Yt),pe===null?Lt=ae:pe.sibling=ae,pe=ae);return t&&Bt.forEach(function(Ji){return r(at,Ji)}),ue&&ei(at,Yt),Lt}function qt(at,tt,lt,bt){if(lt==null)throw Error(i(151));for(var Lt=null,pe=null,Bt=tt,Yt=tt=0,ae=null,me=lt.next();Bt!==null&&!me.done;Yt++,me=lt.next()){Bt.index>Yt?(ae=Bt,Bt=null):ae=Bt.sibling;var Ji=ht(at,Bt,me.value,bt);if(Ji===null){Bt===null&&(Bt=ae);break}t&&Bt&&Ji.alternate===null&&r(at,Bt),tt=g(Ji,tt,Yt),pe===null?Lt=Ji:pe.sibling=Ji,pe=Ji,Bt=ae}if(me.done)return a(at,Bt),ue&&ei(at,Yt),Lt;if(Bt===null){for(;!me.done;Yt++,me=lt.next())me=_t(at,me.value,bt),me!==null&&(tt=g(me,tt,Yt),pe===null?Lt=me:pe.sibling=me,pe=me);return ue&&ei(at,Yt),Lt}for(Bt=c(Bt);!me.done;Yt++,me=lt.next())me=yt(Bt,at,Yt,me.value,bt),me!==null&&(t&&me.alternate!==null&&Bt.delete(me.key===null?Yt:me.key),tt=g(me,tt,Yt),pe===null?Lt=me:pe.sibling=me,pe=me);return t&&Bt.forEach(function(ZA){return r(at,ZA)}),ue&&ei(at,Yt),Lt}function Te(at,tt,lt,bt){if(typeof lt=="object"&&lt!==null&&lt.type===U&&lt.key===null&&(lt=lt.props.children),typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case R:t:{for(var Lt=lt.key;tt!==null;){if(tt.key===Lt){if(Lt=lt.type,Lt===U){if(tt.tag===7){a(at,tt.sibling),bt=p(tt,lt.props.children),bt.return=at,at=bt;break t}}else if(tt.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===ot&&xs(Lt)===tt.type){a(at,tt.sibling),bt=p(tt,lt.props),No(bt,lt),bt.return=at,at=bt;break t}a(at,tt);break}else r(at,tt);tt=tt.sibling}lt.type===U?(bt=Es(lt.props.children,at.mode,bt,lt.key),bt.return=at,at=bt):(bt=Gu(lt.type,lt.key,lt.props,null,at.mode,bt),No(bt,lt),bt.return=at,at=bt)}return N(at);case M:t:{for(Lt=lt.key;tt!==null;){if(tt.key===Lt)if(tt.tag===4&&tt.stateNode.containerInfo===lt.containerInfo&&tt.stateNode.implementation===lt.implementation){a(at,tt.sibling),bt=p(tt,lt.children||[]),bt.return=at,at=bt;break t}else{a(at,tt);break}else r(at,tt);tt=tt.sibling}bt=xf(lt,at.mode,bt),bt.return=at,at=bt}return N(at);case ot:return lt=xs(lt),Te(at,tt,lt,bt)}if(w(lt))return It(at,tt,lt,bt);if(X(lt)){if(Lt=X(lt),typeof Lt!="function")throw Error(i(150));return lt=Lt.call(lt),qt(at,tt,lt,bt)}if(typeof lt.then=="function")return Te(at,tt,Qu(lt),bt);if(lt.$$typeof===P)return Te(at,tt,Zu(at,lt),bt);Ju(at,lt)}return typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint"?(lt=""+lt,tt!==null&&tt.tag===6?(a(at,tt.sibling),bt=p(tt,lt),bt.return=at,at=bt):(a(at,tt),bt=Tf(lt,at.mode,bt),bt.return=at,at=bt),N(at)):a(at,tt)}return function(at,tt,lt,bt){try{Oo=0;var Lt=Te(at,tt,lt,bt);return Ea=null,Lt}catch(Bt){if(Bt===va||Bt===$u)throw Bt;var pe=Qn(29,Bt,null,at.mode);return pe.lanes=bt,pe.return=at,pe}}}var Ns=wm(!0),vm=wm(!1),Li=!1;function Hf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Di(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function zi(t,r,a){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(ge&2)!==0){var p=c.pending;return p===null?r.next=r:(r.next=p.next,p.next=r),c.pending=r,r=Vu(t),im(t,null,a),r}return Ku(t,c,r,a),Vu(t)}function ko(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var c=r.lanes;c&=t.pendingLanes,a|=c,r.lanes=a,lo(t,a)}}function jf(t,r){var a=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var p=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var N={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};g===null?p=g=N:g=g.next=N,a=a.next}while(a!==null);g===null?p=g=r:g=g.next=r}else p=g=r;a={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Pf=!1;function Co(){if(Pf){var t=wa;if(t!==null)throw t}}function Io(t,r,a,c){Pf=!1;var p=t.updateQueue;Li=!1;var g=p.firstBaseUpdate,N=p.lastBaseUpdate,q=p.shared.pending;if(q!==null){p.shared.pending=null;var Q=q,ft=Q.next;Q.next=null,N===null?g=ft:N.next=ft,N=Q;var gt=t.alternate;gt!==null&&(gt=gt.updateQueue,q=gt.lastBaseUpdate,q!==N&&(q===null?gt.firstBaseUpdate=ft:q.next=ft,gt.lastBaseUpdate=Q))}if(g!==null){var _t=p.baseState;N=0,gt=ft=Q=null,q=g;do{var ht=q.lane&-536870913,yt=ht!==q.lane;if(yt?(se&ht)===ht:(c&ht)===ht){ht!==0&&ht===_a&&(Pf=!0),gt!==null&&(gt=gt.next={lane:0,tag:q.tag,payload:q.payload,callback:null,next:null});t:{var It=t,qt=q;ht=r;var Te=a;switch(qt.tag){case 1:if(It=qt.payload,typeof It=="function"){_t=It.call(Te,_t,ht);break t}_t=It;break t;case 3:It.flags=It.flags&-65537|128;case 0:if(It=qt.payload,ht=typeof It=="function"?It.call(Te,_t,ht):It,ht==null)break t;_t=C({},_t,ht);break t;case 2:Li=!0}}ht=q.callback,ht!==null&&(t.flags|=64,yt&&(t.flags|=8192),yt=p.callbacks,yt===null?p.callbacks=[ht]:yt.push(ht))}else yt={lane:ht,tag:q.tag,payload:q.payload,callback:q.callback,next:null},gt===null?(ft=gt=yt,Q=_t):gt=gt.next=yt,N|=ht;if(q=q.next,q===null){if(q=p.shared.pending,q===null)break;yt=q,q=yt.next,yt.next=null,p.lastBaseUpdate=yt,p.shared.pending=null}}while(!0);gt===null&&(Q=_t),p.baseState=Q,p.firstBaseUpdate=ft,p.lastBaseUpdate=gt,g===null&&(p.shared.lanes=0),Ki|=N,t.lanes=N,t.memoizedState=_t}}function Em(t,r){if(typeof t!="function")throw Error(i(191,t));t.call(r)}function Sm(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Em(a[t],r)}var Sa=m(null),tc=m(0);function Am(t,r){t=di,b(tc,t),b(Sa,r),di=t|r.baseLanes}function Kf(){b(tc,di),b(Sa,Sa.current)}function Vf(){di=tc.current,f(Sa),f(tc)}var Jn=m(null),mr=null;function Hi(t){var r=t.alternate;b(on,on.current&1),b(Jn,t),mr===null&&(r===null||Sa.current!==null||r.memoizedState!==null)&&(mr=t)}function Gf(t){b(on,on.current),b(Jn,t),mr===null&&(mr=t)}function Rm(t){t.tag===22?(b(on,on.current),b(Jn,t),mr===null&&(mr=t)):qi()}function qi(){b(on,on.current),b(Jn,Jn.current)}function tr(t){f(Jn),mr===t&&(mr=null),f(on)}var on=m(0);function ec(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Wd(a)||Qd(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ii=0,Vt=null,Ae=null,fn=null,nc=!1,Aa=!1,ks=!1,rc=0,Bo=0,Ra=null,zS=0;function nn(){throw Error(i(321))}function Yf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!Wn(t[a],r[a]))return!1;return!0}function Ff(t,r,a,c,p,g){return ii=g,Vt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,S.H=t===null||t.memoizedState===null?uy:ud,ks=!1,g=a(c,p),ks=!1,Aa&&(g=xm(r,a,c,p)),Tm(t),g}function Tm(t){S.H=Lo;var r=Ae!==null&&Ae.next!==null;if(ii=0,fn=Ae=Vt=null,nc=!1,Bo=0,Ra=null,r)throw Error(i(300));t===null||dn||(t=t.dependencies,t!==null&&Fu(t)&&(dn=!0))}function xm(t,r,a,c){Vt=t;var p=0;do{if(Aa&&(Ra=null),Bo=0,Aa=!1,25<=p)throw Error(i(301));if(p+=1,fn=Ae=null,t.updateQueue!=null){var g=t.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}S.H=cy,g=r(a,c)}while(Aa);return g}function HS(){var t=S.H,r=t.useState()[0];return r=typeof r.then=="function"?Mo(r):r,t=t.useState()[0],(Ae!==null?Ae.memoizedState:null)!==t&&(Vt.flags|=1024),r}function Zf(){var t=rc!==0;return rc=0,t}function Xf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function $f(t){if(nc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}nc=!1}ii=0,fn=Ae=Vt=null,Aa=!1,Bo=rc=0,Ra=null}function zn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?Vt.memoizedState=fn=t:fn=fn.next=t,fn}function un(){if(Ae===null){var t=Vt.alternate;t=t!==null?t.memoizedState:null}else t=Ae.next;var r=fn===null?Vt.memoizedState:fn.next;if(r!==null)fn=r,Ae=t;else{if(t===null)throw Vt.alternate===null?Error(i(467)):Error(i(310));Ae=t,t={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},fn===null?Vt.memoizedState=fn=t:fn=fn.next=t}return fn}function ic(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Mo(t){var r=Bo;return Bo+=1,Ra===null&&(Ra=[]),t=gm(Ra,t,r),r=Vt,(fn===null?r.memoizedState:fn.next)===null&&(r=r.alternate,S.H=r===null||r.memoizedState===null?uy:ud),t}function sc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Mo(t);if(t.$$typeof===P)return An(t)}throw Error(i(438,String(t)))}function Wf(t){var r=null,a=Vt.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var c=Vt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(p){return p.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=ic(),Vt.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),c=0;c<t;c++)a[c]=Y;return r.index++,a}function si(t,r){return typeof r=="function"?r(t):r}function ac(t){var r=un();return Qf(r,Ae,t)}function Qf(t,r,a){var c=t.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=a;var p=t.baseQueue,g=c.pending;if(g!==null){if(p!==null){var N=p.next;p.next=g.next,g.next=N}r.baseQueue=p=g,c.pending=null}if(g=t.baseState,p===null)t.memoizedState=g;else{r=p.next;var q=N=null,Q=null,ft=r,gt=!1;do{var _t=ft.lane&-536870913;if(_t!==ft.lane?(se&_t)===_t:(ii&_t)===_t){var ht=ft.revertLane;if(ht===0)Q!==null&&(Q=Q.next={lane:0,revertLane:0,gesture:null,action:ft.action,hasEagerState:ft.hasEagerState,eagerState:ft.eagerState,next:null}),_t===_a&&(gt=!0);else if((ii&ht)===ht){ft=ft.next,ht===_a&&(gt=!0);continue}else _t={lane:0,revertLane:ft.revertLane,gesture:null,action:ft.action,hasEagerState:ft.hasEagerState,eagerState:ft.eagerState,next:null},Q===null?(q=Q=_t,N=g):Q=Q.next=_t,Vt.lanes|=ht,Ki|=ht;_t=ft.action,ks&&a(g,_t),g=ft.hasEagerState?ft.eagerState:a(g,_t)}else ht={lane:_t,revertLane:ft.revertLane,gesture:ft.gesture,action:ft.action,hasEagerState:ft.hasEagerState,eagerState:ft.eagerState,next:null},Q===null?(q=Q=ht,N=g):Q=Q.next=ht,Vt.lanes|=_t,Ki|=_t;ft=ft.next}while(ft!==null&&ft!==r);if(Q===null?N=g:Q.next=q,!Wn(g,t.memoizedState)&&(dn=!0,gt&&(a=wa,a!==null)))throw a;t.memoizedState=g,t.baseState=N,t.baseQueue=Q,c.lastRenderedState=g}return p===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function Jf(t){var r=un(),a=r.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=t;var c=a.dispatch,p=a.pending,g=r.memoizedState;if(p!==null){a.pending=null;var N=p=p.next;do g=t(g,N.action),N=N.next;while(N!==p);Wn(g,r.memoizedState)||(dn=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),a.lastRenderedState=g}return[g,c]}function Om(t,r,a){var c=Vt,p=un(),g=ue;if(g){if(a===void 0)throw Error(i(407));a=a()}else a=r();var N=!Wn((Ae||p).memoizedState,a);if(N&&(p.memoizedState=a,dn=!0),p=p.queue,nd(Cm.bind(null,c,p,t),[t]),p.getSnapshot!==r||N||fn!==null&&fn.memoizedState.tag&1){if(c.flags|=2048,Ta(9,{destroy:void 0},km.bind(null,c,p,a,r),null),Ne===null)throw Error(i(349));g||(ii&127)!==0||Nm(c,r,a)}return a}function Nm(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Vt.updateQueue,r===null?(r=ic(),Vt.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function km(t,r,a,c){r.value=a,r.getSnapshot=c,Im(r)&&Bm(t)}function Cm(t,r,a){return a(function(){Im(r)&&Bm(t)})}function Im(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!Wn(t,a)}catch{return!0}}function Bm(t){var r=vs(t,2);r!==null&&Yn(r,t,2)}function td(t){var r=zn();if(typeof t=="function"){var a=t;if(t=a(),ks){Ht(!0);try{a()}finally{Ht(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:t},r}function Mm(t,r,a,c){return t.baseState=a,Qf(t,Ae,typeof c=="function"?c:si)}function qS(t,r,a,c,p){if(cc(t))throw Error(i(485));if(t=r.action,t!==null){var g={payload:p,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){g.listeners.push(N)}};S.T!==null?a(!0):g.isTransition=!1,c(g),a=r.pending,a===null?(g.next=r.pending=g,Um(r,g)):(g.next=a.next,r.pending=a.next=g)}}function Um(t,r){var a=r.action,c=r.payload,p=t.state;if(r.isTransition){var g=S.T,N={};S.T=N;try{var q=a(p,c),Q=S.S;Q!==null&&Q(N,q),Lm(t,r,q)}catch(ft){ed(t,r,ft)}finally{g!==null&&N.types!==null&&(g.types=N.types),S.T=g}}else try{g=a(p,c),Lm(t,r,g)}catch(ft){ed(t,r,ft)}}function Lm(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){Dm(t,r,c)},function(c){return ed(t,r,c)}):Dm(t,r,a)}function Dm(t,r,a){r.status="fulfilled",r.value=a,zm(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Um(t,a)))}function ed(t,r,a){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=a,zm(r),r=r.next;while(r!==c)}t.action=null}function zm(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Hm(t,r){return r}function qm(t,r){if(ue){var a=Ne.formState;if(a!==null){t:{var c=Vt;if(ue){if(De){e:{for(var p=De,g=pr;p.nodeType!==8;){if(!g){p=null;break e}if(p=yr(p.nextSibling),p===null){p=null;break e}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){De=yr(p.nextSibling),c=p.data==="F!";break t}}Mi(c)}c=!1}c&&(r=a[0])}}return a=zn(),a.memoizedState=a.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hm,lastRenderedState:r},a.queue=c,a=sy.bind(null,Vt,c),c.dispatch=a,c=td(!1),g=od.bind(null,Vt,!1,c.queue),c=zn(),p={state:r,dispatch:null,action:t,pending:null},c.queue=p,a=qS.bind(null,Vt,p,g,a),p.dispatch=a,c.memoizedState=t,[r,a,!1]}function jm(t){var r=un();return Pm(r,Ae,t)}function Pm(t,r,a){if(r=Qf(t,r,Hm)[0],t=ac(si)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=Mo(r)}catch(N){throw N===va?$u:N}else c=r;r=un();var p=r.queue,g=p.dispatch;return a!==r.memoizedState&&(Vt.flags|=2048,Ta(9,{destroy:void 0},jS.bind(null,p,a),null)),[c,g,t]}function jS(t,r){t.action=r}function Km(t){var r=un(),a=Ae;if(a!==null)return Pm(r,a,t);un(),r=r.memoizedState,a=un();var c=a.queue.dispatch;return a.memoizedState=t,[r,c,!1]}function Ta(t,r,a,c){return t={tag:t,create:a,deps:c,inst:r,next:null},r=Vt.updateQueue,r===null&&(r=ic(),Vt.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(c=a.next,a.next=t,t.next=c,r.lastEffect=t),t}function Vm(){return un().memoizedState}function oc(t,r,a,c){var p=zn();Vt.flags|=t,p.memoizedState=Ta(1|r,{destroy:void 0},a,c===void 0?null:c)}function uc(t,r,a,c){var p=un();c=c===void 0?null:c;var g=p.memoizedState.inst;Ae!==null&&c!==null&&Yf(c,Ae.memoizedState.deps)?p.memoizedState=Ta(r,g,a,c):(Vt.flags|=t,p.memoizedState=Ta(1|r,g,a,c))}function Gm(t,r){oc(8390656,8,t,r)}function nd(t,r){uc(2048,8,t,r)}function PS(t){Vt.flags|=4;var r=Vt.updateQueue;if(r===null)r=ic(),Vt.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function Ym(t){var r=un().memoizedState;return PS({ref:r,nextImpl:t}),function(){if((ge&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function Fm(t,r){return uc(4,2,t,r)}function Zm(t,r){return uc(4,4,t,r)}function Xm(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function $m(t,r,a){a=a!=null?a.concat([t]):null,uc(4,4,Xm.bind(null,r,t),a)}function rd(){}function Wm(t,r){var a=un();r=r===void 0?null:r;var c=a.memoizedState;return r!==null&&Yf(r,c[1])?c[0]:(a.memoizedState=[t,r],t)}function Qm(t,r){var a=un();r=r===void 0?null:r;var c=a.memoizedState;if(r!==null&&Yf(r,c[1]))return c[0];if(c=t(),ks){Ht(!0);try{t()}finally{Ht(!1)}}return a.memoizedState=[c,r],c}function id(t,r,a){return a===void 0||(ii&1073741824)!==0&&(se&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=Jy(),Vt.lanes|=t,Ki|=t,a)}function Jm(t,r,a,c){return Wn(a,r)?a:Sa.current!==null?(t=id(t,a,c),Wn(t,r)||(dn=!0),t):(ii&42)===0||(ii&1073741824)!==0&&(se&261930)===0?(dn=!0,t.memoizedState=a):(t=Jy(),Vt.lanes|=t,Ki|=t,r)}function ty(t,r,a,c,p){var g=B.p;B.p=g!==0&&8>g?g:8;var N=S.T,q={};S.T=q,od(t,!1,r,a);try{var Q=p(),ft=S.S;if(ft!==null&&ft(q,Q),Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var gt=DS(Q,c);Uo(t,r,gt,rr(t))}else Uo(t,r,c,rr(t))}catch(_t){Uo(t,r,{then:function(){},status:"rejected",reason:_t},rr())}finally{B.p=g,N!==null&&q.types!==null&&(N.types=q.types),S.T=N}}function KS(){}function sd(t,r,a,c){if(t.tag!==5)throw Error(i(476));var p=ey(t).queue;ty(t,p,r,D,a===null?KS:function(){return ny(t),a(c)})}function ey(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:D,baseState:D,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:D},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function ny(t){var r=ey(t);r.next===null&&(r=t.alternate.memoizedState),Uo(t,r.next.queue,{},rr())}function ad(){return An(Qo)}function ry(){return un().memoizedState}function iy(){return un().memoizedState}function VS(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=rr();t=Di(a);var c=zi(r,t,a);c!==null&&(Yn(c,r,a),ko(c,r,a)),r={cache:Uf()},t.payload=r;return}r=r.return}}function GS(t,r,a){var c=rr();a={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},cc(t)?ay(r,a):(a=Af(t,r,a,c),a!==null&&(Yn(a,t,c),oy(a,r,c)))}function sy(t,r,a){var c=rr();Uo(t,r,a,c)}function Uo(t,r,a,c){var p={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(cc(t))ay(r,p);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var N=r.lastRenderedState,q=g(N,a);if(p.hasEagerState=!0,p.eagerState=q,Wn(q,N))return Ku(t,r,p,0),Ne===null&&Pu(),!1}catch{}if(a=Af(t,r,p,c),a!==null)return Yn(a,t,c),oy(a,r,c),!0}return!1}function od(t,r,a,c){if(c={lane:2,revertLane:Hd(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},cc(t)){if(r)throw Error(i(479))}else r=Af(t,a,c,2),r!==null&&Yn(r,t,2)}function cc(t){var r=t.alternate;return t===Vt||r!==null&&r===Vt}function ay(t,r){Aa=nc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function oy(t,r,a){if((a&4194048)!==0){var c=r.lanes;c&=t.pendingLanes,a|=c,r.lanes=a,lo(t,a)}}var Lo={readContext:An,use:sc,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useLayoutEffect:nn,useInsertionEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useSyncExternalStore:nn,useId:nn,useHostTransitionStatus:nn,useFormState:nn,useActionState:nn,useOptimistic:nn,useMemoCache:nn,useCacheRefresh:nn};Lo.useEffectEvent=nn;var uy={readContext:An,use:sc,useCallback:function(t,r){return zn().memoizedState=[t,r===void 0?null:r],t},useContext:An,useEffect:Gm,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,oc(4194308,4,Xm.bind(null,r,t),a)},useLayoutEffect:function(t,r){return oc(4194308,4,t,r)},useInsertionEffect:function(t,r){oc(4,2,t,r)},useMemo:function(t,r){var a=zn();r=r===void 0?null:r;var c=t();if(ks){Ht(!0);try{t()}finally{Ht(!1)}}return a.memoizedState=[c,r],c},useReducer:function(t,r,a){var c=zn();if(a!==void 0){var p=a(r);if(ks){Ht(!0);try{a(r)}finally{Ht(!1)}}}else p=r;return c.memoizedState=c.baseState=p,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:p},c.queue=t,t=t.dispatch=GS.bind(null,Vt,t),[c.memoizedState,t]},useRef:function(t){var r=zn();return t={current:t},r.memoizedState=t},useState:function(t){t=td(t);var r=t.queue,a=sy.bind(null,Vt,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:rd,useDeferredValue:function(t,r){var a=zn();return id(a,t,r)},useTransition:function(){var t=td(!1);return t=ty.bind(null,Vt,t.queue,!0,!1),zn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var c=Vt,p=zn();if(ue){if(a===void 0)throw Error(i(407));a=a()}else{if(a=r(),Ne===null)throw Error(i(349));(se&127)!==0||Nm(c,r,a)}p.memoizedState=a;var g={value:a,getSnapshot:r};return p.queue=g,Gm(Cm.bind(null,c,g,t),[t]),c.flags|=2048,Ta(9,{destroy:void 0},km.bind(null,c,g,a,r),null),a},useId:function(){var t=zn(),r=Ne.identifierPrefix;if(ue){var a=Ur,c=Mr;a=(c&~(1<<32-Mt(c)-1)).toString(32)+a,r="_"+r+"R_"+a,a=rc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=zS++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:ad,useFormState:qm,useActionState:qm,useOptimistic:function(t){var r=zn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=od.bind(null,Vt,!0,a),a.dispatch=r,[t,r]},useMemoCache:Wf,useCacheRefresh:function(){return zn().memoizedState=VS.bind(null,Vt)},useEffectEvent:function(t){var r=zn(),a={impl:t};return r.memoizedState=a,function(){if((ge&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},ud={readContext:An,use:sc,useCallback:Wm,useContext:An,useEffect:nd,useImperativeHandle:$m,useInsertionEffect:Fm,useLayoutEffect:Zm,useMemo:Qm,useReducer:ac,useRef:Vm,useState:function(){return ac(si)},useDebugValue:rd,useDeferredValue:function(t,r){var a=un();return Jm(a,Ae.memoizedState,t,r)},useTransition:function(){var t=ac(si)[0],r=un().memoizedState;return[typeof t=="boolean"?t:Mo(t),r]},useSyncExternalStore:Om,useId:ry,useHostTransitionStatus:ad,useFormState:jm,useActionState:jm,useOptimistic:function(t,r){var a=un();return Mm(a,Ae,t,r)},useMemoCache:Wf,useCacheRefresh:iy};ud.useEffectEvent=Ym;var cy={readContext:An,use:sc,useCallback:Wm,useContext:An,useEffect:nd,useImperativeHandle:$m,useInsertionEffect:Fm,useLayoutEffect:Zm,useMemo:Qm,useReducer:Jf,useRef:Vm,useState:function(){return Jf(si)},useDebugValue:rd,useDeferredValue:function(t,r){var a=un();return Ae===null?id(a,t,r):Jm(a,Ae.memoizedState,t,r)},useTransition:function(){var t=Jf(si)[0],r=un().memoizedState;return[typeof t=="boolean"?t:Mo(t),r]},useSyncExternalStore:Om,useId:ry,useHostTransitionStatus:ad,useFormState:Km,useActionState:Km,useOptimistic:function(t,r){var a=un();return Ae!==null?Mm(a,Ae,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Wf,useCacheRefresh:iy};cy.useEffectEvent=Ym;function cd(t,r,a,c){r=t.memoizedState,a=a(c,r),a=a==null?r:C({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var ld={enqueueSetState:function(t,r,a){t=t._reactInternals;var c=rr(),p=Di(c);p.payload=r,a!=null&&(p.callback=a),r=zi(t,p,c),r!==null&&(Yn(r,t,c),ko(r,t,c))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var c=rr(),p=Di(c);p.tag=1,p.payload=r,a!=null&&(p.callback=a),r=zi(t,p,c),r!==null&&(Yn(r,t,c),ko(r,t,c))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=rr(),c=Di(a);c.tag=2,r!=null&&(c.callback=r),r=zi(t,c,a),r!==null&&(Yn(r,t,a),ko(r,t,a))}};function ly(t,r,a,c,p,g,N){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,g,N):r.prototype&&r.prototype.isPureReactComponent?!Eo(a,c)||!Eo(p,g):!0}function fy(t,r,a,c){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,c),r.state!==t&&ld.enqueueReplaceState(r,r.state,null)}function Cs(t,r){var a=r;if("ref"in r){a={};for(var c in r)c!=="ref"&&(a[c]=r[c])}if(t=t.defaultProps){a===r&&(a=C({},a));for(var p in t)a[p]===void 0&&(a[p]=t[p])}return a}function dy(t){ju(t)}function hy(t){console.error(t)}function py(t){ju(t)}function lc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function my(t,r,a){try{var c=t.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function fd(t,r,a){return a=Di(a),a.tag=3,a.payload={element:null},a.callback=function(){lc(t,r)},a}function yy(t){return t=Di(t),t.tag=3,t}function gy(t,r,a,c){var p=a.type.getDerivedStateFromError;if(typeof p=="function"){var g=c.value;t.payload=function(){return p(g)},t.callback=function(){my(r,a,c)}}var N=a.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(t.callback=function(){my(r,a,c),typeof p!="function"&&(Vi===null?Vi=new Set([this]):Vi.add(this));var q=c.stack;this.componentDidCatch(c.value,{componentStack:q!==null?q:""})})}function YS(t,r,a,c,p){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=a.alternate,r!==null&&ba(r,a,p,!0),a=Jn.current,a!==null){switch(a.tag){case 31:case 13:return mr===null?Ec():a.alternate===null&&rn===0&&(rn=3),a.flags&=-257,a.flags|=65536,a.lanes=p,c===Wu?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([c]):r.add(c),Ld(t,c,p)),!1;case 22:return a.flags|=65536,c===Wu?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([c]):a.add(c)),Ld(t,c,p)),!1}throw Error(i(435,a.tag))}return Ld(t,c,p),Ec(),!1}if(ue)return r=Jn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=p,c!==kf&&(t=Error(i(422),{cause:c}),Ro(fr(t,a)))):(c!==kf&&(r=Error(i(423),{cause:c}),Ro(fr(r,a))),t=t.current.alternate,t.flags|=65536,p&=-p,t.lanes|=p,c=fr(c,a),p=fd(t.stateNode,c,p),jf(t,p),rn!==4&&(rn=2)),!1;var g=Error(i(520),{cause:c});if(g=fr(g,a),Vo===null?Vo=[g]:Vo.push(g),rn!==4&&(rn=2),r===null)return!0;c=fr(c,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=p&-p,a.lanes|=t,t=fd(a.stateNode,c,t),jf(a,t),!1;case 1:if(r=a.type,g=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Vi===null||!Vi.has(g))))return a.flags|=65536,p&=-p,a.lanes|=p,p=yy(p),gy(p,t,a,c),jf(a,p),!1}a=a.return}while(a!==null);return!1}var dd=Error(i(461)),dn=!1;function Rn(t,r,a,c){r.child=t===null?vm(r,null,a,c):Ns(r,t.child,a,c)}function by(t,r,a,c,p){a=a.render;var g=r.ref;if("ref"in c){var N={};for(var q in c)q!=="ref"&&(N[q]=c[q])}else N=c;return Rs(r),c=Ff(t,r,a,N,g,p),q=Zf(),t!==null&&!dn?(Xf(t,r,p),ai(t,r,p)):(ue&&q&&Of(r),r.flags|=1,Rn(t,r,c,p),r.child)}function _y(t,r,a,c,p){if(t===null){var g=a.type;return typeof g=="function"&&!Rf(g)&&g.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=g,wy(t,r,g,c,p)):(t=Gu(a.type,null,c,r,r.mode,p),t.ref=r.ref,t.return=r,r.child=t)}if(g=t.child,!wd(t,p)){var N=g.memoizedProps;if(a=a.compare,a=a!==null?a:Eo,a(N,c)&&t.ref===r.ref)return ai(t,r,p)}return r.flags|=1,t=ti(g,c),t.ref=r.ref,t.return=r,r.child=t}function wy(t,r,a,c,p){if(t!==null){var g=t.memoizedProps;if(Eo(g,c)&&t.ref===r.ref)if(dn=!1,r.pendingProps=c=g,wd(t,p))(t.flags&131072)!==0&&(dn=!0);else return r.lanes=t.lanes,ai(t,r,p)}return hd(t,r,a,c,p)}function vy(t,r,a,c){var p=c.children,g=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|a:a,t!==null){for(c=r.child=t.child,p=0;c!==null;)p=p|c.lanes|c.childLanes,c=c.sibling;c=p&~g}else c=0,r.child=null;return Ey(t,r,g,a,c)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Xu(r,g!==null?g.cachePool:null),g!==null?Am(r,g):Kf(),Rm(r);else return c=r.lanes=536870912,Ey(t,r,g!==null?g.baseLanes|a:a,a,c)}else g!==null?(Xu(r,g.cachePool),Am(r,g),qi(),r.memoizedState=null):(t!==null&&Xu(r,null),Kf(),qi());return Rn(t,r,p,a),r.child}function Do(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Ey(t,r,a,c,p){var g=Df();return g=g===null?null:{parent:ln._currentValue,pool:g},r.memoizedState={baseLanes:a,cachePool:g},t!==null&&Xu(r,null),Kf(),Rm(r),t!==null&&ba(t,r,c,!0),r.childLanes=p,null}function fc(t,r){return r=hc({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function Sy(t,r,a){return Ns(r,t.child,null,a),t=fc(r,r.pendingProps),t.flags|=2,tr(r),r.memoizedState=null,t}function FS(t,r,a){var c=r.pendingProps,p=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(ue){if(c.mode==="hidden")return t=fc(r,c),r.lanes=536870912,Do(null,t);if(Gf(r),(t=De)?(t=U1(t,pr),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Ii!==null?{id:Mr,overflow:Ur}:null,retryLane:536870912,hydrationErrors:null},a=am(t),a.return=r,r.child=a,Sn=r,De=null)):t=null,t===null)throw Mi(r);return r.lanes=536870912,null}return fc(r,c)}var g=t.memoizedState;if(g!==null){var N=g.dehydrated;if(Gf(r),p)if(r.flags&256)r.flags&=-257,r=Sy(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(i(558));else if(dn||ba(t,r,a,!1),p=(a&t.childLanes)!==0,dn||p){if(c=Ne,c!==null&&(N=Ye(c,a),N!==0&&N!==g.retryLane))throw g.retryLane=N,vs(t,N),Yn(c,t,N),dd;Ec(),r=Sy(t,r,a)}else t=g.treeContext,De=yr(N.nextSibling),Sn=r,ue=!0,Bi=null,pr=!1,t!==null&&cm(r,t),r=fc(r,c),r.flags|=4096;return r}return t=ti(t.child,{mode:c.mode,children:c.children}),t.ref=r.ref,r.child=t,t.return=r,t}function dc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function hd(t,r,a,c,p){return Rs(r),a=Ff(t,r,a,c,void 0,p),c=Zf(),t!==null&&!dn?(Xf(t,r,p),ai(t,r,p)):(ue&&c&&Of(r),r.flags|=1,Rn(t,r,a,p),r.child)}function Ay(t,r,a,c,p,g){return Rs(r),r.updateQueue=null,a=xm(r,c,a,p),Tm(t),c=Zf(),t!==null&&!dn?(Xf(t,r,g),ai(t,r,g)):(ue&&c&&Of(r),r.flags|=1,Rn(t,r,a,g),r.child)}function Ry(t,r,a,c,p){if(Rs(r),r.stateNode===null){var g=pa,N=a.contextType;typeof N=="object"&&N!==null&&(g=An(N)),g=new a(c,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=ld,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=c,g.state=r.memoizedState,g.refs={},Hf(r),N=a.contextType,g.context=typeof N=="object"&&N!==null?An(N):pa,g.state=r.memoizedState,N=a.getDerivedStateFromProps,typeof N=="function"&&(cd(r,a,N,c),g.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(N=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),N!==g.state&&ld.enqueueReplaceState(g,g.state,null),Io(r,c,g,p),Co(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(t===null){g=r.stateNode;var q=r.memoizedProps,Q=Cs(a,q);g.props=Q;var ft=g.context,gt=a.contextType;N=pa,typeof gt=="object"&&gt!==null&&(N=An(gt));var _t=a.getDerivedStateFromProps;gt=typeof _t=="function"||typeof g.getSnapshotBeforeUpdate=="function",q=r.pendingProps!==q,gt||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(q||ft!==N)&&fy(r,g,c,N),Li=!1;var ht=r.memoizedState;g.state=ht,Io(r,c,g,p),Co(),ft=r.memoizedState,q||ht!==ft||Li?(typeof _t=="function"&&(cd(r,a,_t,c),ft=r.memoizedState),(Q=Li||ly(r,a,Q,c,ht,ft,N))?(gt||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=ft),g.props=c,g.state=ft,g.context=N,c=Q):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{g=r.stateNode,qf(t,r),N=r.memoizedProps,gt=Cs(a,N),g.props=gt,_t=r.pendingProps,ht=g.context,ft=a.contextType,Q=pa,typeof ft=="object"&&ft!==null&&(Q=An(ft)),q=a.getDerivedStateFromProps,(ft=typeof q=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(N!==_t||ht!==Q)&&fy(r,g,c,Q),Li=!1,ht=r.memoizedState,g.state=ht,Io(r,c,g,p),Co();var yt=r.memoizedState;N!==_t||ht!==yt||Li||t!==null&&t.dependencies!==null&&Fu(t.dependencies)?(typeof q=="function"&&(cd(r,a,q,c),yt=r.memoizedState),(gt=Li||ly(r,a,gt,c,ht,yt,Q)||t!==null&&t.dependencies!==null&&Fu(t.dependencies))?(ft||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,yt,Q),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,yt,Q)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||N===t.memoizedProps&&ht===t.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||N===t.memoizedProps&&ht===t.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=yt),g.props=c,g.state=yt,g.context=Q,c=gt):(typeof g.componentDidUpdate!="function"||N===t.memoizedProps&&ht===t.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||N===t.memoizedProps&&ht===t.memoizedState||(r.flags|=1024),c=!1)}return g=c,dc(t,r),c=(r.flags&128)!==0,g||c?(g=r.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,t!==null&&c?(r.child=Ns(r,t.child,null,p),r.child=Ns(r,null,a,p)):Rn(t,r,a,p),r.memoizedState=g.state,t=r.child):t=ai(t,r,p),t}function Ty(t,r,a,c){return Ss(),r.flags|=256,Rn(t,r,a,c),r.child}var pd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function md(t){return{baseLanes:t,cachePool:mm()}}function yd(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=nr),t}function xy(t,r,a){var c=r.pendingProps,p=!1,g=(r.flags&128)!==0,N;if((N=g)||(N=t!==null&&t.memoizedState===null?!1:(on.current&2)!==0),N&&(p=!0,r.flags&=-129),N=(r.flags&32)!==0,r.flags&=-33,t===null){if(ue){if(p?Hi(r):qi(),(t=De)?(t=U1(t,pr),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Ii!==null?{id:Mr,overflow:Ur}:null,retryLane:536870912,hydrationErrors:null},a=am(t),a.return=r,r.child=a,Sn=r,De=null)):t=null,t===null)throw Mi(r);return Qd(t)?r.lanes=32:r.lanes=536870912,null}var q=c.children;return c=c.fallback,p?(qi(),p=r.mode,q=hc({mode:"hidden",children:q},p),c=Es(c,p,a,null),q.return=r,c.return=r,q.sibling=c,r.child=q,c=r.child,c.memoizedState=md(a),c.childLanes=yd(t,N,a),r.memoizedState=pd,Do(null,c)):(Hi(r),gd(r,q))}var Q=t.memoizedState;if(Q!==null&&(q=Q.dehydrated,q!==null)){if(g)r.flags&256?(Hi(r),r.flags&=-257,r=bd(t,r,a)):r.memoizedState!==null?(qi(),r.child=t.child,r.flags|=128,r=null):(qi(),q=c.fallback,p=r.mode,c=hc({mode:"visible",children:c.children},p),q=Es(q,p,a,null),q.flags|=2,c.return=r,q.return=r,c.sibling=q,r.child=c,Ns(r,t.child,null,a),c=r.child,c.memoizedState=md(a),c.childLanes=yd(t,N,a),r.memoizedState=pd,r=Do(null,c));else if(Hi(r),Qd(q)){if(N=q.nextSibling&&q.nextSibling.dataset,N)var ft=N.dgst;N=ft,c=Error(i(419)),c.stack="",c.digest=N,Ro({value:c,source:null,stack:null}),r=bd(t,r,a)}else if(dn||ba(t,r,a,!1),N=(a&t.childLanes)!==0,dn||N){if(N=Ne,N!==null&&(c=Ye(N,a),c!==0&&c!==Q.retryLane))throw Q.retryLane=c,vs(t,c),Yn(N,t,c),dd;Wd(q)||Ec(),r=bd(t,r,a)}else Wd(q)?(r.flags|=192,r.child=t.child,r=null):(t=Q.treeContext,De=yr(q.nextSibling),Sn=r,ue=!0,Bi=null,pr=!1,t!==null&&cm(r,t),r=gd(r,c.children),r.flags|=4096);return r}return p?(qi(),q=c.fallback,p=r.mode,Q=t.child,ft=Q.sibling,c=ti(Q,{mode:"hidden",children:c.children}),c.subtreeFlags=Q.subtreeFlags&65011712,ft!==null?q=ti(ft,q):(q=Es(q,p,a,null),q.flags|=2),q.return=r,c.return=r,c.sibling=q,r.child=c,Do(null,c),c=r.child,q=t.child.memoizedState,q===null?q=md(a):(p=q.cachePool,p!==null?(Q=ln._currentValue,p=p.parent!==Q?{parent:Q,pool:Q}:p):p=mm(),q={baseLanes:q.baseLanes|a,cachePool:p}),c.memoizedState=q,c.childLanes=yd(t,N,a),r.memoizedState=pd,Do(t.child,c)):(Hi(r),a=t.child,t=a.sibling,a=ti(a,{mode:"visible",children:c.children}),a.return=r,a.sibling=null,t!==null&&(N=r.deletions,N===null?(r.deletions=[t],r.flags|=16):N.push(t)),r.child=a,r.memoizedState=null,a)}function gd(t,r){return r=hc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function hc(t,r){return t=Qn(22,t,null,r),t.lanes=0,t}function bd(t,r,a){return Ns(r,t.child,null,a),t=gd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Oy(t,r,a){t.lanes|=r;var c=t.alternate;c!==null&&(c.lanes|=r),Bf(t.return,r,a)}function _d(t,r,a,c,p,g){var N=t.memoizedState;N===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:p,treeForkCount:g}:(N.isBackwards=r,N.rendering=null,N.renderingStartTime=0,N.last=c,N.tail=a,N.tailMode=p,N.treeForkCount=g)}function Ny(t,r,a){var c=r.pendingProps,p=c.revealOrder,g=c.tail;c=c.children;var N=on.current,q=(N&2)!==0;if(q?(N=N&1|2,r.flags|=128):N&=1,b(on,N),Rn(t,r,c,a),c=ue?Ao:0,!q&&t!==null&&(t.flags&128)!==0)t:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Oy(t,a,r);else if(t.tag===19)Oy(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break t;for(;t.sibling===null;){if(t.return===null||t.return===r)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(p){case"forwards":for(a=r.child,p=null;a!==null;)t=a.alternate,t!==null&&ec(t)===null&&(p=a),a=a.sibling;a=p,a===null?(p=r.child,r.child=null):(p=a.sibling,a.sibling=null),_d(r,!1,p,a,g,c);break;case"backwards":case"unstable_legacy-backwards":for(a=null,p=r.child,r.child=null;p!==null;){if(t=p.alternate,t!==null&&ec(t)===null){r.child=p;break}t=p.sibling,p.sibling=a,a=p,p=t}_d(r,!0,a,null,g,c);break;case"together":_d(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function ai(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Ki|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(ba(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(i(153));if(r.child!==null){for(t=r.child,a=ti(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=ti(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function wd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Fu(t)))}function ZS(t,r,a){switch(r.tag){case 3:vt(r,r.stateNode.containerInfo),Ui(r,ln,t.memoizedState.cache),Ss();break;case 27:case 5:Pt(r);break;case 4:vt(r,r.stateNode.containerInfo);break;case 10:Ui(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Gf(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(Hi(r),r.flags|=128,null):(a&r.child.childLanes)!==0?xy(t,r,a):(Hi(r),t=ai(t,r,a),t!==null?t.sibling:null);Hi(r);break;case 19:var p=(t.flags&128)!==0;if(c=(a&r.childLanes)!==0,c||(ba(t,r,a,!1),c=(a&r.childLanes)!==0),p){if(c)return Ny(t,r,a);r.flags|=128}if(p=r.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),b(on,on.current),c)break;return null;case 22:return r.lanes=0,vy(t,r,a,r.pendingProps);case 24:Ui(r,ln,t.memoizedState.cache)}return ai(t,r,a)}function ky(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)dn=!0;else{if(!wd(t,a)&&(r.flags&128)===0)return dn=!1,ZS(t,r,a);dn=(t.flags&131072)!==0}else dn=!1,ue&&(r.flags&1048576)!==0&&um(r,Ao,r.index);switch(r.lanes=0,r.tag){case 16:t:{var c=r.pendingProps;if(t=xs(r.elementType),r.type=t,typeof t=="function")Rf(t)?(c=Cs(t,c),r.tag=1,r=Ry(null,r,t,c,a)):(r.tag=0,r=hd(null,r,t,c,a));else{if(t!=null){var p=t.$$typeof;if(p===$){r.tag=11,r=by(null,r,t,c,a);break t}else if(p===st){r.tag=14,r=_y(null,r,t,c,a);break t}}throw r=h(t)||t,Error(i(306,r,""))}}return r;case 0:return hd(t,r,r.type,r.pendingProps,a);case 1:return c=r.type,p=Cs(c,r.pendingProps),Ry(t,r,c,p,a);case 3:t:{if(vt(r,r.stateNode.containerInfo),t===null)throw Error(i(387));c=r.pendingProps;var g=r.memoizedState;p=g.element,qf(t,r),Io(r,c,null,a);var N=r.memoizedState;if(c=N.cache,Ui(r,ln,c),c!==g.cache&&Mf(r,[ln],a,!0),Co(),c=N.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:N.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=Ty(t,r,c,a);break t}else if(c!==p){p=fr(Error(i(424)),r),Ro(p),r=Ty(t,r,c,a);break t}else for(t=r.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,De=yr(t.firstChild),Sn=r,ue=!0,Bi=null,pr=!0,a=vm(r,null,c,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ss(),c===p){r=ai(t,r,a);break t}Rn(t,r,c,a)}r=r.child}return r;case 26:return dc(t,r),t===null?(a=j1(r.type,null,r.pendingProps,null))?r.memoizedState=a:ue||(a=r.type,t=r.pendingProps,c=Nc(Z.current).createElement(a),c[Jt]=r,c[oe]=t,Tn(c,a,t),en(c),r.stateNode=c):r.memoizedState=j1(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Pt(r),t===null&&ue&&(c=r.stateNode=z1(r.type,r.pendingProps,Z.current),Sn=r,pr=!0,p=De,Zi(r.type)?(Jd=p,De=yr(c.firstChild)):De=p),Rn(t,r,r.pendingProps.children,a),dc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&ue&&((p=c=De)&&(c=AA(c,r.type,r.pendingProps,pr),c!==null?(r.stateNode=c,Sn=r,De=yr(c.firstChild),pr=!1,p=!0):p=!1),p||Mi(r)),Pt(r),p=r.type,g=r.pendingProps,N=t!==null?t.memoizedProps:null,c=g.children,Zd(p,g)?c=null:N!==null&&Zd(p,N)&&(r.flags|=32),r.memoizedState!==null&&(p=Ff(t,r,HS,null,null,a),Qo._currentValue=p),dc(t,r),Rn(t,r,c,a),r.child;case 6:return t===null&&ue&&((t=a=De)&&(a=RA(a,r.pendingProps,pr),a!==null?(r.stateNode=a,Sn=r,De=null,t=!0):t=!1),t||Mi(r)),null;case 13:return xy(t,r,a);case 4:return vt(r,r.stateNode.containerInfo),c=r.pendingProps,t===null?r.child=Ns(r,null,c,a):Rn(t,r,c,a),r.child;case 11:return by(t,r,r.type,r.pendingProps,a);case 7:return Rn(t,r,r.pendingProps,a),r.child;case 8:return Rn(t,r,r.pendingProps.children,a),r.child;case 12:return Rn(t,r,r.pendingProps.children,a),r.child;case 10:return c=r.pendingProps,Ui(r,r.type,c.value),Rn(t,r,c.children,a),r.child;case 9:return p=r.type._context,c=r.pendingProps.children,Rs(r),p=An(p),c=c(p),r.flags|=1,Rn(t,r,c,a),r.child;case 14:return _y(t,r,r.type,r.pendingProps,a);case 15:return wy(t,r,r.type,r.pendingProps,a);case 19:return Ny(t,r,a);case 31:return FS(t,r,a);case 22:return vy(t,r,a,r.pendingProps);case 24:return Rs(r),c=An(ln),t===null?(p=Df(),p===null&&(p=Ne,g=Uf(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=a),p=g),r.memoizedState={parent:c,cache:p},Hf(r),Ui(r,ln,p)):((t.lanes&a)!==0&&(qf(t,r),Io(r,null,null,a),Co()),p=t.memoizedState,g=r.memoizedState,p.parent!==c?(p={parent:c,cache:c},r.memoizedState=p,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=p),Ui(r,ln,c)):(c=g.cache,Ui(r,ln,c),c!==p.cache&&Mf(r,[ln],a,!0))),Rn(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function oi(t){t.flags|=4}function vd(t,r,a,c,p){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(p&335544128)===p)if(t.stateNode.complete)t.flags|=8192;else if(r1())t.flags|=8192;else throw Os=Wu,zf}else t.flags&=-16777217}function Cy(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Y1(r))if(r1())t.flags|=8192;else throw Os=Wu,zf}function pc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Ve():536870912,t.lanes|=r,ka|=r)}function zo(t,r){if(!ue)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function ze(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,c=0;if(r)for(var p=t.child;p!==null;)a|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=t,p=p.sibling;else for(p=t.child;p!==null;)a|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=t,p=p.sibling;return t.subtreeFlags|=c,t.childLanes=a,r}function XS(t,r,a){var c=r.pendingProps;switch(Nf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(r),null;case 1:return ze(r),null;case 3:return a=r.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),ri(ln),Et(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ga(r)?oi(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Cf())),ze(r),null;case 26:var p=r.type,g=r.memoizedState;return t===null?(oi(r),g!==null?(ze(r),Cy(r,g)):(ze(r),vd(r,p,null,c,a))):g?g!==t.memoizedState?(oi(r),ze(r),Cy(r,g)):(ze(r),r.flags&=-16777217):(t=t.memoizedProps,t!==c&&oi(r),ze(r),vd(r,p,t,c,a)),null;case 27:if(Gt(r),a=Z.current,p=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==c&&oi(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return ze(r),null}t=x.current,ga(r)?lm(r):(t=z1(p,c,a),r.stateNode=t,oi(r))}return ze(r),null;case 5:if(Gt(r),p=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==c&&oi(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return ze(r),null}if(g=x.current,ga(r))lm(r);else{var N=Nc(Z.current);switch(g){case 1:g=N.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:g=N.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":g=N.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":g=N.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":g=N.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?N.createElement("select",{is:c.is}):N.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?N.createElement(p,{is:c.is}):N.createElement(p)}}g[Jt]=r,g[oe]=c;t:for(N=r.child;N!==null;){if(N.tag===5||N.tag===6)g.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===r)break t;for(;N.sibling===null;){if(N.return===null||N.return===r)break t;N=N.return}N.sibling.return=N.return,N=N.sibling}r.stateNode=g;t:switch(Tn(g,p,c),p){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&oi(r)}}return ze(r),vd(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==c&&oi(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(i(166));if(t=Z.current,ga(r)){if(t=r.stateNode,a=r.memoizedProps,c=null,p=Sn,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}t[Jt]=r,t=!!(t.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||x1(t.nodeValue,a)),t||Mi(r,!0)}else t=Nc(t).createTextNode(c),t[Jt]=r,r.stateNode=t}return ze(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(c=ga(r),a!==null){if(t===null){if(!c)throw Error(i(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(557));t[Jt]=r}else Ss(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ze(r),t=!1}else a=Cf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(tr(r),r):(tr(r),null);if((r.flags&128)!==0)throw Error(i(558))}return ze(r),null;case 13:if(c=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(p=ga(r),c!==null&&c.dehydrated!==null){if(t===null){if(!p)throw Error(i(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[Jt]=r}else Ss(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ze(r),p=!1}else p=Cf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=p),p=!0;if(!p)return r.flags&256?(tr(r),r):(tr(r),null)}return tr(r),(r.flags&128)!==0?(r.lanes=a,r):(a=c!==null,t=t!==null&&t.memoizedState!==null,a&&(c=r.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==p&&(c.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),pc(r,r.updateQueue),ze(r),null);case 4:return Et(),t===null&&Kd(r.stateNode.containerInfo),ze(r),null;case 10:return ri(r.type),ze(r),null;case 19:if(f(on),c=r.memoizedState,c===null)return ze(r),null;if(p=(r.flags&128)!==0,g=c.rendering,g===null)if(p)zo(c,!1);else{if(rn!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(g=ec(t),g!==null){for(r.flags|=128,zo(c,!1),t=g.updateQueue,r.updateQueue=t,pc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)sm(a,t),a=a.sibling;return b(on,on.current&1|2),ue&&ei(r,c.treeForkCount),r.child}t=t.sibling}c.tail!==null&&te()>_c&&(r.flags|=128,p=!0,zo(c,!1),r.lanes=4194304)}else{if(!p)if(t=ec(g),t!==null){if(r.flags|=128,p=!0,t=t.updateQueue,r.updateQueue=t,pc(r,t),zo(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!ue)return ze(r),null}else 2*te()-c.renderingStartTime>_c&&a!==536870912&&(r.flags|=128,p=!0,zo(c,!1),r.lanes=4194304);c.isBackwards?(g.sibling=r.child,r.child=g):(t=c.last,t!==null?t.sibling=g:r.child=g,c.last=g)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=te(),t.sibling=null,a=on.current,b(on,p?a&1|2:a&1),ue&&ei(r,c.treeForkCount),t):(ze(r),null);case 22:case 23:return tr(r),Vf(),c=r.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(a&536870912)!==0&&(r.flags&128)===0&&(ze(r),r.subtreeFlags&6&&(r.flags|=8192)):ze(r),a=r.updateQueue,a!==null&&pc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==a&&(r.flags|=2048),t!==null&&f(Ts),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),ri(ln),ze(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function $S(t,r){switch(Nf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return ri(ln),Et(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Gt(r),null;case 31:if(r.memoizedState!==null){if(tr(r),r.alternate===null)throw Error(i(340));Ss()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(tr(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Ss()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return f(on),null;case 4:return Et(),null;case 10:return ri(r.type),null;case 22:case 23:return tr(r),Vf(),t!==null&&f(Ts),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return ri(ln),null;case 25:return null;default:return null}}function Iy(t,r){switch(Nf(r),r.tag){case 3:ri(ln),Et();break;case 26:case 27:case 5:Gt(r);break;case 4:Et();break;case 31:r.memoizedState!==null&&tr(r);break;case 13:tr(r);break;case 19:f(on);break;case 10:ri(r.type);break;case 22:case 23:tr(r),Vf(),t!==null&&f(Ts);break;case 24:ri(ln)}}function Ho(t,r){try{var a=r.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var p=c.next;a=p;do{if((a.tag&t)===t){c=void 0;var g=a.create,N=a.inst;c=g(),N.destroy=c}a=a.next}while(a!==p)}}catch(q){we(r,r.return,q)}}function ji(t,r,a){try{var c=r.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var g=p.next;c=g;do{if((c.tag&t)===t){var N=c.inst,q=N.destroy;if(q!==void 0){N.destroy=void 0,p=r;var Q=a,ft=q;try{ft()}catch(gt){we(p,Q,gt)}}}c=c.next}while(c!==g)}}catch(gt){we(r,r.return,gt)}}function By(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Sm(r,a)}catch(c){we(t,t.return,c)}}}function My(t,r,a){a.props=Cs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(c){we(t,r,c)}}function qo(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof a=="function"?t.refCleanup=a(c):a.current=c}}catch(p){we(t,r,p)}}function Lr(t,r){var a=t.ref,c=t.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(p){we(t,r,p)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(p){we(t,r,p)}else a.current=null}function Uy(t){var r=t.type,a=t.memoizedProps,c=t.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break t;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(p){we(t,t.return,p)}}function Ed(t,r,a){try{var c=t.stateNode;bA(c,t.type,a,r),c[oe]=r}catch(p){we(t,t.return,p)}}function Ly(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Zi(t.type)||t.tag===4}function Sd(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Ly(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Zi(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ad(t,r,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Qr));else if(c!==4&&(c===27&&Zi(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Ad(t,r,a),t=t.sibling;t!==null;)Ad(t,r,a),t=t.sibling}function mc(t,r,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(c!==4&&(c===27&&Zi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(mc(t,r,a),t=t.sibling;t!==null;)mc(t,r,a),t=t.sibling}function Dy(t){var r=t.stateNode,a=t.memoizedProps;try{for(var c=t.type,p=r.attributes;p.length;)r.removeAttributeNode(p[0]);Tn(r,c,a),r[Jt]=t,r[oe]=a}catch(g){we(t,t.return,g)}}var ui=!1,hn=!1,Rd=!1,zy=typeof WeakSet=="function"?WeakSet:Set,bn=null;function WS(t,r){if(t=t.containerInfo,Yd=Lc,t=$p(t),bf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var p=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break t}var N=0,q=-1,Q=-1,ft=0,gt=0,_t=t,ht=null;e:for(;;){for(var yt;_t!==a||p!==0&&_t.nodeType!==3||(q=N+p),_t!==g||c!==0&&_t.nodeType!==3||(Q=N+c),_t.nodeType===3&&(N+=_t.nodeValue.length),(yt=_t.firstChild)!==null;)ht=_t,_t=yt;for(;;){if(_t===t)break e;if(ht===a&&++ft===p&&(q=N),ht===g&&++gt===c&&(Q=N),(yt=_t.nextSibling)!==null)break;_t=ht,ht=_t.parentNode}_t=yt}a=q===-1||Q===-1?null:{start:q,end:Q}}else a=null}a=a||{start:0,end:0}}else a=null;for(Fd={focusedElem:t,selectionRange:a},Lc=!1,bn=r;bn!==null;)if(r=bn,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,bn=t;else for(;bn!==null;){switch(r=bn,g=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)p=t[a],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&g!==null){t=void 0,a=r,p=g.memoizedProps,g=g.memoizedState,c=a.stateNode;try{var It=Cs(a.type,p);t=c.getSnapshotBeforeUpdate(It,g),c.__reactInternalSnapshotBeforeUpdate=t}catch(qt){we(a,a.return,qt)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)$d(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":$d(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=r.sibling,t!==null){t.return=r.return,bn=t;break}bn=r.return}}function Hy(t,r,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:li(t,a),c&4&&Ho(5,a);break;case 1:if(li(t,a),c&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(N){we(a,a.return,N)}else{var p=Cs(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(p,r,t.__reactInternalSnapshotBeforeUpdate)}catch(N){we(a,a.return,N)}}c&64&&By(a),c&512&&qo(a,a.return);break;case 3:if(li(t,a),c&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Sm(t,r)}catch(N){we(a,a.return,N)}}break;case 27:r===null&&c&4&&Dy(a);case 26:case 5:li(t,a),r===null&&c&4&&Uy(a),c&512&&qo(a,a.return);break;case 12:li(t,a);break;case 31:li(t,a),c&4&&Py(t,a);break;case 13:li(t,a),c&4&&Ky(t,a),c&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=aA.bind(null,a),TA(t,a))));break;case 22:if(c=a.memoizedState!==null||ui,!c){r=r!==null&&r.memoizedState!==null||hn,p=ui;var g=hn;ui=c,(hn=r)&&!g?fi(t,a,(a.subtreeFlags&8772)!==0):li(t,a),ui=p,hn=g}break;case 30:break;default:li(t,a)}}function qy(t){var r=t.alternate;r!==null&&(t.alternate=null,qy(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&gs(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Pe=null,Pn=!1;function ci(t,r,a){for(a=a.child;a!==null;)jy(t,r,a),a=a.sibling}function jy(t,r,a){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(mt,a)}catch{}switch(a.tag){case 26:hn||Lr(a,r),ci(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:hn||Lr(a,r);var c=Pe,p=Pn;Zi(a.type)&&(Pe=a.stateNode,Pn=!1),ci(t,r,a),Xo(a.stateNode),Pe=c,Pn=p;break;case 5:hn||Lr(a,r);case 6:if(c=Pe,p=Pn,Pe=null,ci(t,r,a),Pe=c,Pn=p,Pe!==null)if(Pn)try{(Pe.nodeType===9?Pe.body:Pe.nodeName==="HTML"?Pe.ownerDocument.body:Pe).removeChild(a.stateNode)}catch(g){we(a,r,g)}else try{Pe.removeChild(a.stateNode)}catch(g){we(a,r,g)}break;case 18:Pe!==null&&(Pn?(t=Pe,B1(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),za(t)):B1(Pe,a.stateNode));break;case 4:c=Pe,p=Pn,Pe=a.stateNode.containerInfo,Pn=!0,ci(t,r,a),Pe=c,Pn=p;break;case 0:case 11:case 14:case 15:ji(2,a,r),hn||ji(4,a,r),ci(t,r,a);break;case 1:hn||(Lr(a,r),c=a.stateNode,typeof c.componentWillUnmount=="function"&&My(a,r,c)),ci(t,r,a);break;case 21:ci(t,r,a);break;case 22:hn=(c=hn)||a.memoizedState!==null,ci(t,r,a),hn=c;break;default:ci(t,r,a)}}function Py(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{za(t)}catch(a){we(r,r.return,a)}}}function Ky(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{za(t)}catch(a){we(r,r.return,a)}}function QS(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new zy),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new zy),r;default:throw Error(i(435,t.tag))}}function yc(t,r){var a=QS(t);r.forEach(function(c){if(!a.has(c)){a.add(c);var p=oA.bind(null,t,c);c.then(p,p)}})}function Kn(t,r){var a=r.deletions;if(a!==null)for(var c=0;c<a.length;c++){var p=a[c],g=t,N=r,q=N;t:for(;q!==null;){switch(q.tag){case 27:if(Zi(q.type)){Pe=q.stateNode,Pn=!1;break t}break;case 5:Pe=q.stateNode,Pn=!1;break t;case 3:case 4:Pe=q.stateNode.containerInfo,Pn=!0;break t}q=q.return}if(Pe===null)throw Error(i(160));jy(g,N,p),Pe=null,Pn=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Vy(r,t),r=r.sibling}var Ar=null;function Vy(t,r){var a=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Kn(r,t),Vn(t),c&4&&(ji(3,t,t.return),Ho(3,t),ji(5,t,t.return));break;case 1:Kn(r,t),Vn(t),c&512&&(hn||a===null||Lr(a,a.return)),c&64&&ui&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var p=Ar;if(Kn(r,t),Vn(t),c&512&&(hn||a===null||Lr(a,a.return)),c&4){var g=a!==null?a.memoizedState:null;if(c=t.memoizedState,a===null)if(c===null)if(t.stateNode===null){t:{c=t.type,a=t.memoizedProps,p=p.ownerDocument||p;e:switch(c){case"title":g=p.getElementsByTagName("title")[0],(!g||g[Xr]||g[Jt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(c),p.head.insertBefore(g,p.querySelector("head > title"))),Tn(g,c,a),g[Jt]=t,en(g),c=g;break t;case"link":var N=V1("link","href",p).get(c+(a.href||""));if(N){for(var q=0;q<N.length;q++)if(g=N[q],g.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&g.getAttribute("rel")===(a.rel==null?null:a.rel)&&g.getAttribute("title")===(a.title==null?null:a.title)&&g.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){N.splice(q,1);break e}}g=p.createElement(c),Tn(g,c,a),p.head.appendChild(g);break;case"meta":if(N=V1("meta","content",p).get(c+(a.content||""))){for(q=0;q<N.length;q++)if(g=N[q],g.getAttribute("content")===(a.content==null?null:""+a.content)&&g.getAttribute("name")===(a.name==null?null:a.name)&&g.getAttribute("property")===(a.property==null?null:a.property)&&g.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&g.getAttribute("charset")===(a.charSet==null?null:a.charSet)){N.splice(q,1);break e}}g=p.createElement(c),Tn(g,c,a),p.head.appendChild(g);break;default:throw Error(i(468,c))}g[Jt]=t,en(g),c=g}t.stateNode=c}else G1(p,t.type,t.stateNode);else t.stateNode=K1(p,c,t.memoizedProps);else g!==c?(g===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):g.count--,c===null?G1(p,t.type,t.stateNode):K1(p,c,t.memoizedProps)):c===null&&t.stateNode!==null&&Ed(t,t.memoizedProps,a.memoizedProps)}break;case 27:Kn(r,t),Vn(t),c&512&&(hn||a===null||Lr(a,a.return)),a!==null&&c&4&&Ed(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Kn(r,t),Vn(t),c&512&&(hn||a===null||Lr(a,a.return)),t.flags&32){p=t.stateNode;try{oa(p,"")}catch(It){we(t,t.return,It)}}c&4&&t.stateNode!=null&&(p=t.memoizedProps,Ed(t,p,a!==null?a.memoizedProps:p)),c&1024&&(Rd=!0);break;case 6:if(Kn(r,t),Vn(t),c&4){if(t.stateNode===null)throw Error(i(162));c=t.memoizedProps,a=t.stateNode;try{a.nodeValue=c}catch(It){we(t,t.return,It)}}break;case 3:if(Ic=null,p=Ar,Ar=kc(r.containerInfo),Kn(r,t),Ar=p,Vn(t),c&4&&a!==null&&a.memoizedState.isDehydrated)try{za(r.containerInfo)}catch(It){we(t,t.return,It)}Rd&&(Rd=!1,Gy(t));break;case 4:c=Ar,Ar=kc(t.stateNode.containerInfo),Kn(r,t),Vn(t),Ar=c;break;case 12:Kn(r,t),Vn(t);break;case 31:Kn(r,t),Vn(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,yc(t,c)));break;case 13:Kn(r,t),Vn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(bc=te()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,yc(t,c)));break;case 22:p=t.memoizedState!==null;var Q=a!==null&&a.memoizedState!==null,ft=ui,gt=hn;if(ui=ft||p,hn=gt||Q,Kn(r,t),hn=gt,ui=ft,Vn(t),c&8192)t:for(r=t.stateNode,r._visibility=p?r._visibility&-2:r._visibility|1,p&&(a===null||Q||ui||hn||Is(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){Q=a=r;try{if(g=Q.stateNode,p)N=g.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{q=Q.stateNode;var _t=Q.memoizedProps.style,ht=_t!=null&&_t.hasOwnProperty("display")?_t.display:null;q.style.display=ht==null||typeof ht=="boolean"?"":(""+ht).trim()}}catch(It){we(Q,Q.return,It)}}}else if(r.tag===6){if(a===null){Q=r;try{Q.stateNode.nodeValue=p?"":Q.memoizedProps}catch(It){we(Q,Q.return,It)}}}else if(r.tag===18){if(a===null){Q=r;try{var yt=Q.stateNode;p?M1(yt,!0):M1(Q.stateNode,!1)}catch(It){we(Q,Q.return,It)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break t;for(;r.sibling===null;){if(r.return===null||r.return===t)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=t.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,yc(t,a))));break;case 19:Kn(r,t),Vn(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,yc(t,c)));break;case 30:break;case 21:break;default:Kn(r,t),Vn(t)}}function Vn(t){var r=t.flags;if(r&2){try{for(var a,c=t.return;c!==null;){if(Ly(c)){a=c;break}c=c.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var p=a.stateNode,g=Sd(t);mc(t,g,p);break;case 5:var N=a.stateNode;a.flags&32&&(oa(N,""),a.flags&=-33);var q=Sd(t);mc(t,q,N);break;case 3:case 4:var Q=a.stateNode.containerInfo,ft=Sd(t);Ad(t,ft,Q);break;default:throw Error(i(161))}}catch(gt){we(t,t.return,gt)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Gy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;Gy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function li(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Hy(t,r.alternate,r),r=r.sibling}function Is(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:ji(4,r,r.return),Is(r);break;case 1:Lr(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&My(r,r.return,a),Is(r);break;case 27:Xo(r.stateNode);case 26:case 5:Lr(r,r.return),Is(r);break;case 22:r.memoizedState===null&&Is(r);break;case 30:Is(r);break;default:Is(r)}t=t.sibling}}function fi(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,p=t,g=r,N=g.flags;switch(g.tag){case 0:case 11:case 15:fi(p,g,a),Ho(4,g);break;case 1:if(fi(p,g,a),c=g,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(ft){we(c,c.return,ft)}if(c=g,p=c.updateQueue,p!==null){var q=c.stateNode;try{var Q=p.shared.hiddenCallbacks;if(Q!==null)for(p.shared.hiddenCallbacks=null,p=0;p<Q.length;p++)Em(Q[p],q)}catch(ft){we(c,c.return,ft)}}a&&N&64&&By(g),qo(g,g.return);break;case 27:Dy(g);case 26:case 5:fi(p,g,a),a&&c===null&&N&4&&Uy(g),qo(g,g.return);break;case 12:fi(p,g,a);break;case 31:fi(p,g,a),a&&N&4&&Py(p,g);break;case 13:fi(p,g,a),a&&N&4&&Ky(p,g);break;case 22:g.memoizedState===null&&fi(p,g,a),qo(g,g.return);break;case 30:break;default:fi(p,g,a)}r=r.sibling}}function Td(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&To(a))}function xd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&To(t))}function Rr(t,r,a,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Yy(t,r,a,c),r=r.sibling}function Yy(t,r,a,c){var p=r.flags;switch(r.tag){case 0:case 11:case 15:Rr(t,r,a,c),p&2048&&Ho(9,r);break;case 1:Rr(t,r,a,c);break;case 3:Rr(t,r,a,c),p&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&To(t)));break;case 12:if(p&2048){Rr(t,r,a,c),t=r.stateNode;try{var g=r.memoizedProps,N=g.id,q=g.onPostCommit;typeof q=="function"&&q(N,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(Q){we(r,r.return,Q)}}else Rr(t,r,a,c);break;case 31:Rr(t,r,a,c);break;case 13:Rr(t,r,a,c);break;case 23:break;case 22:g=r.stateNode,N=r.alternate,r.memoizedState!==null?g._visibility&2?Rr(t,r,a,c):jo(t,r):g._visibility&2?Rr(t,r,a,c):(g._visibility|=2,xa(t,r,a,c,(r.subtreeFlags&10256)!==0||!1)),p&2048&&Td(N,r);break;case 24:Rr(t,r,a,c),p&2048&&xd(r.alternate,r);break;default:Rr(t,r,a,c)}}function xa(t,r,a,c,p){for(p=p&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=t,N=r,q=a,Q=c,ft=N.flags;switch(N.tag){case 0:case 11:case 15:xa(g,N,q,Q,p),Ho(8,N);break;case 23:break;case 22:var gt=N.stateNode;N.memoizedState!==null?gt._visibility&2?xa(g,N,q,Q,p):jo(g,N):(gt._visibility|=2,xa(g,N,q,Q,p)),p&&ft&2048&&Td(N.alternate,N);break;case 24:xa(g,N,q,Q,p),p&&ft&2048&&xd(N.alternate,N);break;default:xa(g,N,q,Q,p)}r=r.sibling}}function jo(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,c=r,p=c.flags;switch(c.tag){case 22:jo(a,c),p&2048&&Td(c.alternate,c);break;case 24:jo(a,c),p&2048&&xd(c.alternate,c);break;default:jo(a,c)}r=r.sibling}}var Po=8192;function Oa(t,r,a){if(t.subtreeFlags&Po)for(t=t.child;t!==null;)Fy(t,r,a),t=t.sibling}function Fy(t,r,a){switch(t.tag){case 26:Oa(t,r,a),t.flags&Po&&t.memoizedState!==null&&zA(a,Ar,t.memoizedState,t.memoizedProps);break;case 5:Oa(t,r,a);break;case 3:case 4:var c=Ar;Ar=kc(t.stateNode.containerInfo),Oa(t,r,a),Ar=c;break;case 22:t.memoizedState===null&&(c=t.alternate,c!==null&&c.memoizedState!==null?(c=Po,Po=16777216,Oa(t,r,a),Po=c):Oa(t,r,a));break;default:Oa(t,r,a)}}function Zy(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Ko(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var c=r[a];bn=c,$y(c,t)}Zy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Xy(t),t=t.sibling}function Xy(t){switch(t.tag){case 0:case 11:case 15:Ko(t),t.flags&2048&&ji(9,t,t.return);break;case 3:Ko(t);break;case 12:Ko(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,gc(t)):Ko(t);break;default:Ko(t)}}function gc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var c=r[a];bn=c,$y(c,t)}Zy(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:ji(8,r,r.return),gc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,gc(r));break;default:gc(r)}t=t.sibling}}function $y(t,r){for(;bn!==null;){var a=bn;switch(a.tag){case 0:case 11:case 15:ji(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:To(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,bn=c;else t:for(a=t;bn!==null;){c=bn;var p=c.sibling,g=c.return;if(qy(c),c===a){bn=null;break t}if(p!==null){p.return=g,bn=p;break t}bn=g}}}var JS={getCacheForType:function(t){var r=An(ln),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return An(ln).controller.signal}},tA=typeof WeakMap=="function"?WeakMap:Map,ge=0,Ne=null,ee=null,se=0,_e=0,er=null,Pi=!1,Na=!1,Od=!1,di=0,rn=0,Ki=0,Bs=0,Nd=0,nr=0,ka=0,Vo=null,Gn=null,kd=!1,bc=0,Wy=0,_c=1/0,wc=null,Vi=null,yn=0,Gi=null,Ca=null,hi=0,Cd=0,Id=null,Qy=null,Go=0,Bd=null;function rr(){return(ge&2)!==0&&se!==0?se&-se:S.T!==null?Hd():Fe()}function Jy(){if(nr===0)if((se&536870912)===0||ue){var t=Me;Me<<=1,(Me&3932160)===0&&(Me=262144),nr=t}else nr=536870912;return t=Jn.current,t!==null&&(t.flags|=32),nr}function Yn(t,r,a){(t===Ne&&(_e===2||_e===9)||t.cancelPendingCommit!==null)&&(Ia(t,0),Yi(t,se,nr,!1)),Oi(t,a),((ge&2)===0||t!==Ne)&&(t===Ne&&((ge&2)===0&&(Bs|=a),rn===4&&Yi(t,se,nr,!1)),Dr(t))}function t1(t,r,a){if((ge&6)!==0)throw Error(i(327));var c=!a&&(r&127)===0&&(r&t.expiredLanes)===0||ke(t,r),p=c?rA(t,r):Ud(t,r,!0),g=c;do{if(p===0){Na&&!c&&Yi(t,r,0,!1);break}else{if(a=t.current.alternate,g&&!eA(a)){p=Ud(t,r,!1),g=!1;continue}if(p===2){if(g=r,t.errorRecoveryDisabledLanes&g)var N=0;else N=t.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){r=N;t:{var q=t;p=Vo;var Q=q.current.memoizedState.isDehydrated;if(Q&&(Ia(q,N).flags|=256),N=Ud(q,N,!1),N!==2){if(Od&&!Q){q.errorRecoveryDisabledLanes|=g,Bs|=g,p=4;break t}g=Gn,Gn=p,g!==null&&(Gn===null?Gn=g:Gn.push.apply(Gn,g))}p=N}if(g=!1,p!==2)continue}}if(p===1){Ia(t,0),Yi(t,r,0,!0);break}t:{switch(c=t,g=p,g){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:Yi(c,r,nr,!Pi);break t;case 2:Gn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(p=bc+300-te(),10<p)){if(Yi(c,r,nr,!Pi),Le(c,0,!0)!==0)break t;hi=r,c.timeoutHandle=C1(e1.bind(null,c,a,Gn,wc,kd,r,nr,Bs,ka,Pi,g,"Throttled",-0,0),p);break t}e1(c,a,Gn,wc,kd,r,nr,Bs,ka,Pi,g,null,-0,0)}}break}while(!0);Dr(t)}function e1(t,r,a,c,p,g,N,q,Q,ft,gt,_t,ht,yt){if(t.timeoutHandle=-1,_t=r.subtreeFlags,_t&8192||(_t&16785408)===16785408){_t={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qr},Fy(r,g,_t);var It=(g&62914560)===g?bc-te():(g&4194048)===g?Wy-te():0;if(It=HA(_t,It),It!==null){hi=g,t.cancelPendingCommit=It(c1.bind(null,t,r,g,a,c,p,N,q,Q,gt,_t,null,ht,yt)),Yi(t,g,N,!ft);return}}c1(t,r,g,a,c,p,N,q,Q)}function eA(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var p=a[c],g=p.getSnapshot;p=p.value;try{if(!Wn(g(),p))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Yi(t,r,a,c){r&=~Nd,r&=~Bs,t.suspendedLanes|=r,t.pingedLanes&=~r,c&&(t.warmLanes|=r),c=t.expirationTimes;for(var p=r;0<p;){var g=31-Mt(p),N=1<<g;c[g]=-1,p&=~N}a!==0&&Ge(t,a,r)}function vc(){return(ge&6)===0?(Yo(0),!1):!0}function Md(){if(ee!==null){if(_e===0)var t=ee.return;else t=ee,ni=As=null,$f(t),Ea=null,Oo=0,t=ee;for(;t!==null;)Iy(t.alternate,t),t=t.return;ee=null}}function Ia(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,vA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),hi=0,Md(),Ne=t,ee=a=ti(t.current,null),se=r,_e=0,er=null,Pi=!1,Na=ke(t,r),Od=!1,ka=nr=Nd=Bs=Ki=rn=0,Gn=Vo=null,kd=!1,(r&8)!==0&&(r|=r&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=r;0<c;){var p=31-Mt(c),g=1<<p;r|=t[p],c&=~g}return di=r,Pu(),a}function n1(t,r){Vt=null,S.H=Lo,r===va||r===$u?(r=bm(),_e=3):r===zf?(r=bm(),_e=4):_e=r===dd?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,er=r,ee===null&&(rn=1,lc(t,fr(r,t.current)))}function r1(){var t=Jn.current;return t===null?!0:(se&4194048)===se?mr===null:(se&62914560)===se||(se&536870912)!==0?t===mr:!1}function i1(){var t=S.H;return S.H=Lo,t===null?Lo:t}function s1(){var t=S.A;return S.A=JS,t}function Ec(){rn=4,Pi||(se&4194048)!==se&&Jn.current!==null||(Na=!0),(Ki&134217727)===0&&(Bs&134217727)===0||Ne===null||Yi(Ne,se,nr,!1)}function Ud(t,r,a){var c=ge;ge|=2;var p=i1(),g=s1();(Ne!==t||se!==r)&&(wc=null,Ia(t,r)),r=!1;var N=rn;t:do try{if(_e!==0&&ee!==null){var q=ee,Q=er;switch(_e){case 8:Md(),N=6;break t;case 3:case 2:case 9:case 6:Jn.current===null&&(r=!0);var ft=_e;if(_e=0,er=null,Ba(t,q,Q,ft),a&&Na){N=0;break t}break;default:ft=_e,_e=0,er=null,Ba(t,q,Q,ft)}}nA(),N=rn;break}catch(gt){n1(t,gt)}while(!0);return r&&t.shellSuspendCounter++,ni=As=null,ge=c,S.H=p,S.A=g,ee===null&&(Ne=null,se=0,Pu()),N}function nA(){for(;ee!==null;)a1(ee)}function rA(t,r){var a=ge;ge|=2;var c=i1(),p=s1();Ne!==t||se!==r?(wc=null,_c=te()+500,Ia(t,r)):Na=ke(t,r);t:do try{if(_e!==0&&ee!==null){r=ee;var g=er;e:switch(_e){case 1:_e=0,er=null,Ba(t,r,g,1);break;case 2:case 9:if(ym(g)){_e=0,er=null,o1(r);break}r=function(){_e!==2&&_e!==9||Ne!==t||(_e=7),Dr(t)},g.then(r,r);break t;case 3:_e=7;break t;case 4:_e=5;break t;case 7:ym(g)?(_e=0,er=null,o1(r)):(_e=0,er=null,Ba(t,r,g,7));break;case 5:var N=null;switch(ee.tag){case 26:N=ee.memoizedState;case 5:case 27:var q=ee;if(N?Y1(N):q.stateNode.complete){_e=0,er=null;var Q=q.sibling;if(Q!==null)ee=Q;else{var ft=q.return;ft!==null?(ee=ft,Sc(ft)):ee=null}break e}}_e=0,er=null,Ba(t,r,g,5);break;case 6:_e=0,er=null,Ba(t,r,g,6);break;case 8:Md(),rn=6;break t;default:throw Error(i(462))}}iA();break}catch(gt){n1(t,gt)}while(!0);return ni=As=null,S.H=c,S.A=p,ge=a,ee!==null?0:(Ne=null,se=0,Pu(),rn)}function iA(){for(;ee!==null&&!En();)a1(ee)}function a1(t){var r=ky(t.alternate,t,di);t.memoizedProps=t.pendingProps,r===null?Sc(t):ee=r}function o1(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=Ay(a,r,r.pendingProps,r.type,void 0,se);break;case 11:r=Ay(a,r,r.pendingProps,r.type.render,r.ref,se);break;case 5:$f(r);default:Iy(a,r),r=ee=sm(r,di),r=ky(a,r,di)}t.memoizedProps=t.pendingProps,r===null?Sc(t):ee=r}function Ba(t,r,a,c){ni=As=null,$f(r),Ea=null,Oo=0;var p=r.return;try{if(YS(t,p,r,a,se)){rn=1,lc(t,fr(a,t.current)),ee=null;return}}catch(g){if(p!==null)throw ee=p,g;rn=1,lc(t,fr(a,t.current)),ee=null;return}r.flags&32768?(ue||c===1?t=!0:Na||(se&536870912)!==0?t=!1:(Pi=t=!0,(c===2||c===9||c===3||c===6)&&(c=Jn.current,c!==null&&c.tag===13&&(c.flags|=16384))),u1(r,t)):Sc(r)}function Sc(t){var r=t;do{if((r.flags&32768)!==0){u1(r,Pi);return}t=r.return;var a=XS(r.alternate,r,di);if(a!==null){ee=a;return}if(r=r.sibling,r!==null){ee=r;return}ee=r=t}while(r!==null);rn===0&&(rn=5)}function u1(t,r){do{var a=$S(t.alternate,t);if(a!==null){a.flags&=32767,ee=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){ee=t;return}ee=t=a}while(t!==null);rn=6,ee=null}function c1(t,r,a,c,p,g,N,q,Q){t.cancelPendingCommit=null;do Ac();while(yn!==0);if((ge&6)!==0)throw Error(i(327));if(r!==null){if(r===t.current)throw Error(i(177));if(g=r.lanes|r.childLanes,g|=Sf,Je(t,a,g,N,q,Q),t===Ne&&(ee=Ne=null,se=0),Ca=r,Gi=t,hi=a,Cd=g,Id=p,Qy=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,uA(A,function(){return p1(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=S.T,S.T=null,p=B.p,B.p=2,N=ge,ge|=4;try{WS(t,r,a)}finally{ge=N,B.p=p,S.T=c}}yn=1,l1(),f1(),d1()}}function l1(){if(yn===1){yn=0;var t=Gi,r=Ca,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=S.T,S.T=null;var c=B.p;B.p=2;var p=ge;ge|=4;try{Vy(r,t);var g=Fd,N=$p(t.containerInfo),q=g.focusedElem,Q=g.selectionRange;if(N!==q&&q&&q.ownerDocument&&Xp(q.ownerDocument.documentElement,q)){if(Q!==null&&bf(q)){var ft=Q.start,gt=Q.end;if(gt===void 0&&(gt=ft),"selectionStart"in q)q.selectionStart=ft,q.selectionEnd=Math.min(gt,q.value.length);else{var _t=q.ownerDocument||document,ht=_t&&_t.defaultView||window;if(ht.getSelection){var yt=ht.getSelection(),It=q.textContent.length,qt=Math.min(Q.start,It),Te=Q.end===void 0?qt:Math.min(Q.end,It);!yt.extend&&qt>Te&&(N=Te,Te=qt,qt=N);var at=Zp(q,qt),tt=Zp(q,Te);if(at&&tt&&(yt.rangeCount!==1||yt.anchorNode!==at.node||yt.anchorOffset!==at.offset||yt.focusNode!==tt.node||yt.focusOffset!==tt.offset)){var lt=_t.createRange();lt.setStart(at.node,at.offset),yt.removeAllRanges(),qt>Te?(yt.addRange(lt),yt.extend(tt.node,tt.offset)):(lt.setEnd(tt.node,tt.offset),yt.addRange(lt))}}}}for(_t=[],yt=q;yt=yt.parentNode;)yt.nodeType===1&&_t.push({element:yt,left:yt.scrollLeft,top:yt.scrollTop});for(typeof q.focus=="function"&&q.focus(),q=0;q<_t.length;q++){var bt=_t[q];bt.element.scrollLeft=bt.left,bt.element.scrollTop=bt.top}}Lc=!!Yd,Fd=Yd=null}finally{ge=p,B.p=c,S.T=a}}t.current=r,yn=2}}function f1(){if(yn===2){yn=0;var t=Gi,r=Ca,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=S.T,S.T=null;var c=B.p;B.p=2;var p=ge;ge|=4;try{Hy(t,r.alternate,r)}finally{ge=p,B.p=c,S.T=a}}yn=3}}function d1(){if(yn===4||yn===3){yn=0,xe();var t=Gi,r=Ca,a=hi,c=Qy;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?yn=5:(yn=0,Ca=Gi=null,h1(t,t.pendingLanes));var p=t.pendingLanes;if(p===0&&(Vi=null),ta(a),r=r.stateNode,Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(mt,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=S.T,p=B.p,B.p=2,S.T=null;try{for(var g=t.onRecoverableError,N=0;N<c.length;N++){var q=c[N];g(q.value,{componentStack:q.stack})}}finally{S.T=r,B.p=p}}(hi&3)!==0&&Ac(),Dr(t),p=t.pendingLanes,(a&261930)!==0&&(p&42)!==0?t===Bd?Go++:(Go=0,Bd=t):Go=0,Yo(0)}}function h1(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,To(r)))}function Ac(){return l1(),f1(),d1(),p1()}function p1(){if(yn!==5)return!1;var t=Gi,r=Cd;Cd=0;var a=ta(hi),c=S.T,p=B.p;try{B.p=32>a?32:a,S.T=null,a=Id,Id=null;var g=Gi,N=hi;if(yn=0,Ca=Gi=null,hi=0,(ge&6)!==0)throw Error(i(331));var q=ge;if(ge|=4,Xy(g.current),Yy(g,g.current,N,a),ge=q,Yo(0,!1),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(mt,g)}catch{}return!0}finally{B.p=p,S.T=c,h1(t,r)}}function m1(t,r,a){r=fr(a,r),r=fd(t.stateNode,r,2),t=zi(t,r,2),t!==null&&(Oi(t,2),Dr(t))}function we(t,r,a){if(t.tag===3)m1(t,t,a);else for(;r!==null;){if(r.tag===3){m1(r,t,a);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Vi===null||!Vi.has(c))){t=fr(a,t),a=yy(2),c=zi(r,a,2),c!==null&&(gy(a,c,r,t),Oi(c,2),Dr(c));break}}r=r.return}}function Ld(t,r,a){var c=t.pingCache;if(c===null){c=t.pingCache=new tA;var p=new Set;c.set(r,p)}else p=c.get(r),p===void 0&&(p=new Set,c.set(r,p));p.has(a)||(Od=!0,p.add(a),t=sA.bind(null,t,r,a),r.then(t,t))}function sA(t,r,a){var c=t.pingCache;c!==null&&c.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Ne===t&&(se&a)===a&&(rn===4||rn===3&&(se&62914560)===se&&300>te()-bc?(ge&2)===0&&Ia(t,0):Nd|=a,ka===se&&(ka=0)),Dr(t)}function y1(t,r){r===0&&(r=Ve()),t=vs(t,r),t!==null&&(Oi(t,r),Dr(t))}function aA(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),y1(t,a)}function oA(t,r){var a=0;switch(t.tag){case 31:case 13:var c=t.stateNode,p=t.memoizedState;p!==null&&(a=p.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(r),y1(t,a)}function uA(t,r){return de(t,r)}var Rc=null,Ma=null,Dd=!1,Tc=!1,zd=!1,Fi=0;function Dr(t){t!==Ma&&t.next===null&&(Ma===null?Rc=Ma=t:Ma=Ma.next=t),Tc=!0,Dd||(Dd=!0,lA())}function Yo(t,r){if(!zd&&Tc){zd=!0;do for(var a=!1,c=Rc;c!==null;){if(t!==0){var p=c.pendingLanes;if(p===0)var g=0;else{var N=c.suspendedLanes,q=c.pingedLanes;g=(1<<31-Mt(42|t)+1)-1,g&=p&~(N&~q),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(a=!0,w1(c,g))}else g=se,g=Le(c,c===Ne?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||ke(c,g)||(a=!0,w1(c,g));c=c.next}while(a);zd=!1}}function cA(){g1()}function g1(){Tc=Dd=!1;var t=0;Fi!==0&&wA()&&(t=Fi);for(var r=te(),a=null,c=Rc;c!==null;){var p=c.next,g=b1(c,r);g===0?(c.next=null,a===null?Rc=p:a.next=p,p===null&&(Ma=a)):(a=c,(t!==0||(g&3)!==0)&&(Tc=!0)),c=p}yn!==0&&yn!==5||Yo(t),Fi!==0&&(Fi=0)}function b1(t,r){for(var a=t.suspendedLanes,c=t.pingedLanes,p=t.expirationTimes,g=t.pendingLanes&-62914561;0<g;){var N=31-Mt(g),q=1<<N,Q=p[N];Q===-1?((q&a)===0||(q&c)!==0)&&(p[N]=Iu(q,r)):Q<=r&&(t.expiredLanes|=q),g&=~q}if(r=Ne,a=se,a=Le(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,a===0||t===r&&(_e===2||_e===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&ie(c),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ke(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(c!==null&&ie(c),ta(a)){case 2:case 8:a=H;break;case 32:a=A;break;case 268435456:a=V;break;default:a=A}return c=_1.bind(null,t),a=de(a,c),t.callbackPriority=r,t.callbackNode=a,r}return c!==null&&c!==null&&ie(c),t.callbackPriority=2,t.callbackNode=null,2}function _1(t,r){if(yn!==0&&yn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ac()&&t.callbackNode!==a)return null;var c=se;return c=Le(t,t===Ne?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(t1(t,c,r),b1(t,te()),t.callbackNode!=null&&t.callbackNode===a?_1.bind(null,t):null)}function w1(t,r){if(Ac())return null;t1(t,r,!0)}function lA(){EA(function(){(ge&6)!==0?de(Be,cA):g1()})}function Hd(){if(Fi===0){var t=_a;t===0&&(t=ys,ys<<=1,(ys&261888)===0&&(ys=256)),Fi=t}return Fi}function v1(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Mu(""+t)}function E1(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function fA(t,r,a,c,p){if(r==="submit"&&a&&a.stateNode===p){var g=v1((p[oe]||null).action),N=c.submitter;N&&(r=(r=N[oe]||null)?v1(r.formAction):N.getAttribute("formAction"),r!==null&&(g=r,N=null));var q=new zu("action","action",null,c,p);t.push({event:q,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Fi!==0){var Q=N?E1(p,N):new FormData(p);sd(a,{pending:!0,data:Q,method:p.method,action:g},null,Q)}}else typeof g=="function"&&(q.preventDefault(),Q=N?E1(p,N):new FormData(p),sd(a,{pending:!0,data:Q,method:p.method,action:g},g,Q))},currentTarget:p}]})}}for(var qd=0;qd<Ef.length;qd++){var jd=Ef[qd],dA=jd.toLowerCase(),hA=jd[0].toUpperCase()+jd.slice(1);Sr(dA,"on"+hA)}Sr(Jp,"onAnimationEnd"),Sr(tm,"onAnimationIteration"),Sr(em,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(NS,"onTransitionRun"),Sr(kS,"onTransitionStart"),Sr(CS,"onTransitionCancel"),Sr(nm,"onTransitionEnd"),Br("onMouseEnter",["mouseout","mouseover"]),Br("onMouseLeave",["mouseout","mouseover"]),Br("onPointerEnter",["pointerout","pointerover"]),Br("onPointerLeave",["pointerout","pointerover"]),Er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Er("onBeforeInput",["compositionend","keypress","textInput","paste"]),Er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fo));function S1(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var c=t[a],p=c.event;c=c.listeners;t:{var g=void 0;if(r)for(var N=c.length-1;0<=N;N--){var q=c[N],Q=q.instance,ft=q.currentTarget;if(q=q.listener,Q!==g&&p.isPropagationStopped())break t;g=q,p.currentTarget=ft;try{g(p)}catch(gt){ju(gt)}p.currentTarget=null,g=Q}else for(N=0;N<c.length;N++){if(q=c[N],Q=q.instance,ft=q.currentTarget,q=q.listener,Q!==g&&p.isPropagationStopped())break t;g=q,p.currentTarget=ft;try{g(p)}catch(gt){ju(gt)}p.currentTarget=null,g=Q}}}}function ne(t,r){var a=r[je];a===void 0&&(a=r[je]=new Set);var c=t+"__bubble";a.has(c)||(A1(r,t,2,!1),a.add(c))}function Pd(t,r,a){var c=0;r&&(c|=4),A1(a,t,c,r)}var xc="_reactListening"+Math.random().toString(36).slice(2);function Kd(t){if(!t[xc]){t[xc]=!0,na.forEach(function(a){a!=="selectionchange"&&(pA.has(a)||Pd(a,!1,t),Pd(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[xc]||(r[xc]=!0,Pd("selectionchange",!1,r))}}function A1(t,r,a,c){switch(J1(r)){case 2:var p=PA;break;case 8:p=KA;break;default:p=ih}a=p.bind(null,r,a,t),p=void 0,!cf||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(p=!0),c?p!==void 0?t.addEventListener(r,a,{capture:!0,passive:p}):t.addEventListener(r,a,!0):p!==void 0?t.addEventListener(r,a,{passive:p}):t.addEventListener(r,a,!1)}function Vd(t,r,a,c,p){var g=c;if((r&1)===0&&(r&2)===0&&c!==null)t:for(;;){if(c===null)return;var N=c.tag;if(N===3||N===4){var q=c.stateNode.containerInfo;if(q===p)break;if(N===4)for(N=c.return;N!==null;){var Q=N.tag;if((Q===3||Q===4)&&N.stateNode.containerInfo===p)return;N=N.return}for(;q!==null;){if(N=kr(q),N===null)return;if(Q=N.tag,Q===5||Q===6||Q===26||Q===27){c=g=N;continue t}q=q.parentNode}}c=c.return}Np(function(){var ft=g,gt=of(a),_t=[];t:{var ht=rm.get(t);if(ht!==void 0){var yt=zu,It=t;switch(t){case"keypress":if(Lu(a)===0)break t;case"keydown":case"keyup":yt=oS;break;case"focusin":It="focus",yt=hf;break;case"focusout":It="blur",yt=hf;break;case"beforeblur":case"afterblur":yt=hf;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":yt=Ip;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":yt=XE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":yt=lS;break;case Jp:case tm:case em:yt=QE;break;case nm:yt=dS;break;case"scroll":case"scrollend":yt=FE;break;case"wheel":yt=pS;break;case"copy":case"cut":case"paste":yt=tS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":yt=Mp;break;case"toggle":case"beforetoggle":yt=yS}var qt=(r&4)!==0,Te=!qt&&(t==="scroll"||t==="scrollend"),at=qt?ht!==null?ht+"Capture":null:ht;qt=[];for(var tt=ft,lt;tt!==null;){var bt=tt;if(lt=bt.stateNode,bt=bt.tag,bt!==5&&bt!==26&&bt!==27||lt===null||at===null||(bt=mo(tt,at),bt!=null&&qt.push(Zo(tt,bt,lt))),Te)break;tt=tt.return}0<qt.length&&(ht=new yt(ht,It,null,a,gt),_t.push({event:ht,listeners:qt}))}}if((r&7)===0){t:{if(ht=t==="mouseover"||t==="pointerover",yt=t==="mouseout"||t==="pointerout",ht&&a!==af&&(It=a.relatedTarget||a.fromElement)&&(kr(It)||It[Zr]))break t;if((yt||ht)&&(ht=gt.window===gt?gt:(ht=gt.ownerDocument)?ht.defaultView||ht.parentWindow:window,yt?(It=a.relatedTarget||a.toElement,yt=ft,It=It?kr(It):null,It!==null&&(Te=o(It),qt=It.tag,It!==Te||qt!==5&&qt!==27&&qt!==6)&&(It=null)):(yt=null,It=ft),yt!==It)){if(qt=Ip,bt="onMouseLeave",at="onMouseEnter",tt="mouse",(t==="pointerout"||t==="pointerover")&&(qt=Mp,bt="onPointerLeave",at="onPointerEnter",tt="pointer"),Te=yt==null?ht:$r(yt),lt=It==null?ht:$r(It),ht=new qt(bt,tt+"leave",yt,a,gt),ht.target=Te,ht.relatedTarget=lt,bt=null,kr(gt)===ft&&(qt=new qt(at,tt+"enter",It,a,gt),qt.target=lt,qt.relatedTarget=Te,bt=qt),Te=bt,yt&&It)e:{for(qt=mA,at=yt,tt=It,lt=0,bt=at;bt;bt=qt(bt))lt++;bt=0;for(var Lt=tt;Lt;Lt=qt(Lt))bt++;for(;0<lt-bt;)at=qt(at),lt--;for(;0<bt-lt;)tt=qt(tt),bt--;for(;lt--;){if(at===tt||tt!==null&&at===tt.alternate){qt=at;break e}at=qt(at),tt=qt(tt)}qt=null}else qt=null;yt!==null&&R1(_t,ht,yt,qt,!1),It!==null&&Te!==null&&R1(_t,Te,It,qt,!0)}}t:{if(ht=ft?$r(ft):window,yt=ht.nodeName&&ht.nodeName.toLowerCase(),yt==="select"||yt==="input"&&ht.type==="file")var pe=Pp;else if(qp(ht))if(Kp)pe=TS;else{pe=AS;var Bt=SS}else yt=ht.nodeName,!yt||yt.toLowerCase()!=="input"||ht.type!=="checkbox"&&ht.type!=="radio"?ft&&sf(ft.elementType)&&(pe=Pp):pe=RS;if(pe&&(pe=pe(t,ft))){jp(_t,pe,a,gt);break t}Bt&&Bt(t,ht,ft),t==="focusout"&&ft&&ht.type==="number"&&ft.memoizedProps.value!=null&&rf(ht,"number",ht.value)}switch(Bt=ft?$r(ft):window,t){case"focusin":(qp(Bt)||Bt.contentEditable==="true")&&(fa=Bt,_f=ft,So=null);break;case"focusout":So=_f=fa=null;break;case"mousedown":wf=!0;break;case"contextmenu":case"mouseup":case"dragend":wf=!1,Wp(_t,a,gt);break;case"selectionchange":if(OS)break;case"keydown":case"keyup":Wp(_t,a,gt)}var Yt;if(mf)t:{switch(t){case"compositionstart":var ae="onCompositionStart";break t;case"compositionend":ae="onCompositionEnd";break t;case"compositionupdate":ae="onCompositionUpdate";break t}ae=void 0}else la?zp(t,a)&&(ae="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ae="onCompositionStart");ae&&(Up&&a.locale!=="ko"&&(la||ae!=="onCompositionStart"?ae==="onCompositionEnd"&&la&&(Yt=kp()):(Ci=gt,lf="value"in Ci?Ci.value:Ci.textContent,la=!0)),Bt=Oc(ft,ae),0<Bt.length&&(ae=new Bp(ae,t,null,a,gt),_t.push({event:ae,listeners:Bt}),Yt?ae.data=Yt:(Yt=Hp(a),Yt!==null&&(ae.data=Yt)))),(Yt=bS?_S(t,a):wS(t,a))&&(ae=Oc(ft,"onBeforeInput"),0<ae.length&&(Bt=new Bp("onBeforeInput","beforeinput",null,a,gt),_t.push({event:Bt,listeners:ae}),Bt.data=Yt)),fA(_t,t,ft,a,gt)}S1(_t,r)})}function Zo(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Oc(t,r){for(var a=r+"Capture",c=[];t!==null;){var p=t,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=mo(t,a),p!=null&&c.unshift(Zo(t,p,g)),p=mo(t,r),p!=null&&c.push(Zo(t,p,g))),t.tag===3)return c;t=t.return}return[]}function mA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function R1(t,r,a,c,p){for(var g=r._reactName,N=[];a!==null&&a!==c;){var q=a,Q=q.alternate,ft=q.stateNode;if(q=q.tag,Q!==null&&Q===c)break;q!==5&&q!==26&&q!==27||ft===null||(Q=ft,p?(ft=mo(a,g),ft!=null&&N.unshift(Zo(a,ft,Q))):p||(ft=mo(a,g),ft!=null&&N.push(Zo(a,ft,Q)))),a=a.return}N.length!==0&&t.push({event:r,listeners:N})}var yA=/\r\n?/g,gA=/\u0000|\uFFFD/g;function T1(t){return(typeof t=="string"?t:""+t).replace(yA,`
`).replace(gA,"")}function x1(t,r){return r=T1(r),T1(t)===r}function Re(t,r,a,c,p,g){switch(a){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||oa(t,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&oa(t,""+c);break;case"className":ki(t,"class",c);break;case"tabIndex":ki(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ki(t,a,c);break;case"style":xp(t,c,g);break;case"data":if(r!=="object"){ki(t,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(a);break}c=Mu(""+c),t.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(a==="formAction"?(r!=="input"&&Re(t,r,"name",p.name,p,null),Re(t,r,"formEncType",p.formEncType,p,null),Re(t,r,"formMethod",p.formMethod,p,null),Re(t,r,"formTarget",p.formTarget,p,null)):(Re(t,r,"encType",p.encType,p,null),Re(t,r,"method",p.method,p,null),Re(t,r,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(a);break}c=Mu(""+c),t.setAttribute(a,c);break;case"onClick":c!=null&&(t.onclick=Qr);break;case"onScroll":c!=null&&ne("scroll",t);break;case"onScrollEnd":c!=null&&ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(a=c.__html,a!=null){if(p.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}a=Mu(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,""+c):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":c===!0?t.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,c):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(a,c):t.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(a):t.setAttribute(a,c);break;case"popover":ne("beforetoggle",t),ne("toggle",t),Ni(t,"popover",c);break;case"xlinkActuate":Wr(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Wr(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Wr(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Wr(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Wr(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Wr(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Wr(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Wr(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Wr(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ni(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=GE.get(a)||a,Ni(t,a,c))}}function Gd(t,r,a,c,p,g){switch(a){case"style":xp(t,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(a=c.__html,a!=null){if(p.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"children":typeof c=="string"?oa(t,c):(typeof c=="number"||typeof c=="bigint")&&oa(t,""+c);break;case"onScroll":c!=null&&ne("scroll",t);break;case"onScrollEnd":c!=null&&ne("scrollend",t);break;case"onClick":c!=null&&(t.onclick=Qr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ra.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(p=a.endsWith("Capture"),r=a.slice(2,p?a.length-7:void 0),g=t[oe]||null,g=g!=null?g[a]:null,typeof g=="function"&&t.removeEventListener(r,g,p),typeof c=="function")){typeof g!="function"&&g!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,c,p);break t}a in t?t[a]=c:c===!0?t.setAttribute(a,""):Ni(t,a,c)}}}function Tn(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ne("error",t),ne("load",t);var c=!1,p=!1,g;for(g in a)if(a.hasOwnProperty(g)){var N=a[g];if(N!=null)switch(g){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Re(t,r,g,N,a,null)}}p&&Re(t,r,"srcSet",a.srcSet,a,null),c&&Re(t,r,"src",a.src,a,null);return;case"input":ne("invalid",t);var q=g=N=p=null,Q=null,ft=null;for(c in a)if(a.hasOwnProperty(c)){var gt=a[c];if(gt!=null)switch(c){case"name":p=gt;break;case"type":N=gt;break;case"checked":Q=gt;break;case"defaultChecked":ft=gt;break;case"value":g=gt;break;case"defaultValue":q=gt;break;case"children":case"dangerouslySetInnerHTML":if(gt!=null)throw Error(i(137,r));break;default:Re(t,r,c,gt,a,null)}}Sp(t,g,q,Q,ft,N,p,!1);return;case"select":ne("invalid",t),c=N=g=null;for(p in a)if(a.hasOwnProperty(p)&&(q=a[p],q!=null))switch(p){case"value":g=q;break;case"defaultValue":N=q;break;case"multiple":c=q;default:Re(t,r,p,q,a,null)}r=g,a=N,t.multiple=!!c,r!=null?aa(t,!!c,r,!1):a!=null&&aa(t,!!c,a,!0);return;case"textarea":ne("invalid",t),g=p=c=null;for(N in a)if(a.hasOwnProperty(N)&&(q=a[N],q!=null))switch(N){case"value":c=q;break;case"defaultValue":p=q;break;case"children":g=q;break;case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(91));break;default:Re(t,r,N,q,a,null)}Rp(t,c,p,g);return;case"option":for(Q in a)a.hasOwnProperty(Q)&&(c=a[Q],c!=null)&&(Q==="selected"?t.selected=c&&typeof c!="function"&&typeof c!="symbol":Re(t,r,Q,c,a,null));return;case"dialog":ne("beforetoggle",t),ne("toggle",t),ne("cancel",t),ne("close",t);break;case"iframe":case"object":ne("load",t);break;case"video":case"audio":for(c=0;c<Fo.length;c++)ne(Fo[c],t);break;case"image":ne("error",t),ne("load",t);break;case"details":ne("toggle",t);break;case"embed":case"source":case"link":ne("error",t),ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ft in a)if(a.hasOwnProperty(ft)&&(c=a[ft],c!=null))switch(ft){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Re(t,r,ft,c,a,null)}return;default:if(sf(r)){for(gt in a)a.hasOwnProperty(gt)&&(c=a[gt],c!==void 0&&Gd(t,r,gt,c,a,void 0));return}}for(q in a)a.hasOwnProperty(q)&&(c=a[q],c!=null&&Re(t,r,q,c,a,null))}function bA(t,r,a,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,N=null,q=null,Q=null,ft=null,gt=null;for(yt in a){var _t=a[yt];if(a.hasOwnProperty(yt)&&_t!=null)switch(yt){case"checked":break;case"value":break;case"defaultValue":Q=_t;default:c.hasOwnProperty(yt)||Re(t,r,yt,null,c,_t)}}for(var ht in c){var yt=c[ht];if(_t=a[ht],c.hasOwnProperty(ht)&&(yt!=null||_t!=null))switch(ht){case"type":g=yt;break;case"name":p=yt;break;case"checked":ft=yt;break;case"defaultChecked":gt=yt;break;case"value":N=yt;break;case"defaultValue":q=yt;break;case"children":case"dangerouslySetInnerHTML":if(yt!=null)throw Error(i(137,r));break;default:yt!==_t&&Re(t,r,ht,yt,c,_t)}}nf(t,N,q,Q,ft,gt,g,p);return;case"select":yt=N=q=ht=null;for(g in a)if(Q=a[g],a.hasOwnProperty(g)&&Q!=null)switch(g){case"value":break;case"multiple":yt=Q;default:c.hasOwnProperty(g)||Re(t,r,g,null,c,Q)}for(p in c)if(g=c[p],Q=a[p],c.hasOwnProperty(p)&&(g!=null||Q!=null))switch(p){case"value":ht=g;break;case"defaultValue":q=g;break;case"multiple":N=g;default:g!==Q&&Re(t,r,p,g,c,Q)}r=q,a=N,c=yt,ht!=null?aa(t,!!a,ht,!1):!!c!=!!a&&(r!=null?aa(t,!!a,r,!0):aa(t,!!a,a?[]:"",!1));return;case"textarea":yt=ht=null;for(q in a)if(p=a[q],a.hasOwnProperty(q)&&p!=null&&!c.hasOwnProperty(q))switch(q){case"value":break;case"children":break;default:Re(t,r,q,null,c,p)}for(N in c)if(p=c[N],g=a[N],c.hasOwnProperty(N)&&(p!=null||g!=null))switch(N){case"value":ht=p;break;case"defaultValue":yt=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==g&&Re(t,r,N,p,c,g)}Ap(t,ht,yt);return;case"option":for(var It in a)ht=a[It],a.hasOwnProperty(It)&&ht!=null&&!c.hasOwnProperty(It)&&(It==="selected"?t.selected=!1:Re(t,r,It,null,c,ht));for(Q in c)ht=c[Q],yt=a[Q],c.hasOwnProperty(Q)&&ht!==yt&&(ht!=null||yt!=null)&&(Q==="selected"?t.selected=ht&&typeof ht!="function"&&typeof ht!="symbol":Re(t,r,Q,ht,c,yt));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qt in a)ht=a[qt],a.hasOwnProperty(qt)&&ht!=null&&!c.hasOwnProperty(qt)&&Re(t,r,qt,null,c,ht);for(ft in c)if(ht=c[ft],yt=a[ft],c.hasOwnProperty(ft)&&ht!==yt&&(ht!=null||yt!=null))switch(ft){case"children":case"dangerouslySetInnerHTML":if(ht!=null)throw Error(i(137,r));break;default:Re(t,r,ft,ht,c,yt)}return;default:if(sf(r)){for(var Te in a)ht=a[Te],a.hasOwnProperty(Te)&&ht!==void 0&&!c.hasOwnProperty(Te)&&Gd(t,r,Te,void 0,c,ht);for(gt in c)ht=c[gt],yt=a[gt],!c.hasOwnProperty(gt)||ht===yt||ht===void 0&&yt===void 0||Gd(t,r,gt,ht,c,yt);return}}for(var at in a)ht=a[at],a.hasOwnProperty(at)&&ht!=null&&!c.hasOwnProperty(at)&&Re(t,r,at,null,c,ht);for(_t in c)ht=c[_t],yt=a[_t],!c.hasOwnProperty(_t)||ht===yt||ht==null&&yt==null||Re(t,r,_t,ht,c,yt)}function O1(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _A(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),c=0;c<a.length;c++){var p=a[c],g=p.transferSize,N=p.initiatorType,q=p.duration;if(g&&q&&O1(N)){for(N=0,q=p.responseEnd,c+=1;c<a.length;c++){var Q=a[c],ft=Q.startTime;if(ft>q)break;var gt=Q.transferSize,_t=Q.initiatorType;gt&&O1(_t)&&(Q=Q.responseEnd,N+=gt*(Q<q?1:(q-ft)/(Q-ft)))}if(--c,r+=8*(g+N)/(p.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Yd=null,Fd=null;function Nc(t){return t.nodeType===9?t:t.ownerDocument}function N1(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function k1(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Zd(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Xd=null;function wA(){var t=window.event;return t&&t.type==="popstate"?t===Xd?!1:(Xd=t,!0):(Xd=null,!1)}var C1=typeof setTimeout=="function"?setTimeout:void 0,vA=typeof clearTimeout=="function"?clearTimeout:void 0,I1=typeof Promise=="function"?Promise:void 0,EA=typeof queueMicrotask=="function"?queueMicrotask:typeof I1<"u"?function(t){return I1.resolve(null).then(t).catch(SA)}:C1;function SA(t){setTimeout(function(){throw t})}function Zi(t){return t==="head"}function B1(t,r){var a=r,c=0;do{var p=a.nextSibling;if(t.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"||a==="/&"){if(c===0){t.removeChild(p),za(r);return}c--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")c++;else if(a==="html")Xo(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Xo(a);for(var g=a.firstChild;g;){var N=g.nextSibling,q=g.nodeName;g[Xr]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&g.rel.toLowerCase()==="stylesheet"||a.removeChild(g),g=N}}else a==="body"&&Xo(t.ownerDocument.body);a=p}while(a);za(r)}function M1(t,r){var a=t;t=0;do{var c=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=c}while(a)}function $d(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":$d(a),gs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function AA(t,r,a,c){for(;t.nodeType===1;){var p=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[Xr])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(g=t.getAttribute("rel"),g==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(g!==p.rel||t.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||t.getAttribute("title")!==(p.title==null?null:p.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(g=t.getAttribute("src"),(g!==(p.src==null?null:p.src)||t.getAttribute("type")!==(p.type==null?null:p.type)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&t.getAttribute("name")===g)return t}else return t;if(t=yr(t.nextSibling),t===null)break}return null}function RA(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=yr(t.nextSibling),t===null))return null;return t}function U1(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=yr(t.nextSibling),t===null))return null;return t}function Wd(t){return t.data==="$?"||t.data==="$~"}function Qd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function TA(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var c=function(){r(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function yr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var Jd=null;function L1(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return yr(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function D1(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function z1(t,r,a){switch(r=Nc(a),t){case"html":if(t=r.documentElement,!t)throw Error(i(452));return t;case"head":if(t=r.head,!t)throw Error(i(453));return t;case"body":if(t=r.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function Xo(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);gs(t)}var gr=new Map,H1=new Set;function kc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var pi=B.d;B.d={f:xA,r:OA,D:NA,C:kA,L:CA,m:IA,X:MA,S:BA,M:UA};function xA(){var t=pi.f(),r=vc();return t||r}function OA(t){var r=Cr(t);r!==null&&r.tag===5&&r.type==="form"?ny(r):pi.r(t)}var Ua=typeof document>"u"?null:document;function q1(t,r,a){var c=Ua;if(c&&typeof r=="string"&&r){var p=cr(r);p='link[rel="'+t+'"][href="'+p+'"]',typeof a=="string"&&(p+='[crossorigin="'+a+'"]'),H1.has(p)||(H1.add(p),t={rel:t,crossOrigin:a,href:r},c.querySelector(p)===null&&(r=c.createElement("link"),Tn(r,"link",t),en(r),c.head.appendChild(r)))}}function NA(t){pi.D(t),q1("dns-prefetch",t,null)}function kA(t,r){pi.C(t,r),q1("preconnect",t,r)}function CA(t,r,a){pi.L(t,r,a);var c=Ua;if(c&&t&&r){var p='link[rel="preload"][as="'+cr(r)+'"]';r==="image"&&a&&a.imageSrcSet?(p+='[imagesrcset="'+cr(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(p+='[imagesizes="'+cr(a.imageSizes)+'"]')):p+='[href="'+cr(t)+'"]';var g=p;switch(r){case"style":g=La(t);break;case"script":g=Da(t)}gr.has(g)||(t=C({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),gr.set(g,t),c.querySelector(p)!==null||r==="style"&&c.querySelector($o(g))||r==="script"&&c.querySelector(Wo(g))||(r=c.createElement("link"),Tn(r,"link",t),en(r),c.head.appendChild(r)))}}function IA(t,r){pi.m(t,r);var a=Ua;if(a&&t){var c=r&&typeof r.as=="string"?r.as:"script",p='link[rel="modulepreload"][as="'+cr(c)+'"][href="'+cr(t)+'"]',g=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Da(t)}if(!gr.has(g)&&(t=C({rel:"modulepreload",href:t},r),gr.set(g,t),a.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Wo(g)))return}c=a.createElement("link"),Tn(c,"link",t),en(c),a.head.appendChild(c)}}}function BA(t,r,a){pi.S(t,r,a);var c=Ua;if(c&&t){var p=Ir(c).hoistableStyles,g=La(t);r=r||"default";var N=p.get(g);if(!N){var q={loading:0,preload:null};if(N=c.querySelector($o(g)))q.loading=5;else{t=C({rel:"stylesheet",href:t,"data-precedence":r},a),(a=gr.get(g))&&th(t,a);var Q=N=c.createElement("link");en(Q),Tn(Q,"link",t),Q._p=new Promise(function(ft,gt){Q.onload=ft,Q.onerror=gt}),Q.addEventListener("load",function(){q.loading|=1}),Q.addEventListener("error",function(){q.loading|=2}),q.loading|=4,Cc(N,r,c)}N={type:"stylesheet",instance:N,count:1,state:q},p.set(g,N)}}}function MA(t,r){pi.X(t,r);var a=Ua;if(a&&t){var c=Ir(a).hoistableScripts,p=Da(t),g=c.get(p);g||(g=a.querySelector(Wo(p)),g||(t=C({src:t,async:!0},r),(r=gr.get(p))&&eh(t,r),g=a.createElement("script"),en(g),Tn(g,"link",t),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function UA(t,r){pi.M(t,r);var a=Ua;if(a&&t){var c=Ir(a).hoistableScripts,p=Da(t),g=c.get(p);g||(g=a.querySelector(Wo(p)),g||(t=C({src:t,async:!0,type:"module"},r),(r=gr.get(p))&&eh(t,r),g=a.createElement("script"),en(g),Tn(g,"link",t),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function j1(t,r,a,c){var p=(p=Z.current)?kc(p):null;if(!p)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=La(a.href),a=Ir(p).hoistableStyles,c=a.get(r),c||(c={type:"style",instance:null,count:0,state:null},a.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=La(a.href);var g=Ir(p).hoistableStyles,N=g.get(t);if(N||(p=p.ownerDocument||p,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(t,N),(g=p.querySelector($o(t)))&&!g._p&&(N.instance=g,N.state.loading=5),gr.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},gr.set(t,a),g||LA(p,t,a,N.state))),r&&c===null)throw Error(i(528,""));return N}if(r&&c!==null)throw Error(i(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Da(a),a=Ir(p).hoistableScripts,c=a.get(r),c||(c={type:"script",instance:null,count:0,state:null},a.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function La(t){return'href="'+cr(t)+'"'}function $o(t){return'link[rel="stylesheet"]['+t+"]"}function P1(t){return C({},t,{"data-precedence":t.precedence,precedence:null})}function LA(t,r,a,c){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=t.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),Tn(r,"link",a),en(r),t.head.appendChild(r))}function Da(t){return'[src="'+cr(t)+'"]'}function Wo(t){return"script[async]"+t}function K1(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var c=t.querySelector('style[data-href~="'+cr(a.href)+'"]');if(c)return r.instance=c,en(c),c;var p=C({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),en(c),Tn(c,"style",p),Cc(c,a.precedence,t),r.instance=c;case"stylesheet":p=La(a.href);var g=t.querySelector($o(p));if(g)return r.state.loading|=4,r.instance=g,en(g),g;c=P1(a),(p=gr.get(p))&&th(c,p),g=(t.ownerDocument||t).createElement("link"),en(g);var N=g;return N._p=new Promise(function(q,Q){N.onload=q,N.onerror=Q}),Tn(g,"link",c),r.state.loading|=4,Cc(g,a.precedence,t),r.instance=g;case"script":return g=Da(a.src),(p=t.querySelector(Wo(g)))?(r.instance=p,en(p),p):(c=a,(p=gr.get(g))&&(c=C({},a),eh(c,p)),t=t.ownerDocument||t,p=t.createElement("script"),en(p),Tn(p,"link",c),t.head.appendChild(p),r.instance=p);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,Cc(c,a.precedence,t));return r.instance}function Cc(t,r,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,g=p,N=0;N<c.length;N++){var q=c[N];if(q.dataset.precedence===r)g=q;else if(g!==p)break}g?g.parentNode.insertBefore(t,g.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function th(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function eh(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Ic=null;function V1(t,r,a){if(Ic===null){var c=new Map,p=Ic=new Map;p.set(a,c)}else p=Ic,c=p.get(a),c||(c=new Map,p.set(a,c));if(c.has(t))return c;for(c.set(t,null),a=a.getElementsByTagName(t),p=0;p<a.length;p++){var g=a[p];if(!(g[Xr]||g[Jt]||t==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var N=g.getAttribute(r)||"";N=t+N;var q=c.get(N);q?q.push(g):c.set(N,[g])}}return c}function G1(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function DA(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(t=r.disabled,typeof r.precedence=="string"&&t==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Y1(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function zA(t,r,a,c){if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var p=La(c.href),g=r.querySelector($o(p));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=Bc.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=g,en(g);return}g=r.ownerDocument||r,c=P1(c),(p=gr.get(p))&&th(c,p),g=g.createElement("link"),en(g);var N=g;N._p=new Promise(function(q,Q){N.onload=q,N.onerror=Q}),Tn(g,"link",c),a.instance=g}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Bc.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var nh=0;function HA(t,r){return t.stylesheets&&t.count===0&&Uc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var c=setTimeout(function(){if(t.stylesheets&&Uc(t,t.stylesheets),t.unsuspend){var g=t.unsuspend;t.unsuspend=null,g()}},6e4+r);0<t.imgBytes&&nh===0&&(nh=62500*_A());var p=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Uc(t,t.stylesheets),t.unsuspend)){var g=t.unsuspend;t.unsuspend=null,g()}},(t.imgBytes>nh?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(c),clearTimeout(p)}}:null}function Bc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Uc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Mc=null;function Uc(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Mc=new Map,r.forEach(qA,t),Mc=null,Bc.call(t))}function qA(t,r){if(!(r.state.loading&4)){var a=Mc.get(t);if(a)var c=a.get(null);else{a=new Map,Mc.set(t,a);for(var p=t.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var N=p[g];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(a.set(N.dataset.precedence,N),c=N)}c&&a.set(null,c)}p=r.instance,N=p.getAttribute("data-precedence"),g=a.get(N)||c,g===c&&a.set(null,p),a.set(N,p),this.count++,c=Bc.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),g?g.parentNode.insertBefore(p,g.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(p,t.firstChild)),r.state.loading|=4}}var Qo={$$typeof:P,Provider:null,Consumer:null,_currentValue:D,_currentValue2:D,_threadCount:0};function jA(t,r,a,c,p,g,N,q,Q){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=He(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=He(0),this.hiddenUpdates=He(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Q,this.incompleteTransitions=new Map}function F1(t,r,a,c,p,g,N,q,Q,ft,gt,_t){return t=new jA(t,r,a,N,Q,ft,gt,_t,q),r=1,g===!0&&(r|=24),g=Qn(3,null,null,r),t.current=g,g.stateNode=t,r=Uf(),r.refCount++,t.pooledCache=r,r.refCount++,g.memoizedState={element:c,isDehydrated:a,cache:r},Hf(g),t}function Z1(t){return t?(t=pa,t):pa}function X1(t,r,a,c,p,g){p=Z1(p),c.context===null?c.context=p:c.pendingContext=p,c=Di(r),c.payload={element:a},g=g===void 0?null:g,g!==null&&(c.callback=g),a=zi(t,c,r),a!==null&&(Yn(a,t,r),ko(a,t,r))}function $1(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function rh(t,r){$1(t,r),(t=t.alternate)&&$1(t,r)}function W1(t){if(t.tag===13||t.tag===31){var r=vs(t,67108864);r!==null&&Yn(r,t,67108864),rh(t,67108864)}}function Q1(t){if(t.tag===13||t.tag===31){var r=rr();r=qe(r);var a=vs(t,r);a!==null&&Yn(a,t,r),rh(t,r)}}var Lc=!0;function PA(t,r,a,c){var p=S.T;S.T=null;var g=B.p;try{B.p=2,ih(t,r,a,c)}finally{B.p=g,S.T=p}}function KA(t,r,a,c){var p=S.T;S.T=null;var g=B.p;try{B.p=8,ih(t,r,a,c)}finally{B.p=g,S.T=p}}function ih(t,r,a,c){if(Lc){var p=sh(c);if(p===null)Vd(t,r,c,Dc,a),tg(t,c);else if(GA(p,t,r,a,c))c.stopPropagation();else if(tg(t,c),r&4&&-1<VA.indexOf(t)){for(;p!==null;){var g=Cr(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var N=Nr(g.pendingLanes);if(N!==0){var q=g;for(q.pendingLanes|=2,q.entangledLanes|=2;N;){var Q=1<<31-Mt(N);q.entanglements[1]|=Q,N&=~Q}Dr(g),(ge&6)===0&&(_c=te()+500,Yo(0))}}break;case 31:case 13:q=vs(g,2),q!==null&&Yn(q,g,2),vc(),rh(g,2)}if(g=sh(c),g===null&&Vd(t,r,c,Dc,a),g===p)break;p=g}p!==null&&c.stopPropagation()}else Vd(t,r,c,null,a)}}function sh(t){return t=of(t),ah(t)}var Dc=null;function ah(t){if(Dc=null,t=kr(t),t!==null){var r=o(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=l(r),t!==null)return t;t=null}else if(a===31){if(t=d(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Dc=t,null}function J1(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cn()){case Be:return 2;case H:return 8;case A:case T:return 32;case V:return 268435456;default:return 32}default:return 32}}var oh=!1,Xi=null,$i=null,Wi=null,Jo=new Map,tu=new Map,Qi=[],VA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tg(t,r){switch(t){case"focusin":case"focusout":Xi=null;break;case"dragenter":case"dragleave":$i=null;break;case"mouseover":case"mouseout":Wi=null;break;case"pointerover":case"pointerout":Jo.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":tu.delete(r.pointerId)}}function eu(t,r,a,c,p,g){return t===null||t.nativeEvent!==g?(t={blockedOn:r,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[p]},r!==null&&(r=Cr(r),r!==null&&W1(r)),t):(t.eventSystemFlags|=c,r=t.targetContainers,p!==null&&r.indexOf(p)===-1&&r.push(p),t)}function GA(t,r,a,c,p){switch(r){case"focusin":return Xi=eu(Xi,t,r,a,c,p),!0;case"dragenter":return $i=eu($i,t,r,a,c,p),!0;case"mouseover":return Wi=eu(Wi,t,r,a,c,p),!0;case"pointerover":var g=p.pointerId;return Jo.set(g,eu(Jo.get(g)||null,t,r,a,c,p)),!0;case"gotpointercapture":return g=p.pointerId,tu.set(g,eu(tu.get(g)||null,t,r,a,c,p)),!0}return!1}function eg(t){var r=kr(t.target);if(r!==null){var a=o(r);if(a!==null){if(r=a.tag,r===13){if(r=l(a),r!==null){t.blockedOn=r,Ze(t.priority,function(){Q1(a)});return}}else if(r===31){if(r=d(a),r!==null){t.blockedOn=r,Ze(t.priority,function(){Q1(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=sh(t.nativeEvent);if(a===null){a=t.nativeEvent;var c=new a.constructor(a.type,a);af=c,a.target.dispatchEvent(c),af=null}else return r=Cr(a),r!==null&&W1(r),t.blockedOn=a,!1;r.shift()}return!0}function ng(t,r,a){zc(t)&&a.delete(r)}function YA(){oh=!1,Xi!==null&&zc(Xi)&&(Xi=null),$i!==null&&zc($i)&&($i=null),Wi!==null&&zc(Wi)&&(Wi=null),Jo.forEach(ng),tu.forEach(ng)}function Hc(t,r){t.blockedOn===r&&(t.blockedOn=null,oh||(oh=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,YA)))}var qc=null;function rg(t){qc!==t&&(qc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){qc===t&&(qc=null);for(var r=0;r<t.length;r+=3){var a=t[r],c=t[r+1],p=t[r+2];if(typeof c!="function"){if(ah(c||a)===null)continue;break}var g=Cr(a);g!==null&&(t.splice(r,3),r-=3,sd(g,{pending:!0,data:p,method:a.method,action:c},c,p))}}))}function za(t){function r(Q){return Hc(Q,t)}Xi!==null&&Hc(Xi,t),$i!==null&&Hc($i,t),Wi!==null&&Hc(Wi,t),Jo.forEach(r),tu.forEach(r);for(var a=0;a<Qi.length;a++){var c=Qi[a];c.blockedOn===t&&(c.blockedOn=null)}for(;0<Qi.length&&(a=Qi[0],a.blockedOn===null);)eg(a),a.blockedOn===null&&Qi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var p=a[c],g=a[c+1],N=p[oe]||null;if(typeof g=="function")N||rg(a);else if(N){var q=null;if(g&&g.hasAttribute("formAction")){if(p=g,N=g[oe]||null)q=N.formAction;else if(ah(p)!==null)continue}else q=N.action;typeof q=="function"?a[c+1]=q:(a.splice(c,3),c-=3),rg(a)}}}function ig(){function t(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(N){return p=N})},focusReset:"manual",scroll:"manual"})}function r(){p!==null&&(p(),p=null),c||setTimeout(a,20)}function a(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,p=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){c=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),p!==null&&(p(),p=null)}}}function uh(t){this._internalRoot=t}jc.prototype.render=uh.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(i(409));var a=r.current,c=rr();X1(a,c,t,r,null,null)},jc.prototype.unmount=uh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;X1(t.current,2,null,t,null,null),vc(),r[Zr]=null}};function jc(t){this._internalRoot=t}jc.prototype.unstable_scheduleHydration=function(t){if(t){var r=Fe();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Qi.length&&r!==0&&r<Qi[a].priority;a++);Qi.splice(a,0,t),a===0&&eg(t)}};var sg=e.version;if(sg!=="19.2.3")throw Error(i(527,sg,"19.2.3"));B.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=_(r),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var FA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:S,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{mt=Pc.inject(FA),Dt=Pc}catch{}}return iu.createRoot=function(t,r){if(!u(t))throw Error(i(299));var a=!1,c="",p=dy,g=hy,N=py;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(N=r.onRecoverableError)),r=F1(t,1,!1,null,null,a,c,null,p,g,N,ig),t[Zr]=r.current,Kd(t),new uh(r)},iu.hydrateRoot=function(t,r,a){if(!u(t))throw Error(i(299));var c=!1,p="",g=dy,N=hy,q=py,Q=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(N=a.onCaughtError),a.onRecoverableError!==void 0&&(q=a.onRecoverableError),a.formState!==void 0&&(Q=a.formState)),r=F1(t,1,!0,r,a??null,c,p,Q,g,N,q,ig),r.context=Z1(null),a=r.current,c=rr(),c=qe(c),p=Di(c),p.callback=null,zi(a,p,c),a=c,r.current.lanes=a,Oi(r,a),Dr(r),t[Zr]=r.current,Kd(t),new jc(r)},iu.version="19.2.3",iu}var _g;function cR(){if(_g)return hh.exports;_g=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),hh.exports=uR(),hh.exports}var lR=cR();const Ha=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function vu(s){return s instanceof Uint8Array||ArrayBuffer.isView(s)&&s.constructor.name==="Uint8Array"}function hu(s){if(!Number.isSafeInteger(s)||s<0)throw new Error("positive integer expected, got "+s)}function Ri(s,...e){if(!vu(s))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(s.length))throw new Error("Uint8Array expected of length "+e+", got length="+s.length)}function l_(s){if(typeof s!="function"||typeof s.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");hu(s.outputLen),hu(s.blockLen)}function Qa(s,e=!0){if(s.destroyed)throw new Error("Hash instance has been destroyed");if(e&&s.finished)throw new Error("Hash#digest() has already been called")}function f_(s,e){Ri(s);const n=e.outputLen;if(s.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function fR(s){return new Uint32Array(s.buffer,s.byteOffset,Math.floor(s.byteLength/4))}function ds(...s){for(let e=0;e<s.length;e++)s[e].fill(0)}function gh(s){return new DataView(s.buffer,s.byteOffset,s.byteLength)}function zr(s,e){return s<<32-e|s>>>e}const dR=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function hR(s){return s<<24&4278190080|s<<8&16711680|s>>>8&65280|s>>>24&255}function pR(s){for(let e=0;e<s.length;e++)s[e]=hR(s[e]);return s}const wg=dR?s=>s:pR,d_=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",mR=Array.from({length:256},(s,e)=>e.toString(16).padStart(2,"0"));function Ks(s){if(Ri(s),d_)return s.toHex();let e="";for(let n=0;n<s.length;n++)e+=mR[s[n]];return e}const mi={_0:48,_9:57,A:65,F:70,a:97,f:102};function vg(s){if(s>=mi._0&&s<=mi._9)return s-mi._0;if(s>=mi.A&&s<=mi.F)return s-(mi.A-10);if(s>=mi.a&&s<=mi.f)return s-(mi.a-10)}function bl(s){if(typeof s!="string")throw new Error("hex string expected, got "+typeof s);if(d_)return Uint8Array.fromHex(s);const e=s.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const i=new Uint8Array(n);for(let u=0,o=0;u<n;u++,o+=2){const l=vg(s.charCodeAt(o)),d=vg(s.charCodeAt(o+1));if(l===void 0||d===void 0){const y=s[o]+s[o+1];throw new Error('hex string expected, got non-hex character "'+y+'" at index '+o)}i[u]=l*16+d}return i}function yR(s){if(typeof s!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(s))}function Ul(s){return typeof s=="string"&&(s=yR(s)),Ri(s),s}function jr(...s){let e=0;for(let i=0;i<s.length;i++){const u=s[i];Ri(u),e+=u.length}const n=new Uint8Array(e);for(let i=0,u=0;i<s.length;i++){const o=s[i];n.set(o,u),u+=o.length}return n}class M0{}function U0(s){const e=i=>s().update(Ul(i)).digest(),n=s();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>s(),e}function L0(s=32){if(Ha&&typeof Ha.getRandomValues=="function")return Ha.getRandomValues(new Uint8Array(s));if(Ha&&typeof Ha.randomBytes=="function")return Uint8Array.from(Ha.randomBytes(s));throw new Error("crypto.getRandomValues must be defined")}function gR(s,e,n,i){if(typeof s.setBigUint64=="function")return s.setBigUint64(e,n,i);const u=BigInt(32),o=BigInt(4294967295),l=Number(n>>u&o),d=Number(n&o),y=i?4:0,_=i?0:4;s.setUint32(e+y,l,i),s.setUint32(e+_,d,i)}function bR(s,e,n){return s&e^~s&n}function _R(s,e,n){return s&e^s&n^e&n}class h_ extends M0{constructor(e,n,i,u){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=i,this.isLE=u,this.buffer=new Uint8Array(e),this.view=gh(this.buffer)}update(e){Qa(this),e=Ul(e),Ri(e);const{view:n,buffer:i,blockLen:u}=this,o=e.length;for(let l=0;l<o;){const d=Math.min(u-this.pos,o-l);if(d===u){const y=gh(e);for(;u<=o-l;l+=u)this.process(y,l);continue}i.set(e.subarray(l,l+d),this.pos),this.pos+=d,l+=d,this.pos===u&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Qa(this),f_(e,this),this.finished=!0;const{buffer:n,view:i,blockLen:u,isLE:o}=this;let{pos:l}=this;n[l++]=128,ds(this.buffer.subarray(l)),this.padOffset>u-l&&(this.process(i,0),l=0);for(let C=l;C<u;C++)n[C]=0;gR(i,u-8,BigInt(this.length*8),o),this.process(i,0);const d=gh(e),y=this.outputLen;if(y%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const _=y/4,E=this.get();if(_>E.length)throw new Error("_sha2: outputLen bigger than state");for(let C=0;C<_;C++)d.setUint32(4*C,E[C],o)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const i=e.slice(0,n);return this.destroy(),i}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:i,length:u,finished:o,destroyed:l,pos:d}=this;return e.destroyed=l,e.finished=o,e.length=u,e.pos=d,u%n&&e.buffer.set(i),e}clone(){return this._cloneInto()}}const ts=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Bn=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Vc=BigInt(2**32-1),Eg=BigInt(32);function wR(s,e=!1){return e?{h:Number(s&Vc),l:Number(s>>Eg&Vc)}:{h:Number(s>>Eg&Vc)|0,l:Number(s&Vc)|0}}function p_(s,e=!1){const n=s.length;let i=new Uint32Array(n),u=new Uint32Array(n);for(let o=0;o<n;o++){const{h:l,l:d}=wR(s[o],e);[i[o],u[o]]=[l,d]}return[i,u]}const Sg=(s,e,n)=>s>>>n,Ag=(s,e,n)=>s<<32-n|e>>>n,qa=(s,e,n)=>s>>>n|e<<32-n,ja=(s,e,n)=>s<<32-n|e>>>n,Gc=(s,e,n)=>s<<64-n|e>>>n-32,Yc=(s,e,n)=>s>>>n-32|e<<64-n,vR=(s,e,n)=>s<<n|e>>>32-n,ER=(s,e,n)=>e<<n|s>>>32-n,SR=(s,e,n)=>e<<n-32|s>>>64-n,AR=(s,e,n)=>s<<n-32|e>>>64-n;function yi(s,e,n,i){const u=(e>>>0)+(i>>>0);return{h:s+n+(u/2**32|0)|0,l:u|0}}const RR=(s,e,n)=>(s>>>0)+(e>>>0)+(n>>>0),TR=(s,e,n,i)=>e+n+i+(s/2**32|0)|0,xR=(s,e,n,i)=>(s>>>0)+(e>>>0)+(n>>>0)+(i>>>0),OR=(s,e,n,i,u)=>e+n+i+u+(s/2**32|0)|0,NR=(s,e,n,i,u)=>(s>>>0)+(e>>>0)+(n>>>0)+(i>>>0)+(u>>>0),kR=(s,e,n,i,u,o)=>e+n+i+u+o+(s/2**32|0)|0,CR=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),es=new Uint32Array(64);class IR extends h_{constructor(e=32){super(64,e,8,!1),this.A=ts[0]|0,this.B=ts[1]|0,this.C=ts[2]|0,this.D=ts[3]|0,this.E=ts[4]|0,this.F=ts[5]|0,this.G=ts[6]|0,this.H=ts[7]|0}get(){const{A:e,B:n,C:i,D:u,E:o,F:l,G:d,H:y}=this;return[e,n,i,u,o,l,d,y]}set(e,n,i,u,o,l,d,y){this.A=e|0,this.B=n|0,this.C=i|0,this.D=u|0,this.E=o|0,this.F=l|0,this.G=d|0,this.H=y|0}process(e,n){for(let C=0;C<16;C++,n+=4)es[C]=e.getUint32(n,!1);for(let C=16;C<64;C++){const k=es[C-15],R=es[C-2],M=zr(k,7)^zr(k,18)^k>>>3,U=zr(R,17)^zr(R,19)^R>>>10;es[C]=U+es[C-7]+M+es[C-16]|0}let{A:i,B:u,C:o,D:l,E:d,F:y,G:_,H:E}=this;for(let C=0;C<64;C++){const k=zr(d,6)^zr(d,11)^zr(d,25),R=E+k+bR(d,y,_)+CR[C]+es[C]|0,U=(zr(i,2)^zr(i,13)^zr(i,22))+_R(i,u,o)|0;E=_,_=y,y=d,d=l+R|0,l=o,o=u,u=i,i=R+U|0}i=i+this.A|0,u=u+this.B|0,o=o+this.C|0,l=l+this.D|0,d=d+this.E|0,y=y+this.F|0,_=_+this.G|0,E=E+this.H|0,this.set(i,u,o,l,d,y,_,E)}roundClean(){ds(es)}destroy(){this.set(0,0,0,0,0,0,0,0),ds(this.buffer)}}const m_=p_(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(s=>BigInt(s))),BR=m_[0],MR=m_[1],ns=new Uint32Array(80),rs=new Uint32Array(80);class UR extends h_{constructor(e=64){super(128,e,16,!1),this.Ah=Bn[0]|0,this.Al=Bn[1]|0,this.Bh=Bn[2]|0,this.Bl=Bn[3]|0,this.Ch=Bn[4]|0,this.Cl=Bn[5]|0,this.Dh=Bn[6]|0,this.Dl=Bn[7]|0,this.Eh=Bn[8]|0,this.El=Bn[9]|0,this.Fh=Bn[10]|0,this.Fl=Bn[11]|0,this.Gh=Bn[12]|0,this.Gl=Bn[13]|0,this.Hh=Bn[14]|0,this.Hl=Bn[15]|0}get(){const{Ah:e,Al:n,Bh:i,Bl:u,Ch:o,Cl:l,Dh:d,Dl:y,Eh:_,El:E,Fh:C,Fl:k,Gh:R,Gl:M,Hh:U,Hl:L}=this;return[e,n,i,u,o,l,d,y,_,E,C,k,R,M,U,L]}set(e,n,i,u,o,l,d,y,_,E,C,k,R,M,U,L){this.Ah=e|0,this.Al=n|0,this.Bh=i|0,this.Bl=u|0,this.Ch=o|0,this.Cl=l|0,this.Dh=d|0,this.Dl=y|0,this.Eh=_|0,this.El=E|0,this.Fh=C|0,this.Fl=k|0,this.Gh=R|0,this.Gl=M|0,this.Hh=U|0,this.Hl=L|0}process(e,n){for(let P=0;P<16;P++,n+=4)ns[P]=e.getUint32(n),rs[P]=e.getUint32(n+=4);for(let P=16;P<80;P++){const $=ns[P-15]|0,et=rs[P-15]|0,it=qa($,et,1)^qa($,et,8)^Sg($,et,7),st=ja($,et,1)^ja($,et,8)^Ag($,et,7),ot=ns[P-2]|0,K=rs[P-2]|0,Y=qa(ot,K,19)^Gc(ot,K,61)^Sg(ot,K,6),F=ja(ot,K,19)^Yc(ot,K,61)^Ag(ot,K,6),X=xR(st,F,rs[P-7],rs[P-16]),O=OR(X,it,Y,ns[P-7],ns[P-16]);ns[P]=O|0,rs[P]=X|0}let{Ah:i,Al:u,Bh:o,Bl:l,Ch:d,Cl:y,Dh:_,Dl:E,Eh:C,El:k,Fh:R,Fl:M,Gh:U,Gl:L,Hh:j,Hl:G}=this;for(let P=0;P<80;P++){const $=qa(C,k,14)^qa(C,k,18)^Gc(C,k,41),et=ja(C,k,14)^ja(C,k,18)^Yc(C,k,41),it=C&R^~C&U,st=k&M^~k&L,ot=NR(G,et,st,MR[P],rs[P]),K=kR(ot,j,$,it,BR[P],ns[P]),Y=ot|0,F=qa(i,u,28)^Gc(i,u,34)^Gc(i,u,39),X=ja(i,u,28)^Yc(i,u,34)^Yc(i,u,39),O=i&o^i&d^o&d,h=u&l^u&y^l&y;j=U|0,G=L|0,U=R|0,L=M|0,R=C|0,M=k|0,{h:C,l:k}=yi(_|0,E|0,K|0,Y|0),_=d|0,E=y|0,d=o|0,y=l|0,o=i|0,l=u|0;const w=RR(Y,X,h);i=TR(w,K,F,O),u=w|0}({h:i,l:u}=yi(this.Ah|0,this.Al|0,i|0,u|0)),{h:o,l}=yi(this.Bh|0,this.Bl|0,o|0,l|0),{h:d,l:y}=yi(this.Ch|0,this.Cl|0,d|0,y|0),{h:_,l:E}=yi(this.Dh|0,this.Dl|0,_|0,E|0),{h:C,l:k}=yi(this.Eh|0,this.El|0,C|0,k|0),{h:R,l:M}=yi(this.Fh|0,this.Fl|0,R|0,M|0),{h:U,l:L}=yi(this.Gh|0,this.Gl|0,U|0,L|0),{h:j,l:G}=yi(this.Hh|0,this.Hl|0,j|0,G|0),this.set(i,u,o,l,d,y,_,E,C,k,R,M,U,L,j,G)}roundClean(){ds(ns,rs)}destroy(){ds(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const y_=U0(()=>new IR),LR=U0(()=>new UR);const D0=BigInt(0),c0=BigInt(1);function Vs(s,e=""){if(typeof s!="boolean"){const n=e&&`"${e}"`;throw new Error(n+"expected boolean, got type="+typeof s)}return s}function Tr(s,e,n=""){const i=vu(s),u=s?.length,o=e!==void 0;if(!i||o&&u!==e){const l=n&&`"${n}" `,d=o?` of length ${e}`:"",y=i?`length=${u}`:`type=${typeof s}`;throw new Error(l+"expected Uint8Array"+d+", got "+y)}return s}function Fc(s){const e=s.toString(16);return e.length&1?"0"+e:e}function g_(s){if(typeof s!="string")throw new Error("hex string expected, got "+typeof s);return s===""?D0:BigInt("0x"+s)}function Ll(s){return g_(Ks(s))}function pu(s){return Ri(s),g_(Ks(Uint8Array.from(s).reverse()))}function z0(s,e){return bl(s.toString(16).padStart(e*2,"0"))}function b_(s,e){return z0(s,e).reverse()}function an(s,e,n){let i;if(typeof e=="string")try{i=bl(e)}catch(o){throw new Error(s+" must be hex string or Uint8Array, cause: "+o)}else if(vu(e))i=Uint8Array.from(e);else throw new Error(s+" must be hex string or Uint8Array");const u=i.length;if(typeof n=="number"&&u!==n)throw new Error(s+" of length "+n+" expected, got "+u);return i}function Rg(s){return Uint8Array.from(s)}const bh=s=>typeof s=="bigint"&&D0<=s;function DR(s,e,n){return bh(s)&&bh(e)&&bh(n)&&e<=s&&s<n}function l0(s,e,n,i){if(!DR(e,n,i))throw new Error("expected valid "+s+": "+n+" <= n < "+i+", got "+e)}function __(s){let e;for(e=0;s>D0;s>>=c0,e+=1);return e}const Eu=s=>(c0<<BigInt(s))-c0;function zR(s,e,n){if(typeof s!="number"||s<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const i=R=>new Uint8Array(R),u=R=>Uint8Array.of(R);let o=i(s),l=i(s),d=0;const y=()=>{o.fill(1),l.fill(0),d=0},_=(...R)=>n(l,o,...R),E=(R=i(0))=>{l=_(u(0),R),o=_(),R.length!==0&&(l=_(u(1),R),o=_())},C=()=>{if(d++>=1e3)throw new Error("drbg: tried 1000 values");let R=0;const M=[];for(;R<e;){o=_();const U=o.slice();M.push(U),R+=o.length}return jr(...M)};return(R,M)=>{y(),E(R);let U;for(;!(U=M(C()));)E();return y(),U}}function Su(s,e,n={}){if(!s||typeof s!="object")throw new Error("expected valid options object");function i(u,o,l){const d=s[u];if(l&&d===void 0)return;const y=typeof d;if(y!==o||d===null)throw new Error(`param "${u}" is invalid: expected ${o}, got ${y}`)}Object.entries(e).forEach(([u,o])=>i(u,o,!1)),Object.entries(n).forEach(([u,o])=>i(u,o,!0))}function _l(s){const e=new WeakMap;return(n,...i)=>{const u=e.get(n);if(u!==void 0)return u;const o=s(n,...i);return e.set(n,o),o}}const Xn=BigInt(0),Nn=BigInt(1),Ds=BigInt(2),w_=BigInt(3),v_=BigInt(4),E_=BigInt(5),HR=BigInt(7),S_=BigInt(8),qR=BigInt(9),A_=BigInt(16);function pn(s,e){const n=s%e;return n>=Xn?n:e+n}function sn(s,e,n){let i=s;for(;e-- >Xn;)i*=i,i%=n;return i}function Tg(s,e){if(s===Xn)throw new Error("invert: expected non-zero number");if(e<=Xn)throw new Error("invert: expected positive modulus, got "+e);let n=pn(s,e),i=e,u=Xn,o=Nn;for(;n!==Xn;){const d=i/n,y=i%n,_=u-o*d;i=n,n=y,u=o,o=_}if(i!==Nn)throw new Error("invert: does not exist");return pn(u,e)}function H0(s,e,n){if(!s.eql(s.sqr(e),n))throw new Error("Cannot find square root")}function R_(s,e){const n=(s.ORDER+Nn)/v_,i=s.pow(e,n);return H0(s,i,e),i}function jR(s,e){const n=(s.ORDER-E_)/S_,i=s.mul(e,Ds),u=s.pow(i,n),o=s.mul(e,u),l=s.mul(s.mul(o,Ds),u),d=s.mul(o,s.sub(l,s.ONE));return H0(s,d,e),d}function PR(s){const e=Zs(s),n=T_(s),i=n(e,e.neg(e.ONE)),u=n(e,i),o=n(e,e.neg(i)),l=(s+HR)/A_;return(d,y)=>{let _=d.pow(y,l),E=d.mul(_,i);const C=d.mul(_,u),k=d.mul(_,o),R=d.eql(d.sqr(E),y),M=d.eql(d.sqr(C),y);_=d.cmov(_,E,R),E=d.cmov(k,C,M);const U=d.eql(d.sqr(E),y),L=d.cmov(_,E,U);return H0(d,L,y),L}}function T_(s){if(s<w_)throw new Error("sqrt is not defined for small field");let e=s-Nn,n=0;for(;e%Ds===Xn;)e/=Ds,n++;let i=Ds;const u=Zs(s);for(;xg(u,i)===1;)if(i++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return R_;let o=u.pow(i,e);const l=(e+Nn)/Ds;return function(y,_){if(y.is0(_))return _;if(xg(y,_)!==1)throw new Error("Cannot find square root");let E=n,C=y.mul(y.ONE,o),k=y.pow(_,e),R=y.pow(_,l);for(;!y.eql(k,y.ONE);){if(y.is0(k))return y.ZERO;let M=1,U=y.sqr(k);for(;!y.eql(U,y.ONE);)if(M++,U=y.sqr(U),M===E)throw new Error("Cannot find square root");const L=Nn<<BigInt(E-M-1),j=y.pow(C,L);E=M,C=y.sqr(j),k=y.mul(k,C),R=y.mul(R,j)}return R}}function KR(s){return s%v_===w_?R_:s%S_===E_?jR:s%A_===qR?PR(s):T_(s)}const VR=(s,e)=>(pn(s,e)&Nn)===Nn,GR=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function YR(s){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=GR.reduce((i,u)=>(i[u]="function",i),e);return Su(s,n),s}function FR(s,e,n){if(n<Xn)throw new Error("invalid exponent, negatives unsupported");if(n===Xn)return s.ONE;if(n===Nn)return e;let i=s.ONE,u=e;for(;n>Xn;)n&Nn&&(i=s.mul(i,u)),u=s.sqr(u),n>>=Nn;return i}function x_(s,e,n=!1){const i=new Array(e.length).fill(n?s.ZERO:void 0),u=e.reduce((l,d,y)=>s.is0(d)?l:(i[y]=l,s.mul(l,d)),s.ONE),o=s.inv(u);return e.reduceRight((l,d,y)=>s.is0(d)?l:(i[y]=s.mul(l,i[y]),s.mul(l,d)),o),i}function xg(s,e){const n=(s.ORDER-Nn)/Ds,i=s.pow(e,n),u=s.eql(i,s.ONE),o=s.eql(i,s.ZERO),l=s.eql(i,s.neg(s.ONE));if(!u&&!o&&!l)throw new Error("invalid Legendre symbol result");return u?1:o?0:-1}function O_(s,e){e!==void 0&&hu(e);const n=e!==void 0?e:s.toString(2).length,i=Math.ceil(n/8);return{nBitLength:n,nByteLength:i}}function Zs(s,e,n=!1,i={}){if(s<=Xn)throw new Error("invalid field: expected ORDER > 0, got "+s);let u,o,l=!1,d;if(typeof e=="object"&&e!=null){if(i.sqrt||n)throw new Error("cannot specify opts in two arguments");const k=e;k.BITS&&(u=k.BITS),k.sqrt&&(o=k.sqrt),typeof k.isLE=="boolean"&&(n=k.isLE),typeof k.modFromBytes=="boolean"&&(l=k.modFromBytes),d=k.allowedLengths}else typeof e=="number"&&(u=e),i.sqrt&&(o=i.sqrt);const{nBitLength:y,nByteLength:_}=O_(s,u);if(_>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let E;const C=Object.freeze({ORDER:s,isLE:n,BITS:y,BYTES:_,MASK:Eu(y),ZERO:Xn,ONE:Nn,allowedLengths:d,create:k=>pn(k,s),isValid:k=>{if(typeof k!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof k);return Xn<=k&&k<s},is0:k=>k===Xn,isValidNot0:k=>!C.is0(k)&&C.isValid(k),isOdd:k=>(k&Nn)===Nn,neg:k=>pn(-k,s),eql:(k,R)=>k===R,sqr:k=>pn(k*k,s),add:(k,R)=>pn(k+R,s),sub:(k,R)=>pn(k-R,s),mul:(k,R)=>pn(k*R,s),pow:(k,R)=>FR(C,k,R),div:(k,R)=>pn(k*Tg(R,s),s),sqrN:k=>k*k,addN:(k,R)=>k+R,subN:(k,R)=>k-R,mulN:(k,R)=>k*R,inv:k=>Tg(k,s),sqrt:o||(k=>(E||(E=KR(s)),E(C,k))),toBytes:k=>n?b_(k,_):z0(k,_),fromBytes:(k,R=!0)=>{if(d){if(!d.includes(k.length)||k.length>_)throw new Error("Field.fromBytes: expected "+d+" bytes, got "+k.length);const U=new Uint8Array(_);U.set(k,n?0:U.length-k.length),k=U}if(k.length!==_)throw new Error("Field.fromBytes: expected "+_+" bytes, got "+k.length);let M=n?pu(k):Ll(k);if(l&&(M=pn(M,s)),!R&&!C.isValid(M))throw new Error("invalid field element: outside of range 0..ORDER");return M},invertBatch:k=>x_(C,k),cmov:(k,R,M)=>M?R:k});return Object.freeze(C)}function N_(s){if(typeof s!="bigint")throw new Error("field order must be bigint");const e=s.toString(2).length;return Math.ceil(e/8)}function k_(s){const e=N_(s);return e+Math.ceil(e/2)}function ZR(s,e,n=!1){const i=s.length,u=N_(e),o=k_(e);if(i<16||i<o||i>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+i);const l=n?pu(s):Ll(s),d=pn(l,e-Nn)+Nn;return n?b_(d,u):z0(d,u)}const Ja=BigInt(0),zs=BigInt(1);function wl(s,e){const n=e.negate();return s?n:e}function Hs(s,e){const n=x_(s.Fp,e.map(i=>i.Z));return e.map((i,u)=>s.fromAffine(i.toAffine(n[u])))}function C_(s,e){if(!Number.isSafeInteger(s)||s<=0||s>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+s)}function _h(s,e){C_(s,e);const n=Math.ceil(e/s)+1,i=2**(s-1),u=2**s,o=Eu(s),l=BigInt(s);return{windows:n,windowSize:i,mask:o,maxNumber:u,shiftBy:l}}function Og(s,e,n){const{windowSize:i,mask:u,maxNumber:o,shiftBy:l}=n;let d=Number(s&u),y=s>>l;d>i&&(d-=o,y+=zs);const _=e*i,E=_+Math.abs(d)-1,C=d===0,k=d<0,R=e%2!==0;return{nextN:y,offset:E,isZero:C,isNeg:k,isNegF:R,offsetF:_}}function XR(s,e){if(!Array.isArray(s))throw new Error("array expected");s.forEach((n,i)=>{if(!(n instanceof e))throw new Error("invalid point at index "+i)})}function $R(s,e){if(!Array.isArray(s))throw new Error("array of scalars expected");s.forEach((n,i)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+i)})}const wh=new WeakMap,I_=new WeakMap;function vh(s){return I_.get(s)||1}function Ng(s){if(s!==Ja)throw new Error("invalid wNAF")}class B_{constructor(e,n){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=n}_unsafeLadder(e,n,i=this.ZERO){let u=e;for(;n>Ja;)n&zs&&(i=i.add(u)),u=u.double(),n>>=zs;return i}precomputeWindow(e,n){const{windows:i,windowSize:u}=_h(n,this.bits),o=[];let l=e,d=l;for(let y=0;y<i;y++){d=l,o.push(d);for(let _=1;_<u;_++)d=d.add(l),o.push(d);l=d.double()}return o}wNAF(e,n,i){if(!this.Fn.isValid(i))throw new Error("invalid scalar");let u=this.ZERO,o=this.BASE;const l=_h(e,this.bits);for(let d=0;d<l.windows;d++){const{nextN:y,offset:_,isZero:E,isNeg:C,isNegF:k,offsetF:R}=Og(i,d,l);i=y,E?o=o.add(wl(k,n[R])):u=u.add(wl(C,n[_]))}return Ng(i),{p:u,f:o}}wNAFUnsafe(e,n,i,u=this.ZERO){const o=_h(e,this.bits);for(let l=0;l<o.windows&&i!==Ja;l++){const{nextN:d,offset:y,isZero:_,isNeg:E}=Og(i,l,o);if(i=d,!_){const C=n[y];u=u.add(E?C.negate():C)}}return Ng(i),u}getPrecomputes(e,n,i){let u=wh.get(n);return u||(u=this.precomputeWindow(n,e),e!==1&&(typeof i=="function"&&(u=i(u)),wh.set(n,u))),u}cached(e,n,i){const u=vh(e);return this.wNAF(u,this.getPrecomputes(u,e,i),n)}unsafe(e,n,i,u){const o=vh(e);return o===1?this._unsafeLadder(e,n,u):this.wNAFUnsafe(o,this.getPrecomputes(o,e,i),n,u)}createCache(e,n){C_(n,this.bits),I_.set(e,n),wh.delete(e)}hasCache(e){return vh(e)!==1}}function WR(s,e,n,i){let u=e,o=s.ZERO,l=s.ZERO;for(;n>Ja||i>Ja;)n&zs&&(o=o.add(u)),i&zs&&(l=l.add(u)),u=u.double(),n>>=zs,i>>=zs;return{p1:o,p2:l}}function M_(s,e,n,i){XR(n,s),$R(i,e);const u=n.length,o=i.length;if(u!==o)throw new Error("arrays of points and scalars must have equal length");const l=s.ZERO,d=__(BigInt(u));let y=1;d>12?y=d-3:d>4?y=d-2:d>0&&(y=2);const _=Eu(y),E=new Array(Number(_)+1).fill(l),C=Math.floor((e.BITS-1)/y)*y;let k=l;for(let R=C;R>=0;R-=y){E.fill(l);for(let U=0;U<o;U++){const L=i[U],j=Number(L>>BigInt(R)&_);E[j]=E[j].add(n[U])}let M=l;for(let U=E.length-1,L=l;U>0;U--)L=L.add(E[U]),M=M.add(L);if(k=k.add(M),R!==0)for(let U=0;U<y;U++)k=k.double()}return k}function kg(s,e,n){if(e){if(e.ORDER!==s)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return YR(e),e}else return Zs(s,{isLE:n})}function U_(s,e,n={},i){if(i===void 0&&(i=s==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${s} CURVE object`);for(const y of["p","n","h"]){const _=e[y];if(!(typeof _=="bigint"&&_>Ja))throw new Error(`CURVE.${y} must be positive bigint`)}const u=kg(e.p,n.Fp,i),o=kg(e.n,n.Fn,i),d=["Gx","Gy","a",s==="weierstrass"?"b":"d"];for(const y of d)if(!u.isValid(e[y]))throw new Error(`CURVE.${y} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:u,Fn:o}}const is=BigInt(0),_n=BigInt(1),Eh=BigInt(2),QR=BigInt(8);function JR(s,e,n,i){const u=s.sqr(n),o=s.sqr(i),l=s.add(s.mul(e.a,u),o),d=s.add(s.ONE,s.mul(e.d,s.mul(u,o)));return s.eql(l,d)}function t2(s,e={}){const n=U_("edwards",s,e,e.FpFnLE),{Fp:i,Fn:u}=n;let o=n.CURVE;const{h:l}=o;Su(e,{},{uvRatio:"function"});const d=Eh<<BigInt(u.BYTES*8)-_n,y=L=>i.create(L),_=e.uvRatio||((L,j)=>{try{return{isValid:!0,value:i.sqrt(i.div(L,j))}}catch{return{isValid:!1,value:is}}});if(!JR(i,o,o.Gx,o.Gy))throw new Error("bad curve params: generator point");function E(L,j,G=!1){const P=G?_n:is;return l0("coordinate "+L,j,P,d),j}function C(L){if(!(L instanceof M))throw new Error("ExtendedPoint expected")}const k=_l((L,j)=>{const{X:G,Y:P,Z:$}=L,et=L.is0();j==null&&(j=et?QR:i.inv($));const it=y(G*j),st=y(P*j),ot=i.mul($,j);if(et)return{x:is,y:_n};if(ot!==_n)throw new Error("invZ was invalid");return{x:it,y:st}}),R=_l(L=>{const{a:j,d:G}=o;if(L.is0())throw new Error("bad point: ZERO");const{X:P,Y:$,Z:et,T:it}=L,st=y(P*P),ot=y($*$),K=y(et*et),Y=y(K*K),F=y(st*j),X=y(K*y(F+ot)),O=y(Y+y(G*y(st*ot)));if(X!==O)throw new Error("bad point: equation left != right (1)");const h=y(P*$),w=y(et*it);if(h!==w)throw new Error("bad point: equation left != right (2)");return!0});class M{constructor(j,G,P,$){this.X=E("x",j),this.Y=E("y",G),this.Z=E("z",P,!0),this.T=E("t",$),Object.freeze(this)}static CURVE(){return o}static fromAffine(j){if(j instanceof M)throw new Error("extended point not allowed");const{x:G,y:P}=j||{};return E("x",G),E("y",P),new M(G,P,_n,y(G*P))}static fromBytes(j,G=!1){const P=i.BYTES,{a:$,d:et}=o;j=Rg(Tr(j,P,"point")),Vs(G,"zip215");const it=Rg(j),st=j[P-1];it[P-1]=st&-129;const ot=pu(it),K=G?d:i.ORDER;l0("point.y",ot,is,K);const Y=y(ot*ot),F=y(Y-_n),X=y(et*Y-$);let{isValid:O,value:h}=_(F,X);if(!O)throw new Error("bad point: invalid y coordinate");const w=(h&_n)===_n,S=(st&128)!==0;if(!G&&h===is&&S)throw new Error("bad point: x=0 and x_0=1");return S!==w&&(h=y(-h)),M.fromAffine({x:h,y:ot})}static fromHex(j,G=!1){return M.fromBytes(an("point",j),G)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(j=8,G=!0){return U.createCache(this,j),G||this.multiply(Eh),this}assertValidity(){R(this)}equals(j){C(j);const{X:G,Y:P,Z:$}=this,{X:et,Y:it,Z:st}=j,ot=y(G*st),K=y(et*$),Y=y(P*st),F=y(it*$);return ot===K&&Y===F}is0(){return this.equals(M.ZERO)}negate(){return new M(y(-this.X),this.Y,this.Z,y(-this.T))}double(){const{a:j}=o,{X:G,Y:P,Z:$}=this,et=y(G*G),it=y(P*P),st=y(Eh*y($*$)),ot=y(j*et),K=G+P,Y=y(y(K*K)-et-it),F=ot+it,X=F-st,O=ot-it,h=y(Y*X),w=y(F*O),S=y(Y*O),B=y(X*F);return new M(h,w,B,S)}add(j){C(j);const{a:G,d:P}=o,{X:$,Y:et,Z:it,T:st}=this,{X:ot,Y:K,Z:Y,T:F}=j,X=y($*ot),O=y(et*K),h=y(st*P*F),w=y(it*Y),S=y(($+et)*(ot+K)-X-O),B=w-h,D=w+h,I=y(O-G*X),v=y(S*B),m=y(D*I),f=y(S*I),b=y(B*D);return new M(v,m,b,f)}subtract(j){return this.add(j.negate())}multiply(j){if(!u.isValidNot0(j))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:G,f:P}=U.cached(this,j,$=>Hs(M,$));return Hs(M,[G,P])[0]}multiplyUnsafe(j,G=M.ZERO){if(!u.isValid(j))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return j===is?M.ZERO:this.is0()||j===_n?this:U.unsafe(this,j,P=>Hs(M,P),G)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return U.unsafe(this,o.n).is0()}toAffine(j){return k(this,j)}clearCofactor(){return l===_n?this:this.multiplyUnsafe(l)}toBytes(){const{x:j,y:G}=this.toAffine(),P=i.toBytes(G);return P[P.length-1]|=j&_n?128:0,P}toHex(){return Ks(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(j){return Hs(M,j)}static msm(j,G){return M_(M,u,j,G)}_setWindowSize(j){this.precompute(j)}toRawBytes(){return this.toBytes()}}M.BASE=new M(o.Gx,o.Gy,_n,y(o.Gx*o.Gy)),M.ZERO=new M(is,_n,_n,is),M.Fp=i,M.Fn=u;const U=new B_(M,u.BITS);return M.BASE.precompute(8),M}function e2(s,e,n={}){if(typeof e!="function")throw new Error('"hash" function param is required');Su(n,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:i}=n,{BASE:u,Fp:o,Fn:l}=s,d=n.randomBytes||L0,y=n.adjustScalarBytes||(K=>K),_=n.domain||((K,Y,F)=>{if(Vs(F,"phflag"),Y.length||F)throw new Error("Contexts/pre-hash are not supported");return K});function E(K){return l.create(pu(K))}function C(K){const Y=P.secretKey;K=an("private key",K,Y);const F=an("hashed private key",e(K),2*Y),X=y(F.slice(0,Y)),O=F.slice(Y,2*Y),h=E(X);return{head:X,prefix:O,scalar:h}}function k(K){const{head:Y,prefix:F,scalar:X}=C(K),O=u.multiply(X),h=O.toBytes();return{head:Y,prefix:F,scalar:X,point:O,pointBytes:h}}function R(K){return k(K).pointBytes}function M(K=Uint8Array.of(),...Y){const F=jr(...Y);return E(e(_(F,an("context",K),!!i)))}function U(K,Y,F={}){K=an("message",K),i&&(K=i(K));const{prefix:X,scalar:O,pointBytes:h}=k(Y),w=M(F.context,X,K),S=u.multiply(w).toBytes(),B=M(F.context,S,h,K),D=l.create(w+B*O);if(!l.isValid(D))throw new Error("sign failed: invalid s");const I=jr(S,l.toBytes(D));return Tr(I,P.signature,"result")}const L={zip215:!0};function j(K,Y,F,X=L){const{context:O,zip215:h}=X,w=P.signature;K=an("signature",K,w),Y=an("message",Y),F=an("publicKey",F,P.publicKey),h!==void 0&&Vs(h,"zip215"),i&&(Y=i(Y));const S=w/2,B=K.subarray(0,S),D=pu(K.subarray(S,w));let I,v,m;try{I=s.fromBytes(F,h),v=s.fromBytes(B,h),m=u.multiplyUnsafe(D)}catch{return!1}if(!h&&I.isSmallOrder())return!1;const f=M(O,v.toBytes(),I.toBytes(),Y);return v.add(I.multiplyUnsafe(f)).subtract(m).clearCofactor().is0()}const G=o.BYTES,P={secretKey:G,publicKey:G,signature:2*G,seed:G};function $(K=d(P.seed)){return Tr(K,P.seed,"seed")}function et(K){const Y=ot.randomSecretKey(K);return{secretKey:Y,publicKey:R(Y)}}function it(K){return vu(K)&&K.length===l.BYTES}function st(K,Y){try{return!!s.fromBytes(K,Y)}catch{return!1}}const ot={getExtendedPublicKey:k,randomSecretKey:$,isValidSecretKey:it,isValidPublicKey:st,toMontgomery(K){const{y:Y}=s.fromBytes(K),F=P.publicKey,X=F===32;if(!X&&F!==57)throw new Error("only defined for 25519 and 448");const O=X?o.div(_n+Y,_n-Y):o.div(Y-_n,Y+_n);return o.toBytes(O)},toMontgomerySecret(K){const Y=P.secretKey;Tr(K,Y);const F=e(K.subarray(0,Y));return y(F).subarray(0,Y)},randomPrivateKey:$,precompute(K=8,Y=s.BASE){return Y.precompute(K,!1)}};return Object.freeze({keygen:et,getPublicKey:R,sign:U,verify:j,utils:ot,Point:s,lengths:P})}function n2(s){const e={a:s.a,d:s.d,p:s.Fp.ORDER,n:s.n,h:s.h,Gx:s.Gx,Gy:s.Gy},n=s.Fp,i=Zs(e.n,s.nBitLength,!0),u={Fp:n,Fn:i,uvRatio:s.uvRatio},o={randomBytes:s.randomBytes,adjustScalarBytes:s.adjustScalarBytes,domain:s.domain,prehash:s.prehash,mapToCurve:s.mapToCurve};return{CURVE:e,curveOpts:u,hash:s.hash,eddsaOpts:o}}function r2(s,e){const n=e.Point;return Object.assign({},e,{ExtendedPoint:n,CURVE:s,nBitLength:n.Fn.BITS,nByteLength:n.Fn.BYTES})}function i2(s){const{CURVE:e,curveOpts:n,hash:i,eddsaOpts:u}=n2(s),o=t2(e,n),l=e2(o,i,u);return r2(s,l)}const s2=BigInt(1),Cg=BigInt(2);BigInt(3);const a2=BigInt(5),o2=BigInt(8),q0=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),L_={p:q0,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:o2,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function u2(s){const e=BigInt(10),n=BigInt(20),i=BigInt(40),u=BigInt(80),o=q0,d=s*s%o*s%o,y=sn(d,Cg,o)*d%o,_=sn(y,s2,o)*s%o,E=sn(_,a2,o)*_%o,C=sn(E,e,o)*E%o,k=sn(C,n,o)*C%o,R=sn(k,i,o)*k%o,M=sn(R,u,o)*R%o,U=sn(M,u,o)*R%o,L=sn(U,e,o)*E%o;return{pow_p_5_8:sn(L,Cg,o)*s%o,b2:d}}function c2(s){return s[0]&=248,s[31]&=127,s[31]|=64,s}const Ig=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function l2(s,e){const n=q0,i=pn(e*e*e,n),u=pn(i*i*e,n),o=u2(s*u).pow_p_5_8;let l=pn(s*i*o,n);const d=pn(e*l*l,n),y=l,_=pn(l*Ig,n),E=d===s,C=d===pn(-s,n),k=d===pn(-s*Ig,n);return E&&(l=y),(C||k)&&(l=_),VR(l,n)&&(l=pn(-l,n)),{isValid:E||C,value:l}}const f2=Zs(L_.p,{isLE:!0}),d2={...L_,Fp:f2,hash:LR,adjustScalarBytes:c2,uvRatio:l2},so=i2(d2);var dl={exports:{}};const h2={},p2=Object.freeze(Object.defineProperty({__proto__:null,default:h2},Symbol.toStringTag,{value:"Module"})),m2=Ml(p2);var y2=dl.exports,Bg;function j0(){return Bg||(Bg=1,(function(s){(function(e,n){function i(O,h){if(!O)throw new Error(h||"Assertion failed")}function u(O,h){O.super_=h;var w=function(){};w.prototype=h.prototype,O.prototype=new w,O.prototype.constructor=O}function o(O,h,w){if(o.isBN(O))return O;this.negative=0,this.words=null,this.length=0,this.red=null,O!==null&&((h==="le"||h==="be")&&(w=h,h=10),this._init(O||0,h||10,w||"be"))}typeof e=="object"?e.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var l;try{typeof window<"u"&&typeof window.Buffer<"u"?l=window.Buffer:l=m2.Buffer}catch{}o.isBN=function(h){return h instanceof o?!0:h!==null&&typeof h=="object"&&h.constructor.wordSize===o.wordSize&&Array.isArray(h.words)},o.max=function(h,w){return h.cmp(w)>0?h:w},o.min=function(h,w){return h.cmp(w)<0?h:w},o.prototype._init=function(h,w,S){if(typeof h=="number")return this._initNumber(h,w,S);if(typeof h=="object")return this._initArray(h,w,S);w==="hex"&&(w=16),i(w===(w|0)&&w>=2&&w<=36),h=h.toString().replace(/\s+/g,"");var B=0;h[0]==="-"&&(B++,this.negative=1),B<h.length&&(w===16?this._parseHex(h,B,S):(this._parseBase(h,w,B),S==="le"&&this._initArray(this.toArray(),w,S)))},o.prototype._initNumber=function(h,w,S){h<0&&(this.negative=1,h=-h),h<67108864?(this.words=[h&67108863],this.length=1):h<4503599627370496?(this.words=[h&67108863,h/67108864&67108863],this.length=2):(i(h<9007199254740992),this.words=[h&67108863,h/67108864&67108863,1],this.length=3),S==="le"&&this._initArray(this.toArray(),w,S)},o.prototype._initArray=function(h,w,S){if(i(typeof h.length=="number"),h.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(h.length/3),this.words=new Array(this.length);for(var B=0;B<this.length;B++)this.words[B]=0;var D,I,v=0;if(S==="be")for(B=h.length-1,D=0;B>=0;B-=3)I=h[B]|h[B-1]<<8|h[B-2]<<16,this.words[D]|=I<<v&67108863,this.words[D+1]=I>>>26-v&67108863,v+=24,v>=26&&(v-=26,D++);else if(S==="le")for(B=0,D=0;B<h.length;B+=3)I=h[B]|h[B+1]<<8|h[B+2]<<16,this.words[D]|=I<<v&67108863,this.words[D+1]=I>>>26-v&67108863,v+=24,v>=26&&(v-=26,D++);return this._strip()};function d(O,h){var w=O.charCodeAt(h);if(w>=48&&w<=57)return w-48;if(w>=65&&w<=70)return w-55;if(w>=97&&w<=102)return w-87;i(!1,"Invalid character in "+O)}function y(O,h,w){var S=d(O,w);return w-1>=h&&(S|=d(O,w-1)<<4),S}o.prototype._parseHex=function(h,w,S){this.length=Math.ceil((h.length-w)/6),this.words=new Array(this.length);for(var B=0;B<this.length;B++)this.words[B]=0;var D=0,I=0,v;if(S==="be")for(B=h.length-1;B>=w;B-=2)v=y(h,w,B)<<D,this.words[I]|=v&67108863,D>=18?(D-=18,I+=1,this.words[I]|=v>>>26):D+=8;else{var m=h.length-w;for(B=m%2===0?w+1:w;B<h.length;B+=2)v=y(h,w,B)<<D,this.words[I]|=v&67108863,D>=18?(D-=18,I+=1,this.words[I]|=v>>>26):D+=8}this._strip()};function _(O,h,w,S){for(var B=0,D=0,I=Math.min(O.length,w),v=h;v<I;v++){var m=O.charCodeAt(v)-48;B*=S,m>=49?D=m-49+10:m>=17?D=m-17+10:D=m,i(m>=0&&D<S,"Invalid character"),B+=D}return B}o.prototype._parseBase=function(h,w,S){this.words=[0],this.length=1;for(var B=0,D=1;D<=67108863;D*=w)B++;B--,D=D/w|0;for(var I=h.length-S,v=I%B,m=Math.min(I,I-v)+S,f=0,b=S;b<m;b+=B)f=_(h,b,b+B,w),this.imuln(D),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(v!==0){var x=1;for(f=_(h,b,h.length,w),b=0;b<v;b++)x*=w;this.imuln(x),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this._strip()},o.prototype.copy=function(h){h.words=new Array(this.length);for(var w=0;w<this.length;w++)h.words[w]=this.words[w];h.length=this.length,h.negative=this.negative,h.red=this.red};function E(O,h){O.words=h.words,O.length=h.length,O.negative=h.negative,O.red=h.red}if(o.prototype._move=function(h){E(h,this)},o.prototype.clone=function(){var h=new o(null);return this.copy(h),h},o.prototype._expand=function(h){for(;this.length<h;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=C}catch{o.prototype.inspect=C}else o.prototype.inspect=C;function C(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var k=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],R=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(h,w){h=h||10,w=w|0||1;var S;if(h===16||h==="hex"){S="";for(var B=0,D=0,I=0;I<this.length;I++){var v=this.words[I],m=((v<<B|D)&16777215).toString(16);D=v>>>24-B&16777215,B+=2,B>=26&&(B-=26,I--),D!==0||I!==this.length-1?S=k[6-m.length]+m+S:S=m+S}for(D!==0&&(S=D.toString(16)+S);S.length%w!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}if(h===(h|0)&&h>=2&&h<=36){var f=R[h],b=M[h];S="";var x=this.clone();for(x.negative=0;!x.isZero();){var z=x.modrn(b).toString(h);x=x.idivn(b),x.isZero()?S=z+S:S=k[f-z.length]+z+S}for(this.isZero()&&(S="0"+S);S.length%w!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}i(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var h=this.words[0];return this.length===2?h+=this.words[1]*67108864:this.length===3&&this.words[2]===1?h+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-h:h},o.prototype.toJSON=function(){return this.toString(16,2)},l&&(o.prototype.toBuffer=function(h,w){return this.toArrayLike(l,h,w)}),o.prototype.toArray=function(h,w){return this.toArrayLike(Array,h,w)};var U=function(h,w){return h.allocUnsafe?h.allocUnsafe(w):new h(w)};o.prototype.toArrayLike=function(h,w,S){this._strip();var B=this.byteLength(),D=S||Math.max(1,B);i(B<=D,"byte array longer than desired length"),i(D>0,"Requested array length <= 0");var I=U(h,D),v=w==="le"?"LE":"BE";return this["_toArrayLike"+v](I,B),I},o.prototype._toArrayLikeLE=function(h,w){for(var S=0,B=0,D=0,I=0;D<this.length;D++){var v=this.words[D]<<I|B;h[S++]=v&255,S<h.length&&(h[S++]=v>>8&255),S<h.length&&(h[S++]=v>>16&255),I===6?(S<h.length&&(h[S++]=v>>24&255),B=0,I=0):(B=v>>>24,I+=2)}if(S<h.length)for(h[S++]=B;S<h.length;)h[S++]=0},o.prototype._toArrayLikeBE=function(h,w){for(var S=h.length-1,B=0,D=0,I=0;D<this.length;D++){var v=this.words[D]<<I|B;h[S--]=v&255,S>=0&&(h[S--]=v>>8&255),S>=0&&(h[S--]=v>>16&255),I===6?(S>=0&&(h[S--]=v>>24&255),B=0,I=0):(B=v>>>24,I+=2)}if(S>=0)for(h[S--]=B;S>=0;)h[S--]=0},Math.clz32?o.prototype._countBits=function(h){return 32-Math.clz32(h)}:o.prototype._countBits=function(h){var w=h,S=0;return w>=4096&&(S+=13,w>>>=13),w>=64&&(S+=7,w>>>=7),w>=8&&(S+=4,w>>>=4),w>=2&&(S+=2,w>>>=2),S+w},o.prototype._zeroBits=function(h){if(h===0)return 26;var w=h,S=0;return(w&8191)===0&&(S+=13,w>>>=13),(w&127)===0&&(S+=7,w>>>=7),(w&15)===0&&(S+=4,w>>>=4),(w&3)===0&&(S+=2,w>>>=2),(w&1)===0&&S++,S},o.prototype.bitLength=function(){var h=this.words[this.length-1],w=this._countBits(h);return(this.length-1)*26+w};function L(O){for(var h=new Array(O.bitLength()),w=0;w<h.length;w++){var S=w/26|0,B=w%26;h[w]=O.words[S]>>>B&1}return h}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var h=0,w=0;w<this.length;w++){var S=this._zeroBits(this.words[w]);if(h+=S,S!==26)break}return h},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(h){return this.negative!==0?this.abs().inotn(h).iaddn(1):this.clone()},o.prototype.fromTwos=function(h){return this.testn(h-1)?this.notn(h).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(h){for(;this.length<h.length;)this.words[this.length++]=0;for(var w=0;w<h.length;w++)this.words[w]=this.words[w]|h.words[w];return this._strip()},o.prototype.ior=function(h){return i((this.negative|h.negative)===0),this.iuor(h)},o.prototype.or=function(h){return this.length>h.length?this.clone().ior(h):h.clone().ior(this)},o.prototype.uor=function(h){return this.length>h.length?this.clone().iuor(h):h.clone().iuor(this)},o.prototype.iuand=function(h){var w;this.length>h.length?w=h:w=this;for(var S=0;S<w.length;S++)this.words[S]=this.words[S]&h.words[S];return this.length=w.length,this._strip()},o.prototype.iand=function(h){return i((this.negative|h.negative)===0),this.iuand(h)},o.prototype.and=function(h){return this.length>h.length?this.clone().iand(h):h.clone().iand(this)},o.prototype.uand=function(h){return this.length>h.length?this.clone().iuand(h):h.clone().iuand(this)},o.prototype.iuxor=function(h){var w,S;this.length>h.length?(w=this,S=h):(w=h,S=this);for(var B=0;B<S.length;B++)this.words[B]=w.words[B]^S.words[B];if(this!==w)for(;B<w.length;B++)this.words[B]=w.words[B];return this.length=w.length,this._strip()},o.prototype.ixor=function(h){return i((this.negative|h.negative)===0),this.iuxor(h)},o.prototype.xor=function(h){return this.length>h.length?this.clone().ixor(h):h.clone().ixor(this)},o.prototype.uxor=function(h){return this.length>h.length?this.clone().iuxor(h):h.clone().iuxor(this)},o.prototype.inotn=function(h){i(typeof h=="number"&&h>=0);var w=Math.ceil(h/26)|0,S=h%26;this._expand(w),S>0&&w--;for(var B=0;B<w;B++)this.words[B]=~this.words[B]&67108863;return S>0&&(this.words[B]=~this.words[B]&67108863>>26-S),this._strip()},o.prototype.notn=function(h){return this.clone().inotn(h)},o.prototype.setn=function(h,w){i(typeof h=="number"&&h>=0);var S=h/26|0,B=h%26;return this._expand(S+1),w?this.words[S]=this.words[S]|1<<B:this.words[S]=this.words[S]&~(1<<B),this._strip()},o.prototype.iadd=function(h){var w;if(this.negative!==0&&h.negative===0)return this.negative=0,w=this.isub(h),this.negative^=1,this._normSign();if(this.negative===0&&h.negative!==0)return h.negative=0,w=this.isub(h),h.negative=1,w._normSign();var S,B;this.length>h.length?(S=this,B=h):(S=h,B=this);for(var D=0,I=0;I<B.length;I++)w=(S.words[I]|0)+(B.words[I]|0)+D,this.words[I]=w&67108863,D=w>>>26;for(;D!==0&&I<S.length;I++)w=(S.words[I]|0)+D,this.words[I]=w&67108863,D=w>>>26;if(this.length=S.length,D!==0)this.words[this.length]=D,this.length++;else if(S!==this)for(;I<S.length;I++)this.words[I]=S.words[I];return this},o.prototype.add=function(h){var w;return h.negative!==0&&this.negative===0?(h.negative=0,w=this.sub(h),h.negative^=1,w):h.negative===0&&this.negative!==0?(this.negative=0,w=h.sub(this),this.negative=1,w):this.length>h.length?this.clone().iadd(h):h.clone().iadd(this)},o.prototype.isub=function(h){if(h.negative!==0){h.negative=0;var w=this.iadd(h);return h.negative=1,w._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(h),this.negative=1,this._normSign();var S=this.cmp(h);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;var B,D;S>0?(B=this,D=h):(B=h,D=this);for(var I=0,v=0;v<D.length;v++)w=(B.words[v]|0)-(D.words[v]|0)+I,I=w>>26,this.words[v]=w&67108863;for(;I!==0&&v<B.length;v++)w=(B.words[v]|0)+I,I=w>>26,this.words[v]=w&67108863;if(I===0&&v<B.length&&B!==this)for(;v<B.length;v++)this.words[v]=B.words[v];return this.length=Math.max(this.length,v),B!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(h){return this.clone().isub(h)};function j(O,h,w){w.negative=h.negative^O.negative;var S=O.length+h.length|0;w.length=S,S=S-1|0;var B=O.words[0]|0,D=h.words[0]|0,I=B*D,v=I&67108863,m=I/67108864|0;w.words[0]=v;for(var f=1;f<S;f++){for(var b=m>>>26,x=m&67108863,z=Math.min(f,h.length-1),Z=Math.max(0,f-O.length+1);Z<=z;Z++){var nt=f-Z|0;B=O.words[nt]|0,D=h.words[Z]|0,I=B*D+x,b+=I/67108864|0,x=I&67108863}w.words[f]=x|0,m=b|0}return m!==0?w.words[f]=m|0:w.length--,w._strip()}var G=function(h,w,S){var B=h.words,D=w.words,I=S.words,v=0,m,f,b,x=B[0]|0,z=x&8191,Z=x>>>13,nt=B[1]|0,vt=nt&8191,Et=nt>>>13,Pt=B[2]|0,Gt=Pt&8191,ce=Pt>>>13,We=B[3]|0,Wt=We&8191,Zt=We>>>13,kn=B[4]|0,Se=kn&8191,Qt=kn>>>13,vn=B[5]|0,de=vn&8191,ie=vn>>>13,En=B[6]|0,xe=En&8191,te=En>>>13,Cn=B[7]|0,Be=Cn&8191,H=Cn>>>13,A=B[8]|0,T=A&8191,V=A>>>13,rt=B[9]|0,ut=rt&8191,mt=rt>>>13,Dt=D[0]|0,Ht=Dt&8191,Mt=Dt>>>13,Oe=D[1]|0,jt=Oe&8191,Qe=Oe>>>13,ys=D[2]|0,Me=ys&8191,Ue=ys>>>13,Nr=D[3]|0,Le=Nr&8191,ke=Nr>>>13,Iu=D[4]|0,Ve=Iu&8191,He=Iu>>>13,Oi=D[5]|0,Je=Oi&8191,Ge=Oi>>>13,lo=D[6]|0,Ye=lo&8191,qe=lo>>>13,ta=D[7]|0,Fe=ta&8191,Ze=ta>>>13,vr=D[8]|0,Jt=vr&8191,oe=vr>>>13,Zr=D[9]|0,je=Zr&8191,tn=Zr>>>13;S.negative=h.negative^w.negative,S.length=19,m=Math.imul(z,Ht),f=Math.imul(z,Mt),f=f+Math.imul(Z,Ht)|0,b=Math.imul(Z,Mt);var fo=(v+m|0)+((f&8191)<<13)|0;v=(b+(f>>>13)|0)+(fo>>>26)|0,fo&=67108863,m=Math.imul(vt,Ht),f=Math.imul(vt,Mt),f=f+Math.imul(Et,Ht)|0,b=Math.imul(Et,Mt),m=m+Math.imul(z,jt)|0,f=f+Math.imul(z,Qe)|0,f=f+Math.imul(Z,jt)|0,b=b+Math.imul(Z,Qe)|0;var ea=(v+m|0)+((f&8191)<<13)|0;v=(b+(f>>>13)|0)+(ea>>>26)|0,ea&=67108863,m=Math.imul(Gt,Ht),f=Math.imul(Gt,Mt),f=f+Math.imul(ce,Ht)|0,b=Math.imul(ce,Mt),m=m+Math.imul(vt,jt)|0,f=f+Math.imul(vt,Qe)|0,f=f+Math.imul(Et,jt)|0,b=b+Math.imul(Et,Qe)|0,m=m+Math.imul(z,Me)|0,f=f+Math.imul(z,Ue)|0,f=f+Math.imul(Z,Me)|0,b=b+Math.imul(Z,Ue)|0;var Xr=(v+m|0)+((f&8191)<<13)|0;v=(b+(f>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,m=Math.imul(Wt,Ht),f=Math.imul(Wt,Mt),f=f+Math.imul(Zt,Ht)|0,b=Math.imul(Zt,Mt),m=m+Math.imul(Gt,jt)|0,f=f+Math.imul(Gt,Qe)|0,f=f+Math.imul(ce,jt)|0,b=b+Math.imul(ce,Qe)|0,m=m+Math.imul(vt,Me)|0,f=f+Math.imul(vt,Ue)|0,f=f+Math.imul(Et,Me)|0,b=b+Math.imul(Et,Ue)|0,m=m+Math.imul(z,Le)|0,f=f+Math.imul(z,ke)|0,f=f+Math.imul(Z,Le)|0,b=b+Math.imul(Z,ke)|0;var gs=(v+m|0)+((f&8191)<<13)|0;v=(b+(f>>>13)|0)+(gs>>>26)|0,gs&=67108863,m=Math.imul(Se,Ht),f=Math.imul(Se,Mt),f=f+Math.imul(Qt,Ht)|0,b=Math.imul(Qt,Mt),m=m+Math.imul(Wt,jt)|0,f=f+Math.imul(Wt,Qe)|0,f=f+Math.imul(Zt,jt)|0,b=b+Math.imul(Zt,Qe)|0,m=m+Math.imul(Gt,Me)|0,f=f+Math.imul(Gt,Ue)|0,f=f+Math.imul(ce,Me)|0,b=b+Math.imul(ce,Ue)|0,m=m+Math.imul(vt,Le)|0,f=f+Math.imul(vt,ke)|0,f=f+Math.imul(Et,Le)|0,b=b+Math.imul(Et,ke)|0,m=m+Math.imul(z,Ve)|0,f=f+Math.imul(z,He)|0,f=f+Math.imul(Z,Ve)|0,b=b+Math.imul(Z,He)|0;var kr=(v+m|0)+((f&8191)<<13)|0;v=(b+(f>>>13)|0)+(kr>>>26)|0,kr&=67108863,m=Math.imul(de,Ht),f=Math.imul(de,Mt),f=f+Math.imul(ie,Ht)|0,b=Math.imul(ie,Mt),m=m+Math.imul(Se,jt)|0,f=f+Math.imul(Se,Qe)|0,f=f+Math.imul(Qt,jt)|0,b=b+Math.imul(Qt,Qe)|0,m=m+Math.imul(Wt,Me)|0,f=f+Math.imul(Wt,Ue)|0,f=f+Math.imul(Zt,Me)|0,b=b+Math.imul(Zt,Ue)|0,m=m+Math.imul(Gt,Le)|0,f=f+Math.imul(Gt,ke)|0,f=f+Math.imul(ce,Le)|0,b=b+Math.imul(ce,ke)|0,m=m+Math.imul(vt,Ve)|0,f=f+Math.imul(vt,He)|0,f=f+Math.imul(Et,Ve)|0,b=b+Math.imul(Et,He)|0,m=m+Math.imul(z,Je)|0,f=f+Math.imul(z,Ge)|0,f=f+Math.imul(Z,Je)|0,b=b+Math.imul(Z,Ge)|0;var Cr=(v+m|0)+((f&8191)<<13)|0;v=(b+(f>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,m=Math.imul(xe,Ht),f=Math.imul(xe,Mt),f=f+Math.imul(te,Ht)|0,b=Math.imul(te,Mt),m=m+Math.imul(de,jt)|0,f=f+Math.imul(de,Qe)|0,f=f+Math.imul(ie,jt)|0,b=b+Math.imul(ie,Qe)|0,m=m+Math.imul(Se,Me)|0,f=f+Math.imul(Se,Ue)|0,f=f+Math.imul(Qt,Me)|0,b=b+Math.imul(Qt,Ue)|0,m=m+Math.imul(Wt,Le)|0,f=f+Math.imul(Wt,ke)|0,f=f+Math.imul(Zt,Le)|0,b=b+Math.imul(Zt,ke)|0,m=m+Math.imul(Gt,Ve)|0,f=f+Math.imul(Gt,He)|0,f=f+Math.imul(ce,Ve)|0,b=b+Math.imul(ce,He)|0,m=m+Math.imul(vt,Je)|0,f=f+Math.imul(vt,Ge)|0,f=f+Math.imul(Et,Je)|0,b=b+Math.imul(Et,Ge)|0,m=m+Math.imul(z,Ye)|0,f=f+Math.imul(z,qe)|0,f=f+Math.imul(Z,Ye)|0,b=b+Math.imul(Z,qe)|0;var $r=(v+m|0)+((f&8191)<<13)|0;v=(b+(f>>>13)|0)+($r>>>26)|0,$r&=67108863,m=Math.imul(Be,Ht),f=Math.imul(Be,Mt),f=f+Math.imul(H,Ht)|0,b=Math.imul(H,Mt),m=m+Math.imul(xe,jt)|0,f=f+Math.imul(xe,Qe)|0,f=f+Math.imul(te,jt)|0,b=b+Math.imul(te,Qe)|0,m=m+Math.imul(de,Me)|0,f=f+Math.imul(de,Ue)|0,f=f+Math.imul(ie,Me)|0,b=b+Math.imul(ie,Ue)|0,m=m+Math.imul(Se,Le)|0,f=f+Math.imul(Se,ke)|0,f=f+Math.imul(Qt,Le)|0,b=b+Math.imul(Qt,ke)|0,m=m+Math.imul(Wt,Ve)|0,f=f+Math.imul(Wt,He)|0,f=f+Math.imul(Zt,Ve)|0,b=b+Math.imul(Zt,He)|0,m=m+Math.imul(Gt,Je)|0,f=f+Math.imul(Gt,Ge)|0,f=f+Math.imul(ce,Je)|0,b=b+Math.imul(ce,Ge)|0,m=m+Math.imul(vt,Ye)|0,f=f+Math.imul(vt,qe)|0,f=f+Math.imul(Et,Ye)|0,b=b+Math.imul(Et,qe)|0,m=m+Math.imul(z,Fe)|0,f=f+Math.imul(z,Ze)|0,f=f+Math.imul(Z,Fe)|0,b=b+Math.imul(Z,Ze)|0;var Ir=(v+m|0)+((f&8191)<<13)|0;v=(b+(f>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,m=Math.imul(T,Ht),f=Math.imul(T,Mt),f=f+Math.imul(V,Ht)|0,b=Math.imul(V,Mt),m=m+Math.imul(Be,jt)|0,f=f+Math.imul(Be,Qe)|0,f=f+Math.imul(H,jt)|0,b=b+Math.imul(H,Qe)|0,m=m+Math.imul(xe,Me)|0,f=f+Math.imul(xe,Ue)|0,f=f+Math.imul(te,Me)|0,b=b+Math.imul(te,Ue)|0,m=m+Math.imul(de,Le)|0,f=f+Math.imul(de,ke)|0,f=f+Math.imul(ie,Le)|0,b=b+Math.imul(ie,ke)|0,m=m+Math.imul(Se,Ve)|0,f=f+Math.imul(Se,He)|0,f=f+Math.imul(Qt,Ve)|0,b=b+Math.imul(Qt,He)|0,m=m+Math.imul(Wt,Je)|0,f=f+Math.imul(Wt,Ge)|0,f=f+Math.imul(Zt,Je)|0,b=b+Math.imul(Zt,Ge)|0,m=m+Math.imul(Gt,Ye)|0,f=f+Math.imul(Gt,qe)|0,f=f+Math.imul(ce,Ye)|0,b=b+Math.imul(ce,qe)|0,m=m+Math.imul(vt,Fe)|0,f=f+Math.imul(vt,Ze)|0,f=f+Math.imul(Et,Fe)|0,b=b+Math.imul(Et,Ze)|0,m=m+Math.imul(z,Jt)|0,f=f+Math.imul(z,oe)|0,f=f+Math.imul(Z,Jt)|0,b=b+Math.imul(Z,oe)|0;var en=(v+m|0)+((f&8191)<<13)|0;v=(b+(f>>>13)|0)+(en>>>26)|0,en&=67108863,m=Math.imul(ut,Ht),f=Math.imul(ut,Mt),f=f+Math.imul(mt,Ht)|0,b=Math.imul(mt,Mt),m=m+Math.imul(T,jt)|0,f=f+Math.imul(T,Qe)|0,f=f+Math.imul(V,jt)|0,b=b+Math.imul(V,Qe)|0,m=m+Math.imul(Be,Me)|0,f=f+Math.imul(Be,Ue)|0,f=f+Math.imul(H,Me)|0,b=b+Math.imul(H,Ue)|0,m=m+Math.imul(xe,Le)|0,f=f+Math.imul(xe,ke)|0,f=f+Math.imul(te,Le)|0,b=b+Math.imul(te,ke)|0,m=m+Math.imul(de,Ve)|0,f=f+Math.imul(de,He)|0,f=f+Math.imul(ie,Ve)|0,b=b+Math.imul(ie,He)|0,m=m+Math.imul(Se,Je)|0,f=f+Math.imul(Se,Ge)|0,f=f+Math.imul(Qt,Je)|0,b=b+Math.imul(Qt,Ge)|0,m=m+Math.imul(Wt,Ye)|0,f=f+Math.imul(Wt,qe)|0,f=f+Math.imul(Zt,Ye)|0,b=b+Math.imul(Zt,qe)|0,m=m+Math.imul(Gt,Fe)|0,f=f+Math.imul(Gt,Ze)|0,f=f+Math.imul(ce,Fe)|0,b=b+Math.imul(ce,Ze)|0,m=m+Math.imul(vt,Jt)|0,f=f+Math.imul(vt,oe)|0,f=f+Math.imul(Et,Jt)|0,b=b+Math.imul(Et,oe)|0,m=m+Math.imul(z,je)|0,f=f+Math.imul(z,tn)|0,f=f+Math.imul(Z,je)|0,b=b+Math.imul(Z,tn)|0;var na=(v+m|0)+((f&8191)<<13)|0;v=(b+(f>>>13)|0)+(na>>>26)|0,na&=67108863,m=Math.imul(ut,jt),f=Math.imul(ut,Qe),f=f+Math.imul(mt,jt)|0,b=Math.imul(mt,Qe),m=m+Math.imul(T,Me)|0,f=f+Math.imul(T,Ue)|0,f=f+Math.imul(V,Me)|0,b=b+Math.imul(V,Ue)|0,m=m+Math.imul(Be,Le)|0,f=f+Math.imul(Be,ke)|0,f=f+Math.imul(H,Le)|0,b=b+Math.imul(H,ke)|0,m=m+Math.imul(xe,Ve)|0,f=f+Math.imul(xe,He)|0,f=f+Math.imul(te,Ve)|0,b=b+Math.imul(te,He)|0,m=m+Math.imul(de,Je)|0,f=f+Math.imul(de,Ge)|0,f=f+Math.imul(ie,Je)|0,b=b+Math.imul(ie,Ge)|0,m=m+Math.imul(Se,Ye)|0,f=f+Math.imul(Se,qe)|0,f=f+Math.imul(Qt,Ye)|0,b=b+Math.imul(Qt,qe)|0,m=m+Math.imul(Wt,Fe)|0,f=f+Math.imul(Wt,Ze)|0,f=f+Math.imul(Zt,Fe)|0,b=b+Math.imul(Zt,Ze)|0,m=m+Math.imul(Gt,Jt)|0,f=f+Math.imul(Gt,oe)|0,f=f+Math.imul(ce,Jt)|0,b=b+Math.imul(ce,oe)|0,m=m+Math.imul(vt,je)|0,f=f+Math.imul(vt,tn)|0,f=f+Math.imul(Et,je)|0,b=b+Math.imul(Et,tn)|0;var ra=(v+m|0)+((f&8191)<<13)|0;v=(b+(f>>>13)|0)+(ra>>>26)|0,ra&=67108863,m=Math.imul(ut,Me),f=Math.imul(ut,Ue),f=f+Math.imul(mt,Me)|0,b=Math.imul(mt,Ue),m=m+Math.imul(T,Le)|0,f=f+Math.imul(T,ke)|0,f=f+Math.imul(V,Le)|0,b=b+Math.imul(V,ke)|0,m=m+Math.imul(Be,Ve)|0,f=f+Math.imul(Be,He)|0,f=f+Math.imul(H,Ve)|0,b=b+Math.imul(H,He)|0,m=m+Math.imul(xe,Je)|0,f=f+Math.imul(xe,Ge)|0,f=f+Math.imul(te,Je)|0,b=b+Math.imul(te,Ge)|0,m=m+Math.imul(de,Ye)|0,f=f+Math.imul(de,qe)|0,f=f+Math.imul(ie,Ye)|0,b=b+Math.imul(ie,qe)|0,m=m+Math.imul(Se,Fe)|0,f=f+Math.imul(Se,Ze)|0,f=f+Math.imul(Qt,Fe)|0,b=b+Math.imul(Qt,Ze)|0,m=m+Math.imul(Wt,Jt)|0,f=f+Math.imul(Wt,oe)|0,f=f+Math.imul(Zt,Jt)|0,b=b+Math.imul(Zt,oe)|0,m=m+Math.imul(Gt,je)|0,f=f+Math.imul(Gt,tn)|0,f=f+Math.imul(ce,je)|0,b=b+Math.imul(ce,tn)|0;var Er=(v+m|0)+((f&8191)<<13)|0;v=(b+(f>>>13)|0)+(Er>>>26)|0,Er&=67108863,m=Math.imul(ut,Le),f=Math.imul(ut,ke),f=f+Math.imul(mt,Le)|0,b=Math.imul(mt,ke),m=m+Math.imul(T,Ve)|0,f=f+Math.imul(T,He)|0,f=f+Math.imul(V,Ve)|0,b=b+Math.imul(V,He)|0,m=m+Math.imul(Be,Je)|0,f=f+Math.imul(Be,Ge)|0,f=f+Math.imul(H,Je)|0,b=b+Math.imul(H,Ge)|0,m=m+Math.imul(xe,Ye)|0,f=f+Math.imul(xe,qe)|0,f=f+Math.imul(te,Ye)|0,b=b+Math.imul(te,qe)|0,m=m+Math.imul(de,Fe)|0,f=f+Math.imul(de,Ze)|0,f=f+Math.imul(ie,Fe)|0,b=b+Math.imul(ie,Ze)|0,m=m+Math.imul(Se,Jt)|0,f=f+Math.imul(Se,oe)|0,f=f+Math.imul(Qt,Jt)|0,b=b+Math.imul(Qt,oe)|0,m=m+Math.imul(Wt,je)|0,f=f+Math.imul(Wt,tn)|0,f=f+Math.imul(Zt,je)|0,b=b+Math.imul(Zt,tn)|0;var Br=(v+m|0)+((f&8191)<<13)|0;v=(b+(f>>>13)|0)+(Br>>>26)|0,Br&=67108863,m=Math.imul(ut,Ve),f=Math.imul(ut,He),f=f+Math.imul(mt,Ve)|0,b=Math.imul(mt,He),m=m+Math.imul(T,Je)|0,f=f+Math.imul(T,Ge)|0,f=f+Math.imul(V,Je)|0,b=b+Math.imul(V,Ge)|0,m=m+Math.imul(Be,Ye)|0,f=f+Math.imul(Be,qe)|0,f=f+Math.imul(H,Ye)|0,b=b+Math.imul(H,qe)|0,m=m+Math.imul(xe,Fe)|0,f=f+Math.imul(xe,Ze)|0,f=f+Math.imul(te,Fe)|0,b=b+Math.imul(te,Ze)|0,m=m+Math.imul(de,Jt)|0,f=f+Math.imul(de,oe)|0,f=f+Math.imul(ie,Jt)|0,b=b+Math.imul(ie,oe)|0,m=m+Math.imul(Se,je)|0,f=f+Math.imul(Se,tn)|0,f=f+Math.imul(Qt,je)|0,b=b+Math.imul(Qt,tn)|0;var ho=(v+m|0)+((f&8191)<<13)|0;v=(b+(f>>>13)|0)+(ho>>>26)|0,ho&=67108863,m=Math.imul(ut,Je),f=Math.imul(ut,Ge),f=f+Math.imul(mt,Je)|0,b=Math.imul(mt,Ge),m=m+Math.imul(T,Ye)|0,f=f+Math.imul(T,qe)|0,f=f+Math.imul(V,Ye)|0,b=b+Math.imul(V,qe)|0,m=m+Math.imul(Be,Fe)|0,f=f+Math.imul(Be,Ze)|0,f=f+Math.imul(H,Fe)|0,b=b+Math.imul(H,Ze)|0,m=m+Math.imul(xe,Jt)|0,f=f+Math.imul(xe,oe)|0,f=f+Math.imul(te,Jt)|0,b=b+Math.imul(te,oe)|0,m=m+Math.imul(de,je)|0,f=f+Math.imul(de,tn)|0,f=f+Math.imul(ie,je)|0,b=b+Math.imul(ie,tn)|0;var ia=(v+m|0)+((f&8191)<<13)|0;v=(b+(f>>>13)|0)+(ia>>>26)|0,ia&=67108863,m=Math.imul(ut,Ye),f=Math.imul(ut,qe),f=f+Math.imul(mt,Ye)|0,b=Math.imul(mt,qe),m=m+Math.imul(T,Fe)|0,f=f+Math.imul(T,Ze)|0,f=f+Math.imul(V,Fe)|0,b=b+Math.imul(V,Ze)|0,m=m+Math.imul(Be,Jt)|0,f=f+Math.imul(Be,oe)|0,f=f+Math.imul(H,Jt)|0,b=b+Math.imul(H,oe)|0,m=m+Math.imul(xe,je)|0,f=f+Math.imul(xe,tn)|0,f=f+Math.imul(te,je)|0,b=b+Math.imul(te,tn)|0;var sa=(v+m|0)+((f&8191)<<13)|0;v=(b+(f>>>13)|0)+(sa>>>26)|0,sa&=67108863,m=Math.imul(ut,Fe),f=Math.imul(ut,Ze),f=f+Math.imul(mt,Fe)|0,b=Math.imul(mt,Ze),m=m+Math.imul(T,Jt)|0,f=f+Math.imul(T,oe)|0,f=f+Math.imul(V,Jt)|0,b=b+Math.imul(V,oe)|0,m=m+Math.imul(Be,je)|0,f=f+Math.imul(Be,tn)|0,f=f+Math.imul(H,je)|0,b=b+Math.imul(H,tn)|0;var po=(v+m|0)+((f&8191)<<13)|0;v=(b+(f>>>13)|0)+(po>>>26)|0,po&=67108863,m=Math.imul(ut,Jt),f=Math.imul(ut,oe),f=f+Math.imul(mt,Jt)|0,b=Math.imul(mt,oe),m=m+Math.imul(T,je)|0,f=f+Math.imul(T,tn)|0,f=f+Math.imul(V,je)|0,b=b+Math.imul(V,tn)|0;var Ni=(v+m|0)+((f&8191)<<13)|0;v=(b+(f>>>13)|0)+(Ni>>>26)|0,Ni&=67108863,m=Math.imul(ut,je),f=Math.imul(ut,tn),f=f+Math.imul(mt,je)|0,b=Math.imul(mt,tn);var ki=(v+m|0)+((f&8191)<<13)|0;return v=(b+(f>>>13)|0)+(ki>>>26)|0,ki&=67108863,I[0]=fo,I[1]=ea,I[2]=Xr,I[3]=gs,I[4]=kr,I[5]=Cr,I[6]=$r,I[7]=Ir,I[8]=en,I[9]=na,I[10]=ra,I[11]=Er,I[12]=Br,I[13]=ho,I[14]=ia,I[15]=sa,I[16]=po,I[17]=Ni,I[18]=ki,v!==0&&(I[19]=v,S.length++),S};Math.imul||(G=j);function P(O,h,w){w.negative=h.negative^O.negative,w.length=O.length+h.length;for(var S=0,B=0,D=0;D<w.length-1;D++){var I=B;B=0;for(var v=S&67108863,m=Math.min(D,h.length-1),f=Math.max(0,D-O.length+1);f<=m;f++){var b=D-f,x=O.words[b]|0,z=h.words[f]|0,Z=x*z,nt=Z&67108863;I=I+(Z/67108864|0)|0,nt=nt+v|0,v=nt&67108863,I=I+(nt>>>26)|0,B+=I>>>26,I&=67108863}w.words[D]=v,S=I,I=B}return S!==0?w.words[D]=S:w.length--,w._strip()}function $(O,h,w){return P(O,h,w)}o.prototype.mulTo=function(h,w){var S,B=this.length+h.length;return this.length===10&&h.length===10?S=G(this,h,w):B<63?S=j(this,h,w):B<1024?S=P(this,h,w):S=$(this,h,w),S},o.prototype.mul=function(h){var w=new o(null);return w.words=new Array(this.length+h.length),this.mulTo(h,w)},o.prototype.mulf=function(h){var w=new o(null);return w.words=new Array(this.length+h.length),$(this,h,w)},o.prototype.imul=function(h){return this.clone().mulTo(h,this)},o.prototype.imuln=function(h){var w=h<0;w&&(h=-h),i(typeof h=="number"),i(h<67108864);for(var S=0,B=0;B<this.length;B++){var D=(this.words[B]|0)*h,I=(D&67108863)+(S&67108863);S>>=26,S+=D/67108864|0,S+=I>>>26,this.words[B]=I&67108863}return S!==0&&(this.words[B]=S,this.length++),this.length=h===0?1:this.length,w?this.ineg():this},o.prototype.muln=function(h){return this.clone().imuln(h)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(h){var w=L(h);if(w.length===0)return new o(1);for(var S=this,B=0;B<w.length&&w[B]===0;B++,S=S.sqr());if(++B<w.length)for(var D=S.sqr();B<w.length;B++,D=D.sqr())w[B]!==0&&(S=S.mul(D));return S},o.prototype.iushln=function(h){i(typeof h=="number"&&h>=0);var w=h%26,S=(h-w)/26,B=67108863>>>26-w<<26-w,D;if(w!==0){var I=0;for(D=0;D<this.length;D++){var v=this.words[D]&B,m=(this.words[D]|0)-v<<w;this.words[D]=m|I,I=v>>>26-w}I&&(this.words[D]=I,this.length++)}if(S!==0){for(D=this.length-1;D>=0;D--)this.words[D+S]=this.words[D];for(D=0;D<S;D++)this.words[D]=0;this.length+=S}return this._strip()},o.prototype.ishln=function(h){return i(this.negative===0),this.iushln(h)},o.prototype.iushrn=function(h,w,S){i(typeof h=="number"&&h>=0);var B;w?B=(w-w%26)/26:B=0;var D=h%26,I=Math.min((h-D)/26,this.length),v=67108863^67108863>>>D<<D,m=S;if(B-=I,B=Math.max(0,B),m){for(var f=0;f<I;f++)m.words[f]=this.words[f];m.length=I}if(I!==0)if(this.length>I)for(this.length-=I,f=0;f<this.length;f++)this.words[f]=this.words[f+I];else this.words[0]=0,this.length=1;var b=0;for(f=this.length-1;f>=0&&(b!==0||f>=B);f--){var x=this.words[f]|0;this.words[f]=b<<26-D|x>>>D,b=x&v}return m&&b!==0&&(m.words[m.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(h,w,S){return i(this.negative===0),this.iushrn(h,w,S)},o.prototype.shln=function(h){return this.clone().ishln(h)},o.prototype.ushln=function(h){return this.clone().iushln(h)},o.prototype.shrn=function(h){return this.clone().ishrn(h)},o.prototype.ushrn=function(h){return this.clone().iushrn(h)},o.prototype.testn=function(h){i(typeof h=="number"&&h>=0);var w=h%26,S=(h-w)/26,B=1<<w;if(this.length<=S)return!1;var D=this.words[S];return!!(D&B)},o.prototype.imaskn=function(h){i(typeof h=="number"&&h>=0);var w=h%26,S=(h-w)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=S)return this;if(w!==0&&S++,this.length=Math.min(S,this.length),w!==0){var B=67108863^67108863>>>w<<w;this.words[this.length-1]&=B}return this._strip()},o.prototype.maskn=function(h){return this.clone().imaskn(h)},o.prototype.iaddn=function(h){return i(typeof h=="number"),i(h<67108864),h<0?this.isubn(-h):this.negative!==0?this.length===1&&(this.words[0]|0)<=h?(this.words[0]=h-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(h),this.negative=1,this):this._iaddn(h)},o.prototype._iaddn=function(h){this.words[0]+=h;for(var w=0;w<this.length&&this.words[w]>=67108864;w++)this.words[w]-=67108864,w===this.length-1?this.words[w+1]=1:this.words[w+1]++;return this.length=Math.max(this.length,w+1),this},o.prototype.isubn=function(h){if(i(typeof h=="number"),i(h<67108864),h<0)return this.iaddn(-h);if(this.negative!==0)return this.negative=0,this.iaddn(h),this.negative=1,this;if(this.words[0]-=h,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var w=0;w<this.length&&this.words[w]<0;w++)this.words[w]+=67108864,this.words[w+1]-=1;return this._strip()},o.prototype.addn=function(h){return this.clone().iaddn(h)},o.prototype.subn=function(h){return this.clone().isubn(h)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(h,w,S){var B=h.length+S,D;this._expand(B);var I,v=0;for(D=0;D<h.length;D++){I=(this.words[D+S]|0)+v;var m=(h.words[D]|0)*w;I-=m&67108863,v=(I>>26)-(m/67108864|0),this.words[D+S]=I&67108863}for(;D<this.length-S;D++)I=(this.words[D+S]|0)+v,v=I>>26,this.words[D+S]=I&67108863;if(v===0)return this._strip();for(i(v===-1),v=0,D=0;D<this.length;D++)I=-(this.words[D]|0)+v,v=I>>26,this.words[D]=I&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(h,w){var S=this.length-h.length,B=this.clone(),D=h,I=D.words[D.length-1]|0,v=this._countBits(I);S=26-v,S!==0&&(D=D.ushln(S),B.iushln(S),I=D.words[D.length-1]|0);var m=B.length-D.length,f;if(w!=="mod"){f=new o(null),f.length=m+1,f.words=new Array(f.length);for(var b=0;b<f.length;b++)f.words[b]=0}var x=B.clone()._ishlnsubmul(D,1,m);x.negative===0&&(B=x,f&&(f.words[m]=1));for(var z=m-1;z>=0;z--){var Z=(B.words[D.length+z]|0)*67108864+(B.words[D.length+z-1]|0);for(Z=Math.min(Z/I|0,67108863),B._ishlnsubmul(D,Z,z);B.negative!==0;)Z--,B.negative=0,B._ishlnsubmul(D,1,z),B.isZero()||(B.negative^=1);f&&(f.words[z]=Z)}return f&&f._strip(),B._strip(),w!=="div"&&S!==0&&B.iushrn(S),{div:f||null,mod:B}},o.prototype.divmod=function(h,w,S){if(i(!h.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var B,D,I;return this.negative!==0&&h.negative===0?(I=this.neg().divmod(h,w),w!=="mod"&&(B=I.div.neg()),w!=="div"&&(D=I.mod.neg(),S&&D.negative!==0&&D.iadd(h)),{div:B,mod:D}):this.negative===0&&h.negative!==0?(I=this.divmod(h.neg(),w),w!=="mod"&&(B=I.div.neg()),{div:B,mod:I.mod}):(this.negative&h.negative)!==0?(I=this.neg().divmod(h.neg(),w),w!=="div"&&(D=I.mod.neg(),S&&D.negative!==0&&D.isub(h)),{div:I.div,mod:D}):h.length>this.length||this.cmp(h)<0?{div:new o(0),mod:this}:h.length===1?w==="div"?{div:this.divn(h.words[0]),mod:null}:w==="mod"?{div:null,mod:new o(this.modrn(h.words[0]))}:{div:this.divn(h.words[0]),mod:new o(this.modrn(h.words[0]))}:this._wordDiv(h,w)},o.prototype.div=function(h){return this.divmod(h,"div",!1).div},o.prototype.mod=function(h){return this.divmod(h,"mod",!1).mod},o.prototype.umod=function(h){return this.divmod(h,"mod",!0).mod},o.prototype.divRound=function(h){var w=this.divmod(h);if(w.mod.isZero())return w.div;var S=w.div.negative!==0?w.mod.isub(h):w.mod,B=h.ushrn(1),D=h.andln(1),I=S.cmp(B);return I<0||D===1&&I===0?w.div:w.div.negative!==0?w.div.isubn(1):w.div.iaddn(1)},o.prototype.modrn=function(h){var w=h<0;w&&(h=-h),i(h<=67108863);for(var S=(1<<26)%h,B=0,D=this.length-1;D>=0;D--)B=(S*B+(this.words[D]|0))%h;return w?-B:B},o.prototype.modn=function(h){return this.modrn(h)},o.prototype.idivn=function(h){var w=h<0;w&&(h=-h),i(h<=67108863);for(var S=0,B=this.length-1;B>=0;B--){var D=(this.words[B]|0)+S*67108864;this.words[B]=D/h|0,S=D%h}return this._strip(),w?this.ineg():this},o.prototype.divn=function(h){return this.clone().idivn(h)},o.prototype.egcd=function(h){i(h.negative===0),i(!h.isZero());var w=this,S=h.clone();w.negative!==0?w=w.umod(h):w=w.clone();for(var B=new o(1),D=new o(0),I=new o(0),v=new o(1),m=0;w.isEven()&&S.isEven();)w.iushrn(1),S.iushrn(1),++m;for(var f=S.clone(),b=w.clone();!w.isZero();){for(var x=0,z=1;(w.words[0]&z)===0&&x<26;++x,z<<=1);if(x>0)for(w.iushrn(x);x-- >0;)(B.isOdd()||D.isOdd())&&(B.iadd(f),D.isub(b)),B.iushrn(1),D.iushrn(1);for(var Z=0,nt=1;(S.words[0]&nt)===0&&Z<26;++Z,nt<<=1);if(Z>0)for(S.iushrn(Z);Z-- >0;)(I.isOdd()||v.isOdd())&&(I.iadd(f),v.isub(b)),I.iushrn(1),v.iushrn(1);w.cmp(S)>=0?(w.isub(S),B.isub(I),D.isub(v)):(S.isub(w),I.isub(B),v.isub(D))}return{a:I,b:v,gcd:S.iushln(m)}},o.prototype._invmp=function(h){i(h.negative===0),i(!h.isZero());var w=this,S=h.clone();w.negative!==0?w=w.umod(h):w=w.clone();for(var B=new o(1),D=new o(0),I=S.clone();w.cmpn(1)>0&&S.cmpn(1)>0;){for(var v=0,m=1;(w.words[0]&m)===0&&v<26;++v,m<<=1);if(v>0)for(w.iushrn(v);v-- >0;)B.isOdd()&&B.iadd(I),B.iushrn(1);for(var f=0,b=1;(S.words[0]&b)===0&&f<26;++f,b<<=1);if(f>0)for(S.iushrn(f);f-- >0;)D.isOdd()&&D.iadd(I),D.iushrn(1);w.cmp(S)>=0?(w.isub(S),B.isub(D)):(S.isub(w),D.isub(B))}var x;return w.cmpn(1)===0?x=B:x=D,x.cmpn(0)<0&&x.iadd(h),x},o.prototype.gcd=function(h){if(this.isZero())return h.abs();if(h.isZero())return this.abs();var w=this.clone(),S=h.clone();w.negative=0,S.negative=0;for(var B=0;w.isEven()&&S.isEven();B++)w.iushrn(1),S.iushrn(1);do{for(;w.isEven();)w.iushrn(1);for(;S.isEven();)S.iushrn(1);var D=w.cmp(S);if(D<0){var I=w;w=S,S=I}else if(D===0||S.cmpn(1)===0)break;w.isub(S)}while(!0);return S.iushln(B)},o.prototype.invm=function(h){return this.egcd(h).a.umod(h)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(h){return this.words[0]&h},o.prototype.bincn=function(h){i(typeof h=="number");var w=h%26,S=(h-w)/26,B=1<<w;if(this.length<=S)return this._expand(S+1),this.words[S]|=B,this;for(var D=B,I=S;D!==0&&I<this.length;I++){var v=this.words[I]|0;v+=D,D=v>>>26,v&=67108863,this.words[I]=v}return D!==0&&(this.words[I]=D,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(h){var w=h<0;if(this.negative!==0&&!w)return-1;if(this.negative===0&&w)return 1;this._strip();var S;if(this.length>1)S=1;else{w&&(h=-h),i(h<=67108863,"Number is too big");var B=this.words[0]|0;S=B===h?0:B<h?-1:1}return this.negative!==0?-S|0:S},o.prototype.cmp=function(h){if(this.negative!==0&&h.negative===0)return-1;if(this.negative===0&&h.negative!==0)return 1;var w=this.ucmp(h);return this.negative!==0?-w|0:w},o.prototype.ucmp=function(h){if(this.length>h.length)return 1;if(this.length<h.length)return-1;for(var w=0,S=this.length-1;S>=0;S--){var B=this.words[S]|0,D=h.words[S]|0;if(B!==D){B<D?w=-1:B>D&&(w=1);break}}return w},o.prototype.gtn=function(h){return this.cmpn(h)===1},o.prototype.gt=function(h){return this.cmp(h)===1},o.prototype.gten=function(h){return this.cmpn(h)>=0},o.prototype.gte=function(h){return this.cmp(h)>=0},o.prototype.ltn=function(h){return this.cmpn(h)===-1},o.prototype.lt=function(h){return this.cmp(h)===-1},o.prototype.lten=function(h){return this.cmpn(h)<=0},o.prototype.lte=function(h){return this.cmp(h)<=0},o.prototype.eqn=function(h){return this.cmpn(h)===0},o.prototype.eq=function(h){return this.cmp(h)===0},o.red=function(h){return new F(h)},o.prototype.toRed=function(h){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),h.convertTo(this)._forceRed(h)},o.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(h){return this.red=h,this},o.prototype.forceRed=function(h){return i(!this.red,"Already a number in reduction context"),this._forceRed(h)},o.prototype.redAdd=function(h){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,h)},o.prototype.redIAdd=function(h){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,h)},o.prototype.redSub=function(h){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,h)},o.prototype.redISub=function(h){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,h)},o.prototype.redShl=function(h){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,h)},o.prototype.redMul=function(h){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.mul(this,h)},o.prototype.redIMul=function(h){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.imul(this,h)},o.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(h){return i(this.red&&!h.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,h)};var et={k256:null,p224:null,p192:null,p25519:null};function it(O,h){this.name=O,this.p=new o(h,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}it.prototype._tmp=function(){var h=new o(null);return h.words=new Array(Math.ceil(this.n/13)),h},it.prototype.ireduce=function(h){var w=h,S;do this.split(w,this.tmp),w=this.imulK(w),w=w.iadd(this.tmp),S=w.bitLength();while(S>this.n);var B=S<this.n?-1:w.ucmp(this.p);return B===0?(w.words[0]=0,w.length=1):B>0?w.isub(this.p):w.strip!==void 0?w.strip():w._strip(),w},it.prototype.split=function(h,w){h.iushrn(this.n,0,w)},it.prototype.imulK=function(h){return h.imul(this.k)};function st(){it.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}u(st,it),st.prototype.split=function(h,w){for(var S=4194303,B=Math.min(h.length,9),D=0;D<B;D++)w.words[D]=h.words[D];if(w.length=B,h.length<=9){h.words[0]=0,h.length=1;return}var I=h.words[9];for(w.words[w.length++]=I&S,D=10;D<h.length;D++){var v=h.words[D]|0;h.words[D-10]=(v&S)<<4|I>>>22,I=v}I>>>=22,h.words[D-10]=I,I===0&&h.length>10?h.length-=10:h.length-=9},st.prototype.imulK=function(h){h.words[h.length]=0,h.words[h.length+1]=0,h.length+=2;for(var w=0,S=0;S<h.length;S++){var B=h.words[S]|0;w+=B*977,h.words[S]=w&67108863,w=B*64+(w/67108864|0)}return h.words[h.length-1]===0&&(h.length--,h.words[h.length-1]===0&&h.length--),h};function ot(){it.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}u(ot,it);function K(){it.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}u(K,it);function Y(){it.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}u(Y,it),Y.prototype.imulK=function(h){for(var w=0,S=0;S<h.length;S++){var B=(h.words[S]|0)*19+w,D=B&67108863;B>>>=26,h.words[S]=D,w=B}return w!==0&&(h.words[h.length++]=w),h},o._prime=function(h){if(et[h])return et[h];var w;if(h==="k256")w=new st;else if(h==="p224")w=new ot;else if(h==="p192")w=new K;else if(h==="p25519")w=new Y;else throw new Error("Unknown prime "+h);return et[h]=w,w};function F(O){if(typeof O=="string"){var h=o._prime(O);this.m=h.p,this.prime=h}else i(O.gtn(1),"modulus must be greater than 1"),this.m=O,this.prime=null}F.prototype._verify1=function(h){i(h.negative===0,"red works only with positives"),i(h.red,"red works only with red numbers")},F.prototype._verify2=function(h,w){i((h.negative|w.negative)===0,"red works only with positives"),i(h.red&&h.red===w.red,"red works only with red numbers")},F.prototype.imod=function(h){return this.prime?this.prime.ireduce(h)._forceRed(this):(E(h,h.umod(this.m)._forceRed(this)),h)},F.prototype.neg=function(h){return h.isZero()?h.clone():this.m.sub(h)._forceRed(this)},F.prototype.add=function(h,w){this._verify2(h,w);var S=h.add(w);return S.cmp(this.m)>=0&&S.isub(this.m),S._forceRed(this)},F.prototype.iadd=function(h,w){this._verify2(h,w);var S=h.iadd(w);return S.cmp(this.m)>=0&&S.isub(this.m),S},F.prototype.sub=function(h,w){this._verify2(h,w);var S=h.sub(w);return S.cmpn(0)<0&&S.iadd(this.m),S._forceRed(this)},F.prototype.isub=function(h,w){this._verify2(h,w);var S=h.isub(w);return S.cmpn(0)<0&&S.iadd(this.m),S},F.prototype.shl=function(h,w){return this._verify1(h),this.imod(h.ushln(w))},F.prototype.imul=function(h,w){return this._verify2(h,w),this.imod(h.imul(w))},F.prototype.mul=function(h,w){return this._verify2(h,w),this.imod(h.mul(w))},F.prototype.isqr=function(h){return this.imul(h,h.clone())},F.prototype.sqr=function(h){return this.mul(h,h)},F.prototype.sqrt=function(h){if(h.isZero())return h.clone();var w=this.m.andln(3);if(i(w%2===1),w===3){var S=this.m.add(new o(1)).iushrn(2);return this.pow(h,S)}for(var B=this.m.subn(1),D=0;!B.isZero()&&B.andln(1)===0;)D++,B.iushrn(1);i(!B.isZero());var I=new o(1).toRed(this),v=I.redNeg(),m=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);this.pow(f,m).cmp(v)!==0;)f.redIAdd(v);for(var b=this.pow(f,B),x=this.pow(h,B.addn(1).iushrn(1)),z=this.pow(h,B),Z=D;z.cmp(I)!==0;){for(var nt=z,vt=0;nt.cmp(I)!==0;vt++)nt=nt.redSqr();i(vt<Z);var Et=this.pow(b,new o(1).iushln(Z-vt-1));x=x.redMul(Et),b=Et.redSqr(),z=z.redMul(b),Z=vt}return x},F.prototype.invm=function(h){var w=h._invmp(this.m);return w.negative!==0?(w.negative=0,this.imod(w).redNeg()):this.imod(w)},F.prototype.pow=function(h,w){if(w.isZero())return new o(1).toRed(this);if(w.cmpn(1)===0)return h.clone();var S=4,B=new Array(1<<S);B[0]=new o(1).toRed(this),B[1]=h;for(var D=2;D<B.length;D++)B[D]=this.mul(B[D-1],h);var I=B[0],v=0,m=0,f=w.bitLength()%26;for(f===0&&(f=26),D=w.length-1;D>=0;D--){for(var b=w.words[D],x=f-1;x>=0;x--){var z=b>>x&1;if(I!==B[0]&&(I=this.sqr(I)),z===0&&v===0){m=0;continue}v<<=1,v|=z,m++,!(m!==S&&(D!==0||x!==0))&&(I=this.mul(I,B[v]),m=0,v=0)}f=26}return I},F.prototype.convertTo=function(h){var w=h.umod(this.m);return w===h?w.clone():w},F.prototype.convertFrom=function(h){var w=h.clone();return w.red=null,w},o.mont=function(h){return new X(h)};function X(O){F.call(this,O),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}u(X,F),X.prototype.convertTo=function(h){return this.imod(h.ushln(this.shift))},X.prototype.convertFrom=function(h){var w=this.imod(h.mul(this.rinv));return w.red=null,w},X.prototype.imul=function(h,w){if(h.isZero()||w.isZero())return h.words[0]=0,h.length=1,h;var S=h.imul(w),B=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=S.isub(B).iushrn(this.shift),I=D;return D.cmp(this.m)>=0?I=D.isub(this.m):D.cmpn(0)<0&&(I=D.iadd(this.m)),I._forceRed(this)},X.prototype.mul=function(h,w){if(h.isZero()||w.isZero())return new o(0)._forceRed(this);var S=h.mul(w),B=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=S.isub(B).iushrn(this.shift),I=D;return D.cmp(this.m)>=0?I=D.isub(this.m):D.cmpn(0)<0&&(I=D.iadd(this.m)),I._forceRed(this)},X.prototype.invm=function(h){var w=this.imod(h._invmp(this.m).mul(this.r2));return w._forceRed(this)}})(s,y2)})(dl)),dl.exports}var g2=j0();const Hn=xi(g2);var Zc={exports:{}};var Mg;function P0(){return Mg||(Mg=1,(function(s,e){var n=I0(),i=n.Buffer;function u(l,d){for(var y in l)d[y]=l[y]}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?s.exports=n:(u(n,e),e.Buffer=o);function o(l,d,y){return i(l,d,y)}o.prototype=Object.create(i.prototype),u(i,o),o.from=function(l,d,y){if(typeof l=="number")throw new TypeError("Argument must not be a number");return i(l,d,y)},o.alloc=function(l,d,y){if(typeof l!="number")throw new TypeError("Argument must be a number");var _=i(l);return d!==void 0?typeof y=="string"?_.fill(d,y):_.fill(d):_.fill(0),_},o.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return i(l)},o.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(l)}})(Zc,Zc.exports)),Zc.exports}var Sh,Ug;function b2(){if(Ug)return Sh;Ug=1;var s=P0().Buffer;function e(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var i=new Uint8Array(256),u=0;u<i.length;u++)i[u]=255;for(var o=0;o<n.length;o++){var l=n.charAt(o),d=l.charCodeAt(0);if(i[d]!==255)throw new TypeError(l+" is ambiguous");i[d]=o}var y=n.length,_=n.charAt(0),E=Math.log(y)/Math.log(256),C=Math.log(256)/Math.log(y);function k(U){if((Array.isArray(U)||U instanceof Uint8Array)&&(U=s.from(U)),!s.isBuffer(U))throw new TypeError("Expected Buffer");if(U.length===0)return"";for(var L=0,j=0,G=0,P=U.length;G!==P&&U[G]===0;)G++,L++;for(var $=(P-G)*C+1>>>0,et=new Uint8Array($);G!==P;){for(var it=U[G],st=0,ot=$-1;(it!==0||st<j)&&ot!==-1;ot--,st++)it+=256*et[ot]>>>0,et[ot]=it%y>>>0,it=it/y>>>0;if(it!==0)throw new Error("Non-zero carry");j=st,G++}for(var K=$-j;K!==$&&et[K]===0;)K++;for(var Y=_.repeat(L);K<$;++K)Y+=n.charAt(et[K]);return Y}function R(U){if(typeof U!="string")throw new TypeError("Expected String");if(U.length===0)return s.alloc(0);for(var L=0,j=0,G=0;U[L]===_;)j++,L++;for(var P=(U.length-L)*E+1>>>0,$=new Uint8Array(P);L<U.length;){var et=U.charCodeAt(L);if(et>255)return;var it=i[et];if(it===255)return;for(var st=0,ot=P-1;(it!==0||st<G)&&ot!==-1;ot--,st++)it+=y*$[ot]>>>0,$[ot]=it%256>>>0,it=it/256>>>0;if(it!==0)throw new Error("Non-zero carry");G=st,L++}for(var K=P-G;K!==P&&$[K]===0;)K++;var Y=s.allocUnsafe(j+(P-K));Y.fill(0,0,j);for(var F=j;K!==P;)Y[F++]=$[K++];return Y}function M(U){var L=R(U);if(L)return L;throw new Error("Non-base"+y+" character")}return{encode:k,decodeUnsafe:R,decode:M}}return Sh=e,Sh}var Ah,Lg;function _2(){if(Lg)return Ah;Lg=1;var s=b2(),e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return Ah=s(e),Ah}var w2=_2();const On=xi(w2),vl=y_;var ve={},Rh,Dg;function v2(){if(Dg)return Rh;Dg=1;var s=P0().Buffer;function e(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var i=new Uint8Array(256),u=0;u<i.length;u++)i[u]=255;for(var o=0;o<n.length;o++){var l=n.charAt(o),d=l.charCodeAt(0);if(i[d]!==255)throw new TypeError(l+" is ambiguous");i[d]=o}var y=n.length,_=n.charAt(0),E=Math.log(y)/Math.log(256),C=Math.log(256)/Math.log(y);function k(U){if((Array.isArray(U)||U instanceof Uint8Array)&&(U=s.from(U)),!s.isBuffer(U))throw new TypeError("Expected Buffer");if(U.length===0)return"";for(var L=0,j=0,G=0,P=U.length;G!==P&&U[G]===0;)G++,L++;for(var $=(P-G)*C+1>>>0,et=new Uint8Array($);G!==P;){for(var it=U[G],st=0,ot=$-1;(it!==0||st<j)&&ot!==-1;ot--,st++)it+=256*et[ot]>>>0,et[ot]=it%y>>>0,it=it/y>>>0;if(it!==0)throw new Error("Non-zero carry");j=st,G++}for(var K=$-j;K!==$&&et[K]===0;)K++;for(var Y=_.repeat(L);K<$;++K)Y+=n.charAt(et[K]);return Y}function R(U){if(typeof U!="string")throw new TypeError("Expected String");if(U.length===0)return s.alloc(0);for(var L=0,j=0,G=0;U[L]===_;)j++,L++;for(var P=(U.length-L)*E+1>>>0,$=new Uint8Array(P);L<U.length;){var et=U.charCodeAt(L);if(et>255)return;var it=i[et];if(it===255)return;for(var st=0,ot=P-1;(it!==0||st<G)&&ot!==-1;ot--,st++)it+=y*$[ot]>>>0,$[ot]=it%256>>>0,it=it/256>>>0;if(it!==0)throw new Error("Non-zero carry");G=st,L++}for(var K=P-G;K!==P&&$[K]===0;)K++;var Y=s.allocUnsafe(j+(P-K));Y.fill(0,0,j);for(var F=j;K!==P;)Y[F++]=$[K++];return Y}function M(U){var L=R(U);if(L)return L;throw new Error("Non-base"+y+" character")}return{encode:k,decodeUnsafe:R,decode:M}}return Rh=e,Rh}var Th,zg;function E2(){if(zg)return Th;zg=1;var s=v2(),e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return Th=s(e),Th}function vi(s,e,n){return e<=s&&s<=n}function Dl(s){if(s===void 0)return{};if(s===Object(s))return s;throw TypeError("Could not convert argument to dictionary")}function S2(s){for(var e=String(s),n=e.length,i=0,u=[];i<n;){var o=e.charCodeAt(i);if(o<55296||o>57343)u.push(o);else if(56320<=o&&o<=57343)u.push(65533);else if(55296<=o&&o<=56319)if(i===n-1)u.push(65533);else{var l=s.charCodeAt(i+1);if(56320<=l&&l<=57343){var d=o&1023,y=l&1023;u.push(65536+(d<<10)+y),i+=1}else u.push(65533)}i+=1}return u}function A2(s){for(var e="",n=0;n<s.length;++n){var i=s[n];i<=65535?e+=String.fromCharCode(i):(i-=65536,e+=String.fromCharCode((i>>10)+55296,(i&1023)+56320))}return e}var El=-1;function K0(s){this.tokens=[].slice.call(s)}K0.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():El},prepend:function(s){if(Array.isArray(s))for(var e=s;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(s)},push:function(s){if(Array.isArray(s))for(var e=s;e.length;)this.tokens.push(e.shift());else this.tokens.push(s)}};var to=-1;function xh(s,e){if(s)throw TypeError("Decoder error");return e||65533}var Sl="utf-8";function Al(s,e){if(!(this instanceof Al))return new Al(s,e);if(s=s!==void 0?String(s).toLowerCase():Sl,s!==Sl)throw new Error("Encoding not supported. Only utf-8 is supported");e=Dl(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Al.prototype={decode:function(e,n){var i;typeof e=="object"&&e instanceof ArrayBuffer?i=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?i=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):i=new Uint8Array(0),n=Dl(n),this._streaming||(this._decoder=new R2({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var u=new K0(i),o=[],l;!u.endOfStream()&&(l=this._decoder.handler(u,u.read()),l!==to);)l!==null&&(Array.isArray(l)?o.push.apply(o,l):o.push(l));if(!this._streaming){do{if(l=this._decoder.handler(u,u.read()),l===to)break;l!==null&&(Array.isArray(l)?o.push.apply(o,l):o.push(l))}while(!u.endOfStream());this._decoder=null}return o.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(o[0]===65279?(this._BOMseen=!0,o.shift()):this._BOMseen=!0),A2(o)}};function Rl(s,e){if(!(this instanceof Rl))return new Rl(s,e);if(s=s!==void 0?String(s).toLowerCase():Sl,s!==Sl)throw new Error("Encoding not supported. Only utf-8 is supported");e=Dl(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Rl.prototype={encode:function(e,n){e=e?String(e):"",n=Dl(n),this._streaming||(this._encoder=new T2(this._options)),this._streaming=!!n.stream;for(var i=[],u=new K0(S2(e)),o;!u.endOfStream()&&(o=this._encoder.handler(u,u.read()),o!==to);)Array.isArray(o)?i.push.apply(i,o):i.push(o);if(!this._streaming){for(;o=this._encoder.handler(u,u.read()),o!==to;)Array.isArray(o)?i.push.apply(i,o):i.push(o);this._encoder=null}return new Uint8Array(i)}};function R2(s){var e=s.fatal,n=0,i=0,u=0,o=128,l=191;this.handler=function(d,y){if(y===El&&u!==0)return u=0,xh(e);if(y===El)return to;if(u===0){if(vi(y,0,127))return y;if(vi(y,194,223))u=1,n=y-192;else if(vi(y,224,239))y===224&&(o=160),y===237&&(l=159),u=2,n=y-224;else if(vi(y,240,244))y===240&&(o=144),y===244&&(l=143),u=3,n=y-240;else return xh(e);return n=n<<6*u,null}if(!vi(y,o,l))return n=u=i=0,o=128,l=191,d.prepend(y),xh(e);if(o=128,l=191,i+=1,n+=y-128<<6*(u-i),i!==u)return null;var _=n;return n=u=i=0,_}}function T2(s){s.fatal,this.handler=function(e,n){if(n===El)return to;if(vi(n,0,127))return n;var i,u;vi(n,128,2047)?(i=1,u=192):vi(n,2048,65535)?(i=2,u=224):vi(n,65536,1114111)&&(i=3,u=240);for(var o=[(n>>6*i)+u];i>0;){var l=n>>6*(i-1);o.push(128|l&63),i-=1}return o}}const x2=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:Al,TextEncoder:Rl},Symbol.toStringTag,{value:"Module"})),O2=Ml(x2);var Hg;function N2(){if(Hg)return ve;Hg=1;var s=ve&&ve.__createBinding||(Object.create?(function(K,Y,F,X){X===void 0&&(X=F),Object.defineProperty(K,X,{enumerable:!0,get:function(){return Y[F]}})}):(function(K,Y,F,X){X===void 0&&(X=F),K[X]=Y[F]})),e=ve&&ve.__setModuleDefault||(Object.create?(function(K,Y){Object.defineProperty(K,"default",{enumerable:!0,value:Y})}):function(K,Y){K.default=Y}),n=ve&&ve.__decorate||function(K,Y,F,X){var O=arguments.length,h=O<3?Y:X===null?X=Object.getOwnPropertyDescriptor(Y,F):X,w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(K,Y,F,X);else for(var S=K.length-1;S>=0;S--)(w=K[S])&&(h=(O<3?w(h):O>3?w(Y,F,h):w(Y,F))||h);return O>3&&h&&Object.defineProperty(Y,F,h),h},i=ve&&ve.__importStar||function(K){if(K&&K.__esModule)return K;var Y={};if(K!=null)for(var F in K)F!=="default"&&Object.hasOwnProperty.call(K,F)&&s(Y,K,F);return e(Y,K),Y},u=ve&&ve.__importDefault||function(K){return K&&K.__esModule?K:{default:K}};Object.defineProperty(ve,"__esModule",{value:!0}),ve.deserializeUnchecked=ve.deserialize=ve.serialize=ve.BinaryReader=ve.BinaryWriter=ve.BorshError=ve.baseDecode=ve.baseEncode=void 0;const o=u(j0()),l=u(E2()),d=i(O2),y=typeof TextDecoder!="function"?d.TextDecoder:TextDecoder,_=new y("utf-8",{fatal:!0});function E(K){return typeof K=="string"&&(K=Buffer.from(K,"utf8")),l.default.encode(Buffer.from(K))}ve.baseEncode=E;function C(K){return Buffer.from(l.default.decode(K))}ve.baseDecode=C;const k=1024;class R extends Error{constructor(Y){super(Y),this.fieldPath=[],this.originalMessage=Y}addToFieldPath(Y){this.fieldPath.splice(0,0,Y),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}ve.BorshError=R;class M{constructor(){this.buf=Buffer.alloc(k),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(k)]))}writeU8(Y){this.maybeResize(),this.buf.writeUInt8(Y,this.length),this.length+=1}writeU16(Y){this.maybeResize(),this.buf.writeUInt16LE(Y,this.length),this.length+=2}writeU32(Y){this.maybeResize(),this.buf.writeUInt32LE(Y,this.length),this.length+=4}writeU64(Y){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(Y).toArray("le",8)))}writeU128(Y){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(Y).toArray("le",16)))}writeU256(Y){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(Y).toArray("le",32)))}writeU512(Y){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(Y).toArray("le",64)))}writeBuffer(Y){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),Y,Buffer.alloc(k)]),this.length+=Y.length}writeString(Y){this.maybeResize();const F=Buffer.from(Y,"utf8");this.writeU32(F.length),this.writeBuffer(F)}writeFixedArray(Y){this.writeBuffer(Buffer.from(Y))}writeArray(Y,F){this.maybeResize(),this.writeU32(Y.length);for(const X of Y)this.maybeResize(),F(X)}toArray(){return this.buf.subarray(0,this.length)}}ve.BinaryWriter=M;function U(K,Y,F){const X=F.value;F.value=function(...O){try{return X.apply(this,O)}catch(h){if(h instanceof RangeError){const w=h.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(w)>=0)throw new R("Reached the end of buffer when deserializing")}throw h}}}class L{constructor(Y){this.buf=Y,this.offset=0}readU8(){const Y=this.buf.readUInt8(this.offset);return this.offset+=1,Y}readU16(){const Y=this.buf.readUInt16LE(this.offset);return this.offset+=2,Y}readU32(){const Y=this.buf.readUInt32LE(this.offset);return this.offset+=4,Y}readU64(){const Y=this.readBuffer(8);return new o.default(Y,"le")}readU128(){const Y=this.readBuffer(16);return new o.default(Y,"le")}readU256(){const Y=this.readBuffer(32);return new o.default(Y,"le")}readU512(){const Y=this.readBuffer(64);return new o.default(Y,"le")}readBuffer(Y){if(this.offset+Y>this.buf.length)throw new R(`Expected buffer length ${Y} isn't within bounds`);const F=this.buf.slice(this.offset,this.offset+Y);return this.offset+=Y,F}readString(){const Y=this.readU32(),F=this.readBuffer(Y);try{return _.decode(F)}catch(X){throw new R(`Error decoding UTF-8 string: ${X}`)}}readFixedArray(Y){return new Uint8Array(this.readBuffer(Y))}readArray(Y){const F=this.readU32(),X=Array();for(let O=0;O<F;++O)X.push(Y());return X}}n([U],L.prototype,"readU8",null),n([U],L.prototype,"readU16",null),n([U],L.prototype,"readU32",null),n([U],L.prototype,"readU64",null),n([U],L.prototype,"readU128",null),n([U],L.prototype,"readU256",null),n([U],L.prototype,"readU512",null),n([U],L.prototype,"readString",null),n([U],L.prototype,"readFixedArray",null),n([U],L.prototype,"readArray",null),ve.BinaryReader=L;function j(K){return K.charAt(0).toUpperCase()+K.slice(1)}function G(K,Y,F,X,O){try{if(typeof X=="string")O[`write${j(X)}`](F);else if(X instanceof Array)if(typeof X[0]=="number"){if(F.length!==X[0])throw new R(`Expecting byte array of length ${X[0]}, but got ${F.length} bytes`);O.writeFixedArray(F)}else if(X.length===2&&typeof X[1]=="number"){if(F.length!==X[1])throw new R(`Expecting byte array of length ${X[1]}, but got ${F.length} bytes`);for(let h=0;h<X[1];h++)G(K,null,F[h],X[0],O)}else O.writeArray(F,h=>{G(K,Y,h,X[0],O)});else if(X.kind!==void 0)switch(X.kind){case"option":{F==null?O.writeU8(0):(O.writeU8(1),G(K,Y,F,X.type,O));break}case"map":{O.writeU32(F.size),F.forEach((h,w)=>{G(K,Y,w,X.key,O),G(K,Y,h,X.value,O)});break}default:throw new R(`FieldType ${X} unrecognized`)}else P(K,F,O)}catch(h){throw h instanceof R&&h.addToFieldPath(Y),h}}function P(K,Y,F){if(typeof Y.borshSerialize=="function"){Y.borshSerialize(F);return}const X=K.get(Y.constructor);if(!X)throw new R(`Class ${Y.constructor.name} is missing in schema`);if(X.kind==="struct")X.fields.map(([O,h])=>{G(K,O,Y[O],h,F)});else if(X.kind==="enum"){const O=Y[X.field];for(let h=0;h<X.values.length;++h){const[w,S]=X.values[h];if(w===O){F.writeU8(h),G(K,w,Y[w],S,F);break}}}else throw new R(`Unexpected schema kind: ${X.kind} for ${Y.constructor.name}`)}function $(K,Y,F=M){const X=new F;return P(K,Y,X),X.toArray()}ve.serialize=$;function et(K,Y,F,X){try{if(typeof F=="string")return X[`read${j(F)}`]();if(F instanceof Array){if(typeof F[0]=="number")return X.readFixedArray(F[0]);if(typeof F[1]=="number"){const O=[];for(let h=0;h<F[1];h++)O.push(et(K,null,F[0],X));return O}else return X.readArray(()=>et(K,Y,F[0],X))}if(F.kind==="option")return X.readU8()?et(K,Y,F.type,X):void 0;if(F.kind==="map"){let O=new Map;const h=X.readU32();for(let w=0;w<h;w++){const S=et(K,Y,F.key,X),B=et(K,Y,F.value,X);O.set(S,B)}return O}return it(K,F,X)}catch(O){throw O instanceof R&&O.addToFieldPath(Y),O}}function it(K,Y,F){if(typeof Y.borshDeserialize=="function")return Y.borshDeserialize(F);const X=K.get(Y);if(!X)throw new R(`Class ${Y.name} is missing in schema`);if(X.kind==="struct"){const O={};for(const[h,w]of K.get(Y).fields)O[h]=et(K,h,w,F);return new Y(O)}if(X.kind==="enum"){const O=F.readU8();if(O>=X.values.length)throw new R(`Enum index: ${O} is out of range`);const[h,w]=X.values[O],S=et(K,h,w,F);return new Y({[h]:S})}throw new R(`Unexpected schema kind: ${X.kind} for ${Y.constructor.name}`)}function st(K,Y,F,X=L){const O=new X(F),h=it(K,Y,O);if(O.offset<F.length)throw new R(`Unexpected ${F.length-O.offset} bytes after deserialized data`);return h}ve.deserialize=st;function ot(K,Y,F,X=L){const O=new X(F);return it(K,Y,O)}return ve.deserializeUnchecked=ot,ve}var Oh=N2(),pt={},qg;function k2(){if(qg)return pt;qg=1,Object.defineProperty(pt,"__esModule",{value:!0}),pt.s16=pt.s8=pt.nu64be=pt.u48be=pt.u40be=pt.u32be=pt.u24be=pt.u16be=pt.nu64=pt.u48=pt.u40=pt.u32=pt.u24=pt.u16=pt.u8=pt.offset=pt.greedy=pt.Constant=pt.UTF8=pt.CString=pt.Blob=pt.Boolean=pt.BitField=pt.BitStructure=pt.VariantLayout=pt.Union=pt.UnionLayoutDiscriminator=pt.UnionDiscriminator=pt.Structure=pt.Sequence=pt.DoubleBE=pt.Double=pt.FloatBE=pt.Float=pt.NearInt64BE=pt.NearInt64=pt.NearUInt64BE=pt.NearUInt64=pt.IntBE=pt.Int=pt.UIntBE=pt.UInt=pt.OffsetLayout=pt.GreedyCount=pt.ExternalLayout=pt.bindConstructorLayout=pt.nameWithProperty=pt.Layout=pt.uint8ArrayToBuffer=pt.checkUint8Array=void 0,pt.constant=pt.utf8=pt.cstr=pt.blob=pt.unionLayoutDiscriminator=pt.union=pt.seq=pt.bits=pt.struct=pt.f64be=pt.f64=pt.f32be=pt.f32=pt.ns64be=pt.s48be=pt.s40be=pt.s32be=pt.s24be=pt.s16be=pt.ns64=pt.s48=pt.s40=pt.s32=pt.s24=void 0;const s=I0();function e(f){if(!(f instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}pt.checkUint8Array=e;function n(f){return e(f),s.Buffer.from(f.buffer,f.byteOffset,f.length)}pt.uint8ArrayToBuffer=n;class i{constructor(b,x){if(!Number.isInteger(b))throw new TypeError("span must be an integer");this.span=b,this.property=x}makeDestinationObject(){return{}}getSpan(b,x){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(b){const x=Object.create(this.constructor.prototype);return Object.assign(x,this),x.property=b,x}fromArray(b){}}pt.Layout=i;function u(f,b){return b.property?f+"["+b.property+"]":f}pt.nameWithProperty=u;function o(f,b){if(typeof f!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(f,"layout_"))throw new Error("Class is already bound to a layout");if(!(b&&b instanceof i))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(b,"boundConstructor_"))throw new Error("layout is already bound to a constructor");f.layout_=b,b.boundConstructor_=f,b.makeDestinationObject=(()=>new f),Object.defineProperty(f.prototype,"encode",{value(x,z){return b.encode(this,x,z)},writable:!0}),Object.defineProperty(f,"decode",{value(x,z){return b.decode(x,z)},writable:!0})}pt.bindConstructorLayout=o;class l extends i{isCount(){throw new Error("ExternalLayout is abstract")}}pt.ExternalLayout=l;class d extends l{constructor(b=1,x){if(!Number.isInteger(b)||0>=b)throw new TypeError("elementSpan must be a (positive) integer");super(-1,x),this.elementSpan=b}isCount(){return!0}decode(b,x=0){e(b);const z=b.length-x;return Math.floor(z/this.elementSpan)}encode(b,x,z){return 0}}pt.GreedyCount=d;class y extends l{constructor(b,x=0,z){if(!(b instanceof i))throw new TypeError("layout must be a Layout");if(!Number.isInteger(x))throw new TypeError("offset must be integer or undefined");super(b.span,z||b.property),this.layout=b,this.offset=x}isCount(){return this.layout instanceof _||this.layout instanceof E}decode(b,x=0){return this.layout.decode(b,x+this.offset)}encode(b,x,z=0){return this.layout.encode(b,x,z+this.offset)}}pt.OffsetLayout=y;class _ extends i{constructor(b,x){if(super(b,x),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(b,x=0){return n(b).readUIntLE(x,this.span)}encode(b,x,z=0){return n(x).writeUIntLE(b,z,this.span),this.span}}pt.UInt=_;class E extends i{constructor(b,x){if(super(b,x),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(b,x=0){return n(b).readUIntBE(x,this.span)}encode(b,x,z=0){return n(x).writeUIntBE(b,z,this.span),this.span}}pt.UIntBE=E;class C extends i{constructor(b,x){if(super(b,x),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(b,x=0){return n(b).readIntLE(x,this.span)}encode(b,x,z=0){return n(x).writeIntLE(b,z,this.span),this.span}}pt.Int=C;class k extends i{constructor(b,x){if(super(b,x),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(b,x=0){return n(b).readIntBE(x,this.span)}encode(b,x,z=0){return n(x).writeIntBE(b,z,this.span),this.span}}pt.IntBE=k;const R=Math.pow(2,32);function M(f){const b=Math.floor(f/R),x=f-b*R;return{hi32:b,lo32:x}}function U(f,b){return f*R+b}class L extends i{constructor(b){super(8,b)}decode(b,x=0){const z=n(b),Z=z.readUInt32LE(x),nt=z.readUInt32LE(x+4);return U(nt,Z)}encode(b,x,z=0){const Z=M(b),nt=n(x);return nt.writeUInt32LE(Z.lo32,z),nt.writeUInt32LE(Z.hi32,z+4),8}}pt.NearUInt64=L;class j extends i{constructor(b){super(8,b)}decode(b,x=0){const z=n(b),Z=z.readUInt32BE(x),nt=z.readUInt32BE(x+4);return U(Z,nt)}encode(b,x,z=0){const Z=M(b),nt=n(x);return nt.writeUInt32BE(Z.hi32,z),nt.writeUInt32BE(Z.lo32,z+4),8}}pt.NearUInt64BE=j;class G extends i{constructor(b){super(8,b)}decode(b,x=0){const z=n(b),Z=z.readUInt32LE(x),nt=z.readInt32LE(x+4);return U(nt,Z)}encode(b,x,z=0){const Z=M(b),nt=n(x);return nt.writeUInt32LE(Z.lo32,z),nt.writeInt32LE(Z.hi32,z+4),8}}pt.NearInt64=G;class P extends i{constructor(b){super(8,b)}decode(b,x=0){const z=n(b),Z=z.readInt32BE(x),nt=z.readUInt32BE(x+4);return U(Z,nt)}encode(b,x,z=0){const Z=M(b),nt=n(x);return nt.writeInt32BE(Z.hi32,z),nt.writeUInt32BE(Z.lo32,z+4),8}}pt.NearInt64BE=P;class $ extends i{constructor(b){super(4,b)}decode(b,x=0){return n(b).readFloatLE(x)}encode(b,x,z=0){return n(x).writeFloatLE(b,z),4}}pt.Float=$;class et extends i{constructor(b){super(4,b)}decode(b,x=0){return n(b).readFloatBE(x)}encode(b,x,z=0){return n(x).writeFloatBE(b,z),4}}pt.FloatBE=et;class it extends i{constructor(b){super(8,b)}decode(b,x=0){return n(b).readDoubleLE(x)}encode(b,x,z=0){return n(x).writeDoubleLE(b,z),8}}pt.Double=it;class st extends i{constructor(b){super(8,b)}decode(b,x=0){return n(b).readDoubleBE(x)}encode(b,x,z=0){return n(x).writeDoubleBE(b,z),8}}pt.DoubleBE=st;class ot extends i{constructor(b,x,z){if(!(b instanceof i))throw new TypeError("elementLayout must be a Layout");if(!(x instanceof l&&x.isCount()||Number.isInteger(x)&&0<=x))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let Z=-1;!(x instanceof l)&&0<b.span&&(Z=x*b.span),super(Z,z),this.elementLayout=b,this.count=x}getSpan(b,x=0){if(0<=this.span)return this.span;let z=0,Z=this.count;if(Z instanceof l&&(Z=Z.decode(b,x)),0<this.elementLayout.span)z=Z*this.elementLayout.span;else{let nt=0;for(;nt<Z;)z+=this.elementLayout.getSpan(b,x+z),++nt}return z}decode(b,x=0){const z=[];let Z=0,nt=this.count;for(nt instanceof l&&(nt=nt.decode(b,x));Z<nt;)z.push(this.elementLayout.decode(b,x)),x+=this.elementLayout.getSpan(b,x),Z+=1;return z}encode(b,x,z=0){const Z=this.elementLayout,nt=b.reduce((vt,Et)=>vt+Z.encode(Et,x,z+vt),0);return this.count instanceof l&&this.count.encode(b.length,x,z),nt}}pt.Sequence=ot;class K extends i{constructor(b,x,z){if(!(Array.isArray(b)&&b.reduce((nt,vt)=>nt&&vt instanceof i,!0)))throw new TypeError("fields must be array of Layout instances");typeof x=="boolean"&&z===void 0&&(z=x,x=void 0);for(const nt of b)if(0>nt.span&&nt.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let Z=-1;try{Z=b.reduce((nt,vt)=>nt+vt.getSpan(),0)}catch{}super(Z,x),this.fields=b,this.decodePrefixes=!!z}getSpan(b,x=0){if(0<=this.span)return this.span;let z=0;try{z=this.fields.reduce((Z,nt)=>{const vt=nt.getSpan(b,x);return x+=vt,Z+vt},0)}catch{throw new RangeError("indeterminate span")}return z}decode(b,x=0){e(b);const z=this.makeDestinationObject();for(const Z of this.fields)if(Z.property!==void 0&&(z[Z.property]=Z.decode(b,x)),x+=Z.getSpan(b,x),this.decodePrefixes&&b.length===x)break;return z}encode(b,x,z=0){const Z=z;let nt=0,vt=0;for(const Et of this.fields){let Pt=Et.span;if(vt=0<Pt?Pt:0,Et.property!==void 0){const Gt=b[Et.property];Gt!==void 0&&(vt=Et.encode(Gt,x,z),0>Pt&&(Pt=Et.getSpan(x,z)))}nt=z,z+=Pt}return nt+vt-Z}fromArray(b){const x=this.makeDestinationObject();for(const z of this.fields)z.property!==void 0&&0<b.length&&(x[z.property]=b.shift());return x}layoutFor(b){if(typeof b!="string")throw new TypeError("property must be string");for(const x of this.fields)if(x.property===b)return x}offsetOf(b){if(typeof b!="string")throw new TypeError("property must be string");let x=0;for(const z of this.fields){if(z.property===b)return x;0>z.span?x=-1:0<=x&&(x+=z.span)}}}pt.Structure=K;class Y{constructor(b){this.property=b}decode(b,x){throw new Error("UnionDiscriminator is abstract")}encode(b,x,z){throw new Error("UnionDiscriminator is abstract")}}pt.UnionDiscriminator=Y;class F extends Y{constructor(b,x){if(!(b instanceof l&&b.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(x||b.property||"variant"),this.layout=b}decode(b,x){return this.layout.decode(b,x)}encode(b,x,z){return this.layout.encode(b,x,z)}}pt.UnionLayoutDiscriminator=F;class X extends i{constructor(b,x,z){let Z;if(b instanceof _||b instanceof E)Z=new F(new y(b));else if(b instanceof l&&b.isCount())Z=new F(b);else if(b instanceof Y)Z=b;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(x===void 0&&(x=null),!(x===null||x instanceof i))throw new TypeError("defaultLayout must be null or a Layout");if(x!==null){if(0>x.span)throw new Error("defaultLayout must have constant span");x.property===void 0&&(x=x.replicate("content"))}let nt=-1;x&&(nt=x.span,0<=nt&&(b instanceof _||b instanceof E)&&(nt+=Z.layout.span)),super(nt,z),this.discriminator=Z,this.usesPrefixDiscriminator=b instanceof _||b instanceof E,this.defaultLayout=x,this.registry={};let vt=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(Et){return vt(Et)},this.configGetSourceVariant=function(Et){vt=Et.bind(this)}}getSpan(b,x=0){if(0<=this.span)return this.span;const z=this.getVariant(b,x);if(!z)throw new Error("unable to determine span for unrecognized variant");return z.getSpan(b,x)}defaultGetSourceVariant(b){if(Object.prototype.hasOwnProperty.call(b,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(b,this.defaultLayout.property))return;const x=this.registry[b[this.discriminator.property]];if(x&&(!x.layout||x.property&&Object.prototype.hasOwnProperty.call(b,x.property)))return x}else for(const x in this.registry){const z=this.registry[x];if(z.property&&Object.prototype.hasOwnProperty.call(b,z.property))return z}throw new Error("unable to infer src variant")}decode(b,x=0){let z;const Z=this.discriminator,nt=Z.decode(b,x),vt=this.registry[nt];if(vt===void 0){const Et=this.defaultLayout;let Pt=0;this.usesPrefixDiscriminator&&(Pt=Z.layout.span),z=this.makeDestinationObject(),z[Z.property]=nt,z[Et.property]=Et.decode(b,x+Pt)}else z=vt.decode(b,x);return z}encode(b,x,z=0){const Z=this.getSourceVariant(b);if(Z===void 0){const nt=this.discriminator,vt=this.defaultLayout;let Et=0;return this.usesPrefixDiscriminator&&(Et=nt.layout.span),nt.encode(b[nt.property],x,z),Et+vt.encode(b[vt.property],x,z+Et)}return Z.encode(b,x,z)}addVariant(b,x,z){const Z=new O(this,b,x,z);return this.registry[b]=Z,Z}getVariant(b,x=0){let z;return b instanceof Uint8Array?z=this.discriminator.decode(b,x):z=b,this.registry[z]}}pt.Union=X;class O extends i{constructor(b,x,z,Z){if(!(b instanceof X))throw new TypeError("union must be a Union");if(!Number.isInteger(x)||0>x)throw new TypeError("variant must be a (non-negative) integer");if(typeof z=="string"&&Z===void 0&&(Z=z,z=null),z){if(!(z instanceof i))throw new TypeError("layout must be a Layout");if(b.defaultLayout!==null&&0<=z.span&&z.span>b.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof Z!="string")throw new TypeError("variant must have a String property")}let nt=b.span;0>b.span&&(nt=z?z.span:0,0<=nt&&b.usesPrefixDiscriminator&&(nt+=b.discriminator.layout.span)),super(nt,Z),this.union=b,this.variant=x,this.layout=z||null}getSpan(b,x=0){if(0<=this.span)return this.span;let z=0;this.union.usesPrefixDiscriminator&&(z=this.union.discriminator.layout.span);let Z=0;return this.layout&&(Z=this.layout.getSpan(b,x+z)),z+Z}decode(b,x=0){const z=this.makeDestinationObject();if(this!==this.union.getVariant(b,x))throw new Error("variant mismatch");let Z=0;return this.union.usesPrefixDiscriminator&&(Z=this.union.discriminator.layout.span),this.layout?z[this.property]=this.layout.decode(b,x+Z):this.property?z[this.property]=!0:this.union.usesPrefixDiscriminator&&(z[this.union.discriminator.property]=this.variant),z}encode(b,x,z=0){let Z=0;if(this.union.usesPrefixDiscriminator&&(Z=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(b,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,x,z);let nt=Z;if(this.layout&&(this.layout.encode(b[this.property],x,z+Z),nt+=this.layout.getSpan(x,z+Z),0<=this.union.span&&nt>this.union.span))throw new Error("encoded variant overruns containing union");return nt}fromArray(b){if(this.layout)return this.layout.fromArray(b)}}pt.VariantLayout=O;function h(f){return 0>f&&(f+=4294967296),f}class w extends i{constructor(b,x,z){if(!(b instanceof _||b instanceof E))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof x=="string"&&z===void 0&&(z=x,x=!1),4<b.span)throw new RangeError("word cannot exceed 32 bits");super(b.span,z),this.word=b,this.msb=!!x,this.fields=[];let Z=0;this._packedSetValue=function(nt){return Z=h(nt),this},this._packedGetValue=function(){return Z}}decode(b,x=0){const z=this.makeDestinationObject(),Z=this.word.decode(b,x);this._packedSetValue(Z);for(const nt of this.fields)nt.property!==void 0&&(z[nt.property]=nt.decode(b));return z}encode(b,x,z=0){const Z=this.word.decode(x,z);this._packedSetValue(Z);for(const nt of this.fields)if(nt.property!==void 0){const vt=b[nt.property];vt!==void 0&&nt.encode(vt)}return this.word.encode(this._packedGetValue(),x,z)}addField(b,x){const z=new S(this,b,x);return this.fields.push(z),z}addBoolean(b){const x=new B(this,b);return this.fields.push(x),x}fieldFor(b){if(typeof b!="string")throw new TypeError("property must be string");for(const x of this.fields)if(x.property===b)return x}}pt.BitStructure=w;class S{constructor(b,x,z){if(!(b instanceof w))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(x)||0>=x)throw new TypeError("bits must be positive integer");const Z=8*b.span,nt=b.fields.reduce((vt,Et)=>vt+Et.bits,0);if(x+nt>Z)throw new Error("bits too long for span remainder ("+(Z-nt)+" of "+Z+" remain)");this.container=b,this.bits=x,this.valueMask=(1<<x)-1,x===32&&(this.valueMask=4294967295),this.start=nt,this.container.msb&&(this.start=Z-nt-x),this.wordMask=h(this.valueMask<<this.start),this.property=z}decode(b,x){const z=this.container._packedGetValue();return h(z&this.wordMask)>>>this.start}encode(b){if(typeof b!="number"||!Number.isInteger(b)||b!==h(b&this.valueMask))throw new TypeError(u("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const x=this.container._packedGetValue(),z=h(b<<this.start);this.container._packedSetValue(h(x&~this.wordMask)|z)}}pt.BitField=S;class B extends S{constructor(b,x){super(b,1,x)}decode(b,x){return!!super.decode(b,x)}encode(b){typeof b=="boolean"&&(b=+b),super.encode(b)}}pt.Boolean=B;class D extends i{constructor(b,x){if(!(b instanceof l&&b.isCount()||Number.isInteger(b)&&0<=b))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let z=-1;b instanceof l||(z=b),super(z,x),this.length=b}getSpan(b,x){let z=this.span;return 0>z&&(z=this.length.decode(b,x)),z}decode(b,x=0){let z=this.span;return 0>z&&(z=this.length.decode(b,x)),n(b).slice(x,x+z)}encode(b,x,z){let Z=this.length;if(this.length instanceof l&&(Z=b.length),!(b instanceof Uint8Array&&Z===b.length))throw new TypeError(u("Blob.encode",this)+" requires (length "+Z+") Uint8Array as src");if(z+Z>x.length)throw new RangeError("encoding overruns Uint8Array");const nt=n(b);return n(x).write(nt.toString("hex"),z,Z,"hex"),this.length instanceof l&&this.length.encode(Z,x,z),Z}}pt.Blob=D;class I extends i{constructor(b){super(-1,b)}getSpan(b,x=0){e(b);let z=x;for(;z<b.length&&b[z]!==0;)z+=1;return 1+z-x}decode(b,x=0){const z=this.getSpan(b,x);return n(b).slice(x,x+z-1).toString("utf-8")}encode(b,x,z=0){typeof b!="string"&&(b=String(b));const Z=s.Buffer.from(b,"utf8"),nt=Z.length;if(z+nt>x.length)throw new RangeError("encoding overruns Buffer");const vt=n(x);return Z.copy(vt,z),vt[z+nt]=0,nt+1}}pt.CString=I;class v extends i{constructor(b,x){if(typeof b=="string"&&x===void 0&&(x=b,b=void 0),b===void 0)b=-1;else if(!Number.isInteger(b))throw new TypeError("maxSpan must be an integer");super(-1,x),this.maxSpan=b}getSpan(b,x=0){return e(b),b.length-x}decode(b,x=0){const z=this.getSpan(b,x);if(0<=this.maxSpan&&this.maxSpan<z)throw new RangeError("text length exceeds maxSpan");return n(b).slice(x,x+z).toString("utf-8")}encode(b,x,z=0){typeof b!="string"&&(b=String(b));const Z=s.Buffer.from(b,"utf8"),nt=Z.length;if(0<=this.maxSpan&&this.maxSpan<nt)throw new RangeError("text length exceeds maxSpan");if(z+nt>x.length)throw new RangeError("encoding overruns Buffer");return Z.copy(n(x),z),nt}}pt.UTF8=v;class m extends i{constructor(b,x){super(0,x),this.value=b}decode(b,x){return this.value}encode(b,x,z){return 0}}return pt.Constant=m,pt.greedy=((f,b)=>new d(f,b)),pt.offset=((f,b,x)=>new y(f,b,x)),pt.u8=(f=>new _(1,f)),pt.u16=(f=>new _(2,f)),pt.u24=(f=>new _(3,f)),pt.u32=(f=>new _(4,f)),pt.u40=(f=>new _(5,f)),pt.u48=(f=>new _(6,f)),pt.nu64=(f=>new L(f)),pt.u16be=(f=>new E(2,f)),pt.u24be=(f=>new E(3,f)),pt.u32be=(f=>new E(4,f)),pt.u40be=(f=>new E(5,f)),pt.u48be=(f=>new E(6,f)),pt.nu64be=(f=>new j(f)),pt.s8=(f=>new C(1,f)),pt.s16=(f=>new C(2,f)),pt.s24=(f=>new C(3,f)),pt.s32=(f=>new C(4,f)),pt.s40=(f=>new C(5,f)),pt.s48=(f=>new C(6,f)),pt.ns64=(f=>new G(f)),pt.s16be=(f=>new k(2,f)),pt.s24be=(f=>new k(3,f)),pt.s32be=(f=>new k(4,f)),pt.s40be=(f=>new k(5,f)),pt.s48be=(f=>new k(6,f)),pt.ns64be=(f=>new P(f)),pt.f32=(f=>new $(f)),pt.f32be=(f=>new et(f)),pt.f64=(f=>new it(f)),pt.f64be=(f=>new st(f)),pt.struct=((f,b,x)=>new K(f,b,x)),pt.bits=((f,b,x)=>new w(f,b,x)),pt.seq=((f,b,x)=>new ot(f,b,x)),pt.union=((f,b,x)=>new X(f,b,x)),pt.unionLayoutDiscriminator=((f,b)=>new F(f,b)),pt.blob=((f,b)=>new D(f,b)),pt.cstr=(f=>new I(f)),pt.utf8=((f,b)=>new v(f,b)),pt.constant=((f,b)=>new m(f,b)),pt}var W=k2(),C2=8078e3,I2=8078001,B2=8078004,M2=8078005,U2=8078006,L2=8078011;function D_(s){return Array.isArray(s)?"%5B"+s.map(D_).join("%2C%20")+"%5D":typeof s=="bigint"?`${s}n`:encodeURIComponent(String(s!=null&&Object.getPrototypeOf(s)===null?{...s}:s))}function D2([s,e]){return`${s}=${D_(e)}`}function z2(s){const e=Object.entries(s).map(D2).join("&");return btoa(e)}function H2(s,e={}){{let n=`Solana error #${s}; Decode this error by running \`npx @solana/errors decode -- ${s}`;return Object.keys(e).length&&(n+=` '${z2(e)}'`),`${n}\``}}var Fa=class extends Error{cause=this.cause;context;constructor(...[s,e]){let n,i;if(e){const{cause:o,...l}=e;o&&(i={cause:o}),Object.keys(l).length>0&&(n=l)}const u=H2(s,n);super(u,i),this.context={__code:s,...n},this.name="SolanaError"}};function q2(s,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(s)}function j2(s){return Object.freeze({...s,encode:e=>{const n=new Uint8Array(q2(e,s));return s.write(e,n,0),n}})}function P2(s){return Object.freeze({...s,decode:(e,n=0)=>s.read(e,n)[0]})}function Pa(s){return"fixedSize"in s&&typeof s.fixedSize=="number"}function K2(s,e){if(Pa(s)!==Pa(e))throw new Fa(B2);if(Pa(s)&&Pa(e)&&s.fixedSize!==e.fixedSize)throw new Fa(M2,{decoderFixedSize:e.fixedSize,encoderFixedSize:s.fixedSize});if(!Pa(s)&&!Pa(e)&&s.maxSize!==e.maxSize)throw new Fa(U2,{decoderMaxSize:e.maxSize,encoderMaxSize:s.maxSize});return{...e,...s,decode:e.decode,encode:s.encode,read:e.read,write:s.write}}function V2(s,e,n=0){if(e.length-n<=0)throw new Fa(C2,{codecDescription:s})}function G2(s,e,n,i=0){const u=n.length-i;if(u<e)throw new Fa(I2,{bytesLength:u,codecDescription:s,expected:e})}function Y2(s,e,n,i){if(i<e||i>n)throw new Fa(L2,{codecDescription:s,max:n,min:e,value:i})}function z_(s){return s?.endian!==1}function F2(s){return j2({fixedSize:s.size,write(e,n,i){s.range&&Y2(s.name,s.range[0],s.range[1],e);const u=new ArrayBuffer(s.size);return s.set(new DataView(u),e,z_(s.config)),n.set(new Uint8Array(u),i),i+s.size}})}function Z2(s){return P2({fixedSize:s.size,read(e,n=0){V2(s.name,e,n),G2(s.name,s.size,e,n);const i=new DataView(X2(e,n,s.size));return[s.get(i,z_(s.config)),n+s.size]}})}function X2(s,e,n){const i=s.byteOffset+(e??0),u=n??s.byteLength;return s.buffer.slice(i,i+u)}var H_=(s={})=>F2({config:s,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,n,i)=>e.setBigUint64(0,BigInt(n),i),size:8}),$2=(s={})=>Z2({config:s,get:(e,n)=>e.getBigUint64(0,n),name:"u64",size:8}),W2=(s={})=>K2(H_(s),$2(s));let Q2=class extends TypeError{constructor(e,n){let i;const{message:u,explanation:o,...l}=e,{path:d}=e,y=d.length===0?u:`At path: ${d.join(".")} -- ${u}`;super(o??y),o!=null&&(this.cause=y),Object.assign(this,l),this.name=this.constructor.name,this.failures=()=>i??(i=[e,...n()])}};function J2(s){return Au(s)&&typeof s[Symbol.iterator]=="function"}function Au(s){return typeof s=="object"&&s!=null}function Tl(s){return Au(s)&&!Array.isArray(s)}function xr(s){return typeof s=="symbol"?s.toString():typeof s=="string"?JSON.stringify(s):`${s}`}function tT(s){const{done:e,value:n}=s.next();return e?void 0:n}function eT(s,e,n,i){if(s===!0)return;s===!1?s={}:typeof s=="string"&&(s={message:s});const{path:u,branch:o}=e,{type:l}=n,{refinement:d,message:y=`Expected a value of type \`${l}\`${d?` with refinement \`${d}\``:""}, but received: \`${xr(i)}\``}=s;return{value:i,type:l,refinement:d,key:u[u.length-1],path:u,branch:o,...s,message:y}}function*jg(s,e,n,i){J2(s)||(s=[s]);for(const u of s){const o=eT(u,e,n,i);o&&(yield o)}}function*V0(s,e,n={}){const{path:i=[],branch:u=[s],coerce:o=!1,mask:l=!1}=n,d={path:i,branch:u,mask:l};o&&(s=e.coercer(s,d));let y="valid";for(const _ of e.validator(s,d))_.explanation=n.message,y="not_valid",yield[_,void 0];for(let[_,E,C]of e.entries(s,d)){const k=V0(E,C,{path:_===void 0?i:[...i,_],branch:_===void 0?u:[...u,E],coerce:o,mask:l,message:n.message});for(const R of k)R[0]?(y=R[0].refinement!=null?"not_refined":"not_valid",yield[R[0],void 0]):o&&(E=R[1],_===void 0?s=E:s instanceof Map?s.set(_,E):s instanceof Set?s.add(E):Au(s)&&(E!==void 0||_ in s)&&(s[_]=E))}if(y!=="not_valid")for(const _ of e.refiner(s,d))_.explanation=n.message,y="not_refined",yield[_,void 0];y==="valid"&&(yield[void 0,s])}let Fr=class{constructor(e){const{type:n,schema:i,validator:u,refiner:o,coercer:l=y=>y,entries:d=function*(){}}=e;this.type=n,this.schema=i,this.entries=d,this.coercer=l,u?this.validator=(y,_)=>{const E=u(y,_);return jg(E,_,this,y)}:this.validator=()=>[],o?this.refiner=(y,_)=>{const E=o(y,_);return jg(E,_,this,y)}:this.refiner=()=>[]}assert(e,n){return q_(e,this,n)}create(e,n){return Rt(e,this,n)}is(e){return j_(e,this)}mask(e,n){return nT(e,this,n)}validate(e,n={}){return Ru(e,this,n)}};function q_(s,e,n){const i=Ru(s,e,{message:n});if(i[0])throw i[0]}function Rt(s,e,n){const i=Ru(s,e,{coerce:!0,message:n});if(i[0])throw i[0];return i[1]}function nT(s,e,n){const i=Ru(s,e,{coerce:!0,mask:!0,message:n});if(i[0])throw i[0];return i[1]}function j_(s,e){return!Ru(s,e)[0]}function Ru(s,e,n={}){const i=V0(s,e,n),u=tT(i);return u[0]?[new Q2(u[0],function*(){for(const l of i)l[0]&&(yield l[0])}),void 0]:[void 0,u[1]]}function Xs(s,e){return new Fr({type:s,schema:null,validator:e})}function rT(){return Xs("any",()=>!0)}function xt(s){return new Fr({type:"array",schema:s,*entries(e){if(s&&Array.isArray(e))for(const[n,i]of e.entries())yield[n,i,s]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${xr(e)}`}})}function Yr(){return Xs("boolean",s=>typeof s=="boolean")}function G0(s){return Xs("instance",e=>e instanceof s||`Expected a \`${s.name}\` instance, but received: ${xr(e)}`)}function Xe(s){const e=xr(s),n=typeof s;return new Fr({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?s:null,validator(i){return i===s||`Expected the literal \`${e}\`, but received: ${xr(i)}`}})}function iT(){return Xs("never",()=>!1)}function Ot(s){return new Fr({...s,validator:(e,n)=>e===null||s.validator(e,n),refiner:(e,n)=>e===null||s.refiner(e,n)})}function ct(){return Xs("number",s=>typeof s=="number"&&!isNaN(s)||`Expected a number, but received: ${xr(s)}`)}function zt(s){return new Fr({...s,validator:(e,n)=>e===void 0||s.validator(e,n),refiner:(e,n)=>e===void 0||s.refiner(e,n)})}function P_(s,e){return new Fr({type:"record",schema:null,*entries(n){if(Au(n))for(const i in n){const u=n[i];yield[i,i,s],yield[i,u,e]}},validator(n){return Tl(n)||`Expected an object, but received: ${xr(n)}`},coercer(n){return Tl(n)?{...n}:n}})}function At(){return Xs("string",s=>typeof s=="string"||`Expected a string, but received: ${xr(s)}`)}function Y0(s){const e=iT();return new Fr({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const i=Math.max(s.length,n.length);for(let u=0;u<i;u++)yield[u,n[u],s[u]||e]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${xr(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function St(s){const e=Object.keys(s);return new Fr({type:"type",schema:s,*entries(n){if(Au(n))for(const i of e)yield[i,n[i],s[i]]},validator(n){return Tl(n)||`Expected an object, but received: ${xr(n)}`},coercer(n){return Tl(n)?{...n}:n}})}function qn(s){const e=s.map(n=>n.type).join(" | ");return new Fr({type:"union",schema:null,coercer(n,i){for(const u of s){const[o,l]=u.validate(n,{coerce:!0,mask:i.mask});if(!o)return l}return n},validator(n,i){const u=[];for(const o of s){const[...l]=V0(n,o,i),[d]=l;if(d[0])for(const[y]of l)y&&u.push(y);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${xr(n)}`,...u]}})}function ao(){return Xs("unknown",()=>!0)}function Tu(s,e,n){return new Fr({...s,coercer:(i,u)=>j_(i,e)?s.coercer(n(i,u),u):s.coercer(i,u)})}var Xc,sT=new Uint8Array(16);function K_(){if(!Xc&&(Xc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Xc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Xc(sT)}const aT=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function zl(s){return typeof s=="string"&&aT.test(s)}var xn=[];for(var Nh=0;Nh<256;++Nh)xn.push((Nh+256).toString(16).substr(1));function Hl(s){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(xn[s[e+0]]+xn[s[e+1]]+xn[s[e+2]]+xn[s[e+3]]+"-"+xn[s[e+4]]+xn[s[e+5]]+"-"+xn[s[e+6]]+xn[s[e+7]]+"-"+xn[s[e+8]]+xn[s[e+9]]+"-"+xn[s[e+10]]+xn[s[e+11]]+xn[s[e+12]]+xn[s[e+13]]+xn[s[e+14]]+xn[s[e+15]]).toLowerCase();if(!zl(n))throw TypeError("Stringified UUID is invalid");return n}var Pg,kh,Ch=0,Ih=0;function oT(s,e,n){var i=e&&n||0,u=e||new Array(16);s=s||{};var o=s.node||Pg,l=s.clockseq!==void 0?s.clockseq:kh;if(o==null||l==null){var d=s.random||(s.rng||K_)();o==null&&(o=Pg=[d[0]|1,d[1],d[2],d[3],d[4],d[5]]),l==null&&(l=kh=(d[6]<<8|d[7])&16383)}var y=s.msecs!==void 0?s.msecs:Date.now(),_=s.nsecs!==void 0?s.nsecs:Ih+1,E=y-Ch+(_-Ih)/1e4;if(E<0&&s.clockseq===void 0&&(l=l+1&16383),(E<0||y>Ch)&&s.nsecs===void 0&&(_=0),_>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Ch=y,Ih=_,kh=l,y+=122192928e5;var C=((y&268435455)*1e4+_)%4294967296;u[i++]=C>>>24&255,u[i++]=C>>>16&255,u[i++]=C>>>8&255,u[i++]=C&255;var k=y/4294967296*1e4&268435455;u[i++]=k>>>8&255,u[i++]=k&255,u[i++]=k>>>24&15|16,u[i++]=k>>>16&255,u[i++]=l>>>8|128,u[i++]=l&255;for(var R=0;R<6;++R)u[i+R]=o[R];return e||Hl(u)}function V_(s){if(!zl(s))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(s.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(s.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(s.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(s.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(s.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}function uT(s){s=unescape(encodeURIComponent(s));for(var e=[],n=0;n<s.length;++n)e.push(s.charCodeAt(n));return e}var cT="6ba7b810-9dad-11d1-80b4-00c04fd430c8",lT="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function G_(s,e,n){function i(u,o,l,d){if(typeof u=="string"&&(u=uT(u)),typeof o=="string"&&(o=V_(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var y=new Uint8Array(16+u.length);if(y.set(o),y.set(u,o.length),y=n(y),y[6]=y[6]&15|e,y[8]=y[8]&63|128,l){d=d||0;for(var _=0;_<16;++_)l[d+_]=y[_];return l}return Hl(y)}try{i.name=s}catch{}return i.DNS=cT,i.URL=lT,i}function fT(s){if(typeof s=="string"){var e=unescape(encodeURIComponent(s));s=new Uint8Array(e.length);for(var n=0;n<e.length;++n)s[n]=e.charCodeAt(n)}return dT(hT(pT(s),s.length*8))}function dT(s){for(var e=[],n=s.length*32,i="0123456789abcdef",u=0;u<n;u+=8){var o=s[u>>5]>>>u%32&255,l=parseInt(i.charAt(o>>>4&15)+i.charAt(o&15),16);e.push(l)}return e}function Y_(s){return(s+64>>>9<<4)+14+1}function hT(s,e){s[e>>5]|=128<<e%32,s[Y_(e)-1]=e;for(var n=1732584193,i=-271733879,u=-1732584194,o=271733878,l=0;l<s.length;l+=16){var d=n,y=i,_=u,E=o;n=Mn(n,i,u,o,s[l],7,-680876936),o=Mn(o,n,i,u,s[l+1],12,-389564586),u=Mn(u,o,n,i,s[l+2],17,606105819),i=Mn(i,u,o,n,s[l+3],22,-1044525330),n=Mn(n,i,u,o,s[l+4],7,-176418897),o=Mn(o,n,i,u,s[l+5],12,1200080426),u=Mn(u,o,n,i,s[l+6],17,-1473231341),i=Mn(i,u,o,n,s[l+7],22,-45705983),n=Mn(n,i,u,o,s[l+8],7,1770035416),o=Mn(o,n,i,u,s[l+9],12,-1958414417),u=Mn(u,o,n,i,s[l+10],17,-42063),i=Mn(i,u,o,n,s[l+11],22,-1990404162),n=Mn(n,i,u,o,s[l+12],7,1804603682),o=Mn(o,n,i,u,s[l+13],12,-40341101),u=Mn(u,o,n,i,s[l+14],17,-1502002290),i=Mn(i,u,o,n,s[l+15],22,1236535329),n=Un(n,i,u,o,s[l+1],5,-165796510),o=Un(o,n,i,u,s[l+6],9,-1069501632),u=Un(u,o,n,i,s[l+11],14,643717713),i=Un(i,u,o,n,s[l],20,-373897302),n=Un(n,i,u,o,s[l+5],5,-701558691),o=Un(o,n,i,u,s[l+10],9,38016083),u=Un(u,o,n,i,s[l+15],14,-660478335),i=Un(i,u,o,n,s[l+4],20,-405537848),n=Un(n,i,u,o,s[l+9],5,568446438),o=Un(o,n,i,u,s[l+14],9,-1019803690),u=Un(u,o,n,i,s[l+3],14,-187363961),i=Un(i,u,o,n,s[l+8],20,1163531501),n=Un(n,i,u,o,s[l+13],5,-1444681467),o=Un(o,n,i,u,s[l+2],9,-51403784),u=Un(u,o,n,i,s[l+7],14,1735328473),i=Un(i,u,o,n,s[l+12],20,-1926607734),n=Ln(n,i,u,o,s[l+5],4,-378558),o=Ln(o,n,i,u,s[l+8],11,-2022574463),u=Ln(u,o,n,i,s[l+11],16,1839030562),i=Ln(i,u,o,n,s[l+14],23,-35309556),n=Ln(n,i,u,o,s[l+1],4,-1530992060),o=Ln(o,n,i,u,s[l+4],11,1272893353),u=Ln(u,o,n,i,s[l+7],16,-155497632),i=Ln(i,u,o,n,s[l+10],23,-1094730640),n=Ln(n,i,u,o,s[l+13],4,681279174),o=Ln(o,n,i,u,s[l],11,-358537222),u=Ln(u,o,n,i,s[l+3],16,-722521979),i=Ln(i,u,o,n,s[l+6],23,76029189),n=Ln(n,i,u,o,s[l+9],4,-640364487),o=Ln(o,n,i,u,s[l+12],11,-421815835),u=Ln(u,o,n,i,s[l+15],16,530742520),i=Ln(i,u,o,n,s[l+2],23,-995338651),n=Dn(n,i,u,o,s[l],6,-198630844),o=Dn(o,n,i,u,s[l+7],10,1126891415),u=Dn(u,o,n,i,s[l+14],15,-1416354905),i=Dn(i,u,o,n,s[l+5],21,-57434055),n=Dn(n,i,u,o,s[l+12],6,1700485571),o=Dn(o,n,i,u,s[l+3],10,-1894986606),u=Dn(u,o,n,i,s[l+10],15,-1051523),i=Dn(i,u,o,n,s[l+1],21,-2054922799),n=Dn(n,i,u,o,s[l+8],6,1873313359),o=Dn(o,n,i,u,s[l+15],10,-30611744),u=Dn(u,o,n,i,s[l+6],15,-1560198380),i=Dn(i,u,o,n,s[l+13],21,1309151649),n=Dn(n,i,u,o,s[l+4],6,-145523070),o=Dn(o,n,i,u,s[l+11],10,-1120210379),u=Dn(u,o,n,i,s[l+2],15,718787259),i=Dn(i,u,o,n,s[l+9],21,-343485551),n=us(n,d),i=us(i,y),u=us(u,_),o=us(o,E)}return[n,i,u,o]}function pT(s){if(s.length===0)return[];for(var e=s.length*8,n=new Uint32Array(Y_(e)),i=0;i<e;i+=8)n[i>>5]|=(s[i/8]&255)<<i%32;return n}function us(s,e){var n=(s&65535)+(e&65535),i=(s>>16)+(e>>16)+(n>>16);return i<<16|n&65535}function mT(s,e){return s<<e|s>>>32-e}function ql(s,e,n,i,u,o){return us(mT(us(us(e,s),us(i,o)),u),n)}function Mn(s,e,n,i,u,o,l){return ql(e&n|~e&i,s,e,u,o,l)}function Un(s,e,n,i,u,o,l){return ql(e&i|n&~i,s,e,u,o,l)}function Ln(s,e,n,i,u,o,l){return ql(e^n^i,s,e,u,o,l)}function Dn(s,e,n,i,u,o,l){return ql(n^(e|~i),s,e,u,o,l)}var yT=G_("v3",48,fT);function gT(s,e,n){s=s||{};var i=s.random||(s.rng||K_)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){n=n||0;for(var u=0;u<16;++u)e[n+u]=i[u];return e}return Hl(i)}function bT(s,e,n,i){switch(s){case 0:return e&n^~e&i;case 1:return e^n^i;case 2:return e&n^e&i^n&i;case 3:return e^n^i}}function Bh(s,e){return s<<e|s>>>32-e}function _T(s){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof s=="string"){var i=unescape(encodeURIComponent(s));s=[];for(var u=0;u<i.length;++u)s.push(i.charCodeAt(u))}else Array.isArray(s)||(s=Array.prototype.slice.call(s));s.push(128);for(var o=s.length/4+2,l=Math.ceil(o/16),d=new Array(l),y=0;y<l;++y){for(var _=new Uint32Array(16),E=0;E<16;++E)_[E]=s[y*64+E*4]<<24|s[y*64+E*4+1]<<16|s[y*64+E*4+2]<<8|s[y*64+E*4+3];d[y]=_}d[l-1][14]=(s.length-1)*8/Math.pow(2,32),d[l-1][14]=Math.floor(d[l-1][14]),d[l-1][15]=(s.length-1)*8&4294967295;for(var C=0;C<l;++C){for(var k=new Uint32Array(80),R=0;R<16;++R)k[R]=d[C][R];for(var M=16;M<80;++M)k[M]=Bh(k[M-3]^k[M-8]^k[M-14]^k[M-16],1);for(var U=n[0],L=n[1],j=n[2],G=n[3],P=n[4],$=0;$<80;++$){var et=Math.floor($/20),it=Bh(U,5)+bT(et,L,j,G)+P+e[et]+k[$]>>>0;P=G,G=j,j=Bh(L,30)>>>0,L=U,U=it}n[0]=n[0]+U>>>0,n[1]=n[1]+L>>>0,n[2]=n[2]+j>>>0,n[3]=n[3]+G>>>0,n[4]=n[4]+P>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var wT=G_("v5",80,_T);const vT="00000000-0000-0000-0000-000000000000";function ET(s){if(!zl(s))throw TypeError("Invalid UUID");return parseInt(s.substr(14,1),16)}const ST=Object.freeze(Object.defineProperty({__proto__:null,NIL:vT,parse:V_,stringify:Hl,v1:oT,v3:yT,v4:gT,v5:wT,validate:zl,version:ET},Symbol.toStringTag,{value:"Module"})),F_=Ml(ST);var Mh,Kg;function AT(){if(Kg)return Mh;Kg=1;const s=F_.v4;return Mh=function(n,i,u,o){if(typeof n!="string")throw new TypeError(n+" must be a string");o=o||{};const l=typeof o.version=="number"?o.version:2;if(l!==1&&l!==2)throw new TypeError(l+" must be 1 or 2");const d={method:n};if(l===2&&(d.jsonrpc="2.0"),i){if(typeof i!="object"&&!Array.isArray(i))throw new TypeError(i+" must be an object, array or omitted");d.params=i}if(typeof u>"u"){const y=typeof o.generator=="function"?o.generator:function(){return s()};d.id=y(d,o)}else l===2&&u===null?o.notificationIdNull&&(d.id=null):d.id=u;return d},Mh}var Uh,Vg;function RT(){if(Vg)return Uh;Vg=1;const s=F_.v4,e=AT(),n=function(i,u){if(!(this instanceof n))return new n(i,u);u||(u={}),this.options={reviver:typeof u.reviver<"u"?u.reviver:null,replacer:typeof u.replacer<"u"?u.replacer:null,generator:typeof u.generator<"u"?u.generator:function(){return s()},version:typeof u.version<"u"?u.version:2,notificationIdNull:typeof u.notificationIdNull=="boolean"?u.notificationIdNull:!1},this.callServer=i};return Uh=n,n.prototype.request=function(i,u,o,l){const d=this;let y=null;const _=Array.isArray(i)&&typeof u=="function";if(this.options.version===1&&_)throw new TypeError("JSON-RPC 1.0 does not support batching");if(_||!_&&i&&typeof i=="object"&&typeof u=="function")l=u,y=i;else{typeof o=="function"&&(l=o,o=void 0);const k=typeof l=="function";try{y=e(i,u,o,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(R){if(k){l(R);return}throw R}if(!k)return y}let C;try{C=JSON.stringify(y,this.options.replacer)}catch(k){l(k);return}return this.callServer(C,function(k,R){d._parseResponse(k,R,l)}),y},n.prototype._parseResponse=function(i,u,o){if(i){o(i);return}if(!u){o();return}let l;try{l=JSON.parse(u,this.options.reviver)}catch(d){o(d);return}if(o.length===3)if(Array.isArray(l)){const d=function(_){return typeof _.error<"u"},y=function(_){return!d(_)};o(null,l.filter(d),l.filter(y));return}else{o(null,l.error,l.result);return}o(null,l)},Uh}var TT=RT();const xT=xi(TT);var Lh={exports:{}},Gg;function OT(){return Gg||(Gg=1,(function(s){var e=Object.prototype.hasOwnProperty,n="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1));function u(y,_,E){this.fn=y,this.context=_,this.once=E||!1}function o(y,_,E,C,k){if(typeof E!="function")throw new TypeError("The listener must be a function");var R=new u(E,C||y,k),M=n?n+_:_;return y._events[M]?y._events[M].fn?y._events[M]=[y._events[M],R]:y._events[M].push(R):(y._events[M]=R,y._eventsCount++),y}function l(y,_){--y._eventsCount===0?y._events=new i:delete y._events[_]}function d(){this._events=new i,this._eventsCount=0}d.prototype.eventNames=function(){var _=[],E,C;if(this._eventsCount===0)return _;for(C in E=this._events)e.call(E,C)&&_.push(n?C.slice(1):C);return Object.getOwnPropertySymbols?_.concat(Object.getOwnPropertySymbols(E)):_},d.prototype.listeners=function(_){var E=n?n+_:_,C=this._events[E];if(!C)return[];if(C.fn)return[C.fn];for(var k=0,R=C.length,M=new Array(R);k<R;k++)M[k]=C[k].fn;return M},d.prototype.listenerCount=function(_){var E=n?n+_:_,C=this._events[E];return C?C.fn?1:C.length:0},d.prototype.emit=function(_,E,C,k,R,M){var U=n?n+_:_;if(!this._events[U])return!1;var L=this._events[U],j=arguments.length,G,P;if(L.fn){switch(L.once&&this.removeListener(_,L.fn,void 0,!0),j){case 1:return L.fn.call(L.context),!0;case 2:return L.fn.call(L.context,E),!0;case 3:return L.fn.call(L.context,E,C),!0;case 4:return L.fn.call(L.context,E,C,k),!0;case 5:return L.fn.call(L.context,E,C,k,R),!0;case 6:return L.fn.call(L.context,E,C,k,R,M),!0}for(P=1,G=new Array(j-1);P<j;P++)G[P-1]=arguments[P];L.fn.apply(L.context,G)}else{var $=L.length,et;for(P=0;P<$;P++)switch(L[P].once&&this.removeListener(_,L[P].fn,void 0,!0),j){case 1:L[P].fn.call(L[P].context);break;case 2:L[P].fn.call(L[P].context,E);break;case 3:L[P].fn.call(L[P].context,E,C);break;case 4:L[P].fn.call(L[P].context,E,C,k);break;default:if(!G)for(et=1,G=new Array(j-1);et<j;et++)G[et-1]=arguments[et];L[P].fn.apply(L[P].context,G)}}return!0},d.prototype.on=function(_,E,C){return o(this,_,E,C,!1)},d.prototype.once=function(_,E,C){return o(this,_,E,C,!0)},d.prototype.removeListener=function(_,E,C,k){var R=n?n+_:_;if(!this._events[R])return this;if(!E)return l(this,R),this;var M=this._events[R];if(M.fn)M.fn===E&&(!k||M.once)&&(!C||M.context===C)&&l(this,R);else{for(var U=0,L=[],j=M.length;U<j;U++)(M[U].fn!==E||k&&!M[U].once||C&&M[U].context!==C)&&L.push(M[U]);L.length?this._events[R]=L.length===1?L[0]:L:l(this,R)}return this},d.prototype.removeAllListeners=function(_){var E;return _?(E=n?n+_:_,this._events[E]&&l(this,E)):(this._events=new i,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,s.exports=d})(Lh)),Lh.exports}var NT=OT();const Z_=xi(NT);var kT=class extends Z_{socket;constructor(s,e){super(),this.socket=new window.WebSocket(s,e.protocols),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=n=>this.emit("message",n.data),this.socket.onerror=n=>this.emit("error",n),this.socket.onclose=n=>{this.emit("close",n.code,n.reason)}}send(s,e,n){const i=n||e;try{this.socket.send(s),i()}catch(u){i(u)}}close(s,e){this.socket.close(s,e)}addEventListener(s,e,n){this.socket.addEventListener(s,e,n)}};function CT(s,e){return new kT(s,e)}var IT=class{encode(s){return JSON.stringify(s)}decode(s){return JSON.parse(s)}},BT=class extends Z_{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(s,e="ws://localhost:8080",{autoconnect:n=!0,reconnect:i=!0,reconnect_interval:u=1e3,max_reconnects:o=5,...l}={},d,y){super(),this.webSocketFactory=s,this.queue={},this.rpc_id=0,this.address=e,this.autoconnect=n,this.ready=!1,this.reconnect=i,this.reconnect_timer_id=void 0,this.reconnect_interval=u,this.max_reconnects=o,this.rest_options=l,this.current_reconnects=0,this.generate_request_id=d||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),y?this.dataPack=y:this.dataPack=new IT,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(s,e,n,i){return!i&&typeof n=="object"&&(i=n,n=null),new Promise((u,o)=>{if(!this.ready)return o(new Error("socket not ready"));const l=this.generate_request_id(s,e),d={jsonrpc:"2.0",method:s,params:e||void 0,id:l};this.socket.send(this.dataPack.encode(d),i,y=>{if(y)return o(y);this.queue[l]={promise:[u,o]},n&&(this.queue[l].timeout=setTimeout(()=>{delete this.queue[l],o(new Error("reply timeout"))},n))})})}async login(s){const e=await this.call("rpc.login",s);if(!e)throw new Error("authentication failed");return e}async listMethods(){return await this.call("__listMethods")}notify(s,e){return new Promise((n,i)=>{if(!this.ready)return i(new Error("socket not ready"));const u={jsonrpc:"2.0",method:s,params:e};this.socket.send(this.dataPack.encode(u),o=>{if(o)return i(o);n()})})}async subscribe(s){typeof s=="string"&&(s=[s]);const e=await this.call("rpc.on",s);if(typeof s=="string"&&e[s]!=="ok")throw new Error("Failed subscribing to an event '"+s+"' with: "+e[s]);return e}async unsubscribe(s){typeof s=="string"&&(s=[s]);const e=await this.call("rpc.off",s);if(typeof s=="string"&&e[s]!=="ok")throw new Error("Failed unsubscribing from an event with: "+e);return e}close(s,e){this.socket&&this.socket.close(s||1e3,e)}setAutoReconnect(s){this.reconnect=s}setReconnectInterval(s){this.reconnect_interval=s}setMaxReconnects(s){this.max_reconnects=s}getCurrentReconnects(){return this.current_reconnects}getMaxReconnects(){return this.max_reconnects}isReconnecting(){return this.reconnect_timer_id!==void 0}willReconnect(){return this.reconnect&&(this.max_reconnects===0||this.current_reconnects<this.max_reconnects)}_connect(s,e){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(s,e),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:n})=>{n instanceof ArrayBuffer&&(n=Ct.Buffer.from(n).toString());try{n=this.dataPack.decode(n)}catch{return}if(n.notification&&this.listeners(n.notification).length){if(!Object.keys(n.params).length)return this.emit(n.notification);const i=[n.notification];if(n.params.constructor===Object)i.push(n.params);else for(let u=0;u<n.params.length;u++)i.push(n.params[u]);return Promise.resolve().then(()=>{this.emit.apply(this,i)})}if(!this.queue[n.id])return n.method?Promise.resolve().then(()=>{this.emit(n.method,n?.params)}):void 0;"error"in n=="result"in n&&this.queue[n.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[n.id].timeout&&clearTimeout(this.queue[n.id].timeout),n.error?this.queue[n.id].promise[1](n.error):this.queue[n.id].promise[0](n.result),delete this.queue[n.id]}),this.socket.addEventListener("error",n=>this.emit("error",n)),this.socket.addEventListener("close",({code:n,reason:i})=>{this.ready&&setTimeout(()=>this.emit("close",n,i),0),this.ready=!1,this.socket=void 0,n!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)?this.reconnect_timer_id=setTimeout(()=>this._connect(s,e),this.reconnect_interval):this.reconnect&&this.max_reconnects>0&&this.current_reconnects>=this.max_reconnects&&setTimeout(()=>this.emit("max_reconnects_reached",n,i),1))})}};const MT=BigInt(0),su=BigInt(1),UT=BigInt(2),LT=BigInt(7),DT=BigInt(256),zT=BigInt(113),X_=[],$_=[],W_=[];for(let s=0,e=su,n=1,i=0;s<24;s++){[n,i]=[i,(2*n+3*i)%5],X_.push(2*(5*i+n)),$_.push((s+1)*(s+2)/2%64);let u=MT;for(let o=0;o<7;o++)e=(e<<su^(e>>LT)*zT)%DT,e&UT&&(u^=su<<(su<<BigInt(o))-su);W_.push(u)}const Q_=p_(W_,!0),HT=Q_[0],qT=Q_[1],Yg=(s,e,n)=>n>32?SR(s,e,n):vR(s,e,n),Fg=(s,e,n)=>n>32?AR(s,e,n):ER(s,e,n);function jT(s,e=24){const n=new Uint32Array(10);for(let i=24-e;i<24;i++){for(let l=0;l<10;l++)n[l]=s[l]^s[l+10]^s[l+20]^s[l+30]^s[l+40];for(let l=0;l<10;l+=2){const d=(l+8)%10,y=(l+2)%10,_=n[y],E=n[y+1],C=Yg(_,E,1)^n[d],k=Fg(_,E,1)^n[d+1];for(let R=0;R<50;R+=10)s[l+R]^=C,s[l+R+1]^=k}let u=s[2],o=s[3];for(let l=0;l<24;l++){const d=$_[l],y=Yg(u,o,d),_=Fg(u,o,d),E=X_[l];u=s[E],o=s[E+1],s[E]=y,s[E+1]=_}for(let l=0;l<50;l+=10){for(let d=0;d<10;d++)n[d]=s[l+d];for(let d=0;d<10;d++)s[l+d]^=~n[(d+2)%10]&n[(d+4)%10]}s[0]^=HT[i],s[1]^=qT[i]}ds(n)}class F0 extends M0{constructor(e,n,i,u=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=i,this.enableXOF=u,this.rounds=o,hu(i),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=fR(this.state)}clone(){return this._cloneInto()}keccak(){wg(this.state32),jT(this.state32,this.rounds),wg(this.state32),this.posOut=0,this.pos=0}update(e){Qa(this),e=Ul(e),Ri(e);const{blockLen:n,state:i}=this,u=e.length;for(let o=0;o<u;){const l=Math.min(n-this.pos,u-o);for(let d=0;d<l;d++)i[this.pos++]^=e[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:i,blockLen:u}=this;e[i]^=n,(n&128)!==0&&i===u-1&&this.keccak(),e[u-1]^=128,this.keccak()}writeInto(e){Qa(this,!1),Ri(e),this.finish();const n=this.state,{blockLen:i}=this;for(let u=0,o=e.length;u<o;){this.posOut>=i&&this.keccak();const l=Math.min(i-this.posOut,o-u);e.set(n.subarray(this.posOut,this.posOut+l),u),this.posOut+=l,u+=l}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return hu(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(f_(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,ds(this.state)}_cloneInto(e){const{blockLen:n,suffix:i,outputLen:u,rounds:o,enableXOF:l}=this;return e||(e=new F0(n,i,u,l,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=i,e.outputLen=u,e.enableXOF=l,e.destroyed=this.destroyed,e}}const PT=(s,e,n)=>U0(()=>new F0(e,s,n)),Zg=PT(1,136,256/8);class J_ extends M0{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,l_(e);const i=Ul(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const u=this.blockLen,o=new Uint8Array(u);o.set(i.length>u?e.create().update(i).digest():i);for(let l=0;l<o.length;l++)o[l]^=54;this.iHash.update(o),this.oHash=e.create();for(let l=0;l<o.length;l++)o[l]^=106;this.oHash.update(o),ds(o)}update(e){return Qa(this),this.iHash.update(e),this}digestInto(e){Qa(this),Ri(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:i,finished:u,destroyed:o,blockLen:l,outputLen:d}=this;return e=e,e.finished=u,e.destroyed=o,e.blockLen=l,e.outputLen=d,e.oHash=n._cloneInto(e.oHash),e.iHash=i._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const tw=(s,e,n)=>new J_(s,e).update(n).digest();tw.create=(s,e)=>new J_(s,e);const Xg=(s,e)=>(s+(s>=0?e:-e)/ew)/e;function KT(s,e,n){const[[i,u],[o,l]]=e,d=Xg(l*s,n),y=Xg(-u*s,n);let _=s-d*i-y*o,E=-d*u-y*l;const C=_<Ai,k=E<Ai;C&&(_=-_),k&&(E=-E);const R=Eu(Math.ceil(__(n)/2))+Za;if(_<Ai||_>=R||E<Ai||E>=R)throw new Error("splitScalar (endomorphism): failed, k="+s);return{k1neg:C,k1:_,k2neg:k,k2:E}}function f0(s){if(!["compact","recovered","der"].includes(s))throw new Error('Signature format must be "compact", "recovered", or "der"');return s}function Dh(s,e){const n={};for(let i of Object.keys(e))n[i]=s[i]===void 0?e[i]:s[i];return Vs(n.lowS,"lowS"),Vs(n.prehash,"prehash"),n.format!==void 0&&f0(n.format),n}class VT extends Error{constructor(e=""){super(e)}}const _i={Err:VT,_tlv:{encode:(s,e)=>{const{Err:n}=_i;if(s<0||s>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const i=e.length/2,u=Fc(i);if(u.length/2&128)throw new n("tlv.encode: long form length too big");const o=i>127?Fc(u.length/2|128):"";return Fc(s)+o+u+e},decode(s,e){const{Err:n}=_i;let i=0;if(s<0||s>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[i++]!==s)throw new n("tlv.decode: wrong tlv");const u=e[i++],o=!!(u&128);let l=0;if(!o)l=u;else{const y=u&127;if(!y)throw new n("tlv.decode(long): indefinite length not supported");if(y>4)throw new n("tlv.decode(long): byte length is too big");const _=e.subarray(i,i+y);if(_.length!==y)throw new n("tlv.decode: length bytes not complete");if(_[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const E of _)l=l<<8|E;if(i+=y,l<128)throw new n("tlv.decode(long): not minimal encoding")}const d=e.subarray(i,i+l);if(d.length!==l)throw new n("tlv.decode: wrong value length");return{v:d,l:e.subarray(i+l)}}},_int:{encode(s){const{Err:e}=_i;if(s<Ai)throw new e("integer: negative integers are not allowed");let n=Fc(s);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(s){const{Err:e}=_i;if(s[0]&128)throw new e("invalid signature integer: negative");if(s[0]===0&&!(s[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Ll(s)}},toSig(s){const{Err:e,_int:n,_tlv:i}=_i,u=an("signature",s),{v:o,l}=i.decode(48,u);if(l.length)throw new e("invalid signature: left bytes after parsing");const{v:d,l:y}=i.decode(2,o),{v:_,l:E}=i.decode(2,y);if(E.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(d),s:n.decode(_)}},hexFromSig(s){const{_tlv:e,_int:n}=_i,i=e.encode(2,n.encode(s.r)),u=e.encode(2,n.encode(s.s)),o=i+u;return e.encode(48,o)}},Ai=BigInt(0),Za=BigInt(1),ew=BigInt(2),$c=BigInt(3),GT=BigInt(4);function Va(s,e){const{BYTES:n}=s;let i;if(typeof e=="bigint")i=e;else{let u=an("private key",e);try{i=s.fromBytes(u)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof e}`)}}if(!s.isValidNot0(i))throw new Error("invalid private key: out of range [1..N-1]");return i}function YT(s,e={}){const n=U_("weierstrass",s,e),{Fp:i,Fn:u}=n;let o=n.CURVE;const{h:l,n:d}=o;Su(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:y}=e;if(y&&(!i.is0(o.a)||typeof y.beta!="bigint"||!Array.isArray(y.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const _=rw(i,u);function E(){if(!i.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function C(X,O,h){const{x:w,y:S}=O.toAffine(),B=i.toBytes(w);if(Vs(h,"isCompressed"),h){E();const D=!i.isOdd(S);return jr(nw(D),B)}else return jr(Uint8Array.of(4),B,i.toBytes(S))}function k(X){Tr(X,void 0,"Point");const{publicKey:O,publicKeyUncompressed:h}=_,w=X.length,S=X[0],B=X.subarray(1);if(w===O&&(S===2||S===3)){const D=i.fromBytes(B);if(!i.isValid(D))throw new Error("bad point: is not on curve, wrong x");const I=U(D);let v;try{v=i.sqrt(I)}catch(b){const x=b instanceof Error?": "+b.message:"";throw new Error("bad point: is not on curve, sqrt error"+x)}E();const m=i.isOdd(v);return(S&1)===1!==m&&(v=i.neg(v)),{x:D,y:v}}else if(w===h&&S===4){const D=i.BYTES,I=i.fromBytes(B.subarray(0,D)),v=i.fromBytes(B.subarray(D,D*2));if(!L(I,v))throw new Error("bad point: is not on curve");return{x:I,y:v}}else throw new Error(`bad point: got length ${w}, expected compressed=${O} or uncompressed=${h}`)}const R=e.toBytes||C,M=e.fromBytes||k;function U(X){const O=i.sqr(X),h=i.mul(O,X);return i.add(i.add(h,i.mul(X,o.a)),o.b)}function L(X,O){const h=i.sqr(O),w=U(X);return i.eql(h,w)}if(!L(o.Gx,o.Gy))throw new Error("bad curve params: generator point");const j=i.mul(i.pow(o.a,$c),GT),G=i.mul(i.sqr(o.b),BigInt(27));if(i.is0(i.add(j,G)))throw new Error("bad curve params: a or b");function P(X,O,h=!1){if(!i.isValid(O)||h&&i.is0(O))throw new Error(`bad point coordinate ${X}`);return O}function $(X){if(!(X instanceof K))throw new Error("ProjectivePoint expected")}function et(X){if(!y||!y.basises)throw new Error("no endo");return KT(X,y.basises,u.ORDER)}const it=_l((X,O)=>{const{X:h,Y:w,Z:S}=X;if(i.eql(S,i.ONE))return{x:h,y:w};const B=X.is0();O==null&&(O=B?i.ONE:i.inv(S));const D=i.mul(h,O),I=i.mul(w,O),v=i.mul(S,O);if(B)return{x:i.ZERO,y:i.ZERO};if(!i.eql(v,i.ONE))throw new Error("invZ was invalid");return{x:D,y:I}}),st=_l(X=>{if(X.is0()){if(e.allowInfinityPoint&&!i.is0(X.Y))return;throw new Error("bad point: ZERO")}const{x:O,y:h}=X.toAffine();if(!i.isValid(O)||!i.isValid(h))throw new Error("bad point: x or y not field elements");if(!L(O,h))throw new Error("bad point: equation left != right");if(!X.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function ot(X,O,h,w,S){return h=new K(i.mul(h.X,X),h.Y,h.Z),O=wl(w,O),h=wl(S,h),O.add(h)}class K{constructor(O,h,w){this.X=P("x",O),this.Y=P("y",h,!0),this.Z=P("z",w),Object.freeze(this)}static CURVE(){return o}static fromAffine(O){const{x:h,y:w}=O||{};if(!O||!i.isValid(h)||!i.isValid(w))throw new Error("invalid affine point");if(O instanceof K)throw new Error("projective point not allowed");return i.is0(h)&&i.is0(w)?K.ZERO:new K(h,w,i.ONE)}static fromBytes(O){const h=K.fromAffine(M(Tr(O,void 0,"point")));return h.assertValidity(),h}static fromHex(O){return K.fromBytes(an("pointHex",O))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(O=8,h=!0){return F.createCache(this,O),h||this.multiply($c),this}assertValidity(){st(this)}hasEvenY(){const{y:O}=this.toAffine();if(!i.isOdd)throw new Error("Field doesn't support isOdd");return!i.isOdd(O)}equals(O){$(O);const{X:h,Y:w,Z:S}=this,{X:B,Y:D,Z:I}=O,v=i.eql(i.mul(h,I),i.mul(B,S)),m=i.eql(i.mul(w,I),i.mul(D,S));return v&&m}negate(){return new K(this.X,i.neg(this.Y),this.Z)}double(){const{a:O,b:h}=o,w=i.mul(h,$c),{X:S,Y:B,Z:D}=this;let I=i.ZERO,v=i.ZERO,m=i.ZERO,f=i.mul(S,S),b=i.mul(B,B),x=i.mul(D,D),z=i.mul(S,B);return z=i.add(z,z),m=i.mul(S,D),m=i.add(m,m),I=i.mul(O,m),v=i.mul(w,x),v=i.add(I,v),I=i.sub(b,v),v=i.add(b,v),v=i.mul(I,v),I=i.mul(z,I),m=i.mul(w,m),x=i.mul(O,x),z=i.sub(f,x),z=i.mul(O,z),z=i.add(z,m),m=i.add(f,f),f=i.add(m,f),f=i.add(f,x),f=i.mul(f,z),v=i.add(v,f),x=i.mul(B,D),x=i.add(x,x),f=i.mul(x,z),I=i.sub(I,f),m=i.mul(x,b),m=i.add(m,m),m=i.add(m,m),new K(I,v,m)}add(O){$(O);const{X:h,Y:w,Z:S}=this,{X:B,Y:D,Z:I}=O;let v=i.ZERO,m=i.ZERO,f=i.ZERO;const b=o.a,x=i.mul(o.b,$c);let z=i.mul(h,B),Z=i.mul(w,D),nt=i.mul(S,I),vt=i.add(h,w),Et=i.add(B,D);vt=i.mul(vt,Et),Et=i.add(z,Z),vt=i.sub(vt,Et),Et=i.add(h,S);let Pt=i.add(B,I);return Et=i.mul(Et,Pt),Pt=i.add(z,nt),Et=i.sub(Et,Pt),Pt=i.add(w,S),v=i.add(D,I),Pt=i.mul(Pt,v),v=i.add(Z,nt),Pt=i.sub(Pt,v),f=i.mul(b,Et),v=i.mul(x,nt),f=i.add(v,f),v=i.sub(Z,f),f=i.add(Z,f),m=i.mul(v,f),Z=i.add(z,z),Z=i.add(Z,z),nt=i.mul(b,nt),Et=i.mul(x,Et),Z=i.add(Z,nt),nt=i.sub(z,nt),nt=i.mul(b,nt),Et=i.add(Et,nt),z=i.mul(Z,Et),m=i.add(m,z),z=i.mul(Pt,Et),v=i.mul(vt,v),v=i.sub(v,z),z=i.mul(vt,Z),f=i.mul(Pt,f),f=i.add(f,z),new K(v,m,f)}subtract(O){return this.add(O.negate())}is0(){return this.equals(K.ZERO)}multiply(O){const{endo:h}=e;if(!u.isValidNot0(O))throw new Error("invalid scalar: out of range");let w,S;const B=D=>F.cached(this,D,I=>Hs(K,I));if(h){const{k1neg:D,k1:I,k2neg:v,k2:m}=et(O),{p:f,f:b}=B(I),{p:x,f:z}=B(m);S=b.add(z),w=ot(h.beta,f,x,D,v)}else{const{p:D,f:I}=B(O);w=D,S=I}return Hs(K,[w,S])[0]}multiplyUnsafe(O){const{endo:h}=e,w=this;if(!u.isValid(O))throw new Error("invalid scalar: out of range");if(O===Ai||w.is0())return K.ZERO;if(O===Za)return w;if(F.hasCache(this))return this.multiply(O);if(h){const{k1neg:S,k1:B,k2neg:D,k2:I}=et(O),{p1:v,p2:m}=WR(K,w,B,I);return ot(h.beta,v,m,S,D)}else return F.unsafe(w,O)}multiplyAndAddUnsafe(O,h,w){const S=this.multiplyUnsafe(h).add(O.multiplyUnsafe(w));return S.is0()?void 0:S}toAffine(O){return it(this,O)}isTorsionFree(){const{isTorsionFree:O}=e;return l===Za?!0:O?O(K,this):F.unsafe(this,d).is0()}clearCofactor(){const{clearCofactor:O}=e;return l===Za?this:O?O(K,this):this.multiplyUnsafe(l)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}toBytes(O=!0){return Vs(O,"isCompressed"),this.assertValidity(),R(K,this,O)}toHex(O=!0){return Ks(this.toBytes(O))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(O=!0){return this.toBytes(O)}_setWindowSize(O){this.precompute(O)}static normalizeZ(O){return Hs(K,O)}static msm(O,h){return M_(K,u,O,h)}static fromPrivateKey(O){return K.BASE.multiply(Va(u,O))}}K.BASE=new K(o.Gx,o.Gy,i.ONE),K.ZERO=new K(i.ZERO,i.ONE,i.ZERO),K.Fp=i,K.Fn=u;const Y=u.BITS,F=new B_(K,e.endo?Math.ceil(Y/2):Y);return K.BASE.precompute(8),K}function nw(s){return Uint8Array.of(s?2:3)}function rw(s,e){return{secretKey:e.BYTES,publicKey:1+s.BYTES,publicKeyUncompressed:1+2*s.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function FT(s,e={}){const{Fn:n}=s,i=e.randomBytes||L0,u=Object.assign(rw(s.Fp,n),{seed:k_(n.ORDER)});function o(R){try{return!!Va(n,R)}catch{return!1}}function l(R,M){const{publicKey:U,publicKeyUncompressed:L}=u;try{const j=R.length;return M===!0&&j!==U||M===!1&&j!==L?!1:!!s.fromBytes(R)}catch{return!1}}function d(R=i(u.seed)){return ZR(Tr(R,u.seed,"seed"),n.ORDER)}function y(R,M=!0){return s.BASE.multiply(Va(n,R)).toBytes(M)}function _(R){const M=d(R);return{secretKey:M,publicKey:y(M)}}function E(R){if(typeof R=="bigint")return!1;if(R instanceof s)return!0;const{secretKey:M,publicKey:U,publicKeyUncompressed:L}=u;if(n.allowedLengths||M===U)return;const j=an("key",R).length;return j===U||j===L}function C(R,M,U=!0){if(E(R)===!0)throw new Error("first arg must be private key");if(E(M)===!1)throw new Error("second arg must be public key");const L=Va(n,R);return s.fromHex(M).multiply(L).toBytes(U)}return Object.freeze({getPublicKey:y,getSharedSecret:C,keygen:_,Point:s,utils:{isValidSecretKey:o,isValidPublicKey:l,randomSecretKey:d,isValidPrivateKey:o,randomPrivateKey:d,normPrivateKeyToScalar:R=>Va(n,R),precompute(R=8,M=s.BASE){return M.precompute(R,!1)}},lengths:u})}function ZT(s,e,n={}){l_(e),Su(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const i=n.randomBytes||L0,u=n.hmac||((h,...w)=>tw(e,h,jr(...w))),{Fp:o,Fn:l}=s,{ORDER:d,BITS:y}=l,{keygen:_,getPublicKey:E,getSharedSecret:C,utils:k,lengths:R}=FT(s,n),M={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},U="compact";function L(h){const w=d>>Za;return h>w}function j(h,w){if(!l.isValidNot0(w))throw new Error(`invalid signature ${h}: out of range 1..Point.Fn.ORDER`);return w}function G(h,w){f0(w);const S=R.signature,B=w==="compact"?S:w==="recovered"?S+1:void 0;return Tr(h,B,`${w} signature`)}class P{constructor(w,S,B){this.r=j("r",w),this.s=j("s",S),B!=null&&(this.recovery=B),Object.freeze(this)}static fromBytes(w,S=U){G(w,S);let B;if(S==="der"){const{r:m,s:f}=_i.toSig(Tr(w));return new P(m,f)}S==="recovered"&&(B=w[0],S="compact",w=w.subarray(1));const D=l.BYTES,I=w.subarray(0,D),v=w.subarray(D,D*2);return new P(l.fromBytes(I),l.fromBytes(v),B)}static fromHex(w,S){return this.fromBytes(bl(w),S)}addRecoveryBit(w){return new P(this.r,this.s,w)}recoverPublicKey(w){const S=o.ORDER,{r:B,s:D,recovery:I}=this;if(I==null||![0,1,2,3].includes(I))throw new Error("recovery id invalid");if(d*ew<S&&I>1)throw new Error("recovery id is ambiguous for h>1 curve");const m=I===2||I===3?B+d:B;if(!o.isValid(m))throw new Error("recovery id 2 or 3 invalid");const f=o.toBytes(m),b=s.fromBytes(jr(nw((I&1)===0),f)),x=l.inv(m),z=et(an("msgHash",w)),Z=l.create(-z*x),nt=l.create(D*x),vt=s.BASE.multiplyUnsafe(Z).add(b.multiplyUnsafe(nt));if(vt.is0())throw new Error("point at infinify");return vt.assertValidity(),vt}hasHighS(){return L(this.s)}toBytes(w=U){if(f0(w),w==="der")return bl(_i.hexFromSig(this));const S=l.toBytes(this.r),B=l.toBytes(this.s);if(w==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return jr(Uint8Array.of(this.recovery),S,B)}return jr(S,B)}toHex(w){return Ks(this.toBytes(w))}assertValidity(){}static fromCompact(w){return P.fromBytes(an("sig",w),"compact")}static fromDER(w){return P.fromBytes(an("sig",w),"der")}normalizeS(){return this.hasHighS()?new P(this.r,l.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Ks(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Ks(this.toBytes("compact"))}}const $=n.bits2int||function(w){if(w.length>8192)throw new Error("input is too large");const S=Ll(w),B=w.length*8-y;return B>0?S>>BigInt(B):S},et=n.bits2int_modN||function(w){return l.create($(w))},it=Eu(y);function st(h){return l0("num < 2^"+y,h,Ai,it),l.toBytes(h)}function ot(h,w){return Tr(h,void 0,"message"),w?Tr(e(h),void 0,"prehashed message"):h}function K(h,w,S){if(["recovered","canonical"].some(Z=>Z in S))throw new Error("sign() legacy options not supported");const{lowS:B,prehash:D,extraEntropy:I}=Dh(S,M);h=ot(h,D);const v=et(h),m=Va(l,w),f=[st(m),st(v)];if(I!=null&&I!==!1){const Z=I===!0?i(R.secretKey):I;f.push(an("extraEntropy",Z))}const b=jr(...f),x=v;function z(Z){const nt=$(Z);if(!l.isValidNot0(nt))return;const vt=l.inv(nt),Et=s.BASE.multiply(nt).toAffine(),Pt=l.create(Et.x);if(Pt===Ai)return;const Gt=l.create(vt*l.create(x+Pt*m));if(Gt===Ai)return;let ce=(Et.x===Pt?0:2)|Number(Et.y&Za),We=Gt;return B&&L(Gt)&&(We=l.neg(Gt),ce^=1),new P(Pt,We,ce)}return{seed:b,k2sig:z}}function Y(h,w,S={}){h=an("message",h);const{seed:B,k2sig:D}=K(h,w,S);return zR(e.outputLen,l.BYTES,u)(B,D)}function F(h){let w;const S=typeof h=="string"||vu(h),B=!S&&h!==null&&typeof h=="object"&&typeof h.r=="bigint"&&typeof h.s=="bigint";if(!S&&!B)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(B)w=new P(h.r,h.s);else if(S){try{w=P.fromBytes(an("sig",h),"der")}catch(D){if(!(D instanceof _i.Err))throw D}if(!w)try{w=P.fromBytes(an("sig",h),"compact")}catch{return!1}}return w||!1}function X(h,w,S,B={}){const{lowS:D,prehash:I,format:v}=Dh(B,M);if(S=an("publicKey",S),w=ot(an("message",w),I),"strict"in B)throw new Error("options.strict was renamed to lowS");const m=v===void 0?F(h):P.fromBytes(an("sig",h),v);if(m===!1)return!1;try{const f=s.fromBytes(S);if(D&&m.hasHighS())return!1;const{r:b,s:x}=m,z=et(w),Z=l.inv(x),nt=l.create(z*Z),vt=l.create(b*Z),Et=s.BASE.multiplyUnsafe(nt).add(f.multiplyUnsafe(vt));return Et.is0()?!1:l.create(Et.x)===b}catch{return!1}}function O(h,w,S={}){const{prehash:B}=Dh(S,M);return w=ot(w,B),P.fromBytes(h,"recovered").recoverPublicKey(w).toBytes()}return Object.freeze({keygen:_,getPublicKey:E,getSharedSecret:C,utils:k,lengths:R,Point:s,sign:Y,verify:X,recoverPublicKey:O,Signature:P,hash:e})}function XT(s){const e={a:s.a,b:s.b,p:s.Fp.ORDER,n:s.n,h:s.h,Gx:s.Gx,Gy:s.Gy},n=s.Fp;let i=s.allowedPrivateKeyLengths?Array.from(new Set(s.allowedPrivateKeyLengths.map(l=>Math.ceil(l/2)))):void 0;const u=Zs(e.n,{BITS:s.nBitLength,allowedLengths:i,modFromBytes:s.wrapPrivateKey}),o={Fp:n,Fn:u,allowInfinityPoint:s.allowInfinityPoint,endo:s.endo,isTorsionFree:s.isTorsionFree,clearCofactor:s.clearCofactor,fromBytes:s.fromBytes,toBytes:s.toBytes};return{CURVE:e,curveOpts:o}}function $T(s){const{CURVE:e,curveOpts:n}=XT(s),i={hmac:s.hmac,randomBytes:s.randomBytes,lowS:s.lowS,bits2int:s.bits2int,bits2int_modN:s.bits2int_modN};return{CURVE:e,curveOpts:n,hash:s.hash,ecdsaOpts:i}}function WT(s,e){const n=e.Point;return Object.assign({},e,{ProjectivePoint:n,CURVE:Object.assign({},s,O_(n.Fn.ORDER,n.Fn.BITS))})}function QT(s){const{CURVE:e,curveOpts:n,hash:i,ecdsaOpts:u}=$T(s),o=YT(e,n),l=ZT(o,i,u);return WT(s,l)}function JT(s,e){const n=i=>QT({...s,hash:i});return{...n(e),create:n}}const Z0={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},tx={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},$g=BigInt(2);function ex(s){const e=Z0.p,n=BigInt(3),i=BigInt(6),u=BigInt(11),o=BigInt(22),l=BigInt(23),d=BigInt(44),y=BigInt(88),_=s*s*s%e,E=_*_*s%e,C=sn(E,n,e)*E%e,k=sn(C,n,e)*E%e,R=sn(k,$g,e)*_%e,M=sn(R,u,e)*R%e,U=sn(M,o,e)*M%e,L=sn(U,d,e)*U%e,j=sn(L,y,e)*L%e,G=sn(j,d,e)*U%e,P=sn(G,n,e)*E%e,$=sn(P,l,e)*M%e,et=sn($,i,e)*_%e,it=sn(et,$g,e);if(!d0.eql(d0.sqr(it),s))throw new Error("Cannot find square root");return it}const d0=Zs(Z0.p,{sqrt:ex}),X0=JT({...Z0,Fp:d0,lowS:!0,endo:tx},y_),nx=so.utils.randomPrivateKey,Wg=()=>{const s=so.utils.randomPrivateKey(),e=xl(s),n=new Uint8Array(64);return n.set(s),n.set(e,32),{publicKey:e,secretKey:n}},xl=so.getPublicKey;function Qg(s){try{return so.ExtendedPoint.fromHex(s),!0}catch{return!1}}const $0=(s,e)=>so.sign(s,e.slice(0,32)),rx=so.verify,$t=s=>Ct.Buffer.isBuffer(s)?s:s instanceof Uint8Array?Ct.Buffer.from(s.buffer,s.byteOffset,s.byteLength):Ct.Buffer.from(s);let W0=class{constructor(e){Object.assign(this,e)}encode(){return Ct.Buffer.from(Oh.serialize(lu,this))}static decode(e){return Oh.deserialize(lu,this,e)}static decodeUnchecked(e){return Oh.deserializeUnchecked(lu,this,e)}};class ix extends W0{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(n=>{this.enum=n})}}const lu=new Map;var iw;const sw=32,Gr=32;function sx(s){return s._bn!==void 0}let Jg=1;class wt extends W0{constructor(e){if(super({}),this._bn=void 0,sx(e))this._bn=e._bn;else{if(typeof e=="string"){const n=On.decode(e);if(n.length!=Gr)throw new Error("Invalid public key input");this._bn=new Hn(n)}else this._bn=new Hn(e);if(this._bn.byteLength()>Gr)throw new Error("Invalid public key input")}}static unique(){const e=new wt(Jg);return Jg+=1,new wt(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return On.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(Ct.Buffer);if(e.length===Gr)return e;const n=Ct.Buffer.alloc(32);return e.copy(n,32-e.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,n,i){const u=Ct.Buffer.concat([e.toBuffer(),Ct.Buffer.from(n),i.toBuffer()]),o=vl(u);return new wt(o)}static createProgramAddressSync(e,n){let i=Ct.Buffer.alloc(0);e.forEach(function(o){if(o.length>sw)throw new TypeError("Max seed length exceeded");i=Ct.Buffer.concat([i,$t(o)])}),i=Ct.Buffer.concat([i,n.toBuffer(),Ct.Buffer.from("ProgramDerivedAddress")]);const u=vl(i);if(Qg(u))throw new Error("Invalid seeds, address must fall off the curve");return new wt(u)}static async createProgramAddress(e,n){return this.createProgramAddressSync(e,n)}static findProgramAddressSync(e,n){let i=255,u;for(;i!=0;){try{const o=e.concat(Ct.Buffer.from([i]));u=this.createProgramAddressSync(o,n)}catch(o){if(o instanceof TypeError)throw o;i--;continue}return[u,i]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,n){return this.findProgramAddressSync(e,n)}static isOnCurve(e){const n=new wt(e);return Qg(n.toBytes())}}iw=wt;wt.default=new iw("11111111111111111111111111111111");lu.set(wt,{kind:"struct",fields:[["_bn","u256"]]});class ax{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const n=$t(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=n.slice(32,64),this._secretKey=n.slice(0,32)}else this._secretKey=$t(nx()),this._publicKey=$t(xl(this._secretKey))}get publicKey(){return new wt(this._publicKey)}get secretKey(){return Ct.Buffer.concat([this._secretKey,this._publicKey],64)}}const ox=new wt("BPFLoader1111111111111111111111111111111111"),cs=1232,jl=127,mu=64;class Q0 extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Q0.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class J0 extends Error{constructor(e,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(J0.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Ga extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Ga.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class yu{constructor(e,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=n}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const n of this.keySegments()){if(e<n.length)return n[e];e-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const i=new Map;this.keySegments().flat().forEach((o,l)=>{i.set(o.toBase58(),l)});const u=o=>{const l=i.get(o.toBase58());if(l===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return l};return e.map(o=>({programIdIndex:u(o.programId),accountKeyIndexes:o.keys.map(l=>u(l.pubkey)),data:o.data}))}}const re=(s="publicKey")=>W.blob(32,s),ux=(s="signature")=>W.blob(64,s),qs=(s="string")=>{const e=W.struct([W.u32("length"),W.u32("lengthPadding"),W.blob(W.offset(W.u32(),-8),"chars")],s),n=e.decode.bind(e),i=e.encode.bind(e),u=e;return u.decode=(o,l)=>n(o,l).chars.toString(),u.encode=(o,l,d)=>{const y={chars:Ct.Buffer.from(o,"utf8")};return i(y,l,d)},u.alloc=o=>W.u32().span+W.u32().span+Ct.Buffer.from(o,"utf8").length,u},cx=(s="authorized")=>W.struct([re("staker"),re("withdrawer")],s),lx=(s="lockup")=>W.struct([W.ns64("unixTimestamp"),W.ns64("epoch"),re("custodian")],s),fx=(s="voteInit")=>W.struct([re("nodePubkey"),re("authorizedVoter"),re("authorizedWithdrawer"),W.u8("commission")],s),dx=(s="voteAuthorizeWithSeedArgs")=>W.struct([W.u32("voteAuthorizationType"),re("currentAuthorityDerivedKeyOwnerPubkey"),qs("currentAuthorityDerivedKeySeed"),re("newAuthorized")],s);function aw(s,e){const n=u=>{if(u.span>=0)return u.span;if(typeof u.alloc=="function")return u.alloc(e[u.property]);if("count"in u&&"elementLayout"in u){const o=e[u.property];if(Array.isArray(o))return o.length*n(u.elementLayout)}else if("fields"in u)return aw({layout:u},e[u.property]);return 0};let i=0;return s.layout.fields.forEach(u=>{i+=n(u)}),i}function Fn(s){let e=0,n=0;for(;;){let i=s.shift();if(e|=(i&127)<<n*7,n+=1,(i&128)===0)break}return e}function ar(s,e){let n=e;for(;;){let i=n&127;if(n>>=7,n==0){s.push(i);break}else i|=128,s.push(i)}}function ye(s,e){if(!s)throw new Error(e||"Assertion failed")}class Pl{constructor(e,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=n}static compile(e,n){const i=new Map,u=l=>{const d=l.toBase58();let y=i.get(d);return y===void 0&&(y={isSigner:!1,isWritable:!1,isInvoked:!1},i.set(d,y)),y},o=u(n);o.isSigner=!0,o.isWritable=!0;for(const l of e){u(l.programId).isInvoked=!0;for(const d of l.keys){const y=u(d.pubkey);y.isSigner||=d.isSigner,y.isWritable||=d.isWritable}}return new Pl(n,i)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];ye(e.length<=256,"Max static account keys length exceeded");const n=e.filter(([,y])=>y.isSigner&&y.isWritable),i=e.filter(([,y])=>y.isSigner&&!y.isWritable),u=e.filter(([,y])=>!y.isSigner&&y.isWritable),o=e.filter(([,y])=>!y.isSigner&&!y.isWritable),l={numRequiredSignatures:n.length+i.length,numReadonlySignedAccounts:i.length,numReadonlyUnsignedAccounts:o.length};{ye(n.length>0,"Expected at least one writable signer key");const[y]=n[0];ye(y===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const d=[...n.map(([y])=>new wt(y)),...i.map(([y])=>new wt(y)),...u.map(([y])=>new wt(y)),...o.map(([y])=>new wt(y))];return[l,d]}extractTableLookup(e){const[n,i]=this.drainKeysFoundInLookupTable(e.state.addresses,l=>!l.isSigner&&!l.isInvoked&&l.isWritable),[u,o]=this.drainKeysFoundInLookupTable(e.state.addresses,l=>!l.isSigner&&!l.isInvoked&&!l.isWritable);if(!(n.length===0&&u.length===0))return[{accountKey:e.key,writableIndexes:n,readonlyIndexes:u},{writable:i,readonly:o}]}drainKeysFoundInLookupTable(e,n){const i=new Array,u=new Array;for(const[o,l]of this.keyMetaMap.entries())if(n(l)){const d=new wt(o),y=e.findIndex(_=>_.equals(d));y>=0&&(ye(y<256,"Max lookup table index exceeded"),i.push(y),u.push(d),this.keyMetaMap.delete(o))}return[i,u]}}const ow="Reached end of buffer unexpectedly";function Pr(s){if(s.length===0)throw new Error(ow);return s.shift()}function Zn(s,...e){const[n]=e;if(e.length===2?n+(e[1]??0)>s.length:n>=s.length)throw new Error(ow);return s.splice(...e)}class Or{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(n=>new wt(n)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:On.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new yu(this.staticAccountKeys)}static compile(e){const n=Pl.compile(e.instructions,e.payerKey),[i,u]=n.getMessageComponents(),l=new yu(u).compileInstructions(e.instructions).map(d=>({programIdIndex:d.programIdIndex,accounts:d.accountKeyIndexes,data:On.encode(d.data)}));return new Or({header:i,accountKeys:u,recentBlockhash:e.recentBlockhash,instructions:l})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const i=e-n,o=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=n-this.header.numReadonlySignedAccounts;return e<i}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,n)=>!this.isProgramId(n))}serialize(){const e=this.accountKeys.length;let n=[];ar(n,e);const i=this.instructions.map(C=>{const{accounts:k,programIdIndex:R}=C,M=Array.from(On.decode(C.data));let U=[];ar(U,k.length);let L=[];return ar(L,M.length),{programIdIndex:R,keyIndicesCount:Ct.Buffer.from(U),keyIndices:k,dataLength:Ct.Buffer.from(L),data:M}});let u=[];ar(u,i.length);let o=Ct.Buffer.alloc(cs);Ct.Buffer.from(u).copy(o);let l=u.length;i.forEach(C=>{const R=W.struct([W.u8("programIdIndex"),W.blob(C.keyIndicesCount.length,"keyIndicesCount"),W.seq(W.u8("keyIndex"),C.keyIndices.length,"keyIndices"),W.blob(C.dataLength.length,"dataLength"),W.seq(W.u8("userdatum"),C.data.length,"data")]).encode(C,o,l);l+=R}),o=o.slice(0,l);const d=W.struct([W.blob(1,"numRequiredSignatures"),W.blob(1,"numReadonlySignedAccounts"),W.blob(1,"numReadonlyUnsignedAccounts"),W.blob(n.length,"keyCount"),W.seq(re("key"),e,"keys"),re("recentBlockhash")]),y={numRequiredSignatures:Ct.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Ct.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Ct.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Ct.Buffer.from(n),keys:this.accountKeys.map(C=>$t(C.toBytes())),recentBlockhash:On.decode(this.recentBlockhash)};let _=Ct.Buffer.alloc(2048);const E=d.encode(y,_);return o.copy(_,E),_.slice(0,E+o.length)}static from(e){let n=[...e];const i=Pr(n);if(i!==(i&jl))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const u=Pr(n),o=Pr(n),l=Fn(n);let d=[];for(let k=0;k<l;k++){const R=Zn(n,0,Gr);d.push(new wt(Ct.Buffer.from(R)))}const y=Zn(n,0,Gr),_=Fn(n);let E=[];for(let k=0;k<_;k++){const R=Pr(n),M=Fn(n),U=Zn(n,0,M),L=Fn(n),j=Zn(n,0,L),G=On.encode(Ct.Buffer.from(j));E.push({programIdIndex:R,accounts:U,data:G})}const C={header:{numRequiredSignatures:i,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:o},recentBlockhash:On.encode(Ct.Buffer.from(y)),accountKeys:d,instructions:E};return new Or(C)}}class Gs{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const n of this.addressTableLookups)e+=n.readonlyIndexes.length+n.writableIndexes.length;return e}getAccountKeys(e){let n;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)n=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new yu(this.staticAccountKeys,n)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures,i=this.staticAccountKeys.length;if(e>=i){const u=e-i,o=this.addressTableLookups.reduce((l,d)=>l+d.writableIndexes.length,0);return u<o}else if(e>=this.header.numRequiredSignatures){const u=e-n,l=i-n-this.header.numReadonlyUnsignedAccounts;return u<l}else{const u=n-this.header.numReadonlySignedAccounts;return e<u}}resolveAddressTableLookups(e){const n={writable:[],readonly:[]};for(const i of this.addressTableLookups){const u=e.find(o=>o.key.equals(i.accountKey));if(!u)throw new Error(`Failed to find address lookup table account for table key ${i.accountKey.toBase58()}`);for(const o of i.writableIndexes)if(o<u.state.addresses.length)n.writable.push(u.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${i.accountKey.toBase58()}`);for(const o of i.readonlyIndexes)if(o<u.state.addresses.length)n.readonly.push(u.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${i.accountKey.toBase58()}`)}return n}static compile(e){const n=Pl.compile(e.instructions,e.payerKey),i=new Array,u={writable:new Array,readonly:new Array},o=e.addressLookupTableAccounts||[];for(const E of o){const C=n.extractTableLookup(E);if(C!==void 0){const[k,{writable:R,readonly:M}]=C;i.push(k),u.writable.push(...R),u.readonly.push(...M)}}const[l,d]=n.getMessageComponents(),_=new yu(d,u).compileInstructions(e.instructions);return new Gs({header:l,staticAccountKeys:d,recentBlockhash:e.recentBlockhash,compiledInstructions:_,addressTableLookups:i})}serialize(){const e=Array();ar(e,this.staticAccountKeys.length);const n=this.serializeInstructions(),i=Array();ar(i,this.compiledInstructions.length);const u=this.serializeAddressTableLookups(),o=Array();ar(o,this.addressTableLookups.length);const l=W.struct([W.u8("prefix"),W.struct([W.u8("numRequiredSignatures"),W.u8("numReadonlySignedAccounts"),W.u8("numReadonlyUnsignedAccounts")],"header"),W.blob(e.length,"staticAccountKeysLength"),W.seq(re(),this.staticAccountKeys.length,"staticAccountKeys"),re("recentBlockhash"),W.blob(i.length,"instructionsLength"),W.blob(n.length,"serializedInstructions"),W.blob(o.length,"addressTableLookupsLength"),W.blob(u.length,"serializedAddressTableLookups")]),d=new Uint8Array(cs),_=l.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(E=>E.toBytes()),recentBlockhash:On.decode(this.recentBlockhash),instructionsLength:new Uint8Array(i),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:u},d);return d.slice(0,_)}serializeInstructions(){let e=0;const n=new Uint8Array(cs);for(const i of this.compiledInstructions){const u=Array();ar(u,i.accountKeyIndexes.length);const o=Array();ar(o,i.data.length);const l=W.struct([W.u8("programIdIndex"),W.blob(u.length,"encodedAccountKeyIndexesLength"),W.seq(W.u8(),i.accountKeyIndexes.length,"accountKeyIndexes"),W.blob(o.length,"encodedDataLength"),W.blob(i.data.length,"data")]);e+=l.encode({programIdIndex:i.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(u),accountKeyIndexes:i.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:i.data},n,e)}return n.slice(0,e)}serializeAddressTableLookups(){let e=0;const n=new Uint8Array(cs);for(const i of this.addressTableLookups){const u=Array();ar(u,i.writableIndexes.length);const o=Array();ar(o,i.readonlyIndexes.length);const l=W.struct([re("accountKey"),W.blob(u.length,"encodedWritableIndexesLength"),W.seq(W.u8(),i.writableIndexes.length,"writableIndexes"),W.blob(o.length,"encodedReadonlyIndexesLength"),W.seq(W.u8(),i.readonlyIndexes.length,"readonlyIndexes")]);e+=l.encode({accountKey:i.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(u),writableIndexes:i.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:i.readonlyIndexes},n,e)}return n.slice(0,e)}static deserialize(e){let n=[...e];const i=Pr(n),u=i&jl;ye(i!==u,"Expected versioned message but received legacy message");const o=u;ye(o===0,`Expected versioned message with version 0 but found version ${o}`);const l={numRequiredSignatures:Pr(n),numReadonlySignedAccounts:Pr(n),numReadonlyUnsignedAccounts:Pr(n)},d=[],y=Fn(n);for(let M=0;M<y;M++)d.push(new wt(Zn(n,0,Gr)));const _=On.encode(Zn(n,0,Gr)),E=Fn(n),C=[];for(let M=0;M<E;M++){const U=Pr(n),L=Fn(n),j=Zn(n,0,L),G=Fn(n),P=new Uint8Array(Zn(n,0,G));C.push({programIdIndex:U,accountKeyIndexes:j,data:P})}const k=Fn(n),R=[];for(let M=0;M<k;M++){const U=new wt(Zn(n,0,Gr)),L=Fn(n),j=Zn(n,0,L),G=Fn(n),P=Zn(n,0,G);R.push({accountKey:U,writableIndexes:j,readonlyIndexes:P})}return new Gs({header:l,staticAccountKeys:d,recentBlockhash:_,compiledInstructions:C,addressTableLookups:R})}}const tp={deserializeMessageVersion(s){const e=s[0],n=e&jl;return n===e?"legacy":n},deserialize:s=>{const e=tp.deserializeMessageVersion(s);if(e==="legacy")return Or.from(s);if(e===0)return Gs.deserialize(s);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let bi=(function(s){return s[s.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",s[s.PROCESSED=1]="PROCESSED",s[s.TIMED_OUT=2]="TIMED_OUT",s[s.NONCE_INVALID=3]="NONCE_INVALID",s})({});const hx=Ct.Buffer.alloc(mu).fill(0);class Ee{constructor(e){this.keys=void 0,this.programId=void 0,this.data=Ct.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:n,isWritable:i})=>({pubkey:e.toJSON(),isSigner:n,isWritable:i})),programId:this.programId.toJSON(),data:[...this.data]}}}class he{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:n,nonceInfo:i}=e;this.minNonceContextSlot=n,this.nonceInfo=i}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:i}=e;this.recentBlockhash=n,this.lastValidBlockHeight=i}else{const{recentBlockhash:n,nonceInfo:i}=e;i&&(this.nonceInfo=i),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new Ee(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(e=this.recentBlockhash,n=this.instructions),!e)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let i;if(this.feePayer)i=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)i=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let U=0;U<n.length;U++)if(n[U].programId===void 0)throw new Error(`Transaction instruction index ${U} has undefined program id`);const u=[],o=[];n.forEach(U=>{U.keys.forEach(j=>{o.push({...j})});const L=U.programId.toString();u.includes(L)||u.push(L)}),u.forEach(U=>{o.push({pubkey:new wt(U),isSigner:!1,isWritable:!1})});const l=[];o.forEach(U=>{const L=U.pubkey.toString(),j=l.findIndex(G=>G.pubkey.toString()===L);j>-1?(l[j].isWritable=l[j].isWritable||U.isWritable,l[j].isSigner=l[j].isSigner||U.isSigner):l.push(U)}),l.sort(function(U,L){if(U.isSigner!==L.isSigner)return U.isSigner?-1:1;if(U.isWritable!==L.isWritable)return U.isWritable?-1:1;const j={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return U.pubkey.toBase58().localeCompare(L.pubkey.toBase58(),"en",j)});const d=l.findIndex(U=>U.pubkey.equals(i));if(d>-1){const[U]=l.splice(d,1);U.isSigner=!0,U.isWritable=!0,l.unshift(U)}else l.unshift({pubkey:i,isSigner:!0,isWritable:!0});for(const U of this.signatures){const L=l.findIndex(j=>j.pubkey.equals(U.publicKey));if(L>-1)l[L].isSigner||(l[L].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${U.publicKey.toString()}`)}let y=0,_=0,E=0;const C=[],k=[];l.forEach(({pubkey:U,isSigner:L,isWritable:j})=>{L?(C.push(U.toString()),y+=1,j||(_+=1)):(k.push(U.toString()),j||(E+=1))});const R=C.concat(k),M=n.map(U=>{const{data:L,programId:j}=U;return{programIdIndex:R.indexOf(j.toString()),accounts:U.keys.map(G=>R.indexOf(G.pubkey.toString())),data:On.encode(L)}});return M.forEach(U=>{ye(U.programIdIndex>=0),U.accounts.forEach(L=>ye(L>=0))}),new Or({header:{numRequiredSignatures:y,numReadonlySignedAccounts:_,numReadonlyUnsignedAccounts:E},accountKeys:R,recentBlockhash:e,instructions:M})}_compile(){const e=this.compileMessage(),n=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((u,o)=>n[o].equals(u.publicKey))||(this.signatures=n.map(i=>({signature:null,publicKey:i}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const n=new Set;this.signatures=e.filter(i=>{const u=i.toString();return n.has(u)?!1:(n.add(u),!0)}).map(i=>({signature:null,publicKey:i}))}sign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,i=[];for(const o of e){const l=o.publicKey.toString();n.has(l)||(n.add(l),i.push(o))}this.signatures=i.map(o=>({signature:null,publicKey:o.publicKey}));const u=this._compile();this._partialSign(u,...i)}partialSign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,i=[];for(const o of e){const l=o.publicKey.toString();n.has(l)||(n.add(l),i.push(o))}const u=this._compile();this._partialSign(u,...i)}_partialSign(e,...n){const i=e.serialize();n.forEach(u=>{const o=$0(i,u.secretKey);this._addSignature(u.publicKey,$t(o))})}addSignature(e,n){this._compile(),this._addSignature(e,n)}_addSignature(e,n){ye(n.length===64);const i=this.signatures.findIndex(u=>e.equals(u.publicKey));if(i<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[i].signature=Ct.Buffer.from(n)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,n){const i={};for(const{signature:u,publicKey:o}of this.signatures)u===null?n&&(i.missing||=[]).push(o):rx(u,e,o.toBytes())||(i.invalid||=[]).push(o);return i.invalid||i.missing?i:void 0}serialize(e){const{requireAllSignatures:n,verifySignatures:i}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),u=this.serializeMessage();if(i){const o=this._getMessageSignednessErrors(u,n);if(o){let l="Signature verification failed.";throw o.invalid&&(l+=`
Invalid signature for public key${o.invalid.length===1?"":"(s)"} [\`${o.invalid.map(d=>d.toBase58()).join("`, `")}\`].`),o.missing&&(l+=`
Missing signature for public key${o.missing.length===1?"":"(s)"} [\`${o.missing.map(d=>d.toBase58()).join("`, `")}\`].`),new Error(l)}}return this._serialize(u)}_serialize(e){const{signatures:n}=this,i=[];ar(i,n.length);const u=i.length+n.length*64+e.length,o=Ct.Buffer.alloc(u);return ye(n.length<256),Ct.Buffer.from(i).copy(o,0),n.forEach(({signature:l},d)=>{l!==null&&(ye(l.length===64,"signature has invalid length"),Ct.Buffer.from(l).copy(o,i.length+d*64))}),e.copy(o,i.length+n.length*64),ye(o.length<=cs,`Transaction too large: ${o.length} > ${cs}`),o}get keys(){return ye(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return ye(this.instructions.length===1),this.instructions[0].programId}get data(){return ye(this.instructions.length===1),this.instructions[0].data}static from(e){let n=[...e];const i=Fn(n);let u=[];for(let o=0;o<i;o++){const l=Zn(n,0,mu);u.push(On.encode(Ct.Buffer.from(l)))}return he.populate(Or.from(n),u)}static populate(e,n=[]){const i=new he;return i.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(i.feePayer=e.accountKeys[0]),n.forEach((u,o)=>{const l={signature:u==On.encode(hx)?null:On.decode(u),publicKey:e.accountKeys[o]};i.signatures.push(l)}),e.instructions.forEach(u=>{const o=u.accounts.map(l=>{const d=e.accountKeys[l];return{pubkey:d,isSigner:i.signatures.some(y=>y.publicKey.toString()===d.toString())||e.isAccountSigner(l),isWritable:e.isAccountWritable(l)}});i.instructions.push(new Ee({keys:o,programId:e.accountKeys[u.programIdIndex],data:On.decode(u.data)}))}),i._message=e,i._json=i.toJSON(),i}}class ep{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,n){const{header:i,compiledInstructions:u,recentBlockhash:o}=e,{numRequiredSignatures:l,numReadonlySignedAccounts:d,numReadonlyUnsignedAccounts:y}=i,_=l-d;ye(_>0,"Message header is invalid");const E=e.staticAccountKeys.length-l-y;ye(E>=0,"Message header is invalid");const C=e.getAccountKeys(n),k=C.get(0);if(k===void 0)throw new Error("Failed to decompile message because no account keys were found");const R=[];for(const M of u){const U=[];for(const j of M.accountKeyIndexes){const G=C.get(j);if(G===void 0)throw new Error(`Failed to find key for account key index ${j}`);const P=j<l;let $;P?$=j<_:j<C.staticAccountKeys.length?$=j-l<E:$=j-C.staticAccountKeys.length<C.accountKeysFromLookups.writable.length,U.push({pubkey:G,isSigner:j<i.numRequiredSignatures,isWritable:$})}const L=C.get(M.programIdIndex);if(L===void 0)throw new Error(`Failed to find program id for program id index ${M.programIdIndex}`);R.push(new Ee({programId:L,data:$t(M.data),keys:U}))}return new ep({payerKey:k,instructions:R,recentBlockhash:o})}compileToLegacyMessage(){return Or.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return Gs.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class np{get version(){return this.message.version}constructor(e,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)ye(n.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const i=[];for(let u=0;u<e.header.numRequiredSignatures;u++)i.push(new Uint8Array(mu));this.signatures=i}this.message=e}serialize(){const e=this.message.serialize(),n=Array();ar(n,this.signatures.length);const i=W.struct([W.blob(n.length,"encodedSignaturesLength"),W.seq(ux(),this.signatures.length,"signatures"),W.blob(e.length,"serializedMessage")]),u=new Uint8Array(2048),o=i.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:e},u);return u.slice(0,o)}static deserialize(e){let n=[...e];const i=[],u=Fn(n);for(let l=0;l<u;l++)i.push(new Uint8Array(Zn(n,0,mu)));const o=tp.deserialize(new Uint8Array(n));return new np(o,i)}sign(e){const n=this.message.serialize(),i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const u of e){const o=i.findIndex(l=>l.equals(u.publicKey));ye(o>=0,`Cannot sign with non signer key ${u.publicKey.toBase58()}`),this.signatures[o]=$0(n,u.secretKey)}}addSignature(e,n){ye(n.byteLength===64,"Signature must be 64 bytes long");const u=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(o=>o.equals(e));ye(u>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[u]=n}}const px=160,mx=64,yx=px/mx,uw=1e3/yx,qr=new wt("SysvarC1ock11111111111111111111111111111111"),gx=new wt("SysvarEpochSchedu1e111111111111111111111111"),bx=new wt("Sysvar1nstructions1111111111111111111111111"),hl=new wt("SysvarRecentB1ockHashes11111111111111111111"),eo=new wt("SysvarRent111111111111111111111111111111111"),_x=new wt("SysvarRewards111111111111111111111111111111"),wx=new wt("SysvarS1otHashes111111111111111111111111111"),vx=new wt("SysvarS1otHistory11111111111111111111111111"),pl=new wt("SysvarStakeHistory1111111111111111111111111");class hs extends Error{constructor({action:e,signature:n,transactionMessage:i,logs:u}){const o=u?`Logs: 
${JSON.stringify(u.slice(-10),null,2)}. `:"",l="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let d;switch(e){case"send":d=`Transaction ${n} resulted in an error. 
${i}. `+o+l;break;case"simulate":d=`Simulation failed. 
Message: ${i}. 
`+o+l;break;default:d=`Unknown action '${(y=>y)(e)}'`}super(d),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=n,this.transactionMessage=i,this.transactionLogs=u||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((n,i)=>{e.getTransaction(this.signature).then(u=>{if(u&&u.meta&&u.meta.logMessages){const o=u.meta.logMessages;this.transactionLogs=o,n(o)}else i(new Error("Log messages not found"))}).catch(i)})),await this.transactionLogs}}const Ex={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class Ut extends Error{constructor({code:e,message:n,data:i},u){super(u!=null?`${u}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=e,this.data=i,this.name="SolanaJSONRPCError"}}async function h0(s,e,n,i){const u=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,maxRetries:i.maxRetries,minContextSlot:i.minContextSlot},o=await s.sendTransaction(e,n,u);let l;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)l=(await s.confirmTransaction({abortSignal:i?.abortSignal,signature:o,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},i&&i.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:d}=e.nonceInfo,y=d.keys[0].pubkey;l=(await s.confirmTransaction({abortSignal:i?.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:y,nonceValue:e.nonceInfo.nonce,signature:o},i&&i.commitment)).value}else i?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),l=(await s.confirmTransaction(o,i&&i.commitment)).value;if(l.err)throw o!=null?new hs({action:"send",signature:o,transactionMessage:`Status: (${JSON.stringify(l)})`}):new Error(`Transaction ${o} failed (${JSON.stringify(l)})`);return o}function Ls(s){return new Promise(e=>setTimeout(e,s))}function fe(s,e){const n=s.layout.span>=0?s.layout.span:aw(s,e),i=Ct.Buffer.alloc(n),u=Object.assign({instruction:s.index},e);return s.layout.encode(u,i),i}function be(s,e){let n;try{n=s.layout.decode(e)}catch(i){throw new Error("invalid instruction; "+i)}if(n.instruction!==s.index)throw new Error(`invalid instruction; instruction index mismatch ${n.instruction} != ${s.index}`);return n}const cw=W.nu64("lamportsPerSignature"),lw=W.struct([W.u32("version"),W.u32("state"),re("authorizedPubkey"),re("nonce"),W.struct([cw],"feeCalculator")]),p0=lw.span;class Kl{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const n=lw.decode($t(e),0);return new Kl({authorizedPubkey:new wt(n.authorizedPubkey),nonce:new wt(n.nonce).toString(),feeCalculator:n.feeCalculator})}}function no(s){const e=W.blob(8,s),n=e.decode.bind(e),i=e.encode.bind(e),u=e,o=W2();return u.decode=(l,d)=>{const y=n(l,d);return o.decode(y)},u.encode=(l,d,y)=>{const _=o.encode(l);return i(_,d,y)},u}class Sx{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const i=W.u32("instruction").decode(e.data);let u;for(const[o,l]of Object.entries(Ie))if(l.index==i){u=o;break}if(!u)throw new Error("Instruction type incorrect; not a SystemInstruction");return u}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:n,space:i,programId:u}=be(Ie.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:n,space:i,programId:new wt(u)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:n}=be(Ie.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:n}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:n,seed:i,programId:u}=be(Ie.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:n,seed:i,programId:new wt(u)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:n}=be(Ie.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:n}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:n,seed:i,space:u,programId:o}=be(Ie.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new wt(n),seed:i,space:u,programId:new wt(o)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:n}=be(Ie.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new wt(n)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:n,seed:i,programId:u}=be(Ie.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new wt(n),seed:i,programId:new wt(u)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:n,seed:i,lamports:u,space:o,programId:l}=be(Ie.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new wt(n),seed:i,lamports:u,space:o,programId:new wt(l)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:n}=be(Ie.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new wt(n)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),be(Ie.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:n}=be(Ie.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:n}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:n}=be(Ie.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new wt(n)}}static checkProgramId(e){if(!e.equals(mn.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}const Ie=Object.freeze({Create:{index:0,layout:W.struct([W.u32("instruction"),W.ns64("lamports"),W.ns64("space"),re("programId")])},Assign:{index:1,layout:W.struct([W.u32("instruction"),re("programId")])},Transfer:{index:2,layout:W.struct([W.u32("instruction"),no("lamports")])},CreateWithSeed:{index:3,layout:W.struct([W.u32("instruction"),re("base"),qs("seed"),W.ns64("lamports"),W.ns64("space"),re("programId")])},AdvanceNonceAccount:{index:4,layout:W.struct([W.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:W.struct([W.u32("instruction"),W.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:W.struct([W.u32("instruction"),re("authorized")])},AuthorizeNonceAccount:{index:7,layout:W.struct([W.u32("instruction"),re("authorized")])},Allocate:{index:8,layout:W.struct([W.u32("instruction"),W.ns64("space")])},AllocateWithSeed:{index:9,layout:W.struct([W.u32("instruction"),re("base"),qs("seed"),W.ns64("space"),re("programId")])},AssignWithSeed:{index:10,layout:W.struct([W.u32("instruction"),re("base"),qs("seed"),re("programId")])},TransferWithSeed:{index:11,layout:W.struct([W.u32("instruction"),no("lamports"),qs("seed"),re("programId")])},UpgradeNonceAccount:{index:12,layout:W.struct([W.u32("instruction")])}});class mn{constructor(){}static createAccount(e){const n=Ie.Create,i=fe(n,{lamports:e.lamports,space:e.space,programId:$t(e.programId.toBuffer())});return new Ee({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:i})}static transfer(e){let n,i;if("basePubkey"in e){const u=Ie.TransferWithSeed;n=fe(u,{lamports:BigInt(e.lamports),seed:e.seed,programId:$t(e.programId.toBuffer())}),i=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const u=Ie.Transfer;n=fe(u,{lamports:BigInt(e.lamports)}),i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Ee({keys:i,programId:this.programId,data:n})}static assign(e){let n,i;if("basePubkey"in e){const u=Ie.AssignWithSeed;n=fe(u,{base:$t(e.basePubkey.toBuffer()),seed:e.seed,programId:$t(e.programId.toBuffer())}),i=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const u=Ie.Assign;n=fe(u,{programId:$t(e.programId.toBuffer())}),i=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Ee({keys:i,programId:this.programId,data:n})}static createAccountWithSeed(e){const n=Ie.CreateWithSeed,i=fe(n,{base:$t(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:$t(e.programId.toBuffer())});let u=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||u.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Ee({keys:u,programId:this.programId,data:i})}static createNonceAccount(e){const n=new he;"basePubkey"in e&&"seed"in e?n.add(mn.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:p0,programId:this.programId})):n.add(mn.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:p0,programId:this.programId}));const i={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return n.add(this.nonceInitialize(i)),n}static nonceInitialize(e){const n=Ie.InitializeNonceAccount,i=fe(n,{authorized:$t(e.authorizedPubkey.toBuffer())}),u={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:hl,isSigner:!1,isWritable:!1},{pubkey:eo,isSigner:!1,isWritable:!1}],programId:this.programId,data:i};return new Ee(u)}static nonceAdvance(e){const n=Ie.AdvanceNonceAccount,i=fe(n),u={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:hl,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new Ee(u)}static nonceWithdraw(e){const n=Ie.WithdrawNonceAccount,i=fe(n,{lamports:e.lamports});return new Ee({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:hl,isSigner:!1,isWritable:!1},{pubkey:eo,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static nonceAuthorize(e){const n=Ie.AuthorizeNonceAccount,i=fe(n,{authorized:$t(e.newAuthorizedPubkey.toBuffer())});return new Ee({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static allocate(e){let n,i;if("basePubkey"in e){const u=Ie.AllocateWithSeed;n=fe(u,{base:$t(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:$t(e.programId.toBuffer())}),i=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const u=Ie.Allocate;n=fe(u,{space:e.space}),i=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Ee({keys:i,programId:this.programId,data:n})}}mn.programId=new wt("11111111111111111111111111111111");const Ax=cs-300;class Ys{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/Ys.chunkSize)+1+1)}static async load(e,n,i,u,o){{const C=await e.getMinimumBalanceForRentExemption(o.length),k=await e.getAccountInfo(i.publicKey,"confirmed");let R=null;if(k!==null){if(k.executable)return console.error("Program load failed, account is already executable"),!1;k.data.length!==o.length&&(R=R||new he,R.add(mn.allocate({accountPubkey:i.publicKey,space:o.length}))),k.owner.equals(u)||(R=R||new he,R.add(mn.assign({accountPubkey:i.publicKey,programId:u}))),k.lamports<C&&(R=R||new he,R.add(mn.transfer({fromPubkey:n.publicKey,toPubkey:i.publicKey,lamports:C-k.lamports})))}else R=new he().add(mn.createAccount({fromPubkey:n.publicKey,newAccountPubkey:i.publicKey,lamports:C>0?C:1,space:o.length,programId:u}));R!==null&&await h0(e,R,[n,i],{commitment:"confirmed"})}const l=W.struct([W.u32("instruction"),W.u32("offset"),W.u32("bytesLength"),W.u32("bytesLengthPadding"),W.seq(W.u8("byte"),W.offset(W.u32(),-8),"bytes")]),d=Ys.chunkSize;let y=0,_=o,E=[];for(;_.length>0;){const C=_.slice(0,d),k=Ct.Buffer.alloc(d+16);l.encode({instruction:0,offset:y,bytes:C,bytesLength:0,bytesLengthPadding:0},k);const R=new he().add({keys:[{pubkey:i.publicKey,isSigner:!0,isWritable:!0}],programId:u,data:k});E.push(h0(e,R,[n,i],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await Ls(1e3/4),y+=d,_=_.slice(d)}await Promise.all(E);{const C=W.struct([W.u32("instruction")]),k=Ct.Buffer.alloc(C.span);C.encode({instruction:1},k);const R=new he().add({keys:[{pubkey:i.publicKey,isSigner:!0,isWritable:!0},{pubkey:eo,isSigner:!1,isWritable:!1}],programId:u,data:k}),M="processed",U=await e.sendTransaction(R,[n,i],{preflightCommitment:M}),{context:L,value:j}=await e.confirmTransaction({signature:U,lastValidBlockHeight:R.lastValidBlockHeight,blockhash:R.recentBlockhash},M);if(j.err)throw new Error(`Transaction ${U} failed (${JSON.stringify(j)})`);for(;;){try{if(await e.getSlot({commitment:M})>L.slot)break}catch{}await new Promise(G=>setTimeout(G,Math.round(uw/2)))}}return!0}}Ys.chunkSize=Ax;const Rx=new wt("BPFLoader2111111111111111111111111111111111");class Tx{static getMinNumSignatures(e){return Ys.getMinNumSignatures(e)}static load(e,n,i,u,o){return Ys.load(e,n,i,o,u)}}function xx(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var zh,tb;function Ox(){if(tb)return zh;tb=1;var s=Object.prototype.toString,e=Object.keys||function(i){var u=[];for(var o in i)u.push(o);return u};function n(i,u){var o,l,d,y,_,E,C;if(i===!0)return"true";if(i===!1)return"false";switch(typeof i){case"object":if(i===null)return null;if(i.toJSON&&typeof i.toJSON=="function")return n(i.toJSON(),u);if(C=s.call(i),C==="[object Array]"){for(d="[",l=i.length-1,o=0;o<l;o++)d+=n(i[o],!0)+",";return l>-1&&(d+=n(i[o],!0)),d+"]"}else if(C==="[object Object]"){for(y=e(i).sort(),l=y.length,d="",o=0;o<l;)_=y[o],E=n(i[_],!1),E!==void 0&&(d&&(d+=","),d+=JSON.stringify(_)+":"+E),o++;return"{"+d+"}"}else return JSON.stringify(i);case"function":case"undefined":return u?null:void 0;case"string":return JSON.stringify(i);default:return isFinite(i)?i:null}}return zh=function(i){var u=n(i,!1);if(u!==void 0)return""+u},zh}var Nx=Ox(),eb=xx(Nx);const au=32;function Hh(s){let e=0;for(;s>1;)s/=2,e++;return e}function kx(s){return s===0?1:(s--,s|=s>>1,s|=s>>2,s|=s>>4,s|=s>>8,s|=s>>16,s|=s>>32,s+1)}class fw{constructor(e,n,i,u,o){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=n,this.warmup=i,this.firstNormalEpoch=u,this.firstNormalSlot=o}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const n=Hh(kx(e+au+1))-Hh(au)-1,i=this.getSlotsInEpoch(n),u=e-(i-au);return[n,u]}else{const n=e-this.firstNormalSlot,i=Math.floor(n/this.slotsPerEpoch),u=this.firstNormalEpoch+i,o=n%this.slotsPerEpoch;return[u,o]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*au:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+Hh(au)):this.slotsPerEpoch}}var Cx=globalThis.fetch;class Ix extends BT{constructor(e,n,i){const u=o=>{const l=CT(o,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in l?this.underlyingSocket=l.socket:this.underlyingSocket=l,l};super(u,e,n,i),this.underlyingSocket=void 0}call(...e){const n=this.underlyingSocket?.readyState;return n===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...e){const n=this.underlyingSocket?.readyState;return n===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}}function Bx(s,e){let n;try{n=s.layout.decode(e)}catch(i){throw new Error("invalid instruction; "+i)}if(n.typeIndex!==s.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${s.index}`);return n}const nb=56;class m0{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const n=Bx(Mx,e),i=e.length-nb;ye(i>=0,"lookup table is invalid"),ye(i%32===0,"lookup table is invalid");const u=i/32,{addresses:o}=W.struct([W.seq(re(),u,"addresses")]).decode(e.slice(nb));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new wt(n.authority[0]):void 0,addresses:o.map(l=>new wt(l))}}}const Mx={index:1,layout:W.struct([W.u32("typeIndex"),no("deactivationSlot"),W.nu64("lastExtendedSlot"),W.u8("lastExtendedStartIndex"),W.u8(),W.seq(re(),W.offset(W.u8(),-1),"authority")])},Ux=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function Lx(s){const e=s.match(Ux);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${s}\``);const[n,i,u,o]=e,l=s.startsWith("https:")?"wss:":"ws:",d=u==null?null:parseInt(u.slice(1),10),y=d==null?"":`:${d+1}`;return`${l}//${i}${y}${o}`}const $e=Tu(G0(wt),At(),s=>new wt(s)),dw=Y0([At(),Xe("base64")]),rp=Tu(G0(Ct.Buffer),dw,s=>Ct.Buffer.from(s[0],"base64")),hw=30*1e3;function Dx(s){if(/^https?:/.test(s)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return s}function Ce(s){let e,n;if(typeof s=="string")e=s;else if(s){const{commitment:i,...u}=s;e=i,n=u}return{commitment:e,config:n}}function rb(s){return s.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function pw(s){return qn([St({jsonrpc:Xe("2.0"),id:At(),result:s}),St({jsonrpc:Xe("2.0"),id:At(),error:St({code:ao(),message:At(),data:zt(rT())})})])}const zx=pw(ao());function Xt(s){return Tu(pw(s),zx,e=>"error"in e?e:{...e,result:Rt(e.result,s)})}function cn(s){return Xt(St({context:St({slot:ct()}),value:s}))}function Vl(s){return St({context:St({slot:ct()}),value:s})}function qh(s,e){return s===0?new Gs({header:e.header,staticAccountKeys:e.accountKeys.map(n=>new wt(n)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:On.decode(n.data)})),addressTableLookups:e.addressTableLookups}):new Or(e)}const Hx=St({foundation:ct(),foundationTerm:ct(),initial:ct(),taper:ct(),terminal:ct()}),qx=Xt(xt(Ot(St({epoch:ct(),effectiveSlot:ct(),amount:ct(),postBalance:ct(),commission:zt(Ot(ct()))})))),jx=xt(St({slot:ct(),prioritizationFee:ct()})),Px=St({total:ct(),validator:ct(),foundation:ct(),epoch:ct()}),Kx=St({epoch:ct(),slotIndex:ct(),slotsInEpoch:ct(),absoluteSlot:ct(),blockHeight:zt(ct()),transactionCount:zt(ct())}),Vx=St({slotsPerEpoch:ct(),leaderScheduleSlotOffset:ct(),warmup:Yr(),firstNormalEpoch:ct(),firstNormalSlot:ct()}),Gx=P_(At(),xt(ct())),$s=Ot(qn([St({}),At()])),Yx=St({err:$s}),Fx=Xe("receivedSignature"),Zx=St({"solana-core":At(),"feature-set":zt(ct())}),Xx=St({program:At(),programId:$e,parsed:ao()}),$x=St({programId:$e,accounts:xt($e),data:At()}),ib=cn(St({err:Ot(qn([St({}),At()])),logs:Ot(xt(At())),accounts:zt(Ot(xt(Ot(St({executable:Yr(),owner:At(),lamports:ct(),data:xt(At()),rentEpoch:zt(ct())}))))),unitsConsumed:zt(ct()),returnData:zt(Ot(St({programId:At(),data:Y0([At(),Xe("base64")])}))),innerInstructions:zt(Ot(xt(St({index:ct(),instructions:xt(qn([Xx,$x]))}))))})),Wx=cn(St({byIdentity:P_(At(),xt(ct())),range:St({firstSlot:ct(),lastSlot:ct()})}));function Qx(s,e,n,i,u,o){const l=n||Cx;let d;o!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let y;return i&&(y=async(E,C)=>{const k=await new Promise((R,M)=>{try{i(E,C,(U,L)=>R([U,L]))}catch(U){M(U)}});return await l(...k)}),new xT(async(E,C)=>{const k={method:"POST",body:E,agent:d,headers:Object.assign({"Content-Type":"application/json"},e||{},QO)};try{let R=5,M,U=500;for(;y?M=await y(s,k):M=await l(s,k),!(M.status!==429||u===!0||(R-=1,R===0));)console.error(`Server responded with ${M.status} ${M.statusText}.  Retrying after ${U}ms delay...`),await Ls(U),U*=2;const L=await M.text();M.ok?C(null,L):C(new Error(`${M.status} ${M.statusText}: ${L}`))}catch(R){R instanceof Error&&C(R)}},{})}function Jx(s){return(e,n)=>new Promise((i,u)=>{s.request(e,n,(o,l)=>{if(o){u(o);return}i(l)})})}function tO(s){return e=>new Promise((n,i)=>{e.length===0&&n([]);const u=e.map(o=>s.request(o.methodName,o.args));s.request(u,(o,l)=>{if(o){i(o);return}n(l)})})}const eO=Xt(Hx),nO=Xt(Px),rO=Xt(jx),iO=Xt(Kx),sO=Xt(Vx),aO=Xt(Gx),oO=Xt(ct()),uO=cn(St({total:ct(),circulating:ct(),nonCirculating:ct(),nonCirculatingAccounts:xt($e)})),y0=St({amount:At(),uiAmount:Ot(ct()),decimals:ct(),uiAmountString:zt(At())}),cO=cn(xt(St({address:$e,amount:At(),uiAmount:Ot(ct()),decimals:ct(),uiAmountString:zt(At())}))),lO=cn(xt(St({pubkey:$e,account:St({executable:Yr(),owner:$e,lamports:ct(),data:rp,rentEpoch:ct()})}))),g0=St({program:At(),parsed:ao(),space:ct()}),fO=cn(xt(St({pubkey:$e,account:St({executable:Yr(),owner:$e,lamports:ct(),data:g0,rentEpoch:ct()})}))),dO=cn(xt(St({lamports:ct(),address:$e}))),gu=St({executable:Yr(),owner:$e,lamports:ct(),data:rp,rentEpoch:ct()}),hO=St({pubkey:$e,account:gu}),pO=Tu(qn([G0(Ct.Buffer),g0]),qn([dw,g0]),s=>Array.isArray(s)?Rt(s,rp):s),b0=St({executable:Yr(),owner:$e,lamports:ct(),data:pO,rentEpoch:ct()}),mO=St({pubkey:$e,account:b0}),yO=St({state:qn([Xe("active"),Xe("inactive"),Xe("activating"),Xe("deactivating")]),active:ct(),inactive:ct()}),gO=Xt(xt(St({signature:At(),slot:ct(),err:$s,memo:Ot(At()),blockTime:zt(Ot(ct()))}))),bO=Xt(xt(St({signature:At(),slot:ct(),err:$s,memo:Ot(At()),blockTime:zt(Ot(ct()))}))),_O=St({subscription:ct(),result:Vl(gu)}),wO=St({pubkey:$e,account:gu}),vO=St({subscription:ct(),result:Vl(wO)}),EO=St({parent:ct(),slot:ct(),root:ct()}),SO=St({subscription:ct(),result:EO}),AO=qn([St({type:qn([Xe("firstShredReceived"),Xe("completed"),Xe("optimisticConfirmation"),Xe("root")]),slot:ct(),timestamp:ct()}),St({type:Xe("createdBank"),parent:ct(),slot:ct(),timestamp:ct()}),St({type:Xe("frozen"),slot:ct(),timestamp:ct(),stats:St({numTransactionEntries:ct(),numSuccessfulTransactions:ct(),numFailedTransactions:ct(),maxTransactionsPerEntry:ct()})}),St({type:Xe("dead"),slot:ct(),timestamp:ct(),err:At()})]),RO=St({subscription:ct(),result:AO}),TO=St({subscription:ct(),result:Vl(qn([Yx,Fx]))}),xO=St({subscription:ct(),result:ct()}),OO=St({pubkey:At(),gossip:Ot(At()),tpu:Ot(At()),rpc:Ot(At()),version:Ot(At())}),sb=St({votePubkey:At(),nodePubkey:At(),activatedStake:ct(),epochVoteAccount:Yr(),epochCredits:xt(Y0([ct(),ct(),ct()])),commission:ct(),lastVote:ct(),rootSlot:Ot(ct())}),NO=Xt(St({current:xt(sb),delinquent:xt(sb)})),kO=qn([Xe("processed"),Xe("confirmed"),Xe("finalized")]),CO=St({slot:ct(),confirmations:Ot(ct()),err:$s,confirmationStatus:zt(kO)}),IO=cn(xt(Ot(CO))),BO=Xt(ct()),mw=St({accountKey:$e,writableIndexes:xt(ct()),readonlyIndexes:xt(ct())}),ip=St({signatures:xt(At()),message:St({accountKeys:xt(At()),header:St({numRequiredSignatures:ct(),numReadonlySignedAccounts:ct(),numReadonlyUnsignedAccounts:ct()}),instructions:xt(St({accounts:xt(ct()),data:At(),programIdIndex:ct()})),recentBlockhash:At(),addressTableLookups:zt(xt(mw))})}),yw=St({pubkey:$e,signer:Yr(),writable:Yr(),source:zt(qn([Xe("transaction"),Xe("lookupTable")]))}),gw=St({accountKeys:xt(yw),signatures:xt(At())}),bw=St({parsed:ao(),program:At(),programId:$e}),_w=St({accounts:xt($e),data:At(),programId:$e}),MO=qn([_w,bw]),UO=qn([St({parsed:ao(),program:At(),programId:At()}),St({accounts:xt(At()),data:At(),programId:At()})]),ww=Tu(MO,UO,s=>"accounts"in s?Rt(s,_w):Rt(s,bw)),vw=St({signatures:xt(At()),message:St({accountKeys:xt(yw),instructions:xt(ww),recentBlockhash:At(),addressTableLookups:zt(Ot(xt(mw)))})}),Ol=St({accountIndex:ct(),mint:At(),owner:zt(At()),programId:zt(At()),uiTokenAmount:y0}),Ew=St({writable:xt($e),readonly:xt($e)}),Gl=St({err:$s,fee:ct(),innerInstructions:zt(Ot(xt(St({index:ct(),instructions:xt(St({accounts:xt(ct()),data:At(),programIdIndex:ct()}))})))),preBalances:xt(ct()),postBalances:xt(ct()),logMessages:zt(Ot(xt(At()))),preTokenBalances:zt(Ot(xt(Ol))),postTokenBalances:zt(Ot(xt(Ol))),loadedAddresses:zt(Ew),computeUnitsConsumed:zt(ct()),costUnits:zt(ct())}),sp=St({err:$s,fee:ct(),innerInstructions:zt(Ot(xt(St({index:ct(),instructions:xt(ww)})))),preBalances:xt(ct()),postBalances:xt(ct()),logMessages:zt(Ot(xt(At()))),preTokenBalances:zt(Ot(xt(Ol))),postTokenBalances:zt(Ot(xt(Ol))),loadedAddresses:zt(Ew),computeUnitsConsumed:zt(ct()),costUnits:zt(ct())}),oo=qn([Xe(0),Xe("legacy")]),Ws=St({pubkey:At(),lamports:ct(),postBalance:Ot(ct()),rewardType:Ot(At()),commission:zt(Ot(ct()))}),LO=Xt(Ot(St({blockhash:At(),previousBlockhash:At(),parentSlot:ct(),transactions:xt(St({transaction:ip,meta:Ot(Gl),version:zt(oo)})),rewards:zt(xt(Ws)),blockTime:Ot(ct()),blockHeight:Ot(ct())}))),DO=Xt(Ot(St({blockhash:At(),previousBlockhash:At(),parentSlot:ct(),rewards:zt(xt(Ws)),blockTime:Ot(ct()),blockHeight:Ot(ct())}))),zO=Xt(Ot(St({blockhash:At(),previousBlockhash:At(),parentSlot:ct(),transactions:xt(St({transaction:gw,meta:Ot(Gl),version:zt(oo)})),rewards:zt(xt(Ws)),blockTime:Ot(ct()),blockHeight:Ot(ct())}))),HO=Xt(Ot(St({blockhash:At(),previousBlockhash:At(),parentSlot:ct(),transactions:xt(St({transaction:vw,meta:Ot(sp),version:zt(oo)})),rewards:zt(xt(Ws)),blockTime:Ot(ct()),blockHeight:Ot(ct())}))),qO=Xt(Ot(St({blockhash:At(),previousBlockhash:At(),parentSlot:ct(),transactions:xt(St({transaction:gw,meta:Ot(sp),version:zt(oo)})),rewards:zt(xt(Ws)),blockTime:Ot(ct()),blockHeight:Ot(ct())}))),jO=Xt(Ot(St({blockhash:At(),previousBlockhash:At(),parentSlot:ct(),rewards:zt(xt(Ws)),blockTime:Ot(ct()),blockHeight:Ot(ct())}))),PO=Xt(Ot(St({blockhash:At(),previousBlockhash:At(),parentSlot:ct(),transactions:xt(St({transaction:ip,meta:Ot(Gl)})),rewards:zt(xt(Ws)),blockTime:Ot(ct())}))),ab=Xt(Ot(St({blockhash:At(),previousBlockhash:At(),parentSlot:ct(),signatures:xt(At()),blockTime:Ot(ct())}))),jh=Xt(Ot(St({slot:ct(),meta:Ot(Gl),blockTime:zt(Ot(ct())),transaction:ip,version:zt(oo)}))),Wc=Xt(Ot(St({slot:ct(),transaction:vw,meta:Ot(sp),blockTime:zt(Ot(ct())),version:zt(oo)}))),KO=cn(St({blockhash:At(),lastValidBlockHeight:ct()})),VO=cn(Yr()),GO=St({slot:ct(),numTransactions:ct(),numSlots:ct(),samplePeriodSecs:ct()}),YO=Xt(xt(GO)),FO=cn(Ot(St({feeCalculator:St({lamportsPerSignature:ct()})}))),ZO=Xt(At()),XO=Xt(At()),$O=St({err:$s,logs:xt(At()),signature:At()}),WO=St({result:Vl($O),subscription:ct()}),QO={"solana-client":"js/1.0.0-maintenance"};class ap{constructor(e,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const _={};return async E=>{const{commitment:C,config:k}=Ce(E),R=this._buildArgs([],C,void 0,k),M=eb(R);return _[M]=_[M]??(async()=>{try{const U=await this._rpcRequest("getBlockHeight",R),L=Rt(U,Xt(ct()));if("error"in L)throw new Ut(L.error,"failed to get block height information");return L.result}finally{delete _[M]}})(),await _[M]}})();let i,u,o,l,d,y;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,i=n.wsEndpoint,u=n.httpHeaders,o=n.fetch,l=n.fetchMiddleware,d=n.disableRetryOnRateLimit,y=n.httpAgent),this._rpcEndpoint=Dx(e),this._rpcWsEndpoint=i||Lx(e),this._rpcClient=Qx(e,u,o,l,d,y),this._rpcRequest=Jx(this._rpcClient),this._rpcBatchRequest=tO(this._rpcClient),this._rpcWebSocket=new Ix(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,n){const{commitment:i,config:u}=Ce(n),o=this._buildArgs([e.toBase58()],i,void 0,u),l=await this._rpcRequest("getBalance",o),d=Rt(l,cn(ct()));if("error"in d)throw new Ut(d.error,`failed to get balance for ${e.toBase58()}`);return d.result}async getBalance(e,n){return await this.getBalanceAndContext(e,n).then(i=>i.value).catch(i=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+i)})}async getBlockTime(e){const n=await this._rpcRequest("getBlockTime",[e]),i=Rt(n,Xt(Ot(ct())));if("error"in i)throw new Ut(i.error,`failed to get block time for slot ${e}`);return i.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),n=Rt(e,Xt(ct()));if("error"in n)throw new Ut(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),n=Rt(e,oO);if("error"in n)throw new Ut(n.error,"failed to get first available block");return n.result}async getSupply(e){let n={};typeof e=="string"?n={commitment:e}:e?n={...e,commitment:e&&e.commitment||this.commitment}:n={commitment:this.commitment};const i=await this._rpcRequest("getSupply",[n]),u=Rt(i,uO);if("error"in u)throw new Ut(u.error,"failed to get supply");return u.result}async getTokenSupply(e,n){const i=this._buildArgs([e.toBase58()],n),u=await this._rpcRequest("getTokenSupply",i),o=Rt(u,cn(y0));if("error"in o)throw new Ut(o.error,"failed to get token supply");return o.result}async getTokenAccountBalance(e,n){const i=this._buildArgs([e.toBase58()],n),u=await this._rpcRequest("getTokenAccountBalance",i),o=Rt(u,cn(y0));if("error"in o)throw new Ut(o.error,"failed to get token account balance");return o.result}async getTokenAccountsByOwner(e,n,i){const{commitment:u,config:o}=Ce(i);let l=[e.toBase58()];"mint"in n?l.push({mint:n.mint.toBase58()}):l.push({programId:n.programId.toBase58()});const d=this._buildArgs(l,u,"base64",o),y=await this._rpcRequest("getTokenAccountsByOwner",d),_=Rt(y,lO);if("error"in _)throw new Ut(_.error,`failed to get token accounts owned by account ${e.toBase58()}`);return _.result}async getParsedTokenAccountsByOwner(e,n,i){let u=[e.toBase58()];"mint"in n?u.push({mint:n.mint.toBase58()}):u.push({programId:n.programId.toBase58()});const o=this._buildArgs(u,i,"jsonParsed"),l=await this._rpcRequest("getTokenAccountsByOwner",o),d=Rt(l,fO);if("error"in d)throw new Ut(d.error,`failed to get token accounts owned by account ${e.toBase58()}`);return d.result}async getLargestAccounts(e){const n={...e,commitment:e&&e.commitment||this.commitment},i=n.filter||n.commitment?[n]:[],u=await this._rpcRequest("getLargestAccounts",i),o=Rt(u,dO);if("error"in o)throw new Ut(o.error,"failed to get largest accounts");return o.result}async getTokenLargestAccounts(e,n){const i=this._buildArgs([e.toBase58()],n),u=await this._rpcRequest("getTokenLargestAccounts",i),o=Rt(u,cO);if("error"in o)throw new Ut(o.error,"failed to get token largest accounts");return o.result}async getAccountInfoAndContext(e,n){const{commitment:i,config:u}=Ce(n),o=this._buildArgs([e.toBase58()],i,"base64",u),l=await this._rpcRequest("getAccountInfo",o),d=Rt(l,cn(Ot(gu)));if("error"in d)throw new Ut(d.error,`failed to get info about account ${e.toBase58()}`);return d.result}async getParsedAccountInfo(e,n){const{commitment:i,config:u}=Ce(n),o=this._buildArgs([e.toBase58()],i,"jsonParsed",u),l=await this._rpcRequest("getAccountInfo",o),d=Rt(l,cn(Ot(b0)));if("error"in d)throw new Ut(d.error,`failed to get info about account ${e.toBase58()}`);return d.result}async getAccountInfo(e,n){try{return(await this.getAccountInfoAndContext(e,n)).value}catch(i){throw new Error("failed to get info about account "+e.toBase58()+": "+i)}}async getMultipleParsedAccounts(e,n){const{commitment:i,config:u}=Ce(n),o=e.map(_=>_.toBase58()),l=this._buildArgs([o],i,"jsonParsed",u),d=await this._rpcRequest("getMultipleAccounts",l),y=Rt(d,cn(xt(Ot(b0))));if("error"in y)throw new Ut(y.error,`failed to get info for accounts ${o}`);return y.result}async getMultipleAccountsInfoAndContext(e,n){const{commitment:i,config:u}=Ce(n),o=e.map(_=>_.toBase58()),l=this._buildArgs([o],i,"base64",u),d=await this._rpcRequest("getMultipleAccounts",l),y=Rt(d,cn(xt(Ot(gu))));if("error"in y)throw new Ut(y.error,`failed to get info for accounts ${o}`);return y.result}async getMultipleAccountsInfo(e,n){return(await this.getMultipleAccountsInfoAndContext(e,n)).value}async getStakeActivation(e,n,i){const{commitment:u,config:o}=Ce(n),l=this._buildArgs([e.toBase58()],u,void 0,{...o,epoch:i??o?.epoch}),d=await this._rpcRequest("getStakeActivation",l),y=Rt(d,Xt(yO));if("error"in y)throw new Ut(y.error,`failed to get Stake Activation ${e.toBase58()}`);return y.result}async getProgramAccounts(e,n){const{commitment:i,config:u}=Ce(n),{encoding:o,...l}=u||{},d=this._buildArgs([e.toBase58()],i,o||"base64",{...l,...l.filters?{filters:rb(l.filters)}:null}),y=await this._rpcRequest("getProgramAccounts",d),_=xt(hO),E=l.withContext===!0?Rt(y,cn(_)):Rt(y,Xt(_));if("error"in E)throw new Ut(E.error,`failed to get accounts owned by program ${e.toBase58()}`);return E.result}async getParsedProgramAccounts(e,n){const{commitment:i,config:u}=Ce(n),o=this._buildArgs([e.toBase58()],i,"jsonParsed",u),l=await this._rpcRequest("getProgramAccounts",o),d=Rt(l,Xt(xt(mO)));if("error"in d)throw new Ut(d.error,`failed to get accounts owned by program ${e.toBase58()}`);return d.result}async confirmTransaction(e,n){let i;if(typeof e=="string")i=e;else{const o=e;if(o.abortSignal?.aborted)return Promise.reject(o.abortSignal.reason);i=o.signature}let u;try{u=On.decode(i)}catch{throw new Error("signature must be base58 encoded: "+i)}return ye(u.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:i}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((n,i)=>{e!=null&&(e.aborted?i(e.reason):e.addEventListener("abort",()=>{i(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:n}){let i,u,o=!1;const l=new Promise((y,_)=>{try{i=this.onSignature(n,(C,k)=>{i=void 0;const R={context:k,value:C};y({__type:bi.PROCESSED,response:R})},e);const E=new Promise(C=>{i==null?C():u=this._onSubscriptionStateChange(i,k=>{k==="subscribed"&&C()})});(async()=>{if(await E,o)return;const C=await this.getSignatureStatus(n);if(o||C==null)return;const{context:k,value:R}=C;if(R!=null)if(R?.err)_(R.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(R.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(R.confirmationStatus==="processed"||R.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}o=!0,y({__type:bi.PROCESSED,response:{context:k,value:R}})}})()}catch(E){_(E)}});return{abortConfirmation:()=>{u&&(u(),u=void 0),i!=null&&(this.removeSignatureListener(i),i=void 0)},confirmationPromise:l}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:n,lastValidBlockHeight:i,signature:u}}){let o=!1;const l=new Promise(C=>{const k=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let R=await k();if(!o){for(;R<=i;)if(await Ls(1e3),o||(R=await k(),o))return;C({__type:bi.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:d,confirmationPromise:y}=this.getTransactionConfirmationPromise({commitment:e,signature:u}),_=this.getCancellationPromise(n);let E;try{const C=await Promise.race([_,y,l]);if(C.__type===bi.PROCESSED)E=C.response;else throw new Q0(u)}finally{o=!0,d()}return E}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:n,minContextSlot:i,nonceAccountPubkey:u,nonceValue:o,signature:l}}){let d=!1;const y=new Promise(R=>{let M=o,U=null;const L=async()=>{try{const{context:j,value:G}=await this.getNonceAndContext(u,{commitment:e,minContextSlot:i});return U=j.slot,G?.nonce}catch{return M}};(async()=>{if(M=await L(),!d)for(;;){if(o!==M){R({__type:bi.NONCE_INVALID,slotInWhichNonceDidAdvance:U});return}if(await Ls(2e3),d||(M=await L(),d))return}})()}),{abortConfirmation:_,confirmationPromise:E}=this.getTransactionConfirmationPromise({commitment:e,signature:l}),C=this.getCancellationPromise(n);let k;try{const R=await Promise.race([C,E,y]);if(R.__type===bi.PROCESSED)k=R.response;else{let M;for(;;){const U=await this.getSignatureStatus(l);if(U==null)break;if(U.context.slot<(R.slotInWhichNonceDidAdvance??i)){await Ls(400);continue}M=U;break}if(M?.value){const U=e||"finalized",{confirmationStatus:L}=M.value;switch(U){case"processed":case"recent":if(L!=="processed"&&L!=="confirmed"&&L!=="finalized")throw new Ga(l);break;case"confirmed":case"single":case"singleGossip":if(L!=="confirmed"&&L!=="finalized")throw new Ga(l);break;case"finalized":case"max":case"root":if(L!=="finalized")throw new Ga(l);break;default:}k={context:M.context,value:{err:M.value.err}}}else throw new Ga(l)}}finally{d=!0,_()}return k}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:n}){let i;const u=new Promise(y=>{let _=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{_=this._confirmTransactionInitialTimeout||3e4;break}}i=setTimeout(()=>y({__type:bi.TIMED_OUT,timeoutMs:_}),_)}),{abortConfirmation:o,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:n});let d;try{const y=await Promise.race([l,u]);if(y.__type===bi.PROCESSED)d=y.response;else throw new J0(n,y.timeoutMs/1e3)}finally{clearTimeout(i),o()}return d}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),n=Rt(e,Xt(xt(OO)));if("error"in n)throw new Ut(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(e){const n=this._buildArgs([],e),i=await this._rpcRequest("getVoteAccounts",n),u=Rt(i,NO);if("error"in u)throw new Ut(u.error,"failed to get vote accounts");return u.result}async getSlot(e){const{commitment:n,config:i}=Ce(e),u=this._buildArgs([],n,void 0,i),o=await this._rpcRequest("getSlot",u),l=Rt(o,Xt(ct()));if("error"in l)throw new Ut(l.error,"failed to get slot");return l.result}async getSlotLeader(e){const{commitment:n,config:i}=Ce(e),u=this._buildArgs([],n,void 0,i),o=await this._rpcRequest("getSlotLeader",u),l=Rt(o,Xt(At()));if("error"in l)throw new Ut(l.error,"failed to get slot leader");return l.result}async getSlotLeaders(e,n){const i=[e,n],u=await this._rpcRequest("getSlotLeaders",i),o=Rt(u,Xt(xt($e)));if("error"in o)throw new Ut(o.error,"failed to get slot leaders");return o.result}async getSignatureStatus(e,n){const{context:i,value:u}=await this.getSignatureStatuses([e],n);ye(u.length===1);const o=u[0];return{context:i,value:o}}async getSignatureStatuses(e,n){const i=[e];n&&i.push(n);const u=await this._rpcRequest("getSignatureStatuses",i),o=Rt(u,IO);if("error"in o)throw new Ut(o.error,"failed to get signature status");return o.result}async getTransactionCount(e){const{commitment:n,config:i}=Ce(e),u=this._buildArgs([],n,void 0,i),o=await this._rpcRequest("getTransactionCount",u),l=Rt(o,Xt(ct()));if("error"in l)throw new Ut(l.error,"failed to get transaction count");return l.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const n=this._buildArgs([],e),i=await this._rpcRequest("getInflationGovernor",n),u=Rt(i,eO);if("error"in u)throw new Ut(u.error,"failed to get inflation");return u.result}async getInflationReward(e,n,i){const{commitment:u,config:o}=Ce(i),l=this._buildArgs([e.map(_=>_.toBase58())],u,void 0,{...o,epoch:n??o?.epoch}),d=await this._rpcRequest("getInflationReward",l),y=Rt(d,qx);if("error"in y)throw new Ut(y.error,"failed to get inflation reward");return y.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),n=Rt(e,nO);if("error"in n)throw new Ut(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(e){const{commitment:n,config:i}=Ce(e),u=this._buildArgs([],n,void 0,i),o=await this._rpcRequest("getEpochInfo",u),l=Rt(o,iO);if("error"in l)throw new Ut(l.error,"failed to get epoch info");return l.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),n=Rt(e,sO);if("error"in n)throw new Ut(n.error,"failed to get epoch schedule");const i=n.result;return new fw(i.slotsPerEpoch,i.leaderScheduleSlotOffset,i.warmup,i.firstNormalEpoch,i.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),n=Rt(e,aO);if("error"in n)throw new Ut(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(e,n){const i=this._buildArgs([e],n),u=await this._rpcRequest("getMinimumBalanceForRentExemption",i),o=Rt(u,BO);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(e){const{context:n,value:{blockhash:i}}=await this.getLatestBlockhashAndContext(e);return{context:n,value:{blockhash:i,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){const n=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),i=Rt(n,YO);if("error"in i)throw new Ut(i.error,"failed to get recent performance samples");return i.result}async getFeeCalculatorForBlockhash(e,n){const i=this._buildArgs([e],n),u=await this._rpcRequest("getFeeCalculatorForBlockhash",i),o=Rt(u,FO);if("error"in o)throw new Ut(o.error,"failed to get fee calculator");const{context:l,value:d}=o.result;return{context:l,value:d!==null?d.feeCalculator:null}}async getFeeForMessage(e,n){const i=$t(e.serialize()).toString("base64"),u=this._buildArgs([i],n),o=await this._rpcRequest("getFeeForMessage",u),l=Rt(o,cn(Ot(ct())));if("error"in l)throw new Ut(l.error,"failed to get fee for message");if(l.result===null)throw new Error("invalid blockhash");return l.result}async getRecentPrioritizationFees(e){const n=e?.lockedWritableAccounts?.map(l=>l.toBase58()),i=n?.length?[n]:[],u=await this._rpcRequest("getRecentPrioritizationFees",i),o=Rt(u,rO);if("error"in o)throw new Ut(o.error,"failed to get recent prioritization fees");return o.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(e){const{commitment:n,config:i}=Ce(e),u=this._buildArgs([],n,void 0,i),o=await this._rpcRequest("getLatestBlockhash",u),l=Rt(o,KO);if("error"in l)throw new Ut(l.error,"failed to get latest blockhash");return l.result}async isBlockhashValid(e,n){const{commitment:i,config:u}=Ce(n),o=this._buildArgs([e],i,void 0,u),l=await this._rpcRequest("isBlockhashValid",o),d=Rt(l,VO);if("error"in d)throw new Ut(d.error,"failed to determine if the blockhash `"+e+"`is valid");return d.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),n=Rt(e,Xt(Zx));if("error"in n)throw new Ut(n.error,"failed to get version");return n.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),n=Rt(e,Xt(At()));if("error"in n)throw new Ut(n.error,"failed to get genesis hash");return n.result}async getBlock(e,n){const{commitment:i,config:u}=Ce(n),o=this._buildArgsAtLeastConfirmed([e],i,void 0,u),l=await this._rpcRequest("getBlock",o);try{switch(u?.transactionDetails){case"accounts":{const d=Rt(l,zO);if("error"in d)throw d.error;return d.result}case"none":{const d=Rt(l,DO);if("error"in d)throw d.error;return d.result}default:{const d=Rt(l,LO);if("error"in d)throw d.error;const{result:y}=d;return y?{...y,transactions:y.transactions.map(({transaction:_,meta:E,version:C})=>({meta:E,transaction:{..._,message:qh(C,_.message)},version:C}))}:null}}}catch(d){throw new Ut(d,"failed to get confirmed block")}}async getParsedBlock(e,n){const{commitment:i,config:u}=Ce(n),o=this._buildArgsAtLeastConfirmed([e],i,"jsonParsed",u),l=await this._rpcRequest("getBlock",o);try{switch(u?.transactionDetails){case"accounts":{const d=Rt(l,qO);if("error"in d)throw d.error;return d.result}case"none":{const d=Rt(l,jO);if("error"in d)throw d.error;return d.result}default:{const d=Rt(l,HO);if("error"in d)throw d.error;return d.result}}}catch(d){throw new Ut(d,"failed to get block")}}async getBlockProduction(e){let n,i;if(typeof e=="string")i=e;else if(e){const{commitment:d,...y}=e;i=d,n=y}const u=this._buildArgs([],i,"base64",n),o=await this._rpcRequest("getBlockProduction",u),l=Rt(o,Wx);if("error"in l)throw new Ut(l.error,"failed to get block production information");return l.result}async getTransaction(e,n){const{commitment:i,config:u}=Ce(n),o=this._buildArgsAtLeastConfirmed([e],i,void 0,u),l=await this._rpcRequest("getTransaction",o),d=Rt(l,jh);if("error"in d)throw new Ut(d.error,"failed to get transaction");const y=d.result;return y&&{...y,transaction:{...y.transaction,message:qh(y.version,y.transaction.message)}}}async getParsedTransaction(e,n){const{commitment:i,config:u}=Ce(n),o=this._buildArgsAtLeastConfirmed([e],i,"jsonParsed",u),l=await this._rpcRequest("getTransaction",o),d=Rt(l,Wc);if("error"in d)throw new Ut(d.error,"failed to get transaction");return d.result}async getParsedTransactions(e,n){const{commitment:i,config:u}=Ce(n),o=e.map(y=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([y],i,"jsonParsed",u)}));return(await this._rpcBatchRequest(o)).map(y=>{const _=Rt(y,Wc);if("error"in _)throw new Ut(_.error,"failed to get transactions");return _.result})}async getTransactions(e,n){const{commitment:i,config:u}=Ce(n),o=e.map(y=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([y],i,void 0,u)}));return(await this._rpcBatchRequest(o)).map(y=>{const _=Rt(y,jh);if("error"in _)throw new Ut(_.error,"failed to get transactions");const E=_.result;return E&&{...E,transaction:{...E.transaction,message:qh(E.version,E.transaction.message)}}})}async getConfirmedBlock(e,n){const i=this._buildArgsAtLeastConfirmed([e],n),u=await this._rpcRequest("getBlock",i),o=Rt(u,PO);if("error"in o)throw new Ut(o.error,"failed to get confirmed block");const l=o.result;if(!l)throw new Error("Confirmed block "+e+" not found");const d={...l,transactions:l.transactions.map(({transaction:y,meta:_})=>{const E=new Or(y.message);return{meta:_,transaction:{...y,message:E}}})};return{...d,transactions:d.transactions.map(({transaction:y,meta:_})=>({meta:_,transaction:he.populate(y.message,y.signatures)}))}}async getBlocks(e,n,i){const u=this._buildArgsAtLeastConfirmed(n!==void 0?[e,n]:[e],i),o=await this._rpcRequest("getBlocks",u),l=Rt(o,Xt(xt(ct())));if("error"in l)throw new Ut(l.error,"failed to get blocks");return l.result}async getBlockSignatures(e,n){const i=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),u=await this._rpcRequest("getBlock",i),o=Rt(u,ab);if("error"in o)throw new Ut(o.error,"failed to get block");const l=o.result;if(!l)throw new Error("Block "+e+" not found");return l}async getConfirmedBlockSignatures(e,n){const i=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),u=await this._rpcRequest("getBlock",i),o=Rt(u,ab);if("error"in o)throw new Ut(o.error,"failed to get confirmed block");const l=o.result;if(!l)throw new Error("Confirmed block "+e+" not found");return l}async getConfirmedTransaction(e,n){const i=this._buildArgsAtLeastConfirmed([e],n),u=await this._rpcRequest("getTransaction",i),o=Rt(u,jh);if("error"in o)throw new Ut(o.error,"failed to get transaction");const l=o.result;if(!l)return l;const d=new Or(l.transaction.message),y=l.transaction.signatures;return{...l,transaction:he.populate(d,y)}}async getParsedConfirmedTransaction(e,n){const i=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed"),u=await this._rpcRequest("getTransaction",i),o=Rt(u,Wc);if("error"in o)throw new Ut(o.error,"failed to get confirmed transaction");return o.result}async getParsedConfirmedTransactions(e,n){const i=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],n,"jsonParsed")}));return(await this._rpcBatchRequest(i)).map(l=>{const d=Rt(l,Wc);if("error"in d)throw new Ut(d.error,"failed to get confirmed transactions");return d.result})}async getConfirmedSignaturesForAddress(e,n,i){let u={},o=await this.getFirstAvailableBlock();for(;!("until"in u)&&(n--,!(n<=0||n<o));)try{const y=await this.getConfirmedBlockSignatures(n,"finalized");y.signatures.length>0&&(u.until=y.signatures[y.signatures.length-1].toString())}catch(y){if(y instanceof Error&&y.message.includes("skipped"))continue;throw y}let l=await this.getSlot("finalized");for(;!("before"in u)&&(i++,!(i>l));)try{const y=await this.getConfirmedBlockSignatures(i);y.signatures.length>0&&(u.before=y.signatures[y.signatures.length-1].toString())}catch(y){if(y instanceof Error&&y.message.includes("skipped"))continue;throw y}return(await this.getConfirmedSignaturesForAddress2(e,u)).map(y=>y.signature)}async getConfirmedSignaturesForAddress2(e,n,i){const u=this._buildArgsAtLeastConfirmed([e.toBase58()],i,void 0,n),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",u),l=Rt(o,gO);if("error"in l)throw new Ut(l.error,"failed to get confirmed signatures for address");return l.result}async getSignaturesForAddress(e,n,i){const u=this._buildArgsAtLeastConfirmed([e.toBase58()],i,void 0,n),o=await this._rpcRequest("getSignaturesForAddress",u),l=Rt(o,bO);if("error"in l)throw new Ut(l.error,"failed to get signatures for address");return l.result}async getAddressLookupTable(e,n){const{context:i,value:u}=await this.getAccountInfoAndContext(e,n);let o=null;return u!==null&&(o=new m0({key:e,state:m0.deserialize(u.data)})),{context:i,value:o}}async getNonceAndContext(e,n){const{context:i,value:u}=await this.getAccountInfoAndContext(e,n);let o=null;return u!==null&&(o=Kl.fromAccountData(u.data)),{context:i,value:o}}async getNonce(e,n){return await this.getNonceAndContext(e,n).then(i=>i.value).catch(i=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+i)})}async requestAirdrop(e,n){const i=await this._rpcRequest("requestAirdrop",[e.toBase58(),n]),u=Rt(i,ZO);if("error"in u)throw new Ut(u.error,`airdrop to ${e.toBase58()} failed`);return u.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Ls(100);const i=Date.now()-this._blockhashInfo.lastFetch>=hw;if(this._blockhashInfo.latestBlockhash!==null&&!i)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),n=this._blockhashInfo.latestBlockhash,i=n?n.blockhash:null;for(let u=0;u<50;u++){const o=await this.getLatestBlockhash("finalized");if(i!==o.blockhash)return this._blockhashInfo={latestBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;await Ls(uw/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:n,config:i}=Ce(e),u=this._buildArgs([],n,"base64",i),o=await this._rpcRequest("getStakeMinimumDelegation",u),l=Rt(o,cn(ct()));if("error"in l)throw new Ut(l.error,"failed to get stake minimum delegation");return l.result}async simulateTransaction(e,n,i){if("message"in e){const U=e.serialize(),L=Ct.Buffer.from(U).toString("base64");if(Array.isArray(n)||i!==void 0)throw new Error("Invalid arguments");const j=n||{};j.encoding="base64","commitment"in j||(j.commitment=this.commitment),n&&typeof n=="object"&&"innerInstructions"in n&&(j.innerInstructions=n.innerInstructions);const G=[L,j],P=await this._rpcRequest("simulateTransaction",G),$=Rt(P,ib);if("error"in $)throw new Error("failed to simulate transaction: "+$.error.message);return $.result}let u;if(e instanceof he){let M=e;u=new he,u.feePayer=M.feePayer,u.instructions=e.instructions,u.nonceInfo=M.nonceInfo,u.signatures=M.signatures}else u=he.populate(e),u._message=u._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const o=n;if(u.nonceInfo&&o)u.sign(...o);else{let M=this._disableBlockhashCaching;for(;;){const U=await this._blockhashWithExpiryBlockHeight(M);if(u.lastValidBlockHeight=U.lastValidBlockHeight,u.recentBlockhash=U.blockhash,!o)break;if(u.sign(...o),!u.signature)throw new Error("!signature");const L=u.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(L)&&!this._blockhashInfo.transactionSignatures.includes(L)){this._blockhashInfo.simulatedSignatures.push(L);break}else M=!0}}const l=u._compile(),d=l.serialize(),_=u._serialize(d).toString("base64"),E={encoding:"base64",commitment:this.commitment};if(i){const M=(Array.isArray(i)?i:l.nonProgramIds()).map(U=>U.toBase58());E.accounts={encoding:"base64",addresses:M}}o&&(E.sigVerify=!0),n&&typeof n=="object"&&"innerInstructions"in n&&(E.innerInstructions=n.innerInstructions);const C=[_,E],k=await this._rpcRequest("simulateTransaction",C),R=Rt(k,ib);if("error"in R){let M;if("data"in R.error&&(M=R.error.data.logs,M&&Array.isArray(M))){const U=`
    `,L=U+M.join(U);console.error(R.error.message,L)}throw new hs({action:"simulate",signature:"",transactionMessage:R.error.message,logs:M})}return R.result}async sendTransaction(e,n,i){if("version"in e){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const l=e.serialize();return await this.sendRawTransaction(l,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const u=n;if(e.nonceInfo)e.sign(...u);else{let l=this._disableBlockhashCaching;for(;;){const d=await this._blockhashWithExpiryBlockHeight(l);if(e.lastValidBlockHeight=d.lastValidBlockHeight,e.recentBlockhash=d.blockhash,e.sign(...u),!e.signature)throw new Error("!signature");const y=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(y))l=!0;else{this._blockhashInfo.transactionSignatures.push(y);break}}}const o=e.serialize();return await this.sendRawTransaction(o,i)}async sendRawTransaction(e,n){const i=$t(e).toString("base64");return await this.sendEncodedTransaction(i,n)}async sendEncodedTransaction(e,n){const i={encoding:"base64"},u=n&&n.skipPreflight,o=u===!0?"processed":n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(i.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(i.minContextSlot=n.minContextSlot),u&&(i.skipPreflight=u),o&&(i.preflightCommitment=o);const l=[e,i],d=await this._rpcRequest("sendTransaction",l),y=Rt(d,XO);if("error"in y){let _;throw"data"in y.error&&(_=y.error.data.logs),new hs({action:u?"send":"simulate",signature:"",transactionMessage:y.error.message,logs:_})}return y.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,i])=>{this._setSubscription(n,{...i,state:"pending"})})}_setSubscription(e,n){const i=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=n,i!==n.state){const u=this._subscriptionStateChangeCallbacksByHash[e];u&&u.forEach(o=>{try{o(n.state)}catch{}})}}_onSubscriptionStateChange(e,n){const i=this._subscriptionHashByClientSubscriptionId[e];if(i==null)return()=>{};const u=this._subscriptionStateChangeCallbacksByHash[i]||=new Set;return u.add(n),()=>{u.delete(n),u.size===0&&delete this._subscriptionStateChangeCallbacksByHash[i]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(i){i instanceof Error&&console.log(`Error when closing socket connection: ${i.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,n=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async i=>{const u=this._subscriptionsByHash[i];if(u!==void 0)switch(u.state){case"pending":case"unsubscribed":if(u.callbacks.size===0){delete this._subscriptionsByHash[i],u.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[u.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:o,method:l}=u;try{this._setSubscription(i,{...u,state:"subscribing"});const d=await this._rpcWebSocket.call(l,o);this._setSubscription(i,{...u,serverSubscriptionId:d,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[d]=u.callbacks,await this._updateSubscriptions()}catch(d){if(console.error(`Received ${d instanceof Error?"":"JSON-RPC "}error calling \`${l}\``,{args:o,error:d}),!n())return;this._setSubscription(i,{...u,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":u.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:o,unsubscribeMethod:l}=u;if(this._subscriptionsAutoDisposedByRpc.has(o))this._subscriptionsAutoDisposedByRpc.delete(o);else{this._setSubscription(i,{...u,state:"unsubscribing"}),this._setSubscription(i,{...u,state:"unsubscribing"});try{await this._rpcWebSocket.call(l,[o])}catch(d){if(d instanceof Error&&console.error(`${l} error:`,d.message),!n())return;this._setSubscription(i,{...u,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(i,{...u,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,n){const i=this._subscriptionCallbacksByServerSubscriptionId[e];i!==void 0&&i.forEach(u=>{try{u(...n)}catch(o){console.error(o)}})}_wsOnAccountNotification(e){const{result:n,subscription:i}=Rt(e,_O);this._handleServerNotification(i,[n.value,n.context])}_makeSubscription(e,n){const i=this._nextClientSubscriptionId++,u=eb([e.method,n]),o=this._subscriptionsByHash[u];return o===void 0?this._subscriptionsByHash[u]={...e,args:n,callbacks:new Set([e.callback]),state:"pending"}:o.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[i]=u,this._subscriptionDisposeFunctionsByClientSubscriptionId[i]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[i],delete this._subscriptionHashByClientSubscriptionId[i];const l=this._subscriptionsByHash[u];ye(l!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${i}`),l.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),i}onAccountChange(e,n,i){const{commitment:u,config:o}=Ce(i),l=this._buildArgs([e.toBase58()],u||this._commitment||"finalized","base64",o);return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},l)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:n,subscription:i}=Rt(e,vO);this._handleServerNotification(i,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(e,n,i,u){const{commitment:o,config:l}=Ce(i),d=this._buildArgs([e.toBase58()],o||this._commitment||"finalized","base64",l||(u?{filters:rb(u)}:void 0));return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},d)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,n,i){const u=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],i||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},u)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:n,subscription:i}=Rt(e,WO);this._handleServerNotification(i,[n.value,n.context])}_wsOnSlotNotification(e){const{result:n,subscription:i}=Rt(e,SO);this._handleServerNotification(i,[n])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:n,subscription:i}=Rt(e,RO);this._handleServerNotification(i,[n])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,n){const i=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];i?await i():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${n}' events could not be found.`)}_buildArgs(e,n,i,u){const o=n||this._commitment;if(o||i||u){let l={};i&&(l.encoding=i),o&&(l.commitment=o),u&&(l=Object.assign(l,u)),e.push(l)}return e}_buildArgsAtLeastConfirmed(e,n,i,u){const o=n||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,n,i,u)}_wsOnSignatureNotification(e){const{result:n,subscription:i}=Rt(e,TO);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(i),this._handleServerNotification(i,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(e,n,i){const u=this._buildArgs([e],i||this._commitment||"finalized"),o=this._makeSubscription({callback:(l,d)=>{if(l.type==="status"){n(l.result,d);try{this.removeSignatureListener(o)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},u);return o}onSignatureWithOptions(e,n,i){const{commitment:u,...o}={...i,commitment:i&&i.commitment||this._commitment||"finalized"},l=this._buildArgs([e],u,void 0,o),d=this._makeSubscription({callback:(y,_)=>{n(y,_);try{this.removeSignatureListener(d)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},l);return d}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:n,subscription:i}=Rt(e,xO);this._handleServerNotification(i,[n])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Xa{constructor(e){this._keypair=void 0,this._keypair=e??Wg()}static generate(){return new Xa(Wg())}static fromSecretKey(e,n){if(e.byteLength!==64)throw new Error("bad secret key size");const i=e.slice(32,64);if(!n||!n.skipValidation){const u=e.slice(0,32),o=xl(u);for(let l=0;l<32;l++)if(i[l]!==o[l])throw new Error("provided secretKey is invalid")}return new Xa({publicKey:i,secretKey:e})}static fromSeed(e){const n=xl(e),i=new Uint8Array(64);return i.set(e),i.set(n,32),new Xa({publicKey:n,secretKey:i})}get publicKey(){return new wt(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Ei=Object.freeze({CreateLookupTable:{index:0,layout:W.struct([W.u32("instruction"),no("recentSlot"),W.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:W.struct([W.u32("instruction")])},ExtendLookupTable:{index:2,layout:W.struct([W.u32("instruction"),no(),W.seq(re(),W.offset(W.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:W.struct([W.u32("instruction")])},CloseLookupTable:{index:4,layout:W.struct([W.u32("instruction")])}});class JO{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const i=W.u32("instruction").decode(e.data);let u;for(const[o,l]of Object.entries(Ei))if(l.index==i){u=o;break}if(!u)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return u}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:n}=be(Ei.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(n)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:n}=be(Ei.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:n.map(i=>new wt(i))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(op.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}class op{constructor(){}static createLookupTable(e){const[n,i]=wt.findProgramAddressSync([e.authority.toBuffer(),H_().encode(e.recentSlot)],this.programId),u=Ei.CreateLookupTable,o=fe(u,{recentSlot:BigInt(e.recentSlot),bumpSeed:i}),l=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:mn.programId,isSigner:!1,isWritable:!1}];return[new Ee({programId:this.programId,keys:l,data:o}),n]}static freezeLookupTable(e){const n=Ei.FreezeLookupTable,i=fe(n),u=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Ee({programId:this.programId,keys:u,data:i})}static extendLookupTable(e){const n=Ei.ExtendLookupTable,i=fe(n,{addresses:e.addresses.map(o=>o.toBytes())}),u=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&u.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:mn.programId,isSigner:!1,isWritable:!1}),new Ee({programId:this.programId,keys:u,data:i})}static deactivateLookupTable(e){const n=Ei.DeactivateLookupTable,i=fe(n),u=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Ee({programId:this.programId,keys:u,data:i})}static closeLookupTable(e){const n=Ei.CloseLookupTable,i=fe(n),u=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new Ee({programId:this.programId,keys:u,data:i})}}op.programId=new wt("AddressLookupTab1e1111111111111111111111111");class tN{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const i=W.u8("instruction").decode(e.data);let u;for(const[o,l]of Object.entries(Kr))if(l.index==i){u=o;break}if(!u)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return u}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:n,additionalFee:i}=be(Kr.RequestUnits,e.data);return{units:n,additionalFee:i}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:n}=be(Kr.RequestHeapFrame,e.data);return{bytes:n}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:n}=be(Kr.SetComputeUnitLimit,e.data);return{units:n}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:n}=be(Kr.SetComputeUnitPrice,e.data);return{microLamports:n}}static checkProgramId(e){if(!e.equals(up.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const Kr=Object.freeze({RequestUnits:{index:0,layout:W.struct([W.u8("instruction"),W.u32("units"),W.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:W.struct([W.u8("instruction"),W.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:W.struct([W.u8("instruction"),W.u32("units")])},SetComputeUnitPrice:{index:3,layout:W.struct([W.u8("instruction"),no("microLamports")])}});class up{constructor(){}static requestUnits(e){const n=Kr.RequestUnits,i=fe(n,e);return new Ee({keys:[],programId:this.programId,data:i})}static requestHeapFrame(e){const n=Kr.RequestHeapFrame,i=fe(n,e);return new Ee({keys:[],programId:this.programId,data:i})}static setComputeUnitLimit(e){const n=Kr.SetComputeUnitLimit,i=fe(n,e);return new Ee({keys:[],programId:this.programId,data:i})}static setComputeUnitPrice(e){const n=Kr.SetComputeUnitPrice,i=fe(n,{microLamports:BigInt(e.microLamports)});return new Ee({keys:[],programId:this.programId,data:i})}}up.programId=new wt("ComputeBudget111111111111111111111111111111");const ob=64,ub=32,cb=64,lb=W.struct([W.u8("numSignatures"),W.u8("padding"),W.u16("signatureOffset"),W.u16("signatureInstructionIndex"),W.u16("publicKeyOffset"),W.u16("publicKeyInstructionIndex"),W.u16("messageDataOffset"),W.u16("messageDataSize"),W.u16("messageInstructionIndex")]);class Yl{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:n,message:i,signature:u,instructionIndex:o}=e;ye(n.length===ub,`Public Key must be ${ub} bytes but received ${n.length} bytes`),ye(u.length===cb,`Signature must be ${cb} bytes but received ${u.length} bytes`);const l=lb.span,d=l+n.length,y=d+u.length,_=1,E=Ct.Buffer.alloc(y+i.length),C=o??65535;return lb.encode({numSignatures:_,padding:0,signatureOffset:d,signatureInstructionIndex:C,publicKeyOffset:l,publicKeyInstructionIndex:C,messageDataOffset:y,messageDataSize:i.length,messageInstructionIndex:C},E),E.fill(n,l),E.fill(u,d),E.fill(i,y),new Ee({keys:[],programId:Yl.programId,data:E})}static createInstructionWithPrivateKey(e){const{privateKey:n,message:i,instructionIndex:u}=e;ye(n.length===ob,`Private key must be ${ob} bytes but received ${n.length} bytes`);try{const o=Xa.fromSecretKey(n),l=o.publicKey.toBytes(),d=$0(i,o.secretKey);return this.createInstructionWithPublicKey({publicKey:l,message:i,signature:d,instructionIndex:u})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}}Yl.programId=new wt("Ed25519SigVerify111111111111111111111111111");const eN=(s,e)=>{const n=X0.sign(s,e);return[n.toCompactRawBytes(),n.recovery]};X0.utils.isValidPrivateKey;const nN=X0.getPublicKey,fb=32,Ph=20,db=64,rN=11,Kh=W.struct([W.u8("numSignatures"),W.u16("signatureOffset"),W.u8("signatureInstructionIndex"),W.u16("ethAddressOffset"),W.u8("ethAddressInstructionIndex"),W.u16("messageDataOffset"),W.u16("messageDataSize"),W.u8("messageInstructionIndex"),W.blob(20,"ethAddress"),W.blob(64,"signature"),W.u8("recoveryId")]);class $a{constructor(){}static publicKeyToEthAddress(e){ye(e.length===db,`Public key must be ${db} bytes but received ${e.length} bytes`);try{return Ct.Buffer.from(Zg($t(e))).slice(-Ph)}catch(n){throw new Error(`Error constructing Ethereum address: ${n}`)}}static createInstructionWithPublicKey(e){const{publicKey:n,message:i,signature:u,recoveryId:o,instructionIndex:l}=e;return $a.createInstructionWithEthAddress({ethAddress:$a.publicKeyToEthAddress(n),message:i,signature:u,recoveryId:o,instructionIndex:l})}static createInstructionWithEthAddress(e){const{ethAddress:n,message:i,signature:u,recoveryId:o,instructionIndex:l=0}=e;let d;typeof n=="string"?n.startsWith("0x")?d=Ct.Buffer.from(n.substr(2),"hex"):d=Ct.Buffer.from(n,"hex"):d=n,ye(d.length===Ph,`Address must be ${Ph} bytes but received ${d.length} bytes`);const y=1+rN,_=y,E=y+d.length,C=E+u.length+1,k=1,R=Ct.Buffer.alloc(Kh.span+i.length);return Kh.encode({numSignatures:k,signatureOffset:E,signatureInstructionIndex:l,ethAddressOffset:_,ethAddressInstructionIndex:l,messageDataOffset:C,messageDataSize:i.length,messageInstructionIndex:l,signature:$t(u),ethAddress:$t(d),recoveryId:o},R),R.fill($t(i),Kh.span),new Ee({keys:[],programId:$a.programId,data:R})}static createInstructionWithPrivateKey(e){const{privateKey:n,message:i,instructionIndex:u}=e;ye(n.length===fb,`Private key must be ${fb} bytes but received ${n.length} bytes`);try{const o=$t(n),l=nN(o,!1).slice(1),d=Ct.Buffer.from(Zg($t(i))),[y,_]=eN(d,o);return this.createInstructionWithPublicKey({publicKey:l,message:i,signature:y,recoveryId:_,instructionIndex:u})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}}$a.programId=new wt("KeccakSecp256k11111111111111111111111111111");var Sw;const Aw=new wt("StakeConfig11111111111111111111111111111111");class Rw{constructor(e,n){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=n}}class xu{constructor(e,n,i){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=n,this.custodian=i}}Sw=xu;xu.default=new Sw(0,0,wt.default);class iN{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const i=W.u32("instruction").decode(e.data);let u;for(const[o,l]of Object.entries(wn))if(l.index==i){u=o;break}if(!u)throw new Error("Instruction type incorrect; not a StakeInstruction");return u}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:n,lockup:i}=be(wn.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new Rw(new wt(n.staker),new wt(n.withdrawer)),lockup:new xu(i.unixTimestamp,i.epoch,new wt(i.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),be(wn.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:n,stakeAuthorizationType:i}=be(wn.Authorize,e.data),u={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new wt(n),stakeAuthorizationType:{index:i}};return e.keys.length>3&&(u.custodianPubkey=e.keys[3].pubkey),u}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:n,stakeAuthorizationType:i,authoritySeed:u,authorityOwner:o}=be(wn.AuthorizeWithSeed,e.data),l={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:u,authorityOwner:new wt(o),newAuthorizedPubkey:new wt(n),stakeAuthorizationType:{index:i}};return e.keys.length>3&&(l.custodianPubkey=e.keys[3].pubkey),l}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:n}=be(wn.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:n}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),be(wn.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:n}=be(wn.Withdraw,e.data),i={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:n};return e.keys.length>5&&(i.custodianPubkey=e.keys[5].pubkey),i}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),be(wn.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(Fl.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}const wn=Object.freeze({Initialize:{index:0,layout:W.struct([W.u32("instruction"),cx(),lx()])},Authorize:{index:1,layout:W.struct([W.u32("instruction"),re("newAuthorized"),W.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:W.struct([W.u32("instruction")])},Split:{index:3,layout:W.struct([W.u32("instruction"),W.ns64("lamports")])},Withdraw:{index:4,layout:W.struct([W.u32("instruction"),W.ns64("lamports")])},Deactivate:{index:5,layout:W.struct([W.u32("instruction")])},Merge:{index:7,layout:W.struct([W.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:W.struct([W.u32("instruction"),re("newAuthorized"),W.u32("stakeAuthorizationType"),qs("authoritySeed"),re("authorityOwner")])}}),sN=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class Fl{constructor(){}static initialize(e){const{stakePubkey:n,authorized:i,lockup:u}=e,o=u||xu.default,l=wn.Initialize,d=fe(l,{authorized:{staker:$t(i.staker.toBuffer()),withdrawer:$t(i.withdrawer.toBuffer())},lockup:{unixTimestamp:o.unixTimestamp,epoch:o.epoch,custodian:$t(o.custodian.toBuffer())}}),y={keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:eo,isSigner:!1,isWritable:!1}],programId:this.programId,data:d};return new Ee(y)}static createAccountWithSeed(e){const n=new he;n.add(mn.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:i,authorized:u,lockup:o}=e;return n.add(this.initialize({stakePubkey:i,authorized:u,lockup:o}))}static createAccount(e){const n=new he;n.add(mn.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:i,authorized:u,lockup:o}=e;return n.add(this.initialize({stakePubkey:i,authorized:u,lockup:o}))}static delegate(e){const{stakePubkey:n,authorizedPubkey:i,votePubkey:u}=e,o=wn.Delegate,l=fe(o);return new he().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:qr,isSigner:!1,isWritable:!1},{pubkey:pl,isSigner:!1,isWritable:!1},{pubkey:Aw,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:l})}static authorize(e){const{stakePubkey:n,authorizedPubkey:i,newAuthorizedPubkey:u,stakeAuthorizationType:o,custodianPubkey:l}=e,d=wn.Authorize,y=fe(d,{newAuthorized:$t(u.toBuffer()),stakeAuthorizationType:o.index}),_=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:qr,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1}];return l&&_.push({pubkey:l,isSigner:!0,isWritable:!1}),new he().add({keys:_,programId:this.programId,data:y})}static authorizeWithSeed(e){const{stakePubkey:n,authorityBase:i,authoritySeed:u,authorityOwner:o,newAuthorizedPubkey:l,stakeAuthorizationType:d,custodianPubkey:y}=e,_=wn.AuthorizeWithSeed,E=fe(_,{newAuthorized:$t(l.toBuffer()),stakeAuthorizationType:d.index,authoritySeed:u,authorityOwner:$t(o.toBuffer())}),C=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:qr,isSigner:!1,isWritable:!1}];return y&&C.push({pubkey:y,isSigner:!0,isWritable:!1}),new he().add({keys:C,programId:this.programId,data:E})}static splitInstruction(e){const{stakePubkey:n,authorizedPubkey:i,splitStakePubkey:u,lamports:o}=e,l=wn.Split,d=fe(l,{lamports:o});return new Ee({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:d})}static split(e,n){const i=new he;return i.add(mn.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:n,space:this.space,programId:this.programId})),i.add(this.splitInstruction(e))}static splitWithSeed(e,n){const{stakePubkey:i,authorizedPubkey:u,splitStakePubkey:o,basePubkey:l,seed:d,lamports:y}=e,_=new he;return _.add(mn.allocate({accountPubkey:o,basePubkey:l,seed:d,space:this.space,programId:this.programId})),n&&n>0&&_.add(mn.transfer({fromPubkey:e.authorizedPubkey,toPubkey:o,lamports:n})),_.add(this.splitInstruction({stakePubkey:i,authorizedPubkey:u,splitStakePubkey:o,lamports:y}))}static merge(e){const{stakePubkey:n,sourceStakePubKey:i,authorizedPubkey:u}=e,o=wn.Merge,l=fe(o);return new he().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:qr,isSigner:!1,isWritable:!1},{pubkey:pl,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!0,isWritable:!1}],programId:this.programId,data:l})}static withdraw(e){const{stakePubkey:n,authorizedPubkey:i,toPubkey:u,lamports:o,custodianPubkey:l}=e,d=wn.Withdraw,y=fe(d,{lamports:o}),_=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:qr,isSigner:!1,isWritable:!1},{pubkey:pl,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}];return l&&_.push({pubkey:l,isSigner:!0,isWritable:!1}),new he().add({keys:_,programId:this.programId,data:y})}static deactivate(e){const{stakePubkey:n,authorizedPubkey:i}=e,u=wn.Deactivate,o=fe(u);return new he().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:qr,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}}Fl.programId=new wt("Stake11111111111111111111111111111111111111");Fl.space=200;class Tw{constructor(e,n,i,u){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=n,this.authorizedWithdrawer=i,this.commission=u}}class aN{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const i=W.u32("instruction").decode(e.data);let u;for(const[o,l]of Object.entries(Vr))if(l.index==i){u=o;break}if(!u)throw new Error("Instruction type incorrect; not a VoteInstruction");return u}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:n}=be(Vr.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new Tw(new wt(n.nodePubkey),new wt(n.authorizedVoter),new wt(n.authorizedWithdrawer),n.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:n,voteAuthorizationType:i}=be(Vr.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new wt(n),voteAuthorizationType:{index:i}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:i,newAuthorized:u,voteAuthorizationType:o}}=be(Vr.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new wt(n),currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:new wt(u),voteAuthorizationType:{index:o},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:n}=be(Vr.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:n,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(uo.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}const Vr=Object.freeze({InitializeAccount:{index:0,layout:W.struct([W.u32("instruction"),fx()])},Authorize:{index:1,layout:W.struct([W.u32("instruction"),re("newAuthorized"),W.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:W.struct([W.u32("instruction"),W.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:W.struct([W.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:W.struct([W.u32("instruction"),dx()])}}),oN=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class uo{constructor(){}static initializeAccount(e){const{votePubkey:n,nodePubkey:i,voteInit:u}=e,o=Vr.InitializeAccount,l=fe(o,{voteInit:{nodePubkey:$t(u.nodePubkey.toBuffer()),authorizedVoter:$t(u.authorizedVoter.toBuffer()),authorizedWithdrawer:$t(u.authorizedWithdrawer.toBuffer()),commission:u.commission}}),d={keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:eo,isSigner:!1,isWritable:!1},{pubkey:qr,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:l};return new Ee(d)}static createAccount(e){const n=new he;return n.add(mn.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),n.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:n,authorizedPubkey:i,newAuthorizedPubkey:u,voteAuthorizationType:o}=e,l=Vr.Authorize,d=fe(l,{newAuthorized:$t(u.toBuffer()),voteAuthorizationType:o.index}),y=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:qr,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}];return new he().add({keys:y,programId:this.programId,data:d})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:n,currentAuthorityDerivedKeyOwnerPubkey:i,currentAuthorityDerivedKeySeed:u,newAuthorizedPubkey:o,voteAuthorizationType:l,votePubkey:d}=e,y=Vr.AuthorizeWithSeed,_=fe(y,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:$t(i.toBuffer()),currentAuthorityDerivedKeySeed:u,newAuthorized:$t(o.toBuffer()),voteAuthorizationType:l.index}}),E=[{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:qr,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new he().add({keys:E,programId:this.programId,data:_})}static withdraw(e){const{votePubkey:n,authorizedWithdrawerPubkey:i,lamports:u,toPubkey:o}=e,l=Vr.Withdraw,d=fe(l,{lamports:u}),y=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1}];return new he().add({keys:y,programId:this.programId,data:d})}static safeWithdraw(e,n,i){if(e.lamports>n-i)throw new Error("Withdraw will leave vote account with insufficient funds.");return uo.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:n,authorizedWithdrawerPubkey:i,nodePubkey:u}=e,o=Vr.UpdateValidatorIdentity,l=fe(o),d=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!0,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}];return new he().add({keys:d,programId:this.programId,data:l})}}uo.programId=new wt("Vote111111111111111111111111111111111111111");uo.space=3762;const xw=new wt("Va1idator1nfo111111111111111111111111111111"),uN=St({name:At(),website:zt(At()),details:zt(At()),iconUrl:zt(At()),keybaseUsername:zt(At())});class cp{constructor(e,n){this.key=void 0,this.info=void 0,this.key=e,this.info=n}static fromConfigData(e){let n=[...e];if(Fn(n)!==2)return null;const u=[];for(let o=0;o<2;o++){const l=new wt(Zn(n,0,Gr)),d=Pr(n)===1;u.push({publicKey:l,isSigner:d})}if(u[0].publicKey.equals(xw)&&u[1].isSigner){const o=qs().decode(Ct.Buffer.from(n)),l=JSON.parse(o);return q_(l,uN),new cp(u[1].publicKey,l)}return null}}const cN=new wt("Vote111111111111111111111111111111111111111"),lN=W.struct([re("nodePubkey"),re("authorizedWithdrawer"),W.u8("commission"),W.nu64(),W.seq(W.struct([W.nu64("slot"),W.u32("confirmationCount")]),W.offset(W.u32(),-8),"votes"),W.u8("rootSlotValid"),W.nu64("rootSlot"),W.nu64(),W.seq(W.struct([W.nu64("epoch"),re("authorizedVoter")]),W.offset(W.u32(),-8),"authorizedVoters"),W.struct([W.seq(W.struct([re("authorizedPubkey"),W.nu64("epochOfLastAuthorizedSwitch"),W.nu64("targetEpoch")]),32,"buf"),W.nu64("idx"),W.u8("isEmpty")],"priorVoters"),W.nu64(),W.seq(W.struct([W.nu64("epoch"),W.nu64("credits"),W.nu64("prevCredits")]),W.offset(W.u32(),-8),"epochCredits"),W.struct([W.nu64("slot"),W.nu64("timestamp")],"lastTimestamp")]);class lp{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const i=lN.decode($t(e),4);let u=i.rootSlot;return i.rootSlotValid||(u=null),new lp({nodePubkey:new wt(i.nodePubkey),authorizedWithdrawer:new wt(i.authorizedWithdrawer),commission:i.commission,votes:i.votes,rootSlot:u,authorizedVoters:i.authorizedVoters.map(fN),priorVoters:dN(i.priorVoters),epochCredits:i.epochCredits,lastTimestamp:i.lastTimestamp})}}function fN({authorizedVoter:s,epoch:e}){return{epoch:e,authorizedVoter:new wt(s)}}function hb({authorizedPubkey:s,epochOfLastAuthorizedSwitch:e,targetEpoch:n}){return{authorizedPubkey:new wt(s),epochOfLastAuthorizedSwitch:e,targetEpoch:n}}function dN({buf:s,idx:e,isEmpty:n}){return n?[]:[...s.slice(e+1).map(hb),...s.slice(0,e).map(hb)]}const pb={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function Ow(s,e){const n=e===!1?"http":"https";if(!s)return pb[n].devnet;const i=pb[n][s];if(!i)throw new Error(`Unknown ${n} cluster: ${s}`);return i}async function hN(s,e,n,i){let u,o;n&&Object.prototype.hasOwnProperty.call(n,"lastValidBlockHeight")||n&&Object.prototype.hasOwnProperty.call(n,"nonceValue")?(u=n,o=i):o=n;const l=o&&{skipPreflight:o.skipPreflight,preflightCommitment:o.preflightCommitment||o.commitment,minContextSlot:o.minContextSlot},d=await s.sendRawTransaction(e,l),y=o&&o.commitment,E=(await(u?s.confirmTransaction(u,y):s.confirmTransaction(d,y))).value;if(E.err)throw d!=null?new hs({action:l?.skipPreflight?"send":"simulate",signature:d,transactionMessage:`Status: (${JSON.stringify(E)})`}):new Error(`Raw transaction ${d} failed (${JSON.stringify(E)})`);return d}const _0=1e9,pN=Object.freeze(Object.defineProperty({__proto__:null,Account:ax,AddressLookupTableAccount:m0,AddressLookupTableInstruction:JO,AddressLookupTableProgram:op,Authorized:Rw,BLOCKHASH_CACHE_TIMEOUT_MS:hw,BPF_LOADER_DEPRECATED_PROGRAM_ID:ox,BPF_LOADER_PROGRAM_ID:Rx,BpfLoader:Tx,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:Kr,ComputeBudgetInstruction:tN,ComputeBudgetProgram:up,Connection:ap,Ed25519Program:Yl,Enum:ix,EpochSchedule:fw,FeeCalculatorLayout:cw,Keypair:Xa,LAMPORTS_PER_SOL:_0,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Ei,Loader:Ys,Lockup:xu,MAX_SEED_LENGTH:sw,Message:Or,MessageAccountKeys:yu,MessageV0:Gs,NONCE_ACCOUNT_LENGTH:p0,NonceAccount:Kl,PACKET_DATA_SIZE:cs,PUBLIC_KEY_LENGTH:Gr,PublicKey:wt,SIGNATURE_LENGTH_IN_BYTES:mu,SOLANA_SCHEMA:lu,STAKE_CONFIG_ID:Aw,STAKE_INSTRUCTION_LAYOUTS:wn,SYSTEM_INSTRUCTION_LAYOUTS:Ie,SYSVAR_CLOCK_PUBKEY:qr,SYSVAR_EPOCH_SCHEDULE_PUBKEY:gx,SYSVAR_INSTRUCTIONS_PUBKEY:bx,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:hl,SYSVAR_RENT_PUBKEY:eo,SYSVAR_REWARDS_PUBKEY:_x,SYSVAR_SLOT_HASHES_PUBKEY:wx,SYSVAR_SLOT_HISTORY_PUBKEY:vx,SYSVAR_STAKE_HISTORY_PUBKEY:pl,Secp256k1Program:$a,SendTransactionError:hs,SolanaJSONRPCError:Ut,SolanaJSONRPCErrorCode:Ex,StakeAuthorizationLayout:sN,StakeInstruction:iN,StakeProgram:Fl,Struct:W0,SystemInstruction:Sx,SystemProgram:mn,Transaction:he,TransactionExpiredBlockheightExceededError:Q0,TransactionExpiredNonceInvalidError:Ga,TransactionExpiredTimeoutError:J0,TransactionInstruction:Ee,TransactionMessage:ep,TransactionStatus:bi,VALIDATOR_INFO_KEY:xw,VERSION_PREFIX_MASK:jl,VOTE_PROGRAM_ID:cN,ValidatorInfo:cp,VersionedMessage:tp,VersionedTransaction:np,VoteAccount:lp,VoteAuthorizationLayout:oN,VoteInit:Tw,VoteInstruction:aN,VoteProgram:uo,clusterApiUrl:Ow,sendAndConfirmRawTransaction:hN,sendAndConfirmTransaction:h0},Symbol.toStringTag,{value:"Module"}));function mN(s){if(s.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let _=0;_<e.length;_++)e[_]=255;for(let _=0;_<s.length;_++){const E=s.charAt(_),C=E.charCodeAt(0);if(e[C]!==255)throw new TypeError(E+" is ambiguous");e[C]=_}const n=s.length,i=s.charAt(0),u=Math.log(n)/Math.log(256),o=Math.log(256)/Math.log(n);function l(_){if(_ instanceof Uint8Array||(ArrayBuffer.isView(_)?_=new Uint8Array(_.buffer,_.byteOffset,_.byteLength):Array.isArray(_)&&(_=Uint8Array.from(_))),!(_ instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(_.length===0)return"";let E=0,C=0,k=0;const R=_.length;for(;k!==R&&_[k]===0;)k++,E++;const M=(R-k)*o+1>>>0,U=new Uint8Array(M);for(;k!==R;){let G=_[k],P=0;for(let $=M-1;(G!==0||P<C)&&$!==-1;$--,P++)G+=256*U[$]>>>0,U[$]=G%n>>>0,G=G/n>>>0;if(G!==0)throw new Error("Non-zero carry");C=P,k++}let L=M-C;for(;L!==M&&U[L]===0;)L++;let j=i.repeat(E);for(;L<M;++L)j+=s.charAt(U[L]);return j}function d(_){if(typeof _!="string")throw new TypeError("Expected String");if(_.length===0)return new Uint8Array;let E=0,C=0,k=0;for(;_[E]===i;)C++,E++;const R=(_.length-E)*u+1>>>0,M=new Uint8Array(R);for(;E<_.length;){const G=_.charCodeAt(E);if(G>255)return;let P=e[G];if(P===255)return;let $=0;for(let et=R-1;(P!==0||$<k)&&et!==-1;et--,$++)P+=n*M[et]>>>0,M[et]=P%256>>>0,P=P/256>>>0;if(P!==0)throw new Error("Non-zero carry");k=$,E++}let U=R-k;for(;U!==R&&M[U]===0;)U++;const L=new Uint8Array(C+(R-U));let j=C;for(;U!==R;)L[j++]=M[U++];return L}function y(_){const E=d(_);if(E)return E;throw new Error("Non-base"+n+" character")}return{encode:l,decodeUnsafe:d,decode:y}}var yN="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const gN=mN(yN);var Vh,mb;function bN(){if(mb)return Vh;mb=1;var s=P0().Buffer;function e(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var i=new Uint8Array(256),u=0;u<i.length;u++)i[u]=255;for(var o=0;o<n.length;o++){var l=n.charAt(o),d=l.charCodeAt(0);if(i[d]!==255)throw new TypeError(l+" is ambiguous");i[d]=o}var y=n.length,_=n.charAt(0),E=Math.log(y)/Math.log(256),C=Math.log(256)/Math.log(y);function k(U){if((Array.isArray(U)||U instanceof Uint8Array)&&(U=s.from(U)),!s.isBuffer(U))throw new TypeError("Expected Buffer");if(U.length===0)return"";for(var L=0,j=0,G=0,P=U.length;G!==P&&U[G]===0;)G++,L++;for(var $=(P-G)*C+1>>>0,et=new Uint8Array($);G!==P;){for(var it=U[G],st=0,ot=$-1;(it!==0||st<j)&&ot!==-1;ot--,st++)it+=256*et[ot]>>>0,et[ot]=it%y>>>0,it=it/y>>>0;if(it!==0)throw new Error("Non-zero carry");j=st,G++}for(var K=$-j;K!==$&&et[K]===0;)K++;for(var Y=_.repeat(L);K<$;++K)Y+=n.charAt(et[K]);return Y}function R(U){if(typeof U!="string")throw new TypeError("Expected String");if(U.length===0)return s.alloc(0);for(var L=0,j=0,G=0;U[L]===_;)j++,L++;for(var P=(U.length-L)*E+1>>>0,$=new Uint8Array(P);L<U.length;){var et=U.charCodeAt(L);if(et>255)return;var it=i[et];if(it===255)return;for(var st=0,ot=P-1;(it!==0||st<G)&&ot!==-1;ot--,st++)it+=y*$[ot]>>>0,$[ot]=it%256>>>0,it=it/256>>>0;if(it!==0)throw new Error("Non-zero carry");G=st,L++}for(var K=P-G;K!==P&&$[K]===0;)K++;var Y=s.allocUnsafe(j+(P-K));Y.fill(0,0,j);for(var F=j;K!==P;)Y[F++]=$[K++];return Y}function M(U){var L=R(U);if(L)return L;throw new Error("Non-base"+y+" character")}return{encode:k,decodeUnsafe:R,decode:M}}return Vh=e,Vh}var Gh,yb;function _N(){if(yb)return Gh;yb=1;var s=bN(),e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return Gh=s(e),Gh}var wN=_N();const Zl=xi(wN);var Qc={exports:{}},gb;function vN(){if(gb)return Qc.exports;gb=1;const s=/[\p{Lu}]/u,e=/[\p{Ll}]/u,n=/^[\p{Lu}](?![\p{Lu}])/gu,i=/([\p{Alpha}\p{N}_]|$)/u,u=/[_.\- ]+/,o=new RegExp("^"+u.source),l=new RegExp(u.source+i.source,"gu"),d=new RegExp("\\d+"+i.source,"gu"),y=(k,R,M)=>{let U=!1,L=!1,j=!1;for(let G=0;G<k.length;G++){const P=k[G];U&&s.test(P)?(k=k.slice(0,G)+"-"+k.slice(G),U=!1,j=L,L=!0,G++):L&&j&&e.test(P)?(k=k.slice(0,G-1)+"-"+k.slice(G-1),j=L,L=!1,U=!0):(U=R(P)===P&&M(P)!==P,j=L,L=M(P)===P&&R(P)!==P)}return k},_=(k,R)=>(n.lastIndex=0,k.replace(n,M=>R(M))),E=(k,R)=>(l.lastIndex=0,d.lastIndex=0,k.replace(l,(M,U)=>R(U)).replace(d,M=>R(M))),C=(k,R)=>{if(!(typeof k=="string"||Array.isArray(k)))throw new TypeError("Expected the input to be `string | string[]`");if(R={pascalCase:!1,preserveConsecutiveUppercase:!1,...R},Array.isArray(k)?k=k.map(j=>j.trim()).filter(j=>j.length).join("-"):k=k.trim(),k.length===0)return"";const M=R.locale===!1?j=>j.toLowerCase():j=>j.toLocaleLowerCase(R.locale),U=R.locale===!1?j=>j.toUpperCase():j=>j.toLocaleUpperCase(R.locale);return k.length===1?R.pascalCase?U(k):M(k):(k!==M(k)&&(k=y(k,M,U)),k=k.replace(o,""),R.preserveConsecutiveUppercase?k=_(k,M):k=M(k),R.pascalCase&&(k=U(k.charAt(0))+k.slice(1)),E(k,U))};return Qc.exports=C,Qc.exports.default=C,Qc.exports}var EN=vN();const SN=xi(EN);var ou={},kt={},bb;function _b(){if(bb)return kt;bb=1;class s{constructor(v,m){if(!Number.isInteger(v))throw new TypeError("span must be an integer");this.span=v,this.property=m}makeDestinationObject(){return{}}decode(v,m){throw new Error("Layout is abstract")}encode(v,m,f){throw new Error("Layout is abstract")}getSpan(v,m){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(v){const m=Object.create(this.constructor.prototype);return Object.assign(m,this),m.property=v,m}fromArray(v){}}kt.Layout=s;function e(I,v){return v.property?I+"["+v.property+"]":I}kt.nameWithProperty=e;function n(I,v){if(typeof I!="function")throw new TypeError("Class must be constructor");if(I.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(v&&v instanceof s))throw new TypeError("layout must be a Layout");if(v.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");I.layout_=v,v.boundConstructor_=I,v.makeDestinationObject=(()=>new I),Object.defineProperty(I.prototype,"encode",{value:function(m,f){return v.encode(this,m,f)},writable:!0}),Object.defineProperty(I,"decode",{value:function(m,f){return v.decode(m,f)},writable:!0})}kt.bindConstructorLayout=n;class i extends s{isCount(){throw new Error("ExternalLayout is abstract")}}class u extends i{constructor(v,m){if(v===void 0&&(v=1),!Number.isInteger(v)||0>=v)throw new TypeError("elementSpan must be a (positive) integer");super(-1,m),this.elementSpan=v}isCount(){return!0}decode(v,m){m===void 0&&(m=0);const f=v.length-m;return Math.floor(f/this.elementSpan)}encode(v,m,f){return 0}}class o extends i{constructor(v,m,f){if(!(v instanceof s))throw new TypeError("layout must be a Layout");if(m===void 0)m=0;else if(!Number.isInteger(m))throw new TypeError("offset must be integer or undefined");super(v.span,f||v.property),this.layout=v,this.offset=m}isCount(){return this.layout instanceof l||this.layout instanceof d}decode(v,m){return m===void 0&&(m=0),this.layout.decode(v,m+this.offset)}encode(v,m,f){return f===void 0&&(f=0),this.layout.encode(v,m,f+this.offset)}}class l extends s{constructor(v,m){if(super(v,m),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(v,m){return m===void 0&&(m=0),v.readUIntLE(m,this.span)}encode(v,m,f){return f===void 0&&(f=0),m.writeUIntLE(v,f,this.span),this.span}}class d extends s{constructor(v,m){if(super(v,m),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(v,m){return m===void 0&&(m=0),v.readUIntBE(m,this.span)}encode(v,m,f){return f===void 0&&(f=0),m.writeUIntBE(v,f,this.span),this.span}}class y extends s{constructor(v,m){if(super(v,m),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(v,m){return m===void 0&&(m=0),v.readIntLE(m,this.span)}encode(v,m,f){return f===void 0&&(f=0),m.writeIntLE(v,f,this.span),this.span}}class _ extends s{constructor(v,m){if(super(v,m),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(v,m){return m===void 0&&(m=0),v.readIntBE(m,this.span)}encode(v,m,f){return f===void 0&&(f=0),m.writeIntBE(v,f,this.span),this.span}}const E=Math.pow(2,32);function C(I){const v=Math.floor(I/E),m=I-v*E;return{hi32:v,lo32:m}}function k(I,v){return I*E+v}class R extends s{constructor(v){super(8,v)}decode(v,m){m===void 0&&(m=0);const f=v.readUInt32LE(m),b=v.readUInt32LE(m+4);return k(b,f)}encode(v,m,f){f===void 0&&(f=0);const b=C(v);return m.writeUInt32LE(b.lo32,f),m.writeUInt32LE(b.hi32,f+4),8}}class M extends s{constructor(v){super(8,v)}decode(v,m){m===void 0&&(m=0);const f=v.readUInt32BE(m),b=v.readUInt32BE(m+4);return k(f,b)}encode(v,m,f){f===void 0&&(f=0);const b=C(v);return m.writeUInt32BE(b.hi32,f),m.writeUInt32BE(b.lo32,f+4),8}}class U extends s{constructor(v){super(8,v)}decode(v,m){m===void 0&&(m=0);const f=v.readUInt32LE(m),b=v.readInt32LE(m+4);return k(b,f)}encode(v,m,f){f===void 0&&(f=0);const b=C(v);return m.writeUInt32LE(b.lo32,f),m.writeInt32LE(b.hi32,f+4),8}}class L extends s{constructor(v){super(8,v)}decode(v,m){m===void 0&&(m=0);const f=v.readInt32BE(m),b=v.readUInt32BE(m+4);return k(f,b)}encode(v,m,f){f===void 0&&(f=0);const b=C(v);return m.writeInt32BE(b.hi32,f),m.writeUInt32BE(b.lo32,f+4),8}}class j extends s{constructor(v){super(4,v)}decode(v,m){return m===void 0&&(m=0),v.readFloatLE(m)}encode(v,m,f){return f===void 0&&(f=0),m.writeFloatLE(v,f),4}}class G extends s{constructor(v){super(4,v)}decode(v,m){return m===void 0&&(m=0),v.readFloatBE(m)}encode(v,m,f){return f===void 0&&(f=0),m.writeFloatBE(v,f),4}}class P extends s{constructor(v){super(8,v)}decode(v,m){return m===void 0&&(m=0),v.readDoubleLE(m)}encode(v,m,f){return f===void 0&&(f=0),m.writeDoubleLE(v,f),8}}class $ extends s{constructor(v){super(8,v)}decode(v,m){return m===void 0&&(m=0),v.readDoubleBE(m)}encode(v,m,f){return f===void 0&&(f=0),m.writeDoubleBE(v,f),8}}class et extends s{constructor(v,m,f){if(!(v instanceof s))throw new TypeError("elementLayout must be a Layout");if(!(m instanceof i&&m.isCount()||Number.isInteger(m)&&0<=m))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let b=-1;!(m instanceof i)&&0<v.span&&(b=m*v.span),super(b,f),this.elementLayout=v,this.count=m}getSpan(v,m){if(0<=this.span)return this.span;m===void 0&&(m=0);let f=0,b=this.count;if(b instanceof i&&(b=b.decode(v,m)),0<this.elementLayout.span)f=b*this.elementLayout.span;else{let x=0;for(;x<b;)f+=this.elementLayout.getSpan(v,m+f),++x}return f}decode(v,m){m===void 0&&(m=0);const f=[];let b=0,x=this.count;for(x instanceof i&&(x=x.decode(v,m));b<x;)f.push(this.elementLayout.decode(v,m)),m+=this.elementLayout.getSpan(v,m),b+=1;return f}encode(v,m,f){f===void 0&&(f=0);const b=this.elementLayout,x=v.reduce((z,Z)=>z+b.encode(Z,m,f+z),0);return this.count instanceof i&&this.count.encode(v.length,m,f),x}}class it extends s{constructor(v,m,f){if(!(Array.isArray(v)&&v.reduce((x,z)=>x&&z instanceof s,!0)))throw new TypeError("fields must be array of Layout instances");typeof m=="boolean"&&f===void 0&&(f=m,m=void 0);for(const x of v)if(0>x.span&&x.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let b=-1;try{b=v.reduce((x,z)=>x+z.getSpan(),0)}catch{}super(b,m),this.fields=v,this.decodePrefixes=!!f}getSpan(v,m){if(0<=this.span)return this.span;m===void 0&&(m=0);let f=0;try{f=this.fields.reduce((b,x)=>{const z=x.getSpan(v,m);return m+=z,b+z},0)}catch{throw new RangeError("indeterminate span")}return f}decode(v,m){m===void 0&&(m=0);const f=this.makeDestinationObject();for(const b of this.fields)if(b.property!==void 0&&(f[b.property]=b.decode(v,m)),m+=b.getSpan(v,m),this.decodePrefixes&&v.length===m)break;return f}encode(v,m,f){f===void 0&&(f=0);const b=f;let x=0,z=0;for(const Z of this.fields){let nt=Z.span;if(z=0<nt?nt:0,Z.property!==void 0){const vt=v[Z.property];vt!==void 0&&(z=Z.encode(vt,m,f),0>nt&&(nt=Z.getSpan(m,f)))}x=f,f+=nt}return x+z-b}fromArray(v){const m=this.makeDestinationObject();for(const f of this.fields)f.property!==void 0&&0<v.length&&(m[f.property]=v.shift());return m}layoutFor(v){if(typeof v!="string")throw new TypeError("property must be string");for(const m of this.fields)if(m.property===v)return m}offsetOf(v){if(typeof v!="string")throw new TypeError("property must be string");let m=0;for(const f of this.fields){if(f.property===v)return m;0>f.span?m=-1:0<=m&&(m+=f.span)}}}class st{constructor(v){this.property=v}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class ot extends st{constructor(v,m){if(!(v instanceof i&&v.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(m||v.property||"variant"),this.layout=v}decode(v,m){return this.layout.decode(v,m)}encode(v,m,f){return this.layout.encode(v,m,f)}}class K extends s{constructor(v,m,f){const b=v instanceof l||v instanceof d;if(b)v=new ot(new o(v));else if(v instanceof i&&v.isCount())v=new ot(v);else if(!(v instanceof st))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(m===void 0&&(m=null),!(m===null||m instanceof s))throw new TypeError("defaultLayout must be null or a Layout");if(m!==null){if(0>m.span)throw new Error("defaultLayout must have constant span");m.property===void 0&&(m=m.replicate("content"))}let x=-1;m&&(x=m.span,0<=x&&b&&(x+=v.layout.span)),super(x,f),this.discriminator=v,this.usesPrefixDiscriminator=b,this.defaultLayout=m,this.registry={};let z=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(Z){return z(Z)},this.configGetSourceVariant=function(Z){z=Z.bind(this)}}getSpan(v,m){if(0<=this.span)return this.span;m===void 0&&(m=0);const f=this.getVariant(v,m);if(!f)throw new Error("unable to determine span for unrecognized variant");return f.getSpan(v,m)}defaultGetSourceVariant(v){if(v.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&v.hasOwnProperty(this.defaultLayout.property))return;const m=this.registry[v[this.discriminator.property]];if(m&&(!m.layout||v.hasOwnProperty(m.property)))return m}else for(const m in this.registry){const f=this.registry[m];if(v.hasOwnProperty(f.property))return f}throw new Error("unable to infer src variant")}decode(v,m){m===void 0&&(m=0);let f;const b=this.discriminator,x=b.decode(v,m);let z=this.registry[x];if(z===void 0){let Z=0;z=this.defaultLayout,this.usesPrefixDiscriminator&&(Z=b.layout.span),f=this.makeDestinationObject(),f[b.property]=x,f[z.property]=this.defaultLayout.decode(v,m+Z)}else f=z.decode(v,m);return f}encode(v,m,f){f===void 0&&(f=0);const b=this.getSourceVariant(v);if(b===void 0){const x=this.discriminator,z=this.defaultLayout;let Z=0;return this.usesPrefixDiscriminator&&(Z=x.layout.span),x.encode(v[x.property],m,f),Z+z.encode(v[z.property],m,f+Z)}return b.encode(v,m,f)}addVariant(v,m,f){const b=new Y(this,v,m,f);return this.registry[v]=b,b}getVariant(v,m){let f=v;return Buffer.isBuffer(v)&&(m===void 0&&(m=0),f=this.discriminator.decode(v,m)),this.registry[f]}}class Y extends s{constructor(v,m,f,b){if(!(v instanceof K))throw new TypeError("union must be a Union");if(!Number.isInteger(m)||0>m)throw new TypeError("variant must be a (non-negative) integer");if(typeof f=="string"&&b===void 0&&(b=f,f=null),f){if(!(f instanceof s))throw new TypeError("layout must be a Layout");if(v.defaultLayout!==null&&0<=f.span&&f.span>v.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof b!="string")throw new TypeError("variant must have a String property")}let x=v.span;0>v.span&&(x=f?f.span:0,0<=x&&v.usesPrefixDiscriminator&&(x+=v.discriminator.layout.span)),super(x,b),this.union=v,this.variant=m,this.layout=f||null}getSpan(v,m){if(0<=this.span)return this.span;m===void 0&&(m=0);let f=0;return this.union.usesPrefixDiscriminator&&(f=this.union.discriminator.layout.span),f+this.layout.getSpan(v,m+f)}decode(v,m){const f=this.makeDestinationObject();if(m===void 0&&(m=0),this!==this.union.getVariant(v,m))throw new Error("variant mismatch");let b=0;return this.union.usesPrefixDiscriminator&&(b=this.union.discriminator.layout.span),this.layout?f[this.property]=this.layout.decode(v,m+b):this.property?f[this.property]=!0:this.union.usesPrefixDiscriminator&&(f[this.union.discriminator.property]=this.variant),f}encode(v,m,f){f===void 0&&(f=0);let b=0;if(this.union.usesPrefixDiscriminator&&(b=this.union.discriminator.layout.span),this.layout&&!v.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,m,f);let x=b;if(this.layout&&(this.layout.encode(v[this.property],m,f+b),x+=this.layout.getSpan(m,f+b),0<=this.union.span&&x>this.union.span))throw new Error("encoded variant overruns containing union");return x}fromArray(v){if(this.layout)return this.layout.fromArray(v)}}function F(I){return 0>I&&(I+=4294967296),I}class X extends s{constructor(v,m,f){if(!(v instanceof l||v instanceof d))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof m=="string"&&f===void 0&&(f=m,m=void 0),4<v.span)throw new RangeError("word cannot exceed 32 bits");super(v.span,f),this.word=v,this.msb=!!m,this.fields=[];let b=0;this._packedSetValue=function(x){return b=F(x),this},this._packedGetValue=function(){return b}}decode(v,m){const f=this.makeDestinationObject();m===void 0&&(m=0);const b=this.word.decode(v,m);this._packedSetValue(b);for(const x of this.fields)x.property!==void 0&&(f[x.property]=x.decode(b));return f}encode(v,m,f){f===void 0&&(f=0);const b=this.word.decode(m,f);this._packedSetValue(b);for(const x of this.fields)if(x.property!==void 0){const z=v[x.property];z!==void 0&&x.encode(z)}return this.word.encode(this._packedGetValue(),m,f)}addField(v,m){const f=new O(this,v,m);return this.fields.push(f),f}addBoolean(v){const m=new h(this,v);return this.fields.push(m),m}fieldFor(v){if(typeof v!="string")throw new TypeError("property must be string");for(const m of this.fields)if(m.property===v)return m}}class O{constructor(v,m,f){if(!(v instanceof X))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(m)||0>=m)throw new TypeError("bits must be positive integer");const b=8*v.span,x=v.fields.reduce((z,Z)=>z+Z.bits,0);if(m+x>b)throw new Error("bits too long for span remainder ("+(b-x)+" of "+b+" remain)");this.container=v,this.bits=m,this.valueMask=(1<<m)-1,m===32&&(this.valueMask=4294967295),this.start=x,this.container.msb&&(this.start=b-x-m),this.wordMask=F(this.valueMask<<this.start),this.property=f}decode(){const v=this.container._packedGetValue();return F(v&this.wordMask)>>>this.start}encode(v){if(!Number.isInteger(v)||v!==F(v&this.valueMask))throw new TypeError(e("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const m=this.container._packedGetValue(),f=F(v<<this.start);this.container._packedSetValue(F(m&~this.wordMask)|f)}}class h extends O{constructor(v,m){super(v,1,m)}decode(v,m){return!!O.prototype.decode.call(this,v,m)}encode(v){return typeof v=="boolean"&&(v=+v),O.prototype.encode.call(this,v)}}class w extends s{constructor(v,m){if(!(v instanceof i&&v.isCount()||Number.isInteger(v)&&0<=v))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let f=-1;v instanceof i||(f=v),super(f,m),this.length=v}getSpan(v,m){let f=this.span;return 0>f&&(f=this.length.decode(v,m)),f}decode(v,m){m===void 0&&(m=0);let f=this.span;return 0>f&&(f=this.length.decode(v,m)),v.slice(m,m+f)}encode(v,m,f){let b=this.length;if(this.length instanceof i&&(b=v.length),!(Buffer.isBuffer(v)&&b===v.length))throw new TypeError(e("Blob.encode",this)+" requires (length "+b+") Buffer as src");if(f+b>m.length)throw new RangeError("encoding overruns Buffer");return m.write(v.toString("hex"),f,b,"hex"),this.length instanceof i&&this.length.encode(b,m,f),b}}class S extends s{constructor(v){super(-1,v)}getSpan(v,m){if(!Buffer.isBuffer(v))throw new TypeError("b must be a Buffer");m===void 0&&(m=0);let f=m;for(;f<v.length&&v[f]!==0;)f+=1;return 1+f-m}decode(v,m,f){m===void 0&&(m=0);let b=this.getSpan(v,m);return v.slice(m,m+b-1).toString("utf-8")}encode(v,m,f){f===void 0&&(f=0),typeof v!="string"&&(v=v.toString());const b=new Buffer(v,"utf8"),x=b.length;if(f+x>m.length)throw new RangeError("encoding overruns Buffer");return b.copy(m,f),m[f+x]=0,x+1}}class B extends s{constructor(v,m){if(typeof v=="string"&&m===void 0&&(m=v,v=void 0),v===void 0)v=-1;else if(!Number.isInteger(v))throw new TypeError("maxSpan must be an integer");super(-1,m),this.maxSpan=v}getSpan(v,m){if(!Buffer.isBuffer(v))throw new TypeError("b must be a Buffer");return m===void 0&&(m=0),v.length-m}decode(v,m,f){m===void 0&&(m=0);let b=this.getSpan(v,m);if(0<=this.maxSpan&&this.maxSpan<b)throw new RangeError("text length exceeds maxSpan");return v.slice(m,m+b).toString("utf-8")}encode(v,m,f){f===void 0&&(f=0),typeof v!="string"&&(v=v.toString());const b=new Buffer(v,"utf8"),x=b.length;if(0<=this.maxSpan&&this.maxSpan<x)throw new RangeError("text length exceeds maxSpan");if(f+x>m.length)throw new RangeError("encoding overruns Buffer");return b.copy(m,f),x}}class D extends s{constructor(v,m){super(0,m),this.value=v}decode(v,m,f){return this.value}encode(v,m,f){return 0}}return kt.ExternalLayout=i,kt.GreedyCount=u,kt.OffsetLayout=o,kt.UInt=l,kt.UIntBE=d,kt.Int=y,kt.IntBE=_,kt.Float=j,kt.FloatBE=G,kt.Double=P,kt.DoubleBE=$,kt.Sequence=et,kt.Structure=it,kt.UnionDiscriminator=st,kt.UnionLayoutDiscriminator=ot,kt.Union=K,kt.VariantLayout=Y,kt.BitStructure=X,kt.BitField=O,kt.Boolean=h,kt.Blob=w,kt.CString=S,kt.UTF8=B,kt.Constant=D,kt.greedy=((I,v)=>new u(I,v)),kt.offset=((I,v,m)=>new o(I,v,m)),kt.u8=(I=>new l(1,I)),kt.u16=(I=>new l(2,I)),kt.u24=(I=>new l(3,I)),kt.u32=(I=>new l(4,I)),kt.u40=(I=>new l(5,I)),kt.u48=(I=>new l(6,I)),kt.nu64=(I=>new R(I)),kt.u16be=(I=>new d(2,I)),kt.u24be=(I=>new d(3,I)),kt.u32be=(I=>new d(4,I)),kt.u40be=(I=>new d(5,I)),kt.u48be=(I=>new d(6,I)),kt.nu64be=(I=>new M(I)),kt.s8=(I=>new y(1,I)),kt.s16=(I=>new y(2,I)),kt.s24=(I=>new y(3,I)),kt.s32=(I=>new y(4,I)),kt.s40=(I=>new y(5,I)),kt.s48=(I=>new y(6,I)),kt.ns64=(I=>new U(I)),kt.s16be=(I=>new _(2,I)),kt.s24be=(I=>new _(3,I)),kt.s32be=(I=>new _(4,I)),kt.s40be=(I=>new _(5,I)),kt.s48be=(I=>new _(6,I)),kt.ns64be=(I=>new L(I)),kt.f32=(I=>new j(I)),kt.f32be=(I=>new G(I)),kt.f64=(I=>new P(I)),kt.f64be=(I=>new $(I)),kt.struct=((I,v,m)=>new it(I,v,m)),kt.bits=((I,v,m)=>new X(I,v,m)),kt.seq=((I,v,m)=>new et(I,v,m)),kt.union=((I,v,m)=>new K(I,v,m)),kt.unionLayoutDiscriminator=((I,v)=>new ot(I,v)),kt.blob=((I,v)=>new w(I,v)),kt.cstr=(I=>new S(I)),kt.utf8=((I,v)=>new B(I,v)),kt.const=((I,v)=>new D(I,v)),kt}const AN=Ml(pN);var wb;function RN(){return wb||(wb=1,(function(s){var e=ou&&ou.__importDefault||function(X){return X&&X.__esModule?X:{default:X}};Object.defineProperty(s,"__esModule",{value:!0}),s.struct=s.f64=s.f32=s.i32=s.u32=s.i16=s.u16=s.i8=s.u8=void 0,s.u64=d,s.i64=y,s.u128=_,s.i128=E,s.u256=C,s.i256=k,s.publicKey=M,s.option=L,s.bool=j,s.vec=$,s.tagged=et,s.vecU8=it,s.str=st,s.rustEnum=ot,s.array=K,s.map=F;const n=_b(),i=AN,u=e(j0());var o=_b();Object.defineProperty(s,"u8",{enumerable:!0,get:function(){return o.u8}}),Object.defineProperty(s,"i8",{enumerable:!0,get:function(){return o.s8}}),Object.defineProperty(s,"u16",{enumerable:!0,get:function(){return o.u16}}),Object.defineProperty(s,"i16",{enumerable:!0,get:function(){return o.s16}}),Object.defineProperty(s,"u32",{enumerable:!0,get:function(){return o.u32}}),Object.defineProperty(s,"i32",{enumerable:!0,get:function(){return o.s32}}),Object.defineProperty(s,"f32",{enumerable:!0,get:function(){return o.f32}}),Object.defineProperty(s,"f64",{enumerable:!0,get:function(){return o.f64}}),Object.defineProperty(s,"struct",{enumerable:!0,get:function(){return o.struct}});class l extends n.Layout{constructor(O,h,w){super(O,w),this.blob=(0,n.blob)(O),this.signed=h}decode(O,h=0){const w=new u.default(this.blob.decode(O,h),10,"le");return this.signed?w.fromTwos(this.span*8).clone():w}encode(O,h,w=0){return this.signed&&(O=O.toTwos(this.span*8)),this.blob.encode(O.toArrayLike(Buffer,"le",this.span),h,w)}}function d(X){return new l(8,!1,X)}function y(X){return new l(8,!0,X)}function _(X){return new l(16,!1,X)}function E(X){return new l(16,!0,X)}function C(X){return new l(32,!1,X)}function k(X){return new l(32,!0,X)}class R extends n.Layout{constructor(O,h,w,S){super(O.span,S),this.layout=O,this.decoder=h,this.encoder=w}decode(O,h){return this.decoder(this.layout.decode(O,h))}encode(O,h,w){return this.layout.encode(this.encoder(O),h,w)}getSpan(O,h){return this.layout.getSpan(O,h)}}function M(X){return new R((0,n.blob)(32),O=>new i.PublicKey(O),O=>O.toBuffer(),X)}class U extends n.Layout{constructor(O,h){super(-1,h),this.layout=O,this.discriminator=(0,n.u8)()}encode(O,h,w=0){return O==null?this.discriminator.encode(0,h,w):(this.discriminator.encode(1,h,w),this.layout.encode(O,h,w+1)+1)}decode(O,h=0){const w=this.discriminator.decode(O,h);if(w===0)return null;if(w===1)return this.layout.decode(O,h+1);throw new Error("Invalid option "+this.property)}getSpan(O,h=0){const w=this.discriminator.decode(O,h);if(w===0)return 1;if(w===1)return this.layout.getSpan(O,h+1)+1;throw new Error("Invalid option "+this.property)}}function L(X,O){return new U(X,O)}function j(X){return new R((0,n.u8)(),G,P,X)}function G(X){if(X===0)return!1;if(X===1)return!0;throw new Error("Invalid bool: "+X)}function P(X){return X?1:0}function $(X,O){const h=(0,n.u32)("length"),w=(0,n.struct)([h,(0,n.seq)(X,(0,n.offset)(h,-h.span),"values")]);return new R(w,({values:S})=>S,S=>({values:S}),O)}function et(X,O,h){const w=(0,n.struct)([d("tag"),O.replicate("data")]);function S({tag:B,data:D}){if(!B.eq(X))throw new Error("Invalid tag, expected: "+X.toString("hex")+", got: "+B.toString("hex"));return D}return new R(w,S,B=>({tag:X,data:B}),h)}function it(X){const O=(0,n.u32)("length"),h=(0,n.struct)([O,(0,n.blob)((0,n.offset)(O,-O.span),"data")]);return new R(h,({data:w})=>w,w=>({data:w}),X)}function st(X){return new R(it(),O=>O.toString("utf-8"),O=>Buffer.from(O,"utf-8"),X)}function ot(X,O,h){const w=(0,n.union)(h??(0,n.u8)(),O);return X.forEach((S,B)=>w.addVariant(B,S,S.property)),w}function K(X,O,h){const w=(0,n.struct)([(0,n.seq)(X,O,"values")]);return new R(w,({values:S})=>S,S=>({values:S}),h)}class Y extends n.Layout{constructor(O,h,w){super(O.span+h.span,w),this.keyLayout=O,this.valueLayout=h}decode(O,h){h=h||0;const w=this.keyLayout.decode(O,h),S=this.valueLayout.decode(O,h+this.keyLayout.getSpan(O,h));return[w,S]}encode(O,h,w){w=w||0;const S=this.keyLayout.encode(O[0],h,w),B=this.valueLayout.encode(O[1],h,w+S);return S+B}getSpan(O,h){return this.keyLayout.getSpan(O,h)+this.valueLayout.getSpan(O,h)}}function F(X,O,h){const w=(0,n.u32)("length"),S=(0,n.struct)([w,(0,n.seq)(new Y(X,O),(0,n.offset)(w,-w.span),"values")]);return new R(S,({values:B})=>new Map(B),B=>({values:Array.from(B.entries())}),h)}})(ou)),ou}var Ft=RN();function co(s){let e=s.length;for(;--e>=0;)s[e]=0}const TN=3,xN=258,Nw=29,ON=256,NN=ON+1+Nw,kw=30,kN=512,CN=new Array((NN+2)*2);co(CN);const IN=new Array(kw*2);co(IN);const BN=new Array(kN);co(BN);const MN=new Array(xN-TN+1);co(MN);const UN=new Array(Nw);co(UN);const LN=new Array(kw);co(LN);const DN=(s,e,n,i)=>{let u=s&65535|0,o=s>>>16&65535|0,l=0;for(;n!==0;){l=n>2e3?2e3:n,n-=l;do u=u+e[i++]|0,o=o+u|0;while(--l);u%=65521,o%=65521}return u|o<<16|0};var w0=DN;const zN=()=>{let s,e=[];for(var n=0;n<256;n++){s=n;for(var i=0;i<8;i++)s=s&1?3988292384^s>>>1:s>>>1;e[n]=s}return e},HN=new Uint32Array(zN()),qN=(s,e,n,i)=>{const u=HN,o=i+n;s^=-1;for(let l=i;l<o;l++)s=s>>>8^u[(s^e[l])&255];return s^-1};var Hr=qN,v0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Cw={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const jN=(s,e)=>Object.prototype.hasOwnProperty.call(s,e);var PN=function(s){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const i in n)jN(n,i)&&(s[i]=n[i])}}return s},KN=s=>{let e=0;for(let i=0,u=s.length;i<u;i++)e+=s[i].length;const n=new Uint8Array(e);for(let i=0,u=0,o=s.length;i<o;i++){let l=s[i];n.set(l,u),u+=l.length}return n},Iw={assign:PN,flattenChunks:KN};let Bw=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Bw=!1}const bu=new Uint8Array(256);for(let s=0;s<256;s++)bu[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;bu[254]=bu[254]=1;var VN=s=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(s);let e,n,i,u,o,l=s.length,d=0;for(u=0;u<l;u++)n=s.charCodeAt(u),(n&64512)===55296&&u+1<l&&(i=s.charCodeAt(u+1),(i&64512)===56320&&(n=65536+(n-55296<<10)+(i-56320),u++)),d+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(d),o=0,u=0;o<d;u++)n=s.charCodeAt(u),(n&64512)===55296&&u+1<l&&(i=s.charCodeAt(u+1),(i&64512)===56320&&(n=65536+(n-55296<<10)+(i-56320),u++)),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|n&63):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|n&63):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|n&63);return e};const GN=(s,e)=>{if(e<65534&&s.subarray&&Bw)return String.fromCharCode.apply(null,s.length===e?s:s.subarray(0,e));let n="";for(let i=0;i<e;i++)n+=String.fromCharCode(s[i]);return n};var YN=(s,e)=>{const n=e||s.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(s.subarray(0,e));let i,u;const o=new Array(n*2);for(u=0,i=0;i<n;){let l=s[i++];if(l<128){o[u++]=l;continue}let d=bu[l];if(d>4){o[u++]=65533,i+=d-1;continue}for(l&=d===2?31:d===3?15:7;d>1&&i<n;)l=l<<6|s[i++]&63,d--;if(d>1){o[u++]=65533;continue}l<65536?o[u++]=l:(l-=65536,o[u++]=55296|l>>10&1023,o[u++]=56320|l&1023)}return GN(o,u)},FN=(s,e)=>{e=e||s.length,e>s.length&&(e=s.length);let n=e-1;for(;n>=0&&(s[n]&192)===128;)n--;return n<0||n===0?e:n+bu[s[n]]>e?n:e},E0={string2buf:VN,buf2string:YN,utf8border:FN};function ZN(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var XN=ZN;const Jc=16209,$N=16191;var WN=function(e,n){let i,u,o,l,d,y,_,E,C,k,R,M,U,L,j,G,P,$,et,it,st,ot,K,Y;const F=e.state;i=e.next_in,K=e.input,u=i+(e.avail_in-5),o=e.next_out,Y=e.output,l=o-(n-e.avail_out),d=o+(e.avail_out-257),y=F.dmax,_=F.wsize,E=F.whave,C=F.wnext,k=F.window,R=F.hold,M=F.bits,U=F.lencode,L=F.distcode,j=(1<<F.lenbits)-1,G=(1<<F.distbits)-1;t:do{M<15&&(R+=K[i++]<<M,M+=8,R+=K[i++]<<M,M+=8),P=U[R&j];e:for(;;){if($=P>>>24,R>>>=$,M-=$,$=P>>>16&255,$===0)Y[o++]=P&65535;else if($&16){et=P&65535,$&=15,$&&(M<$&&(R+=K[i++]<<M,M+=8),et+=R&(1<<$)-1,R>>>=$,M-=$),M<15&&(R+=K[i++]<<M,M+=8,R+=K[i++]<<M,M+=8),P=L[R&G];n:for(;;){if($=P>>>24,R>>>=$,M-=$,$=P>>>16&255,$&16){if(it=P&65535,$&=15,M<$&&(R+=K[i++]<<M,M+=8,M<$&&(R+=K[i++]<<M,M+=8)),it+=R&(1<<$)-1,it>y){e.msg="invalid distance too far back",F.mode=Jc;break t}if(R>>>=$,M-=$,$=o-l,it>$){if($=it-$,$>E&&F.sane){e.msg="invalid distance too far back",F.mode=Jc;break t}if(st=0,ot=k,C===0){if(st+=_-$,$<et){et-=$;do Y[o++]=k[st++];while(--$);st=o-it,ot=Y}}else if(C<$){if(st+=_+C-$,$-=C,$<et){et-=$;do Y[o++]=k[st++];while(--$);if(st=0,C<et){$=C,et-=$;do Y[o++]=k[st++];while(--$);st=o-it,ot=Y}}}else if(st+=C-$,$<et){et-=$;do Y[o++]=k[st++];while(--$);st=o-it,ot=Y}for(;et>2;)Y[o++]=ot[st++],Y[o++]=ot[st++],Y[o++]=ot[st++],et-=3;et&&(Y[o++]=ot[st++],et>1&&(Y[o++]=ot[st++]))}else{st=o-it;do Y[o++]=Y[st++],Y[o++]=Y[st++],Y[o++]=Y[st++],et-=3;while(et>2);et&&(Y[o++]=Y[st++],et>1&&(Y[o++]=Y[st++]))}}else if(($&64)===0){P=L[(P&65535)+(R&(1<<$)-1)];continue n}else{e.msg="invalid distance code",F.mode=Jc;break t}break}}else if(($&64)===0){P=U[(P&65535)+(R&(1<<$)-1)];continue e}else if($&32){F.mode=$N;break t}else{e.msg="invalid literal/length code",F.mode=Jc;break t}break}}while(i<u&&o<d);et=M>>3,i-=et,M-=et<<3,R&=(1<<M)-1,e.next_in=i,e.next_out=o,e.avail_in=i<u?5+(u-i):5-(i-u),e.avail_out=o<d?257+(d-o):257-(o-d),F.hold=R,F.bits=M};const Ka=15,vb=852,Eb=592,Sb=0,Yh=1,Ab=2,QN=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),JN=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),tk=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ek=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),nk=(s,e,n,i,u,o,l,d)=>{const y=d.bits;let _=0,E=0,C=0,k=0,R=0,M=0,U=0,L=0,j=0,G=0,P,$,et,it,st,ot=null,K;const Y=new Uint16Array(Ka+1),F=new Uint16Array(Ka+1);let X=null,O,h,w;for(_=0;_<=Ka;_++)Y[_]=0;for(E=0;E<i;E++)Y[e[n+E]]++;for(R=y,k=Ka;k>=1&&Y[k]===0;k--);if(R>k&&(R=k),k===0)return u[o++]=1<<24|64<<16|0,u[o++]=1<<24|64<<16|0,d.bits=1,0;for(C=1;C<k&&Y[C]===0;C++);for(R<C&&(R=C),L=1,_=1;_<=Ka;_++)if(L<<=1,L-=Y[_],L<0)return-1;if(L>0&&(s===Sb||k!==1))return-1;for(F[1]=0,_=1;_<Ka;_++)F[_+1]=F[_]+Y[_];for(E=0;E<i;E++)e[n+E]!==0&&(l[F[e[n+E]]++]=E);if(s===Sb?(ot=X=l,K=20):s===Yh?(ot=QN,X=JN,K=257):(ot=tk,X=ek,K=0),G=0,E=0,_=C,st=o,M=R,U=0,et=-1,j=1<<R,it=j-1,s===Yh&&j>vb||s===Ab&&j>Eb)return 1;for(;;){O=_-U,l[E]+1<K?(h=0,w=l[E]):l[E]>=K?(h=X[l[E]-K],w=ot[l[E]-K]):(h=96,w=0),P=1<<_-U,$=1<<M,C=$;do $-=P,u[st+(G>>U)+$]=O<<24|h<<16|w|0;while($!==0);for(P=1<<_-1;G&P;)P>>=1;if(P!==0?(G&=P-1,G+=P):G=0,E++,--Y[_]===0){if(_===k)break;_=e[n+l[E]]}if(_>R&&(G&it)!==et){for(U===0&&(U=R),st+=C,M=_-U,L=1<<M;M+U<k&&(L-=Y[M+U],!(L<=0));)M++,L<<=1;if(j+=1<<M,s===Yh&&j>vb||s===Ab&&j>Eb)return 1;et=G&it,u[et]=R<<24|M<<16|st-o|0}}return G!==0&&(u[st+G]=_-U<<24|64<<16|0),d.bits=R,0};var fu=nk;const rk=0,Mw=1,Uw=2,{Z_FINISH:Rb,Z_BLOCK:ik,Z_TREES:tl,Z_OK:Fs,Z_STREAM_END:sk,Z_NEED_DICT:ak,Z_STREAM_ERROR:_r,Z_DATA_ERROR:Lw,Z_MEM_ERROR:Dw,Z_BUF_ERROR:ok,Z_DEFLATED:Tb}=Cw,Xl=16180,xb=16181,Ob=16182,Nb=16183,kb=16184,Cb=16185,Ib=16186,Bb=16187,Mb=16188,Ub=16189,Nl=16190,gi=16191,Fh=16192,Lb=16193,Zh=16194,Db=16195,zb=16196,Hb=16197,qb=16198,el=16199,nl=16200,jb=16201,Pb=16202,Kb=16203,Vb=16204,Gb=16205,Xh=16206,Yb=16207,Fb=16208,Ke=16209,zw=16210,Hw=16211,uk=852,ck=592,lk=15,fk=lk,Zb=s=>(s>>>24&255)+(s>>>8&65280)+((s&65280)<<8)+((s&255)<<24);function dk(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Qs=s=>{if(!s)return 1;const e=s.state;return!e||e.strm!==s||e.mode<Xl||e.mode>Hw?1:0},qw=s=>{if(Qs(s))return _r;const e=s.state;return s.total_in=s.total_out=e.total=0,s.msg="",e.wrap&&(s.adler=e.wrap&1),e.mode=Xl,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(uk),e.distcode=e.distdyn=new Int32Array(ck),e.sane=1,e.back=-1,Fs},jw=s=>{if(Qs(s))return _r;const e=s.state;return e.wsize=0,e.whave=0,e.wnext=0,qw(s)},Pw=(s,e)=>{let n;if(Qs(s))return _r;const i=s.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?_r:(i.window!==null&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,jw(s))},Kw=(s,e)=>{if(!s)return _r;const n=new dk;s.state=n,n.strm=s,n.window=null,n.mode=Xl;const i=Pw(s,e);return i!==Fs&&(s.state=null),i},hk=s=>Kw(s,fk);let Xb=!0,$h,Wh;const pk=s=>{if(Xb){$h=new Int32Array(512),Wh=new Int32Array(32);let e=0;for(;e<144;)s.lens[e++]=8;for(;e<256;)s.lens[e++]=9;for(;e<280;)s.lens[e++]=7;for(;e<288;)s.lens[e++]=8;for(fu(Mw,s.lens,0,288,$h,0,s.work,{bits:9}),e=0;e<32;)s.lens[e++]=5;fu(Uw,s.lens,0,32,Wh,0,s.work,{bits:5}),Xb=!1}s.lencode=$h,s.lenbits=9,s.distcode=Wh,s.distbits=5},Vw=(s,e,n,i)=>{let u;const o=s.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),i>=o.wsize?(o.window.set(e.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(u=o.wsize-o.wnext,u>i&&(u=i),o.window.set(e.subarray(n-i,n-i+u),o.wnext),i-=u,i?(o.window.set(e.subarray(n-i,n),0),o.wnext=i,o.whave=o.wsize):(o.wnext+=u,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=u))),0},mk=(s,e)=>{let n,i,u,o,l,d,y,_,E,C,k,R,M,U,L=0,j,G,P,$,et,it,st,ot;const K=new Uint8Array(4);let Y,F;const X=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Qs(s)||!s.output||!s.input&&s.avail_in!==0)return _r;n=s.state,n.mode===gi&&(n.mode=Fh),l=s.next_out,u=s.output,y=s.avail_out,o=s.next_in,i=s.input,d=s.avail_in,_=n.hold,E=n.bits,C=d,k=y,ot=Fs;t:for(;;)switch(n.mode){case Xl:if(n.wrap===0){n.mode=Fh;break}for(;E<16;){if(d===0)break t;d--,_+=i[o++]<<E,E+=8}if(n.wrap&2&&_===35615){n.wbits===0&&(n.wbits=15),n.check=0,K[0]=_&255,K[1]=_>>>8&255,n.check=Hr(n.check,K,2,0),_=0,E=0,n.mode=xb;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((_&255)<<8)+(_>>8))%31){s.msg="incorrect header check",n.mode=Ke;break}if((_&15)!==Tb){s.msg="unknown compression method",n.mode=Ke;break}if(_>>>=4,E-=4,st=(_&15)+8,n.wbits===0&&(n.wbits=st),st>15||st>n.wbits){s.msg="invalid window size",n.mode=Ke;break}n.dmax=1<<n.wbits,n.flags=0,s.adler=n.check=1,n.mode=_&512?Ub:gi,_=0,E=0;break;case xb:for(;E<16;){if(d===0)break t;d--,_+=i[o++]<<E,E+=8}if(n.flags=_,(n.flags&255)!==Tb){s.msg="unknown compression method",n.mode=Ke;break}if(n.flags&57344){s.msg="unknown header flags set",n.mode=Ke;break}n.head&&(n.head.text=_>>8&1),n.flags&512&&n.wrap&4&&(K[0]=_&255,K[1]=_>>>8&255,n.check=Hr(n.check,K,2,0)),_=0,E=0,n.mode=Ob;case Ob:for(;E<32;){if(d===0)break t;d--,_+=i[o++]<<E,E+=8}n.head&&(n.head.time=_),n.flags&512&&n.wrap&4&&(K[0]=_&255,K[1]=_>>>8&255,K[2]=_>>>16&255,K[3]=_>>>24&255,n.check=Hr(n.check,K,4,0)),_=0,E=0,n.mode=Nb;case Nb:for(;E<16;){if(d===0)break t;d--,_+=i[o++]<<E,E+=8}n.head&&(n.head.xflags=_&255,n.head.os=_>>8),n.flags&512&&n.wrap&4&&(K[0]=_&255,K[1]=_>>>8&255,n.check=Hr(n.check,K,2,0)),_=0,E=0,n.mode=kb;case kb:if(n.flags&1024){for(;E<16;){if(d===0)break t;d--,_+=i[o++]<<E,E+=8}n.length=_,n.head&&(n.head.extra_len=_),n.flags&512&&n.wrap&4&&(K[0]=_&255,K[1]=_>>>8&255,n.check=Hr(n.check,K,2,0)),_=0,E=0}else n.head&&(n.head.extra=null);n.mode=Cb;case Cb:if(n.flags&1024&&(R=n.length,R>d&&(R=d),R&&(n.head&&(st=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(o,o+R),st)),n.flags&512&&n.wrap&4&&(n.check=Hr(n.check,i,R,o)),d-=R,o+=R,n.length-=R),n.length))break t;n.length=0,n.mode=Ib;case Ib:if(n.flags&2048){if(d===0)break t;R=0;do st=i[o+R++],n.head&&st&&n.length<65536&&(n.head.name+=String.fromCharCode(st));while(st&&R<d);if(n.flags&512&&n.wrap&4&&(n.check=Hr(n.check,i,R,o)),d-=R,o+=R,st)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=Bb;case Bb:if(n.flags&4096){if(d===0)break t;R=0;do st=i[o+R++],n.head&&st&&n.length<65536&&(n.head.comment+=String.fromCharCode(st));while(st&&R<d);if(n.flags&512&&n.wrap&4&&(n.check=Hr(n.check,i,R,o)),d-=R,o+=R,st)break t}else n.head&&(n.head.comment=null);n.mode=Mb;case Mb:if(n.flags&512){for(;E<16;){if(d===0)break t;d--,_+=i[o++]<<E,E+=8}if(n.wrap&4&&_!==(n.check&65535)){s.msg="header crc mismatch",n.mode=Ke;break}_=0,E=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),s.adler=n.check=0,n.mode=gi;break;case Ub:for(;E<32;){if(d===0)break t;d--,_+=i[o++]<<E,E+=8}s.adler=n.check=Zb(_),_=0,E=0,n.mode=Nl;case Nl:if(n.havedict===0)return s.next_out=l,s.avail_out=y,s.next_in=o,s.avail_in=d,n.hold=_,n.bits=E,ak;s.adler=n.check=1,n.mode=gi;case gi:if(e===ik||e===tl)break t;case Fh:if(n.last){_>>>=E&7,E-=E&7,n.mode=Xh;break}for(;E<3;){if(d===0)break t;d--,_+=i[o++]<<E,E+=8}switch(n.last=_&1,_>>>=1,E-=1,_&3){case 0:n.mode=Lb;break;case 1:if(pk(n),n.mode=el,e===tl){_>>>=2,E-=2;break t}break;case 2:n.mode=zb;break;case 3:s.msg="invalid block type",n.mode=Ke}_>>>=2,E-=2;break;case Lb:for(_>>>=E&7,E-=E&7;E<32;){if(d===0)break t;d--,_+=i[o++]<<E,E+=8}if((_&65535)!==(_>>>16^65535)){s.msg="invalid stored block lengths",n.mode=Ke;break}if(n.length=_&65535,_=0,E=0,n.mode=Zh,e===tl)break t;case Zh:n.mode=Db;case Db:if(R=n.length,R){if(R>d&&(R=d),R>y&&(R=y),R===0)break t;u.set(i.subarray(o,o+R),l),d-=R,o+=R,y-=R,l+=R,n.length-=R;break}n.mode=gi;break;case zb:for(;E<14;){if(d===0)break t;d--,_+=i[o++]<<E,E+=8}if(n.nlen=(_&31)+257,_>>>=5,E-=5,n.ndist=(_&31)+1,_>>>=5,E-=5,n.ncode=(_&15)+4,_>>>=4,E-=4,n.nlen>286||n.ndist>30){s.msg="too many length or distance symbols",n.mode=Ke;break}n.have=0,n.mode=Hb;case Hb:for(;n.have<n.ncode;){for(;E<3;){if(d===0)break t;d--,_+=i[o++]<<E,E+=8}n.lens[X[n.have++]]=_&7,_>>>=3,E-=3}for(;n.have<19;)n.lens[X[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Y={bits:n.lenbits},ot=fu(rk,n.lens,0,19,n.lencode,0,n.work,Y),n.lenbits=Y.bits,ot){s.msg="invalid code lengths set",n.mode=Ke;break}n.have=0,n.mode=qb;case qb:for(;n.have<n.nlen+n.ndist;){for(;L=n.lencode[_&(1<<n.lenbits)-1],j=L>>>24,G=L>>>16&255,P=L&65535,!(j<=E);){if(d===0)break t;d--,_+=i[o++]<<E,E+=8}if(P<16)_>>>=j,E-=j,n.lens[n.have++]=P;else{if(P===16){for(F=j+2;E<F;){if(d===0)break t;d--,_+=i[o++]<<E,E+=8}if(_>>>=j,E-=j,n.have===0){s.msg="invalid bit length repeat",n.mode=Ke;break}st=n.lens[n.have-1],R=3+(_&3),_>>>=2,E-=2}else if(P===17){for(F=j+3;E<F;){if(d===0)break t;d--,_+=i[o++]<<E,E+=8}_>>>=j,E-=j,st=0,R=3+(_&7),_>>>=3,E-=3}else{for(F=j+7;E<F;){if(d===0)break t;d--,_+=i[o++]<<E,E+=8}_>>>=j,E-=j,st=0,R=11+(_&127),_>>>=7,E-=7}if(n.have+R>n.nlen+n.ndist){s.msg="invalid bit length repeat",n.mode=Ke;break}for(;R--;)n.lens[n.have++]=st}}if(n.mode===Ke)break;if(n.lens[256]===0){s.msg="invalid code -- missing end-of-block",n.mode=Ke;break}if(n.lenbits=9,Y={bits:n.lenbits},ot=fu(Mw,n.lens,0,n.nlen,n.lencode,0,n.work,Y),n.lenbits=Y.bits,ot){s.msg="invalid literal/lengths set",n.mode=Ke;break}if(n.distbits=6,n.distcode=n.distdyn,Y={bits:n.distbits},ot=fu(Uw,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Y),n.distbits=Y.bits,ot){s.msg="invalid distances set",n.mode=Ke;break}if(n.mode=el,e===tl)break t;case el:n.mode=nl;case nl:if(d>=6&&y>=258){s.next_out=l,s.avail_out=y,s.next_in=o,s.avail_in=d,n.hold=_,n.bits=E,WN(s,k),l=s.next_out,u=s.output,y=s.avail_out,o=s.next_in,i=s.input,d=s.avail_in,_=n.hold,E=n.bits,n.mode===gi&&(n.back=-1);break}for(n.back=0;L=n.lencode[_&(1<<n.lenbits)-1],j=L>>>24,G=L>>>16&255,P=L&65535,!(j<=E);){if(d===0)break t;d--,_+=i[o++]<<E,E+=8}if(G&&(G&240)===0){for($=j,et=G,it=P;L=n.lencode[it+((_&(1<<$+et)-1)>>$)],j=L>>>24,G=L>>>16&255,P=L&65535,!($+j<=E);){if(d===0)break t;d--,_+=i[o++]<<E,E+=8}_>>>=$,E-=$,n.back+=$}if(_>>>=j,E-=j,n.back+=j,n.length=P,G===0){n.mode=Gb;break}if(G&32){n.back=-1,n.mode=gi;break}if(G&64){s.msg="invalid literal/length code",n.mode=Ke;break}n.extra=G&15,n.mode=jb;case jb:if(n.extra){for(F=n.extra;E<F;){if(d===0)break t;d--,_+=i[o++]<<E,E+=8}n.length+=_&(1<<n.extra)-1,_>>>=n.extra,E-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Pb;case Pb:for(;L=n.distcode[_&(1<<n.distbits)-1],j=L>>>24,G=L>>>16&255,P=L&65535,!(j<=E);){if(d===0)break t;d--,_+=i[o++]<<E,E+=8}if((G&240)===0){for($=j,et=G,it=P;L=n.distcode[it+((_&(1<<$+et)-1)>>$)],j=L>>>24,G=L>>>16&255,P=L&65535,!($+j<=E);){if(d===0)break t;d--,_+=i[o++]<<E,E+=8}_>>>=$,E-=$,n.back+=$}if(_>>>=j,E-=j,n.back+=j,G&64){s.msg="invalid distance code",n.mode=Ke;break}n.offset=P,n.extra=G&15,n.mode=Kb;case Kb:if(n.extra){for(F=n.extra;E<F;){if(d===0)break t;d--,_+=i[o++]<<E,E+=8}n.offset+=_&(1<<n.extra)-1,_>>>=n.extra,E-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){s.msg="invalid distance too far back",n.mode=Ke;break}n.mode=Vb;case Vb:if(y===0)break t;if(R=k-y,n.offset>R){if(R=n.offset-R,R>n.whave&&n.sane){s.msg="invalid distance too far back",n.mode=Ke;break}R>n.wnext?(R-=n.wnext,M=n.wsize-R):M=n.wnext-R,R>n.length&&(R=n.length),U=n.window}else U=u,M=l-n.offset,R=n.length;R>y&&(R=y),y-=R,n.length-=R;do u[l++]=U[M++];while(--R);n.length===0&&(n.mode=nl);break;case Gb:if(y===0)break t;u[l++]=n.length,y--,n.mode=nl;break;case Xh:if(n.wrap){for(;E<32;){if(d===0)break t;d--,_|=i[o++]<<E,E+=8}if(k-=y,s.total_out+=k,n.total+=k,n.wrap&4&&k&&(s.adler=n.check=n.flags?Hr(n.check,u,k,l-k):w0(n.check,u,k,l-k)),k=y,n.wrap&4&&(n.flags?_:Zb(_))!==n.check){s.msg="incorrect data check",n.mode=Ke;break}_=0,E=0}n.mode=Yb;case Yb:if(n.wrap&&n.flags){for(;E<32;){if(d===0)break t;d--,_+=i[o++]<<E,E+=8}if(n.wrap&4&&_!==(n.total&4294967295)){s.msg="incorrect length check",n.mode=Ke;break}_=0,E=0}n.mode=Fb;case Fb:ot=sk;break t;case Ke:ot=Lw;break t;case zw:return Dw;case Hw:default:return _r}return s.next_out=l,s.avail_out=y,s.next_in=o,s.avail_in=d,n.hold=_,n.bits=E,(n.wsize||k!==s.avail_out&&n.mode<Ke&&(n.mode<Xh||e!==Rb))&&Vw(s,s.output,s.next_out,k-s.avail_out),C-=s.avail_in,k-=s.avail_out,s.total_in+=C,s.total_out+=k,n.total+=k,n.wrap&4&&k&&(s.adler=n.check=n.flags?Hr(n.check,u,k,s.next_out-k):w0(n.check,u,k,s.next_out-k)),s.data_type=n.bits+(n.last?64:0)+(n.mode===gi?128:0)+(n.mode===el||n.mode===Zh?256:0),(C===0&&k===0||e===Rb)&&ot===Fs&&(ot=ok),ot},yk=s=>{if(Qs(s))return _r;let e=s.state;return e.window&&(e.window=null),s.state=null,Fs},gk=(s,e)=>{if(Qs(s))return _r;const n=s.state;return(n.wrap&2)===0?_r:(n.head=e,e.done=!1,Fs)},bk=(s,e)=>{const n=e.length;let i,u,o;return Qs(s)||(i=s.state,i.wrap!==0&&i.mode!==Nl)?_r:i.mode===Nl&&(u=1,u=w0(u,e,n,0),u!==i.check)?Lw:(o=Vw(s,e,n,n),o?(i.mode=zw,Dw):(i.havedict=1,Fs))};var _k=jw,wk=Pw,vk=qw,Ek=hk,Sk=Kw,Ak=mk,Rk=yk,Tk=gk,xk=bk,Ok="pako inflate (from Nodeca project)",wi={inflateReset:_k,inflateReset2:wk,inflateResetKeep:vk,inflateInit:Ek,inflateInit2:Sk,inflate:Ak,inflateEnd:Rk,inflateGetHeader:Tk,inflateSetDictionary:xk,inflateInfo:Ok};function Nk(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var kk=Nk;const Gw=Object.prototype.toString,{Z_NO_FLUSH:Ck,Z_FINISH:Ik,Z_OK:_u,Z_STREAM_END:Qh,Z_NEED_DICT:Jh,Z_STREAM_ERROR:Bk,Z_DATA_ERROR:$b,Z_MEM_ERROR:Mk}=Cw;function $l(s){this.options=Iw.assign({chunkSize:1024*64,windowBits:15,to:""},s||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(s&&s.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new XN,this.strm.avail_out=0;let n=wi.inflateInit2(this.strm,e.windowBits);if(n!==_u)throw new Error(v0[n]);if(this.header=new kk,wi.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=E0.string2buf(e.dictionary):Gw.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=wi.inflateSetDictionary(this.strm,e.dictionary),n!==_u)))throw new Error(v0[n])}$l.prototype.push=function(s,e){const n=this.strm,i=this.options.chunkSize,u=this.options.dictionary;let o,l,d;if(this.ended)return!1;for(e===~~e?l=e:l=e===!0?Ik:Ck,Gw.call(s)==="[object ArrayBuffer]"?n.input=new Uint8Array(s):n.input=s,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),o=wi.inflate(n,l),o===Jh&&u&&(o=wi.inflateSetDictionary(n,u),o===_u?o=wi.inflate(n,l):o===$b&&(o=Jh));n.avail_in>0&&o===Qh&&n.state.wrap>0&&s[n.next_in]!==0;)wi.inflateReset(n),o=wi.inflate(n,l);switch(o){case Bk:case $b:case Jh:case Mk:return this.onEnd(o),this.ended=!0,!1}if(d=n.avail_out,n.next_out&&(n.avail_out===0||o===Qh))if(this.options.to==="string"){let y=E0.utf8border(n.output,n.next_out),_=n.next_out-y,E=E0.buf2string(n.output,y);n.next_out=_,n.avail_out=i-_,_&&n.output.set(n.output.subarray(y,y+_),0),this.onData(E)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(o===_u&&d===0)){if(o===Qh)return o=wi.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};$l.prototype.onData=function(s){this.chunks.push(s)};$l.prototype.onEnd=function(s){s===_u&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Iw.flattenChunks(this.chunks)),this.chunks=[],this.err=s,this.msg=this.strm.msg};function Uk(s,e){const n=new $l(e);if(n.push(s),n.err)throw n.msg||v0[n.err];return n.result}var Lk=Uk,Dk={inflate:Lk};const{inflate:zk}=Dk;var Hk=zk,t0={exports:{}},Wb;function qk(){return Wb||(Wb=1,(function(s){var e=Object.prototype.hasOwnProperty,n="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1));function u(y,_,E){this.fn=y,this.context=_,this.once=E||!1}function o(y,_,E,C,k){if(typeof E!="function")throw new TypeError("The listener must be a function");var R=new u(E,C||y,k),M=n?n+_:_;return y._events[M]?y._events[M].fn?y._events[M]=[y._events[M],R]:y._events[M].push(R):(y._events[M]=R,y._eventsCount++),y}function l(y,_){--y._eventsCount===0?y._events=new i:delete y._events[_]}function d(){this._events=new i,this._eventsCount=0}d.prototype.eventNames=function(){var _=[],E,C;if(this._eventsCount===0)return _;for(C in E=this._events)e.call(E,C)&&_.push(n?C.slice(1):C);return Object.getOwnPropertySymbols?_.concat(Object.getOwnPropertySymbols(E)):_},d.prototype.listeners=function(_){var E=n?n+_:_,C=this._events[E];if(!C)return[];if(C.fn)return[C.fn];for(var k=0,R=C.length,M=new Array(R);k<R;k++)M[k]=C[k].fn;return M},d.prototype.listenerCount=function(_){var E=n?n+_:_,C=this._events[E];return C?C.fn?1:C.length:0},d.prototype.emit=function(_,E,C,k,R,M){var U=n?n+_:_;if(!this._events[U])return!1;var L=this._events[U],j=arguments.length,G,P;if(L.fn){switch(L.once&&this.removeListener(_,L.fn,void 0,!0),j){case 1:return L.fn.call(L.context),!0;case 2:return L.fn.call(L.context,E),!0;case 3:return L.fn.call(L.context,E,C),!0;case 4:return L.fn.call(L.context,E,C,k),!0;case 5:return L.fn.call(L.context,E,C,k,R),!0;case 6:return L.fn.call(L.context,E,C,k,R,M),!0}for(P=1,G=new Array(j-1);P<j;P++)G[P-1]=arguments[P];L.fn.apply(L.context,G)}else{var $=L.length,et;for(P=0;P<$;P++)switch(L[P].once&&this.removeListener(_,L[P].fn,void 0,!0),j){case 1:L[P].fn.call(L[P].context);break;case 2:L[P].fn.call(L[P].context,E);break;case 3:L[P].fn.call(L[P].context,E,C);break;case 4:L[P].fn.call(L[P].context,E,C,k);break;default:if(!G)for(et=1,G=new Array(j-1);et<j;et++)G[et-1]=arguments[et];L[P].fn.apply(L[P].context,G)}}return!0},d.prototype.on=function(_,E,C){return o(this,_,E,C,!1)},d.prototype.once=function(_,E,C){return o(this,_,E,C,!0)},d.prototype.removeListener=function(_,E,C,k){var R=n?n+_:_;if(!this._events[R])return this;if(!E)return l(this,R),this;var M=this._events[R];if(M.fn)M.fn===E&&(!k||M.once)&&(!C||M.context===C)&&l(this,R);else{for(var U=0,L=[],j=M.length;U<j;U++)(M[U].fn!==E||k&&!M[U].once||C&&M[U].context!==C)&&L.push(M[U]);L.length?this._events[R]=L.length===1?L[0]:L:l(this,R)}return this},d.prototype.removeAllListeners=function(_){var E;return _?(E=n?n+_:_,this._events[E]&&l(this,E)):(this._events=new i,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,s.exports=d})(t0)),t0.exports}var jk=qk();const Pk=xi(jk);function Kk(s,e){return Array.apply(0,new Array(Math.ceil(s.length/e))).map((n,i)=>s.slice(i*e,(i+1)*e))}const Ms=s=>"version"in s;function Vk(s){return s.reduce((e,n)=>e+n.toString(16).padStart(2,"0"),"0x")}function Gk(s){s.indexOf("0x")===0&&(s=s.substr(2)),s.length%2===1&&(s="0"+s);let e=s.match(/.{2}/g);return e===null?Ct.Buffer.from([]):Ct.Buffer.from(e.map(n=>parseInt(n,16)))}var Yk=Object.freeze({__proto__:null,encode:Vk,decode:Gk});function Yw(s){return new TextDecoder("utf-8").decode(s)}function Fk(s){return new TextEncoder().encode(s)}var Zk=Object.freeze({__proto__:null,decode:Yw,encode:Fk});function S0(s){return Zl.encode(s)}function Xk(s){return Zl.decode(s)}var $k=Object.freeze({__proto__:null,encode:S0,decode:Xk});function Wk(s){return s.toString("base64")}function fp(s){return Ct.Buffer.from(s,"base64")}var Qk=Object.freeze({__proto__:null,encode:Wk,decode:fp}),Jk=Object.freeze({__proto__:null,hex:Yk,utf8:Zk,bs58:$k,base64:Qk});function as(s){return"accounts"in s}async function t3(s){const e=(await wt.findProgramAddress([],s))[0];return await wt.createWithSeed(e,e3(),s)}function e3(){return"anchor:idl"}const n3=Ft.struct([Ft.publicKey("authority"),Ft.vecU8("data")]);function r3(s){return n3.decode(s)}function i3(s){const e=["name","path","account","relations","generic"],n=o=>o.split(".").map(l=>SN(l,{locale:!1})).join("."),i=o=>{for(const l in o){const d=o[l];e.includes(l)?o[l]=Array.isArray(d)?d.map(n):n(d):typeof d=="object"&&i(d)}},u=structuredClone(s);return i(u),u}function Ya(s,e,n,i){return s?.length?s[0].name?n(s):i(s):e()}function s3(s){const e=new Map;return s.errors&&s.errors.forEach(n=>{var i;let u=(i=n.msg)!==null&&i!==void 0?i:n.name;e.set(n.code,u)}),e}function a3(s,...e){if(s.args.length!=e.length)throw new Error("Invalid argument length");const n={};let i=0;return s.args.forEach(u=>{n[u.name]=e[i],i+=1}),n}function Fw(s,e={}){s.forEach(n=>{if(as(n))Fw(n.accounts,e[n.name]);else if(!e[n.name])throw new Error(`Account \`${n.name}\` not provided.`)})}function br(s){return s instanceof wt?s:new wt(s)}class o3 extends TypeError{constructor(e,n){let i;const{message:u,...o}=e,{path:l}=e,d=l.length===0?u:"At path: "+l.join(".")+" -- "+u;super(d),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>{var y;return(y=i)!=null?y:i=[e,...n()]}}}function u3(s){return Wa(s)&&typeof s[Symbol.iterator]=="function"}function Wa(s){return typeof s=="object"&&s!=null}function ps(s){return typeof s=="string"?JSON.stringify(s):""+s}function c3(s){const{done:e,value:n}=s.next();return e?void 0:n}function l3(s,e,n,i){if(s===!0)return;s===!1?s={}:typeof s=="string"&&(s={message:s});const{path:u,branch:o}=e,{type:l}=n,{refinement:d,message:y="Expected a value of type `"+l+"`"+(d?" with refinement `"+d+"`":"")+", but received: `"+ps(i)+"`"}=s;return{value:i,type:l,refinement:d,key:u[u.length-1],path:u,branch:o,...s,message:y}}function*Qb(s,e,n,i){u3(s)||(s=[s]);for(const u of s){const o=l3(u,e,n,i);o&&(yield o)}}function*dp(s,e,n){n===void 0&&(n={});const{path:i=[],branch:u=[s],coerce:o=!1,mask:l=!1}=n,d={path:i,branch:u};if(o&&(s=e.coercer(s,d),l&&e.type!=="type"&&Wa(e.schema)&&Wa(s)&&!Array.isArray(s)))for(const _ in s)e.schema[_]===void 0&&delete s[_];let y=!0;for(const _ of e.validator(s,d))y=!1,yield[_,void 0];for(let[_,E,C]of e.entries(s,d)){const k=dp(E,C,{path:_===void 0?i:[...i,_],branch:_===void 0?u:[...u,E],coerce:o,mask:l});for(const R of k)R[0]?(y=!1,yield[R[0],void 0]):o&&(E=R[1],_===void 0?s=E:s instanceof Map?s.set(_,E):s instanceof Set?s.add(E):Wa(s)&&(s[_]=E))}if(y)for(const _ of e.refiner(s,d))y=!1,yield[_,void 0];y&&(yield[void 0,s])}class ms{constructor(e){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:n,schema:i,validator:u,refiner:o,coercer:l=y=>y,entries:d=function*(){}}=e;this.type=n,this.schema=i,this.entries=d,this.coercer=l,u?this.validator=(y,_)=>{const E=u(y,_);return Qb(E,_,this,y)}:this.validator=()=>[],o?this.refiner=(y,_)=>{const E=o(y,_);return Qb(E,_,this,y)}:this.refiner=()=>[]}assert(e){return f3(e,this)}create(e){return hp(e,this)}is(e){return Zw(e,this)}mask(e){return d3(e,this)}validate(e,n){return n===void 0&&(n={}),Ou(e,this,n)}}function f3(s,e){const n=Ou(s,e);if(n[0])throw n[0]}function hp(s,e){const n=Ou(s,e,{coerce:!0});if(n[0])throw n[0];return n[1]}function d3(s,e){const n=Ou(s,e,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}function Zw(s,e){return!Ou(s,e)[0]}function Ou(s,e,n){n===void 0&&(n={});const i=dp(s,e,n),u=c3(i);return u[0]?[new o3(u[0],function*(){for(const l of i)l[0]&&(yield l[0])}),void 0]:[void 0,u[1]]}function Nu(s,e){return new ms({type:s,schema:null,validator:e})}function h3(){return Nu("any",()=>!0)}function e0(s){return new ms({type:"array",schema:s,*entries(e){if(s&&Array.isArray(e))for(const[n,i]of e.entries())yield[n,i,s]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+ps(e)}})}function p3(){return Nu("boolean",s=>typeof s=="boolean")}function Jb(s){const e=ps(s);return new ms({type:"literal",schema:s,validator(n){return n===s||"Expected the literal `"+e+"`, but received: "+ps(n)}})}function rl(s){return new ms({...s,validator:(e,n)=>e===null||s.validator(e,n),refiner:(e,n)=>e===null||s.refiner(e,n)})}function ml(){return Nu("number",s=>typeof s=="number"&&!isNaN(s)||"Expected a number, but received: "+ps(s))}function yl(s){return new ms({...s,validator:(e,n)=>e===void 0||s.validator(e,n),refiner:(e,n)=>e===void 0||s.refiner(e,n)})}function js(){return Nu("string",s=>typeof s=="string"||"Expected a string, but received: "+ps(s))}function ls(s){const e=Object.keys(s);return new ms({type:"type",schema:s,*entries(n){if(Wa(n))for(const i of e)yield[i,n[i],s[i]]},validator(n){return Wa(n)||"Expected an object, but received: "+ps(n)}})}function Xw(s){const e=s.map(n=>n.type).join(" | ");return new ms({type:"union",schema:null,coercer(n,i){return(s.find(o=>{const[l]=o.validate(n,{coerce:!0});return!l})||pp()).coercer(n,i)},validator(n,i){const u=[];for(const o of s){const[...l]=dp(n,o,i),[d]=l;if(d[0])for(const[y]of l)y&&u.push(y);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+ps(n),...u]}})}function pp(){return Nu("unknown",()=>!0)}function m3(s,e,n){return new ms({...s,coercer:(i,u)=>Zw(i,e)?s.coercer(n(i,u),u):s.coercer(i,u)})}async function y3(s,e,n,i){s=br(s),i||(i=kl());const u=new he;if(u.add(new Ee({programId:s,keys:e??[],data:n})),i.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");return await i.sendAndConfirm(u,[])}const t_=99;async function g3(s,e,n){return(await mp(s,e,n)).map(u=>u?{publicKey:u.publicKey,account:u.account}:null)}async function mp(s,e,n){if(e.length<=t_)return await e_(s,e,n);{const i=Kk(e,t_);return(await Promise.all(i.map(o=>e_(s,o,n)))).flat()}}async function e_(s,e,n){const i=n??s.commitment,{value:u,context:o}=await s.getMultipleAccountsInfoAndContext(e,i);return u.map((d,y)=>d===null?null:{publicKey:e[y],account:d,context:o})}async function $w(s,e,n,i,u){var o;n&&n.length>0&&e.sign(...n);const l=e._compile(),d=l.serialize(),_=e._serialize(d).toString("base64"),E={encoding:"base64",commitment:i??s.commitment};if(u){const M=(Array.isArray(u)?u:l.nonProgramIds()).map(U=>U.toBase58());E.accounts={encoding:"base64",addresses:M}}n&&n.length>0&&(E.sigVerify=!0);const C=[_,E],k=await s._rpcRequest("simulateTransaction",C),R=hp(k,v3);if("error"in R){let M;if("data"in R.error&&(M=(o=R.error.data)===null||o===void 0?void 0:o.logs,M&&Array.isArray(M))){const U=`
    `,L=U+M.join(U);console.error(R.error.message,L)}throw new hs("failed to simulate transaction: "+R.error.message,M)}return R.result}function b3(s){return m3(Ww(s),_3,e=>"error"in e?e:{...e,result:hp(e.result,s)})}const _3=Ww(pp());function Ww(s){return Xw([ls({jsonrpc:Jb("2.0"),id:js(),result:s}),ls({jsonrpc:Jb("2.0"),id:js(),error:ls({code:pp(),message:js(),data:yl(h3())})})])}function w3(s){return b3(ls({context:ls({slot:ml()}),value:s}))}const v3=w3(ls({err:rl(Xw([ls({}),js()])),logs:rl(e0(js())),accounts:yl(rl(e0(rl(ls({executable:p3(),owner:js(),lamports:ml(),data:e0(js()),rentEpoch:yl(ml())}))))),unitsConsumed:yl(ml())}));var E3=Object.freeze({__proto__:null,invoke:y3,getMultipleAccounts:g3,getMultipleAccountsAndContext:mp,simulateTransaction:$w});class wu{constructor(e,n,i=wu.defaultOptions()){this.connection=e,this.wallet=n,this.opts=i,this.publicKey=n?.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(e,n=wu.defaultOptions()){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(e,n,i){var u,o,l,d;if(i===void 0&&(i=this.opts),Ms(e))n&&e.sign(n);else if(e.feePayer=(u=e.feePayer)!==null&&u!==void 0?u:this.wallet.publicKey,e.recentBlockhash=(await this.connection.getLatestBlockhash(i.preflightCommitment)).blockhash,n)for(const _ of n)e.partialSign(_);e=await this.wallet.signTransaction(e);const y=e.serialize();try{return await n_(this.connection,y,i)}catch(_){if(_ instanceof A0){const E=S0(Ms(e)?((o=e.signatures)===null||o===void 0?void 0:o[0])||new Uint8Array:(l=e.signature)!==null&&l!==void 0?l:new Uint8Array),C=Ms(e)?0:void 0,k=await this.connection.getTransaction(E,{commitment:"confirmed",maxSupportedTransactionVersion:C});if(k){const R=(d=k.meta)===null||d===void 0?void 0:d.logMessages;throw R?new hs(_.message,R):_}else throw _}else throw _}}async sendAll(e,n){var i,u,o;n===void 0&&(n=this.opts);const l=(await this.connection.getLatestBlockhash(n.preflightCommitment)).blockhash;let d=e.map(E=>{var C,k;if(Ms(E.tx)){let R=E.tx;return E.signers&&R.sign(E.signers),R}else{let R=E.tx,M=(C=E.signers)!==null&&C!==void 0?C:[];return R.feePayer=(k=R.feePayer)!==null&&k!==void 0?k:this.wallet.publicKey,R.recentBlockhash=l,M.forEach(U=>{R.partialSign(U)}),R}});const y=await this.wallet.signAllTransactions(d),_=[];for(let E=0;E<d.length;E+=1){const C=y[E],k=C.serialize();try{_.push(await n_(this.connection,k,n))}catch(R){if(R instanceof A0){const M=S0(Ms(C)?((i=C.signatures)===null||i===void 0?void 0:i[0])||new Uint8Array:(u=C.signature)!==null&&u!==void 0?u:new Uint8Array),U=Ms(C)?0:void 0,L=await this.connection.getTransaction(M,{commitment:"confirmed",maxSupportedTransactionVersion:U});if(L){const j=(o=L.meta)===null||o===void 0?void 0:o.logMessages;throw j?new hs(R.message,j):R}else throw R}else throw R}}return _}async simulate(e,n,i,u){let o=(await this.connection.getLatestBlockhash(i??this.connection.commitment)).blockhash,l;if(Ms(e)?(n&&n.length>0&&(e.sign(n),e=await this.wallet.signTransaction(e)),l=await this.connection.simulateTransaction(e,{commitment:i})):(e.feePayer=e.feePayer||this.wallet.publicKey,e.recentBlockhash=o,n&&n.length>0&&(e=await this.wallet.signTransaction(e)),l=await $w(this.connection,e,n,i,u)),l.value.err)throw new S3(l.value);return l.value}}class S3 extends Error{constructor(e,n){super(n),this.simulationResponse=e}}async function n_(s,e,n){const i=n?{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot}:{};let u;const o=Date.now();for(;Date.now()-o<6e4;)try{const l=await s.sendRawTransaction(e,i);if(n?.blockhash)if(i.maxRetries===0){const d=AbortSignal.timeout(15e3);u=(await s.confirmTransaction({abortSignal:d,signature:l,...n.blockhash},n&&n.commitment)).value}else u=(await s.confirmTransaction({signature:l,...n.blockhash},n&&n.commitment)).value;else u=(await s.confirmTransaction(l,n&&n.commitment)).value;if(u.err)throw new A0(`Raw transaction ${l} failed (${JSON.stringify(u)})`);return l}catch(l){if(l.name==="TimeoutError")continue;throw l}throw Error("Transaction failed to confirm in 60s")}class A0 extends Error{constructor(e){super(e)}}function kl(){return wu.local()}var A3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function R3(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var dt={};Object.defineProperty(dt,"__esModule",{value:!0});var Qw=dt.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=Zv=dt.ANCHOR_ERROR__REQUIRE_VIOLATED=Fv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=Yv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=Gv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=Vv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=Kv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=Pv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=jv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=qv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=Hv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=zv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=Dv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=Lv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=Uv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=Mv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=Bv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=Iv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=Cv=dt.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=kv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=Nv=dt.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=Ov=dt.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=xv=dt.ANCHOR_ERROR__CONSTRAINT_SPACE=Tv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=Rv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=Av=dt.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=Sv=dt.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=Ev=dt.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=vv=dt.ANCHOR_ERROR__CONSTRAINT_ZERO=wv=dt.ANCHOR_ERROR__CONSTRAINT_ADDRESS=_v=dt.ANCHOR_ERROR__CONSTRAINT_CLOSE=bv=dt.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=gv=dt.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=yv=dt.ANCHOR_ERROR__CONSTRAINT_STATE=mv=dt.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=pv=dt.ANCHOR_ERROR__CONSTRAINT_SEEDS=hv=dt.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=dv=dt.ANCHOR_ERROR__CONSTRAINT_OWNER=fv=dt.ANCHOR_ERROR__CONSTRAINT_RAW=lv=dt.ANCHOR_ERROR__CONSTRAINT_SIGNER=cv=dt.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=uv=dt.ANCHOR_ERROR__CONSTRAINT_MUT=ov=dt.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=av=dt.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=sv=dt.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=iv=dt.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=rv=dt.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=nv=dt.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=ev=dt.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=tv=dt.ANCHOR_ERROR__INSTRUCTION_MISSING=void 0,Jw=dt.ANCHOR_ERROR__DEPRECATED=wE=dt.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=_E=dt.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=bE=dt.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=gE=dt.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=yE=dt.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=mE=dt.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=pE=dt.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=hE=dt.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=dE=dt.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=fE=dt.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=lE=dt.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=cE=dt.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=uE=dt.ANCHOR_ERROR__INVALID_PROGRAM_ID=oE=dt.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=aE=dt.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=sE=dt.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=iE=dt.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=rE=dt.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=nE=dt.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=eE=dt.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=tE=dt.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=Jv=dt.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=Qv=dt.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=Wv=dt.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=$v=dt.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=Xv=dt.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=void 0,tv=dt.ANCHOR_ERROR__INSTRUCTION_MISSING=100,ev=dt.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=101,nv=dt.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=102,rv=dt.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=103,iv=dt.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=1e3,sv=dt.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=1001,av=dt.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=1002,ov=dt.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=1500,uv=dt.ANCHOR_ERROR__CONSTRAINT_MUT=2e3,cv=dt.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=2001,lv=dt.ANCHOR_ERROR__CONSTRAINT_SIGNER=2002,fv=dt.ANCHOR_ERROR__CONSTRAINT_RAW=2003,dv=dt.ANCHOR_ERROR__CONSTRAINT_OWNER=2004,hv=dt.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=2005,pv=dt.ANCHOR_ERROR__CONSTRAINT_SEEDS=2006,mv=dt.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=2007,yv=dt.ANCHOR_ERROR__CONSTRAINT_STATE=2008,gv=dt.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=2009,bv=dt.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=2010,_v=dt.ANCHOR_ERROR__CONSTRAINT_CLOSE=2011,wv=dt.ANCHOR_ERROR__CONSTRAINT_ADDRESS=2012,vv=dt.ANCHOR_ERROR__CONSTRAINT_ZERO=2013,Ev=dt.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=2014,Sv=dt.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=2015,Av=dt.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=2016,Rv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=2017,Tv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=2018,xv=dt.ANCHOR_ERROR__CONSTRAINT_SPACE=2019,Ov=dt.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=2020,Nv=dt.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=2021,kv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=2022,Cv=dt.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=2023,Iv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=2024,Bv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=2025,Mv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=2026,Uv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=2027,Lv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=2028,Dv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=2029,zv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=2030,Hv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=2031,qv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=2032,jv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=2033,Pv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=2034,Kv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=2035,Vv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=2036,Gv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=2037,Yv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=2038,Fv=dt.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=2039,Zv=dt.ANCHOR_ERROR__REQUIRE_VIOLATED=2500;Qw=dt.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=2501;var Xv=dt.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=2502,$v=dt.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=2503,Wv=dt.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=2504,Qv=dt.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=2505,Jv=dt.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=2506,tE=dt.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=3e3,eE=dt.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=3001,nE=dt.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=3002,rE=dt.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=3003,iE=dt.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=3004,sE=dt.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=3005,aE=dt.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=3006,oE=dt.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=3007,uE=dt.ANCHOR_ERROR__INVALID_PROGRAM_ID=3008,cE=dt.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=3009,lE=dt.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=3010,fE=dt.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=3011,dE=dt.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=3012,hE=dt.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=3013,pE=dt.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=3014,mE=dt.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=3015,yE=dt.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=3016,gE=dt.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=3017,bE=dt.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=4100,_E=dt.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=4101,wE=dt.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=4102;Jw=dt.ANCHOR_ERROR__DEPRECATED=5e3;const T3=new Set(["debug-logs"]),vE=new Map;function x3(s){if(!T3.has(s))throw new Error("Invalid feature");vE.set(s,!0)}function yp(s){return vE.get(s)!==void 0}var O3=Object.freeze({__proto__:null,set:x3,isSet:yp});class ss extends Error{constructor(e){super(e),this.name="IdlError"}}class ku{constructor(e){this.stack=e}static parse(e){var n;const i=/^Program (\w*) invoke/,u=/^Program \w* success/,o=[];for(let l=0;l<e.length;l++){if(u.exec(e[l])){o.pop();continue}const d=(n=i.exec(e[l]))===null||n===void 0?void 0:n[1];d&&o.push(new wt(d))}return new ku(o)}}class du extends Error{constructor(e,n,i,u,o,l){super(i.join(`
`).replace("Program log: ","")),this.errorLogs=i,this.logs=u,this.error={errorCode:e,errorMessage:n,comparedValues:l,origin:o},this._programErrorStack=ku.parse(u)}static parse(e){if(!e)return null;const n=e.findIndex(k=>k.startsWith("Program log: AnchorError"));if(n===-1)return null;const i=e[n],u=[i];let o;if(n+1<e.length){if(e[n+1]==="Program log: Left:"){const k=/^Program log: (.*)$/,R=k.exec(e[n+2])[1],M=k.exec(e[n+4])[1];o=[new wt(R),new wt(M)],u.push(...e.slice(n+1,n+5))}else if(e[n+1].startsWith("Program log: Left:")){const k=/^Program log: (Left|Right): (.*)$/,R=k.exec(e[n+1])[2],M=k.exec(e[n+2])[2];u.push(...e.slice(n+1,n+3)),o=[R,M]}}const d=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(i),_=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(i),C=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(i);if(d){const[k,R,M]=d.slice(1,4),U={code:k,number:parseInt(R)};return new du(U,M,u,e,void 0,o)}else if(_){const[k,R,M,U,L]=_.slice(1,6),j={code:M,number:parseInt(U)},G={file:k,line:parseInt(R)};return new du(j,L,u,e,G,o)}else if(C){const[k,R,M,U]=C.slice(1,5),L=k,j={code:R,number:parseInt(M)};return new du(j,U,u,e,L,o)}else return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class Cl extends Error{constructor(e,n,i){super(),this.code=e,this.msg=n,this.logs=i,i&&(this._programErrorStack=ku.parse(i))}static parse(e,n){const i=e.toString();let u;if(i.includes("custom program error:")){let d=i.split("custom program error: ");if(d.length!==2)return null;u=d[1]}else{const d=i.match(/"Custom":([0-9]+)}/g);if(!d||d.length>1)return null;u=d[0].match(/([0-9]+)/g)[0]}let o;try{o=parseInt(u)}catch{return null}let l=n.get(o);return l!==void 0?new Cl(o,l,e.logs):(l=N3.get(o),l!==void 0?new Cl(o,l,e.logs):null)}get program(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack}toString(){return this.msg}}function EE(s,e){yp("debug-logs")&&console.log("Translating error:",s);const n=du.parse(s.logs);if(n)return n;const i=Cl.parse(s,e);if(i)return i;if(s.logs){const u={get:function(o,l){return l==="programErrorStack"?o.programErrorStack.stack:l==="program"?o.programErrorStack.stack[s.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return s.programErrorStack=ku.parse(s.logs),new Proxy(s,u)}return s}const Tt={InstructionMissing:tv,InstructionFallbackNotFound:ev,InstructionDidNotDeserialize:nv,InstructionDidNotSerialize:rv,IdlInstructionStub:iv,IdlInstructionInvalidProgram:sv,IdlAccountNotEmpty:av,EventInstructionStub:ov,ConstraintMut:uv,ConstraintHasOne:cv,ConstraintSigner:lv,ConstraintRaw:fv,ConstraintOwner:dv,ConstraintRentExempt:hv,ConstraintSeeds:pv,ConstraintExecutable:mv,ConstraintState:yv,ConstraintAssociated:gv,ConstraintAssociatedInit:bv,ConstraintClose:_v,ConstraintAddress:wv,ConstraintZero:vv,ConstraintTokenMint:Ev,ConstraintTokenOwner:Sv,ConstraintMintMintAuthority:Av,ConstraintMintFreezeAuthority:Rv,ConstraintMintDecimals:Tv,ConstraintSpace:xv,ConstraintAccountIsNone:Ov,ConstraintTokenTokenProgram:Nv,ConstraintMintTokenProgram:kv,ConstraintAssociatedTokenTokenProgram:Cv,ConstraintMintGroupPointerExtension:Iv,ConstraintMintGroupPointerExtensionAuthority:Bv,ConstraintMintGroupPointerExtensionGroupAddress:Mv,ConstraintMintGroupMemberPointerExtension:Uv,ConstraintMintGroupMemberPointerExtensionAuthority:Lv,ConstraintMintGroupMemberPointerExtensionMemberAddress:Dv,ConstraintMintMetadataPointerExtension:zv,ConstraintMintMetadataPointerExtensionAuthority:Hv,ConstraintMintMetadataPointerExtensionMetadataAddress:qv,ConstraintMintCloseAuthorityExtension:jv,ConstraintMintCloseAuthorityExtensionAuthority:Pv,ConstraintMintPermanentDelegateExtension:Kv,ConstraintMintPermanentDelegateExtensionDelegate:Vv,ConstraintMintTransferHookExtension:Gv,ConstraintMintTransferHookExtensionAuthority:Yv,ConstraintMintTransferHookExtensionProgramId:Fv,RequireViolated:Zv,RequireEqViolated:Qw,RequireKeysEqViolated:Xv,RequireNeqViolated:$v,RequireKeysNeqViolated:Wv,RequireGtViolated:Qv,RequireGteViolated:Jv,AccountDiscriminatorAlreadySet:tE,AccountDiscriminatorNotFound:eE,AccountDiscriminatorMismatch:nE,AccountDidNotDeserialize:rE,AccountDidNotSerialize:iE,AccountNotEnoughKeys:sE,AccountNotMutable:aE,AccountOwnedByWrongProgram:oE,InvalidProgramId:uE,InvalidProgramExecutable:cE,AccountNotSigner:lE,AccountNotSystemOwned:fE,AccountNotInitialized:dE,AccountNotProgramData:hE,AccountNotAssociatedTokenAccount:pE,AccountSysvarMismatch:mE,AccountReallocExceedsLimit:yE,AccountDuplicateReallocs:gE,DeclaredProgramIdMismatch:bE,TryingToInitPayerAsProgramAccount:_E,InvalidNumericConversion:wE,Deprecated:Jw},N3=new Map([[Tt.InstructionMissing,"Instruction discriminator not provided"],[Tt.InstructionFallbackNotFound,"Fallback functions are not supported"],[Tt.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[Tt.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[Tt.IdlInstructionStub,"The program was compiled without idl instructions"],[Tt.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[Tt.IdlAccountNotEmpty,"IDL account must be empty in order to resize, try closing first"],[Tt.EventInstructionStub,"The program was compiled without `event-cpi` feature"],[Tt.ConstraintMut,"A mut constraint was violated"],[Tt.ConstraintHasOne,"A has one constraint was violated"],[Tt.ConstraintSigner,"A signer constraint was violated"],[Tt.ConstraintRaw,"A raw constraint was violated"],[Tt.ConstraintOwner,"An owner constraint was violated"],[Tt.ConstraintRentExempt,"A rent exemption constraint was violated"],[Tt.ConstraintSeeds,"A seeds constraint was violated"],[Tt.ConstraintExecutable,"An executable constraint was violated"],[Tt.ConstraintState,"Deprecated Error, feel free to replace with something else"],[Tt.ConstraintAssociated,"An associated constraint was violated"],[Tt.ConstraintAssociatedInit,"An associated init constraint was violated"],[Tt.ConstraintClose,"A close constraint was violated"],[Tt.ConstraintAddress,"An address constraint was violated"],[Tt.ConstraintZero,"Expected zero account discriminant"],[Tt.ConstraintTokenMint,"A token mint constraint was violated"],[Tt.ConstraintTokenOwner,"A token owner constraint was violated"],[Tt.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[Tt.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[Tt.ConstraintMintDecimals,"A mint decimals constraint was violated"],[Tt.ConstraintSpace,"A space constraint was violated"],[Tt.ConstraintAccountIsNone,"A required account for the constraint is None"],[Tt.ConstraintTokenTokenProgram,"A token account token program constraint was violated"],[Tt.ConstraintMintTokenProgram,"A mint token program constraint was violated"],[Tt.ConstraintAssociatedTokenTokenProgram,"An associated token account token program constraint was violated"],[Tt.ConstraintMintGroupPointerExtension,"A group pointer extension constraint was violated"],[Tt.ConstraintMintGroupPointerExtensionAuthority,"A group pointer extension authority constraint was violated"],[Tt.ConstraintMintGroupPointerExtensionGroupAddress,"A group pointer extension group address constraint was violated"],[Tt.ConstraintMintGroupMemberPointerExtension,"A group member pointer extension constraint was violated"],[Tt.ConstraintMintGroupMemberPointerExtensionAuthority,"A group member pointer extension authority constraint was violated"],[Tt.ConstraintMintGroupMemberPointerExtensionMemberAddress,"A group member pointer extension group address constraint was violated"],[Tt.ConstraintMintMetadataPointerExtension,"A metadata pointer extension constraint was violated"],[Tt.ConstraintMintMetadataPointerExtensionAuthority,"A metadata pointer extension authority constraint was violated"],[Tt.ConstraintMintMetadataPointerExtensionMetadataAddress,"A metadata pointer extension metadata address constraint was violated"],[Tt.ConstraintMintCloseAuthorityExtension,"A close authority constraint was violated"],[Tt.ConstraintMintCloseAuthorityExtensionAuthority,"A close authority extension authority constraint was violated"],[Tt.ConstraintMintPermanentDelegateExtension,"A permanent delegate extension constraint was violated"],[Tt.ConstraintMintPermanentDelegateExtensionDelegate,"A permanent delegate extension delegate constraint was violated"],[Tt.ConstraintMintTransferHookExtension,"A transfer hook extension constraint was violated"],[Tt.ConstraintMintTransferHookExtensionAuthority,"A transfer hook extension authority constraint was violated"],[Tt.ConstraintMintTransferHookExtensionProgramId,"A transfer hook extension transfer hook program id constraint was violated"],[Tt.RequireViolated,"A require expression was violated"],[Tt.RequireEqViolated,"A require_eq expression was violated"],[Tt.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[Tt.RequireNeqViolated,"A require_neq expression was violated"],[Tt.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[Tt.RequireGtViolated,"A require_gt expression was violated"],[Tt.RequireGteViolated,"A require_gte expression was violated"],[Tt.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[Tt.AccountDiscriminatorNotFound,"No discriminator was found on the account"],[Tt.AccountDiscriminatorMismatch,"Account discriminator did not match what was expected"],[Tt.AccountDidNotDeserialize,"Failed to deserialize the account"],[Tt.AccountDidNotSerialize,"Failed to serialize the account"],[Tt.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[Tt.AccountNotMutable,"The given account is not mutable"],[Tt.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[Tt.InvalidProgramId,"Program ID was not as expected"],[Tt.InvalidProgramExecutable,"Program account is not executable"],[Tt.AccountNotSigner,"The given account did not sign"],[Tt.AccountNotSystemOwned,"The given account is not owned by the system program"],[Tt.AccountNotInitialized,"The program expected this account to be already initialized"],[Tt.AccountNotProgramData,"The given account is not a program data account"],[Tt.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[Tt.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[Tt.AccountReallocExceedsLimit,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[Tt.AccountDuplicateReallocs,"The account was duplicated for more than one reallocation"],[Tt.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[Tt.TryingToInitPayerAsProgramAccount,"You cannot/should not initialize the payer account as a program account"],[Tt.InvalidNumericConversion,"The program could not perform the numeric conversion, out of range integral type conversion attempted"],[Tt.Deprecated,"The API being used is deprecated and should no longer be used"]]);class le{static fieldLayout(e,n=[],i){const u=e.name;switch(e.type){case"bool":return Ft.bool(u);case"u8":return Ft.u8(u);case"i8":return Ft.i8(u);case"u16":return Ft.u16(u);case"i16":return Ft.i16(u);case"u32":return Ft.u32(u);case"i32":return Ft.i32(u);case"f32":return Ft.f32(u);case"u64":return Ft.u64(u);case"i64":return Ft.i64(u);case"f64":return Ft.f64(u);case"u128":return Ft.u128(u);case"i128":return Ft.i128(u);case"u256":return Ft.u256(u);case"i256":return Ft.i256(u);case"bytes":return Ft.vecU8(u);case"string":return Ft.str(u);case"pubkey":return Ft.publicKey(u);default:{if("option"in e.type)return Ft.option(le.fieldLayout({type:e.type.option},n,i),u);if("vec"in e.type)return Ft.vec(le.fieldLayout({type:e.type.vec},n,i),u);if("array"in e.type){let[o,l]=e.type.array;return l=le.resolveArrayLen(l,i),Ft.array(le.fieldLayout({type:o},n,i),l,u)}if("defined"in e.type){if(!n)throw new ss("User defined types not provided");const o=e.type.defined.name,l=n.find(d=>d.name===o);if(!l)throw new ss(`Type not found: ${e.name}`);return le.typeDefLayout({typeDef:l,types:n,genericArgs:i??e.type.defined.generics,name:u})}if("generic"in e.type){const o=i?.at(0);if(o?.kind!=="type")throw new ss(`Invalid generic field: ${e.name}`);return le.fieldLayout({...e,type:o.type},n)}throw new ss(`Not yet implemented: ${JSON.stringify(e.type)}`)}}}static typeDefLayout({typeDef:e,types:n,name:i,genericArgs:u}){switch(e.type.kind){case"struct":{const o=Ya(e.type.fields,()=>[],l=>l.map(d=>{const y=u&&le.resolveGenericArgs({type:d.type,typeDef:e,genericArgs:u});return le.fieldLayout(d,n,y)}),l=>l.map((d,y)=>{const _=u&&le.resolveGenericArgs({type:d,typeDef:e,genericArgs:u});return le.fieldLayout({name:y.toString(),type:d},n,_)}));return Ft.struct(o,i)}case"enum":{const o=e.type.variants.map(l=>{const d=Ya(l.fields,()=>[],y=>y.map(_=>{const E=u&&le.resolveGenericArgs({type:_.type,typeDef:e,genericArgs:u});return le.fieldLayout(_,n,E)}),y=>y.map((_,E)=>{const C=u&&le.resolveGenericArgs({type:_,typeDef:e,genericArgs:u});return le.fieldLayout({name:E.toString(),type:_},n,C)}));return Ft.struct(d,l.name)});return i!==void 0?Ft.rustEnum(o).replicate(i):Ft.rustEnum(o,i)}case"type":return le.fieldLayout({type:e.type.alias,name:i},n)}}static typeSize(e,n,i){var u;switch(e){case"bool":return 1;case"u8":return 1;case"i8":return 1;case"i16":return 2;case"u16":return 2;case"u32":return 4;case"i32":return 4;case"f32":return 4;case"u64":return 8;case"i64":return 8;case"f64":return 8;case"u128":return 16;case"i128":return 16;case"u256":return 32;case"i256":return 32;case"bytes":return 1;case"string":return 1;case"pubkey":return 32;default:if("option"in e)return 1+le.typeSize(e.option,n,i);if("coption"in e)return 4+le.typeSize(e.coption,n,i);if("vec"in e)return 1;if("array"in e){let[o,l]=e.array;return l=le.resolveArrayLen(l,i),le.typeSize(o,n,i)*l}if("defined"in e){const o=(u=n.types)===null||u===void 0?void 0:u.find(d=>d.name===e.defined.name);if(!o)throw new ss(`Type not found: ${JSON.stringify(e)}`);const l=d=>{const y=i??e.defined.generics,_=y&&le.resolveGenericArgs({type:d,typeDef:o,genericArgs:y});return le.typeSize(d,n,_)};switch(o.type.kind){case"struct":return Ya(o.type.fields,()=>[0],d=>d.map(y=>l(y.type)),d=>d.map(y=>l(y))).reduce((d,y)=>d+y,0);case"enum":{const d=o.type.variants.map(y=>Ya(y.fields,()=>[0],_=>_.map(E=>l(E.type)),_=>_.map(E=>l(E))).reduce((_,E)=>_+E,0));return Math.max(...d)+1}case"type":return le.typeSize(o.type.alias,n,i)}}if("generic"in e){const o=i?.at(0);if(o?.kind!=="type")throw new ss(`Invalid generic: ${e.generic}`);return le.typeSize(o.type,n,i)}throw new Error(`Invalid type ${JSON.stringify(e)}`)}}static resolveArrayLen(e,n){if(typeof e=="number")return e;if(n){const i=n.find(u=>u.kind==="const");i?.kind==="const"&&(e=+i.value)}if(typeof e!="number")throw new ss("Generic array length did not resolve");return e}static resolveGenericArgs({type:e,typeDef:n,genericArgs:i,isDefined:u}){if(typeof e!="object")return null;for(const o in n.generics){const l=n.generics[o];if("generic"in e&&l.name===e.generic)return[i[o]];if("option"in e){const d=le.resolveGenericArgs({type:e.option,typeDef:n,genericArgs:i,isDefined:u});if(!d||!u)return d;if(d[0].kind==="type")return[{kind:"type",type:{option:d[0].type}}]}if("vec"in e){const d=le.resolveGenericArgs({type:e.vec,typeDef:n,genericArgs:i,isDefined:u});if(!d||!u)return d;if(d[0].kind==="type")return[{kind:"type",type:{vec:d[0].type}}]}if("array"in e){const[d,y]=e.array,_=typeof y=="object",E=le.resolveGenericArgs({type:d,typeDef:n,genericArgs:i,isDefined:u})||[];if(_){const C=n.generics.findIndex(k=>k.name===y.generic);C!==-1&&E.push(i[C])}if(E.length>0){if(!u)return E;if(E[0].kind==="type"&&E[1].kind==="const")return[{kind:"type",type:{array:[E[0].type,+E[1].value]}}]}if(_&&l.name===y.generic){const C=i[o];return u?[{kind:"type",type:{array:[d,+C.value]}}]:[C]}return null}if("defined"in e)return e.defined.generics?e.defined.generics.flatMap(d=>{switch(d.kind){case"type":return le.resolveGenericArgs({type:d.type,typeDef:n,genericArgs:i,isDefined:!0});case"const":return[d]}}).filter(d=>d!==null):null}return null}}class k3{constructor(e){this.idl=e;const n=e.instructions.map(i=>{const u=i.name,o=i.args.map(d=>le.fieldLayout(d,e.types)),l=Ft.struct(o,u);return[u,{discriminator:i.discriminator,layout:l}]});this.ixLayouts=new Map(n)}encode(e,n){const i=Ct.Buffer.alloc(1e3),u=this.ixLayouts.get(e);if(!u)throw new Error(`Unknown method: ${e}`);const o=u.layout.encode(n,i),l=i.slice(0,o);return Ct.Buffer.concat([Ct.Buffer.from(u.discriminator),l])}decode(e,n="hex"){typeof e=="string"&&(e=n==="hex"?Ct.Buffer.from(e,"hex"):Zl.decode(e));for(const[i,u]of this.ixLayouts){const o=e.subarray(0,u.discriminator.length);if(o.equals(Ct.Buffer.from(u.discriminator)))return{name:i,data:u.layout.decode(e.subarray(o.length))}}return null}format(e,n){return ir.format(e,n,this.idl)}}class ir{static format(e,n,i){const u=i.instructions.find(y=>e.name===y.name);if(!u)return console.error("Invalid instruction given"),null;const o=u.args.map(y=>({name:y.name,type:ir.formatIdlType(y.type),data:ir.formatIdlData(y,e.data[y.name],i.types)})),l=ir.flattenIdlAccounts(u.accounts),d=n.map((y,_)=>_<l.length?{name:l[_].name,...y}:{name:void 0,...y});return{args:o,accounts:d}}static formatIdlType(e){if(typeof e=="string")return e;if("option"in e)return`Option<${this.formatIdlType(e.option)}>`;if("coption"in e)return`COption<${this.formatIdlType(e.coption)}>`;if("vec"in e)return`Vec<${this.formatIdlType(e.vec)}>`;if("array"in e)return`Array<${e.array[0]}; ${e.array[1]}>`;if("defined"in e){const n=e.defined.name;if(e.defined.generics){const i=e.defined.generics.map(u=>{switch(u.kind){case"type":return ir.formatIdlType(u.type);case"const":return u.value}}).join(", ");return`${n}<${i}>`}return n}throw new Error(`Unknown IDL type: ${e}`)}static formatIdlData(e,n,i){if(typeof e.type=="string")return n.toString();if("vec"in e.type)return"["+n.map(u=>this.formatIdlData({name:"",type:e.type.vec},u,i)).join(", ")+"]";if("option"in e.type)return n===null?"null":this.formatIdlData({name:"",type:e.type.option},n,i);if("defined"in e.type){if(!i)throw new Error("User defined types not provided");const u=e.type.defined.name,o=i.find(l=>l.name===u);if(!o)throw new Error(`Type not found: ${u}`);return ir.formatIdlDataDefined(o,n,i)}return"unknown"}static formatIdlDataDefined(e,n,i){switch(e.type.kind){case"struct":return"{ "+Ya(e.type.fields,()=>"",u=>Object.entries(n).map(([o,l])=>{const d=u.find(y=>y.name===o);if(!d)throw new Error(`Field not found: ${o}`);return o+": "+ir.formatIdlData(d,l,i)}).join(", "),u=>Object.entries(n).map(([o,l])=>o+": "+ir.formatIdlData({name:"",type:u[o]},l,i)).join(", "))+" }";case"enum":{const u=Object.keys(n)[0],o=e.type.variants.find(d=>d.name===u);if(!o)throw new Error(`Unable to find variant: ${u}`);const l=n[u];return Ya(o.fields,()=>u,d=>{const y=Object.keys(l).map(_=>{const E=l[_],C=d.find(k=>k.name===_);if(!C)throw new Error(`Field not found: ${_}`);return _+": "+ir.formatIdlData(C,E,i)}).join(", ");return`${u} { ${y} }`},d=>{const y=Object.entries(l).map(([_,E])=>_+": "+ir.formatIdlData({name:"",type:d[_]},E,i)).join(", ");return`${u} { ${y} }`})}case"type":return ir.formatIdlType(e.type.alias)}}static flattenIdlAccounts(e,n){return e.map(i=>{const u=C3(i.name);if(i.hasOwnProperty("accounts")){const o=n?`${n} > ${u}`:u;return ir.flattenIdlAccounts(i.accounts,o)}else return{...i,name:n?`${n} > ${u}`:u}}).flat()}}function C3(s){const e=s.replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)}class gp{constructor(e){if(this.idl=e,!e.accounts){this.accountLayouts=new Map;return}const n=e.types;if(!n)throw new Error("Accounts require `idl.types`");const i=e.accounts.map(u=>{const o=n.find(l=>l.name===u.name);if(!o)throw new Error(`Account not found: ${u.name}`);return[u.name,{discriminator:u.discriminator,layout:le.typeDefLayout({typeDef:o,types:n})}]});this.accountLayouts=new Map(i)}async encode(e,n){const i=Ct.Buffer.alloc(1e3),u=this.accountLayouts.get(e);if(!u)throw new Error(`Unknown account: ${e}`);const o=u.layout.encode(n,i),l=i.slice(0,o),d=this.accountDiscriminator(e);return Ct.Buffer.concat([d,l])}decode(e,n){const i=this.accountDiscriminator(e);if(i.compare(n.slice(0,i.length)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(e,n)}decodeAny(e){for(const[n,i]of this.accountLayouts)if(e.subarray(0,i.discriminator.length).equals(Ct.Buffer.from(i.discriminator)))return this.decodeUnchecked(n,e);throw new Error("Account not found")}decodeUnchecked(e,n){const i=this.accountDiscriminator(e),u=n.subarray(i.length),o=this.accountLayouts.get(e);if(!o)throw new Error(`Unknown account: ${e}`);return o.layout.decode(u)}memcmp(e,n){const i=this.accountDiscriminator(e);return{offset:0,bytes:Zl.encode(n?Ct.Buffer.concat([i,n]):i)}}size(e){return this.accountDiscriminator(e).length+le.typeSize({defined:{name:e}},this.idl)}accountDiscriminator(e){var n;const i=(n=this.idl.accounts)===null||n===void 0?void 0:n.find(u=>u.name===e);if(!i)throw new Error(`Account not found: ${e}`);return Ct.Buffer.from(i.discriminator)}}class I3{constructor(e){if(!e.events){this.layouts=new Map;return}const n=e.types;if(!n)throw new Error("Events require `idl.types`");const i=e.events.map(u=>{const o=n.find(l=>l.name===u.name);if(!o)throw new Error(`Event not found: ${u.name}`);return[u.name,{discriminator:u.discriminator,layout:le.typeDefLayout({typeDef:o,types:n})}]});this.layouts=new Map(i)}decode(e){let n;try{n=fp(e)}catch{return null}for(const[i,u]of this.layouts){const o=n.subarray(0,u.discriminator.length);if(o.equals(Ct.Buffer.from(u.discriminator)))return{name:i,data:u.layout.decode(n.subarray(o.length))}}return null}}class B3{constructor(e){const n=e.types;if(!n){this.typeLayouts=new Map;return}const i=n.filter(u=>!u.generics).map(u=>[u.name,le.typeDefLayout({typeDef:u,types:n})]);this.typeLayouts=new Map(i)}encode(e,n){const i=Ct.Buffer.alloc(1e3),u=this.typeLayouts.get(e);if(!u)throw new Error(`Unknown type: ${e}`);const o=u.encode(n,i);return i.slice(0,o)}decode(e,n){const i=this.typeLayouts.get(e);if(!i)throw new Error(`Unknown type: ${e}`);return i.decode(n)}}class SE{constructor(e){this.instruction=new k3(e),this.accounts=new gp(e),this.events=new I3(e),this.types=new B3(e)}}class $n{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}decode(e,n){throw new Error("Layout is abstract")}encode(e,n,i){throw new Error("Layout is abstract")}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}}var Wl=$n;function M3(s,e){return e.property?s+"["+e.property+"]":s}class Ps extends $n{isCount(){throw new Error("ExternalLayout is abstract")}}class AE extends Ps{constructor(e,n,i){if(!(e instanceof $n))throw new TypeError("layout must be a Layout");if(n===void 0)n=0;else if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,i||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof Ql||this.layout instanceof RE}decode(e,n){return n===void 0&&(n=0),this.layout.decode(e,n+this.offset)}encode(e,n,i){return i===void 0&&(i=0),this.layout.encode(e,n,i+this.offset)}}class Ql extends $n{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readUIntLE(n,this.span)}encode(e,n,i){return i===void 0&&(i=0),n.writeUIntLE(e,i,this.span),this.span}}class RE extends $n{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readUIntBE(n,this.span)}encode(e,n,i){return i===void 0&&(i=0),n.writeUIntBE(e,i,this.span),this.span}}const R0=Math.pow(2,32);function TE(s){const e=Math.floor(s/R0),n=s-e*R0;return{hi32:e,lo32:n}}function xE(s,e){return s*R0+e}class U3 extends $n{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const i=e.readUInt32LE(n),u=e.readUInt32LE(n+4);return xE(u,i)}encode(e,n,i){i===void 0&&(i=0);const u=TE(e);return n.writeUInt32LE(u.lo32,i),n.writeUInt32LE(u.hi32,i+4),8}}class L3 extends $n{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const i=e.readUInt32LE(n),u=e.readInt32LE(n+4);return xE(u,i)}encode(e,n,i){i===void 0&&(i=0);const u=TE(e);return n.writeUInt32LE(u.lo32,i),n.writeInt32LE(u.hi32,i+4),8}}class D3 extends $n{constructor(e,n,i){if(!(Array.isArray(e)&&e.reduce((o,l)=>o&&l instanceof $n,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&i===void 0&&(i=n,n=void 0);for(const o of e)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let u=-1;try{u=e.reduce((o,l)=>o+l.getSpan(),0)}catch{}super(u,n),this.fields=e,this.decodePrefixes=!!i}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let i=0;try{i=this.fields.reduce((u,o)=>{const l=o.getSpan(e,n);return n+=l,u+l},0)}catch{throw new RangeError("indeterminate span")}return i}decode(e,n){n===void 0&&(n=0);const i=this.makeDestinationObject();for(const u of this.fields)if(u.property!==void 0&&(i[u.property]=u.decode(e,n)),n+=u.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return i}encode(e,n,i){i===void 0&&(i=0);const u=i;let o=0,l=0;for(const d of this.fields){let y=d.span;if(l=0<y?y:0,d.property!==void 0){const _=e[d.property];_!==void 0&&(l=d.encode(_,n,i),0>y&&(y=d.getSpan(n,i)))}o=i,i+=y}return o+l-u}fromArray(e){const n=this.makeDestinationObject();for(const i of this.fields)i.property!==void 0&&0<e.length&&(n[i.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const i of this.fields){if(i.property===e)return n;0>i.span?n=-1:0<=n&&(n+=i.span)}}}class OE{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class r_ extends OE{constructor(e,n){if(!(e instanceof Ps&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,i){return this.layout.encode(e,n,i)}}class NE extends $n{constructor(e,n,i){const u=e instanceof Ql||e instanceof RE;if(u)e=new r_(new AE(e));else if(e instanceof Ps&&e.isCount())e=new r_(e);else if(!(e instanceof OE))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof $n))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let o=-1;n&&(o=n.span,0<=o&&u&&(o+=e.layout.span)),super(o,i),this.discriminator=e,this.usesPrefixDiscriminator=u,this.defaultLayout=n,this.registry={};let l=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(d){return l(d)},this.configGetSourceVariant=function(d){l=d.bind(this)}}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);const i=this.getVariant(e,n);if(!i)throw new Error("unable to determine span for unrecognized variant");return i.getSpan(e,n)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||e.hasOwnProperty(n.property)))return n}else for(const n in this.registry){const i=this.registry[n];if(e.hasOwnProperty(i.property))return i}throw new Error("unable to infer src variant")}decode(e,n){n===void 0&&(n=0);let i;const u=this.discriminator,o=u.decode(e,n);let l=this.registry[o];if(l===void 0){let d=0;l=this.defaultLayout,this.usesPrefixDiscriminator&&(d=u.layout.span),i=this.makeDestinationObject(),i[u.property]=o,i[l.property]=this.defaultLayout.decode(e,n+d)}else i=l.decode(e,n);return i}encode(e,n,i){i===void 0&&(i=0);const u=this.getSourceVariant(e);if(u===void 0){const o=this.discriminator,l=this.defaultLayout;let d=0;return this.usesPrefixDiscriminator&&(d=o.layout.span),o.encode(e[o.property],n,i),d+l.encode(e[l.property],n,i+d)}return u.encode(e,n,i)}addVariant(e,n,i){const u=new z3(this,e,n,i);return this.registry[e]=u,u}getVariant(e,n){let i=e;return Buffer.isBuffer(e)&&(n===void 0&&(n=0),i=this.discriminator.decode(e,n)),this.registry[i]}}class z3 extends $n{constructor(e,n,i,u){if(!(e instanceof NE))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof i=="string"&&u===void 0&&(u=i,i=null),i){if(!(i instanceof $n))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=i.span&&i.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof u!="string")throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=i?i.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,u),this.union=e,this.variant=n,this.layout=i||null}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),i+this.layout.getSpan(e,n+i)}decode(e,n){const i=this.makeDestinationObject();if(n===void 0&&(n=0),this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let u=0;return this.union.usesPrefixDiscriminator&&(u=this.union.discriminator.layout.span),this.layout?i[this.property]=this.layout.decode(e,n+u):this.property?i[this.property]=!0:this.union.usesPrefixDiscriminator&&(i[this.union.discriminator.property]=this.variant),i}encode(e,n,i){i===void 0&&(i=0);let u=0;if(this.union.usesPrefixDiscriminator&&(u=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,i);let o=u;if(this.layout&&(this.layout.encode(e[this.property],n,i+u),o+=this.layout.getSpan(n,i+u),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}class H3 extends $n{constructor(e,n){if(!(e instanceof Ps&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let i=-1;e instanceof Ps||(i=e),super(i,n),this.length=e}getSpan(e,n){let i=this.span;return 0>i&&(i=this.length.decode(e,n)),i}decode(e,n){n===void 0&&(n=0);let i=this.span;return 0>i&&(i=this.length.decode(e,n)),e.slice(n,n+i)}encode(e,n,i){let u=this.length;if(this.length instanceof Ps&&(u=e.length),!(Buffer.isBuffer(e)&&u===e.length))throw new TypeError(M3("Blob.encode",this)+" requires (length "+u+") Buffer as src");if(i+u>n.length)throw new RangeError("encoding overruns Buffer");return n.write(e.toString("hex"),i,u,"hex"),this.length instanceof Ps&&this.length.encode(u,n,i),u}}var q3=((s,e,n)=>new AE(s,e,n)),j3=(s=>new Ql(1,s)),Si=(s=>new Ql(4,s)),P3=(s=>new U3(s)),Ti=(s=>new L3(s)),gn=((s,e,n)=>new D3(s,e,n)),kE=((s,e,n)=>new NE(s,e,n)),Cu=((s,e)=>new H3(s,e));class K3 extends Wl{constructor(e){super(-1,e),this.property=e,this.layout=gn([Si("length"),Si("lengthPadding"),Cu(q3(Si(),-8),"chars")],this.property)}encode(e,n,i=0){if(e==null)return this.layout.span;const u={chars:Buffer.from(e,"utf8")};return this.layout.encode(u,n,i)}decode(e,n=0){return this.layout.decode(e,n).chars.toString()}getSpan(e,n=0){return Si().span+Si().span+new Hn(new Uint8Array(e).slice(n,n+4),10,"le").toNumber()}}function Jl(s){return new K3(s)}function wr(s){return Cu(32,s)}const or=kE(Si("instruction"));or.addVariant(0,gn([Ti("lamports"),Ti("space"),wr("owner")]),"createAccount");or.addVariant(1,gn([wr("owner")]),"assign");or.addVariant(2,gn([Ti("lamports")]),"transfer");or.addVariant(3,gn([wr("base"),Jl("seed"),Ti("lamports"),Ti("space"),wr("owner")]),"createAccountWithSeed");or.addVariant(4,gn([wr("authorized")]),"advanceNonceAccount");or.addVariant(5,gn([Ti("lamports")]),"withdrawNonceAccount");or.addVariant(6,gn([wr("authorized")]),"initializeNonceAccount");or.addVariant(7,gn([wr("authorized")]),"authorizeNonceAccount");or.addVariant(8,gn([Ti("space")]),"allocate");or.addVariant(9,gn([wr("base"),Jl("seed"),Ti("space"),wr("owner")]),"allocateWithSeed");or.addVariant(10,gn([wr("base"),Jl("seed"),wr("owner")]),"assignWithSeed");or.addVariant(11,gn([Ti("lamports"),Jl("seed"),wr("owner")]),"transferWithSeed");Math.max(...Object.values(or.registry).map(s=>s.span));class V3 extends Wl{constructor(e,n,i,u){super(e.span,u),this.layout=e,this.decoder=n,this.encoder=i}decode(e,n){return this.decoder(this.layout.decode(e,n))}encode(e,n,i){return this.layout.encode(this.encoder(e),n,i)}getSpan(e,n){return this.layout.getSpan(e,n)}}function i_(s){return new V3(Cu(32),e=>new wt(e),e=>e.toBuffer(),s)}gn([Si("version"),Si("state"),i_("authorizedPubkey"),i_("nonce"),gn([P3("lamportsPerSignature")],"feeCalculator")]);function G3(s){return new TextDecoder().decode(vl(s))}var Y3=Object.freeze({__proto__:null,hash:G3});function F3(s,e,n){const i=Ct.Buffer.concat([s.toBuffer(),Ct.Buffer.from(e),n.toBuffer()]);return new wt(vl(i))}var Z3=Object.freeze({__proto__:null,createWithSeedSync:F3});const CE=new wt("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),IE=new wt("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");function X3({mint:s,owner:e}){return wt.findProgramAddressSync([e.toBuffer(),CE.toBuffer(),s.toBuffer()],IE)[0]}var $3=Object.freeze({__proto__:null,TOKEN_PROGRAM_ID:CE,ASSOCIATED_PROGRAM_ID:IE,associatedAddress:X3}),T0={exports:{}};(function(s,e){var n=typeof self<"u"?self:A3,i=(function(){function o(){this.fetch=!1,this.DOMException=n.DOMException}return o.prototype=n,new o})();(function(o){(function(l){var d={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function y(h){return h&&DataView.prototype.isPrototypeOf(h)}if(d.arrayBuffer)var _=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],E=ArrayBuffer.isView||function(h){return h&&_.indexOf(Object.prototype.toString.call(h))>-1};function C(h){if(typeof h!="string"&&(h=String(h)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(h))throw new TypeError("Invalid character in header field name");return h.toLowerCase()}function k(h){return typeof h!="string"&&(h=String(h)),h}function R(h){var w={next:function(){var S=h.shift();return{done:S===void 0,value:S}}};return d.iterable&&(w[Symbol.iterator]=function(){return w}),w}function M(h){this.map={},h instanceof M?h.forEach(function(w,S){this.append(S,w)},this):Array.isArray(h)?h.forEach(function(w){this.append(w[0],w[1])},this):h&&Object.getOwnPropertyNames(h).forEach(function(w){this.append(w,h[w])},this)}M.prototype.append=function(h,w){h=C(h),w=k(w);var S=this.map[h];this.map[h]=S?S+", "+w:w},M.prototype.delete=function(h){delete this.map[C(h)]},M.prototype.get=function(h){return h=C(h),this.has(h)?this.map[h]:null},M.prototype.has=function(h){return this.map.hasOwnProperty(C(h))},M.prototype.set=function(h,w){this.map[C(h)]=k(w)},M.prototype.forEach=function(h,w){for(var S in this.map)this.map.hasOwnProperty(S)&&h.call(w,this.map[S],S,this)},M.prototype.keys=function(){var h=[];return this.forEach(function(w,S){h.push(S)}),R(h)},M.prototype.values=function(){var h=[];return this.forEach(function(w){h.push(w)}),R(h)},M.prototype.entries=function(){var h=[];return this.forEach(function(w,S){h.push([S,w])}),R(h)},d.iterable&&(M.prototype[Symbol.iterator]=M.prototype.entries);function U(h){if(h.bodyUsed)return Promise.reject(new TypeError("Already read"));h.bodyUsed=!0}function L(h){return new Promise(function(w,S){h.onload=function(){w(h.result)},h.onerror=function(){S(h.error)}})}function j(h){var w=new FileReader,S=L(w);return w.readAsArrayBuffer(h),S}function G(h){var w=new FileReader,S=L(w);return w.readAsText(h),S}function P(h){for(var w=new Uint8Array(h),S=new Array(w.length),B=0;B<w.length;B++)S[B]=String.fromCharCode(w[B]);return S.join("")}function $(h){if(h.slice)return h.slice(0);var w=new Uint8Array(h.byteLength);return w.set(new Uint8Array(h)),w.buffer}function et(){return this.bodyUsed=!1,this._initBody=function(h){this._bodyInit=h,h?typeof h=="string"?this._bodyText=h:d.blob&&Blob.prototype.isPrototypeOf(h)?this._bodyBlob=h:d.formData&&FormData.prototype.isPrototypeOf(h)?this._bodyFormData=h:d.searchParams&&URLSearchParams.prototype.isPrototypeOf(h)?this._bodyText=h.toString():d.arrayBuffer&&d.blob&&y(h)?(this._bodyArrayBuffer=$(h.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):d.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(h)||E(h))?this._bodyArrayBuffer=$(h):this._bodyText=h=Object.prototype.toString.call(h):this._bodyText="",this.headers.get("content-type")||(typeof h=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):d.searchParams&&URLSearchParams.prototype.isPrototypeOf(h)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},d.blob&&(this.blob=function(){var h=U(this);if(h)return h;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?U(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(j)}),this.text=function(){var h=U(this);if(h)return h;if(this._bodyBlob)return G(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(P(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},d.formData&&(this.formData=function(){return this.text().then(K)}),this.json=function(){return this.text().then(JSON.parse)},this}var it=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function st(h){var w=h.toUpperCase();return it.indexOf(w)>-1?w:h}function ot(h,w){w=w||{};var S=w.body;if(h instanceof ot){if(h.bodyUsed)throw new TypeError("Already read");this.url=h.url,this.credentials=h.credentials,w.headers||(this.headers=new M(h.headers)),this.method=h.method,this.mode=h.mode,this.signal=h.signal,!S&&h._bodyInit!=null&&(S=h._bodyInit,h.bodyUsed=!0)}else this.url=String(h);if(this.credentials=w.credentials||this.credentials||"same-origin",(w.headers||!this.headers)&&(this.headers=new M(w.headers)),this.method=st(w.method||this.method||"GET"),this.mode=w.mode||this.mode||null,this.signal=w.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&S)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(S)}ot.prototype.clone=function(){return new ot(this,{body:this._bodyInit})};function K(h){var w=new FormData;return h.trim().split("&").forEach(function(S){if(S){var B=S.split("="),D=B.shift().replace(/\+/g," "),I=B.join("=").replace(/\+/g," ");w.append(decodeURIComponent(D),decodeURIComponent(I))}}),w}function Y(h){var w=new M,S=h.replace(/\r?\n[\t ]+/g," ");return S.split(/\r?\n/).forEach(function(B){var D=B.split(":"),I=D.shift().trim();if(I){var v=D.join(":").trim();w.append(I,v)}}),w}et.call(ot.prototype);function F(h,w){w||(w={}),this.type="default",this.status=w.status===void 0?200:w.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in w?w.statusText:"OK",this.headers=new M(w.headers),this.url=w.url||"",this._initBody(h)}et.call(F.prototype),F.prototype.clone=function(){return new F(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new M(this.headers),url:this.url})},F.error=function(){var h=new F(null,{status:0,statusText:""});return h.type="error",h};var X=[301,302,303,307,308];F.redirect=function(h,w){if(X.indexOf(w)===-1)throw new RangeError("Invalid status code");return new F(null,{status:w,headers:{location:h}})},l.DOMException=o.DOMException;try{new l.DOMException}catch{l.DOMException=function(w,S){this.message=w,this.name=S;var B=Error(w);this.stack=B.stack},l.DOMException.prototype=Object.create(Error.prototype),l.DOMException.prototype.constructor=l.DOMException}function O(h,w){return new Promise(function(S,B){var D=new ot(h,w);if(D.signal&&D.signal.aborted)return B(new l.DOMException("Aborted","AbortError"));var I=new XMLHttpRequest;function v(){I.abort()}I.onload=function(){var m={status:I.status,statusText:I.statusText,headers:Y(I.getAllResponseHeaders()||"")};m.url="responseURL"in I?I.responseURL:m.headers.get("X-Request-URL");var f="response"in I?I.response:I.responseText;S(new F(f,m))},I.onerror=function(){B(new TypeError("Network request failed"))},I.ontimeout=function(){B(new TypeError("Network request failed"))},I.onabort=function(){B(new l.DOMException("Aborted","AbortError"))},I.open(D.method,D.url,!0),D.credentials==="include"?I.withCredentials=!0:D.credentials==="omit"&&(I.withCredentials=!1),"responseType"in I&&d.blob&&(I.responseType="blob"),D.headers.forEach(function(m,f){I.setRequestHeader(f,m)}),D.signal&&(D.signal.addEventListener("abort",v),I.onreadystatechange=function(){I.readyState===4&&D.signal.removeEventListener("abort",v)}),I.send(typeof D._bodyInit>"u"?null:D._bodyInit)})}return O.polyfill=!0,o.fetch||(o.fetch=O,o.Headers=M,o.Request=ot,o.Response=F),l.Headers=M,l.Request=ot,l.Response=F,l.fetch=O,Object.defineProperty(l,"__esModule",{value:!0}),l})({})})(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var u=i;e=u.fetch,e.default=u.fetch,e.fetch=u.fetch,e.Headers=u.Headers,e.Request=u.Request,e.Response=u.Response,s.exports=e})(T0,T0.exports);var W3=R3(T0.exports);async function Q3(s,e,n=5){const i=`https://api.apr.dev/api/v0/program/${e.toString()}/latest?limit=${n}`,[u,o]=await Promise.all([BE(s,e),W3(i)]),l=(await o.json()).filter(y=>!y.aborted&&y.state==="Built"&&y.verified==="Verified");if(l.length===0)return null;const d=l[0];return u.slot.toNumber()!==d.verified_slot?null:d}async function BE(s,e){const n=await s.getAccountInfo(e);if(n===null)throw new Error("program account not found");const{program:i}=x0(n.data),u=await s.getAccountInfo(i.programdataAddress);if(u===null)throw new Error("program data account not found");const{programData:o}=x0(u.data);return o}const J3=Ft.rustEnum([Ft.struct([],"uninitialized"),Ft.struct([Ft.option(Ft.publicKey(),"authorityAddress")],"buffer"),Ft.struct([Ft.publicKey("programdataAddress")],"program"),Ft.struct([Ft.u64("slot"),Ft.option(Ft.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,Ft.u32());function x0(s){return J3.decode(s)}var t6=Object.freeze({__proto__:null,verifiedBuild:Q3,fetchData:BE,decodeUpgradeableLoaderState:x0}),O0=Object.freeze({__proto__:null,sha256:Y3,rpc:E3,publicKey:Z3,bytes:Jk,token:$3,features:O3,registry:t6});const N0="Program log: ",ME="Program data: ",e6=N0.length,n6=ME.length;class r6{constructor(e,n,i){this._programId=e,this._provider=n,this._eventParser=new fs(e,i),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(e,n,i){var u;let o=this._listenerIdCount;return this._listenerIdCount+=1,this._eventListeners.has(e)||this._eventListeners.set(e,[]),this._eventListeners.set(e,((u=this._eventListeners.get(e))!==null&&u!==void 0?u:[]).concat(o)),this._eventCallbacks.set(o,[e,n]),this._onLogsSubscriptionId!==void 0||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,(l,d)=>{if(!l.err)for(const y of this._eventParser.parseLogs(l.logs)){const _=this._eventListeners.get(y.name);_&&_.forEach(E=>{const C=this._eventCallbacks.get(E);if(C){const[,k]=C;k(y.data,d.slot,l.signature)}})}},i)),o}async removeEventListener(e){const n=this._eventCallbacks.get(e);if(!n)throw new Error(`Event listener ${e} doesn't exist!`);const[i]=n;let u=this._eventListeners.get(i);if(!u)throw new Error(`Event listeners don't exist for ${i}!`);if(this._eventCallbacks.delete(e),u=u.filter(o=>o!==e),this._eventListeners.set(i,u),u.length===0&&this._eventListeners.delete(i),this._eventCallbacks.size===0){if(this._eventListeners.size!==0)throw new Error(`Expected event listeners size to be 0 but got ${this._eventListeners.size}`);this._onLogsSubscriptionId!==void 0&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0)}}}class fs{constructor(e,n){this.coder=n,this.programId=e}*parseLogs(e,n=!1){const i=new s6([...e]),u=new i6,o=i.next();if(o===null)return;const l=fs.INVOKE_RE.exec(o);if(!l||l[2]!==fs.ROOT_DEPTH)throw new Error(`Unexpected first log line: ${o}`);for(u.push(l[1]);i.peek()!==null;){const d=i.next();if(d===null)break;let[y,_,E]=this.handleLog(u,d,n);if(y&&(yield y),_&&u.push(_),E){u.pop();const C=i.peek();if(C&&C.endsWith("invoke [1]")){const k=fs.INVOKE_RE.exec(C);k&&u.push(k[1])}}}}handleLog(e,n,i){return e.stack.length>0&&e.program()===this.programId.toString()?this.handleProgramLog(n,i):[null,...this.handleSystemLog(n)]}handleProgramLog(e,n){if(e.startsWith(N0)||e.startsWith(ME)){const i=e.startsWith(N0)?e.slice(e6):e.slice(n6),u=this.coder.events.decode(i);if(n&&u===null)throw new Error(`Unable to decode event ${i}`);return[u,null,!1]}else return[null,...this.handleSystemLog(e)]}handleSystemLog(e){return e.startsWith(`Program ${this.programId.toString()} log:`)?[this.programId.toString(),!1]:e.includes("invoke")&&!e.endsWith("[1]")?["cpi",!1]:/^Program ([1-9A-HJ-NP-Za-km-z]+) success$/.test(e)?[null,!0]:[null,!1]}}fs.INVOKE_RE=/^Program ([1-9A-HJ-NP-Za-km-z]+) invoke \[(\d+)\]$/;fs.ROOT_DEPTH="1";class i6{constructor(){this.stack=[]}program(){if(!this.stack.length)throw new Error("Expected the stack to have elements");return this.stack[this.stack.length-1]}push(e){this.stack.push(e)}pop(){if(!this.stack.length)throw new Error("Expected the stack to have elements");this.stack.pop()}}class s6{constructor(e){this.logs=e,this.logs=this.logs.filter(n=>n.startsWith("Program "))}next(){if(this.logs.length===0)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}peek(){return this.logs.length>0?this.logs[0]:null}}function tf(s,e){var n,i;let u={};const o=s.args?s.args.length:0;if(e.length>o){if(e.length!==o+1)throw new Error(`provided too many arguments ${e} to instruction ${s?.name} expecting: ${(i=(n=s.args)===null||n===void 0?void 0:n.map(l=>l.name))!==null&&i!==void 0?i:[]}`);u=e.pop()}return[e,u]}class Il{static build(e,n,i){if(e.name==="_inner")throw new ss("the _inner name is reserved");const u=(...o)=>{const[l,d]=tf(e,[...o]);Fw(e.accounts,d.accounts),a6(e,...o);const y=u.accounts(d.accounts);return d.remainingAccounts!==void 0&&y.push(...d.remainingAccounts),yp("debug-logs")&&console.log("Outgoing account metas:",y),new Ee({keys:y,programId:i,data:n(e.name,a3(e,...l))})};return u.accounts=o=>Il.accountsArray(o,e.accounts,i,e.name),u}static accountsArray(e,n,i,u){return e?n.map(o=>{if(as(o)){const E=e[o.name];return Il.accountsArray(E,o.accounts,i,u).flat()}let l;try{l=br(e[o.name])}catch{throw new Error(`Wrong input type for account "${o.name}" in the instruction accounts object${u!==void 0?' for instruction "'+u+'"':""}. Expected PublicKey or string.`)}const d=o.optional&&l.equals(i),y=!!(o.writable&&!d),_=!!(o.signer&&!d);return{pubkey:l,isWritable:y,isSigner:_}}).flat():[]}}function a6(s,...e){}class o6{static build(e,n){return(...u)=>{var o,l,d;const[,y]=tf(e,[...u]),_=new he;if(y.preInstructions&&y.instructions)throw new Error("instructions is deprecated, use preInstructions");return(o=y.preInstructions)===null||o===void 0||o.forEach(E=>_.add(E)),(l=y.instructions)===null||l===void 0||l.forEach(E=>_.add(E)),_.add(n(...u)),(d=y.postInstructions)===null||d===void 0||d.forEach(E=>_.add(E)),_}}}class u6{static build(e,n,i,u){return async(...l)=>{var d;const y=n(...l),[,_]=tf(e,[...l]);if(u.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await u.sendAndConfirm(y,(d=_.signers)!==null&&d!==void 0?d:[],_.options)}catch(E){throw EE(E,i)}}}}class c6{static build(e,n,i,u){var o;return((o=e.accounts)!==null&&o!==void 0?o:[]).reduce((l,d)=>(l[d.name]=new l6(e,d,i,u,n),l),{})}}class l6{get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}constructor(e,n,i,u,o){this._idlAccount=n,this._programId=i,this._provider=u??kl(),this._coder=o??new SE(e),this._size=this._coder.accounts.size(n.name)}async fetchNullable(e,n){const{data:i}=await this.fetchNullableAndContext(e,n);return i}async fetchNullableAndContext(e,n){const i=await this.getAccountInfoAndContext(e,n),{value:u,context:o}=i;return{data:u&&u.data.length!==0?this._coder.accounts.decode(this._idlAccount.name,u.data):null,context:o}}async fetch(e,n){const{data:i}=await this.fetchNullableAndContext(e,n);if(i===null)throw new Error(`Account does not exist or has no data ${e.toString()}`);return i}async fetchAndContext(e,n){const{data:i,context:u}=await this.fetchNullableAndContext(e,n);if(i===null)throw new Error(`Account does not exist ${e.toString()}`);return{data:i,context:u}}async fetchMultiple(e,n){return(await this.fetchMultipleAndContext(e,n)).map(u=>u?u.data:null)}async fetchMultipleAndContext(e,n){return(await mp(this._provider.connection,e.map(u=>br(u)),n)).map(u=>{if(u==null)return null;const{account:o,context:l}=u;return{data:this._coder.accounts.decode(this._idlAccount.name,o.data),context:l}})}async all(e){const n=this.coder.accounts.memcmp(this._idlAccount.name,e instanceof Buffer?e:void 0),i=[];return n?.offset!=null&&n?.bytes!=null&&i.push({memcmp:{offset:n.offset,bytes:n.bytes}}),n?.dataSize!=null&&i.push({dataSize:n.dataSize}),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[...i,...Array.isArray(e)?e:[]]})).map(({pubkey:o,account:l})=>({publicKey:o,account:this._coder.accounts.decode(this._idlAccount.name,l.data)}))}subscribe(e,n){const i=uu.get(e.toString());if(i)return i.ee;const u=new Pk;e=br(e);const o=this._provider.connection.onAccountChange(e,l=>{const d=this._coder.accounts.decode(this._idlAccount.name,l.data);u.emit("change",d)},n);return uu.set(e.toString(),{ee:u,listener:o}),u}async unsubscribe(e){let n=uu.get(e.toString());if(!n){console.warn("Address is not subscribed");return}uu&&await this._provider.connection.removeAccountChangeListener(n.listener).then(()=>{uu.delete(e.toString())}).catch(console.error)}async createInstruction(e,n){const i=this.size;if(this._provider.publicKey===void 0)throw new Error("This function requires the Provider interface implementor to have a 'publicKey' field.");return mn.createAccount({fromPubkey:this._provider.publicKey,newAccountPubkey:e.publicKey,space:n??i,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(n??i),programId:this._programId})}async getAccountInfo(e,n){return await this._provider.connection.getAccountInfo(br(e),n)}async getAccountInfoAndContext(e,n){return await this._provider.connection.getAccountInfoAndContext(br(e),n)}}const uu=new Map;class f6{static build(e,n,i,u,o,l,d){return async(..._)=>{var E;const C=n(..._),[,k]=tf(e,[..._]);let R;if(u.simulate===void 0)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{R=await u.simulate(C,k.signers,(E=k.options)===null||E===void 0?void 0:E.commitment)}catch(L){throw EE(L,i)}if(R===void 0)throw new Error("Unable to simulate transaction");const M=R.logs;if(!M)throw new Error("Simulated logs not found");const U=[];if(d.events){let L=new fs(l,o);for(const j of L.parseLogs(M))U.push(j)}return{events:U,raw:M}}}}function n0(s){return new UE(Cu(8),e=>bp.fromBuffer(e),e=>e.toBuffer(),s)}function il(s){return new UE(Cu(32),e=>new wt(e),e=>e.toBuffer(),s)}function r0(s,e){return new d6(s,e)}class UE extends Wl{constructor(e,n,i,u){super(e.span,u),this.layout=e,this.decoder=n,this.encoder=i}decode(e,n){return this.decoder(this.layout.decode(e,n))}encode(e,n,i){return this.layout.encode(this.encoder(e),n,i)}getSpan(e,n){return this.layout.getSpan(e,n)}}class d6 extends Wl{constructor(e,n){super(-1,n),this.layout=e,this.discriminator=Si()}encode(e,n,i=0){return e==null?this.layout.span+this.discriminator.encode(0,n,i):(this.discriminator.encode(1,n,i),this.layout.encode(e,n,i+4)+4)}decode(e,n=0){const i=this.discriminator.decode(e,n);if(i===0)return null;if(i===1)return this.layout.decode(e,n+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(e,n=0){return this.layout.getSpan(e,n+4)+4}}class bp extends Hn{toBuffer(){const e=super.toArray().reverse(),n=Buffer.from(e);if(n.length===8)return n;if(n.length>=8)throw new Error("u64 too large");const i=Buffer.alloc(8);return n.copy(i),i}static fromBuffer(e){if(e.length!==8)throw new Error(`Invalid buffer length: ${e.length}`);return new bp([...e].reverse().map(n=>`00${n.toString(16)}`.slice(-2)).join(""),16)}}const h6=gn([il("mint"),il("owner"),n0("amount"),r0(il(),"delegate"),(s=>{const e=kE(j3("discriminator"),null,s);return e.addVariant(0,gn([]),"uninitialized"),e.addVariant(1,gn([]),"initialized"),e.addVariant(2,gn([]),"frozen"),e})("state"),r0(n0(),"isNative"),n0("delegatedAmount"),r0(il(),"closeAuthority")]);function p6(s){return h6.decode(s)}class m6{constructor(e,n,i,u,o,l,d,y){this._args=e,this._accounts=n,this._provider=i,this._programId=u,this._idlIx=o,this._idlTypes=d,this._customResolver=y,this._accountStore=new y6(i,l,u)}args(e){this._args=e}async resolve(){this.resolveEventCpi(this._idlIx.accounts),this.resolveConst(this._idlIx.accounts);let e=0;for(;await this.resolvePdasAndRelations(this._idlIx.accounts)+await this.resolveCustom()>0;)if(e++,e===16){const n=l=>as(l)?l.accounts.some(n):!!(l.address||l.pda||l.relations),i=(l,d=[],y=[])=>{for(const _ of l)as(_)?y.push(...i(_.accounts,[...d,_.name])):y.push([...d,_.name]);return y},u=this._idlIx.accounts.filter(n),o=i(u).filter(l=>!this.get(l)).map(l=>l.reduce((d,y)=>d+"."+y)).map(l=>`\`${l}\``).join(", ");throw new Error(["Reached maximum depth for account resolution.",`Unresolved accounts: ${o}`].join(" "))}}resolveOptionals(e){Object.assign(this._accounts,this.resolveOptionalsHelper(e,this._idlIx.accounts))}get(e){const n=e.reduce((i,u)=>i&&i[u],this._accounts);if(n&&n.toBase58)return n}set(e,n){let i=this._accounts;e.forEach((u,o)=>{var l;o===e.length-1&&(i[u]=n),i[u]=(l=i[u])!==null&&l!==void 0?l:{},i=i[u]})}resolveOptionalsHelper(e,n){const i={};for(const u of n){const o=u.name,l=e[o];l!==void 0&&(LE(l)?as(u)?i[o]=this.resolveOptionalsHelper(l,u.accounts):i[o]=DE(l):l!==null?i[o]=br(l):u.optional&&(i[o]=this._programId))}return i}async resolveCustom(){if(this._customResolver){const{accounts:e,resolved:n}=await this._customResolver({args:this._args,accounts:this._accounts,provider:this._provider,programId:this._programId,idlIx:this._idlIx});return this._accounts=e,n}return 0}resolveEventCpi(e,n=[]){for(const i in e){const u=e[i];as(u)&&this.resolveEventCpi(u.accounts,[...n,u.name]);const o=+i+1;if(o===e.length)return;const l=e[i].name,d=e[o].name;if(l==="eventAuthority"&&d==="program"){const y=[...n,l],_=[...n,d];this.get(y)||this.set(y,wt.findProgramAddressSync([Buffer.from("__event_authority")],this._programId)[0]),this.get(_)||this.set(_,this._programId);return}}}resolveConst(e,n=[]){for(const i of e){const u=i.name;if(as(i))this.resolveConst(i.accounts,[...n,u]);else{const o=i;if((o.signer||o.address)&&!this.get([...n,u])){if(o.signer){if(!this._provider.publicKey)throw new Error("This function requires the `Provider` interface implementor to have a `publicKey` field.");this.set([...n,u],this._provider.publicKey)}o.address&&this.set([...n,u],br(o.address))}}}}async resolvePdasAndRelations(e,n=[]){let i=0;for(const u of e){const o=u.name;if(as(u))i+=await this.resolvePdasAndRelations(u.accounts,[...n,o]);else{const l=u;if((l.pda||l.relations)&&!this.get([...n,o])){i++;try{if(l.pda){const d=await Promise.all(l.pda.seeds.map(E=>this.toBuffer(E,n)));if(d.some(E=>!E))continue;const y=await this.parseProgramId(l,n),[_]=wt.findProgramAddressSync(d,y);this.set([...n,o],_)}}catch{}try{if(l.relations){const d=this.get([...n,l.relations[0]]);if(d){const y=await this._accountStore.fetchAccount({publicKey:d});this.set([...n,o],y[o])}}}catch{}}}}return i}async parseProgramId(e,n=[]){var i;if(!(!((i=e.pda)===null||i===void 0)&&i.program))return this._programId;const u=await this.toBuffer(e.pda.program,n);if(!u)throw new Error(`Program seed not resolved: ${e.name}`);return new wt(u)}async toBuffer(e,n=[]){switch(e.kind){case"const":return this.toBufferConst(e);case"arg":return await this.toBufferArg(e);case"account":return await this.toBufferAccount(e,n);default:throw new Error(`Unexpected seed: ${e}`)}}toBufferConst(e){return this.toBufferValue("bytes",e.value)}async toBufferArg(e){const[n,...i]=e.path.split("."),u=this._idlIx.args.findIndex(d=>d.name===n);if(u===-1)throw new Error(`Unable to find argument for seed: ${n}`);const o=i.reduce((d,y)=>(d??{})[y],this._args[u]);if(o===void 0)return;const l=this.getType(this._idlIx.args[u].type,i);return this.toBufferValue(l,o)}async toBufferAccount(e,n=[]){const[i,...u]=e.path.split("."),o=this.get([...n,i]);if(!o)return;if(!u.length)return this.toBufferValue("pubkey",o);if(!e.account)throw new Error(`Seed account is required in order to resolve type: ${e.path}`);let d=await this._accountStore.fetchAccount({publicKey:o,name:e.account}),y=u;for(;y.length>0;)d=d[y[0]],y=y.slice(1);if(d===void 0)return;const _=this.getType({defined:{name:e.account}},u);return this.toBufferValue(_,d)}toBufferValue(e,n){switch(e){case"u8":case"i8":return Buffer.from([n]);case"u16":case"i16":return new Hn(n).toArrayLike(Buffer,"le",2);case"u32":case"i32":return new Hn(n).toArrayLike(Buffer,"le",4);case"u64":case"i64":return new Hn(n).toArrayLike(Buffer,"le",8);case"u128":case"i128":return new Hn(n).toArrayLike(Buffer,"le",16);case"u256":case"i256":return new Hn(n).toArrayLike(Buffer,"le",32);case"string":return Buffer.from(n);case"pubkey":return n.toBuffer();case"bytes":return Buffer.from(n);default:if(e?.array)return Buffer.from(n);throw new Error(`Unexpected seed type: ${e}`)}}getType(e,n=[]){var i;const u=(i=e?.defined)===null||i===void 0?void 0:i.name;if(u){if(u==="tokenAccount")switch(n.at(0)){case"mint":case"owner":return"pubkey";case"amount":case"delagatedAmount":return"u64";default:throw new Error(`Unknown token account path: ${n}`)}const o=this._idlTypes.find(E=>E.name===u);if(!o)throw new Error(`Type not found: ${u}`);const[l,...d]=n,_=o.type.fields.find(E=>E.name===l);if(!_)throw new Error(`Field not found: ${l}`);return this.getType(_.type,d)}return e}}class y6{constructor(e,n,i){this._provider=e,this._cache=new Map,this._idls={},this._idls[i.toBase58()]=n}async fetchAccount({publicKey:e,name:n}){const i=e.toBase58();if(!this._cache.has(i)){const u=await this._provider.connection.getAccountInfo(e);if(u===null)throw new Error(`Account not found: ${i}`);if(n==="tokenAccount"){const o=p6(u.data);this._cache.set(i,o)}else{const o=await this.getAccountsNs(u.owner);if(o){const l=Object.values(o)[0];if(l){const d=l.coder.accounts.decodeAny(u.data);this._cache.set(i,d)}}}}return this._cache.get(i)}async getAccountsNs(e){const n=e.toBase58();if(!this._idls[n]){const i=await ro.fetchIdl(e,this._provider);if(i){const u=new ro(i,this._provider);this._idls[n]=u.account}}return this._idls[n]}}class g6{static build(e,n,i,u,o,l,d,y,_,E,C){return(...k)=>new b6(k,u,o,l,d,y,e,n,i,_,E,C)}}function LE(s){return typeof s=="object"&&s!==null&&!("_bn"in s)}function DE(s,e){const n={};for(const i in s){const u=s[i];if(u===null)throw new Error("Failed to resolve optionals due to IDL type mismatch with input accounts!");n[i]=LE(u)?DE(u):br(u)}return n}class b6{constructor(e,n,i,u,o,l,d,y,_,E,C,k){this._args=e,this._ixFn=n,this._txFn=i,this._rpcFn=u,this._simulateFn=o,this._viewFn=l,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._resolveAccounts=!0,this._accountsResolver=new m6(e,this._accounts,d,y,_,E,C,k)}args(e){this._args=e,this._accountsResolver.args(e)}accounts(e){return this.accountsPartial(e)}accountsPartial(e){return this._resolveAccounts=!0,this._accountsResolver.resolveOptionals(e),this}accountsStrict(e){return this._resolveAccounts=!1,this._accountsResolver.resolveOptionals(e),this}signers(e){return this._signers=this._signers.concat(e),this}remainingAccounts(e){return this._remainingAccounts=this._remainingAccounts.concat(e),this}preInstructions(e,n=!1){return n?this._preInstructions=e.concat(this._preInstructions):this._preInstructions=this._preInstructions.concat(e),this}postInstructions(e){return this._postInstructions=this._postInstructions.concat(e),this}async pubkeys(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._accounts}async instruction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async transaction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async simulate(e){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async view(e){if(this._resolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw new Error(["Method does not support views.","The instruction should return a value, and its accounts must be read-only"].join(" "));return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async rpc(e){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async rpcAndKeys(e){return{signature:await this.rpc(e),pubkeys:await this.pubkeys()}}async prepare(){return{instruction:await this.instruction(),signers:this._signers,pubkeys:await this.pubkeys()}}}class _6{static build(e,n,i,u){const o=n.accounts.find(y=>y.writable),l=!!n.returns;return o||!l?void 0:async(...y)=>{let _=await i(...y);const E=`Program return: ${e} `;let C=_.raw.find(U=>U.startsWith(E));if(!C)throw new Error("View expected return log");let k=fp(C.slice(E.length)),R=n.returns;if(!R)throw new Error("View expected return type");return le.fieldLayout({type:R},u.types).decode(k)}}}class w6{static build(e,n,i,u,o){const l={},d={},y={},_={},E={},C={},k=s3(e),R=e.accounts?c6.build(e,n,i,u):{};return e.instructions.forEach(M=>{const U=Il.build(M,(it,st)=>n.instruction.encode(it,st),i),L=o6.build(M,U),j=u6.build(M,L,k,u),G=f6.build(M,L,k,u,n,i,e),P=_6.build(i,M,G,e),$=g6.build(u,i,M,U,L,j,G,P,R,e.types||[],o?.(M)),et=M.name;d[et]=U,y[et]=L,l[et]=j,_[et]=G,E[et]=$,P&&(C[et]=P)}),[l,d,y,R,_,E,C]}}class ro{get programId(){return this._programId}get idl(){return this._idl}get rawIdl(){return this._rawIdl}get coder(){return this._coder}get provider(){return this._provider}constructor(e,n=kl(),i,u){this._idl=i3(e),this._rawIdl=e,this._provider=n,this._programId=br(e.address),this._coder=i??new SE(this._idl),this._events=new r6(this._programId,n,this._coder);const[o,l,d,y,_,E,C]=w6.build(this._idl,this._coder,this._programId,n,u);this.rpc=o,this.instruction=l,this.transaction=d,this.account=y,this.simulate=_,this.methods=E,this.views=C}static async at(e,n){const i=br(e),u=await ro.fetchIdl(i,n);if(!u)throw new Error(`IDL not found for program: ${e.toString()}`);return new ro(u,n)}static async fetchIdl(e,n){n=n??kl();const i=br(e),u=await t3(i),o=await n.connection.getAccountInfo(u);if(!o)return null;let l=r3(o.data.slice(8));const d=Hk(l.data);return JSON.parse(Yw(d))}addEventListener(e,n,i){return this._events.addEventListener(e,n,i)}async removeEventListener(e){return await this._events.removeEventListener(e)}}new wt("11111111111111111111111111111111");const i0=[{id:"simple_1",label:"Simple: 1 ticket (recommended)",description:"Normal user flow: commit 1 ticket  reveal  claim (if winner)."},{id:"wrong_reveal",label:"Robustness: wrong reveal (should fail)",description:"Commits normally, then reveals with an intentionally wrong salt.",reveal:{wrongSalt:!0},disabled:!1},{id:"batch_2",label:"Batch: 2 tickets (coming soon)",description:"Commit/reveal 2 tickets with commit_batch/reveal_batch.",disabled:!0},{id:"multi_round",label:"Multi-round (coming soon)",description:"Repeat the same strategy across multiple rounds.",disabled:!0}];function io(s){const e=typeof s=="bigint"?s:BigInt(s),n=new Uint8Array(8);let i=e;for(let u=0;u<8;u++)n[u]=Number(i&0xffn),i>>=8n;return n}function v6(...s){const e=s.reduce((u,o)=>u+o.length,0),n=new Uint8Array(e);let i=0;for(const u of s)n.set(u,i),i+=u.length;return n}async function E6(s){if(!globalThis.crypto?.subtle)throw new Error("WebCrypto not available (crypto.subtle missing)");const e=await globalThis.crypto.subtle.digest("SHA-256",s);return new Uint8Array(e)}async function S6(s,e,n,i,u){const o=e instanceof wt?e:new wt(e),l=new TextEncoder().encode("commit"),d=v6(l,io(s),o.toBytes(),io(n),Uint8Array.from([i&255]),u);return E6(d)}function A6(){const s=new Uint8Array(32);return globalThis.crypto.getRandomValues(s),s}function s_(s){return[...s].map(e=>e.toString(16).padStart(2,"0")).join("")}function R6(s){const e=(s||"").trim();if(e.length%2!==0)throw new Error("Invalid hex length");const n=new Uint8Array(e.length/2);for(let i=0;i<n.length;i++)n[i]=parseInt(e.slice(i*2,i*2+2),16);return n}function Js(s){return new TextEncoder().encode(s)}function Bl(s){const[e]=wt.findProgramAddressSync([Js("config")],s);return e}function zE(s,e){const[n]=wt.findProgramAddressSync([Js("round_registry"),e.toBuffer()],s);return n}function gl(s,e){const[n]=wt.findProgramAddressSync([Js("round"),Buffer.from(io(e))],s);return n}function _p(s,e){const[n]=wt.findProgramAddressSync([Js("chrono_vault"),Buffer.from(io(e))],s);return n}function k0(s,e,n,i){const u=n instanceof wt?n:new wt(n),[o]=wt.findProgramAddressSync([Js("ticket"),Buffer.from(io(e)),u.toBuffer(),Buffer.from(io(i))],s);return o}function C0(s,e){const[n]=wt.findProgramAddressSync([Js("tokenomics"),e.toBuffer()],s);return n}function HE(s,e){const[n]=wt.findProgramAddressSync([Js("reward_fee_pool"),e.toBuffer()],s);return n}async function T6(s,e,n){const i=await s.getParsedTokenAccountsByOwner(e,{mint:n},"confirmed");return i.value.length?new wt(i.value[0].pubkey):null}function wp(s,e){return`timlg_play_v1:${s}:round:${e}`}function x6(s,e){if(!s)return null;try{const n=localStorage.getItem(wp(s,e));if(!n)return null;const i=JSON.parse(n);return Array.isArray(i)?i.length>0?i[i.length-1]:null:i}catch{return null}}function O6(s,e){if(!s)return[];try{const n=localStorage.getItem(wp(s,e));if(!n)return[];const i=JSON.parse(n);return Array.isArray(i)?i:[i]}catch{return[]}}function N6(s,e,n){if(!s)return;const i=wp(s,e);try{const u=localStorage.getItem(i);let o=[];if(u){const d=JSON.parse(u);Array.isArray(d)?o=d:o=[d]}const l=o.findIndex(d=>d.ticketPda===n.ticketPda);l>=0?o[l]=n:o.push(n),localStorage.setItem(i,JSON.stringify(o))}catch(u){console.error("Failed to save local state",u)}}function k6(s,e){return x6(s,e)}function C6(s,e){return O6(s,e)}function I6(s,e,n){N6(s,e,n)}function cu(s){const e=typeof s=="string"?s:s?.toBase58?.()??"";return e.length>10?`${e.slice(0,4)}${e.slice(-4)}`:e}function B6(s){return`https://explorer.solana.com/tx/${s}?cluster=devnet`}function M6(s){return`https://explorer.solana.com/address/${typeof s=="string"?s:s?.toBase58?.()??""}?cluster=devnet`}function U6(s){return(s?.error?.errorMessage||s?.message||String(s)).replace(/\s+/g," ").trim()}function L6({logs:s=[],onClear:e,title:n="Activity log",defaultOpen:i=!1,maxHeight:u=220}){const o=Nt.useMemo(()=>s?.length?s.join(`
`):"",[s]);return J.jsxs("details",{className:"beta-log",open:i,children:[J.jsxs("summary",{className:"beta-log__summary",children:[J.jsx("span",{children:J.jsx("b",{children:n})}),J.jsx("span",{className:"beta-log__meta",children:s?.length?`${s.length} lines`:"empty"})]}),J.jsxs("div",{className:"beta-log__toolbar",children:[J.jsx("button",{className:"beta-btn",onClick:()=>navigator.clipboard?.writeText(o),disabled:!s?.length,title:"Copy to clipboard",type:"button",children:"Copy"}),J.jsx("button",{className:"beta-btn",onClick:()=>e?.(),disabled:!s?.length,type:"button",children:"Clear"})]}),J.jsx("pre",{className:"beta-log__pre",style:{maxHeight:u},children:s?.length?o:""})]})}function D6({rpcUrl:s,connection:e,program:n,walletReady:i,programPk:u,chronoMint:o,pubkey:l,appendLog:d,chainState:y,refreshProtocolState:_,statusLine:E,onActionComplete:C,nist:k,logs:R,onClearLog:M}){const U=typeof d=="function"?d:()=>{},L=Nt.useMemo(()=>new wt(String(o).trim()),[o]),j=l?.toBase58?.()??null,[G,P]=Nt.useState("simple_1"),[$,et]=Nt.useState(0),[it,st]=Nt.useState(!1),[ot,K]=Nt.useState(""),[Y,F]=Nt.useState(null),X=Nt.useMemo(()=>i0.find(f=>f.id===G)??i0[0],[G]);Nt.useEffect(()=>{if(!j||y?.roundId==null)return;const f=k6(j,y.roundId);F(f||null)},[j,y?.roundId]);function O(f,b,x={}){const z=Object.entries(b).filter(([,Z])=>Z==null).map(([Z])=>Z);if(z.length)throw console.error(`${f}: missing accounts`,{missing:z,accounts:b,chainState:y,...x}),new Error(`${f}: missing accounts: ${z.join(", ")}`)}async function h(){if(!l)return U("Commit: connect wallet first.");if(!i||!n)return U("Commit: wallet/program not ready yet.");if(!y?.roundPda||y.roundId==null)return U("Commit: round not loaded yet.");const f=y?.currentSlot,b=y?.round?.commitDeadlineSlot;if(f!=null&&b!=null&&BigInt(f)>=b)return U(`Commit: commit window closed (slot=${f} >= commit_deadline_slot=${b.toString()}).`);if(y.round?.pulseSet)return U("Commit: commit window closed (pulseSet=true).");st(!0),K("");try{const x=y.roundId,z=l,Z=await T6(e,z,L);if(!Z)throw new Error("You don't have CHRONO yet. Use the faucet first.");const nt=Math.floor(Math.random()*1e9),vt=A6(),Et=await S6(x,z,nt,$,vt),Pt=y.configPda??Bl(u),Gt=y.roundRegistryPda??y.rrPda??zE(u,Pt),ce=y.chronoVaultPda??_p(u,x),We=k0(u,x,z,nt),Wt={config:Pt,roundRegistry:Gt,round:y.roundPda,ticket:We,user:z,chronoMint:L,chronoVault:ce,userChronoAta:Z,systemProgram:mn.programId,tokenProgram:O0.token.TOKEN_PROGRAM_ID};O("Commit",Wt,{roundId:x,nonce:nt,guess:$}),U(`Commit: sending tx (round=${x}, guess=${$}, nonce=${nt})`);const Zt=await n.methods.commitTicket(new Hn(x),new Hn(nt),Array.from(Et)).accounts(Wt).rpc();K(Zt),U(`Commit OK  tx=${Zt}`);const kn={version:1,roundId:x,guess:$,nonce:nt,saltHex:s_(vt),commitmentHex:s_(Et),ticketPda:We.toBase58(),committedAt:Date.now()};I6(j,x,kn),F(kn),await _?.(),C?.()}catch(x){U(`Commit failed: ${U6(x)}`),console.error("Commit error:",x)}finally{st(!1)}}const[w,S]=Nt.useState(null);Nt.useEffect(()=>{const f=y?.round?.commitDeadlineSlot,b=y?.currentSlot;if(f==null||b==null){S(null);return}const x=Number(f-10n-BigInt(b));if(x<=0){S(0);return}let z=Math.max(0,Math.floor(x*.4));S(z);const Z=setInterval(()=>{S(nt=>nt!=null&&nt>0?nt-1:0)},1e3);return()=>clearInterval(Z)},[y?.currentSlot,y?.round?.commitDeadlineSlot]);const B=y?.currentSlot,D=y?.round?.commitDeadlineSlot,I=y?.round?.revealDeadlineSlot,v=!!(l&&y?.round&&B!=null&&D!=null&&BigInt(B)<D-10n&&!y.round.pulseSet);it||console.log("PROTOCOL_DEBUG: canCommit logic",{pubkeyConnected:!!l,hasRound:!!y?.round,curSlot:B,commitDl:D?.toString(),isBeforeDeadline:B!=null&&D!=null&&BigInt(B)<D,pulseSet:y?.round?.pulseSet,canCommitResult:v});const m=v;return l&&y?.round&&Y&&y.round.pulseSet&&B!=null&&I!=null&&BigInt(B)<=I,l&&y?.round&&y.round.tokenSettled,J.jsxs("div",{className:"beta-card",children:[J.jsxs("div",{className:"beta-card__head",children:[J.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[J.jsx("div",{className:"beta-card__title",children:"Play (devnet)"}),J.jsxs("div",{className:"beta-tooltip",children:["i",J.jsxs("div",{className:"beta-tooltip__content",children:[J.jsxs("div",{children:[J.jsx("b",{children:"Scenario:"})," ",X.description]}),J.jsxs("div",{style:{marginTop:4},children:[J.jsx("b",{children:"Receipt:"})," ",Y?` ${cu(Y.nonce)}`:""]}),J.jsxs("div",{style:{marginTop:4},children:[J.jsx("b",{children:"Prog:"})," ",cu(u),"  ",J.jsx("b",{children:"Mint:"})," ",cu(L)]}),ot?J.jsxs("div",{style:{marginTop:4},children:[J.jsx("b",{children:"Last:"})," ",cu(ot)]}):null,J.jsxs("div",{style:{marginTop:4,opacity:.6,fontSize:10},children:["RPC: ",s]})]})]})]}),J.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,fontSize:13,fontWeight:"bold"},children:[J.jsxs("span",{children:["Round #",y?.roundId??""]}),y?.round&&J.jsxs("span",{style:{opacity:.7,fontWeight:"normal",fontSize:12},children:["Target: #",y.round.pulseIndexTarget?.toString()??y.round.pulse_index_target?.toString()??"?"]}),J.jsx("span",{style:{opacity:.4,margin:"0 4px"},children:"|"}),J.jsxs("span",{style:{opacity:.7,fontWeight:"normal",fontSize:12,display:"flex",gap:6},children:[J.jsxs("span",{children:["Current:"," ",J.jsxs("a",{href:k?.pulseUrl??"#",target:"_blank",rel:"noreferrer",style:{color:"inherit",textDecoration:"underline",fontWeight:"bold"},children:["#",k?.pulse?.pulseIndex??""]})]}),J.jsx("span",{style:{opacity:.6},children:k?.pulseTimeMs?new Date(k.pulseTimeMs).toLocaleTimeString([],{hour12:!1}):""})]}),y?.round?v?J.jsx("span",{className:"beta-badge beta-badge--ok",style:{fontSize:10},children:"OPEN"}):J.jsx("span",{className:"beta-badge beta-badge--warn",style:{fontSize:10},children:"CLOSED"}):null]})]}),J.jsxs("div",{className:"beta-card__body",children:[J.jsxs("div",{className:"beta-play-status-row",children:[J.jsx("div",{style:{fontSize:13,opacity:.8},children:v?"Window Open":"Window Closed"}),v&&w!=null&&w>0&&J.jsxs("div",{style:{fontSize:13,fontWeight:"bold",color:"#4caf50"},children:["Closing in ",w,"s"]}),!v&&J.jsx("div",{style:{fontSize:13,color:"#aaa"},children:"Next round soon..."})]}),J.jsxs("div",{className:"beta-play-grid",children:[J.jsxs("div",{className:"beta-field",children:[J.jsx("span",{className:"beta-field__label",children:"Flow / Strategy"}),J.jsx("select",{className:"beta-input",value:G,onChange:f=>P(f.target.value),disabled:it,children:i0.map(f=>J.jsx("option",{value:f.id,children:f.label},f.id))})]}),J.jsxs("div",{className:"beta-field",children:[J.jsx("span",{className:"beta-field__label",children:"Prediction"}),J.jsxs("select",{className:"beta-input",value:$,onChange:f=>et(Number(f.target.value)),disabled:it,children:[J.jsx("option",{value:0,children:"0 (Bear)"}),J.jsx("option",{value:1,children:"1 (Bull)"})]})]})]}),J.jsx("div",{style:{marginBottom:12,fontSize:12,opacity:.7,textAlign:"right"},children:"Cost: 1.00 CHRONO + Fee"}),J.jsx("button",{className:"beta-play-btn",onClick:h,disabled:!m||it,children:it?"Processing...":"Buy Ticket"}),J.jsx("div",{style:{marginTop:24},children:J.jsx(L6,{logs:R,onClear:M,title:"Terminal Output",defaultOpen:!0,maxHeight:160})})]})]})}const sl=(s,e=4)=>{if(!s)return"";const n=s.toString();return n.slice(0,e)+".."+n.slice(-e)},al="https://explorer.solana.com",ol="?cluster=devnet",z6=({ticket:s,connection:e,onClose:n})=>{const[i,u]=Nt.useState([]),[o,l]=Nt.useState(!1),{roundId:d,ticketPk:y,receipt:_,ticket:E,round:C}=s||{};if(Nt.useEffect(()=>{!y||!e||(l(!0),e.getSignaturesForAddress(y,{limit:10}).then(ot=>u(ot)).catch(ot=>console.error("Err fetching sigs:",ot)).finally(()=>l(!1)))},[y,e]),!s)return null;const k=E?.revealed?E.guess:_?.guess??E?.guess,R=k===1,M=k===0,U=E?.claimed?"CLAIMED":E?.win?E.processed?"WIN (Unclaimed)":"WIN":E?.revealed?"LOSE":"PENDING",j=(ot=>ot.includes("WIN")||ot==="CLAIMED"?"#4caf50":ot==="LOSE"?"#f44336":"#ff9800")(U),G=ot=>{if(!ot)return null;const K=ot.toString();return i.find(Y=>{const F=Y.slot.toString();return F===K||Math.abs(Number(F)-Number(K))<=1})},P=G(E?.createdSlot||E?.created_slot),$=G(E?.revealedSlot||E?.revealed_slot),et=G(E?.claimedSlot||E?.claimed_slot),it=C?.pulseIndexTarget??C?.pulse_index_target,st=it?`https://beacon.nist.gov/beacon/2.0/chain/1/pulse/${it}`:"#";return J.jsx("div",{className:"beta-modal-overlay",onClick:n,children:J.jsxs("div",{className:"beta-modal",onClick:ot=>ot.stopPropagation(),children:[J.jsxs("div",{className:"beta-modal__head",children:[J.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[J.jsx("h3",{className:"beta-modal__title",children:"Trade Details"}),J.jsxs("a",{href:`${al}/address/${y?.toString()}${ol}`,target:"_blank",rel:"noreferrer",className:"beta-btn",style:{fontSize:10,padding:"4px 8px",height:"auto",minHeight:0,textDecoration:"none",background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.2)"},children:[sl(y,4)," "]})]}),J.jsx("button",{className:"beta-modal__close",onClick:n,children:""})]}),J.jsxs("div",{className:"beta-modal__body",children:[J.jsxs("div",{style:{background:`linear-gradient(to right, ${j}22, transparent)`,borderLeft:`3px solid ${j}`,padding:"10px 14px",marginBottom:20,borderRadius:"0 8px 8px 0"},children:[J.jsx("div",{style:{fontSize:11,textTransform:"uppercase",color:j,fontWeight:"bold",letterSpacing:1},children:"Status"}),J.jsx("div",{style:{fontSize:24,fontWeight:800,color:"#fff"},children:U})]}),J.jsxs("div",{className:"beta-detail-grid",children:[J.jsxs("div",{className:"beta-detail-row",children:[J.jsx("span",{className:"beta-detail-label",children:"Round ID"}),J.jsxs("span",{className:"beta-detail-value",children:["#",String(d)]})]}),J.jsxs("div",{className:"beta-detail-row",children:[J.jsx("span",{className:"beta-detail-label",children:"Target Pulse"}),J.jsx("span",{className:"beta-detail-value",children:it?J.jsxs("a",{href:st,target:"_blank",rel:"noreferrer",className:"beta-link",children:["#",String(it)," "]}):""})]}),J.jsxs("div",{className:"beta-detail-row",children:[J.jsx("span",{className:"beta-detail-label",children:"Prediction"}),J.jsx("span",{className:"beta-detail-value",style:{color:R?"#4caf50":M?"#f44336":"#ddd"},children:R?" Bull (1)":M?" Bear (0)":""})]}),E?.bit_index!==void 0&&J.jsxs("div",{className:"beta-detail-row",children:[J.jsx("span",{className:"beta-detail-label",children:"Bit Index"}),J.jsx("span",{className:"beta-detail-value",children:E.bit_index})]}),J.jsxs("div",{className:"beta-detail-row",children:[J.jsx("span",{className:"beta-detail-label",children:"Nonce"}),J.jsx("span",{className:"beta-detail-value",children:String(E?.nonce??_?.nonce??"")})]}),J.jsx("div",{style:{marginTop:20,marginBottom:8,fontSize:11,fontWeight:"bold",opacity:.5},children:"ON-CHAIN TRANSACTIONS"}),J.jsxs("div",{className:"beta-detail-row",children:[J.jsx("span",{className:"beta-detail-label",children:"Commit (Buy)"}),J.jsx("span",{className:"beta-detail-value",children:P?J.jsxs("a",{href:`${al}/tx/${P.signature}${ol}`,target:"_blank",rel:"noreferrer",className:"beta-link",children:[sl(P.signature)," "]}):o?J.jsx("span",{style:{opacity:.5},children:"Searching..."}):""})]}),J.jsxs("div",{className:"beta-detail-row",children:[J.jsx("span",{className:"beta-detail-label",children:"Reveal"}),J.jsx("span",{className:"beta-detail-value",children:$?J.jsxs("a",{href:`${al}/tx/${$.signature}${ol}`,target:"_blank",rel:"noreferrer",className:"beta-link",children:[sl($.signature)," "]}):o?J.jsx("span",{style:{opacity:.5},children:"Searching..."}):E?.revealed?"":"Pending"})]}),E?.win&&J.jsxs("div",{className:"beta-detail-row",children:[J.jsx("span",{className:"beta-detail-label",children:"Claim Reward"}),J.jsx("span",{className:"beta-detail-value",children:et?J.jsxs("a",{href:`${al}/tx/${et.signature}${ol}`,target:"_blank",rel:"noreferrer",className:"beta-link",children:[sl(et.signature)," "]}):E?.claimed?"":"Unclaimed"})]}),J.jsx("div",{style:{marginTop:20,marginBottom:8,fontSize:11,fontWeight:"bold",opacity:.5},children:"TECHNICAL DATA"}),E?.commitment&&J.jsxs("div",{className:"beta-detail-row",children:[J.jsx("span",{className:"beta-detail-label",children:"Commitment Hash"}),J.jsx("span",{className:"beta-detail-value beta-detail-value--long",children:Buffer.from(E.commitment).toString("hex")})]}),_?.salt&&J.jsxs("div",{className:"beta-detail-row",children:[J.jsx("span",{className:"beta-detail-label",children:"Local Salt"}),J.jsx("span",{className:"beta-detail-value beta-detail-value--long",children:Array.isArray(_.salt)?Buffer.from(_.salt).toString("hex"):_.salt})]})]})]})]})})},H6="DrsJxZRNuEFHVyj3Sz5CzpVeacpAGHBoZrg9NtRH9JqR",q6={name:"chronos_mvp",version:"0.1.0",spec:"0.1.0",description:"Created with Anchor"},j6=JSON.parse('[{"name":"add_oracle","discriminator":[185,165,165,167,208,207,55,35],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"oracle_set","writable":true,"pda":{"seeds":[{"kind":"const","value":[111,114,97,99,108,101,95,115,101,116]},{"kind":"account","path":"config"}]}},{"name":"admin","signer":true}],"args":[{"name":"oracle","type":"pubkey"}]},{"name":"claim_reward","discriminator":[149,95,181,242,94,90,158,162],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"tokenomics","pda":{"seeds":[{"kind":"const","value":[116,111,107,101,110,111,109,105,99,115]},{"kind":"account","path":"config"}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"ticket","writable":true,"pda":{"seeds":[{"kind":"const","value":[116,105,99,107,101,116]},{"kind":"arg","path":"round_id"},{"kind":"account","path":"user"},{"kind":"arg","path":"nonce"}]}},{"name":"user","writable":true,"signer":true},{"name":"chrono_mint","writable":true},{"name":"chrono_vault","writable":true},{"name":"user_chrono_ata","writable":true},{"name":"reward_fee_pool","writable":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}],"args":[{"name":"round_id","type":"u64"},{"name":"nonce","type":"u64"}]},{"name":"commit_batch","discriminator":[27,234,100,224,134,31,168,142],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"chrono_mint"},{"name":"chrono_vault","writable":true},{"name":"user","writable":true,"signer":true},{"name":"user_chrono_ata","writable":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"round_id","type":"u64"},{"name":"entries","type":{"vec":{"defined":{"name":"CommitEntry"}}}}]},{"name":"commit_batch_signed","discriminator":[114,249,180,103,248,14,43,173],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"chrono_mint"},{"name":"chrono_vault","writable":true},{"name":"payer","docs":["Relayer (paga fees)"],"writable":true,"signer":true},{"name":"user_escrow","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,95,101,115,99,114,111,119]},{"kind":"account","path":"user"}]}},{"name":"user_escrow_ata","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,95,101,115,99,114,111,119,95,118,97,117,108,116]},{"kind":"account","path":"user"}]}},{"name":"user"},{"name":"instructions"},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"round_id","type":"u64"},{"name":"entries","type":{"vec":{"defined":{"name":"CommitSignedEntry"}}}}]},{"name":"commit_ticket","discriminator":[15,97,55,56,38,249,88,220],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"chrono_mint"},{"name":"chrono_vault","writable":true},{"name":"ticket","writable":true,"pda":{"seeds":[{"kind":"const","value":[116,105,99,107,101,116]},{"kind":"arg","path":"round_id"},{"kind":"account","path":"user"},{"kind":"arg","path":"nonce"}]}},{"name":"user","writable":true,"signer":true},{"name":"user_chrono_ata","writable":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"round_id","type":"u64"},{"name":"nonce","type":"u64"},{"name":"commitment","type":{"array":["u8",32]}}]},{"name":"create_round","discriminator":[229,218,236,169,231,80,134,112],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"chrono_mint"},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"vault","writable":true,"pda":{"seeds":[{"kind":"const","value":[118,97,117,108,116]},{"kind":"arg","path":"round_id"}]}},{"name":"chrono_vault","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,104,114,111,110,111,95,118,97,117,108,116]},{"kind":"arg","path":"round_id"}]}},{"name":"admin","writable":true,"signer":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[{"name":"round_id","type":"u64"},{"name":"pulse_index_target","type":"u64"},{"name":"commit_deadline_slot","type":"u64"},{"name":"reveal_deadline_slot","type":"u64"}]},{"name":"create_round_auto","discriminator":[203,214,64,8,185,82,116,71],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"chrono_mint"},{"name":"round_registry","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100,95,114,101,103,105,115,116,114,121]},{"kind":"account","path":"config"}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"account","path":"round_registry.next_round_id","account":"RoundRegistry"}]}},{"name":"vault","writable":true,"pda":{"seeds":[{"kind":"const","value":[118,97,117,108,116]},{"kind":"account","path":"round_registry.next_round_id","account":"RoundRegistry"}]}},{"name":"chrono_vault","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,104,114,111,110,111,95,118,97,117,108,116]},{"kind":"account","path":"round_registry.next_round_id","account":"RoundRegistry"}]}},{"name":"admin","writable":true,"signer":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[{"name":"pulse_index_target","type":"u64"},{"name":"commit_deadline_slot","type":"u64"},{"name":"reveal_deadline_slot","type":"u64"}]},{"name":"deposit_escrow","discriminator":[226,112,158,176,178,118,153,128],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"chrono_mint","writable":true},{"name":"user_escrow","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,95,101,115,99,114,111,119]},{"kind":"account","path":"user"}]}},{"name":"user_escrow_ata","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,95,101,115,99,114,111,119,95,118,97,117,108,116]},{"kind":"account","path":"user"}]}},{"name":"user","writable":true,"signer":true},{"name":"user_chrono_ata","writable":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}],"args":[{"name":"amount","type":"u64"}]},{"name":"finalize_round","discriminator":[239,160,254,11,254,144,53,148],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"admin","signer":true}],"args":[{"name":"round_id","type":"u64"}]},{"name":"fund_vault","discriminator":[26,33,207,242,119,108,134,73],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"vault","writable":true,"pda":{"seeds":[{"kind":"const","value":[118,97,117,108,116]},{"kind":"arg","path":"round_id"}]}},{"name":"funder","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"round_id","type":"u64"},{"name":"amount","type":"u64"}]},{"name":"init_user_escrow","discriminator":[122,51,129,53,23,2,205,146],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"chrono_mint","writable":true},{"name":"user_escrow","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,95,101,115,99,114,111,119]},{"kind":"account","path":"user"}]}},{"name":"user_escrow_ata","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,95,101,115,99,114,111,119,95,118,97,117,108,116]},{"kind":"account","path":"user"}]}},{"name":"user","writable":true,"signer":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[]},{"name":"initialize_config","discriminator":[208,127,21,1,194,190,196,70],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"chrono_mint","docs":["Mint SPL del token CHRONO (ya creado off-chain en tests o en deploy script)"],"writable":true},{"name":"treasury_sol","docs":[" NUEVO: Treasury SOL (lamports) como system-owned PDA (igual que vault)"],"writable":true,"pda":{"seeds":[{"kind":"const","value":[116,114,101,97,115,117,114,121,95,115,111,108]}]}},{"name":"treasury","docs":["Treasury SPL = TokenAccount PDA controlado por el programa (authority = config PDA)"],"writable":true,"pda":{"seeds":[{"kind":"const","value":[116,114,101,97,115,117,114,121]}]}},{"name":"admin","writable":true,"signer":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[{"name":"stake_amount","type":"u64"},{"name":"commit_window_slots","type":"u64"},{"name":"reveal_window_slots","type":"u64"}]},{"name":"initialize_oracle_set","discriminator":[130,190,220,106,237,202,154,216],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"oracle_set","writable":true,"pda":{"seeds":[{"kind":"const","value":[111,114,97,99,108,101,95,115,101,116]},{"kind":"account","path":"config"}]}},{"name":"admin","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[{"name":"threshold","type":"u8"},{"name":"initial_oracles","type":{"vec":"pubkey"}}]},{"name":"initialize_round_registry","discriminator":[168,224,102,212,197,199,124,55],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round_registry","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100,95,114,101,103,105,115,116,114,121]},{"kind":"account","path":"config"}]}},{"name":"admin","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[{"name":"start_round_id","type":"u64"}]},{"name":"initialize_tokenomics","discriminator":[212,84,141,244,21,193,39,208],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"chrono_mint"},{"name":"tokenomics","writable":true,"pda":{"seeds":[{"kind":"const","value":[116,111,107,101,110,111,109,105,99,115]},{"kind":"account","path":"config"}]}},{"name":"reward_fee_pool","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,101,119,97,114,100,95,102,101,101,95,112,111,111,108]},{"kind":"account","path":"tokenomics"}]}},{"name":"replication_pool","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,101,112,108,105,99,97,116,105,111,110,95,112,111,111,108]},{"kind":"account","path":"tokenomics"}]}},{"name":"admin","writable":true,"signer":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[{"name":"reward_fee_bps","type":"u16"}]},{"name":"remove_oracle","discriminator":[60,93,51,197,182,42,170,26],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"oracle_set","writable":true,"pda":{"seeds":[{"kind":"const","value":[111,114,97,99,108,101,95,115,101,116]},{"kind":"account","path":"config"}]}},{"name":"admin","signer":true}],"args":[{"name":"oracle","type":"pubkey"}]},{"name":"reveal_batch","discriminator":[42,176,196,168,123,47,195,121],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"user","signer":true}],"args":[{"name":"round_id","type":"u64"},{"name":"entries","type":{"vec":{"defined":{"name":"RevealEntry"}}}}]},{"name":"reveal_batch_signed","discriminator":[157,126,204,244,23,210,88,121],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"payer","docs":["Relayer paying tx fees (must sign tx)"],"signer":true},{"name":"instructions","address":"Sysvar1nstructions1111111111111111111111111"}],"args":[{"name":"round_id","type":"u64"},{"name":"entries","type":{"vec":{"defined":{"name":"RevealSignedEntry"}}}}]},{"name":"reveal_ticket","discriminator":[223,24,70,21,181,13,151,239],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"ticket","writable":true,"pda":{"seeds":[{"kind":"const","value":[116,105,99,107,101,116]},{"kind":"arg","path":"round_id"},{"kind":"account","path":"user"},{"kind":"arg","path":"nonce"}]}},{"name":"user","signer":true}],"args":[{"name":"round_id","type":"u64"},{"name":"nonce","type":"u64"},{"name":"guess","type":"u8"},{"name":"salt","type":{"array":["u8",32]}}]},{"name":"set_claim_grace_slots","discriminator":[186,199,198,137,128,29,135,49],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"admin","signer":true}],"args":[{"name":"claim_grace_slots","type":"u64"}]},{"name":"set_oracle_pubkey","discriminator":[90,135,153,229,200,95,163,243],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"admin","signer":true}],"args":[{"name":"oracle_pubkey","type":"pubkey"}]},{"name":"set_oracle_threshold","discriminator":[181,85,21,30,120,168,37,233],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"oracle_set","writable":true,"pda":{"seeds":[{"kind":"const","value":[111,114,97,99,108,101,95,115,101,116]},{"kind":"account","path":"config"}]}},{"name":"admin","signer":true}],"args":[{"name":"threshold","type":"u8"}]},{"name":"set_pause","discriminator":[63,32,154,2,56,103,79,45],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"admin","signer":true}],"args":[{"name":"paused","type":"bool"}]},{"name":"set_pulse_signed","discriminator":[50,221,54,125,25,40,123,89],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"instructions","address":"Sysvar1nstructions1111111111111111111111111"}],"args":[{"name":"round_id","type":"u64"},{"name":"pulse","type":{"array":["u8",64]}}]},{"name":"settle_round_tokens","discriminator":[237,209,221,2,7,78,113,158],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"tokenomics","pda":{"seeds":[{"kind":"const","value":[116,111,107,101,110,111,109,105,99,115]},{"kind":"account","path":"config"}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"chrono_mint","writable":true},{"name":"chrono_vault","writable":true},{"name":"treasury","writable":true},{"name":"replication_pool","writable":true},{"name":"admin","writable":true,"signer":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}],"args":[{"name":"round_id","type":"u64"}]},{"name":"sweep_unclaimed","discriminator":[64,168,221,224,42,216,138,144],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"vault","writable":true,"pda":{"seeds":[{"kind":"const","value":[118,97,117,108,116]},{"kind":"arg","path":"round_id"}]}},{"name":"treasury_sol","docs":[" NUEVO: destino del sweep = treasury SOL PDA (lamports)"],"writable":true,"pda":{"seeds":[{"kind":"const","value":[116,114,101,97,115,117,114,121,95,115,111,108]}]}},{"name":"admin","signer":true},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"round_id","type":"u64"}]},{"name":"withdraw_escrow","discriminator":[81,84,226,128,245,47,96,104],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"chrono_mint","writable":true},{"name":"user_escrow","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,95,101,115,99,114,111,119]},{"kind":"account","path":"user"}]}},{"name":"user_escrow_ata","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,95,101,115,99,114,111,119,95,118,97,117,108,116]},{"kind":"account","path":"user"}]}},{"name":"user","writable":true,"signer":true},{"name":"user_chrono_ata","writable":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}],"args":[{"name":"amount","type":"u64"}]}]'),P6=[{name:"Config",discriminator:[155,12,170,224,30,250,204,130]},{name:"OracleSet",discriminator:[128,26,73,134,218,90,126,42]},{name:"Round",discriminator:[87,127,165,51,73,78,116,174]},{name:"RoundRegistry",discriminator:[89,3,13,175,73,80,211,206]},{name:"Ticket",discriminator:[41,228,24,165,78,90,235,200]},{name:"Tokenomics",discriminator:[252,176,228,183,130,36,15,194]},{name:"UserEscrow",discriminator:[242,233,85,38,26,5,142,109]}],K6=[{code:6e3,name:"Unauthorized",msg:"Unauthorized"},{code:6001,name:"Paused",msg:"Protocol paused"},{code:6002,name:"InvalidDeadlines",msg:"Invalid deadlines"},{code:6003,name:"CommitClosed",msg:"Commit window closed"},{code:6004,name:"RevealClosed",msg:"Reveal window closed"},{code:6005,name:"PulseNotSet",msg:"Pulse not set"},{code:6006,name:"PulseAlreadySet",msg:"Round pulse already set"},{code:6007,name:"AlreadyFinalized",msg:"Round already finalized"},{code:6008,name:"NotFinalized",msg:"Round not finalized"},{code:6009,name:"CannotFinalizeYet",msg:"Cannot finalize yet"},{code:6010,name:"AlreadyRevealed",msg:"Already revealed"},{code:6011,name:"CommitmentMismatch",msg:"Commitment mismatch"},{code:6012,name:"InvalidGuess",msg:"Invalid guess (must be 0/1)"},{code:6013,name:"TooManyEntries",msg:"Too many entries"},{code:6014,name:"TicketPdaMismatch",msg:"Ticket PDA mismatch"},{code:6015,name:"TicketAlreadyExists",msg:"Ticket already exists"},{code:6016,name:"TicketNotOwnedByProgram",msg:"Ticket not owned by program"},{code:6017,name:"VaultPdaMismatch",msg:"Vault PDA mismatch"},{code:6018,name:"InsufficientVaultFunds",msg:"Insufficient vault funds"},{code:6019,name:"MissingOrInvalidEd25519Ix",msg:"Missing or invalid ed25519 verify instruction"},{code:6020,name:"Ed25519PubkeyMismatch",msg:"Ed25519 pubkey mismatch"},{code:6021,name:"Ed25519MessageMismatch",msg:"Ed25519 message mismatch"},{code:6022,name:"OracleNotSet",msg:"Oracle pubkey not set"},{code:6023,name:"BitIndexMismatch",msg:"Bit index mismatch"},{code:6024,name:"AccountBorrowFailed",msg:"Failed to borrow account data"},{code:6025,name:"RoundFinalized",msg:"Round is finalized"},{code:6026,name:"CommitAfterPulseSet",msg:"Commit not allowed after pulse is set"},{code:6027,name:"SweepTooEarly",msg:"Sweep not allowed yet (grace period not elapsed)"},{code:6028,name:"AlreadySwept",msg:"Vault already swept for this round"},{code:6029,name:"ClaimAfterSweep",msg:"Cannot claim after vault sweep"},{code:6030,name:"InvalidStakeAmount",msg:"Invalid stake amount"},{code:6031,name:"InvalidWindow",msg:"Invalid window"},{code:6032,name:"MissingBump",msg:"Missing bump"},{code:6033,name:"MathOverflow",msg:"Math overflow"},{code:6034,name:"ChronoMintMismatch",msg:"chrono_mint does not match config"},{code:6035,name:"InvalidUserChronoAta",msg:"Invalid user CHRONO token account"},{code:6036,name:"TicketNotRevealed",msg:"Ticket not revealed"},{code:6037,name:"NotWinner",msg:"Not a winner"},{code:6038,name:"AlreadyClaimed",msg:"Already claimed"},{code:6039,name:"StakeNotPaid",msg:"Stake not paid for this ticket"},{code:6040,name:"InsufficientEscrow",msg:"Insufficient escrow funds"},{code:6041,name:"SignedBatchMixedUsers",msg:"Signed batch contains mixed users"},{code:6042,name:"RoundNotSettled",msg:"Round tokens not settled yet"},{code:6043,name:"SettleTooEarly",msg:"Too early to settle round tokens"},{code:6044,name:"RoundTokensAlreadySettled",msg:"Round tokens already settled"},{code:6045,name:"OracleSetFull",msg:"OracleSet is full"},{code:6046,name:"OracleAlreadyExists",msg:"Oracle already exists in allowlist"},{code:6047,name:"OracleNotFound",msg:"Oracle not found in allowlist"},{code:6048,name:"InvalidThreshold",msg:"Invalid threshold"},{code:6049,name:"ThresholdExceedsOracleCount",msg:"Threshold exceeds current oracle count"},{code:6050,name:"InvalidFeeBps",msg:"Invalid fee bps (must be 0..=10_000)."},{code:6051,name:"InvalidBps",msg:"Invalid basis points (must be <= 10000)"},{code:6052,name:"TokenomicsNotInitialized",msg:"Tokenomics not initialized"}],V6=[{name:"CommitEntry",type:{kind:"struct",fields:[{name:"nonce",type:"u64"},{name:"commitment",type:{array:["u8",32]}}]}},{name:"CommitSignedEntry",type:{kind:"struct",fields:[{name:"user",type:"pubkey"},{name:"nonce",type:"u64"},{name:"commitment",type:{array:["u8",32]}}]}},{name:"Config",type:{kind:"struct",fields:[{name:"admin",type:"pubkey"},{name:"bump",type:"u8"},{name:"stake_amount",type:"u64"},{name:"commit_window_slots",type:"u64"},{name:"reveal_window_slots",type:"u64"},{name:"claim_grace_slots",type:"u64"},{name:"oracle_pubkey",type:"pubkey"},{name:"paused",type:"bool"},{name:"version",type:"u16"},{name:"chrono_mint",type:"pubkey"},{name:"treasury",type:"pubkey"},{name:"treasury_bump",type:"u8"},{name:"treasury_sol",type:"pubkey"},{name:"treasury_sol_bump",type:"u8"}]}},{name:"OracleSet",type:{kind:"struct",fields:[{name:"admin",type:"pubkey"},{name:"bump",type:"u8"},{name:"threshold",docs:["Minimum number of oracle attestations required (PR2 will consume this)."],type:"u8"},{name:"oracles",docs:["Allowlisted oracle pubkeys.","NOTE: fixed max_len to keep account size deterministic."],type:{vec:"pubkey"}},{name:"version",type:"u16"}]}},{name:"RevealEntry",type:{kind:"struct",fields:[{name:"nonce",type:"u64"},{name:"guess",type:"u8"},{name:"salt",type:{array:["u8",32]}}]}},{name:"RevealSignedEntry",type:{kind:"struct",fields:[{name:"user",type:"pubkey"},{name:"nonce",type:"u64"},{name:"guess",type:"u8"},{name:"salt",type:{array:["u8",32]}}]}},{name:"Round",type:{kind:"struct",fields:[{name:"round_id",type:"u64"},{name:"bump",type:"u8"},{name:"state",type:"u8"},{name:"vault",type:"pubkey"},{name:"vault_bump",type:"u8"},{name:"pulse_index_target",type:"u64"},{name:"commit_deadline_slot",type:"u64"},{name:"reveal_deadline_slot",type:"u64"},{name:"created_slot",type:"u64"},{name:"pulse_set",type:"bool"},{name:"pulse",type:{array:["u8",64]}},{name:"pulse_set_slot",type:"u64"},{name:"finalized",type:"bool"},{name:"finalized_slot",type:"u64"},{name:"swept",type:"bool"},{name:"swept_slot",type:"u64"},{name:"chrono_vault",type:"pubkey"},{name:"chrono_vault_bump",type:"u8"},{name:"committed_count",type:"u64"},{name:"revealed_count",type:"u64"},{name:"win_count",type:"u64"},{name:"settled_count",type:"u64"},{name:"token_settled",type:"bool"},{name:"token_settled_slot",type:"u64"}]}},{name:"RoundRegistry",type:{kind:"struct",fields:[{name:"admin",type:"pubkey"},{name:"bump",type:"u8"},{name:"next_round_id",type:"u64"},{name:"version",type:"u16"}]}},{name:"Ticket",type:{kind:"struct",fields:[{name:"round_id",type:"u64"},{name:"user",type:"pubkey"},{name:"nonce",type:"u64"},{name:"bump",type:"u8"},{name:"commitment",type:{array:["u8",32]}},{name:"stake_paid",type:"bool"},{name:"stake_slashed",type:"bool"},{name:"processed",type:"bool"},{name:"revealed",type:"bool"},{name:"guess",type:"u8"},{name:"win",type:"bool"},{name:"bit_index",type:"u16"},{name:"claimed",type:"bool"},{name:"claimed_slot",type:"u64"},{name:"created_slot",type:"u64"},{name:"revealed_slot",type:"u64"}]}},{name:"Tokenomics",type:{kind:"struct",fields:[{name:"admin",type:"pubkey"},{name:"bump",type:"u8"},{name:"reward_fee_bps",docs:["Fee charged on minted rewards (basis points). 100 = 1%."],type:"u16"},{name:"reward_fee_pool",docs:["SPL TokenAccount PDAs (CHRONO mint)"],type:"pubkey"},{name:"reward_fee_pool_bump",type:"u8"},{name:"replication_pool",type:"pubkey"},{name:"replication_pool_bump",type:"u8"},{name:"version",type:"u16"}]}},{name:"UserEscrow",type:{kind:"struct",fields:[{name:"user",type:"pubkey"},{name:"bump",type:"u8"},{name:"created_slot",type:"u64"},{name:"updated_slot",type:"u64"}]}}],qE={address:H6,metadata:q6,instructions:j6,accounts:P6,errors:K6,types:V6},G6=122,Y6=16,ul=5e3,F6=3e4;function s0(s,e=0){try{return s==null?e:typeof s=="number"?s:typeof s?.toNumber=="function"?s.toNumber():typeof s?.toString=="function"?Number(s.toString()):e}catch{return e}}function sr(s,e,n=void 0){for(const i of e)if(s&&s[i]!==void 0)return s[i];return n}function Z6({ticket:s,round:e}){const n=!!sr(s,["revealed"],!1),i=!!sr(s,["win"],!1);return sr(s,["claimed"],!1)?"CLAIMED":n?i?!!sr(e,["tokenSettled","token_settled"],!1)?"CLAIM":"WIN":"LOSE":"PENDING"}function X6(s){const e=String(s?.message||s||"");return e.includes("429")||e.toLowerCase().includes("too many requests")}function a_(s){if(!s)return"Unknown error";const e=typeof s=="string"?s:s?.message||s?.toString?.()||"Unknown error";return e.toLowerCase().includes("user rejected")?"User rejected":e.toLowerCase().includes("declined")?"User declined":e}function o_(s){const e=s?.logs||s?.error?.logs||s?.data?.logs;return Array.isArray(e)&&e.length?e:null}function $6({program:s,connection:e,programPk:n,userPubkey:i,mintPk:u,appendLog:o,onAfterAction:l,setLastTx:d,limit:y=20}){const _=Nt.useMemo(()=>new gp(qE),[]),[E,C]=Nt.useState([]),[k,R]=Nt.useState(!1),[M,U]=Nt.useState(null),[L,j]=Nt.useState(null),[G,P]=Nt.useState(0),$=Nt.useRef(!1),et=Nt.useRef(ul),it=Nt.useRef(0),st=Nt.useRef(null),ot=Nt.useCallback(async(F="manual")=>{if(!e||!n||!i){j(Date.now());return}const X=Date.now();if(F==="action"&&(it.current=0),!(X<it.current)&&!$.current)try{$.current=!0,R(!0),U(null),P(0);const O=i.toBase58(),w=(await e.getProgramAccounts(n,{commitment:"confirmed",filters:[{dataSize:G6},{memcmp:{offset:Y6,bytes:O}}]})).map(I=>{try{const v=_.decode("Ticket",Ct.Buffer.from(I.account.data)),m=s0(sr(v,["roundId","round_id"],0),0),f=s0(sr(v,["createdSlot","created_slot"],0),0),b=s0(sr(v,["nonce"],0),0),z=C6(O,m).find(Z=>Z.ticketPda===I.pubkey.toBase58())||null;return{ticketPk:I.pubkey,ticket:v,roundId:m,createdSlot:f,nonce:b,receipt:z}}catch{return null}}).filter(Boolean).sort((I,v)=>(v.createdSlot??0)-(I.createdSlot??0)).slice(0,Math.max(1,y)),S=Array.from(new Set(w.map(I=>I.roundId))).filter(I=>I!=null),B=new Map;if(S.length){const I=await Promise.all(S.map(f=>gl(n,f))),v=[],m=100;for(let f=0;f<I.length;f+=m){const b=I.slice(f,f+m),x=await e.getMultipleAccountsInfo(b,"confirmed");v.push(...x)}for(let f=0;f<S.length;f++){const b=v[f];if(b?.data)try{B.set(S[f],_.decode("Round",Ct.Buffer.from(b.data)))}catch{}}}const D=w.map(I=>{const v=B.get(I.roundId)||null,m=!!sr(I.ticket,["revealed"],!1),f=sr(I.ticket,["guess"],null),b=m?f:I.receipt?.guess??f,x=!!sr(I.ticket,["win"],!1),z=!!sr(I.ticket,["claimed"],!1),Z=!!sr(v,["pulseSet","pulse_set"],!1),nt=!!sr(v,["tokenSettled","token_settled"],!1),vt=Z6({ticket:I.ticket,round:v});return{...I,round:v,guess:b,win:x,revealed:m,claimed:z,pulseSet:Z,tokenSettled:nt,uiStatus:vt}});C(D),j(Date.now()),et.current=ul,it.current=0}catch(O){const h=O?.message||String(O);if(U(h),j(Date.now()),X6(O)){const w=Math.min(et.current*2,F6),S=Math.floor(500+Math.random()*1500);et.current=w;const B=w+S,D=Date.now()+B;it.current=D,P(Math.ceil(B/1e3)),st.current&&clearInterval(st.current),st.current=setInterval(()=>{const I=Math.max(0,Math.ceil((it.current-Date.now())/1e3));P(I),I<=0&&(clearInterval(st.current),st.current=null)},500)}else F!=="poll"&&o?.(`Tickets refresh error: ${h}`)}finally{$.current=!1,R(!1)}},[e,n,i,_,y,o]);Nt.useEffect(()=>{let F=null,X=!1;const O=async()=>{X||(document.visibilityState==="visible"&&await ot("poll"),F=setTimeout(O,ul))},h=800+Math.floor(Math.random()*1200);F=setTimeout(()=>ot("init"),h);const w=setTimeout(O,ul);return()=>{X=!0,F&&clearTimeout(F),w&&clearTimeout(w),st.current&&clearInterval(st.current),st.current=null}},[ot]);const K=Nt.useCallback(async F=>{if(!s||!i)throw new Error("Wallet not connected");if(!F?.receipt?.saltHex)throw new Error("Missing local receipt for this ticket (salt).");const X=await Bl(n),O=await gl(n,F.roundId),h=R6(F.receipt.saltHex);o?.(`Reveal: sending tx (round=${F.roundId}, nonce=${F.nonce})`);try{const w=await s.methods.revealTicket(new Hn(F.roundId),new Hn(F.nonce),Number(F.receipt.guess),Array.from(h)).accounts({config:X,round:O,user:i,ticket:F.ticketPk}).rpc();return o?.(`Reveal OK  tx=${w}`),d?.(w),l?.(),await ot("action"),w}catch(w){o?.(`Reveal failed: ${a_(w)}`);const S=o_(w);return S?.length&&S.slice(0,12).forEach(B=>o?.(`  ${B}`)),null}},[s,n,i,o,d,l,ot]),Y=Nt.useCallback(async F=>{if(!s||!i)throw new Error("Wallet not connected");if(!u)throw new Error("Mint not set");const X=await Bl(n),O=await gl(n,F.roundId),h=await C0(n,X),w=await HE(n,h),S=await _p(n,F.roundId),B=await O0.token.associatedAddress({mint:u,owner:i});o?.(`Claim: sending tx (round=${F.roundId}, nonce=${F.nonce})`);try{const D=await s.methods.claimReward(new Hn(F.roundId),new Hn(F.nonce)).accounts({config:X,tokenomics:h,round:O,ticket:F.ticketPk,user:i,chronoMint:u,chronoVault:S,userChronoAta:B,rewardFeePool:w,tokenProgram:O0.token.TOKEN_PROGRAM_ID}).rpc();return o?.(`Claim OK  tx=${D}`),d?.(D),l?.(),await ot("action"),D}catch(D){o?.(`Claim failed: ${a_(D)}`);const I=o_(D);return I?.length&&I.slice(0,12).forEach(v=>o?.(`  ${v}`)),null}},[s,n,i,u,o,d,l,ot]);return{rows:E,loading:k,error:M,lastUpdatedAt:L,retryInSec:G,forceRefresh:()=>ot("manual"),doRevealTicket:K,doClaimTicket:Y}}function a0(s){if(s<=0)return"0s";const e=Math.floor(s/60),n=Math.floor(s%60);return e>0?`${e}m ${n}s`:`${n}s`}function cl(s){try{return s==null?null:typeof s=="bigint"?s:typeof s=="number"||typeof s=="string"?BigInt(s):typeof s?.toString=="function"?BigInt(s.toString()):null}catch{return null}}function W6({program:s,connection:e,programPk:n,pubkey:i,mintPk:u,appendLog:o,onAfterAction:l,setLastTx:d,actionsEnabled:y=!0,refreshNonce:_=0,limit:E=20,currentSlot:C,activeRoundId:k,nist:R}){const M=Nt.useMemo(()=>i?i instanceof wt?i:new wt(i):null,[i]),{rows:U=[],loading:L,error:j,lastUpdatedAt:G,forceRefresh:P,doRevealTicket:$,doClaimTicket:et}=$6?.({program:s,connection:e,programPk:n,userPubkey:M,mintPk:u,appendLog:o,onAfterAction:l,setLastTx:d,refreshNonce:_,limit:E})||{},it=U??[],[st,ot]=Nt.useState(null),[K,Y]=Nt.useState("ALL");function F(v,m){const f=!!v.revealed,b=!!v.win,x=!!v.claimed,z=!!v.tokenSettled;let Z=!1;if(!f&&!b&&m&&v.round){const nt=cl(v.round.revealDeadlineSlot||v.round.reveal_deadline_slot);nt&&BigInt(m)>nt&&(Z=!0)}return x?"CLAIMED":Z?"EXPIRED":b&&z?"CLAIM":b?"WIN":f&&!b?"LOSE":"PENDING"}const X=Nt.useMemo(()=>K==="ALL"?it:it.filter(v=>{const m=F(v,C);return K==="WIN"?m==="WIN"||m==="CLAIM":m===K}),[it,K,C]),[O,h]=Nt.useState(1),[w,S]=Nt.useState(10),B=Math.ceil(X.length/w)||1;Nt.useEffect(()=>{O>B&&h(B)},[O,B,K,w]);const D=X.slice((O-1)*w,O*w);function I(v){switch(v){case"WIN":case"CLAIM":return"beta-badge--win";case"CLAIMED":return"beta-badge--ok";case"LOSE":return"beta-badge--lose";case"EXPIRED":return"beta-badge--expired";default:return"beta-badge--pending"}}return J.jsxs("div",{className:"beta-card",style:{padding:0,overflow:"hidden"},children:[J.jsx("div",{className:"beta-card__head",style:{padding:"16px 24px",borderBottom:"1px solid rgba(0,0,0,0.05)"},children:J.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:10},children:[J.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[J.jsx("div",{className:"beta-card__title",children:"Order History"}),M&&!L&&J.jsxs("span",{className:"beta-badge",style:{fontSize:10,opacity:.8},children:[X.length," TICKETS"]})]}),J.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[J.jsxs("select",{className:"beta-input",style:{padding:"6px 10px",fontSize:13,height:32,minWidth:110,border:"1px solid rgba(0,0,0,0.1)"},value:K,onChange:v=>Y(v.target.value),children:[J.jsx("option",{value:"ALL",children:"All Status"}),J.jsx("option",{value:"PENDING",children:"Pending"}),J.jsx("option",{value:"WIN",children:"Win / Claim"}),J.jsx("option",{value:"LOSE",children:"Lose"}),J.jsx("option",{value:"EXPIRED",children:"Expired"}),J.jsx("option",{value:"CLAIMED",children:"Claimed"})]}),J.jsx("select",{className:"beta-input",style:{padding:"6px 10px",fontSize:13,height:32,width:"auto",border:"1px solid rgba(0,0,0,0.1)"},value:w,onChange:v=>{S(Number(v.target.value)),h(1)},children:[10,20,50].map(v=>J.jsxs("option",{value:v,children:[v," / page"]},v))})]})]})}),j&&J.jsxs("div",{style:{padding:"12px 24px",fontSize:13,color:"#e53935",background:"rgba(229, 57, 53, 0.1)"},children:[J.jsx("b",{children:"Error:"})," ",String(j)]}),J.jsx("div",{className:"beta-table-container",children:J.jsxs("table",{className:"beta-table",children:[J.jsx("thead",{children:J.jsxs("tr",{children:[J.jsx("th",{style:{paddingLeft:24},children:"Round"}),J.jsx("th",{children:"Prediction"}),J.jsx("th",{children:"Status"}),J.jsx("th",{children:"Details"}),y?J.jsx("th",{style:{paddingRight:24,textAlign:"right"},children:"Action"}):null]})}),J.jsx("tbody",{children:D.length?D.map(v=>{const m=Number(v.roundId),f=v.guess,b=!!v.win,x=!!v.revealed,z=!!v.claimed,Z=!!v.pulseSet,nt=!!v.tokenSettled,vt=F(v,C),Et=k===m,Pt=v.ticketPk??null,Gt=(Pt?.toBase58?.()??String(Pt))||`${m}-${f}`,ce=!!v.receipt?.saltHex;let We=y&&Z&&!nt&&!x&&ce&&typeof $=="function"&&vt!=="EXPIRED",Wt=y&&nt&&b&&!z&&typeof et=="function",Zt=null;if(We&&C&&v.round){const Qt=cl(v.round.revealDeadlineSlot||v.round.reveal_deadline_slot);if(Qt){const vn=Number(Qt)-C;if(vn>0){const de=vn*.45,ie=a0(de);Zt=J.jsxs("span",{style:{fontSize:12,color:"#FFA500",fontWeight:500},children:["Reveal: ",ie]})}else We=!1}}else if(b&&!nt&&!z&&C&&v.round){const Qt=cl(v.round.revealDeadlineSlot||v.round.reveal_deadline_slot);if(Qt){const vn=Number(Qt)-C;if(vn>0){const de=vn*.45,ie=a0(de);Zt=J.jsxs("span",{style:{fontSize:12,opacity:.6},children:["Settling in ",ie,"..."]})}else Zt=J.jsx("span",{style:{fontSize:12,opacity:.6},children:"Settling..."})}}else if(!x&&!Z&&!b&&v.round){const Qt=cl(v.round.pulseIndexTarget||v.round.pulse_index_target);if(Qt&&(Zt=J.jsx("span",{style:{fontSize:12,opacity:.5},children:"Waiting pulse..."}),R?.pulse?.pulseIndex)){const vn=Number(R.pulse.pulseIndex),de=new Date(R.pulse.timeStamp).getTime(),ie=Number(Qt);if(ie>vn){const En=ie-vn,Cn=de+En*6e4+45e3-Date.now();Cn>0?Zt=J.jsxs("span",{style:{fontSize:12,opacity:.6},children:["Pulse in ~",a0(Cn/1e3)]}):Zt=J.jsx("span",{style:{fontSize:12,opacity:.6},children:"Pulse arriving..."})}else Zt=J.jsx("span",{style:{fontSize:12,color:"#F7B500"},children:"Processing..."})}}let kn=null;We?kn=J.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:8},children:[Zt,J.jsx("button",{className:"beta-btn beta-btn--sm",onClick:()=>$(v),type:"button",style:{minWidth:80},children:"Reveal"})]}):Wt?kn=J.jsx("button",{className:"beta-btn beta-btn--sm",onClick:()=>et(v),type:"button",style:{background:"#4caf50",color:"white",minWidth:80},children:"Claim"}):Zt&&(kn=Zt);const Se=Qt=>Qt==="WIN"?"WINNER":Qt==="LOSE"?"LOSS":Qt==="CLAIM"?"WINNER":Qt;return J.jsxs("tr",{children:[J.jsxs("td",{style:{paddingLeft:24,fontWeight:Et?"bold":"normal"},children:[J.jsxs("span",{style:{opacity:Et?1:.7},children:["#",String(m)]}),Et&&J.jsx("span",{className:"beta-dot",style:{marginLeft:6}})]}),J.jsx("td",{children:J.jsx("span",{style:{fontWeight:500},children:f===1?" Bull (1)":f===0?" Bear (0)":""})}),J.jsx("td",{children:J.jsx("span",{className:`beta-badge ${I(vt)}`,children:Se(vt)})}),J.jsx("td",{children:J.jsx("button",{className:"beta-btn beta-btn--soft",style:{fontSize:11,padding:"2px 8px",height:"auto",minHeight:24,opacity:.8},onClick:()=>ot(v),children:"INFO"})}),y?J.jsx("td",{style:{paddingRight:24,textAlign:"right"},children:kn}):null]},Gt)}):J.jsx("tr",{children:J.jsx("td",{colSpan:y?5:4,style:{padding:"32px",textAlign:"center",opacity:.5},children:M?L?"Loading tickets...":"No tickets found":"Please connect wallet"})})})]})}),it.length>0&&J.jsxs("div",{style:{padding:"12px 24px",borderTop:"1px solid rgba(0,0,0,0.05)",display:"flex",justifyContent:"space-between",alignItems:"center",background:"rgba(0,0,0,0.01)"},children:[J.jsxs("div",{style:{fontSize:12,opacity:.5},children:["Showing ",D.length," of ",X.length," tickets"]}),J.jsxs("div",{style:{display:"flex",gap:8},children:[J.jsx("button",{className:"beta-btn beta-btn--soft",style:{padding:"4px 10px",fontSize:12},disabled:O<=1,onClick:()=>h(v=>v-1),children:"Previous"}),J.jsx("button",{className:"beta-btn beta-btn--soft",style:{padding:"4px 10px",fontSize:12},disabled:O>=B,onClick:()=>h(v=>v+1),children:"Next"})]})]}),J.jsx(z6,{ticket:st,connection:e,onClose:()=>ot(null)})]})}function Q6(){return typeof window>"u"?null:window?.phantom?.solana??window?.solana??null}function J6(s,e){return!s?.isPhantom||!e?null:{publicKey:e,signTransaction:s.signTransaction.bind(s),signAllTransactions:s.signAllTransactions.bind(s)}}function tC({rpcUrl:s,programId:e,pubkey:n}){const i=Nt.useMemo(()=>Q6(),[]),u=Nt.useMemo(()=>new ap(s,"confirmed"),[s]),[o,l]=Nt.useState(null),[d,y]=Nt.useState(!1);return Nt.useEffect(()=>{let _=!0;async function E(){try{if(!i||!n){_&&(l(null),y(!1));return}const C=J6(i,n);if(!C){_&&(l(null),y(!1));return}const k=new wu(u,C,{commitment:"confirmed"}),R=await ro.at(e,k);_&&(l(R),y(!0))}catch{_&&(l(null),y(!1))}}return E(),()=>{_=!1}},[i,n,e,u]),{program:o,connection:u,walletReady:d}}function eC({chainId:s=2}={}){const n="https://beacon.nist.gov/beacon/2.0",i=Nt.useMemo(()=>[`${n}/chain/${s}/pulse/last`,`${n}/pulse/last`],[n,s]),[u,o]=Nt.useState(null),[l,d]=Nt.useState(""),[y,_]=Nt.useState(Date.now());async function E(){d("");for(const U of i)try{const L=await fetch(U,{cache:"no-store"});if(!L.ok)throw new Error(`HTTP ${L.status}`);const j=await L.json(),G=j?.pulse||j;if(!G?.pulseIndex||!G?.timeStamp)throw new Error("Unexpected NIST response");o({pulseIndex:Number(G.pulseIndex),timeStamp:String(G.timeStamp)});return}catch(L){d(L?.message??String(L))}}Nt.useEffect(()=>{E();const U=setInterval(()=>_(Date.now()),1e3),L=setInterval(()=>E(),15e3);return()=>{clearInterval(U),clearInterval(L)}},[]);let C=null,k=null,R=null;if(u?.timeStamp){const U=Date.parse(u.timeStamp);if(!Number.isNaN(U)){C=U;const L=Math.max(0,y-U);k=Math.floor(L/1e3);const j=6e4-L%6e4;R=Math.max(0,Math.ceil(j/1e3)),R>60&&(R=60)}}const M=u?.pulseIndex!=null?`${n}/chain/${s}/pulse/${u.pulseIndex}`:`${n}/chain/${s}/pulse/last`;return{pulse:u,pulseTimeMs:C,elapsedSec:k,nextInSec:R,err:l,pulseUrl:M}}function Us(s,...e){for(const n of e)if(s&&Object.prototype.hasOwnProperty.call(s,n))return s[n]}function ll(s){return s==null?null:typeof s=="bigint"?s:typeof s=="number"||typeof s=="string"?BigInt(s):typeof s=="object"&&typeof s.toString=="function"?BigInt(s.toString()):null}function nC({rpcUrl:s,connection:e,programId:n,pubkey:i}){const u=Nt.useMemo(()=>e||new ap(s,"processed"),[e,s]),o=Nt.useMemo(()=>new gp(qE),[]),[l,d]=Nt.useState(null),[y,_]=Nt.useState(""),E=Nt.useCallback(async()=>{if(!i){d(null),_("");return}try{const C=Bl(n),k=zE(n,C),R=await u.getAccountInfo(k,"processed");if(!R?.data){const w=C0(n,C);d({configPda:C,roundRegistryPda:k,rrPda:k,roundId:null,roundPda:null,chronoVaultPda:null,round:null,tokenomicsPda:w,tokenomicsExists:!1,rewardFeePoolPda:null,deriveTicketPda:()=>null}),_("RoundRegistry not found (run bootstrap once on devnet).");return}const M=o.decode("RoundRegistry",R.data),U=Us(M,"nextRoundId","next_round_id"),L=ll(U)??0n,j=L>0n?Number(L-1n):0,G=await u.getSlot("processed"),P=gl(n,j),$=await u.getAccountInfo(P,"processed"),et=_p(n,j),it=C0(n,C),ot=!!(await u.getAccountInfo(it,"processed"))?.data,K=ot?HE(n,it):null;if(!$?.data){d({configPda:C,roundRegistryPda:k,rrPda:k,roundId:j,roundPda:P,chronoVaultPda:et,currentSlot:G,round:null,tokenomicsPda:it,tokenomicsExists:ot,rewardFeePoolPda:K,deriveTicketPda:(w,S,B)=>k0(n,w,S,B)}),_("Round account not found yet (operator hasn't created it).");return}const Y=o.decode("Round",$.data);console.log("PROTOCOL_DEBUG: roundId",j,"raw decoded:",Y);const F={pulseSet:!!Us(Y,"pulseSet","pulse_set"),finalized:!!Us(Y,"finalized"),tokenSettled:!!Us(Y,"tokenSettled","token_settled"),commitDeadlineSlot:ll(Us(Y,"commitDeadlineSlot","commit_deadline_slot")),revealDeadlineSlot:ll(Us(Y,"revealDeadlineSlot","reveal_deadline_slot")),pulseIndexTarget:ll(Us(Y,"pulseIndexTarget","pulse_index_target"))},O=14e11+(Number(F.pulseIndexTarget)-1)*6e4;console.log("PROTOCOL_DEBUG: finalized round object",F),d({configPda:C,roundRegistryPda:k,rrPda:k,roundId:j,roundPda:P,chronoVaultPda:et,currentSlot:G,round:F,tokenomicsPda:it,tokenomicsExists:ot,rewardFeePoolPda:K,deriveTicketPda:(w,S,B)=>k0(n,w,S,B)});const h=F.pulseIndexTarget?.toString();_(`Targeting NIST Pulse: ${F.pulseIndexTarget}`)}catch(C){d(null),_("Play: could not load protocol state"),console.error("useProtocolState refresh error:",C)}},[o,u,n,i]);return Nt.useEffect(()=>{if(!i)return;let C=!1;const k=async()=>{C||document.visibilityState==="visible"&&await E()},R=l?.round&&l?.currentSlot!=null&&l.round.commitDeadlineSlot!=null&&BigInt(l.currentSlot)<l.round.commitDeadlineSlot,U=l?.round&&(R||!l.round.pulseSet||!l.round.finalized)?2e3:8e3;k();const L=setInterval(k,U);return()=>{C=!0,clearInterval(L)}},[i,E,l?.round?.pulseSet,l?.round?.finalized]),{chainState:l,statusLine:y,refreshNow:E}}Ow("devnet");const fl="https://api.devnet.solana.com",rC="BETA2026",u_="DrsJxZRNuEFHVyj3Sz5CzpVeacpAGHBoZrg9NtRH9JqR",c_="https://timlg-faucet.vercel.app/api/faucet",o0="7nJ9vaCpjo3zDY1fzZv1KicjoZ6yPpzHFcKq3HDh8cEf",iC=+"0.05",sC=1;function u0(){return typeof window>"u"?null:window?.phantom?.solana??window?.solana??null}function aC(){const s=new Date,e=n=>String(n).padStart(2,"0");return`${e(s.getUTCHours())}:${e(s.getUTCMinutes())}:${e(s.getUTCSeconds())}Z`}function oC(){const s=Nt.useMemo(()=>new wt(u_),[]),e=Nt.useMemo(()=>new wt(o0),[]),[n,i]=Nt.useState(!0),[u,o]=Nt.useState(null),[l,d]=Nt.useState(null),[y,_]=Nt.useState(null),[E,C]=Nt.useState(rC),[k,R]=Nt.useState(""),[M,U]=Nt.useState(""),[L,j]=Nt.useState([]),G=Nt.useCallback(m=>{const f=String(m??"").trim();f&&j(b=>{const x=[...b,`[${aC()}] ${f}`];return x.length>400?x.slice(-400):x})},[]),P=Nt.useCallback(()=>j([]),[]),$=u?.toBase58?.()??null,{program:et,connection:it,walletReady:st}=tC({rpcUrl:fl,programId:s,pubkey:u}),ot=eC({chainId:2}),{chainState:K,statusLine:Y,refreshNow:F}=nC({rpcUrl:fl,connection:it,programId:s,pubkey:u}),X=Nt.useCallback(async m=>{try{const b=await it.getBalance(m,"confirmed")/_0;return d(b),b}catch{return d(null),null}},[it]),O=Nt.useCallback(async m=>{try{const b=(await it.getParsedTokenAccountsByOwner(m,{mint:e},"confirmed"))?.value?.[0]?.account?.data?.parsed?.info?.tokenAmount?.uiAmount??0;return _(b),b}catch{return _(null),null}},[it,e]),[h,w]=Nt.useState(0),S=Nt.useCallback(()=>{w(m=>m+1),setTimeout(()=>w(m=>m+1),1e3),setTimeout(()=>w(m=>m+1),3e3)},[]);Nt.useCallback(async()=>{u&&(await Promise.all([X(u),O(u),F()]),S())},[u,X,O,F,S]);async function B(){try{let m=window?.solana;if(m?.isPhantom||(m=window?.phantom?.solana),!m){i(!1),R("Phantom not detected."),G("Connect: Phantom not detected.");return}i(!!m?.isPhantom),R("Connecting");const f={isPhantom:m?.isPhantom,isSolflare:m?.isSolflare,source:m===window?.solana?"window.solana":"window.phantom.solana",isConnected:m?.isConnected,pubkey:m?.publicKey?.toBase58?.()};if(G(`Connect: provider state: ${JSON.stringify(f)}`),m?.isConnected&&m?.publicKey){o(m.publicKey),R("Wallet connected (researched) "),G(`Connected (cached): ${m.publicKey.toBase58()}`),await Promise.all([X(m.publicKey),O(m.publicKey),F()]);return}let b;try{b=await m.connect()}catch(x){console.warn("Standard connect failed, retrying with onlyIfTrusted:false",x),G(`Connect: retry forced (${x.message})`),await new Promise(z=>setTimeout(z,200)),b=await m.connect({onlyIfTrusted:!1})}b?.publicKey&&(o(b.publicKey),G(`Connected: ${b.publicKey.toBase58()}`),R("Wallet connected "),await Promise.all([X(b.publicKey),O(b.publicKey),F()]))}catch(m){console.error("Phantom connect error:",m);let f=m?.message??String(m);m?.code===-32603&&(f="Wallet Error (-32603). The Phantom extension is stuck. PLEASE RESTART YOUR BROWSER entirely.");const b=JSON.stringify(m,Object.getOwnPropertyNames(m));R(`Error: ${f}`),G(`Connect error details: ${b}`)}}async function D(){try{const m=u0();G("Disconnect: wallet requested."),await m?.disconnect?.()}catch{}o(null),d(null),_(null),U(""),R("Disconnected.")}async function I(){if(!u){R("Connect your wallet first."),G("Airdrop SOL: connect wallet first.");return}try{R("Requesting 1 SOL airdrop (devnet)..."),G("Airdrop SOL: requesting 1 SOL");const m=await it.requestAirdrop(u,1*_0);if(U(m),G(`Airdrop SOL: submitted tx=${m}`),(await it.confirmTransaction(m,"confirmed"))?.value?.err){R("Airdrop failed."),G("Airdrop SOL: failed (confirm err).");return}await X(u),R("Airdrop OK "),G("Airdrop SOL: OK ")}catch(m){R(`Airdrop error: ${m?.message??String(m)}`),G(`Airdrop SOL error: ${m?.message??String(m)}`)}}async function v(){if(!u){R("Connect your wallet first."),G("CHRONO faucet: connect wallet first.");return}const m=u0();if(!m?.isPhantom){R("Phantom not detected."),G("CHRONO faucet: Phantom not detected.");return}const f=u.toBase58(),b=E?.trim()||"";R("Requesting CHRONO from faucet..."),G("CHRONO faucet: preparing request"),U("");try{const x=`Recipient: ${f}
Timestamp: ${Date.now()}
Domain: timlg.org`;let z;if(m.signMessage){R("Waiting for Phantom signature approval..."),G("CHRONO faucet: waiting Phantom signature");const Et=new TextEncoder().encode(x),Pt=await m.signMessage(Et,"utf8"),Gt=Pt?.signature??Pt;z=gN.encode(Gt)}R("Sending request to faucet..."),G("CHRONO faucet: sending request");const Z=await fetch(c_,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({recipient:f,inviteCode:b,message:x,signature:z})}),nt=await Z.json().catch(()=>({}));if(!(Z.ok&&(nt?.ok===void 0||nt?.ok===!0))){const Et=nt?.error||`HTTP ${Z.status}`;R(`Faucet error: ${Et}`),G(`CHRONO faucet error: ${Et}`);return}nt?.signature&&(U(nt.signature),G(`CHRONO faucet: tx=${nt.signature}`)),await O(u),R("CHRONO sent "),G("CHRONO faucet: OK ")}catch(x){const z=x?.message??String(x);R(`Faucet error: ${z}`),G(`CHRONO faucet error: ${z}`)}}return Nt.useEffect(()=>{const m=u0();i(!!m?.isPhantom);const f=x=>x&&o(x),b=()=>{o(null),d(null),_(null)};return m?.on?.("connect",f),m?.on?.("disconnect",b),(async()=>{try{m?.isPhantom&&m?.publicKey&&(o(m.publicKey),await Promise.all([X(m.publicKey),O(m.publicKey)]))}catch{}})(),()=>{m?.off?.("connect",f),m?.off?.("disconnect",b)}},[X,O]),Nt.useMemo(()=>$?l!=null&&l<iC?{label:"Needs SOL",tone:"warn"}:y!=null&&y<sC?{label:"Needs CHRONO",tone:"warn"}:{label:"Ready",tone:"ok"}:{label:"Connect wallet",tone:"muted"},[$,l,y]),J.jsxs("div",{className:"beta-app",children:[!n&&J.jsxs("div",{className:"beta-card beta-card--warn",children:[J.jsx("b",{children:"Phantom not detected."}),J.jsxs("div",{style:{marginTop:6},children:["Install Phantom:"," ",J.jsx("a",{href:"https://phantom.app/",target:"_blank",rel:"noreferrer",children:"https://phantom.app/"})]})]}),J.jsx("header",{className:"beta-header",children:J.jsxs("div",{className:"beta-walletbar",children:[J.jsxs("div",{className:"beta-walletbar__header-row",children:[J.jsx("div",{className:"beta-walletbar__title",children:"Devnet Beta"}),J.jsxs("div",{className:"beta-tooltip",children:["i",J.jsxs("div",{className:"beta-tooltip__content",children:[J.jsxs("div",{children:[J.jsx("b",{children:"RPC:"})," ",fl]}),J.jsxs("div",{children:[J.jsx("b",{children:"Program:"})," ",u_]}),J.jsxs("div",{children:[J.jsx("b",{children:"Mint:"})," ",o0]}),J.jsxs("div",{children:[J.jsx("b",{children:"Faucet:"})," ",c_]}),J.jsx("div",{style:{marginTop:6},children:"Version: 0.1.0-beta"}),J.jsxs("div",{style:{marginTop:6,borderTop:"1px solid #444",paddingTop:6},children:[k||"Status: ",M&&J.jsx("div",{style:{marginTop:4},children:J.jsx("a",{href:B6(M),target:"_blank",style:{color:"#aaa"},children:"View Last Tx"})})]})]})]})]}),J.jsxs("div",{className:"beta-walletbar__info-row",children:[J.jsxs("span",{className:$?"":"beta-muted",children:["Wallet: ",$?cu($):"Not connected"]}),$&&J.jsx("a",{className:"beta-link",href:M6($),target:"_blank",rel:"noreferrer",style:{fontSize:12},children:"View on Solana Explorer"})]}),J.jsxs("div",{className:"beta-walletbar__balance-row",children:[J.jsx("span",{className:"beta-muted",children:"SOL Balance:"}),J.jsxs("span",{children:[l==null?"":l.toFixed(3)," SOL"]})]}),J.jsxs("div",{className:"beta-walletbar__balance-row",style:{borderBottom:"1px solid rgba(255,255,255,0.1)",paddingBottom:12},children:[J.jsx("span",{className:"beta-muted",children:"CHRONO Balance:"}),J.jsxs("span",{children:[y==null?"":Number(y).toFixed(2)," CHRONO"]})]}),J.jsxs("div",{className:"beta-walletbar__actions-row",children:[J.jsx("button",{className:"beta-btn beta-walletbar__btn-main",onClick:$?D:B,type:"button",style:{opacity:$?.8:1},children:$?"Disconnect":"Connect Phantom Wallet"}),J.jsxs("div",{className:"beta-walletbar__tools-grid",children:[J.jsx("button",{className:"beta-btn",onClick:I,disabled:!$,type:"button",children:"Airdrop SOL"}),J.jsx("div",{className:"beta-walletbar__input-group",children:J.jsx("button",{className:"beta-btn",style:{flex:1,background:"#2D68EA",color:"white",border:"none"},onClick:v,disabled:!$,type:"button",children:"Get CHRONO"})})]}),J.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginTop:4},children:[J.jsx("span",{className:"beta-muted",style:{fontSize:12,whiteSpace:"nowrap"},children:"Invite Code:"}),J.jsx("input",{className:"beta-input",style:{padding:"6px 10px",fontSize:13,background:"rgba(0,0,0,0.2)",border:"1px solid #555"},value:E,onChange:m=>C(m.target.value),placeholder:"Beta Code..."}),J.jsxs("div",{className:"beta-tooltip",style:{width:14,height:14,fontSize:10,opacity:.5},children:["?",J.jsx("div",{className:"beta-tooltip__content",style:{width:180,bottom:"110%"},children:"Optional code for tracking referrals."})]})]})]})]})}),J.jsxs("main",{className:"beta-main",children:[J.jsx(D6,{rpcUrl:fl,connection:it,program:et,walletReady:st,programPk:s,chronoMint:o0,pubkey:u,appendLog:G,chainState:K,refreshProtocolState:F,statusLine:Y,onActionComplete:S,nist:ot,logs:L,onClearLog:P}),J.jsx("div",{style:{marginTop:24},children:J.jsx(W6,{program:et,connection:it,programPk:s,pubkey:u,mintPk:e,appendLog:G,actionsEnabled:!0,limit:1e3,currentSlot:K?.currentSlot,activeRoundId:K?.roundId??null,nist:ot,refreshNonce:h,onAfterAction:S})})]})]})}class uC extends rR.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("ErrorBoundary caught an error",e,n),this.setState({errorInfo:n})}render(){return this.state.hasError?J.jsxs("div",{style:{padding:20,color:"red",border:"1px solid red",margin:20},children:[J.jsx("h2",{children:"Something went wrong."}),J.jsxs("details",{style:{whiteSpace:"pre-wrap"},children:[this.state.error&&this.state.error.toString(),J.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]})]}):this.props.children}}let os=null;function jE(){const s=document.getElementById("beta-root")||document.getElementById("root");if(s){if(os){try{os.unmount()}catch{}os=null}os=lR.createRoot(s),os.render(J.jsx(Nt.StrictMode,{children:J.jsx(uC,{children:J.jsx(oC,{})})}))}}function cC(){if(os){try{os.unmount()}catch{}os=null}}typeof window<"u"&&(window.__mountBetaApp=jE,window.__unmountBetaApp=cC);jE();
