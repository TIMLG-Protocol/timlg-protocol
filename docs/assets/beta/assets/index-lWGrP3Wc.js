(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const o of c)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(c){const o={};return c.integrity&&(o.integrity=c.integrity),c.referrerPolicy&&(o.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?o.credentials="include":c.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(c){if(c.ep)return;c.ep=!0;const o=n(c);fetch(c.href,o)}})();function Ni(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function Vl(s){if(Object.prototype.hasOwnProperty.call(s,"__esModule"))return s;var t=s.default;if(typeof t=="function"){var n=function i(){var c=!1;try{c=this instanceof i}catch{}return c?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(s).forEach(function(i){var c=Object.getOwnPropertyDescriptor(s,i);Object.defineProperty(n,i,c.get?c:{enumerable:!0,get:function(){return s[i]}})}),n}var _h={exports:{}},dc={};var hg;function nR(){if(hg)return dc;hg=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,c,o){var l=null;if(o!==void 0&&(l=""+o),c.key!==void 0&&(l=""+c.key),"key"in c){o={};for(var d in c)d!=="key"&&(o[d]=c[d])}else o=c;return c=o.ref,{$$typeof:s,type:i,key:l,ref:c!==void 0?c:null,props:o}}return dc.Fragment=t,dc.jsx=n,dc.jsxs=n,dc}var pg;function rR(){return pg||(pg=1,_h.exports=nR()),_h.exports}var K=rR(),wh={},hc={},mg;function iR(){if(mg)return hc;mg=1,hc.byteLength=d,hc.toByteArray=_,hc.fromByteArray=I;for(var s=[],t=[],n=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,o=i.length;c<o;++c)s[c]=i[c],t[i.charCodeAt(c)]=c;t[45]=62,t[95]=63;function l(R){var M=R.length;if(M%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var U=R.indexOf("=");U===-1&&(U=M);var D=U===M?0:4-U%4;return[U,D]}function d(R){var M=l(R),U=M[0],D=M[1];return(U+D)*3/4-D}function y(R,M,U){return(M+U)*3/4-U}function _(R){var M,U=l(R),D=U[0],j=U[1],F=new n(y(R,D,j)),V=0,W=j>0?D-4:D,re;for(re=0;re<W;re+=4)M=t[R.charCodeAt(re)]<<18|t[R.charCodeAt(re+1)]<<12|t[R.charCodeAt(re+2)]<<6|t[R.charCodeAt(re+3)],F[V++]=M>>16&255,F[V++]=M>>8&255,F[V++]=M&255;return j===2&&(M=t[R.charCodeAt(re)]<<2|t[R.charCodeAt(re+1)]>>4,F[V++]=M&255),j===1&&(M=t[R.charCodeAt(re)]<<10|t[R.charCodeAt(re+1)]<<4|t[R.charCodeAt(re+2)]>>2,F[V++]=M>>8&255,F[V++]=M&255),F}function E(R){return s[R>>18&63]+s[R>>12&63]+s[R>>6&63]+s[R&63]}function C(R,M,U){for(var D,j=[],F=M;F<U;F+=3)D=(R[F]<<16&16711680)+(R[F+1]<<8&65280)+(R[F+2]&255),j.push(E(D));return j.join("")}function I(R){for(var M,U=R.length,D=U%3,j=[],F=16383,V=0,W=U-D;V<W;V+=F)j.push(C(R,V,V+F>W?W:V+F));return D===1?(M=R[U-1],j.push(s[M>>2]+s[M<<4&63]+"==")):D===2&&(M=(R[U-2]<<8)+R[U-1],j.push(s[M>>10]+s[M>>4&63]+s[M<<2&63]+"=")),j.join("")}return hc}var tl={};var yg;function sR(){return yg||(yg=1,tl.read=function(s,t,n,i,c){var o,l,d=c*8-i-1,y=(1<<d)-1,_=y>>1,E=-7,C=n?c-1:0,I=n?-1:1,R=s[t+C];for(C+=I,o=R&(1<<-E)-1,R>>=-E,E+=d;E>0;o=o*256+s[t+C],C+=I,E-=8);for(l=o&(1<<-E)-1,o>>=-E,E+=i;E>0;l=l*256+s[t+C],C+=I,E-=8);if(o===0)o=1-_;else{if(o===y)return l?NaN:(R?-1:1)*(1/0);l=l+Math.pow(2,i),o=o-_}return(R?-1:1)*l*Math.pow(2,o-i)},tl.write=function(s,t,n,i,c,o){var l,d,y,_=o*8-c-1,E=(1<<_)-1,C=E>>1,I=c===23?Math.pow(2,-24)-Math.pow(2,-77):0,R=i?0:o-1,M=i?1:-1,U=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(d=isNaN(t)?1:0,l=E):(l=Math.floor(Math.log(t)/Math.LN2),t*(y=Math.pow(2,-l))<1&&(l--,y*=2),l+C>=1?t+=I/y:t+=I*Math.pow(2,1-C),t*y>=2&&(l++,y/=2),l+C>=E?(d=0,l=E):l+C>=1?(d=(t*y-1)*Math.pow(2,c),l=l+C):(d=t*Math.pow(2,C-1)*Math.pow(2,c),l=0));c>=8;s[n+R]=d&255,R+=M,d/=256,c-=8);for(l=l<<c|d,_+=c;_>0;s[n+R]=l&255,R+=M,l/=256,_-=8);s[n+R-M]|=U*128}),tl}var gg;function j0(){return gg||(gg=1,(function(s){const t=iR(),n=sR(),i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;s.Buffer=d,s.SlowBuffer=F,s.INSPECT_MAX_BYTES=50;const c=2147483647;s.kMaxLength=c,d.TYPED_ARRAY_SUPPORT=o(),!d.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const H=new Uint8Array(1),A={foo:function(){return 42}};return Object.setPrototypeOf(A,Uint8Array.prototype),Object.setPrototypeOf(H,A),H.foo()===42}catch{return!1}}Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}});function l(H){if(H>c)throw new RangeError('The value "'+H+'" is invalid for option "size"');const A=new Uint8Array(H);return Object.setPrototypeOf(A,d.prototype),A}function d(H,A,T){if(typeof H=="number"){if(typeof A=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return C(H)}return y(H,A,T)}d.poolSize=8192;function y(H,A,T){if(typeof H=="string")return I(H,A);if(ArrayBuffer.isView(H))return M(H);if(H==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H);if(Dt(H,ArrayBuffer)||H&&Dt(H.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Dt(H,SharedArrayBuffer)||H&&Dt(H.buffer,SharedArrayBuffer)))return U(H,A,T);if(typeof H=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const q=H.valueOf&&H.valueOf();if(q!=null&&q!==H)return d.from(q,A,T);const te=D(H);if(te)return te;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof H[Symbol.toPrimitive]=="function")return d.from(H[Symbol.toPrimitive]("string"),A,T);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H)}d.from=function(H,A,T){return y(H,A,T)},Object.setPrototypeOf(d.prototype,Uint8Array.prototype),Object.setPrototypeOf(d,Uint8Array);function _(H){if(typeof H!="number")throw new TypeError('"size" argument must be of type number');if(H<0)throw new RangeError('The value "'+H+'" is invalid for option "size"')}function E(H,A,T){return _(H),H<=0?l(H):A!==void 0?typeof T=="string"?l(H).fill(A,T):l(H).fill(A):l(H)}d.alloc=function(H,A,T){return E(H,A,T)};function C(H){return _(H),l(H<0?0:j(H)|0)}d.allocUnsafe=function(H){return C(H)},d.allocUnsafeSlow=function(H){return C(H)};function I(H,A){if((typeof A!="string"||A==="")&&(A="utf8"),!d.isEncoding(A))throw new TypeError("Unknown encoding: "+A);const T=V(H,A)|0;let q=l(T);const te=q.write(H,A);return te!==T&&(q=q.slice(0,te)),q}function R(H){const A=H.length<0?0:j(H.length)|0,T=l(A);for(let q=0;q<A;q+=1)T[q]=H[q]&255;return T}function M(H){if(Dt(H,Uint8Array)){const A=new Uint8Array(H);return U(A.buffer,A.byteOffset,A.byteLength)}return R(H)}function U(H,A,T){if(A<0||H.byteLength<A)throw new RangeError('"offset" is outside of buffer bounds');if(H.byteLength<A+(T||0))throw new RangeError('"length" is outside of buffer bounds');let q;return A===void 0&&T===void 0?q=new Uint8Array(H):T===void 0?q=new Uint8Array(H,A):q=new Uint8Array(H,A,T),Object.setPrototypeOf(q,d.prototype),q}function D(H){if(d.isBuffer(H)){const A=j(H.length)|0,T=l(A);return T.length===0||H.copy(T,0,0,A),T}if(H.length!==void 0)return typeof H.length!="number"||rt(H.length)?l(0):R(H);if(H.type==="Buffer"&&Array.isArray(H.data))return R(H.data)}function j(H){if(H>=c)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c.toString(16)+" bytes");return H|0}function F(H){return+H!=H&&(H=0),d.alloc(+H)}d.isBuffer=function(A){return A!=null&&A._isBuffer===!0&&A!==d.prototype},d.compare=function(A,T){if(Dt(A,Uint8Array)&&(A=d.from(A,A.offset,A.byteLength)),Dt(T,Uint8Array)&&(T=d.from(T,T.offset,T.byteLength)),!d.isBuffer(A)||!d.isBuffer(T))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(A===T)return 0;let q=A.length,te=T.length;for(let ce=0,ge=Math.min(q,te);ce<ge;++ce)if(A[ce]!==T[ce]){q=A[ce],te=T[ce];break}return q<te?-1:te<q?1:0},d.isEncoding=function(A){switch(String(A).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(A,T){if(!Array.isArray(A))throw new TypeError('"list" argument must be an Array of Buffers');if(A.length===0)return d.alloc(0);let q;if(T===void 0)for(T=0,q=0;q<A.length;++q)T+=A[q].length;const te=d.allocUnsafe(T);let ce=0;for(q=0;q<A.length;++q){let ge=A[q];if(Dt(ge,Uint8Array))ce+ge.length>te.length?(d.isBuffer(ge)||(ge=d.from(ge)),ge.copy(te,ce)):Uint8Array.prototype.set.call(te,ge,ce);else if(d.isBuffer(ge))ge.copy(te,ce);else throw new TypeError('"list" argument must be an Array of Buffers');ce+=ge.length}return te};function V(H,A){if(d.isBuffer(H))return H.length;if(ArrayBuffer.isView(H)||Dt(H,ArrayBuffer))return H.byteLength;if(typeof H!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof H);const T=H.length,q=arguments.length>2&&arguments[2]===!0;if(!q&&T===0)return 0;let te=!1;for(;;)switch(A){case"ascii":case"latin1":case"binary":return T;case"utf8":case"utf-8":return Ge(H).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T*2;case"hex":return T>>>1;case"base64":return _t(H).length;default:if(te)return q?-1:Ge(H).length;A=(""+A).toLowerCase(),te=!0}}d.byteLength=V;function W(H,A,T){let q=!1;if((A===void 0||A<0)&&(A=0),A>this.length||((T===void 0||T>this.length)&&(T=this.length),T<=0)||(T>>>=0,A>>>=0,T<=A))return"";for(H||(H="utf8");;)switch(H){case"hex":return B(this,A,T);case"utf8":case"utf-8":return h(this,A,T);case"ascii":return N(this,A,T);case"latin1":case"binary":return L(this,A,T);case"base64":return x(this,A,T);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v(this,A,T);default:if(q)throw new TypeError("Unknown encoding: "+H);H=(H+"").toLowerCase(),q=!0}}d.prototype._isBuffer=!0;function re(H,A,T){const q=H[A];H[A]=H[T],H[T]=q}d.prototype.swap16=function(){const A=this.length;if(A%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let T=0;T<A;T+=2)re(this,T,T+1);return this},d.prototype.swap32=function(){const A=this.length;if(A%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let T=0;T<A;T+=4)re(this,T,T+3),re(this,T+1,T+2);return this},d.prototype.swap64=function(){const A=this.length;if(A%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let T=0;T<A;T+=8)re(this,T,T+7),re(this,T+1,T+6),re(this,T+2,T+5),re(this,T+3,T+4);return this},d.prototype.toString=function(){const A=this.length;return A===0?"":arguments.length===0?h(this,0,A):W.apply(this,arguments)},d.prototype.toLocaleString=d.prototype.toString,d.prototype.equals=function(A){if(!d.isBuffer(A))throw new TypeError("Argument must be a Buffer");return this===A?!0:d.compare(this,A)===0},d.prototype.inspect=function(){let A="";const T=s.INSPECT_MAX_BYTES;return A=this.toString("hex",0,T).replace(/(.{2})/g,"$1 ").trim(),this.length>T&&(A+=" ... "),"<Buffer "+A+">"},i&&(d.prototype[i]=d.prototype.inspect),d.prototype.compare=function(A,T,q,te,ce){if(Dt(A,Uint8Array)&&(A=d.from(A,A.offset,A.byteLength)),!d.isBuffer(A))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof A);if(T===void 0&&(T=0),q===void 0&&(q=A?A.length:0),te===void 0&&(te=0),ce===void 0&&(ce=this.length),T<0||q>A.length||te<0||ce>this.length)throw new RangeError("out of range index");if(te>=ce&&T>=q)return 0;if(te>=ce)return-1;if(T>=q)return 1;if(T>>>=0,q>>>=0,te>>>=0,ce>>>=0,this===A)return 0;let ge=ce-te,ze=q-T;const Ke=Math.min(ge,ze),Ue=this.slice(te,ce),kt=A.slice(T,q);for(let Ye=0;Ye<Ke;++Ye)if(Ue[Ye]!==kt[Ye]){ge=Ue[Ye],ze=kt[Ye];break}return ge<ze?-1:ze<ge?1:0};function oe(H,A,T,q,te){if(H.length===0)return-1;if(typeof T=="string"?(q=T,T=0):T>2147483647?T=2147483647:T<-2147483648&&(T=-2147483648),T=+T,rt(T)&&(T=te?0:H.length-1),T<0&&(T=H.length+T),T>=H.length){if(te)return-1;T=H.length-1}else if(T<0)if(te)T=0;else return-1;if(typeof A=="string"&&(A=d.from(A,q)),d.isBuffer(A))return A.length===0?-1:ie(H,A,T,q,te);if(typeof A=="number")return A=A&255,typeof Uint8Array.prototype.indexOf=="function"?te?Uint8Array.prototype.indexOf.call(H,A,T):Uint8Array.prototype.lastIndexOf.call(H,A,T):ie(H,[A],T,q,te);throw new TypeError("val must be string, number or Buffer")}function ie(H,A,T,q,te){let ce=1,ge=H.length,ze=A.length;if(q!==void 0&&(q=String(q).toLowerCase(),q==="ucs2"||q==="ucs-2"||q==="utf16le"||q==="utf-16le")){if(H.length<2||A.length<2)return-1;ce=2,ge/=2,ze/=2,T/=2}function Ke(kt,Ye){return ce===1?kt[Ye]:kt.readUInt16BE(Ye*ce)}let Ue;if(te){let kt=-1;for(Ue=T;Ue<ge;Ue++)if(Ke(H,Ue)===Ke(A,kt===-1?0:Ue-kt)){if(kt===-1&&(kt=Ue),Ue-kt+1===ze)return kt*ce}else kt!==-1&&(Ue-=Ue-kt),kt=-1}else for(T+ze>ge&&(T=ge-ze),Ue=T;Ue>=0;Ue--){let kt=!0;for(let Ye=0;Ye<ze;Ye++)if(Ke(H,Ue+Ye)!==Ke(A,Ye)){kt=!1;break}if(kt)return Ue}return-1}d.prototype.includes=function(A,T,q){return this.indexOf(A,T,q)!==-1},d.prototype.indexOf=function(A,T,q){return oe(this,A,T,q,!0)},d.prototype.lastIndexOf=function(A,T,q){return oe(this,A,T,q,!1)};function le(H,A,T,q){T=Number(T)||0;const te=H.length-T;q?(q=Number(q),q>te&&(q=te)):q=te;const ce=A.length;q>ce/2&&(q=ce/2);let ge;for(ge=0;ge<q;++ge){const ze=parseInt(A.substr(ge*2,2),16);if(rt(ze))return ge;H[T+ge]=ze}return ge}function G(H,A,T,q){return Fe(Ge(A,H.length-T),H,T,q)}function Y(H,A,T,q){return Fe(Ze(A),H,T,q)}function X(H,A,T,q){return Fe(_t(A),H,T,q)}function $(H,A,T,q){return Fe(_n(A,H.length-T),H,T,q)}d.prototype.write=function(A,T,q,te){if(T===void 0)te="utf8",q=this.length,T=0;else if(q===void 0&&typeof T=="string")te=T,q=this.length,T=0;else if(isFinite(T))T=T>>>0,isFinite(q)?(q=q>>>0,te===void 0&&(te="utf8")):(te=q,q=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ce=this.length-T;if((q===void 0||q>ce)&&(q=ce),A.length>0&&(q<0||T<0)||T>this.length)throw new RangeError("Attempt to write outside buffer bounds");te||(te="utf8");let ge=!1;for(;;)switch(te){case"hex":return le(this,A,T,q);case"utf8":case"utf-8":return G(this,A,T,q);case"ascii":case"latin1":case"binary":return Y(this,A,T,q);case"base64":return X(this,A,T,q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,A,T,q);default:if(ge)throw new TypeError("Unknown encoding: "+te);te=(""+te).toLowerCase(),ge=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function x(H,A,T){return A===0&&T===H.length?t.fromByteArray(H):t.fromByteArray(H.slice(A,T))}function h(H,A,T){T=Math.min(H.length,T);const q=[];let te=A;for(;te<T;){const ce=H[te];let ge=null,ze=ce>239?4:ce>223?3:ce>191?2:1;if(te+ze<=T){let Ke,Ue,kt,Ye;switch(ze){case 1:ce<128&&(ge=ce);break;case 2:Ke=H[te+1],(Ke&192)===128&&(Ye=(ce&31)<<6|Ke&63,Ye>127&&(ge=Ye));break;case 3:Ke=H[te+1],Ue=H[te+2],(Ke&192)===128&&(Ue&192)===128&&(Ye=(ce&15)<<12|(Ke&63)<<6|Ue&63,Ye>2047&&(Ye<55296||Ye>57343)&&(ge=Ye));break;case 4:Ke=H[te+1],Ue=H[te+2],kt=H[te+3],(Ke&192)===128&&(Ue&192)===128&&(kt&192)===128&&(Ye=(ce&15)<<18|(Ke&63)<<12|(Ue&63)<<6|kt&63,Ye>65535&&Ye<1114112&&(ge=Ye))}}ge===null?(ge=65533,ze=1):ge>65535&&(ge-=65536,q.push(ge>>>10&1023|55296),ge=56320|ge&1023),q.push(ge),te+=ze}return S(q)}const w=4096;function S(H){const A=H.length;if(A<=w)return String.fromCharCode.apply(String,H);let T="",q=0;for(;q<A;)T+=String.fromCharCode.apply(String,H.slice(q,q+=w));return T}function N(H,A,T){let q="";T=Math.min(H.length,T);for(let te=A;te<T;++te)q+=String.fromCharCode(H[te]&127);return q}function L(H,A,T){let q="";T=Math.min(H.length,T);for(let te=A;te<T;++te)q+=String.fromCharCode(H[te]);return q}function B(H,A,T){const q=H.length;(!A||A<0)&&(A=0),(!T||T<0||T>q)&&(T=q);let te="";for(let ce=A;ce<T;++ce)te+=qe[H[ce]];return te}function v(H,A,T){const q=H.slice(A,T);let te="";for(let ce=0;ce<q.length-1;ce+=2)te+=String.fromCharCode(q[ce]+q[ce+1]*256);return te}d.prototype.slice=function(A,T){const q=this.length;A=~~A,T=T===void 0?q:~~T,A<0?(A+=q,A<0&&(A=0)):A>q&&(A=q),T<0?(T+=q,T<0&&(T=0)):T>q&&(T=q),T<A&&(T=A);const te=this.subarray(A,T);return Object.setPrototypeOf(te,d.prototype),te};function m(H,A,T){if(H%1!==0||H<0)throw new RangeError("offset is not uint");if(H+A>T)throw new RangeError("Trying to access beyond buffer length")}d.prototype.readUintLE=d.prototype.readUIntLE=function(A,T,q){A=A>>>0,T=T>>>0,q||m(A,T,this.length);let te=this[A],ce=1,ge=0;for(;++ge<T&&(ce*=256);)te+=this[A+ge]*ce;return te},d.prototype.readUintBE=d.prototype.readUIntBE=function(A,T,q){A=A>>>0,T=T>>>0,q||m(A,T,this.length);let te=this[A+--T],ce=1;for(;T>0&&(ce*=256);)te+=this[A+--T]*ce;return te},d.prototype.readUint8=d.prototype.readUInt8=function(A,T){return A=A>>>0,T||m(A,1,this.length),this[A]},d.prototype.readUint16LE=d.prototype.readUInt16LE=function(A,T){return A=A>>>0,T||m(A,2,this.length),this[A]|this[A+1]<<8},d.prototype.readUint16BE=d.prototype.readUInt16BE=function(A,T){return A=A>>>0,T||m(A,2,this.length),this[A]<<8|this[A+1]},d.prototype.readUint32LE=d.prototype.readUInt32LE=function(A,T){return A=A>>>0,T||m(A,4,this.length),(this[A]|this[A+1]<<8|this[A+2]<<16)+this[A+3]*16777216},d.prototype.readUint32BE=d.prototype.readUInt32BE=function(A,T){return A=A>>>0,T||m(A,4,this.length),this[A]*16777216+(this[A+1]<<16|this[A+2]<<8|this[A+3])},d.prototype.readBigUInt64LE=pt(function(A){A=A>>>0,Ut(A,"offset");const T=this[A],q=this[A+7];(T===void 0||q===void 0)&&je(A,this.length-8);const te=T+this[++A]*2**8+this[++A]*2**16+this[++A]*2**24,ce=this[++A]+this[++A]*2**8+this[++A]*2**16+q*2**24;return BigInt(te)+(BigInt(ce)<<BigInt(32))}),d.prototype.readBigUInt64BE=pt(function(A){A=A>>>0,Ut(A,"offset");const T=this[A],q=this[A+7];(T===void 0||q===void 0)&&je(A,this.length-8);const te=T*2**24+this[++A]*2**16+this[++A]*2**8+this[++A],ce=this[++A]*2**24+this[++A]*2**16+this[++A]*2**8+q;return(BigInt(te)<<BigInt(32))+BigInt(ce)}),d.prototype.readIntLE=function(A,T,q){A=A>>>0,T=T>>>0,q||m(A,T,this.length);let te=this[A],ce=1,ge=0;for(;++ge<T&&(ce*=256);)te+=this[A+ge]*ce;return ce*=128,te>=ce&&(te-=Math.pow(2,8*T)),te},d.prototype.readIntBE=function(A,T,q){A=A>>>0,T=T>>>0,q||m(A,T,this.length);let te=T,ce=1,ge=this[A+--te];for(;te>0&&(ce*=256);)ge+=this[A+--te]*ce;return ce*=128,ge>=ce&&(ge-=Math.pow(2,8*T)),ge},d.prototype.readInt8=function(A,T){return A=A>>>0,T||m(A,1,this.length),this[A]&128?(255-this[A]+1)*-1:this[A]},d.prototype.readInt16LE=function(A,T){A=A>>>0,T||m(A,2,this.length);const q=this[A]|this[A+1]<<8;return q&32768?q|4294901760:q},d.prototype.readInt16BE=function(A,T){A=A>>>0,T||m(A,2,this.length);const q=this[A+1]|this[A]<<8;return q&32768?q|4294901760:q},d.prototype.readInt32LE=function(A,T){return A=A>>>0,T||m(A,4,this.length),this[A]|this[A+1]<<8|this[A+2]<<16|this[A+3]<<24},d.prototype.readInt32BE=function(A,T){return A=A>>>0,T||m(A,4,this.length),this[A]<<24|this[A+1]<<16|this[A+2]<<8|this[A+3]},d.prototype.readBigInt64LE=pt(function(A){A=A>>>0,Ut(A,"offset");const T=this[A],q=this[A+7];(T===void 0||q===void 0)&&je(A,this.length-8);const te=this[A+4]+this[A+5]*2**8+this[A+6]*2**16+(q<<24);return(BigInt(te)<<BigInt(32))+BigInt(T+this[++A]*2**8+this[++A]*2**16+this[++A]*2**24)}),d.prototype.readBigInt64BE=pt(function(A){A=A>>>0,Ut(A,"offset");const T=this[A],q=this[A+7];(T===void 0||q===void 0)&&je(A,this.length-8);const te=(T<<24)+this[++A]*2**16+this[++A]*2**8+this[++A];return(BigInt(te)<<BigInt(32))+BigInt(this[++A]*2**24+this[++A]*2**16+this[++A]*2**8+q)}),d.prototype.readFloatLE=function(A,T){return A=A>>>0,T||m(A,4,this.length),n.read(this,A,!0,23,4)},d.prototype.readFloatBE=function(A,T){return A=A>>>0,T||m(A,4,this.length),n.read(this,A,!1,23,4)},d.prototype.readDoubleLE=function(A,T){return A=A>>>0,T||m(A,8,this.length),n.read(this,A,!0,52,8)},d.prototype.readDoubleBE=function(A,T){return A=A>>>0,T||m(A,8,this.length),n.read(this,A,!1,52,8)};function f(H,A,T,q,te,ce){if(!d.isBuffer(H))throw new TypeError('"buffer" argument must be a Buffer instance');if(A>te||A<ce)throw new RangeError('"value" argument is out of bounds');if(T+q>H.length)throw new RangeError("Index out of range")}d.prototype.writeUintLE=d.prototype.writeUIntLE=function(A,T,q,te){if(A=+A,T=T>>>0,q=q>>>0,!te){const ze=Math.pow(2,8*q)-1;f(this,A,T,q,ze,0)}let ce=1,ge=0;for(this[T]=A&255;++ge<q&&(ce*=256);)this[T+ge]=A/ce&255;return T+q},d.prototype.writeUintBE=d.prototype.writeUIntBE=function(A,T,q,te){if(A=+A,T=T>>>0,q=q>>>0,!te){const ze=Math.pow(2,8*q)-1;f(this,A,T,q,ze,0)}let ce=q-1,ge=1;for(this[T+ce]=A&255;--ce>=0&&(ge*=256);)this[T+ce]=A/ge&255;return T+q},d.prototype.writeUint8=d.prototype.writeUInt8=function(A,T,q){return A=+A,T=T>>>0,q||f(this,A,T,1,255,0),this[T]=A&255,T+1},d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(A,T,q){return A=+A,T=T>>>0,q||f(this,A,T,2,65535,0),this[T]=A&255,this[T+1]=A>>>8,T+2},d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(A,T,q){return A=+A,T=T>>>0,q||f(this,A,T,2,65535,0),this[T]=A>>>8,this[T+1]=A&255,T+2},d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(A,T,q){return A=+A,T=T>>>0,q||f(this,A,T,4,4294967295,0),this[T+3]=A>>>24,this[T+2]=A>>>16,this[T+1]=A>>>8,this[T]=A&255,T+4},d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(A,T,q){return A=+A,T=T>>>0,q||f(this,A,T,4,4294967295,0),this[T]=A>>>24,this[T+1]=A>>>16,this[T+2]=A>>>8,this[T+3]=A&255,T+4};function b(H,A,T,q,te){$e(A,q,te,H,T,7);let ce=Number(A&BigInt(4294967295));H[T++]=ce,ce=ce>>8,H[T++]=ce,ce=ce>>8,H[T++]=ce,ce=ce>>8,H[T++]=ce;let ge=Number(A>>BigInt(32)&BigInt(4294967295));return H[T++]=ge,ge=ge>>8,H[T++]=ge,ge=ge>>8,H[T++]=ge,ge=ge>>8,H[T++]=ge,T}function O(H,A,T,q,te){$e(A,q,te,H,T,7);let ce=Number(A&BigInt(4294967295));H[T+7]=ce,ce=ce>>8,H[T+6]=ce,ce=ce>>8,H[T+5]=ce,ce=ce>>8,H[T+4]=ce;let ge=Number(A>>BigInt(32)&BigInt(4294967295));return H[T+3]=ge,ge=ge>>8,H[T+2]=ge,ge=ge>>8,H[T+1]=ge,ge=ge>>8,H[T]=ge,T+8}d.prototype.writeBigUInt64LE=pt(function(A,T=0){return b(this,A,T,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeBigUInt64BE=pt(function(A,T=0){return O(this,A,T,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeIntLE=function(A,T,q,te){if(A=+A,T=T>>>0,!te){const Ke=Math.pow(2,8*q-1);f(this,A,T,q,Ke-1,-Ke)}let ce=0,ge=1,ze=0;for(this[T]=A&255;++ce<q&&(ge*=256);)A<0&&ze===0&&this[T+ce-1]!==0&&(ze=1),this[T+ce]=(A/ge>>0)-ze&255;return T+q},d.prototype.writeIntBE=function(A,T,q,te){if(A=+A,T=T>>>0,!te){const Ke=Math.pow(2,8*q-1);f(this,A,T,q,Ke-1,-Ke)}let ce=q-1,ge=1,ze=0;for(this[T+ce]=A&255;--ce>=0&&(ge*=256);)A<0&&ze===0&&this[T+ce+1]!==0&&(ze=1),this[T+ce]=(A/ge>>0)-ze&255;return T+q},d.prototype.writeInt8=function(A,T,q){return A=+A,T=T>>>0,q||f(this,A,T,1,127,-128),A<0&&(A=255+A+1),this[T]=A&255,T+1},d.prototype.writeInt16LE=function(A,T,q){return A=+A,T=T>>>0,q||f(this,A,T,2,32767,-32768),this[T]=A&255,this[T+1]=A>>>8,T+2},d.prototype.writeInt16BE=function(A,T,q){return A=+A,T=T>>>0,q||f(this,A,T,2,32767,-32768),this[T]=A>>>8,this[T+1]=A&255,T+2},d.prototype.writeInt32LE=function(A,T,q){return A=+A,T=T>>>0,q||f(this,A,T,4,2147483647,-2147483648),this[T]=A&255,this[T+1]=A>>>8,this[T+2]=A>>>16,this[T+3]=A>>>24,T+4},d.prototype.writeInt32BE=function(A,T,q){return A=+A,T=T>>>0,q||f(this,A,T,4,2147483647,-2147483648),A<0&&(A=4294967295+A+1),this[T]=A>>>24,this[T+1]=A>>>16,this[T+2]=A>>>8,this[T+3]=A&255,T+4},d.prototype.writeBigInt64LE=pt(function(A,T=0){return b(this,A,T,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),d.prototype.writeBigInt64BE=pt(function(A,T=0){return O(this,A,T,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function z(H,A,T,q,te,ce){if(T+q>H.length)throw new RangeError("Index out of range");if(T<0)throw new RangeError("Index out of range")}function Z(H,A,T,q,te){return A=+A,T=T>>>0,te||z(H,A,T,4),n.write(H,A,T,q,23,4),T+4}d.prototype.writeFloatLE=function(A,T,q){return Z(this,A,T,!0,q)},d.prototype.writeFloatBE=function(A,T,q){return Z(this,A,T,!1,q)};function ne(H,A,T,q,te){return A=+A,T=T>>>0,te||z(H,A,T,8),n.write(H,A,T,q,52,8),T+8}d.prototype.writeDoubleLE=function(A,T,q){return ne(this,A,T,!0,q)},d.prototype.writeDoubleBE=function(A,T,q){return ne(this,A,T,!1,q)},d.prototype.copy=function(A,T,q,te){if(!d.isBuffer(A))throw new TypeError("argument should be a Buffer");if(q||(q=0),!te&&te!==0&&(te=this.length),T>=A.length&&(T=A.length),T||(T=0),te>0&&te<q&&(te=q),te===q||A.length===0||this.length===0)return 0;if(T<0)throw new RangeError("targetStart out of bounds");if(q<0||q>=this.length)throw new RangeError("Index out of range");if(te<0)throw new RangeError("sourceEnd out of bounds");te>this.length&&(te=this.length),A.length-T<te-q&&(te=A.length-T+q);const ce=te-q;return this===A&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(T,q,te):Uint8Array.prototype.set.call(A,this.subarray(q,te),T),ce},d.prototype.fill=function(A,T,q,te){if(typeof A=="string"){if(typeof T=="string"?(te=T,T=0,q=this.length):typeof q=="string"&&(te=q,q=this.length),te!==void 0&&typeof te!="string")throw new TypeError("encoding must be a string");if(typeof te=="string"&&!d.isEncoding(te))throw new TypeError("Unknown encoding: "+te);if(A.length===1){const ge=A.charCodeAt(0);(te==="utf8"&&ge<128||te==="latin1")&&(A=ge)}}else typeof A=="number"?A=A&255:typeof A=="boolean"&&(A=Number(A));if(T<0||this.length<T||this.length<q)throw new RangeError("Out of range index");if(q<=T)return this;T=T>>>0,q=q===void 0?this.length:q>>>0,A||(A=0);let ce;if(typeof A=="number")for(ce=T;ce<q;++ce)this[ce]=A;else{const ge=d.isBuffer(A)?A:d.from(A,te),ze=ge.length;if(ze===0)throw new TypeError('The value "'+A+'" is invalid for argument "value"');for(ce=0;ce<q-T;++ce)this[ce+T]=ge[ce%ze]}return this};const se={};function pe(H,A,T){se[H]=class extends T{constructor(){super(),Object.defineProperty(this,"message",{value:A.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${H}]`,this.stack,delete this.name}get code(){return H}set code(te){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:te,writable:!0})}toString(){return`${this.name} [${H}]: ${this.message}`}}}pe("ERR_BUFFER_OUT_OF_BOUNDS",function(H){return H?`${H} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),pe("ERR_INVALID_ARG_TYPE",function(H,A){return`The "${H}" argument must be of type number. Received type ${typeof A}`},TypeError),pe("ERR_OUT_OF_RANGE",function(H,A,T){let q=`The value of "${H}" is out of range.`,te=T;return Number.isInteger(T)&&Math.abs(T)>2**32?te=Re(String(T)):typeof T=="bigint"&&(te=String(T),(T>BigInt(2)**BigInt(32)||T<-(BigInt(2)**BigInt(32)))&&(te=Re(te)),te+="n"),q+=` It must be ${A}. Received ${te}`,q},RangeError);function Re(H){let A="",T=H.length;const q=H[0]==="-"?1:0;for(;T>=q+4;T-=3)A=`_${H.slice(T-3,T)}${A}`;return`${H.slice(0,T)}${A}`}function Oe(H,A,T){Ut(A,"offset"),(H[A]===void 0||H[A+T]===void 0)&&je(A,H.length-(T+1))}function $e(H,A,T,q,te,ce){if(H>T||H<A){const ge=typeof A=="bigint"?"n":"";let ze;throw A===0||A===BigInt(0)?ze=`>= 0${ge} and < 2${ge} ** ${(ce+1)*8}${ge}`:ze=`>= -(2${ge} ** ${(ce+1)*8-1}${ge}) and < 2 ** ${(ce+1)*8-1}${ge}`,new se.ERR_OUT_OF_RANGE("value",ze,H)}Oe(q,te,ce)}function Ut(H,A){if(typeof H!="number")throw new se.ERR_INVALID_ARG_TYPE(A,"number",H)}function je(H,A,T){throw Math.floor(H)!==H?(Ut(H,T),new se.ERR_OUT_OF_RANGE("offset","an integer",H)):A<0?new se.ERR_BUFFER_OUT_OF_BOUNDS:new se.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${A}`,H)}const Xe=/[^+/0-9A-Za-z-_]/g;function en(H){if(H=H.split("=")[0],H=H.trim().replace(Xe,""),H.length<2)return"";for(;H.length%4!==0;)H=H+"=";return H}function Ge(H,A){A=A||1/0;let T;const q=H.length;let te=null;const ce=[];for(let ge=0;ge<q;++ge){if(T=H.charCodeAt(ge),T>55295&&T<57344){if(!te){if(T>56319){(A-=3)>-1&&ce.push(239,191,189);continue}else if(ge+1===q){(A-=3)>-1&&ce.push(239,191,189);continue}te=T;continue}if(T<56320){(A-=3)>-1&&ce.push(239,191,189),te=T;continue}T=(te-55296<<10|T-56320)+65536}else te&&(A-=3)>-1&&ce.push(239,191,189);if(te=null,T<128){if((A-=1)<0)break;ce.push(T)}else if(T<2048){if((A-=2)<0)break;ce.push(T>>6|192,T&63|128)}else if(T<65536){if((A-=3)<0)break;ce.push(T>>12|224,T>>6&63|128,T&63|128)}else if(T<1114112){if((A-=4)<0)break;ce.push(T>>18|240,T>>12&63|128,T>>6&63|128,T&63|128)}else throw new Error("Invalid code point")}return ce}function Ze(H){const A=[];for(let T=0;T<H.length;++T)A.push(H.charCodeAt(T)&255);return A}function _n(H,A){let T,q,te;const ce=[];for(let ge=0;ge<H.length&&!((A-=2)<0);++ge)T=H.charCodeAt(ge),q=T>>8,te=T%256,ce.push(te),ce.push(q);return ce}function _t(H){return t.toByteArray(en(H))}function Fe(H,A,T,q){let te;for(te=0;te<q&&!(te+T>=A.length||te>=H.length);++te)A[te+T]=H[te];return te}function Dt(H,A){return H instanceof A||H!=null&&H.constructor!=null&&H.constructor.name!=null&&H.constructor.name===A.name}function rt(H){return H!==H}const qe=(function(){const H="0123456789abcdef",A=new Array(256);for(let T=0;T<16;++T){const q=T*16;for(let te=0;te<16;++te)A[q+te]=H[T]+H[te]}return A})();function pt(H){return typeof BigInt>"u"?wt:H}function wt(){throw new Error("BigInt not supported")}})(wh)),wh}var Ce=j0(),vh={exports:{}},bg;function aR(){if(bg)return vh.exports;bg=1;var s=vh.exports={},t,n;function i(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?t=setTimeout:t=i}catch{t=i}try{typeof clearTimeout=="function"?n=clearTimeout:n=c}catch{n=c}})();function o(U){if(t===setTimeout)return setTimeout(U,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(U,0);try{return t(U,0)}catch{try{return t.call(null,U,0)}catch{return t.call(this,U,0)}}}function l(U){if(n===clearTimeout)return clearTimeout(U);if((n===c||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(U);try{return n(U)}catch{try{return n.call(null,U)}catch{return n.call(this,U)}}}var d=[],y=!1,_,E=-1;function C(){!y||!_||(y=!1,_.length?d=_.concat(d):E=-1,d.length&&I())}function I(){if(!y){var U=o(C);y=!0;for(var D=d.length;D;){for(_=d,d=[];++E<D;)_&&_[E].run();E=-1,D=d.length}_=null,y=!1,l(U)}}s.nextTick=function(U){var D=new Array(arguments.length-1);if(arguments.length>1)for(var j=1;j<arguments.length;j++)D[j-1]=arguments[j];d.push(new R(U,D)),d.length===1&&!y&&o(I)};function R(U,D){this.fun=U,this.array=D}R.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={};function M(){}return s.on=M,s.addListener=M,s.once=M,s.off=M,s.removeListener=M,s.removeAllListeners=M,s.emit=M,s.prependListener=M,s.prependOnceListener=M,s.listeners=function(U){return[]},s.binding=function(U){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(U){throw new Error("process.chdir is not supported")},s.umask=function(){return 0},vh.exports}var oR=aR();const cR=Ni(oR);globalThis.Buffer||(globalThis.Buffer=Ce.Buffer);globalThis.process||(globalThis.process=cR);var Eh={exports:{}},We={};var _g;function uR(){if(_g)return We;_g=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),I=Symbol.iterator;function R(m){return m===null||typeof m!="object"?null:(m=I&&m[I]||m["@@iterator"],typeof m=="function"?m:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,D={};function j(m,f,b){this.props=m,this.context=f,this.refs=D,this.updater=b||M}j.prototype.isReactComponent={},j.prototype.setState=function(m,f){if(typeof m!="object"&&typeof m!="function"&&m!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,m,f,"setState")},j.prototype.forceUpdate=function(m){this.updater.enqueueForceUpdate(this,m,"forceUpdate")};function F(){}F.prototype=j.prototype;function V(m,f,b){this.props=m,this.context=f,this.refs=D,this.updater=b||M}var W=V.prototype=new F;W.constructor=V,U(W,j.prototype),W.isPureReactComponent=!0;var re=Array.isArray;function oe(){}var ie={H:null,A:null,T:null,S:null},le=Object.prototype.hasOwnProperty;function G(m,f,b){var O=b.ref;return{$$typeof:s,type:m,key:f,ref:O!==void 0?O:null,props:b}}function Y(m,f){return G(m.type,f,m.props)}function X(m){return typeof m=="object"&&m!==null&&m.$$typeof===s}function $(m){var f={"=":"=0",":":"=2"};return"$"+m.replace(/[=:]/g,function(b){return f[b]})}var x=/\/+/g;function h(m,f){return typeof m=="object"&&m!==null&&m.key!=null?$(""+m.key):f.toString(36)}function w(m){switch(m.status){case"fulfilled":return m.value;case"rejected":throw m.reason;default:switch(typeof m.status=="string"?m.then(oe,oe):(m.status="pending",m.then(function(f){m.status==="pending"&&(m.status="fulfilled",m.value=f)},function(f){m.status==="pending"&&(m.status="rejected",m.reason=f)})),m.status){case"fulfilled":return m.value;case"rejected":throw m.reason}}throw m}function S(m,f,b,O,z){var Z=typeof m;(Z==="undefined"||Z==="boolean")&&(m=null);var ne=!1;if(m===null)ne=!0;else switch(Z){case"bigint":case"string":case"number":ne=!0;break;case"object":switch(m.$$typeof){case s:case t:ne=!0;break;case E:return ne=m._init,S(ne(m._payload),f,b,O,z)}}if(ne)return z=z(m),ne=O===""?"."+h(m,0):O,re(z)?(b="",ne!=null&&(b=ne.replace(x,"$&/")+"/"),S(z,f,b,"",function(Re){return Re})):z!=null&&(X(z)&&(z=Y(z,b+(z.key==null||m&&m.key===z.key?"":(""+z.key).replace(x,"$&/")+"/")+ne)),f.push(z)),1;ne=0;var se=O===""?".":O+":";if(re(m))for(var pe=0;pe<m.length;pe++)O=m[pe],Z=se+h(O,pe),ne+=S(O,f,b,Z,z);else if(pe=R(m),typeof pe=="function")for(m=pe.call(m),pe=0;!(O=m.next()).done;)O=O.value,Z=se+h(O,pe++),ne+=S(O,f,b,Z,z);else if(Z==="object"){if(typeof m.then=="function")return S(w(m),f,b,O,z);throw f=String(m),Error("Objects are not valid as a React child (found: "+(f==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":f)+"). If you meant to render a collection of children, use an array instead.")}return ne}function N(m,f,b){if(m==null)return m;var O=[],z=0;return S(m,O,"","",function(Z){return f.call(b,Z,z++)}),O}function L(m){if(m._status===-1){var f=m._result;f=f(),f.then(function(b){(m._status===0||m._status===-1)&&(m._status=1,m._result=b)},function(b){(m._status===0||m._status===-1)&&(m._status=2,m._result=b)}),m._status===-1&&(m._status=0,m._result=f)}if(m._status===1)return m._result.default;throw m._result}var B=typeof reportError=="function"?reportError:function(m){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof m=="object"&&m!==null&&typeof m.message=="string"?String(m.message):String(m),error:m});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",m);return}console.error(m)},v={map:N,forEach:function(m,f,b){N(m,function(){f.apply(this,arguments)},b)},count:function(m){var f=0;return N(m,function(){f++}),f},toArray:function(m){return N(m,function(f){return f})||[]},only:function(m){if(!X(m))throw Error("React.Children.only expected to receive a single React element child.");return m}};return We.Activity=C,We.Children=v,We.Component=j,We.Fragment=n,We.Profiler=c,We.PureComponent=V,We.StrictMode=i,We.Suspense=y,We.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ie,We.__COMPILER_RUNTIME={__proto__:null,c:function(m){return ie.H.useMemoCache(m)}},We.cache=function(m){return function(){return m.apply(null,arguments)}},We.cacheSignal=function(){return null},We.cloneElement=function(m,f,b){if(m==null)throw Error("The argument must be a React element, but you passed "+m+".");var O=U({},m.props),z=m.key;if(f!=null)for(Z in f.key!==void 0&&(z=""+f.key),f)!le.call(f,Z)||Z==="key"||Z==="__self"||Z==="__source"||Z==="ref"&&f.ref===void 0||(O[Z]=f[Z]);var Z=arguments.length-2;if(Z===1)O.children=b;else if(1<Z){for(var ne=Array(Z),se=0;se<Z;se++)ne[se]=arguments[se+2];O.children=ne}return G(m.type,z,O)},We.createContext=function(m){return m={$$typeof:l,_currentValue:m,_currentValue2:m,_threadCount:0,Provider:null,Consumer:null},m.Provider=m,m.Consumer={$$typeof:o,_context:m},m},We.createElement=function(m,f,b){var O,z={},Z=null;if(f!=null)for(O in f.key!==void 0&&(Z=""+f.key),f)le.call(f,O)&&O!=="key"&&O!=="__self"&&O!=="__source"&&(z[O]=f[O]);var ne=arguments.length-2;if(ne===1)z.children=b;else if(1<ne){for(var se=Array(ne),pe=0;pe<ne;pe++)se[pe]=arguments[pe+2];z.children=se}if(m&&m.defaultProps)for(O in ne=m.defaultProps,ne)z[O]===void 0&&(z[O]=ne[O]);return G(m,Z,z)},We.createRef=function(){return{current:null}},We.forwardRef=function(m){return{$$typeof:d,render:m}},We.isValidElement=X,We.lazy=function(m){return{$$typeof:E,_payload:{_status:-1,_result:m},_init:L}},We.memo=function(m,f){return{$$typeof:_,type:m,compare:f===void 0?null:f}},We.startTransition=function(m){var f=ie.T,b={};ie.T=b;try{var O=m(),z=ie.S;z!==null&&z(b,O),typeof O=="object"&&O!==null&&typeof O.then=="function"&&O.then(oe,B)}catch(Z){B(Z)}finally{f!==null&&b.types!==null&&(f.types=b.types),ie.T=f}},We.unstable_useCacheRefresh=function(){return ie.H.useCacheRefresh()},We.use=function(m){return ie.H.use(m)},We.useActionState=function(m,f,b){return ie.H.useActionState(m,f,b)},We.useCallback=function(m,f){return ie.H.useCallback(m,f)},We.useContext=function(m){return ie.H.useContext(m)},We.useDebugValue=function(){},We.useDeferredValue=function(m,f){return ie.H.useDeferredValue(m,f)},We.useEffect=function(m,f){return ie.H.useEffect(m,f)},We.useEffectEvent=function(m){return ie.H.useEffectEvent(m)},We.useId=function(){return ie.H.useId()},We.useImperativeHandle=function(m,f,b){return ie.H.useImperativeHandle(m,f,b)},We.useInsertionEffect=function(m,f){return ie.H.useInsertionEffect(m,f)},We.useLayoutEffect=function(m,f){return ie.H.useLayoutEffect(m,f)},We.useMemo=function(m,f){return ie.H.useMemo(m,f)},We.useOptimistic=function(m,f){return ie.H.useOptimistic(m,f)},We.useReducer=function(m,f,b){return ie.H.useReducer(m,f,b)},We.useRef=function(m){return ie.H.useRef(m)},We.useState=function(m){return ie.H.useState(m)},We.useSyncExternalStore=function(m,f,b){return ie.H.useSyncExternalStore(m,f,b)},We.useTransition=function(){return ie.H.useTransition()},We.version="19.2.3",We}var wg;function P0(){return wg||(wg=1,Eh.exports=uR()),Eh.exports}var xe=P0();const lR=Ni(xe);var Sh={exports:{}},pc={},Ah={exports:{}},Rh={};var vg;function fR(){return vg||(vg=1,(function(s){function t(S,N){var L=S.length;S.push(N);e:for(;0<L;){var B=L-1>>>1,v=S[B];if(0<c(v,N))S[B]=N,S[L]=v,L=B;else break e}}function n(S){return S.length===0?null:S[0]}function i(S){if(S.length===0)return null;var N=S[0],L=S.pop();if(L!==N){S[0]=L;e:for(var B=0,v=S.length,m=v>>>1;B<m;){var f=2*(B+1)-1,b=S[f],O=f+1,z=S[O];if(0>c(b,L))O<v&&0>c(z,b)?(S[B]=z,S[O]=L,B=O):(S[B]=b,S[f]=L,B=f);else if(O<v&&0>c(z,L))S[B]=z,S[O]=L,B=O;else break e}}return N}function c(S,N){var L=S.sortIndex-N.sortIndex;return L!==0?L:S.id-N.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;s.unstable_now=function(){return o.now()}}else{var l=Date,d=l.now();s.unstable_now=function(){return l.now()-d}}var y=[],_=[],E=1,C=null,I=3,R=!1,M=!1,U=!1,D=!1,j=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function W(S){for(var N=n(_);N!==null;){if(N.callback===null)i(_);else if(N.startTime<=S)i(_),N.sortIndex=N.expirationTime,t(y,N);else break;N=n(_)}}function re(S){if(U=!1,W(S),!M)if(n(y)!==null)M=!0,oe||(oe=!0,$());else{var N=n(_);N!==null&&w(re,N.startTime-S)}}var oe=!1,ie=-1,le=5,G=-1;function Y(){return D?!0:!(s.unstable_now()-G<le)}function X(){if(D=!1,oe){var S=s.unstable_now();G=S;var N=!0;try{e:{M=!1,U&&(U=!1,F(ie),ie=-1),R=!0;var L=I;try{t:{for(W(S),C=n(y);C!==null&&!(C.expirationTime>S&&Y());){var B=C.callback;if(typeof B=="function"){C.callback=null,I=C.priorityLevel;var v=B(C.expirationTime<=S);if(S=s.unstable_now(),typeof v=="function"){C.callback=v,W(S),N=!0;break t}C===n(y)&&i(y),W(S)}else i(y);C=n(y)}if(C!==null)N=!0;else{var m=n(_);m!==null&&w(re,m.startTime-S),N=!1}}break e}finally{C=null,I=L,R=!1}N=void 0}}finally{N?$():oe=!1}}}var $;if(typeof V=="function")$=function(){V(X)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,h=x.port2;x.port1.onmessage=X,$=function(){h.postMessage(null)}}else $=function(){j(X,0)};function w(S,N){ie=j(function(){S(s.unstable_now())},N)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(S){S.callback=null},s.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):le=0<S?Math.floor(1e3/S):5},s.unstable_getCurrentPriorityLevel=function(){return I},s.unstable_next=function(S){switch(I){case 1:case 2:case 3:var N=3;break;default:N=I}var L=I;I=N;try{return S()}finally{I=L}},s.unstable_requestPaint=function(){D=!0},s.unstable_runWithPriority=function(S,N){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var L=I;I=S;try{return N()}finally{I=L}},s.unstable_scheduleCallback=function(S,N,L){var B=s.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?B+L:B):L=B,S){case 1:var v=-1;break;case 2:v=250;break;case 5:v=1073741823;break;case 4:v=1e4;break;default:v=5e3}return v=L+v,S={id:E++,callback:N,priorityLevel:S,startTime:L,expirationTime:v,sortIndex:-1},L>B?(S.sortIndex=L,t(_,S),n(y)===null&&S===n(_)&&(U?(F(ie),ie=-1):U=!0,w(re,L-B))):(S.sortIndex=v,t(y,S),M||R||(M=!0,oe||(oe=!0,$()))),S},s.unstable_shouldYield=Y,s.unstable_wrapCallback=function(S){var N=I;return function(){var L=I;I=N;try{return S.apply(this,arguments)}finally{I=L}}}})(Rh)),Rh}var Eg;function dR(){return Eg||(Eg=1,Ah.exports=fR()),Ah.exports}var xh={exports:{}},Bn={};var Sg;function hR(){if(Sg)return Bn;Sg=1;var s=P0();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)_+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},c=Symbol.for("react.portal");function o(y,_,E){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:C==null?null:""+C,children:y,containerInfo:_,implementation:E}}var l=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Bn.createPortal=function(y,_){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return o(y,_,null,E)},Bn.flushSync=function(y){var _=l.T,E=i.p;try{if(l.T=null,i.p=2,y)return y()}finally{l.T=_,i.p=E,i.d.f()}},Bn.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,i.d.C(y,_))},Bn.prefetchDNS=function(y){typeof y=="string"&&i.d.D(y)},Bn.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var E=_.as,C=d(E,_.crossOrigin),I=typeof _.integrity=="string"?_.integrity:void 0,R=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;E==="style"?i.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:C,integrity:I,fetchPriority:R}):E==="script"&&i.d.X(y,{crossOrigin:C,integrity:I,fetchPriority:R,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Bn.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var E=d(_.as,_.crossOrigin);i.d.M(y,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&i.d.M(y)},Bn.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var E=_.as,C=d(E,_.crossOrigin);i.d.L(y,E,{crossOrigin:C,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Bn.preloadModule=function(y,_){if(typeof y=="string")if(_){var E=d(_.as,_.crossOrigin);i.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else i.d.m(y)},Bn.requestFormReset=function(y){i.d.r(y)},Bn.unstable_batchedUpdates=function(y,_){return y(_)},Bn.useFormState=function(y,_,E){return l.H.useFormState(y,_,E)},Bn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Bn.version="19.2.3",Bn}var Ag;function pR(){if(Ag)return xh.exports;Ag=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),xh.exports=hR(),xh.exports}var Rg;function mR(){if(Rg)return pc;Rg=1;var s=dR(),t=P0(),n=pR();function i(e){var r="https://react.dev/errors/"+e;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var r=e,a=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(a=r.return),e=r.return;while(e)}return r.tag===3?a:null}function l(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function d(e){if(e.tag===31){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function y(e){if(o(e)!==e)throw Error(i(188))}function _(e){var r=e.alternate;if(!r){if(r=o(e),r===null)throw Error(i(188));return r!==e?null:e}for(var a=e,u=r;;){var p=a.return;if(p===null)break;var g=p.alternate;if(g===null){if(u=p.return,u!==null){a=u;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===a)return y(p),e;if(g===u)return y(p),r;g=g.sibling}throw Error(i(188))}if(a.return!==u.return)a=p,u=g;else{for(var k=!1,P=p.child;P;){if(P===a){k=!0,a=p,u=g;break}if(P===u){k=!0,u=p,a=g;break}P=P.sibling}if(!k){for(P=g.child;P;){if(P===a){k=!0,a=g,u=p;break}if(P===u){k=!0,u=g,a=p;break}P=P.sibling}if(!k)throw Error(i(189))}}if(a.alternate!==u)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?e:r}function E(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e;for(e=e.child;e!==null;){if(r=E(e),r!==null)return r;e=e.sibling}return null}var C=Object.assign,I=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),V=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),le=Symbol.for("react.lazy"),G=Symbol.for("react.activity"),Y=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function $(e){return e===null||typeof e!="object"?null:(e=X&&e[X]||e["@@iterator"],typeof e=="function"?e:null)}var x=Symbol.for("react.client.reference");function h(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===x?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case U:return"Fragment";case j:return"Profiler";case D:return"StrictMode";case re:return"Suspense";case oe:return"SuspenseList";case G:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case M:return"Portal";case V:return e.displayName||"Context";case F:return(e._context.displayName||"Context")+".Consumer";case W:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ie:return r=e.displayName||null,r!==null?r:h(e.type)||"Memo";case le:r=e._payload,e=e._init;try{return h(e(r))}catch{}}return null}var w=Array.isArray,S=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},B=[],v=-1;function m(e){return{current:e}}function f(e){0>v||(e.current=B[v],B[v]=null,v--)}function b(e,r){v++,B[v]=e.current,e.current=r}var O=m(null),z=m(null),Z=m(null),ne=m(null);function se(e,r){switch(b(Z,r),b(z,e),b(O,null),r.nodeType){case 9:case 11:e=(e=r.documentElement)&&(e=e.namespaceURI)?D1(e):0;break;default:if(e=r.tagName,r=r.namespaceURI)r=D1(r),e=L1(r,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}f(O),b(O,e)}function pe(){f(O),f(z),f(Z)}function Re(e){e.memoizedState!==null&&b(ne,e);var r=O.current,a=L1(r,e.type);r!==a&&(b(z,e),b(O,a))}function Oe(e){z.current===e&&(f(O),f(z)),ne.current===e&&(f(ne),cc._currentValue=L)}var $e,Ut;function je(e){if($e===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);$e=r&&r[1]||"",Ut=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$e+e+Ut}var Xe=!1;function en(e,r){if(!e||Xe)return"";Xe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var Ee=function(){throw Error()};if(Object.defineProperty(Ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ee,[])}catch(be){var me=be}Reflect.construct(e,[],Ee)}else{try{Ee.call()}catch(be){me=be}e.call(Ee.prototype)}}else{try{throw Error()}catch(be){me=be}(Ee=e())&&typeof Ee.catch=="function"&&Ee.catch(function(){})}}catch(be){if(be&&me&&typeof be.stack=="string")return[be.stack,me.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),k=g[0],P=g[1];if(k&&P){var J=k.split(`
`),de=P.split(`
`);for(p=u=0;u<J.length&&!J[u].includes("DetermineComponentFrameRoot");)u++;for(;p<de.length&&!de[p].includes("DetermineComponentFrameRoot");)p++;if(u===J.length||p===de.length)for(u=J.length-1,p=de.length-1;1<=u&&0<=p&&J[u]!==de[p];)p--;for(;1<=u&&0<=p;u--,p--)if(J[u]!==de[p]){if(u!==1||p!==1)do if(u--,p--,0>p||J[u]!==de[p]){var _e=`
`+J[u].replace(" at new "," at ");return e.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",e.displayName)),_e}while(1<=u&&0<=p);break}}}finally{Xe=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?je(a):""}function Ge(e,r){switch(e.tag){case 26:case 27:case 5:return je(e.type);case 16:return je("Lazy");case 13:return e.child!==r&&r!==null?je("Suspense Fallback"):je("Suspense");case 19:return je("SuspenseList");case 0:case 15:return en(e.type,!1);case 11:return en(e.type.render,!1);case 1:return en(e.type,!0);case 31:return je("Activity");default:return""}}function Ze(e){try{var r="",a=null;do r+=Ge(e,a),a=e,e=e.return;while(e);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var _n=Object.prototype.hasOwnProperty,_t=s.unstable_scheduleCallback,Fe=s.unstable_cancelCallback,Dt=s.unstable_shouldYield,rt=s.unstable_requestPaint,qe=s.unstable_now,pt=s.unstable_getCurrentPriorityLevel,wt=s.unstable_ImmediatePriority,H=s.unstable_UserBlockingPriority,A=s.unstable_NormalPriority,T=s.unstable_LowPriority,q=s.unstable_IdlePriority,te=s.log,ce=s.unstable_setDisableYieldValue,ge=null,ze=null;function Ke(e){if(typeof te=="function"&&ce(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(ge,e)}catch{}}var Ue=Math.clz32?Math.clz32:tn,kt=Math.log,Ye=Math.LN2;function tn(e){return e>>>=0,e===0?32:31-(kt(e)/Ye|0)|0}var vs=256,Lt=262144,zt=4194304;function kr(e){var r=e&42;if(r!==0)return r;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ht(e,r,a){var u=e.pendingLanes;if(u===0)return 0;var p=0,g=e.suspendedLanes,k=e.pingedLanes;e=e.warmLanes;var P=u&134217727;return P!==0?(u=P&~g,u!==0?p=kr(u):(k&=P,k!==0?p=kr(k):a||(a=P&~e,a!==0&&(p=kr(a))))):(P=u&~g,P!==0?p=kr(P):k!==0?p=kr(k):a||(a=u&~e,a!==0&&(p=kr(a)))),p===0?0:r!==0&&r!==p&&(r&g)===0&&(g=p&-p,a=r&-r,g>=a||g===32&&(a&4194048)!==0)?r:p}function Ct(e,r){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&r)===0}function Vc(e,r){switch(e){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yt(){var e=zt;return zt<<=1,(zt&62914560)===0&&(zt=4194304),e}function qt(e){for(var r=[],a=0;31>a;a++)r.push(e);return r}function Ii(e,r){e.pendingLanes|=r,r!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function nn(e,r,a,u,p,g){var k=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var P=e.entanglements,J=e.expirationTimes,de=e.hiddenUpdates;for(a=k&~a;0<a;){var _e=31-Ue(a),Ee=1<<_e;P[_e]=0,J[_e]=-1;var me=de[_e];if(me!==null)for(de[_e]=null,_e=0;_e<me.length;_e++){var be=me[_e];be!==null&&(be.lane&=-536870913)}a&=~Ee}u!==0&&Zt(e,u,0),g!==0&&p===0&&e.tag!==0&&(e.suspendedLanes|=g&~(k&~r))}function Zt(e,r,a){e.pendingLanes|=r,e.suspendedLanes&=~r;var u=31-Ue(r);e.entangledLanes|=r,e.entanglements[u]=e.entanglements[u]|1073741824|a&261930}function vo(e,r){var a=e.entangledLanes|=r;for(e=e.entanglements;a;){var u=31-Ue(a),p=1<<u;p&r|e[u]&r&&(e[u]|=r),a&=~p}}function Xt(e,r){var a=r&-r;return a=(a&42)!==0?1:Kt(a),(a&(e.suspendedLanes|r))!==0?0:a}function Kt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function oa(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function $t(){var e=N.p;return e!==0?e:(e=window.event,e===void 0?32:ag(e.type))}function Wt(e,r){var a=N.p;try{return N.p=e,r()}finally{N.p=a}}var vr=Math.random().toString(36).slice(2),it="__reactFiber$"+vr,lt="__reactProps$"+vr,$r="__reactContainer$"+vr,Vt="__reactEvents$"+vr,rn="__reactListeners$"+vr,Eo="__reactHandles$"+vr,ca="__reactResources$"+vr,Wr="__reactMarker$"+vr;function Es(e){delete e[it],delete e[lt],delete e[Vt],delete e[rn],delete e[Eo]}function Ir(e){var r=e[it];if(r)return r;for(var a=e.parentNode;a;){if(r=a[$r]||a[it]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(e=V1(e);e!==null;){if(a=e[it])return a;e=V1(e)}return r}e=a,a=e.parentNode}return null}function Cr(e){if(e=e[it]||e[$r]){var r=e.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return e}return null}function Qr(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e.stateNode;throw Error(i(33))}function Br(e){var r=e[ca];return r||(r=e[ca]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function sn(e){e[Wr]=!0}var ua=new Set,la={};function Er(e,r){Mr(e,r),Mr(e+"Capture",r)}function Mr(e,r){for(la[e]=r,e=0;e<r.length;e++)ua.add(r[e])}var So=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fa={},da={};function Ao(e){return _n.call(da,e)?!0:_n.call(fa,e)?!1:So.test(e)?da[e]=!0:(fa[e]=!0,!1)}function Ci(e,r,a){if(Ao(r))if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){e.removeAttribute(r);return}}e.setAttribute(r,""+a)}}function Bi(e,r,a){if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttribute(r,""+a)}}function Jr(e,r,a,u){if(u===null)e.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(r,a,""+u)}}function cr(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Op(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function XE(e,r,a){var u=Object.getOwnPropertyDescriptor(e.constructor.prototype,r);if(!e.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,g=u.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return p.call(this)},set:function(k){a=""+k,g.call(this,k)}}),Object.defineProperty(e,r,{enumerable:u.enumerable}),{getValue:function(){return a},setValue:function(k){a=""+k},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function df(e){if(!e._valueTracker){var r=Op(e)?"checked":"value";e._valueTracker=XE(e,r,""+e[r])}}function Np(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var a=r.getValue(),u="";return e&&(u=Op(e)?e.checked?"true":"false":e.value),e=u,e!==a?(r.setValue(e),!0):!1}function Gc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var $E=/[\n"\\]/g;function ur(e){return e.replace($E,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function hf(e,r,a,u,p,g,k,P){e.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?e.type=k:e.removeAttribute("type"),r!=null?k==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+cr(r)):e.value!==""+cr(r)&&(e.value=""+cr(r)):k!=="submit"&&k!=="reset"||e.removeAttribute("value"),r!=null?pf(e,k,cr(r)):a!=null?pf(e,k,cr(a)):u!=null&&e.removeAttribute("value"),p==null&&g!=null&&(e.defaultChecked=!!g),p!=null&&(e.checked=p&&typeof p!="function"&&typeof p!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?e.name=""+cr(P):e.removeAttribute("name")}function kp(e,r,a,u,p,g,k,P){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),r!=null||a!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){df(e);return}a=a!=null?""+cr(a):"",r=r!=null?""+cr(r):a,P||r===e.value||(e.value=r),e.defaultValue=r}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,e.checked=P?e.checked:!!u,e.defaultChecked=!!u,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(e.name=k),df(e)}function pf(e,r,a){r==="number"&&Gc(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ha(e,r,a,u){if(e=e.options,r){r={};for(var p=0;p<a.length;p++)r["$"+a[p]]=!0;for(a=0;a<e.length;a++)p=r.hasOwnProperty("$"+e[a].value),e[a].selected!==p&&(e[a].selected=p),p&&u&&(e[a].defaultSelected=!0)}else{for(a=""+cr(a),r=null,p=0;p<e.length;p++){if(e[p].value===a){e[p].selected=!0,u&&(e[p].defaultSelected=!0);return}r!==null||e[p].disabled||(r=e[p])}r!==null&&(r.selected=!0)}}function Ip(e,r,a){if(r!=null&&(r=""+cr(r),r!==e.value&&(e.value=r),a==null)){e.defaultValue!==r&&(e.defaultValue=r);return}e.defaultValue=a!=null?""+cr(a):""}function Cp(e,r,a,u){if(r==null){if(u!=null){if(a!=null)throw Error(i(92));if(w(u)){if(1<u.length)throw Error(i(93));u=u[0]}a=u}a==null&&(a=""),r=a}a=cr(r),e.defaultValue=a,u=e.textContent,u===a&&u!==""&&u!==null&&(e.value=u),df(e)}function pa(e,r){if(r){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=r;return}}e.textContent=r}var WE=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bp(e,r,a){var u=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="":u?e.setProperty(r,a):typeof a!="number"||a===0||WE.has(r)?r==="float"?e.cssFloat=a:e[r]=(""+a).trim():e[r]=a+"px"}function Mp(e,r,a){if(r!=null&&typeof r!="object")throw Error(i(62));if(e=e.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?e.setProperty(u,""):u==="float"?e.cssFloat="":e[u]="");for(var p in r)u=r[p],r.hasOwnProperty(p)&&a[p]!==u&&Bp(e,p,u)}else for(var g in r)r.hasOwnProperty(g)&&Bp(e,g,r[g])}function mf(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var QE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),JE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fc(e){return JE.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ei(){}var yf=null;function gf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ma=null,ya=null;function Up(e){var r=Cr(e);if(r&&(e=r.stateNode)){var a=e[lt]||null;e:switch(e=r.stateNode,r.type){case"input":if(hf(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ur(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var u=a[r];if(u!==e&&u.form===e.form){var p=u[lt]||null;if(!p)throw Error(i(90));hf(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(r=0;r<a.length;r++)u=a[r],u.form===e.form&&Np(u)}break e;case"textarea":Ip(e,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&ha(e,!!a.multiple,r,!1)}}}var bf=!1;function Dp(e,r,a){if(bf)return e(r,a);bf=!0;try{var u=e(r);return u}finally{if(bf=!1,(ma!==null||ya!==null)&&(Bu(),ma&&(r=ma,e=ya,ya=ma=null,Up(r),e)))for(r=0;r<e.length;r++)Up(e[r])}}function Ro(e,r){var a=e.stateNode;if(a===null)return null;var u=a[lt]||null;if(u===null)return null;a=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(i(231,r,typeof a));return a}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_f=!1;if(ti)try{var xo={};Object.defineProperty(xo,"passive",{get:function(){_f=!0}}),window.addEventListener("test",xo,xo),window.removeEventListener("test",xo,xo)}catch{_f=!1}var Mi=null,wf=null,Yc=null;function Lp(){if(Yc)return Yc;var e,r=wf,a=r.length,u,p="value"in Mi?Mi.value:Mi.textContent,g=p.length;for(e=0;e<a&&r[e]===p[e];e++);var k=a-e;for(u=1;u<=k&&r[a-u]===p[g-u];u++);return Yc=p.slice(e,1<u?1-u:void 0)}function Zc(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function Xc(){return!0}function zp(){return!1}function Pn(e){function r(a,u,p,g,k){this._reactName=a,this._targetInst=p,this.type=u,this.nativeEvent=g,this.target=k,this.currentTarget=null;for(var P in e)e.hasOwnProperty(P)&&(a=e[P],this[P]=a?a(g):g[P]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Xc:zp,this.isPropagationStopped=zp,this}return C(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xc)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xc)},persist:function(){},isPersistent:Xc}),r}var Ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$c=Pn(Ss),To=C({},Ss,{view:0,detail:0}),eS=Pn(To),vf,Ef,Oo,Wc=C({},To,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Af,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Oo&&(Oo&&e.type==="mousemove"?(vf=e.screenX-Oo.screenX,Ef=e.screenY-Oo.screenY):Ef=vf=0,Oo=e),vf)},movementY:function(e){return"movementY"in e?e.movementY:Ef}}),Hp=Pn(Wc),tS=C({},Wc,{dataTransfer:0}),nS=Pn(tS),rS=C({},To,{relatedTarget:0}),Sf=Pn(rS),iS=C({},Ss,{animationName:0,elapsedTime:0,pseudoElement:0}),sS=Pn(iS),aS=C({},Ss,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),oS=Pn(aS),cS=C({},Ss,{data:0}),jp=Pn(cS),uS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dS(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=fS[e])?!!r[e]:!1}function Af(){return dS}var hS=C({},To,{key:function(e){if(e.key){var r=uS[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=Zc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Af,charCode:function(e){return e.type==="keypress"?Zc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pS=Pn(hS),mS=C({},Wc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pp=Pn(mS),yS=C({},To,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Af}),gS=Pn(yS),bS=C({},Ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),_S=Pn(bS),wS=C({},Wc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vS=Pn(wS),ES=C({},Ss,{newState:0,oldState:0}),SS=Pn(ES),AS=[9,13,27,32],Rf=ti&&"CompositionEvent"in window,No=null;ti&&"documentMode"in document&&(No=document.documentMode);var RS=ti&&"TextEvent"in window&&!No,qp=ti&&(!Rf||No&&8<No&&11>=No),Kp=" ",Vp=!1;function Gp(e,r){switch(e){case"keyup":return AS.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ga=!1;function xS(e,r){switch(e){case"compositionend":return Fp(r);case"keypress":return r.which!==32?null:(Vp=!0,Kp);case"textInput":return e=r.data,e===Kp&&Vp?null:e;default:return null}}function TS(e,r){if(ga)return e==="compositionend"||!Rf&&Gp(e,r)?(e=Lp(),Yc=wf=Mi=null,ga=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return qp&&r.locale!=="ko"?null:r.data;default:return null}}var OS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yp(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!OS[e.type]:r==="textarea"}function Zp(e,r,a,u){ma?ya?ya.push(u):ya=[u]:ma=u,r=ju(r,"onChange"),0<r.length&&(a=new $c("onChange","change",null,a,u),e.push({event:a,listeners:r}))}var ko=null,Io=null;function NS(e){k1(e,0)}function Qc(e){var r=Qr(e);if(Np(r))return e}function Xp(e,r){if(e==="change")return r}var $p=!1;if(ti){var xf;if(ti){var Tf="oninput"in document;if(!Tf){var Wp=document.createElement("div");Wp.setAttribute("oninput","return;"),Tf=typeof Wp.oninput=="function"}xf=Tf}else xf=!1;$p=xf&&(!document.documentMode||9<document.documentMode)}function Qp(){ko&&(ko.detachEvent("onpropertychange",Jp),Io=ko=null)}function Jp(e){if(e.propertyName==="value"&&Qc(Io)){var r=[];Zp(r,Io,e,gf(e)),Dp(NS,r)}}function kS(e,r,a){e==="focusin"?(Qp(),ko=r,Io=a,ko.attachEvent("onpropertychange",Jp)):e==="focusout"&&Qp()}function IS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qc(Io)}function CS(e,r){if(e==="click")return Qc(r)}function BS(e,r){if(e==="input"||e==="change")return Qc(r)}function MS(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Wn=typeof Object.is=="function"?Object.is:MS;function Co(e,r){if(Wn(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var a=Object.keys(e),u=Object.keys(r);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var p=a[u];if(!_n.call(r,p)||!Wn(e[p],r[p]))return!1}return!0}function em(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tm(e,r){var a=em(e);e=0;for(var u;a;){if(a.nodeType===3){if(u=e+a.textContent.length,e<=r&&u>=r)return{node:a,offset:r-e};e=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=em(a)}}function nm(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?nm(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function rm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var r=Gc(e.document);r instanceof e.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)e=r.contentWindow;else break;r=Gc(e.document)}return r}function Of(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}var US=ti&&"documentMode"in document&&11>=document.documentMode,ba=null,Nf=null,Bo=null,kf=!1;function im(e,r,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;kf||ba==null||ba!==Gc(u)||(u=ba,"selectionStart"in u&&Of(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Bo&&Co(Bo,u)||(Bo=u,u=ju(Nf,"onSelect"),0<u.length&&(r=new $c("onSelect","select",null,r,a),e.push({event:r,listeners:u}),r.target=ba)))}function As(e,r){var a={};return a[e.toLowerCase()]=r.toLowerCase(),a["Webkit"+e]="webkit"+r,a["Moz"+e]="moz"+r,a}var _a={animationend:As("Animation","AnimationEnd"),animationiteration:As("Animation","AnimationIteration"),animationstart:As("Animation","AnimationStart"),transitionrun:As("Transition","TransitionRun"),transitionstart:As("Transition","TransitionStart"),transitioncancel:As("Transition","TransitionCancel"),transitionend:As("Transition","TransitionEnd")},If={},sm={};ti&&(sm=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function Rs(e){if(If[e])return If[e];if(!_a[e])return e;var r=_a[e],a;for(a in r)if(r.hasOwnProperty(a)&&a in sm)return If[e]=r[a];return e}var am=Rs("animationend"),om=Rs("animationiteration"),cm=Rs("animationstart"),DS=Rs("transitionrun"),LS=Rs("transitionstart"),zS=Rs("transitioncancel"),um=Rs("transitionend"),lm=new Map,Cf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cf.push("scrollEnd");function Sr(e,r){lm.set(e,r),Er(r,[e])}var Jc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},lr=[],wa=0,Bf=0;function eu(){for(var e=wa,r=Bf=wa=0;r<e;){var a=lr[r];lr[r++]=null;var u=lr[r];lr[r++]=null;var p=lr[r];lr[r++]=null;var g=lr[r];if(lr[r++]=null,u!==null&&p!==null){var k=u.pending;k===null?p.next=p:(p.next=k.next,k.next=p),u.pending=p}g!==0&&fm(a,p,g)}}function tu(e,r,a,u){lr[wa++]=e,lr[wa++]=r,lr[wa++]=a,lr[wa++]=u,Bf|=u,e.lanes|=u,e=e.alternate,e!==null&&(e.lanes|=u)}function Mf(e,r,a,u){return tu(e,r,a,u),nu(e)}function xs(e,r){return tu(e,null,null,r),nu(e)}function fm(e,r,a){e.lanes|=a;var u=e.alternate;u!==null&&(u.lanes|=a);for(var p=!1,g=e.return;g!==null;)g.childLanes|=a,u=g.alternate,u!==null&&(u.childLanes|=a),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(p=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,p&&r!==null&&(p=31-Ue(a),e=g.hiddenUpdates,u=e[p],u===null?e[p]=[r]:u.push(r),r.lane=a|536870912),g):null}function nu(e){if(50<tc)throw tc=0,Kd=null,Error(i(185));for(var r=e.return;r!==null;)e=r,r=e.return;return e.tag===3?e.stateNode:null}var va={};function HS(e,r,a,u){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(e,r,a,u){return new HS(e,r,a,u)}function Uf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ni(e,r){var a=e.alternate;return a===null?(a=Qn(e.tag,r,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=r,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,r=e.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function dm(e,r){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=r,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,r=a.dependencies,e.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),e}function ru(e,r,a,u,p,g){var k=0;if(u=e,typeof e=="function")Uf(e)&&(k=1);else if(typeof e=="string")k=VA(e,a,O.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case G:return e=Qn(31,a,r,p),e.elementType=G,e.lanes=g,e;case U:return Ts(a.children,p,g,r);case D:k=8,p|=24;break;case j:return e=Qn(12,a,r,p|2),e.elementType=j,e.lanes=g,e;case re:return e=Qn(13,a,r,p),e.elementType=re,e.lanes=g,e;case oe:return e=Qn(19,a,r,p),e.elementType=oe,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case V:k=10;break e;case F:k=9;break e;case W:k=11;break e;case ie:k=14;break e;case le:k=16,u=null;break e}k=29,a=Error(i(130,e===null?"null":typeof e,"")),u=null}return r=Qn(k,a,r,p),r.elementType=e,r.type=u,r.lanes=g,r}function Ts(e,r,a,u){return e=Qn(7,e,u,r),e.lanes=a,e}function Df(e,r,a){return e=Qn(6,e,null,r),e.lanes=a,e}function hm(e){var r=Qn(18,null,null,0);return r.stateNode=e,r}function Lf(e,r,a){return r=Qn(4,e.children!==null?e.children:[],e.key,r),r.lanes=a,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}var pm=new WeakMap;function fr(e,r){if(typeof e=="object"&&e!==null){var a=pm.get(e);return a!==void 0?a:(r={value:e,source:r,stack:Ze(r)},pm.set(e,r),r)}return{value:e,source:r,stack:Ze(r)}}var Ea=[],Sa=0,iu=null,Mo=0,dr=[],hr=0,Ui=null,Ur=1,Dr="";function ri(e,r){Ea[Sa++]=Mo,Ea[Sa++]=iu,iu=e,Mo=r}function mm(e,r,a){dr[hr++]=Ur,dr[hr++]=Dr,dr[hr++]=Ui,Ui=e;var u=Ur;e=Dr;var p=32-Ue(u)-1;u&=~(1<<p),a+=1;var g=32-Ue(r)+p;if(30<g){var k=p-p%5;g=(u&(1<<k)-1).toString(32),u>>=k,p-=k,Ur=1<<32-Ue(r)+p|a<<p|u,Dr=g+e}else Ur=1<<g|a<<p|u,Dr=e}function zf(e){e.return!==null&&(ri(e,1),mm(e,1,0))}function Hf(e){for(;e===iu;)iu=Ea[--Sa],Ea[Sa]=null,Mo=Ea[--Sa],Ea[Sa]=null;for(;e===Ui;)Ui=dr[--hr],dr[hr]=null,Dr=dr[--hr],dr[hr]=null,Ur=dr[--hr],dr[hr]=null}function ym(e,r){dr[hr++]=Ur,dr[hr++]=Dr,dr[hr++]=Ui,Ur=r.id,Dr=r.overflow,Ui=e}var Rn=null,jt=null,ft=!1,Di=null,pr=!1,jf=Error(i(519));function Li(e){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Uo(fr(r,e)),jf}function gm(e){var r=e.stateNode,a=e.type,u=e.memoizedProps;switch(r[it]=e,r[lt]=u,a){case"dialog":at("cancel",r),at("close",r);break;case"iframe":case"object":case"embed":at("load",r);break;case"video":case"audio":for(a=0;a<rc.length;a++)at(rc[a],r);break;case"source":at("error",r);break;case"img":case"image":case"link":at("error",r),at("load",r);break;case"details":at("toggle",r);break;case"input":at("invalid",r),kp(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":at("invalid",r);break;case"textarea":at("invalid",r),Cp(r,u.value,u.defaultValue,u.children)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||u.suppressHydrationWarning===!0||M1(r.textContent,a)?(u.popover!=null&&(at("beforetoggle",r),at("toggle",r)),u.onScroll!=null&&at("scroll",r),u.onScrollEnd!=null&&at("scrollend",r),u.onClick!=null&&(r.onclick=ei),r=!0):r=!1,r||Li(e,!0)}function bm(e){for(Rn=e.return;Rn;)switch(Rn.tag){case 5:case 31:case 13:pr=!1;return;case 27:case 3:pr=!0;return;default:Rn=Rn.return}}function Aa(e){if(e!==Rn)return!1;if(!ft)return bm(e),ft=!0,!1;var r=e.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||ih(e.type,e.memoizedProps)),a=!a),a&&jt&&Li(e),bm(e),r===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));jt=K1(e)}else if(r===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));jt=K1(e)}else r===27?(r=jt,Wi(e.type)?(e=uh,uh=null,jt=e):jt=r):jt=Rn?yr(e.stateNode.nextSibling):null;return!0}function Os(){jt=Rn=null,ft=!1}function Pf(){var e=Di;return e!==null&&(Gn===null?Gn=e:Gn.push.apply(Gn,e),Di=null),e}function Uo(e){Di===null?Di=[e]:Di.push(e)}var qf=m(null),Ns=null,ii=null;function zi(e,r,a){b(qf,r._currentValue),r._currentValue=a}function si(e){e._currentValue=qf.current,f(qf)}function Kf(e,r,a){for(;e!==null;){var u=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),e===a)break;e=e.return}}function Vf(e,r,a,u){var p=e.child;for(p!==null&&(p.return=e);p!==null;){var g=p.dependencies;if(g!==null){var k=p.child;g=g.firstContext;e:for(;g!==null;){var P=g;g=p;for(var J=0;J<r.length;J++)if(P.context===r[J]){g.lanes|=a,P=g.alternate,P!==null&&(P.lanes|=a),Kf(g.return,a,e),u||(k=null);break e}g=P.next}}else if(p.tag===18){if(k=p.return,k===null)throw Error(i(341));k.lanes|=a,g=k.alternate,g!==null&&(g.lanes|=a),Kf(k,a,e),k=null}else k=p.child;if(k!==null)k.return=p;else for(k=p;k!==null;){if(k===e){k=null;break}if(p=k.sibling,p!==null){p.return=k.return,k=p;break}k=k.return}p=k}}function Ra(e,r,a,u){e=null;for(var p=r,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var k=p.alternate;if(k===null)throw Error(i(387));if(k=k.memoizedProps,k!==null){var P=p.type;Wn(p.pendingProps.value,k.value)||(e!==null?e.push(P):e=[P])}}else if(p===ne.current){if(k=p.alternate,k===null)throw Error(i(387));k.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(e!==null?e.push(cc):e=[cc])}p=p.return}e!==null&&Vf(r,e,a,u),r.flags|=262144}function su(e){for(e=e.firstContext;e!==null;){if(!Wn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ks(e){Ns=e,ii=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function xn(e){return _m(Ns,e)}function au(e,r){return Ns===null&&ks(e),_m(e,r)}function _m(e,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},ii===null){if(e===null)throw Error(i(308));ii=r,e.dependencies={lanes:0,firstContext:r},e.flags|=524288}else ii=ii.next=r;return a}var jS=typeof AbortController<"u"?AbortController:function(){var e=[],r=this.signal={aborted:!1,addEventListener:function(a,u){e.push(u)}};this.abort=function(){r.aborted=!0,e.forEach(function(a){return a()})}},PS=s.unstable_scheduleCallback,qS=s.unstable_NormalPriority,pn={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gf(){return{controller:new jS,data:new Map,refCount:0}}function Do(e){e.refCount--,e.refCount===0&&PS(qS,function(){e.controller.abort()})}var Lo=null,Ff=0,xa=0,Ta=null;function KS(e,r){if(Lo===null){var a=Lo=[];Ff=0,xa=Xd(),Ta={status:"pending",value:void 0,then:function(u){a.push(u)}}}return Ff++,r.then(wm,wm),r}function wm(){if(--Ff===0&&Lo!==null){Ta!==null&&(Ta.status="fulfilled");var e=Lo;Lo=null,xa=0,Ta=null;for(var r=0;r<e.length;r++)(0,e[r])()}}function VS(e,r){var a=[],u={status:"pending",value:null,reason:null,then:function(p){a.push(p)}};return e.then(function(){u.status="fulfilled",u.value=r;for(var p=0;p<a.length;p++)(0,a[p])(r)},function(p){for(u.status="rejected",u.reason=p,p=0;p<a.length;p++)(0,a[p])(void 0)}),u}var vm=S.S;S.S=function(e,r){i1=qe(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&KS(e,r),vm!==null&&vm(e,r)};var Is=m(null);function Yf(){var e=Is.current;return e!==null?e:It.pooledCache}function ou(e,r){r===null?b(Is,Is.current):b(Is,r.pool)}function Em(){var e=Yf();return e===null?null:{parent:pn._currentValue,pool:e}}var Oa=Error(i(460)),Zf=Error(i(474)),cu=Error(i(542)),uu={then:function(){}};function Sm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Am(e,r,a){switch(a=e[a],a===void 0?e.push(r):a!==r&&(r.then(ei,ei),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,xm(e),e;default:if(typeof r.status=="string")r.then(ei,ei);else{if(e=It,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=r,e.status="pending",e.then(function(u){if(r.status==="pending"){var p=r;p.status="fulfilled",p.value=u}},function(u){if(r.status==="pending"){var p=r;p.status="rejected",p.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,xm(e),e}throw Bs=r,Oa}}function Cs(e){try{var r=e._init;return r(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Bs=a,Oa):a}}var Bs=null;function Rm(){if(Bs===null)throw Error(i(459));var e=Bs;return Bs=null,e}function xm(e){if(e===Oa||e===cu)throw Error(i(483))}var Na=null,zo=0;function lu(e){var r=zo;return zo+=1,Na===null&&(Na=[]),Am(Na,e,r)}function Ho(e,r){r=r.props.ref,e.ref=r!==void 0?r:null}function fu(e,r){throw r.$$typeof===I?Error(i(525)):(e=Object.prototype.toString.call(r),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)))}function Tm(e){function r(ae,ee){if(e){var fe=ae.deletions;fe===null?(ae.deletions=[ee],ae.flags|=16):fe.push(ee)}}function a(ae,ee){if(!e)return null;for(;ee!==null;)r(ae,ee),ee=ee.sibling;return null}function u(ae){for(var ee=new Map;ae!==null;)ae.key!==null?ee.set(ae.key,ae):ee.set(ae.index,ae),ae=ae.sibling;return ee}function p(ae,ee){return ae=ni(ae,ee),ae.index=0,ae.sibling=null,ae}function g(ae,ee,fe){return ae.index=fe,e?(fe=ae.alternate,fe!==null?(fe=fe.index,fe<ee?(ae.flags|=67108866,ee):fe):(ae.flags|=67108866,ee)):(ae.flags|=1048576,ee)}function k(ae){return e&&ae.alternate===null&&(ae.flags|=67108866),ae}function P(ae,ee,fe,we){return ee===null||ee.tag!==6?(ee=Df(fe,ae.mode,we),ee.return=ae,ee):(ee=p(ee,fe),ee.return=ae,ee)}function J(ae,ee,fe,we){var He=fe.type;return He===U?_e(ae,ee,fe.props.children,we,fe.key):ee!==null&&(ee.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===le&&Cs(He)===ee.type)?(ee=p(ee,fe.props),Ho(ee,fe),ee.return=ae,ee):(ee=ru(fe.type,fe.key,fe.props,null,ae.mode,we),Ho(ee,fe),ee.return=ae,ee)}function de(ae,ee,fe,we){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==fe.containerInfo||ee.stateNode.implementation!==fe.implementation?(ee=Lf(fe,ae.mode,we),ee.return=ae,ee):(ee=p(ee,fe.children||[]),ee.return=ae,ee)}function _e(ae,ee,fe,we,He){return ee===null||ee.tag!==7?(ee=Ts(fe,ae.mode,we,He),ee.return=ae,ee):(ee=p(ee,fe),ee.return=ae,ee)}function Ee(ae,ee,fe){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return ee=Df(""+ee,ae.mode,fe),ee.return=ae,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case R:return fe=ru(ee.type,ee.key,ee.props,null,ae.mode,fe),Ho(fe,ee),fe.return=ae,fe;case M:return ee=Lf(ee,ae.mode,fe),ee.return=ae,ee;case le:return ee=Cs(ee),Ee(ae,ee,fe)}if(w(ee)||$(ee))return ee=Ts(ee,ae.mode,fe,null),ee.return=ae,ee;if(typeof ee.then=="function")return Ee(ae,lu(ee),fe);if(ee.$$typeof===V)return Ee(ae,au(ae,ee),fe);fu(ae,ee)}return null}function me(ae,ee,fe,we){var He=ee!==null?ee.key:null;if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return He!==null?null:P(ae,ee,""+fe,we);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case R:return fe.key===He?J(ae,ee,fe,we):null;case M:return fe.key===He?de(ae,ee,fe,we):null;case le:return fe=Cs(fe),me(ae,ee,fe,we)}if(w(fe)||$(fe))return He!==null?null:_e(ae,ee,fe,we,null);if(typeof fe.then=="function")return me(ae,ee,lu(fe),we);if(fe.$$typeof===V)return me(ae,ee,au(ae,fe),we);fu(ae,fe)}return null}function be(ae,ee,fe,we,He){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return ae=ae.get(fe)||null,P(ee,ae,""+we,He);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case R:return ae=ae.get(we.key===null?fe:we.key)||null,J(ee,ae,we,He);case M:return ae=ae.get(we.key===null?fe:we.key)||null,de(ee,ae,we,He);case le:return we=Cs(we),be(ae,ee,fe,we,He)}if(w(we)||$(we))return ae=ae.get(fe)||null,_e(ee,ae,we,He,null);if(typeof we.then=="function")return be(ae,ee,fe,lu(we),He);if(we.$$typeof===V)return be(ae,ee,fe,au(ee,we),He);fu(ee,we)}return null}function Me(ae,ee,fe,we){for(var He=null,yt=null,De=ee,Je=ee=0,ut=null;De!==null&&Je<fe.length;Je++){De.index>Je?(ut=De,De=null):ut=De.sibling;var gt=me(ae,De,fe[Je],we);if(gt===null){De===null&&(De=ut);break}e&&De&&gt.alternate===null&&r(ae,De),ee=g(gt,ee,Je),yt===null?He=gt:yt.sibling=gt,yt=gt,De=ut}if(Je===fe.length)return a(ae,De),ft&&ri(ae,Je),He;if(De===null){for(;Je<fe.length;Je++)De=Ee(ae,fe[Je],we),De!==null&&(ee=g(De,ee,Je),yt===null?He=De:yt.sibling=De,yt=De);return ft&&ri(ae,Je),He}for(De=u(De);Je<fe.length;Je++)ut=be(De,ae,Je,fe[Je],we),ut!==null&&(e&&ut.alternate!==null&&De.delete(ut.key===null?Je:ut.key),ee=g(ut,ee,Je),yt===null?He=ut:yt.sibling=ut,yt=ut);return e&&De.forEach(function(ns){return r(ae,ns)}),ft&&ri(ae,Je),He}function Ve(ae,ee,fe,we){if(fe==null)throw Error(i(151));for(var He=null,yt=null,De=ee,Je=ee=0,ut=null,gt=fe.next();De!==null&&!gt.done;Je++,gt=fe.next()){De.index>Je?(ut=De,De=null):ut=De.sibling;var ns=me(ae,De,gt.value,we);if(ns===null){De===null&&(De=ut);break}e&&De&&ns.alternate===null&&r(ae,De),ee=g(ns,ee,Je),yt===null?He=ns:yt.sibling=ns,yt=ns,De=ut}if(gt.done)return a(ae,De),ft&&ri(ae,Je),He;if(De===null){for(;!gt.done;Je++,gt=fe.next())gt=Ee(ae,gt.value,we),gt!==null&&(ee=g(gt,ee,Je),yt===null?He=gt:yt.sibling=gt,yt=gt);return ft&&ri(ae,Je),He}for(De=u(De);!gt.done;Je++,gt=fe.next())gt=be(De,ae,Je,gt.value,we),gt!==null&&(e&&gt.alternate!==null&&De.delete(gt.key===null?Je:gt.key),ee=g(gt,ee,Je),yt===null?He=gt:yt.sibling=gt,yt=gt);return e&&De.forEach(function(tR){return r(ae,tR)}),ft&&ri(ae,Je),He}function Nt(ae,ee,fe,we){if(typeof fe=="object"&&fe!==null&&fe.type===U&&fe.key===null&&(fe=fe.props.children),typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case R:e:{for(var He=fe.key;ee!==null;){if(ee.key===He){if(He=fe.type,He===U){if(ee.tag===7){a(ae,ee.sibling),we=p(ee,fe.props.children),we.return=ae,ae=we;break e}}else if(ee.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===le&&Cs(He)===ee.type){a(ae,ee.sibling),we=p(ee,fe.props),Ho(we,fe),we.return=ae,ae=we;break e}a(ae,ee);break}else r(ae,ee);ee=ee.sibling}fe.type===U?(we=Ts(fe.props.children,ae.mode,we,fe.key),we.return=ae,ae=we):(we=ru(fe.type,fe.key,fe.props,null,ae.mode,we),Ho(we,fe),we.return=ae,ae=we)}return k(ae);case M:e:{for(He=fe.key;ee!==null;){if(ee.key===He)if(ee.tag===4&&ee.stateNode.containerInfo===fe.containerInfo&&ee.stateNode.implementation===fe.implementation){a(ae,ee.sibling),we=p(ee,fe.children||[]),we.return=ae,ae=we;break e}else{a(ae,ee);break}else r(ae,ee);ee=ee.sibling}we=Lf(fe,ae.mode,we),we.return=ae,ae=we}return k(ae);case le:return fe=Cs(fe),Nt(ae,ee,fe,we)}if(w(fe))return Me(ae,ee,fe,we);if($(fe)){if(He=$(fe),typeof He!="function")throw Error(i(150));return fe=He.call(fe),Ve(ae,ee,fe,we)}if(typeof fe.then=="function")return Nt(ae,ee,lu(fe),we);if(fe.$$typeof===V)return Nt(ae,ee,au(ae,fe),we);fu(ae,fe)}return typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint"?(fe=""+fe,ee!==null&&ee.tag===6?(a(ae,ee.sibling),we=p(ee,fe),we.return=ae,ae=we):(a(ae,ee),we=Df(fe,ae.mode,we),we.return=ae,ae=we),k(ae)):a(ae,ee)}return function(ae,ee,fe,we){try{zo=0;var He=Nt(ae,ee,fe,we);return Na=null,He}catch(De){if(De===Oa||De===cu)throw De;var yt=Qn(29,De,null,ae.mode);return yt.lanes=we,yt.return=ae,yt}}}var Ms=Tm(!0),Om=Tm(!1),Hi=!1;function Xf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $f(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ji(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Pi(e,r,a){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,(vt&2)!==0){var p=u.pending;return p===null?r.next=r:(r.next=p.next,p.next=r),u.pending=r,r=nu(e),fm(e,null,a),r}return tu(e,u,r,a),nu(e)}function jo(e,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var u=r.lanes;u&=e.pendingLanes,a|=u,r.lanes=a,vo(e,a)}}function Wf(e,r){var a=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var p=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var k={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};g===null?p=g=k:g=g.next=k,a=a.next}while(a!==null);g===null?p=g=r:g=g.next=r}else p=g=r;a={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=r:e.next=r,a.lastBaseUpdate=r}var Qf=!1;function Po(){if(Qf){var e=Ta;if(e!==null)throw e}}function qo(e,r,a,u){Qf=!1;var p=e.updateQueue;Hi=!1;var g=p.firstBaseUpdate,k=p.lastBaseUpdate,P=p.shared.pending;if(P!==null){p.shared.pending=null;var J=P,de=J.next;J.next=null,k===null?g=de:k.next=de,k=J;var _e=e.alternate;_e!==null&&(_e=_e.updateQueue,P=_e.lastBaseUpdate,P!==k&&(P===null?_e.firstBaseUpdate=de:P.next=de,_e.lastBaseUpdate=J))}if(g!==null){var Ee=p.baseState;k=0,_e=de=J=null,P=g;do{var me=P.lane&-536870913,be=me!==P.lane;if(be?(ct&me)===me:(u&me)===me){me!==0&&me===xa&&(Qf=!0),_e!==null&&(_e=_e.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var Me=e,Ve=P;me=r;var Nt=a;switch(Ve.tag){case 1:if(Me=Ve.payload,typeof Me=="function"){Ee=Me.call(Nt,Ee,me);break e}Ee=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=Ve.payload,me=typeof Me=="function"?Me.call(Nt,Ee,me):Me,me==null)break e;Ee=C({},Ee,me);break e;case 2:Hi=!0}}me=P.callback,me!==null&&(e.flags|=64,be&&(e.flags|=8192),be=p.callbacks,be===null?p.callbacks=[me]:be.push(me))}else be={lane:me,tag:P.tag,payload:P.payload,callback:P.callback,next:null},_e===null?(de=_e=be,J=Ee):_e=_e.next=be,k|=me;if(P=P.next,P===null){if(P=p.shared.pending,P===null)break;be=P,P=be.next,be.next=null,p.lastBaseUpdate=be,p.shared.pending=null}}while(!0);_e===null&&(J=Ee),p.baseState=J,p.firstBaseUpdate=de,p.lastBaseUpdate=_e,g===null&&(p.shared.lanes=0),Fi|=k,e.lanes=k,e.memoizedState=Ee}}function Nm(e,r){if(typeof e!="function")throw Error(i(191,e));e.call(r)}function km(e,r){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Nm(a[e],r)}var ka=m(null),du=m(0);function Im(e,r){e=pi,b(du,e),b(ka,r),pi=e|r.baseLanes}function Jf(){b(du,pi),b(ka,ka.current)}function ed(){pi=du.current,f(ka),f(du)}var Jn=m(null),mr=null;function qi(e){var r=e.alternate;b(ln,ln.current&1),b(Jn,e),mr===null&&(r===null||ka.current!==null||r.memoizedState!==null)&&(mr=e)}function td(e){b(ln,ln.current),b(Jn,e),mr===null&&(mr=e)}function Cm(e){e.tag===22?(b(ln,ln.current),b(Jn,e),mr===null&&(mr=e)):Ki()}function Ki(){b(ln,ln.current),b(Jn,Jn.current)}function er(e){f(Jn),mr===e&&(mr=null),f(ln)}var ln=m(0);function hu(e){for(var r=e;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||oh(a)||ch(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ai=0,Qe=null,Tt=null,mn=null,pu=!1,Ia=!1,Us=!1,mu=0,Ko=0,Ca=null,GS=0;function an(){throw Error(i(321))}function nd(e,r){if(r===null)return!1;for(var a=0;a<r.length&&a<e.length;a++)if(!Wn(e[a],r[a]))return!1;return!0}function rd(e,r,a,u,p,g){return ai=g,Qe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,S.H=e===null||e.memoizedState===null?my:bd,Us=!1,g=a(u,p),Us=!1,Ia&&(g=Mm(r,a,u,p)),Bm(e),g}function Bm(e){S.H=Fo;var r=Tt!==null&&Tt.next!==null;if(ai=0,mn=Tt=Qe=null,pu=!1,Ko=0,Ca=null,r)throw Error(i(300));e===null||yn||(e=e.dependencies,e!==null&&su(e)&&(yn=!0))}function Mm(e,r,a,u){Qe=e;var p=0;do{if(Ia&&(Ca=null),Ko=0,Ia=!1,25<=p)throw Error(i(301));if(p+=1,mn=Tt=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}S.H=yy,g=r(a,u)}while(Ia);return g}function FS(){var e=S.H,r=e.useState()[0];return r=typeof r.then=="function"?Vo(r):r,e=e.useState()[0],(Tt!==null?Tt.memoizedState:null)!==e&&(Qe.flags|=1024),r}function id(){var e=mu!==0;return mu=0,e}function sd(e,r,a){r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~a}function ad(e){if(pu){for(e=e.memoizedState;e!==null;){var r=e.queue;r!==null&&(r.pending=null),e=e.next}pu=!1}ai=0,mn=Tt=Qe=null,Ia=!1,Ko=mu=0,Ca=null}function Hn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?Qe.memoizedState=mn=e:mn=mn.next=e,mn}function fn(){if(Tt===null){var e=Qe.alternate;e=e!==null?e.memoizedState:null}else e=Tt.next;var r=mn===null?Qe.memoizedState:mn.next;if(r!==null)mn=r,Tt=e;else{if(e===null)throw Qe.alternate===null?Error(i(467)):Error(i(310));Tt=e,e={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},mn===null?Qe.memoizedState=mn=e:mn=mn.next=e}return mn}function yu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vo(e){var r=Ko;return Ko+=1,Ca===null&&(Ca=[]),e=Am(Ca,e,r),r=Qe,(mn===null?r.memoizedState:mn.next)===null&&(r=r.alternate,S.H=r===null||r.memoizedState===null?my:bd),e}function gu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Vo(e);if(e.$$typeof===V)return xn(e)}throw Error(i(438,String(e)))}function od(e){var r=null,a=Qe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var u=Qe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(p){return p.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=yu(),Qe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(e),u=0;u<e;u++)a[u]=Y;return r.index++,a}function oi(e,r){return typeof r=="function"?r(e):r}function bu(e){var r=fn();return cd(r,Tt,e)}function cd(e,r,a){var u=e.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=a;var p=e.baseQueue,g=u.pending;if(g!==null){if(p!==null){var k=p.next;p.next=g.next,g.next=k}r.baseQueue=p=g,u.pending=null}if(g=e.baseState,p===null)e.memoizedState=g;else{r=p.next;var P=k=null,J=null,de=r,_e=!1;do{var Ee=de.lane&-536870913;if(Ee!==de.lane?(ct&Ee)===Ee:(ai&Ee)===Ee){var me=de.revertLane;if(me===0)J!==null&&(J=J.next={lane:0,revertLane:0,gesture:null,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),Ee===xa&&(_e=!0);else if((ai&me)===me){de=de.next,me===xa&&(_e=!0);continue}else Ee={lane:0,revertLane:de.revertLane,gesture:null,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},J===null?(P=J=Ee,k=g):J=J.next=Ee,Qe.lanes|=me,Fi|=me;Ee=de.action,Us&&a(g,Ee),g=de.hasEagerState?de.eagerState:a(g,Ee)}else me={lane:Ee,revertLane:de.revertLane,gesture:de.gesture,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},J===null?(P=J=me,k=g):J=J.next=me,Qe.lanes|=Ee,Fi|=Ee;de=de.next}while(de!==null&&de!==r);if(J===null?k=g:J.next=P,!Wn(g,e.memoizedState)&&(yn=!0,_e&&(a=Ta,a!==null)))throw a;e.memoizedState=g,e.baseState=k,e.baseQueue=J,u.lastRenderedState=g}return p===null&&(u.lanes=0),[e.memoizedState,u.dispatch]}function ud(e){var r=fn(),a=r.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=e;var u=a.dispatch,p=a.pending,g=r.memoizedState;if(p!==null){a.pending=null;var k=p=p.next;do g=e(g,k.action),k=k.next;while(k!==p);Wn(g,r.memoizedState)||(yn=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),a.lastRenderedState=g}return[g,u]}function Um(e,r,a){var u=Qe,p=fn(),g=ft;if(g){if(a===void 0)throw Error(i(407));a=a()}else a=r();var k=!Wn((Tt||p).memoizedState,a);if(k&&(p.memoizedState=a,yn=!0),p=p.queue,dd(zm.bind(null,u,p,e),[e]),p.getSnapshot!==r||k||mn!==null&&mn.memoizedState.tag&1){if(u.flags|=2048,Ba(9,{destroy:void 0},Lm.bind(null,u,p,a,r),null),It===null)throw Error(i(349));g||(ai&127)!==0||Dm(u,r,a)}return a}function Dm(e,r,a){e.flags|=16384,e={getSnapshot:r,value:a},r=Qe.updateQueue,r===null?(r=yu(),Qe.updateQueue=r,r.stores=[e]):(a=r.stores,a===null?r.stores=[e]:a.push(e))}function Lm(e,r,a,u){r.value=a,r.getSnapshot=u,Hm(r)&&jm(e)}function zm(e,r,a){return a(function(){Hm(r)&&jm(e)})}function Hm(e){var r=e.getSnapshot;e=e.value;try{var a=r();return!Wn(e,a)}catch{return!0}}function jm(e){var r=xs(e,2);r!==null&&Fn(r,e,2)}function ld(e){var r=Hn();if(typeof e=="function"){var a=e;if(e=a(),Us){Ke(!0);try{a()}finally{Ke(!1)}}}return r.memoizedState=r.baseState=e,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:e},r}function Pm(e,r,a,u){return e.baseState=a,cd(e,Tt,typeof u=="function"?u:oi)}function YS(e,r,a,u,p){if(vu(e))throw Error(i(485));if(e=r.action,e!==null){var g={payload:p,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){g.listeners.push(k)}};S.T!==null?a(!0):g.isTransition=!1,u(g),a=r.pending,a===null?(g.next=r.pending=g,qm(r,g)):(g.next=a.next,r.pending=a.next=g)}}function qm(e,r){var a=r.action,u=r.payload,p=e.state;if(r.isTransition){var g=S.T,k={};S.T=k;try{var P=a(p,u),J=S.S;J!==null&&J(k,P),Km(e,r,P)}catch(de){fd(e,r,de)}finally{g!==null&&k.types!==null&&(g.types=k.types),S.T=g}}else try{g=a(p,u),Km(e,r,g)}catch(de){fd(e,r,de)}}function Km(e,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){Vm(e,r,u)},function(u){return fd(e,r,u)}):Vm(e,r,a)}function Vm(e,r,a){r.status="fulfilled",r.value=a,Gm(r),e.state=a,r=e.pending,r!==null&&(a=r.next,a===r?e.pending=null:(a=a.next,r.next=a,qm(e,a)))}function fd(e,r,a){var u=e.pending;if(e.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=a,Gm(r),r=r.next;while(r!==u)}e.action=null}function Gm(e){e=e.listeners;for(var r=0;r<e.length;r++)(0,e[r])()}function Fm(e,r){return r}function Ym(e,r){if(ft){var a=It.formState;if(a!==null){e:{var u=Qe;if(ft){if(jt){t:{for(var p=jt,g=pr;p.nodeType!==8;){if(!g){p=null;break t}if(p=yr(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){jt=yr(p.nextSibling),u=p.data==="F!";break e}}Li(u)}u=!1}u&&(r=a[0])}}return a=Hn(),a.memoizedState=a.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fm,lastRenderedState:r},a.queue=u,a=dy.bind(null,Qe,u),u.dispatch=a,u=ld(!1),g=gd.bind(null,Qe,!1,u.queue),u=Hn(),p={state:r,dispatch:null,action:e,pending:null},u.queue=p,a=YS.bind(null,Qe,p,g,a),p.dispatch=a,u.memoizedState=e,[r,a,!1]}function Zm(e){var r=fn();return Xm(r,Tt,e)}function Xm(e,r,a){if(r=cd(e,r,Fm)[0],e=bu(oi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Vo(r)}catch(k){throw k===Oa?cu:k}else u=r;r=fn();var p=r.queue,g=p.dispatch;return a!==r.memoizedState&&(Qe.flags|=2048,Ba(9,{destroy:void 0},ZS.bind(null,p,a),null)),[u,g,e]}function ZS(e,r){e.action=r}function $m(e){var r=fn(),a=Tt;if(a!==null)return Xm(r,a,e);fn(),r=r.memoizedState,a=fn();var u=a.queue.dispatch;return a.memoizedState=e,[r,u,!1]}function Ba(e,r,a,u){return e={tag:e,create:a,deps:u,inst:r,next:null},r=Qe.updateQueue,r===null&&(r=yu(),Qe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=e.next=e:(u=a.next,a.next=e,e.next=u,r.lastEffect=e),e}function Wm(){return fn().memoizedState}function _u(e,r,a,u){var p=Hn();Qe.flags|=e,p.memoizedState=Ba(1|r,{destroy:void 0},a,u===void 0?null:u)}function wu(e,r,a,u){var p=fn();u=u===void 0?null:u;var g=p.memoizedState.inst;Tt!==null&&u!==null&&nd(u,Tt.memoizedState.deps)?p.memoizedState=Ba(r,g,a,u):(Qe.flags|=e,p.memoizedState=Ba(1|r,g,a,u))}function Qm(e,r){_u(8390656,8,e,r)}function dd(e,r){wu(2048,8,e,r)}function XS(e){Qe.flags|=4;var r=Qe.updateQueue;if(r===null)r=yu(),Qe.updateQueue=r,r.events=[e];else{var a=r.events;a===null?r.events=[e]:a.push(e)}}function Jm(e){var r=fn().memoizedState;return XS({ref:r,nextImpl:e}),function(){if((vt&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function ey(e,r){return wu(4,2,e,r)}function ty(e,r){return wu(4,4,e,r)}function ny(e,r){if(typeof r=="function"){e=e();var a=r(e);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function ry(e,r,a){a=a!=null?a.concat([e]):null,wu(4,4,ny.bind(null,r,e),a)}function hd(){}function iy(e,r){var a=fn();r=r===void 0?null:r;var u=a.memoizedState;return r!==null&&nd(r,u[1])?u[0]:(a.memoizedState=[e,r],e)}function sy(e,r){var a=fn();r=r===void 0?null:r;var u=a.memoizedState;if(r!==null&&nd(r,u[1]))return u[0];if(u=e(),Us){Ke(!0);try{e()}finally{Ke(!1)}}return a.memoizedState=[u,r],u}function pd(e,r,a){return a===void 0||(ai&1073741824)!==0&&(ct&261930)===0?e.memoizedState=r:(e.memoizedState=a,e=a1(),Qe.lanes|=e,Fi|=e,a)}function ay(e,r,a,u){return Wn(a,r)?a:ka.current!==null?(e=pd(e,a,u),Wn(e,r)||(yn=!0),e):(ai&42)===0||(ai&1073741824)!==0&&(ct&261930)===0?(yn=!0,e.memoizedState=a):(e=a1(),Qe.lanes|=e,Fi|=e,r)}function oy(e,r,a,u,p){var g=N.p;N.p=g!==0&&8>g?g:8;var k=S.T,P={};S.T=P,gd(e,!1,r,a);try{var J=p(),de=S.S;if(de!==null&&de(P,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var _e=VS(J,u);Go(e,r,_e,rr(e))}else Go(e,r,u,rr(e))}catch(Ee){Go(e,r,{then:function(){},status:"rejected",reason:Ee},rr())}finally{N.p=g,k!==null&&P.types!==null&&(k.types=P.types),S.T=k}}function $S(){}function md(e,r,a,u){if(e.tag!==5)throw Error(i(476));var p=cy(e).queue;oy(e,p,r,L,a===null?$S:function(){return uy(e),a(u)})}function cy(e){var r=e.memoizedState;if(r!==null)return r;r={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:L},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:a},next:null},e.memoizedState=r,e=e.alternate,e!==null&&(e.memoizedState=r),r}function uy(e){var r=cy(e);r.next===null&&(r=e.alternate.memoizedState),Go(e,r.next.queue,{},rr())}function yd(){return xn(cc)}function ly(){return fn().memoizedState}function fy(){return fn().memoizedState}function WS(e){for(var r=e.return;r!==null;){switch(r.tag){case 24:case 3:var a=rr();e=ji(a);var u=Pi(r,e,a);u!==null&&(Fn(u,r,a),jo(u,r,a)),r={cache:Gf()},e.payload=r;return}r=r.return}}function QS(e,r,a){var u=rr();a={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},vu(e)?hy(r,a):(a=Mf(e,r,a,u),a!==null&&(Fn(a,e,u),py(a,r,u)))}function dy(e,r,a){var u=rr();Go(e,r,a,u)}function Go(e,r,a,u){var p={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(vu(e))hy(r,p);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var k=r.lastRenderedState,P=g(k,a);if(p.hasEagerState=!0,p.eagerState=P,Wn(P,k))return tu(e,r,p,0),It===null&&eu(),!1}catch{}if(a=Mf(e,r,p,u),a!==null)return Fn(a,e,u),py(a,r,u),!0}return!1}function gd(e,r,a,u){if(u={lane:2,revertLane:Xd(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},vu(e)){if(r)throw Error(i(479))}else r=Mf(e,a,u,2),r!==null&&Fn(r,e,2)}function vu(e){var r=e.alternate;return e===Qe||r!==null&&r===Qe}function hy(e,r){Ia=pu=!0;var a=e.pending;a===null?r.next=r:(r.next=a.next,a.next=r),e.pending=r}function py(e,r,a){if((a&4194048)!==0){var u=r.lanes;u&=e.pendingLanes,a|=u,r.lanes=a,vo(e,a)}}var Fo={readContext:xn,use:gu,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useLayoutEffect:an,useInsertionEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useSyncExternalStore:an,useId:an,useHostTransitionStatus:an,useFormState:an,useActionState:an,useOptimistic:an,useMemoCache:an,useCacheRefresh:an};Fo.useEffectEvent=an;var my={readContext:xn,use:gu,useCallback:function(e,r){return Hn().memoizedState=[e,r===void 0?null:r],e},useContext:xn,useEffect:Qm,useImperativeHandle:function(e,r,a){a=a!=null?a.concat([e]):null,_u(4194308,4,ny.bind(null,r,e),a)},useLayoutEffect:function(e,r){return _u(4194308,4,e,r)},useInsertionEffect:function(e,r){_u(4,2,e,r)},useMemo:function(e,r){var a=Hn();r=r===void 0?null:r;var u=e();if(Us){Ke(!0);try{e()}finally{Ke(!1)}}return a.memoizedState=[u,r],u},useReducer:function(e,r,a){var u=Hn();if(a!==void 0){var p=a(r);if(Us){Ke(!0);try{a(r)}finally{Ke(!1)}}}else p=r;return u.memoizedState=u.baseState=p,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:p},u.queue=e,e=e.dispatch=QS.bind(null,Qe,e),[u.memoizedState,e]},useRef:function(e){var r=Hn();return e={current:e},r.memoizedState=e},useState:function(e){e=ld(e);var r=e.queue,a=dy.bind(null,Qe,r);return r.dispatch=a,[e.memoizedState,a]},useDebugValue:hd,useDeferredValue:function(e,r){var a=Hn();return pd(a,e,r)},useTransition:function(){var e=ld(!1);return e=oy.bind(null,Qe,e.queue,!0,!1),Hn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,r,a){var u=Qe,p=Hn();if(ft){if(a===void 0)throw Error(i(407));a=a()}else{if(a=r(),It===null)throw Error(i(349));(ct&127)!==0||Dm(u,r,a)}p.memoizedState=a;var g={value:a,getSnapshot:r};return p.queue=g,Qm(zm.bind(null,u,g,e),[e]),u.flags|=2048,Ba(9,{destroy:void 0},Lm.bind(null,u,g,a,r),null),a},useId:function(){var e=Hn(),r=It.identifierPrefix;if(ft){var a=Dr,u=Ur;a=(u&~(1<<32-Ue(u)-1)).toString(32)+a,r="_"+r+"R_"+a,a=mu++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=GS++,r="_"+r+"r_"+a.toString(32)+"_";return e.memoizedState=r},useHostTransitionStatus:yd,useFormState:Ym,useActionState:Ym,useOptimistic:function(e){var r=Hn();r.memoizedState=r.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=gd.bind(null,Qe,!0,a),a.dispatch=r,[e,r]},useMemoCache:od,useCacheRefresh:function(){return Hn().memoizedState=WS.bind(null,Qe)},useEffectEvent:function(e){var r=Hn(),a={impl:e};return r.memoizedState=a,function(){if((vt&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},bd={readContext:xn,use:gu,useCallback:iy,useContext:xn,useEffect:dd,useImperativeHandle:ry,useInsertionEffect:ey,useLayoutEffect:ty,useMemo:sy,useReducer:bu,useRef:Wm,useState:function(){return bu(oi)},useDebugValue:hd,useDeferredValue:function(e,r){var a=fn();return ay(a,Tt.memoizedState,e,r)},useTransition:function(){var e=bu(oi)[0],r=fn().memoizedState;return[typeof e=="boolean"?e:Vo(e),r]},useSyncExternalStore:Um,useId:ly,useHostTransitionStatus:yd,useFormState:Zm,useActionState:Zm,useOptimistic:function(e,r){var a=fn();return Pm(a,Tt,e,r)},useMemoCache:od,useCacheRefresh:fy};bd.useEffectEvent=Jm;var yy={readContext:xn,use:gu,useCallback:iy,useContext:xn,useEffect:dd,useImperativeHandle:ry,useInsertionEffect:ey,useLayoutEffect:ty,useMemo:sy,useReducer:ud,useRef:Wm,useState:function(){return ud(oi)},useDebugValue:hd,useDeferredValue:function(e,r){var a=fn();return Tt===null?pd(a,e,r):ay(a,Tt.memoizedState,e,r)},useTransition:function(){var e=ud(oi)[0],r=fn().memoizedState;return[typeof e=="boolean"?e:Vo(e),r]},useSyncExternalStore:Um,useId:ly,useHostTransitionStatus:yd,useFormState:$m,useActionState:$m,useOptimistic:function(e,r){var a=fn();return Tt!==null?Pm(a,Tt,e,r):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:od,useCacheRefresh:fy};yy.useEffectEvent=Jm;function _d(e,r,a,u){r=e.memoizedState,a=a(u,r),a=a==null?r:C({},r,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var wd={enqueueSetState:function(e,r,a){e=e._reactInternals;var u=rr(),p=ji(u);p.payload=r,a!=null&&(p.callback=a),r=Pi(e,p,u),r!==null&&(Fn(r,e,u),jo(r,e,u))},enqueueReplaceState:function(e,r,a){e=e._reactInternals;var u=rr(),p=ji(u);p.tag=1,p.payload=r,a!=null&&(p.callback=a),r=Pi(e,p,u),r!==null&&(Fn(r,e,u),jo(r,e,u))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var a=rr(),u=ji(a);u.tag=2,r!=null&&(u.callback=r),r=Pi(e,u,a),r!==null&&(Fn(r,e,a),jo(r,e,a))}};function gy(e,r,a,u,p,g,k){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,g,k):r.prototype&&r.prototype.isPureReactComponent?!Co(a,u)||!Co(p,g):!0}function by(e,r,a,u){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,u),r.state!==e&&wd.enqueueReplaceState(r,r.state,null)}function Ds(e,r){var a=r;if("ref"in r){a={};for(var u in r)u!=="ref"&&(a[u]=r[u])}if(e=e.defaultProps){a===r&&(a=C({},a));for(var p in e)a[p]===void 0&&(a[p]=e[p])}return a}function _y(e){Jc(e)}function wy(e){console.error(e)}function vy(e){Jc(e)}function Eu(e,r){try{var a=e.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Ey(e,r,a){try{var u=e.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function vd(e,r,a){return a=ji(a),a.tag=3,a.payload={element:null},a.callback=function(){Eu(e,r)},a}function Sy(e){return e=ji(e),e.tag=3,e}function Ay(e,r,a,u){var p=a.type.getDerivedStateFromError;if(typeof p=="function"){var g=u.value;e.payload=function(){return p(g)},e.callback=function(){Ey(r,a,u)}}var k=a.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(e.callback=function(){Ey(r,a,u),typeof p!="function"&&(Yi===null?Yi=new Set([this]):Yi.add(this));var P=u.stack;this.componentDidCatch(u.value,{componentStack:P!==null?P:""})})}function JS(e,r,a,u,p){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=a.alternate,r!==null&&Ra(r,a,p,!0),a=Jn.current,a!==null){switch(a.tag){case 31:case 13:return mr===null?Mu():a.alternate===null&&on===0&&(on=3),a.flags&=-257,a.flags|=65536,a.lanes=p,u===uu?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([u]):r.add(u),Fd(e,u,p)),!1;case 22:return a.flags|=65536,u===uu?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([u]):a.add(u)),Fd(e,u,p)),!1}throw Error(i(435,a.tag))}return Fd(e,u,p),Mu(),!1}if(ft)return r=Jn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=p,u!==jf&&(e=Error(i(422),{cause:u}),Uo(fr(e,a)))):(u!==jf&&(r=Error(i(423),{cause:u}),Uo(fr(r,a))),e=e.current.alternate,e.flags|=65536,p&=-p,e.lanes|=p,u=fr(u,a),p=vd(e.stateNode,u,p),Wf(e,p),on!==4&&(on=2)),!1;var g=Error(i(520),{cause:u});if(g=fr(g,a),ec===null?ec=[g]:ec.push(g),on!==4&&(on=2),r===null)return!0;u=fr(u,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,e=p&-p,a.lanes|=e,e=vd(a.stateNode,u,e),Wf(a,e),!1;case 1:if(r=a.type,g=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Yi===null||!Yi.has(g))))return a.flags|=65536,p&=-p,a.lanes|=p,p=Sy(p),Ay(p,e,a,u),Wf(a,p),!1}a=a.return}while(a!==null);return!1}var Ed=Error(i(461)),yn=!1;function Tn(e,r,a,u){r.child=e===null?Om(r,null,a,u):Ms(r,e.child,a,u)}function Ry(e,r,a,u,p){a=a.render;var g=r.ref;if("ref"in u){var k={};for(var P in u)P!=="ref"&&(k[P]=u[P])}else k=u;return ks(r),u=rd(e,r,a,k,g,p),P=id(),e!==null&&!yn?(sd(e,r,p),ci(e,r,p)):(ft&&P&&zf(r),r.flags|=1,Tn(e,r,u,p),r.child)}function xy(e,r,a,u,p){if(e===null){var g=a.type;return typeof g=="function"&&!Uf(g)&&g.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=g,Ty(e,r,g,u,p)):(e=ru(a.type,null,u,r,r.mode,p),e.ref=r.ref,e.return=r,r.child=e)}if(g=e.child,!kd(e,p)){var k=g.memoizedProps;if(a=a.compare,a=a!==null?a:Co,a(k,u)&&e.ref===r.ref)return ci(e,r,p)}return r.flags|=1,e=ni(g,u),e.ref=r.ref,e.return=r,r.child=e}function Ty(e,r,a,u,p){if(e!==null){var g=e.memoizedProps;if(Co(g,u)&&e.ref===r.ref)if(yn=!1,r.pendingProps=u=g,kd(e,p))(e.flags&131072)!==0&&(yn=!0);else return r.lanes=e.lanes,ci(e,r,p)}return Sd(e,r,a,u,p)}function Oy(e,r,a,u){var p=u.children,g=e!==null?e.memoizedState:null;if(e===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|a:a,e!==null){for(u=r.child=e.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~g}else u=0,r.child=null;return Ny(e,r,g,a,u)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},e!==null&&ou(r,g!==null?g.cachePool:null),g!==null?Im(r,g):Jf(),Cm(r);else return u=r.lanes=536870912,Ny(e,r,g!==null?g.baseLanes|a:a,a,u)}else g!==null?(ou(r,g.cachePool),Im(r,g),Ki(),r.memoizedState=null):(e!==null&&ou(r,null),Jf(),Ki());return Tn(e,r,p,a),r.child}function Yo(e,r){return e!==null&&e.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Ny(e,r,a,u,p){var g=Yf();return g=g===null?null:{parent:pn._currentValue,pool:g},r.memoizedState={baseLanes:a,cachePool:g},e!==null&&ou(r,null),Jf(),Cm(r),e!==null&&Ra(e,r,u,!0),r.childLanes=p,null}function Su(e,r){return r=Ru({mode:r.mode,children:r.children},e.mode),r.ref=e.ref,e.child=r,r.return=e,r}function ky(e,r,a){return Ms(r,e.child,null,a),e=Su(r,r.pendingProps),e.flags|=2,er(r),r.memoizedState=null,e}function eA(e,r,a){var u=r.pendingProps,p=(r.flags&128)!==0;if(r.flags&=-129,e===null){if(ft){if(u.mode==="hidden")return e=Su(r,u),r.lanes=536870912,Yo(null,e);if(td(r),(e=jt)?(e=q1(e,pr),e=e!==null&&e.data==="&"?e:null,e!==null&&(r.memoizedState={dehydrated:e,treeContext:Ui!==null?{id:Ur,overflow:Dr}:null,retryLane:536870912,hydrationErrors:null},a=hm(e),a.return=r,r.child=a,Rn=r,jt=null)):e=null,e===null)throw Li(r);return r.lanes=536870912,null}return Su(r,u)}var g=e.memoizedState;if(g!==null){var k=g.dehydrated;if(td(r),p)if(r.flags&256)r.flags&=-257,r=ky(e,r,a);else if(r.memoizedState!==null)r.child=e.child,r.flags|=128,r=null;else throw Error(i(558));else if(yn||Ra(e,r,a,!1),p=(a&e.childLanes)!==0,yn||p){if(u=It,u!==null&&(k=Xt(u,a),k!==0&&k!==g.retryLane))throw g.retryLane=k,xs(e,k),Fn(u,e,k),Ed;Mu(),r=ky(e,r,a)}else e=g.treeContext,jt=yr(k.nextSibling),Rn=r,ft=!0,Di=null,pr=!1,e!==null&&ym(r,e),r=Su(r,u),r.flags|=4096;return r}return e=ni(e.child,{mode:u.mode,children:u.children}),e.ref=r.ref,r.child=e,e.return=r,e}function Au(e,r){var a=r.ref;if(a===null)e!==null&&e.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(e===null||e.ref!==a)&&(r.flags|=4194816)}}function Sd(e,r,a,u,p){return ks(r),a=rd(e,r,a,u,void 0,p),u=id(),e!==null&&!yn?(sd(e,r,p),ci(e,r,p)):(ft&&u&&zf(r),r.flags|=1,Tn(e,r,a,p),r.child)}function Iy(e,r,a,u,p,g){return ks(r),r.updateQueue=null,a=Mm(r,u,a,p),Bm(e),u=id(),e!==null&&!yn?(sd(e,r,g),ci(e,r,g)):(ft&&u&&zf(r),r.flags|=1,Tn(e,r,a,g),r.child)}function Cy(e,r,a,u,p){if(ks(r),r.stateNode===null){var g=va,k=a.contextType;typeof k=="object"&&k!==null&&(g=xn(k)),g=new a(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=wd,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},Xf(r),k=a.contextType,g.context=typeof k=="object"&&k!==null?xn(k):va,g.state=r.memoizedState,k=a.getDerivedStateFromProps,typeof k=="function"&&(_d(r,a,k,u),g.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(k=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),k!==g.state&&wd.enqueueReplaceState(g,g.state,null),qo(r,u,g,p),Po(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(e===null){g=r.stateNode;var P=r.memoizedProps,J=Ds(a,P);g.props=J;var de=g.context,_e=a.contextType;k=va,typeof _e=="object"&&_e!==null&&(k=xn(_e));var Ee=a.getDerivedStateFromProps;_e=typeof Ee=="function"||typeof g.getSnapshotBeforeUpdate=="function",P=r.pendingProps!==P,_e||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(P||de!==k)&&by(r,g,u,k),Hi=!1;var me=r.memoizedState;g.state=me,qo(r,u,g,p),Po(),de=r.memoizedState,P||me!==de||Hi?(typeof Ee=="function"&&(_d(r,a,Ee,u),de=r.memoizedState),(J=Hi||gy(r,a,J,u,me,de,k))?(_e||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=de),g.props=u,g.state=de,g.context=k,u=J):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,$f(e,r),k=r.memoizedProps,_e=Ds(a,k),g.props=_e,Ee=r.pendingProps,me=g.context,de=a.contextType,J=va,typeof de=="object"&&de!==null&&(J=xn(de)),P=a.getDerivedStateFromProps,(de=typeof P=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(k!==Ee||me!==J)&&by(r,g,u,J),Hi=!1,me=r.memoizedState,g.state=me,qo(r,u,g,p),Po();var be=r.memoizedState;k!==Ee||me!==be||Hi||e!==null&&e.dependencies!==null&&su(e.dependencies)?(typeof P=="function"&&(_d(r,a,P,u),be=r.memoizedState),(_e=Hi||gy(r,a,_e,u,me,be,J)||e!==null&&e.dependencies!==null&&su(e.dependencies))?(de||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,be,J),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,be,J)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||k===e.memoizedProps&&me===e.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||k===e.memoizedProps&&me===e.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=be),g.props=u,g.state=be,g.context=J,u=_e):(typeof g.componentDidUpdate!="function"||k===e.memoizedProps&&me===e.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||k===e.memoizedProps&&me===e.memoizedState||(r.flags|=1024),u=!1)}return g=u,Au(e,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,e!==null&&u?(r.child=Ms(r,e.child,null,p),r.child=Ms(r,null,a,p)):Tn(e,r,a,p),r.memoizedState=g.state,e=r.child):e=ci(e,r,p),e}function By(e,r,a,u){return Os(),r.flags|=256,Tn(e,r,a,u),r.child}var Ad={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rd(e){return{baseLanes:e,cachePool:Em()}}function xd(e,r,a){return e=e!==null?e.childLanes&~a:0,r&&(e|=nr),e}function My(e,r,a){var u=r.pendingProps,p=!1,g=(r.flags&128)!==0,k;if((k=g)||(k=e!==null&&e.memoizedState===null?!1:(ln.current&2)!==0),k&&(p=!0,r.flags&=-129),k=(r.flags&32)!==0,r.flags&=-33,e===null){if(ft){if(p?qi(r):Ki(),(e=jt)?(e=q1(e,pr),e=e!==null&&e.data!=="&"?e:null,e!==null&&(r.memoizedState={dehydrated:e,treeContext:Ui!==null?{id:Ur,overflow:Dr}:null,retryLane:536870912,hydrationErrors:null},a=hm(e),a.return=r,r.child=a,Rn=r,jt=null)):e=null,e===null)throw Li(r);return ch(e)?r.lanes=32:r.lanes=536870912,null}var P=u.children;return u=u.fallback,p?(Ki(),p=r.mode,P=Ru({mode:"hidden",children:P},p),u=Ts(u,p,a,null),P.return=r,u.return=r,P.sibling=u,r.child=P,u=r.child,u.memoizedState=Rd(a),u.childLanes=xd(e,k,a),r.memoizedState=Ad,Yo(null,u)):(qi(r),Td(r,P))}var J=e.memoizedState;if(J!==null&&(P=J.dehydrated,P!==null)){if(g)r.flags&256?(qi(r),r.flags&=-257,r=Od(e,r,a)):r.memoizedState!==null?(Ki(),r.child=e.child,r.flags|=128,r=null):(Ki(),P=u.fallback,p=r.mode,u=Ru({mode:"visible",children:u.children},p),P=Ts(P,p,a,null),P.flags|=2,u.return=r,P.return=r,u.sibling=P,r.child=u,Ms(r,e.child,null,a),u=r.child,u.memoizedState=Rd(a),u.childLanes=xd(e,k,a),r.memoizedState=Ad,r=Yo(null,u));else if(qi(r),ch(P)){if(k=P.nextSibling&&P.nextSibling.dataset,k)var de=k.dgst;k=de,u=Error(i(419)),u.stack="",u.digest=k,Uo({value:u,source:null,stack:null}),r=Od(e,r,a)}else if(yn||Ra(e,r,a,!1),k=(a&e.childLanes)!==0,yn||k){if(k=It,k!==null&&(u=Xt(k,a),u!==0&&u!==J.retryLane))throw J.retryLane=u,xs(e,u),Fn(k,e,u),Ed;oh(P)||Mu(),r=Od(e,r,a)}else oh(P)?(r.flags|=192,r.child=e.child,r=null):(e=J.treeContext,jt=yr(P.nextSibling),Rn=r,ft=!0,Di=null,pr=!1,e!==null&&ym(r,e),r=Td(r,u.children),r.flags|=4096);return r}return p?(Ki(),P=u.fallback,p=r.mode,J=e.child,de=J.sibling,u=ni(J,{mode:"hidden",children:u.children}),u.subtreeFlags=J.subtreeFlags&65011712,de!==null?P=ni(de,P):(P=Ts(P,p,a,null),P.flags|=2),P.return=r,u.return=r,u.sibling=P,r.child=u,Yo(null,u),u=r.child,P=e.child.memoizedState,P===null?P=Rd(a):(p=P.cachePool,p!==null?(J=pn._currentValue,p=p.parent!==J?{parent:J,pool:J}:p):p=Em(),P={baseLanes:P.baseLanes|a,cachePool:p}),u.memoizedState=P,u.childLanes=xd(e,k,a),r.memoizedState=Ad,Yo(e.child,u)):(qi(r),a=e.child,e=a.sibling,a=ni(a,{mode:"visible",children:u.children}),a.return=r,a.sibling=null,e!==null&&(k=r.deletions,k===null?(r.deletions=[e],r.flags|=16):k.push(e)),r.child=a,r.memoizedState=null,a)}function Td(e,r){return r=Ru({mode:"visible",children:r},e.mode),r.return=e,e.child=r}function Ru(e,r){return e=Qn(22,e,null,r),e.lanes=0,e}function Od(e,r,a){return Ms(r,e.child,null,a),e=Td(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function Uy(e,r,a){e.lanes|=r;var u=e.alternate;u!==null&&(u.lanes|=r),Kf(e.return,r,a)}function Nd(e,r,a,u,p,g){var k=e.memoizedState;k===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:p,treeForkCount:g}:(k.isBackwards=r,k.rendering=null,k.renderingStartTime=0,k.last=u,k.tail=a,k.tailMode=p,k.treeForkCount=g)}function Dy(e,r,a){var u=r.pendingProps,p=u.revealOrder,g=u.tail;u=u.children;var k=ln.current,P=(k&2)!==0;if(P?(k=k&1|2,r.flags|=128):k&=1,b(ln,k),Tn(e,r,u,a),u=ft?Mo:0,!P&&e!==null&&(e.flags&128)!==0)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Uy(e,a,r);else if(e.tag===19)Uy(e,a,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(p){case"forwards":for(a=r.child,p=null;a!==null;)e=a.alternate,e!==null&&hu(e)===null&&(p=a),a=a.sibling;a=p,a===null?(p=r.child,r.child=null):(p=a.sibling,a.sibling=null),Nd(r,!1,p,a,g,u);break;case"backwards":case"unstable_legacy-backwards":for(a=null,p=r.child,r.child=null;p!==null;){if(e=p.alternate,e!==null&&hu(e)===null){r.child=p;break}e=p.sibling,p.sibling=a,a=p,p=e}Nd(r,!0,a,null,g,u);break;case"together":Nd(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function ci(e,r,a){if(e!==null&&(r.dependencies=e.dependencies),Fi|=r.lanes,(a&r.childLanes)===0)if(e!==null){if(Ra(e,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(e!==null&&r.child!==e.child)throw Error(i(153));if(r.child!==null){for(e=r.child,a=ni(e,e.pendingProps),r.child=a,a.return=r;e.sibling!==null;)e=e.sibling,a=a.sibling=ni(e,e.pendingProps),a.return=r;a.sibling=null}return r.child}function kd(e,r){return(e.lanes&r)!==0?!0:(e=e.dependencies,!!(e!==null&&su(e)))}function tA(e,r,a){switch(r.tag){case 3:se(r,r.stateNode.containerInfo),zi(r,pn,e.memoizedState.cache),Os();break;case 27:case 5:Re(r);break;case 4:se(r,r.stateNode.containerInfo);break;case 10:zi(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,td(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(qi(r),r.flags|=128,null):(a&r.child.childLanes)!==0?My(e,r,a):(qi(r),e=ci(e,r,a),e!==null?e.sibling:null);qi(r);break;case 19:var p=(e.flags&128)!==0;if(u=(a&r.childLanes)!==0,u||(Ra(e,r,a,!1),u=(a&r.childLanes)!==0),p){if(u)return Dy(e,r,a);r.flags|=128}if(p=r.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),b(ln,ln.current),u)break;return null;case 22:return r.lanes=0,Oy(e,r,a,r.pendingProps);case 24:zi(r,pn,e.memoizedState.cache)}return ci(e,r,a)}function Ly(e,r,a){if(e!==null)if(e.memoizedProps!==r.pendingProps)yn=!0;else{if(!kd(e,a)&&(r.flags&128)===0)return yn=!1,tA(e,r,a);yn=(e.flags&131072)!==0}else yn=!1,ft&&(r.flags&1048576)!==0&&mm(r,Mo,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(e=Cs(r.elementType),r.type=e,typeof e=="function")Uf(e)?(u=Ds(e,u),r.tag=1,r=Cy(null,r,e,u,a)):(r.tag=0,r=Sd(null,r,e,u,a));else{if(e!=null){var p=e.$$typeof;if(p===W){r.tag=11,r=Ry(null,r,e,u,a);break e}else if(p===ie){r.tag=14,r=xy(null,r,e,u,a);break e}}throw r=h(e)||e,Error(i(306,r,""))}}return r;case 0:return Sd(e,r,r.type,r.pendingProps,a);case 1:return u=r.type,p=Ds(u,r.pendingProps),Cy(e,r,u,p,a);case 3:e:{if(se(r,r.stateNode.containerInfo),e===null)throw Error(i(387));u=r.pendingProps;var g=r.memoizedState;p=g.element,$f(e,r),qo(r,u,null,a);var k=r.memoizedState;if(u=k.cache,zi(r,pn,u),u!==g.cache&&Vf(r,[pn],a,!0),Po(),u=k.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:k.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=By(e,r,u,a);break e}else if(u!==p){p=fr(Error(i(424)),r),Uo(p),r=By(e,r,u,a);break e}else for(e=r.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,jt=yr(e.firstChild),Rn=r,ft=!0,Di=null,pr=!0,a=Om(r,null,u,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Os(),u===p){r=ci(e,r,a);break e}Tn(e,r,u,a)}r=r.child}return r;case 26:return Au(e,r),e===null?(a=Z1(r.type,null,r.pendingProps,null))?r.memoizedState=a:ft||(a=r.type,e=r.pendingProps,u=Pu(Z.current).createElement(a),u[it]=r,u[lt]=e,On(u,a,e),sn(u),r.stateNode=u):r.memoizedState=Z1(r.type,e.memoizedProps,r.pendingProps,e.memoizedState),null;case 27:return Re(r),e===null&&ft&&(u=r.stateNode=G1(r.type,r.pendingProps,Z.current),Rn=r,pr=!0,p=jt,Wi(r.type)?(uh=p,jt=yr(u.firstChild)):jt=p),Tn(e,r,r.pendingProps.children,a),Au(e,r),e===null&&(r.flags|=4194304),r.child;case 5:return e===null&&ft&&((p=u=jt)&&(u=IA(u,r.type,r.pendingProps,pr),u!==null?(r.stateNode=u,Rn=r,jt=yr(u.firstChild),pr=!1,p=!0):p=!1),p||Li(r)),Re(r),p=r.type,g=r.pendingProps,k=e!==null?e.memoizedProps:null,u=g.children,ih(p,g)?u=null:k!==null&&ih(p,k)&&(r.flags|=32),r.memoizedState!==null&&(p=rd(e,r,FS,null,null,a),cc._currentValue=p),Au(e,r),Tn(e,r,u,a),r.child;case 6:return e===null&&ft&&((e=a=jt)&&(a=CA(a,r.pendingProps,pr),a!==null?(r.stateNode=a,Rn=r,jt=null,e=!0):e=!1),e||Li(r)),null;case 13:return My(e,r,a);case 4:return se(r,r.stateNode.containerInfo),u=r.pendingProps,e===null?r.child=Ms(r,null,u,a):Tn(e,r,u,a),r.child;case 11:return Ry(e,r,r.type,r.pendingProps,a);case 7:return Tn(e,r,r.pendingProps,a),r.child;case 8:return Tn(e,r,r.pendingProps.children,a),r.child;case 12:return Tn(e,r,r.pendingProps.children,a),r.child;case 10:return u=r.pendingProps,zi(r,r.type,u.value),Tn(e,r,u.children,a),r.child;case 9:return p=r.type._context,u=r.pendingProps.children,ks(r),p=xn(p),u=u(p),r.flags|=1,Tn(e,r,u,a),r.child;case 14:return xy(e,r,r.type,r.pendingProps,a);case 15:return Ty(e,r,r.type,r.pendingProps,a);case 19:return Dy(e,r,a);case 31:return eA(e,r,a);case 22:return Oy(e,r,a,r.pendingProps);case 24:return ks(r),u=xn(pn),e===null?(p=Yf(),p===null&&(p=It,g=Gf(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=a),p=g),r.memoizedState={parent:u,cache:p},Xf(r),zi(r,pn,p)):((e.lanes&a)!==0&&($f(e,r),qo(r,null,null,a),Po()),p=e.memoizedState,g=r.memoizedState,p.parent!==u?(p={parent:u,cache:u},r.memoizedState=p,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=p),zi(r,pn,u)):(u=g.cache,zi(r,pn,u),u!==p.cache&&Vf(r,[pn],a,!0))),Tn(e,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function ui(e){e.flags|=4}function Id(e,r,a,u,p){if((r=(e.mode&32)!==0)&&(r=!1),r){if(e.flags|=16777216,(p&335544128)===p)if(e.stateNode.complete)e.flags|=8192;else if(l1())e.flags|=8192;else throw Bs=uu,Zf}else e.flags&=-16777217}function zy(e,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!J1(r))if(l1())e.flags|=8192;else throw Bs=uu,Zf}function xu(e,r){r!==null&&(e.flags|=4),e.flags&16384&&(r=e.tag!==22?Yt():536870912,e.lanes|=r,La|=r)}function Zo(e,r){if(!ft)switch(e.tailMode){case"hidden":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function Pt(e){var r=e.alternate!==null&&e.alternate.child===e.child,a=0,u=0;if(r)for(var p=e.child;p!==null;)a|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)a|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=u,e.childLanes=a,r}function nA(e,r,a){var u=r.pendingProps;switch(Hf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(r),null;case 1:return Pt(r),null;case 3:return a=r.stateNode,u=null,e!==null&&(u=e.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),si(pn),pe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Aa(r)?ui(r):e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Pf())),Pt(r),null;case 26:var p=r.type,g=r.memoizedState;return e===null?(ui(r),g!==null?(Pt(r),zy(r,g)):(Pt(r),Id(r,p,null,u,a))):g?g!==e.memoizedState?(ui(r),Pt(r),zy(r,g)):(Pt(r),r.flags&=-16777217):(e=e.memoizedProps,e!==u&&ui(r),Pt(r),Id(r,p,e,u,a)),null;case 27:if(Oe(r),a=Z.current,p=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==u&&ui(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return Pt(r),null}e=O.current,Aa(r)?gm(r):(e=G1(p,u,a),r.stateNode=e,ui(r))}return Pt(r),null;case 5:if(Oe(r),p=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==u&&ui(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return Pt(r),null}if(g=O.current,Aa(r))gm(r);else{var k=Pu(Z.current);switch(g){case 1:g=k.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:g=k.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":g=k.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":g=k.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":g=k.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?k.createElement("select",{is:u.is}):k.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?k.createElement(p,{is:u.is}):k.createElement(p)}}g[it]=r,g[lt]=u;e:for(k=r.child;k!==null;){if(k.tag===5||k.tag===6)g.appendChild(k.stateNode);else if(k.tag!==4&&k.tag!==27&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===r)break e;for(;k.sibling===null;){if(k.return===null||k.return===r)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}r.stateNode=g;e:switch(On(g,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&ui(r)}}return Pt(r),Id(r,r.type,e===null?null:e.memoizedProps,r.pendingProps,a),null;case 6:if(e&&r.stateNode!=null)e.memoizedProps!==u&&ui(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(i(166));if(e=Z.current,Aa(r)){if(e=r.stateNode,a=r.memoizedProps,u=null,p=Rn,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}e[it]=r,e=!!(e.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||M1(e.nodeValue,a)),e||Li(r,!0)}else e=Pu(e).createTextNode(u),e[it]=r,r.stateNode=e}return Pt(r),null;case 31:if(a=r.memoizedState,e===null||e.memoizedState!==null){if(u=Aa(r),a!==null){if(e===null){if(!u)throw Error(i(318));if(e=r.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[it]=r}else Os(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Pt(r),e=!1}else a=Pf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return r.flags&256?(er(r),r):(er(r),null);if((r.flags&128)!==0)throw Error(i(558))}return Pt(r),null;case 13:if(u=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(p=Aa(r),u!==null&&u.dehydrated!==null){if(e===null){if(!p)throw Error(i(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[it]=r}else Os(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Pt(r),p=!1}else p=Pf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=p),p=!0;if(!p)return r.flags&256?(er(r),r):(er(r),null)}return er(r),(r.flags&128)!==0?(r.lanes=a,r):(a=u!==null,e=e!==null&&e.memoizedState!==null,a&&(u=r.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==p&&(u.flags|=2048)),a!==e&&a&&(r.child.flags|=8192),xu(r,r.updateQueue),Pt(r),null);case 4:return pe(),e===null&&Jd(r.stateNode.containerInfo),Pt(r),null;case 10:return si(r.type),Pt(r),null;case 19:if(f(ln),u=r.memoizedState,u===null)return Pt(r),null;if(p=(r.flags&128)!==0,g=u.rendering,g===null)if(p)Zo(u,!1);else{if(on!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(g=hu(e),g!==null){for(r.flags|=128,Zo(u,!1),e=g.updateQueue,r.updateQueue=e,xu(r,e),r.subtreeFlags=0,e=a,a=r.child;a!==null;)dm(a,e),a=a.sibling;return b(ln,ln.current&1|2),ft&&ri(r,u.treeForkCount),r.child}e=e.sibling}u.tail!==null&&qe()>Iu&&(r.flags|=128,p=!0,Zo(u,!1),r.lanes=4194304)}else{if(!p)if(e=hu(g),e!==null){if(r.flags|=128,p=!0,e=e.updateQueue,r.updateQueue=e,xu(r,e),Zo(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!ft)return Pt(r),null}else 2*qe()-u.renderingStartTime>Iu&&a!==536870912&&(r.flags|=128,p=!0,Zo(u,!1),r.lanes=4194304);u.isBackwards?(g.sibling=r.child,r.child=g):(e=u.last,e!==null?e.sibling=g:r.child=g,u.last=g)}return u.tail!==null?(e=u.tail,u.rendering=e,u.tail=e.sibling,u.renderingStartTime=qe(),e.sibling=null,a=ln.current,b(ln,p?a&1|2:a&1),ft&&ri(r,u.treeForkCount),e):(Pt(r),null);case 22:case 23:return er(r),ed(),u=r.memoizedState!==null,e!==null?e.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(a&536870912)!==0&&(r.flags&128)===0&&(Pt(r),r.subtreeFlags&6&&(r.flags|=8192)):Pt(r),a=r.updateQueue,a!==null&&xu(r,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==a&&(r.flags|=2048),e!==null&&f(Is),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),si(pn),Pt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function rA(e,r){switch(Hf(r),r.tag){case 1:return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return si(pn),pe(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 26:case 27:case 5:return Oe(r),null;case 31:if(r.memoizedState!==null){if(er(r),r.alternate===null)throw Error(i(340));Os()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 13:if(er(r),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Os()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return f(ln),null;case 4:return pe(),null;case 10:return si(r.type),null;case 22:case 23:return er(r),ed(),e!==null&&f(Is),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 24:return si(pn),null;case 25:return null;default:return null}}function Hy(e,r){switch(Hf(r),r.tag){case 3:si(pn),pe();break;case 26:case 27:case 5:Oe(r);break;case 4:pe();break;case 31:r.memoizedState!==null&&er(r);break;case 13:er(r);break;case 19:f(ln);break;case 10:si(r.type);break;case 22:case 23:er(r),ed(),e!==null&&f(Is);break;case 24:si(pn)}}function Xo(e,r){try{var a=r.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var p=u.next;a=p;do{if((a.tag&e)===e){u=void 0;var g=a.create,k=a.inst;u=g(),k.destroy=u}a=a.next}while(a!==p)}}catch(P){At(r,r.return,P)}}function Vi(e,r,a){try{var u=r.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var g=p.next;u=g;do{if((u.tag&e)===e){var k=u.inst,P=k.destroy;if(P!==void 0){k.destroy=void 0,p=r;var J=a,de=P;try{de()}catch(_e){At(p,J,_e)}}}u=u.next}while(u!==g)}}catch(_e){At(r,r.return,_e)}}function jy(e){var r=e.updateQueue;if(r!==null){var a=e.stateNode;try{km(r,a)}catch(u){At(e,e.return,u)}}}function Py(e,r,a){a.props=Ds(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(u){At(e,r,u)}}function $o(e,r){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var u=e.stateNode;break;case 30:u=e.stateNode;break;default:u=e.stateNode}typeof a=="function"?e.refCleanup=a(u):a.current=u}}catch(p){At(e,r,p)}}function Lr(e,r){var a=e.ref,u=e.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(p){At(e,r,p)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(p){At(e,r,p)}else a.current=null}function qy(e){var r=e.type,a=e.memoizedProps,u=e.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(p){At(e,e.return,p)}}function Cd(e,r,a){try{var u=e.stateNode;RA(u,e.type,a,r),u[lt]=r}catch(p){At(e,e.return,p)}}function Ky(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Wi(e.type)||e.tag===4}function Bd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ky(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Wi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Md(e,r,a){var u=e.tag;if(u===5||u===6)e=e.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(e),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=ei));else if(u!==4&&(u===27&&Wi(e.type)&&(a=e.stateNode,r=null),e=e.child,e!==null))for(Md(e,r,a),e=e.sibling;e!==null;)Md(e,r,a),e=e.sibling}function Tu(e,r,a){var u=e.tag;if(u===5||u===6)e=e.stateNode,r?a.insertBefore(e,r):a.appendChild(e);else if(u!==4&&(u===27&&Wi(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Tu(e,r,a),e=e.sibling;e!==null;)Tu(e,r,a),e=e.sibling}function Vy(e){var r=e.stateNode,a=e.memoizedProps;try{for(var u=e.type,p=r.attributes;p.length;)r.removeAttributeNode(p[0]);On(r,u,a),r[it]=e,r[lt]=a}catch(g){At(e,e.return,g)}}var li=!1,gn=!1,Ud=!1,Gy=typeof WeakSet=="function"?WeakSet:Set,En=null;function iA(e,r){if(e=e.containerInfo,nh=Zu,e=rm(e),Of(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var p=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var k=0,P=-1,J=-1,de=0,_e=0,Ee=e,me=null;t:for(;;){for(var be;Ee!==a||p!==0&&Ee.nodeType!==3||(P=k+p),Ee!==g||u!==0&&Ee.nodeType!==3||(J=k+u),Ee.nodeType===3&&(k+=Ee.nodeValue.length),(be=Ee.firstChild)!==null;)me=Ee,Ee=be;for(;;){if(Ee===e)break t;if(me===a&&++de===p&&(P=k),me===g&&++_e===u&&(J=k),(be=Ee.nextSibling)!==null)break;Ee=me,me=Ee.parentNode}Ee=be}a=P===-1||J===-1?null:{start:P,end:J}}else a=null}a=a||{start:0,end:0}}else a=null;for(rh={focusedElem:e,selectionRange:a},Zu=!1,En=r;En!==null;)if(r=En,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,En=e;else for(;En!==null;){switch(r=En,g=r.alternate,e=r.flags,r.tag){case 0:if((e&4)!==0&&(e=r.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)p=e[a],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,a=r,p=g.memoizedProps,g=g.memoizedState,u=a.stateNode;try{var Me=Ds(a.type,p);e=u.getSnapshotBeforeUpdate(Me,g),u.__reactInternalSnapshotBeforeUpdate=e}catch(Ve){At(a,a.return,Ve)}}break;case 3:if((e&1024)!==0){if(e=r.stateNode.containerInfo,a=e.nodeType,a===9)ah(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ah(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=r.sibling,e!==null){e.return=r.return,En=e;break}En=r.return}}function Fy(e,r,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:di(e,a),u&4&&Xo(5,a);break;case 1:if(di(e,a),u&4)if(e=a.stateNode,r===null)try{e.componentDidMount()}catch(k){At(a,a.return,k)}else{var p=Ds(a.type,r.memoizedProps);r=r.memoizedState;try{e.componentDidUpdate(p,r,e.__reactInternalSnapshotBeforeUpdate)}catch(k){At(a,a.return,k)}}u&64&&jy(a),u&512&&$o(a,a.return);break;case 3:if(di(e,a),u&64&&(e=a.updateQueue,e!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{km(e,r)}catch(k){At(a,a.return,k)}}break;case 27:r===null&&u&4&&Vy(a);case 26:case 5:di(e,a),r===null&&u&4&&qy(a),u&512&&$o(a,a.return);break;case 12:di(e,a);break;case 31:di(e,a),u&4&&Xy(e,a);break;case 13:di(e,a),u&4&&$y(e,a),u&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=hA.bind(null,a),BA(e,a))));break;case 22:if(u=a.memoizedState!==null||li,!u){r=r!==null&&r.memoizedState!==null||gn,p=li;var g=gn;li=u,(gn=r)&&!g?hi(e,a,(a.subtreeFlags&8772)!==0):di(e,a),li=p,gn=g}break;case 30:break;default:di(e,a)}}function Yy(e){var r=e.alternate;r!==null&&(e.alternate=null,Yy(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&Es(r)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Gt=null,qn=!1;function fi(e,r,a){for(a=a.child;a!==null;)Zy(e,r,a),a=a.sibling}function Zy(e,r,a){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(ge,a)}catch{}switch(a.tag){case 26:gn||Lr(a,r),fi(e,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:gn||Lr(a,r);var u=Gt,p=qn;Wi(a.type)&&(Gt=a.stateNode,qn=!1),fi(e,r,a),sc(a.stateNode),Gt=u,qn=p;break;case 5:gn||Lr(a,r);case 6:if(u=Gt,p=qn,Gt=null,fi(e,r,a),Gt=u,qn=p,Gt!==null)if(qn)try{(Gt.nodeType===9?Gt.body:Gt.nodeName==="HTML"?Gt.ownerDocument.body:Gt).removeChild(a.stateNode)}catch(g){At(a,r,g)}else try{Gt.removeChild(a.stateNode)}catch(g){At(a,r,g)}break;case 18:Gt!==null&&(qn?(e=Gt,j1(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ga(e)):j1(Gt,a.stateNode));break;case 4:u=Gt,p=qn,Gt=a.stateNode.containerInfo,qn=!0,fi(e,r,a),Gt=u,qn=p;break;case 0:case 11:case 14:case 15:Vi(2,a,r),gn||Vi(4,a,r),fi(e,r,a);break;case 1:gn||(Lr(a,r),u=a.stateNode,typeof u.componentWillUnmount=="function"&&Py(a,r,u)),fi(e,r,a);break;case 21:fi(e,r,a);break;case 22:gn=(u=gn)||a.memoizedState!==null,fi(e,r,a),gn=u;break;default:fi(e,r,a)}}function Xy(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ga(e)}catch(a){At(r,r.return,a)}}}function $y(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ga(e)}catch(a){At(r,r.return,a)}}function sA(e){switch(e.tag){case 31:case 13:case 19:var r=e.stateNode;return r===null&&(r=e.stateNode=new Gy),r;case 22:return e=e.stateNode,r=e._retryCache,r===null&&(r=e._retryCache=new Gy),r;default:throw Error(i(435,e.tag))}}function Ou(e,r){var a=sA(e);r.forEach(function(u){if(!a.has(u)){a.add(u);var p=pA.bind(null,e,u);u.then(p,p)}})}function Kn(e,r){var a=r.deletions;if(a!==null)for(var u=0;u<a.length;u++){var p=a[u],g=e,k=r,P=k;e:for(;P!==null;){switch(P.tag){case 27:if(Wi(P.type)){Gt=P.stateNode,qn=!1;break e}break;case 5:Gt=P.stateNode,qn=!1;break e;case 3:case 4:Gt=P.stateNode.containerInfo,qn=!0;break e}P=P.return}if(Gt===null)throw Error(i(160));Zy(g,k,p),Gt=null,qn=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Wy(r,e),r=r.sibling}var Ar=null;function Wy(e,r){var a=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Kn(r,e),Vn(e),u&4&&(Vi(3,e,e.return),Xo(3,e),Vi(5,e,e.return));break;case 1:Kn(r,e),Vn(e),u&512&&(gn||a===null||Lr(a,a.return)),u&64&&li&&(e=e.updateQueue,e!==null&&(u=e.callbacks,u!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var p=Ar;if(Kn(r,e),Vn(e),u&512&&(gn||a===null||Lr(a,a.return)),u&4){var g=a!==null?a.memoizedState:null;if(u=e.memoizedState,a===null)if(u===null)if(e.stateNode===null){e:{u=e.type,a=e.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":g=p.getElementsByTagName("title")[0],(!g||g[Wr]||g[it]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(u),p.head.insertBefore(g,p.querySelector("head > title"))),On(g,u,a),g[it]=e,sn(g),u=g;break e;case"link":var k=W1("link","href",p).get(u+(a.href||""));if(k){for(var P=0;P<k.length;P++)if(g=k[P],g.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&g.getAttribute("rel")===(a.rel==null?null:a.rel)&&g.getAttribute("title")===(a.title==null?null:a.title)&&g.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){k.splice(P,1);break t}}g=p.createElement(u),On(g,u,a),p.head.appendChild(g);break;case"meta":if(k=W1("meta","content",p).get(u+(a.content||""))){for(P=0;P<k.length;P++)if(g=k[P],g.getAttribute("content")===(a.content==null?null:""+a.content)&&g.getAttribute("name")===(a.name==null?null:a.name)&&g.getAttribute("property")===(a.property==null?null:a.property)&&g.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&g.getAttribute("charset")===(a.charSet==null?null:a.charSet)){k.splice(P,1);break t}}g=p.createElement(u),On(g,u,a),p.head.appendChild(g);break;default:throw Error(i(468,u))}g[it]=e,sn(g),u=g}e.stateNode=u}else Q1(p,e.type,e.stateNode);else e.stateNode=$1(p,u,e.memoizedProps);else g!==u?(g===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):g.count--,u===null?Q1(p,e.type,e.stateNode):$1(p,u,e.memoizedProps)):u===null&&e.stateNode!==null&&Cd(e,e.memoizedProps,a.memoizedProps)}break;case 27:Kn(r,e),Vn(e),u&512&&(gn||a===null||Lr(a,a.return)),a!==null&&u&4&&Cd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Kn(r,e),Vn(e),u&512&&(gn||a===null||Lr(a,a.return)),e.flags&32){p=e.stateNode;try{pa(p,"")}catch(Me){At(e,e.return,Me)}}u&4&&e.stateNode!=null&&(p=e.memoizedProps,Cd(e,p,a!==null?a.memoizedProps:p)),u&1024&&(Ud=!0);break;case 6:if(Kn(r,e),Vn(e),u&4){if(e.stateNode===null)throw Error(i(162));u=e.memoizedProps,a=e.stateNode;try{a.nodeValue=u}catch(Me){At(e,e.return,Me)}}break;case 3:if(Vu=null,p=Ar,Ar=qu(r.containerInfo),Kn(r,e),Ar=p,Vn(e),u&4&&a!==null&&a.memoizedState.isDehydrated)try{Ga(r.containerInfo)}catch(Me){At(e,e.return,Me)}Ud&&(Ud=!1,Qy(e));break;case 4:u=Ar,Ar=qu(e.stateNode.containerInfo),Kn(r,e),Vn(e),Ar=u;break;case 12:Kn(r,e),Vn(e);break;case 31:Kn(r,e),Vn(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,Ou(e,u)));break;case 13:Kn(r,e),Vn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ku=qe()),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,Ou(e,u)));break;case 22:p=e.memoizedState!==null;var J=a!==null&&a.memoizedState!==null,de=li,_e=gn;if(li=de||p,gn=_e||J,Kn(r,e),gn=_e,li=de,Vn(e),u&8192)e:for(r=e.stateNode,r._visibility=p?r._visibility&-2:r._visibility|1,p&&(a===null||J||li||gn||Ls(e)),a=null,r=e;;){if(r.tag===5||r.tag===26){if(a===null){J=a=r;try{if(g=J.stateNode,p)k=g.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{P=J.stateNode;var Ee=J.memoizedProps.style,me=Ee!=null&&Ee.hasOwnProperty("display")?Ee.display:null;P.style.display=me==null||typeof me=="boolean"?"":(""+me).trim()}}catch(Me){At(J,J.return,Me)}}}else if(r.tag===6){if(a===null){J=r;try{J.stateNode.nodeValue=p?"":J.memoizedProps}catch(Me){At(J,J.return,Me)}}}else if(r.tag===18){if(a===null){J=r;try{var be=J.stateNode;p?P1(be,!0):P1(J.stateNode,!1)}catch(Me){At(J,J.return,Me)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=e.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,Ou(e,a))));break;case 19:Kn(r,e),Vn(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,Ou(e,u)));break;case 30:break;case 21:break;default:Kn(r,e),Vn(e)}}function Vn(e){var r=e.flags;if(r&2){try{for(var a,u=e.return;u!==null;){if(Ky(u)){a=u;break}u=u.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var p=a.stateNode,g=Bd(e);Tu(e,g,p);break;case 5:var k=a.stateNode;a.flags&32&&(pa(k,""),a.flags&=-33);var P=Bd(e);Tu(e,P,k);break;case 3:case 4:var J=a.stateNode.containerInfo,de=Bd(e);Md(e,de,J);break;default:throw Error(i(161))}}catch(_e){At(e,e.return,_e)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function Qy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var r=e;Qy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),e=e.sibling}}function di(e,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Fy(e,r.alternate,r),r=r.sibling}function Ls(e){for(e=e.child;e!==null;){var r=e;switch(r.tag){case 0:case 11:case 14:case 15:Vi(4,r,r.return),Ls(r);break;case 1:Lr(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Py(r,r.return,a),Ls(r);break;case 27:sc(r.stateNode);case 26:case 5:Lr(r,r.return),Ls(r);break;case 22:r.memoizedState===null&&Ls(r);break;case 30:Ls(r);break;default:Ls(r)}e=e.sibling}}function hi(e,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,p=e,g=r,k=g.flags;switch(g.tag){case 0:case 11:case 15:hi(p,g,a),Xo(4,g);break;case 1:if(hi(p,g,a),u=g,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(de){At(u,u.return,de)}if(u=g,p=u.updateQueue,p!==null){var P=u.stateNode;try{var J=p.shared.hiddenCallbacks;if(J!==null)for(p.shared.hiddenCallbacks=null,p=0;p<J.length;p++)Nm(J[p],P)}catch(de){At(u,u.return,de)}}a&&k&64&&jy(g),$o(g,g.return);break;case 27:Vy(g);case 26:case 5:hi(p,g,a),a&&u===null&&k&4&&qy(g),$o(g,g.return);break;case 12:hi(p,g,a);break;case 31:hi(p,g,a),a&&k&4&&Xy(p,g);break;case 13:hi(p,g,a),a&&k&4&&$y(p,g);break;case 22:g.memoizedState===null&&hi(p,g,a),$o(g,g.return);break;case 30:break;default:hi(p,g,a)}r=r.sibling}}function Dd(e,r){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(e=r.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Do(a))}function Ld(e,r){e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&Do(e))}function Rr(e,r,a,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Jy(e,r,a,u),r=r.sibling}function Jy(e,r,a,u){var p=r.flags;switch(r.tag){case 0:case 11:case 15:Rr(e,r,a,u),p&2048&&Xo(9,r);break;case 1:Rr(e,r,a,u);break;case 3:Rr(e,r,a,u),p&2048&&(e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&Do(e)));break;case 12:if(p&2048){Rr(e,r,a,u),e=r.stateNode;try{var g=r.memoizedProps,k=g.id,P=g.onPostCommit;typeof P=="function"&&P(k,r.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(J){At(r,r.return,J)}}else Rr(e,r,a,u);break;case 31:Rr(e,r,a,u);break;case 13:Rr(e,r,a,u);break;case 23:break;case 22:g=r.stateNode,k=r.alternate,r.memoizedState!==null?g._visibility&2?Rr(e,r,a,u):Wo(e,r):g._visibility&2?Rr(e,r,a,u):(g._visibility|=2,Ma(e,r,a,u,(r.subtreeFlags&10256)!==0||!1)),p&2048&&Dd(k,r);break;case 24:Rr(e,r,a,u),p&2048&&Ld(r.alternate,r);break;default:Rr(e,r,a,u)}}function Ma(e,r,a,u,p){for(p=p&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=e,k=r,P=a,J=u,de=k.flags;switch(k.tag){case 0:case 11:case 15:Ma(g,k,P,J,p),Xo(8,k);break;case 23:break;case 22:var _e=k.stateNode;k.memoizedState!==null?_e._visibility&2?Ma(g,k,P,J,p):Wo(g,k):(_e._visibility|=2,Ma(g,k,P,J,p)),p&&de&2048&&Dd(k.alternate,k);break;case 24:Ma(g,k,P,J,p),p&&de&2048&&Ld(k.alternate,k);break;default:Ma(g,k,P,J,p)}r=r.sibling}}function Wo(e,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=e,u=r,p=u.flags;switch(u.tag){case 22:Wo(a,u),p&2048&&Dd(u.alternate,u);break;case 24:Wo(a,u),p&2048&&Ld(u.alternate,u);break;default:Wo(a,u)}r=r.sibling}}var Qo=8192;function Ua(e,r,a){if(e.subtreeFlags&Qo)for(e=e.child;e!==null;)e1(e,r,a),e=e.sibling}function e1(e,r,a){switch(e.tag){case 26:Ua(e,r,a),e.flags&Qo&&e.memoizedState!==null&&GA(a,Ar,e.memoizedState,e.memoizedProps);break;case 5:Ua(e,r,a);break;case 3:case 4:var u=Ar;Ar=qu(e.stateNode.containerInfo),Ua(e,r,a),Ar=u;break;case 22:e.memoizedState===null&&(u=e.alternate,u!==null&&u.memoizedState!==null?(u=Qo,Qo=16777216,Ua(e,r,a),Qo=u):Ua(e,r,a));break;default:Ua(e,r,a)}}function t1(e){var r=e.alternate;if(r!==null&&(e=r.child,e!==null)){r.child=null;do r=e.sibling,e.sibling=null,e=r;while(e!==null)}}function Jo(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];En=u,r1(u,e)}t1(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)n1(e),e=e.sibling}function n1(e){switch(e.tag){case 0:case 11:case 15:Jo(e),e.flags&2048&&Vi(9,e,e.return);break;case 3:Jo(e);break;case 12:Jo(e);break;case 22:var r=e.stateNode;e.memoizedState!==null&&r._visibility&2&&(e.return===null||e.return.tag!==13)?(r._visibility&=-3,Nu(e)):Jo(e);break;default:Jo(e)}}function Nu(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];En=u,r1(u,e)}t1(e)}for(e=e.child;e!==null;){switch(r=e,r.tag){case 0:case 11:case 15:Vi(8,r,r.return),Nu(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Nu(r));break;default:Nu(r)}e=e.sibling}}function r1(e,r){for(;En!==null;){var a=En;switch(a.tag){case 0:case 11:case 15:Vi(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Do(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,En=u;else e:for(a=e;En!==null;){u=En;var p=u.sibling,g=u.return;if(Yy(u),u===a){En=null;break e}if(p!==null){p.return=g,En=p;break e}En=g}}}var aA={getCacheForType:function(e){var r=xn(pn),a=r.data.get(e);return a===void 0&&(a=e(),r.data.set(e,a)),a},cacheSignal:function(){return xn(pn).controller.signal}},oA=typeof WeakMap=="function"?WeakMap:Map,vt=0,It=null,st=null,ct=0,St=0,tr=null,Gi=!1,Da=!1,zd=!1,pi=0,on=0,Fi=0,zs=0,Hd=0,nr=0,La=0,ec=null,Gn=null,jd=!1,ku=0,i1=0,Iu=1/0,Cu=null,Yi=null,wn=0,Zi=null,za=null,mi=0,Pd=0,qd=null,s1=null,tc=0,Kd=null;function rr(){return(vt&2)!==0&&ct!==0?ct&-ct:S.T!==null?Xd():$t()}function a1(){if(nr===0)if((ct&536870912)===0||ft){var e=Lt;Lt<<=1,(Lt&3932160)===0&&(Lt=262144),nr=e}else nr=536870912;return e=Jn.current,e!==null&&(e.flags|=32),nr}function Fn(e,r,a){(e===It&&(St===2||St===9)||e.cancelPendingCommit!==null)&&(Ha(e,0),Xi(e,ct,nr,!1)),Ii(e,a),((vt&2)===0||e!==It)&&(e===It&&((vt&2)===0&&(zs|=a),on===4&&Xi(e,ct,nr,!1)),zr(e))}function o1(e,r,a){if((vt&6)!==0)throw Error(i(327));var u=!a&&(r&127)===0&&(r&e.expiredLanes)===0||Ct(e,r),p=u?lA(e,r):Gd(e,r,!0),g=u;do{if(p===0){Da&&!u&&Xi(e,r,0,!1);break}else{if(a=e.current.alternate,g&&!cA(a)){p=Gd(e,r,!1),g=!1;continue}if(p===2){if(g=r,e.errorRecoveryDisabledLanes&g)var k=0;else k=e.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){r=k;e:{var P=e;p=ec;var J=P.current.memoizedState.isDehydrated;if(J&&(Ha(P,k).flags|=256),k=Gd(P,k,!1),k!==2){if(zd&&!J){P.errorRecoveryDisabledLanes|=g,zs|=g,p=4;break e}g=Gn,Gn=p,g!==null&&(Gn===null?Gn=g:Gn.push.apply(Gn,g))}p=k}if(g=!1,p!==2)continue}}if(p===1){Ha(e,0),Xi(e,r,0,!0);break}e:{switch(u=e,g=p,g){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:Xi(u,r,nr,!Gi);break e;case 2:Gn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(p=ku+300-qe(),10<p)){if(Xi(u,r,nr,!Gi),Ht(u,0,!0)!==0)break e;mi=r,u.timeoutHandle=z1(c1.bind(null,u,a,Gn,Cu,jd,r,nr,zs,La,Gi,g,"Throttled",-0,0),p);break e}c1(u,a,Gn,Cu,jd,r,nr,zs,La,Gi,g,null,-0,0)}}break}while(!0);zr(e)}function c1(e,r,a,u,p,g,k,P,J,de,_e,Ee,me,be){if(e.timeoutHandle=-1,Ee=r.subtreeFlags,Ee&8192||(Ee&16785408)===16785408){Ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ei},e1(r,g,Ee);var Me=(g&62914560)===g?ku-qe():(g&4194048)===g?i1-qe():0;if(Me=FA(Ee,Me),Me!==null){mi=g,e.cancelPendingCommit=Me(y1.bind(null,e,r,g,a,u,p,k,P,J,_e,Ee,null,me,be)),Xi(e,g,k,!de);return}}y1(e,r,g,a,u,p,k,P,J)}function cA(e){for(var r=e;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var p=a[u],g=p.getSnapshot;p=p.value;try{if(!Wn(g(),p))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Xi(e,r,a,u){r&=~Hd,r&=~zs,e.suspendedLanes|=r,e.pingedLanes&=~r,u&&(e.warmLanes|=r),u=e.expirationTimes;for(var p=r;0<p;){var g=31-Ue(p),k=1<<g;u[g]=-1,p&=~k}a!==0&&Zt(e,a,r)}function Bu(){return(vt&6)===0?(nc(0),!1):!0}function Vd(){if(st!==null){if(St===0)var e=st.return;else e=st,ii=Ns=null,ad(e),Na=null,zo=0,e=st;for(;e!==null;)Hy(e.alternate,e),e=e.return;st=null}}function Ha(e,r){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,OA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),mi=0,Vd(),It=e,st=a=ni(e.current,null),ct=r,St=0,tr=null,Gi=!1,Da=Ct(e,r),zd=!1,La=nr=Hd=zs=Fi=on=0,Gn=ec=null,jd=!1,(r&8)!==0&&(r|=r&32);var u=e.entangledLanes;if(u!==0)for(e=e.entanglements,u&=r;0<u;){var p=31-Ue(u),g=1<<p;r|=e[p],u&=~g}return pi=r,eu(),a}function u1(e,r){Qe=null,S.H=Fo,r===Oa||r===cu?(r=Rm(),St=3):r===Zf?(r=Rm(),St=4):St=r===Ed?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,tr=r,st===null&&(on=1,Eu(e,fr(r,e.current)))}function l1(){var e=Jn.current;return e===null?!0:(ct&4194048)===ct?mr===null:(ct&62914560)===ct||(ct&536870912)!==0?e===mr:!1}function f1(){var e=S.H;return S.H=Fo,e===null?Fo:e}function d1(){var e=S.A;return S.A=aA,e}function Mu(){on=4,Gi||(ct&4194048)!==ct&&Jn.current!==null||(Da=!0),(Fi&134217727)===0&&(zs&134217727)===0||It===null||Xi(It,ct,nr,!1)}function Gd(e,r,a){var u=vt;vt|=2;var p=f1(),g=d1();(It!==e||ct!==r)&&(Cu=null,Ha(e,r)),r=!1;var k=on;e:do try{if(St!==0&&st!==null){var P=st,J=tr;switch(St){case 8:Vd(),k=6;break e;case 3:case 2:case 9:case 6:Jn.current===null&&(r=!0);var de=St;if(St=0,tr=null,ja(e,P,J,de),a&&Da){k=0;break e}break;default:de=St,St=0,tr=null,ja(e,P,J,de)}}uA(),k=on;break}catch(_e){u1(e,_e)}while(!0);return r&&e.shellSuspendCounter++,ii=Ns=null,vt=u,S.H=p,S.A=g,st===null&&(It=null,ct=0,eu()),k}function uA(){for(;st!==null;)h1(st)}function lA(e,r){var a=vt;vt|=2;var u=f1(),p=d1();It!==e||ct!==r?(Cu=null,Iu=qe()+500,Ha(e,r)):Da=Ct(e,r);e:do try{if(St!==0&&st!==null){r=st;var g=tr;t:switch(St){case 1:St=0,tr=null,ja(e,r,g,1);break;case 2:case 9:if(Sm(g)){St=0,tr=null,p1(r);break}r=function(){St!==2&&St!==9||It!==e||(St=7),zr(e)},g.then(r,r);break e;case 3:St=7;break e;case 4:St=5;break e;case 7:Sm(g)?(St=0,tr=null,p1(r)):(St=0,tr=null,ja(e,r,g,7));break;case 5:var k=null;switch(st.tag){case 26:k=st.memoizedState;case 5:case 27:var P=st;if(k?J1(k):P.stateNode.complete){St=0,tr=null;var J=P.sibling;if(J!==null)st=J;else{var de=P.return;de!==null?(st=de,Uu(de)):st=null}break t}}St=0,tr=null,ja(e,r,g,5);break;case 6:St=0,tr=null,ja(e,r,g,6);break;case 8:Vd(),on=6;break e;default:throw Error(i(462))}}fA();break}catch(_e){u1(e,_e)}while(!0);return ii=Ns=null,S.H=u,S.A=p,vt=a,st!==null?0:(It=null,ct=0,eu(),on)}function fA(){for(;st!==null&&!Dt();)h1(st)}function h1(e){var r=Ly(e.alternate,e,pi);e.memoizedProps=e.pendingProps,r===null?Uu(e):st=r}function p1(e){var r=e,a=r.alternate;switch(r.tag){case 15:case 0:r=Iy(a,r,r.pendingProps,r.type,void 0,ct);break;case 11:r=Iy(a,r,r.pendingProps,r.type.render,r.ref,ct);break;case 5:ad(r);default:Hy(a,r),r=st=dm(r,pi),r=Ly(a,r,pi)}e.memoizedProps=e.pendingProps,r===null?Uu(e):st=r}function ja(e,r,a,u){ii=Ns=null,ad(r),Na=null,zo=0;var p=r.return;try{if(JS(e,p,r,a,ct)){on=1,Eu(e,fr(a,e.current)),st=null;return}}catch(g){if(p!==null)throw st=p,g;on=1,Eu(e,fr(a,e.current)),st=null;return}r.flags&32768?(ft||u===1?e=!0:Da||(ct&536870912)!==0?e=!1:(Gi=e=!0,(u===2||u===9||u===3||u===6)&&(u=Jn.current,u!==null&&u.tag===13&&(u.flags|=16384))),m1(r,e)):Uu(r)}function Uu(e){var r=e;do{if((r.flags&32768)!==0){m1(r,Gi);return}e=r.return;var a=nA(r.alternate,r,pi);if(a!==null){st=a;return}if(r=r.sibling,r!==null){st=r;return}st=r=e}while(r!==null);on===0&&(on=5)}function m1(e,r){do{var a=rA(e.alternate,e);if(a!==null){a.flags&=32767,st=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(e=e.sibling,e!==null)){st=e;return}st=e=a}while(e!==null);on=6,st=null}function y1(e,r,a,u,p,g,k,P,J){e.cancelPendingCommit=null;do Du();while(wn!==0);if((vt&6)!==0)throw Error(i(327));if(r!==null){if(r===e.current)throw Error(i(177));if(g=r.lanes|r.childLanes,g|=Bf,nn(e,a,g,k,P,J),e===It&&(st=It=null,ct=0),za=r,Zi=e,mi=a,Pd=g,qd=p,s1=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,mA(A,function(){return v1(),null})):(e.callbackNode=null,e.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=S.T,S.T=null,p=N.p,N.p=2,k=vt,vt|=4;try{iA(e,r,a)}finally{vt=k,N.p=p,S.T=u}}wn=1,g1(),b1(),_1()}}function g1(){if(wn===1){wn=0;var e=Zi,r=za,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=S.T,S.T=null;var u=N.p;N.p=2;var p=vt;vt|=4;try{Wy(r,e);var g=rh,k=rm(e.containerInfo),P=g.focusedElem,J=g.selectionRange;if(k!==P&&P&&P.ownerDocument&&nm(P.ownerDocument.documentElement,P)){if(J!==null&&Of(P)){var de=J.start,_e=J.end;if(_e===void 0&&(_e=de),"selectionStart"in P)P.selectionStart=de,P.selectionEnd=Math.min(_e,P.value.length);else{var Ee=P.ownerDocument||document,me=Ee&&Ee.defaultView||window;if(me.getSelection){var be=me.getSelection(),Me=P.textContent.length,Ve=Math.min(J.start,Me),Nt=J.end===void 0?Ve:Math.min(J.end,Me);!be.extend&&Ve>Nt&&(k=Nt,Nt=Ve,Ve=k);var ae=tm(P,Ve),ee=tm(P,Nt);if(ae&&ee&&(be.rangeCount!==1||be.anchorNode!==ae.node||be.anchorOffset!==ae.offset||be.focusNode!==ee.node||be.focusOffset!==ee.offset)){var fe=Ee.createRange();fe.setStart(ae.node,ae.offset),be.removeAllRanges(),Ve>Nt?(be.addRange(fe),be.extend(ee.node,ee.offset)):(fe.setEnd(ee.node,ee.offset),be.addRange(fe))}}}}for(Ee=[],be=P;be=be.parentNode;)be.nodeType===1&&Ee.push({element:be,left:be.scrollLeft,top:be.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<Ee.length;P++){var we=Ee[P];we.element.scrollLeft=we.left,we.element.scrollTop=we.top}}Zu=!!nh,rh=nh=null}finally{vt=p,N.p=u,S.T=a}}e.current=r,wn=2}}function b1(){if(wn===2){wn=0;var e=Zi,r=za,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=S.T,S.T=null;var u=N.p;N.p=2;var p=vt;vt|=4;try{Fy(e,r.alternate,r)}finally{vt=p,N.p=u,S.T=a}}wn=3}}function _1(){if(wn===4||wn===3){wn=0,rt();var e=Zi,r=za,a=mi,u=s1;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?wn=5:(wn=0,za=Zi=null,w1(e,e.pendingLanes));var p=e.pendingLanes;if(p===0&&(Yi=null),oa(a),r=r.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(ge,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=S.T,p=N.p,N.p=2,S.T=null;try{for(var g=e.onRecoverableError,k=0;k<u.length;k++){var P=u[k];g(P.value,{componentStack:P.stack})}}finally{S.T=r,N.p=p}}(mi&3)!==0&&Du(),zr(e),p=e.pendingLanes,(a&261930)!==0&&(p&42)!==0?e===Kd?tc++:(tc=0,Kd=e):tc=0,nc(0)}}function w1(e,r){(e.pooledCacheLanes&=r)===0&&(r=e.pooledCache,r!=null&&(e.pooledCache=null,Do(r)))}function Du(){return g1(),b1(),_1(),v1()}function v1(){if(wn!==5)return!1;var e=Zi,r=Pd;Pd=0;var a=oa(mi),u=S.T,p=N.p;try{N.p=32>a?32:a,S.T=null,a=qd,qd=null;var g=Zi,k=mi;if(wn=0,za=Zi=null,mi=0,(vt&6)!==0)throw Error(i(331));var P=vt;if(vt|=4,n1(g.current),Jy(g,g.current,k,a),vt=P,nc(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(ge,g)}catch{}return!0}finally{N.p=p,S.T=u,w1(e,r)}}function E1(e,r,a){r=fr(a,r),r=vd(e.stateNode,r,2),e=Pi(e,r,2),e!==null&&(Ii(e,2),zr(e))}function At(e,r,a){if(e.tag===3)E1(e,e,a);else for(;r!==null;){if(r.tag===3){E1(r,e,a);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Yi===null||!Yi.has(u))){e=fr(a,e),a=Sy(2),u=Pi(r,a,2),u!==null&&(Ay(a,u,r,e),Ii(u,2),zr(u));break}}r=r.return}}function Fd(e,r,a){var u=e.pingCache;if(u===null){u=e.pingCache=new oA;var p=new Set;u.set(r,p)}else p=u.get(r),p===void 0&&(p=new Set,u.set(r,p));p.has(a)||(zd=!0,p.add(a),e=dA.bind(null,e,r,a),r.then(e,e))}function dA(e,r,a){var u=e.pingCache;u!==null&&u.delete(r),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,It===e&&(ct&a)===a&&(on===4||on===3&&(ct&62914560)===ct&&300>qe()-ku?(vt&2)===0&&Ha(e,0):Hd|=a,La===ct&&(La=0)),zr(e)}function S1(e,r){r===0&&(r=Yt()),e=xs(e,r),e!==null&&(Ii(e,r),zr(e))}function hA(e){var r=e.memoizedState,a=0;r!==null&&(a=r.retryLane),S1(e,a)}function pA(e,r){var a=0;switch(e.tag){case 31:case 13:var u=e.stateNode,p=e.memoizedState;p!==null&&(a=p.retryLane);break;case 19:u=e.stateNode;break;case 22:u=e.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(r),S1(e,a)}function mA(e,r){return _t(e,r)}var Lu=null,Pa=null,Yd=!1,zu=!1,Zd=!1,$i=0;function zr(e){e!==Pa&&e.next===null&&(Pa===null?Lu=Pa=e:Pa=Pa.next=e),zu=!0,Yd||(Yd=!0,gA())}function nc(e,r){if(!Zd&&zu){Zd=!0;do for(var a=!1,u=Lu;u!==null;){if(e!==0){var p=u.pendingLanes;if(p===0)var g=0;else{var k=u.suspendedLanes,P=u.pingedLanes;g=(1<<31-Ue(42|e)+1)-1,g&=p&~(k&~P),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(a=!0,T1(u,g))}else g=ct,g=Ht(u,u===It?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Ct(u,g)||(a=!0,T1(u,g));u=u.next}while(a);Zd=!1}}function yA(){A1()}function A1(){zu=Yd=!1;var e=0;$i!==0&&TA()&&(e=$i);for(var r=qe(),a=null,u=Lu;u!==null;){var p=u.next,g=R1(u,r);g===0?(u.next=null,a===null?Lu=p:a.next=p,p===null&&(Pa=a)):(a=u,(e!==0||(g&3)!==0)&&(zu=!0)),u=p}wn!==0&&wn!==5||nc(e),$i!==0&&($i=0)}function R1(e,r){for(var a=e.suspendedLanes,u=e.pingedLanes,p=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var k=31-Ue(g),P=1<<k,J=p[k];J===-1?((P&a)===0||(P&u)!==0)&&(p[k]=Vc(P,r)):J<=r&&(e.expiredLanes|=P),g&=~P}if(r=It,a=ct,a=Ht(e,e===r?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u=e.callbackNode,a===0||e===r&&(St===2||St===9)||e.cancelPendingCommit!==null)return u!==null&&u!==null&&Fe(u),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ct(e,a)){if(r=a&-a,r===e.callbackPriority)return r;switch(u!==null&&Fe(u),oa(a)){case 2:case 8:a=H;break;case 32:a=A;break;case 268435456:a=q;break;default:a=A}return u=x1.bind(null,e),a=_t(a,u),e.callbackPriority=r,e.callbackNode=a,r}return u!==null&&u!==null&&Fe(u),e.callbackPriority=2,e.callbackNode=null,2}function x1(e,r){if(wn!==0&&wn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Du()&&e.callbackNode!==a)return null;var u=ct;return u=Ht(e,e===It?u:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u===0?null:(o1(e,u,r),R1(e,qe()),e.callbackNode!=null&&e.callbackNode===a?x1.bind(null,e):null)}function T1(e,r){if(Du())return null;o1(e,r,!0)}function gA(){NA(function(){(vt&6)!==0?_t(wt,yA):A1()})}function Xd(){if($i===0){var e=xa;e===0&&(e=vs,vs<<=1,(vs&261888)===0&&(vs=256)),$i=e}return $i}function O1(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Fc(""+e)}function N1(e,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,e.id&&a.setAttribute("form",e.id),r.parentNode.insertBefore(a,r),e=new FormData(e),a.parentNode.removeChild(a),e}function bA(e,r,a,u,p){if(r==="submit"&&a&&a.stateNode===p){var g=O1((p[lt]||null).action),k=u.submitter;k&&(r=(r=k[lt]||null)?O1(r.formAction):k.getAttribute("formAction"),r!==null&&(g=r,k=null));var P=new $c("action","action",null,u,p);e.push({event:P,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if($i!==0){var J=k?N1(p,k):new FormData(p);md(a,{pending:!0,data:J,method:p.method,action:g},null,J)}}else typeof g=="function"&&(P.preventDefault(),J=k?N1(p,k):new FormData(p),md(a,{pending:!0,data:J,method:p.method,action:g},g,J))},currentTarget:p}]})}}for(var $d=0;$d<Cf.length;$d++){var Wd=Cf[$d],_A=Wd.toLowerCase(),wA=Wd[0].toUpperCase()+Wd.slice(1);Sr(_A,"on"+wA)}Sr(am,"onAnimationEnd"),Sr(om,"onAnimationIteration"),Sr(cm,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(DS,"onTransitionRun"),Sr(LS,"onTransitionStart"),Sr(zS,"onTransitionCancel"),Sr(um,"onTransitionEnd"),Mr("onMouseEnter",["mouseout","mouseover"]),Mr("onMouseLeave",["mouseout","mouseover"]),Mr("onPointerEnter",["pointerout","pointerover"]),Mr("onPointerLeave",["pointerout","pointerover"]),Er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Er("onBeforeInput",["compositionend","keypress","textInput","paste"]),Er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rc));function k1(e,r){r=(r&4)!==0;for(var a=0;a<e.length;a++){var u=e[a],p=u.event;u=u.listeners;e:{var g=void 0;if(r)for(var k=u.length-1;0<=k;k--){var P=u[k],J=P.instance,de=P.currentTarget;if(P=P.listener,J!==g&&p.isPropagationStopped())break e;g=P,p.currentTarget=de;try{g(p)}catch(_e){Jc(_e)}p.currentTarget=null,g=J}else for(k=0;k<u.length;k++){if(P=u[k],J=P.instance,de=P.currentTarget,P=P.listener,J!==g&&p.isPropagationStopped())break e;g=P,p.currentTarget=de;try{g(p)}catch(_e){Jc(_e)}p.currentTarget=null,g=J}}}}function at(e,r){var a=r[Vt];a===void 0&&(a=r[Vt]=new Set);var u=e+"__bubble";a.has(u)||(I1(r,e,2,!1),a.add(u))}function Qd(e,r,a){var u=0;r&&(u|=4),I1(a,e,u,r)}var Hu="_reactListening"+Math.random().toString(36).slice(2);function Jd(e){if(!e[Hu]){e[Hu]=!0,ua.forEach(function(a){a!=="selectionchange"&&(vA.has(a)||Qd(a,!1,e),Qd(a,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[Hu]||(r[Hu]=!0,Qd("selectionchange",!1,r))}}function I1(e,r,a,u){switch(ag(r)){case 2:var p=XA;break;case 8:p=$A;break;default:p=ph}a=p.bind(null,r,a,e),p=void 0,!_f||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(p=!0),u?p!==void 0?e.addEventListener(r,a,{capture:!0,passive:p}):e.addEventListener(r,a,!0):p!==void 0?e.addEventListener(r,a,{passive:p}):e.addEventListener(r,a,!1)}function eh(e,r,a,u,p){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var k=u.tag;if(k===3||k===4){var P=u.stateNode.containerInfo;if(P===p)break;if(k===4)for(k=u.return;k!==null;){var J=k.tag;if((J===3||J===4)&&k.stateNode.containerInfo===p)return;k=k.return}for(;P!==null;){if(k=Ir(P),k===null)return;if(J=k.tag,J===5||J===6||J===26||J===27){u=g=k;continue e}P=P.parentNode}}u=u.return}Dp(function(){var de=g,_e=gf(a),Ee=[];e:{var me=lm.get(e);if(me!==void 0){var be=$c,Me=e;switch(e){case"keypress":if(Zc(a)===0)break e;case"keydown":case"keyup":be=pS;break;case"focusin":Me="focus",be=Sf;break;case"focusout":Me="blur",be=Sf;break;case"beforeblur":case"afterblur":be=Sf;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":be=Hp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":be=nS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":be=gS;break;case am:case om:case cm:be=sS;break;case um:be=_S;break;case"scroll":case"scrollend":be=eS;break;case"wheel":be=vS;break;case"copy":case"cut":case"paste":be=oS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":be=Pp;break;case"toggle":case"beforetoggle":be=SS}var Ve=(r&4)!==0,Nt=!Ve&&(e==="scroll"||e==="scrollend"),ae=Ve?me!==null?me+"Capture":null:me;Ve=[];for(var ee=de,fe;ee!==null;){var we=ee;if(fe=we.stateNode,we=we.tag,we!==5&&we!==26&&we!==27||fe===null||ae===null||(we=Ro(ee,ae),we!=null&&Ve.push(ic(ee,we,fe))),Nt)break;ee=ee.return}0<Ve.length&&(me=new be(me,Me,null,a,_e),Ee.push({event:me,listeners:Ve}))}}if((r&7)===0){e:{if(me=e==="mouseover"||e==="pointerover",be=e==="mouseout"||e==="pointerout",me&&a!==yf&&(Me=a.relatedTarget||a.fromElement)&&(Ir(Me)||Me[$r]))break e;if((be||me)&&(me=_e.window===_e?_e:(me=_e.ownerDocument)?me.defaultView||me.parentWindow:window,be?(Me=a.relatedTarget||a.toElement,be=de,Me=Me?Ir(Me):null,Me!==null&&(Nt=o(Me),Ve=Me.tag,Me!==Nt||Ve!==5&&Ve!==27&&Ve!==6)&&(Me=null)):(be=null,Me=de),be!==Me)){if(Ve=Hp,we="onMouseLeave",ae="onMouseEnter",ee="mouse",(e==="pointerout"||e==="pointerover")&&(Ve=Pp,we="onPointerLeave",ae="onPointerEnter",ee="pointer"),Nt=be==null?me:Qr(be),fe=Me==null?me:Qr(Me),me=new Ve(we,ee+"leave",be,a,_e),me.target=Nt,me.relatedTarget=fe,we=null,Ir(_e)===de&&(Ve=new Ve(ae,ee+"enter",Me,a,_e),Ve.target=fe,Ve.relatedTarget=Nt,we=Ve),Nt=we,be&&Me)t:{for(Ve=EA,ae=be,ee=Me,fe=0,we=ae;we;we=Ve(we))fe++;we=0;for(var He=ee;He;He=Ve(He))we++;for(;0<fe-we;)ae=Ve(ae),fe--;for(;0<we-fe;)ee=Ve(ee),we--;for(;fe--;){if(ae===ee||ee!==null&&ae===ee.alternate){Ve=ae;break t}ae=Ve(ae),ee=Ve(ee)}Ve=null}else Ve=null;be!==null&&C1(Ee,me,be,Ve,!1),Me!==null&&Nt!==null&&C1(Ee,Nt,Me,Ve,!0)}}e:{if(me=de?Qr(de):window,be=me.nodeName&&me.nodeName.toLowerCase(),be==="select"||be==="input"&&me.type==="file")var yt=Xp;else if(Yp(me))if($p)yt=BS;else{yt=IS;var De=kS}else be=me.nodeName,!be||be.toLowerCase()!=="input"||me.type!=="checkbox"&&me.type!=="radio"?de&&mf(de.elementType)&&(yt=Xp):yt=CS;if(yt&&(yt=yt(e,de))){Zp(Ee,yt,a,_e);break e}De&&De(e,me,de),e==="focusout"&&de&&me.type==="number"&&de.memoizedProps.value!=null&&pf(me,"number",me.value)}switch(De=de?Qr(de):window,e){case"focusin":(Yp(De)||De.contentEditable==="true")&&(ba=De,Nf=de,Bo=null);break;case"focusout":Bo=Nf=ba=null;break;case"mousedown":kf=!0;break;case"contextmenu":case"mouseup":case"dragend":kf=!1,im(Ee,a,_e);break;case"selectionchange":if(US)break;case"keydown":case"keyup":im(Ee,a,_e)}var Je;if(Rf)e:{switch(e){case"compositionstart":var ut="onCompositionStart";break e;case"compositionend":ut="onCompositionEnd";break e;case"compositionupdate":ut="onCompositionUpdate";break e}ut=void 0}else ga?Gp(e,a)&&(ut="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ut="onCompositionStart");ut&&(qp&&a.locale!=="ko"&&(ga||ut!=="onCompositionStart"?ut==="onCompositionEnd"&&ga&&(Je=Lp()):(Mi=_e,wf="value"in Mi?Mi.value:Mi.textContent,ga=!0)),De=ju(de,ut),0<De.length&&(ut=new jp(ut,e,null,a,_e),Ee.push({event:ut,listeners:De}),Je?ut.data=Je:(Je=Fp(a),Je!==null&&(ut.data=Je)))),(Je=RS?xS(e,a):TS(e,a))&&(ut=ju(de,"onBeforeInput"),0<ut.length&&(De=new jp("onBeforeInput","beforeinput",null,a,_e),Ee.push({event:De,listeners:ut}),De.data=Je)),bA(Ee,e,de,a,_e)}k1(Ee,r)})}function ic(e,r,a){return{instance:e,listener:r,currentTarget:a}}function ju(e,r){for(var a=r+"Capture",u=[];e!==null;){var p=e,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=Ro(e,a),p!=null&&u.unshift(ic(e,p,g)),p=Ro(e,r),p!=null&&u.push(ic(e,p,g))),e.tag===3)return u;e=e.return}return[]}function EA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function C1(e,r,a,u,p){for(var g=r._reactName,k=[];a!==null&&a!==u;){var P=a,J=P.alternate,de=P.stateNode;if(P=P.tag,J!==null&&J===u)break;P!==5&&P!==26&&P!==27||de===null||(J=de,p?(de=Ro(a,g),de!=null&&k.unshift(ic(a,de,J))):p||(de=Ro(a,g),de!=null&&k.push(ic(a,de,J)))),a=a.return}k.length!==0&&e.push({event:r,listeners:k})}var SA=/\r\n?/g,AA=/\u0000|\uFFFD/g;function B1(e){return(typeof e=="string"?e:""+e).replace(SA,`
`).replace(AA,"")}function M1(e,r){return r=B1(r),B1(e)===r}function Ot(e,r,a,u,p,g){switch(a){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||pa(e,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&pa(e,""+u);break;case"className":Bi(e,"class",u);break;case"tabIndex":Bi(e,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Bi(e,a,u);break;case"style":Mp(e,u,g);break;case"data":if(r!=="object"){Bi(e,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||a!=="href")){e.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(a);break}u=Fc(""+u),e.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(a==="formAction"?(r!=="input"&&Ot(e,r,"name",p.name,p,null),Ot(e,r,"formEncType",p.formEncType,p,null),Ot(e,r,"formMethod",p.formMethod,p,null),Ot(e,r,"formTarget",p.formTarget,p,null)):(Ot(e,r,"encType",p.encType,p,null),Ot(e,r,"method",p.method,p,null),Ot(e,r,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(a);break}u=Fc(""+u),e.setAttribute(a,u);break;case"onClick":u!=null&&(e.onclick=ei);break;case"onScroll":u!=null&&at("scroll",e);break;case"onScrollEnd":u!=null&&at("scrollend",e);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(a=u.__html,a!=null){if(p.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"multiple":e.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":e.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){e.removeAttribute("xlink:href");break}a=Fc(""+u),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(a,""+u):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":u===!0?e.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(a,u):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?e.setAttribute(a,u):e.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?e.removeAttribute(a):e.setAttribute(a,u);break;case"popover":at("beforetoggle",e),at("toggle",e),Ci(e,"popover",u);break;case"xlinkActuate":Jr(e,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Jr(e,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Jr(e,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Jr(e,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Jr(e,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Jr(e,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Jr(e,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Jr(e,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Jr(e,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ci(e,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=QE.get(a)||a,Ci(e,a,u))}}function th(e,r,a,u,p,g){switch(a){case"style":Mp(e,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(a=u.__html,a!=null){if(p.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"children":typeof u=="string"?pa(e,u):(typeof u=="number"||typeof u=="bigint")&&pa(e,""+u);break;case"onScroll":u!=null&&at("scroll",e);break;case"onScrollEnd":u!=null&&at("scrollend",e);break;case"onClick":u!=null&&(e.onclick=ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!la.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(p=a.endsWith("Capture"),r=a.slice(2,p?a.length-7:void 0),g=e[lt]||null,g=g!=null?g[a]:null,typeof g=="function"&&e.removeEventListener(r,g,p),typeof u=="function")){typeof g!="function"&&g!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(r,u,p);break e}a in e?e[a]=u:u===!0?e.setAttribute(a,""):Ci(e,a,u)}}}function On(e,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":at("error",e),at("load",e);var u=!1,p=!1,g;for(g in a)if(a.hasOwnProperty(g)){var k=a[g];if(k!=null)switch(g){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Ot(e,r,g,k,a,null)}}p&&Ot(e,r,"srcSet",a.srcSet,a,null),u&&Ot(e,r,"src",a.src,a,null);return;case"input":at("invalid",e);var P=g=k=p=null,J=null,de=null;for(u in a)if(a.hasOwnProperty(u)){var _e=a[u];if(_e!=null)switch(u){case"name":p=_e;break;case"type":k=_e;break;case"checked":J=_e;break;case"defaultChecked":de=_e;break;case"value":g=_e;break;case"defaultValue":P=_e;break;case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(i(137,r));break;default:Ot(e,r,u,_e,a,null)}}kp(e,g,P,J,de,k,p,!1);return;case"select":at("invalid",e),u=k=g=null;for(p in a)if(a.hasOwnProperty(p)&&(P=a[p],P!=null))switch(p){case"value":g=P;break;case"defaultValue":k=P;break;case"multiple":u=P;default:Ot(e,r,p,P,a,null)}r=g,a=k,e.multiple=!!u,r!=null?ha(e,!!u,r,!1):a!=null&&ha(e,!!u,a,!0);return;case"textarea":at("invalid",e),g=p=u=null;for(k in a)if(a.hasOwnProperty(k)&&(P=a[k],P!=null))switch(k){case"value":u=P;break;case"defaultValue":p=P;break;case"children":g=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(i(91));break;default:Ot(e,r,k,P,a,null)}Cp(e,u,p,g);return;case"option":for(J in a)a.hasOwnProperty(J)&&(u=a[J],u!=null)&&(J==="selected"?e.selected=u&&typeof u!="function"&&typeof u!="symbol":Ot(e,r,J,u,a,null));return;case"dialog":at("beforetoggle",e),at("toggle",e),at("cancel",e),at("close",e);break;case"iframe":case"object":at("load",e);break;case"video":case"audio":for(u=0;u<rc.length;u++)at(rc[u],e);break;case"image":at("error",e),at("load",e);break;case"details":at("toggle",e);break;case"embed":case"source":case"link":at("error",e),at("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(de in a)if(a.hasOwnProperty(de)&&(u=a[de],u!=null))switch(de){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Ot(e,r,de,u,a,null)}return;default:if(mf(r)){for(_e in a)a.hasOwnProperty(_e)&&(u=a[_e],u!==void 0&&th(e,r,_e,u,a,void 0));return}}for(P in a)a.hasOwnProperty(P)&&(u=a[P],u!=null&&Ot(e,r,P,u,a,null))}function RA(e,r,a,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,k=null,P=null,J=null,de=null,_e=null;for(be in a){var Ee=a[be];if(a.hasOwnProperty(be)&&Ee!=null)switch(be){case"checked":break;case"value":break;case"defaultValue":J=Ee;default:u.hasOwnProperty(be)||Ot(e,r,be,null,u,Ee)}}for(var me in u){var be=u[me];if(Ee=a[me],u.hasOwnProperty(me)&&(be!=null||Ee!=null))switch(me){case"type":g=be;break;case"name":p=be;break;case"checked":de=be;break;case"defaultChecked":_e=be;break;case"value":k=be;break;case"defaultValue":P=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(i(137,r));break;default:be!==Ee&&Ot(e,r,me,be,u,Ee)}}hf(e,k,P,J,de,_e,g,p);return;case"select":be=k=P=me=null;for(g in a)if(J=a[g],a.hasOwnProperty(g)&&J!=null)switch(g){case"value":break;case"multiple":be=J;default:u.hasOwnProperty(g)||Ot(e,r,g,null,u,J)}for(p in u)if(g=u[p],J=a[p],u.hasOwnProperty(p)&&(g!=null||J!=null))switch(p){case"value":me=g;break;case"defaultValue":P=g;break;case"multiple":k=g;default:g!==J&&Ot(e,r,p,g,u,J)}r=P,a=k,u=be,me!=null?ha(e,!!a,me,!1):!!u!=!!a&&(r!=null?ha(e,!!a,r,!0):ha(e,!!a,a?[]:"",!1));return;case"textarea":be=me=null;for(P in a)if(p=a[P],a.hasOwnProperty(P)&&p!=null&&!u.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:Ot(e,r,P,null,u,p)}for(k in u)if(p=u[k],g=a[k],u.hasOwnProperty(k)&&(p!=null||g!=null))switch(k){case"value":me=p;break;case"defaultValue":be=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==g&&Ot(e,r,k,p,u,g)}Ip(e,me,be);return;case"option":for(var Me in a)me=a[Me],a.hasOwnProperty(Me)&&me!=null&&!u.hasOwnProperty(Me)&&(Me==="selected"?e.selected=!1:Ot(e,r,Me,null,u,me));for(J in u)me=u[J],be=a[J],u.hasOwnProperty(J)&&me!==be&&(me!=null||be!=null)&&(J==="selected"?e.selected=me&&typeof me!="function"&&typeof me!="symbol":Ot(e,r,J,me,u,be));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in a)me=a[Ve],a.hasOwnProperty(Ve)&&me!=null&&!u.hasOwnProperty(Ve)&&Ot(e,r,Ve,null,u,me);for(de in u)if(me=u[de],be=a[de],u.hasOwnProperty(de)&&me!==be&&(me!=null||be!=null))switch(de){case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(i(137,r));break;default:Ot(e,r,de,me,u,be)}return;default:if(mf(r)){for(var Nt in a)me=a[Nt],a.hasOwnProperty(Nt)&&me!==void 0&&!u.hasOwnProperty(Nt)&&th(e,r,Nt,void 0,u,me);for(_e in u)me=u[_e],be=a[_e],!u.hasOwnProperty(_e)||me===be||me===void 0&&be===void 0||th(e,r,_e,me,u,be);return}}for(var ae in a)me=a[ae],a.hasOwnProperty(ae)&&me!=null&&!u.hasOwnProperty(ae)&&Ot(e,r,ae,null,u,me);for(Ee in u)me=u[Ee],be=a[Ee],!u.hasOwnProperty(Ee)||me===be||me==null&&be==null||Ot(e,r,Ee,me,u,be)}function U1(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function xA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,r=0,a=performance.getEntriesByType("resource"),u=0;u<a.length;u++){var p=a[u],g=p.transferSize,k=p.initiatorType,P=p.duration;if(g&&P&&U1(k)){for(k=0,P=p.responseEnd,u+=1;u<a.length;u++){var J=a[u],de=J.startTime;if(de>P)break;var _e=J.transferSize,Ee=J.initiatorType;_e&&U1(Ee)&&(J=J.responseEnd,k+=_e*(J<P?1:(P-de)/(J-de)))}if(--u,r+=8*(g+k)/(p.duration/1e3),e++,10<e)break}}if(0<e)return r/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var nh=null,rh=null;function Pu(e){return e.nodeType===9?e:e.ownerDocument}function D1(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function L1(e,r){if(e===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&r==="foreignObject"?0:e}function ih(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var sh=null;function TA(){var e=window.event;return e&&e.type==="popstate"?e===sh?!1:(sh=e,!0):(sh=null,!1)}var z1=typeof setTimeout=="function"?setTimeout:void 0,OA=typeof clearTimeout=="function"?clearTimeout:void 0,H1=typeof Promise=="function"?Promise:void 0,NA=typeof queueMicrotask=="function"?queueMicrotask:typeof H1<"u"?function(e){return H1.resolve(null).then(e).catch(kA)}:z1;function kA(e){setTimeout(function(){throw e})}function Wi(e){return e==="head"}function j1(e,r){var a=r,u=0;do{var p=a.nextSibling;if(e.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"||a==="/&"){if(u===0){e.removeChild(p),Ga(r);return}u--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")u++;else if(a==="html")sc(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,sc(a);for(var g=a.firstChild;g;){var k=g.nextSibling,P=g.nodeName;g[Wr]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&g.rel.toLowerCase()==="stylesheet"||a.removeChild(g),g=k}}else a==="body"&&sc(e.ownerDocument.body);a=p}while(a);Ga(r)}function P1(e,r){var a=e;e=0;do{var u=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=u}while(a)}function ah(e){var r=e.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ah(a),Es(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function IA(e,r,a,u){for(;e.nodeType===1;){var p=a;if(e.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(u){if(!e[Wr])switch(r){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==p.rel||e.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||e.getAttribute("title")!==(p.title==null?null:p.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(p.src==null?null:p.src)||e.getAttribute("type")!==(p.type==null?null:p.type)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(r==="input"&&e.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=yr(e.nextSibling),e===null)break}return null}function CA(e,r,a){if(r==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=yr(e.nextSibling),e===null))return null;return e}function q1(e,r){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=yr(e.nextSibling),e===null))return null;return e}function oh(e){return e.data==="$?"||e.data==="$~"}function ch(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function BA(e,r){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=r;else if(e.data!=="$?"||a.readyState!=="loading")r();else{var u=function(){r(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),e._reactRetry=u}}function yr(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return e}var uh=null;function K1(e){e=e.nextSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(r===0)return yr(e.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}e=e.nextSibling}return null}function V1(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return e;r--}else a!=="/$"&&a!=="/&"||r++}e=e.previousSibling}return null}function G1(e,r,a){switch(r=Pu(a),e){case"html":if(e=r.documentElement,!e)throw Error(i(452));return e;case"head":if(e=r.head,!e)throw Error(i(453));return e;case"body":if(e=r.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function sc(e){for(var r=e.attributes;r.length;)e.removeAttributeNode(r[0]);Es(e)}var gr=new Map,F1=new Set;function qu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var yi=N.d;N.d={f:MA,r:UA,D:DA,C:LA,L:zA,m:HA,X:PA,S:jA,M:qA};function MA(){var e=yi.f(),r=Bu();return e||r}function UA(e){var r=Cr(e);r!==null&&r.tag===5&&r.type==="form"?uy(r):yi.r(e)}var qa=typeof document>"u"?null:document;function Y1(e,r,a){var u=qa;if(u&&typeof r=="string"&&r){var p=ur(r);p='link[rel="'+e+'"][href="'+p+'"]',typeof a=="string"&&(p+='[crossorigin="'+a+'"]'),F1.has(p)||(F1.add(p),e={rel:e,crossOrigin:a,href:r},u.querySelector(p)===null&&(r=u.createElement("link"),On(r,"link",e),sn(r),u.head.appendChild(r)))}}function DA(e){yi.D(e),Y1("dns-prefetch",e,null)}function LA(e,r){yi.C(e,r),Y1("preconnect",e,r)}function zA(e,r,a){yi.L(e,r,a);var u=qa;if(u&&e&&r){var p='link[rel="preload"][as="'+ur(r)+'"]';r==="image"&&a&&a.imageSrcSet?(p+='[imagesrcset="'+ur(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(p+='[imagesizes="'+ur(a.imageSizes)+'"]')):p+='[href="'+ur(e)+'"]';var g=p;switch(r){case"style":g=Ka(e);break;case"script":g=Va(e)}gr.has(g)||(e=C({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:e,as:r},a),gr.set(g,e),u.querySelector(p)!==null||r==="style"&&u.querySelector(ac(g))||r==="script"&&u.querySelector(oc(g))||(r=u.createElement("link"),On(r,"link",e),sn(r),u.head.appendChild(r)))}}function HA(e,r){yi.m(e,r);var a=qa;if(a&&e){var u=r&&typeof r.as=="string"?r.as:"script",p='link[rel="modulepreload"][as="'+ur(u)+'"][href="'+ur(e)+'"]',g=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Va(e)}if(!gr.has(g)&&(e=C({rel:"modulepreload",href:e},r),gr.set(g,e),a.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(oc(g)))return}u=a.createElement("link"),On(u,"link",e),sn(u),a.head.appendChild(u)}}}function jA(e,r,a){yi.S(e,r,a);var u=qa;if(u&&e){var p=Br(u).hoistableStyles,g=Ka(e);r=r||"default";var k=p.get(g);if(!k){var P={loading:0,preload:null};if(k=u.querySelector(ac(g)))P.loading=5;else{e=C({rel:"stylesheet",href:e,"data-precedence":r},a),(a=gr.get(g))&&lh(e,a);var J=k=u.createElement("link");sn(J),On(J,"link",e),J._p=new Promise(function(de,_e){J.onload=de,J.onerror=_e}),J.addEventListener("load",function(){P.loading|=1}),J.addEventListener("error",function(){P.loading|=2}),P.loading|=4,Ku(k,r,u)}k={type:"stylesheet",instance:k,count:1,state:P},p.set(g,k)}}}function PA(e,r){yi.X(e,r);var a=qa;if(a&&e){var u=Br(a).hoistableScripts,p=Va(e),g=u.get(p);g||(g=a.querySelector(oc(p)),g||(e=C({src:e,async:!0},r),(r=gr.get(p))&&fh(e,r),g=a.createElement("script"),sn(g),On(g,"link",e),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(p,g))}}function qA(e,r){yi.M(e,r);var a=qa;if(a&&e){var u=Br(a).hoistableScripts,p=Va(e),g=u.get(p);g||(g=a.querySelector(oc(p)),g||(e=C({src:e,async:!0,type:"module"},r),(r=gr.get(p))&&fh(e,r),g=a.createElement("script"),sn(g),On(g,"link",e),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(p,g))}}function Z1(e,r,a,u){var p=(p=Z.current)?qu(p):null;if(!p)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Ka(a.href),a=Br(p).hoistableStyles,u=a.get(r),u||(u={type:"style",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ka(a.href);var g=Br(p).hoistableStyles,k=g.get(e);if(k||(p=p.ownerDocument||p,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,k),(g=p.querySelector(ac(e)))&&!g._p&&(k.instance=g,k.state.loading=5),gr.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},gr.set(e,a),g||KA(p,e,a,k.state))),r&&u===null)throw Error(i(528,""));return k}if(r&&u!==null)throw Error(i(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Va(a),a=Br(p).hoistableScripts,u=a.get(r),u||(u={type:"script",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Ka(e){return'href="'+ur(e)+'"'}function ac(e){return'link[rel="stylesheet"]['+e+"]"}function X1(e){return C({},e,{"data-precedence":e.precedence,precedence:null})}function KA(e,r,a,u){e.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=e.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),On(r,"link",a),sn(r),e.head.appendChild(r))}function Va(e){return'[src="'+ur(e)+'"]'}function oc(e){return"script[async]"+e}function $1(e,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var u=e.querySelector('style[data-href~="'+ur(a.href)+'"]');if(u)return r.instance=u,sn(u),u;var p=C({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(e.ownerDocument||e).createElement("style"),sn(u),On(u,"style",p),Ku(u,a.precedence,e),r.instance=u;case"stylesheet":p=Ka(a.href);var g=e.querySelector(ac(p));if(g)return r.state.loading|=4,r.instance=g,sn(g),g;u=X1(a),(p=gr.get(p))&&lh(u,p),g=(e.ownerDocument||e).createElement("link"),sn(g);var k=g;return k._p=new Promise(function(P,J){k.onload=P,k.onerror=J}),On(g,"link",u),r.state.loading|=4,Ku(g,a.precedence,e),r.instance=g;case"script":return g=Va(a.src),(p=e.querySelector(oc(g)))?(r.instance=p,sn(p),p):(u=a,(p=gr.get(g))&&(u=C({},a),fh(u,p)),e=e.ownerDocument||e,p=e.createElement("script"),sn(p),On(p,"link",u),e.head.appendChild(p),r.instance=p);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Ku(u,a.precedence,e));return r.instance}function Ku(e,r,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,g=p,k=0;k<u.length;k++){var P=u[k];if(P.dataset.precedence===r)g=P;else if(g!==p)break}g?g.parentNode.insertBefore(e,g.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(e,r.firstChild))}function lh(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.title==null&&(e.title=r.title)}function fh(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.integrity==null&&(e.integrity=r.integrity)}var Vu=null;function W1(e,r,a){if(Vu===null){var u=new Map,p=Vu=new Map;p.set(a,u)}else p=Vu,u=p.get(a),u||(u=new Map,p.set(a,u));if(u.has(e))return u;for(u.set(e,null),a=a.getElementsByTagName(e),p=0;p<a.length;p++){var g=a[p];if(!(g[Wr]||g[it]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var k=g.getAttribute(r)||"";k=e+k;var P=u.get(k);P?P.push(g):u.set(k,[g])}}return u}function Q1(e,r,a){e=e.ownerDocument||e,e.head.insertBefore(a,r==="title"?e.querySelector("head > title"):null)}function VA(e,r,a){if(a===1||r.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(e=r.disabled,typeof r.precedence=="string"&&e==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function J1(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function GA(e,r,a,u){if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var p=Ka(u.href),g=r.querySelector(ac(p));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(e.count++,e=Gu.bind(e),r.then(e,e)),a.state.loading|=4,a.instance=g,sn(g);return}g=r.ownerDocument||r,u=X1(u),(p=gr.get(p))&&lh(u,p),g=g.createElement("link"),sn(g);var k=g;k._p=new Promise(function(P,J){k.onload=P,k.onerror=J}),On(g,"link",u),a.instance=g}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Gu.bind(e),r.addEventListener("load",a),r.addEventListener("error",a))}}var dh=0;function FA(e,r){return e.stylesheets&&e.count===0&&Yu(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var u=setTimeout(function(){if(e.stylesheets&&Yu(e,e.stylesheets),e.unsuspend){var g=e.unsuspend;e.unsuspend=null,g()}},6e4+r);0<e.imgBytes&&dh===0&&(dh=62500*xA());var p=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Yu(e,e.stylesheets),e.unsuspend)){var g=e.unsuspend;e.unsuspend=null,g()}},(e.imgBytes>dh?50:800)+r);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function Gu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Yu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Fu=null;function Yu(e,r){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Fu=new Map,r.forEach(YA,e),Fu=null,Gu.call(e))}function YA(e,r){if(!(r.state.loading&4)){var a=Fu.get(e);if(a)var u=a.get(null);else{a=new Map,Fu.set(e,a);for(var p=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var k=p[g];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(a.set(k.dataset.precedence,k),u=k)}u&&a.set(null,u)}p=r.instance,k=p.getAttribute("data-precedence"),g=a.get(k)||u,g===u&&a.set(null,p),a.set(k,p),this.count++,u=Gu.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),g?g.parentNode.insertBefore(p,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(p,e.firstChild)),r.state.loading|=4}}var cc={$$typeof:V,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function ZA(e,r,a,u,p,g,k,P,J){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qt(0),this.hiddenUpdates=qt(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=J,this.incompleteTransitions=new Map}function eg(e,r,a,u,p,g,k,P,J,de,_e,Ee){return e=new ZA(e,r,a,k,J,de,_e,Ee,P),r=1,g===!0&&(r|=24),g=Qn(3,null,null,r),e.current=g,g.stateNode=e,r=Gf(),r.refCount++,e.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:a,cache:r},Xf(g),e}function tg(e){return e?(e=va,e):va}function ng(e,r,a,u,p,g){p=tg(p),u.context===null?u.context=p:u.pendingContext=p,u=ji(r),u.payload={element:a},g=g===void 0?null:g,g!==null&&(u.callback=g),a=Pi(e,u,r),a!==null&&(Fn(a,e,r),jo(a,e,r))}function rg(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<r?a:r}}function hh(e,r){rg(e,r),(e=e.alternate)&&rg(e,r)}function ig(e){if(e.tag===13||e.tag===31){var r=xs(e,67108864);r!==null&&Fn(r,e,67108864),hh(e,67108864)}}function sg(e){if(e.tag===13||e.tag===31){var r=rr();r=Kt(r);var a=xs(e,r);a!==null&&Fn(a,e,r),hh(e,r)}}var Zu=!0;function XA(e,r,a,u){var p=S.T;S.T=null;var g=N.p;try{N.p=2,ph(e,r,a,u)}finally{N.p=g,S.T=p}}function $A(e,r,a,u){var p=S.T;S.T=null;var g=N.p;try{N.p=8,ph(e,r,a,u)}finally{N.p=g,S.T=p}}function ph(e,r,a,u){if(Zu){var p=mh(u);if(p===null)eh(e,r,u,Xu,a),og(e,u);else if(QA(p,e,r,a,u))u.stopPropagation();else if(og(e,u),r&4&&-1<WA.indexOf(e)){for(;p!==null;){var g=Cr(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var k=kr(g.pendingLanes);if(k!==0){var P=g;for(P.pendingLanes|=2,P.entangledLanes|=2;k;){var J=1<<31-Ue(k);P.entanglements[1]|=J,k&=~J}zr(g),(vt&6)===0&&(Iu=qe()+500,nc(0))}}break;case 31:case 13:P=xs(g,2),P!==null&&Fn(P,g,2),Bu(),hh(g,2)}if(g=mh(u),g===null&&eh(e,r,u,Xu,a),g===p)break;p=g}p!==null&&u.stopPropagation()}else eh(e,r,u,null,a)}}function mh(e){return e=gf(e),yh(e)}var Xu=null;function yh(e){if(Xu=null,e=Ir(e),e!==null){var r=o(e);if(r===null)e=null;else{var a=r.tag;if(a===13){if(e=l(r),e!==null)return e;e=null}else if(a===31){if(e=d(r),e!==null)return e;e=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null)}}return Xu=e,null}function ag(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pt()){case wt:return 2;case H:return 8;case A:case T:return 32;case q:return 268435456;default:return 32}default:return 32}}var gh=!1,Qi=null,Ji=null,es=null,uc=new Map,lc=new Map,ts=[],WA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function og(e,r){switch(e){case"focusin":case"focusout":Qi=null;break;case"dragenter":case"dragleave":Ji=null;break;case"mouseover":case"mouseout":es=null;break;case"pointerover":case"pointerout":uc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":lc.delete(r.pointerId)}}function fc(e,r,a,u,p,g){return e===null||e.nativeEvent!==g?(e={blockedOn:r,domEventName:a,eventSystemFlags:u,nativeEvent:g,targetContainers:[p]},r!==null&&(r=Cr(r),r!==null&&ig(r)),e):(e.eventSystemFlags|=u,r=e.targetContainers,p!==null&&r.indexOf(p)===-1&&r.push(p),e)}function QA(e,r,a,u,p){switch(r){case"focusin":return Qi=fc(Qi,e,r,a,u,p),!0;case"dragenter":return Ji=fc(Ji,e,r,a,u,p),!0;case"mouseover":return es=fc(es,e,r,a,u,p),!0;case"pointerover":var g=p.pointerId;return uc.set(g,fc(uc.get(g)||null,e,r,a,u,p)),!0;case"gotpointercapture":return g=p.pointerId,lc.set(g,fc(lc.get(g)||null,e,r,a,u,p)),!0}return!1}function cg(e){var r=Ir(e.target);if(r!==null){var a=o(r);if(a!==null){if(r=a.tag,r===13){if(r=l(a),r!==null){e.blockedOn=r,Wt(e.priority,function(){sg(a)});return}}else if(r===31){if(r=d(a),r!==null){e.blockedOn=r,Wt(e.priority,function(){sg(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $u(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var a=mh(e.nativeEvent);if(a===null){a=e.nativeEvent;var u=new a.constructor(a.type,a);yf=u,a.target.dispatchEvent(u),yf=null}else return r=Cr(a),r!==null&&ig(r),e.blockedOn=a,!1;r.shift()}return!0}function ug(e,r,a){$u(e)&&a.delete(r)}function JA(){gh=!1,Qi!==null&&$u(Qi)&&(Qi=null),Ji!==null&&$u(Ji)&&(Ji=null),es!==null&&$u(es)&&(es=null),uc.forEach(ug),lc.forEach(ug)}function Wu(e,r){e.blockedOn===r&&(e.blockedOn=null,gh||(gh=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,JA)))}var Qu=null;function lg(e){Qu!==e&&(Qu=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Qu===e&&(Qu=null);for(var r=0;r<e.length;r+=3){var a=e[r],u=e[r+1],p=e[r+2];if(typeof u!="function"){if(yh(u||a)===null)continue;break}var g=Cr(a);g!==null&&(e.splice(r,3),r-=3,md(g,{pending:!0,data:p,method:a.method,action:u},u,p))}}))}function Ga(e){function r(J){return Wu(J,e)}Qi!==null&&Wu(Qi,e),Ji!==null&&Wu(Ji,e),es!==null&&Wu(es,e),uc.forEach(r),lc.forEach(r);for(var a=0;a<ts.length;a++){var u=ts[a];u.blockedOn===e&&(u.blockedOn=null)}for(;0<ts.length&&(a=ts[0],a.blockedOn===null);)cg(a),a.blockedOn===null&&ts.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var p=a[u],g=a[u+1],k=p[lt]||null;if(typeof g=="function")k||lg(a);else if(k){var P=null;if(g&&g.hasAttribute("formAction")){if(p=g,k=g[lt]||null)P=k.formAction;else if(yh(p)!==null)continue}else P=k.action;typeof P=="function"?a[u+1]=P:(a.splice(u,3),u-=3),lg(a)}}}function fg(){function e(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(k){return p=k})},focusReset:"manual",scroll:"manual"})}function r(){p!==null&&(p(),p=null),u||setTimeout(a,20)}function a(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){u=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),p!==null&&(p(),p=null)}}}function bh(e){this._internalRoot=e}Ju.prototype.render=bh.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(i(409));var a=r.current,u=rr();ng(a,u,e,r,null,null)},Ju.prototype.unmount=bh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;ng(e.current,2,null,e,null,null),Bu(),r[$r]=null}};function Ju(e){this._internalRoot=e}Ju.prototype.unstable_scheduleHydration=function(e){if(e){var r=$t();e={blockedOn:null,target:e,priority:r};for(var a=0;a<ts.length&&r!==0&&r<ts[a].priority;a++);ts.splice(a,0,e),a===0&&cg(e)}};var dg=t.version;if(dg!=="19.2.3")throw Error(i(527,dg,"19.2.3"));N.findDOMNode=function(e){var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=_(r),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var eR={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:S,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var el=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!el.isDisabled&&el.supportsFiber)try{ge=el.inject(eR),ze=el}catch{}}return pc.createRoot=function(e,r){if(!c(e))throw Error(i(299));var a=!1,u="",p=_y,g=wy,k=vy;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(k=r.onRecoverableError)),r=eg(e,1,!1,null,null,a,u,null,p,g,k,fg),e[$r]=r.current,Jd(e),new bh(r)},pc.hydrateRoot=function(e,r,a){if(!c(e))throw Error(i(299));var u=!1,p="",g=_y,k=wy,P=vy,J=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(k=a.onCaughtError),a.onRecoverableError!==void 0&&(P=a.onRecoverableError),a.formState!==void 0&&(J=a.formState)),r=eg(e,1,!0,r,a??null,u,p,J,g,k,P,fg),r.context=tg(null),a=r.current,u=rr(),u=Kt(u),p=ji(u),p.callback=null,Pi(a,p,u),a=u,r.current.lanes=a,Ii(r,a),zr(r),e[$r]=r.current,Jd(e),new Ju(r)},pc.version="19.2.3",pc}var xg;function yR(){if(xg)return Sh.exports;xg=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Sh.exports=mR(),Sh.exports}var gR=yR();const Fa=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function Bc(s){return s instanceof Uint8Array||ArrayBuffer.isView(s)&&s.constructor.name==="Uint8Array"}function Rc(s){if(!Number.isSafeInteger(s)||s<0)throw new Error("positive integer expected, got "+s)}function Ti(s,...t){if(!Bc(s))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(s.length))throw new Error("Uint8Array expected of length "+t+", got length="+s.length)}function g_(s){if(typeof s!="function"||typeof s.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Rc(s.outputLen),Rc(s.blockLen)}function co(s,t=!0){if(s.destroyed)throw new Error("Hash instance has been destroyed");if(t&&s.finished)throw new Error("Hash#digest() has already been called")}function b_(s,t){Ti(s);const n=t.outputLen;if(s.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function bR(s){return new Uint32Array(s.buffer,s.byteOffset,Math.floor(s.byteLength/4))}function gs(...s){for(let t=0;t<s.length;t++)s[t].fill(0)}function Th(s){return new DataView(s.buffer,s.byteOffset,s.byteLength)}function Hr(s,t){return s<<32-t|s>>>t}const _R=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function wR(s){return s<<24&4278190080|s<<8&16711680|s>>>8&65280|s>>>24&255}function vR(s){for(let t=0;t<s.length;t++)s[t]=wR(s[t]);return s}const Tg=_R?s=>s:vR,__=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",ER=Array.from({length:256},(s,t)=>t.toString(16).padStart(2,"0"));function Ws(s){if(Ti(s),__)return s.toHex();let t="";for(let n=0;n<s.length;n++)t+=ER[s[n]];return t}const gi={_0:48,_9:57,A:65,F:70,a:97,f:102};function Og(s){if(s>=gi._0&&s<=gi._9)return s-gi._0;if(s>=gi.A&&s<=gi.F)return s-(gi.A-10);if(s>=gi.a&&s<=gi.f)return s-(gi.a-10)}function Ol(s){if(typeof s!="string")throw new Error("hex string expected, got "+typeof s);if(__)return Uint8Array.fromHex(s);const t=s.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const i=new Uint8Array(n);for(let c=0,o=0;c<n;c++,o+=2){const l=Og(s.charCodeAt(o)),d=Og(s.charCodeAt(o+1));if(l===void 0||d===void 0){const y=s[o]+s[o+1];throw new Error('hex string expected, got non-hex character "'+y+'" at index '+o)}i[c]=l*16+d}return i}function SR(s){if(typeof s!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(s))}function Gl(s){return typeof s=="string"&&(s=SR(s)),Ti(s),s}function qr(...s){let t=0;for(let i=0;i<s.length;i++){const c=s[i];Ti(c),t+=c.length}const n=new Uint8Array(t);for(let i=0,c=0;i<s.length;i++){const o=s[i];n.set(o,c),c+=o.length}return n}class q0{}function K0(s){const t=i=>s().update(Gl(i)).digest(),n=s();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>s(),t}function V0(s=32){if(Fa&&typeof Fa.getRandomValues=="function")return Fa.getRandomValues(new Uint8Array(s));if(Fa&&typeof Fa.randomBytes=="function")return Uint8Array.from(Fa.randomBytes(s));throw new Error("crypto.getRandomValues must be defined")}function AR(s,t,n,i){if(typeof s.setBigUint64=="function")return s.setBigUint64(t,n,i);const c=BigInt(32),o=BigInt(4294967295),l=Number(n>>c&o),d=Number(n&o),y=i?4:0,_=i?0:4;s.setUint32(t+y,l,i),s.setUint32(t+_,d,i)}function RR(s,t,n){return s&t^~s&n}function xR(s,t,n){return s&t^s&n^t&n}class w_ extends q0{constructor(t,n,i,c){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=i,this.isLE=c,this.buffer=new Uint8Array(t),this.view=Th(this.buffer)}update(t){co(this),t=Gl(t),Ti(t);const{view:n,buffer:i,blockLen:c}=this,o=t.length;for(let l=0;l<o;){const d=Math.min(c-this.pos,o-l);if(d===c){const y=Th(t);for(;c<=o-l;l+=c)this.process(y,l);continue}i.set(t.subarray(l,l+d),this.pos),this.pos+=d,l+=d,this.pos===c&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){co(this),b_(t,this),this.finished=!0;const{buffer:n,view:i,blockLen:c,isLE:o}=this;let{pos:l}=this;n[l++]=128,gs(this.buffer.subarray(l)),this.padOffset>c-l&&(this.process(i,0),l=0);for(let C=l;C<c;C++)n[C]=0;AR(i,c-8,BigInt(this.length*8),o),this.process(i,0);const d=Th(t),y=this.outputLen;if(y%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const _=y/4,E=this.get();if(_>E.length)throw new Error("_sha2: outputLen bigger than state");for(let C=0;C<_;C++)d.setUint32(4*C,E[C],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const i=t.slice(0,n);return this.destroy(),i}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:i,length:c,finished:o,destroyed:l,pos:d}=this;return t.destroyed=l,t.finished=o,t.length=c,t.pos=d,c%n&&t.buffer.set(i),t}clone(){return this._cloneInto()}}const rs=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Mn=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),nl=BigInt(2**32-1),Ng=BigInt(32);function TR(s,t=!1){return t?{h:Number(s&nl),l:Number(s>>Ng&nl)}:{h:Number(s>>Ng&nl)|0,l:Number(s&nl)|0}}function v_(s,t=!1){const n=s.length;let i=new Uint32Array(n),c=new Uint32Array(n);for(let o=0;o<n;o++){const{h:l,l:d}=TR(s[o],t);[i[o],c[o]]=[l,d]}return[i,c]}const kg=(s,t,n)=>s>>>n,Ig=(s,t,n)=>s<<32-n|t>>>n,Ya=(s,t,n)=>s>>>n|t<<32-n,Za=(s,t,n)=>s<<32-n|t>>>n,rl=(s,t,n)=>s<<64-n|t>>>n-32,il=(s,t,n)=>s>>>n-32|t<<64-n,OR=(s,t,n)=>s<<n|t>>>32-n,NR=(s,t,n)=>t<<n|s>>>32-n,kR=(s,t,n)=>t<<n-32|s>>>64-n,IR=(s,t,n)=>s<<n-32|t>>>64-n;function bi(s,t,n,i){const c=(t>>>0)+(i>>>0);return{h:s+n+(c/2**32|0)|0,l:c|0}}const CR=(s,t,n)=>(s>>>0)+(t>>>0)+(n>>>0),BR=(s,t,n,i)=>t+n+i+(s/2**32|0)|0,MR=(s,t,n,i)=>(s>>>0)+(t>>>0)+(n>>>0)+(i>>>0),UR=(s,t,n,i,c)=>t+n+i+c+(s/2**32|0)|0,DR=(s,t,n,i,c)=>(s>>>0)+(t>>>0)+(n>>>0)+(i>>>0)+(c>>>0),LR=(s,t,n,i,c,o)=>t+n+i+c+o+(s/2**32|0)|0,zR=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),is=new Uint32Array(64);class HR extends w_{constructor(t=32){super(64,t,8,!1),this.A=rs[0]|0,this.B=rs[1]|0,this.C=rs[2]|0,this.D=rs[3]|0,this.E=rs[4]|0,this.F=rs[5]|0,this.G=rs[6]|0,this.H=rs[7]|0}get(){const{A:t,B:n,C:i,D:c,E:o,F:l,G:d,H:y}=this;return[t,n,i,c,o,l,d,y]}set(t,n,i,c,o,l,d,y){this.A=t|0,this.B=n|0,this.C=i|0,this.D=c|0,this.E=o|0,this.F=l|0,this.G=d|0,this.H=y|0}process(t,n){for(let C=0;C<16;C++,n+=4)is[C]=t.getUint32(n,!1);for(let C=16;C<64;C++){const I=is[C-15],R=is[C-2],M=Hr(I,7)^Hr(I,18)^I>>>3,U=Hr(R,17)^Hr(R,19)^R>>>10;is[C]=U+is[C-7]+M+is[C-16]|0}let{A:i,B:c,C:o,D:l,E:d,F:y,G:_,H:E}=this;for(let C=0;C<64;C++){const I=Hr(d,6)^Hr(d,11)^Hr(d,25),R=E+I+RR(d,y,_)+zR[C]+is[C]|0,U=(Hr(i,2)^Hr(i,13)^Hr(i,22))+xR(i,c,o)|0;E=_,_=y,y=d,d=l+R|0,l=o,o=c,c=i,i=R+U|0}i=i+this.A|0,c=c+this.B|0,o=o+this.C|0,l=l+this.D|0,d=d+this.E|0,y=y+this.F|0,_=_+this.G|0,E=E+this.H|0,this.set(i,c,o,l,d,y,_,E)}roundClean(){gs(is)}destroy(){this.set(0,0,0,0,0,0,0,0),gs(this.buffer)}}const E_=v_(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(s=>BigInt(s))),jR=E_[0],PR=E_[1],ss=new Uint32Array(80),as=new Uint32Array(80);class qR extends w_{constructor(t=64){super(128,t,16,!1),this.Ah=Mn[0]|0,this.Al=Mn[1]|0,this.Bh=Mn[2]|0,this.Bl=Mn[3]|0,this.Ch=Mn[4]|0,this.Cl=Mn[5]|0,this.Dh=Mn[6]|0,this.Dl=Mn[7]|0,this.Eh=Mn[8]|0,this.El=Mn[9]|0,this.Fh=Mn[10]|0,this.Fl=Mn[11]|0,this.Gh=Mn[12]|0,this.Gl=Mn[13]|0,this.Hh=Mn[14]|0,this.Hl=Mn[15]|0}get(){const{Ah:t,Al:n,Bh:i,Bl:c,Ch:o,Cl:l,Dh:d,Dl:y,Eh:_,El:E,Fh:C,Fl:I,Gh:R,Gl:M,Hh:U,Hl:D}=this;return[t,n,i,c,o,l,d,y,_,E,C,I,R,M,U,D]}set(t,n,i,c,o,l,d,y,_,E,C,I,R,M,U,D){this.Ah=t|0,this.Al=n|0,this.Bh=i|0,this.Bl=c|0,this.Ch=o|0,this.Cl=l|0,this.Dh=d|0,this.Dl=y|0,this.Eh=_|0,this.El=E|0,this.Fh=C|0,this.Fl=I|0,this.Gh=R|0,this.Gl=M|0,this.Hh=U|0,this.Hl=D|0}process(t,n){for(let V=0;V<16;V++,n+=4)ss[V]=t.getUint32(n),as[V]=t.getUint32(n+=4);for(let V=16;V<80;V++){const W=ss[V-15]|0,re=as[V-15]|0,oe=Ya(W,re,1)^Ya(W,re,8)^kg(W,re,7),ie=Za(W,re,1)^Za(W,re,8)^Ig(W,re,7),le=ss[V-2]|0,G=as[V-2]|0,Y=Ya(le,G,19)^rl(le,G,61)^kg(le,G,6),X=Za(le,G,19)^il(le,G,61)^Ig(le,G,6),$=MR(ie,X,as[V-7],as[V-16]),x=UR($,oe,Y,ss[V-7],ss[V-16]);ss[V]=x|0,as[V]=$|0}let{Ah:i,Al:c,Bh:o,Bl:l,Ch:d,Cl:y,Dh:_,Dl:E,Eh:C,El:I,Fh:R,Fl:M,Gh:U,Gl:D,Hh:j,Hl:F}=this;for(let V=0;V<80;V++){const W=Ya(C,I,14)^Ya(C,I,18)^rl(C,I,41),re=Za(C,I,14)^Za(C,I,18)^il(C,I,41),oe=C&R^~C&U,ie=I&M^~I&D,le=DR(F,re,ie,PR[V],as[V]),G=LR(le,j,W,oe,jR[V],ss[V]),Y=le|0,X=Ya(i,c,28)^rl(i,c,34)^rl(i,c,39),$=Za(i,c,28)^il(i,c,34)^il(i,c,39),x=i&o^i&d^o&d,h=c&l^c&y^l&y;j=U|0,F=D|0,U=R|0,D=M|0,R=C|0,M=I|0,{h:C,l:I}=bi(_|0,E|0,G|0,Y|0),_=d|0,E=y|0,d=o|0,y=l|0,o=i|0,l=c|0;const w=CR(Y,$,h);i=BR(w,G,X,x),c=w|0}({h:i,l:c}=bi(this.Ah|0,this.Al|0,i|0,c|0)),{h:o,l}=bi(this.Bh|0,this.Bl|0,o|0,l|0),{h:d,l:y}=bi(this.Ch|0,this.Cl|0,d|0,y|0),{h:_,l:E}=bi(this.Dh|0,this.Dl|0,_|0,E|0),{h:C,l:I}=bi(this.Eh|0,this.El|0,C|0,I|0),{h:R,l:M}=bi(this.Fh|0,this.Fl|0,R|0,M|0),{h:U,l:D}=bi(this.Gh|0,this.Gl|0,U|0,D|0),{h:j,l:F}=bi(this.Hh|0,this.Hl|0,j|0,F|0),this.set(i,c,o,l,d,y,_,E,C,I,R,M,U,D,j,F)}roundClean(){gs(ss,as)}destroy(){gs(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const S_=K0(()=>new HR),KR=K0(()=>new qR);const G0=BigInt(0),b0=BigInt(1);function Qs(s,t=""){if(typeof s!="boolean"){const n=t&&`"${t}"`;throw new Error(n+"expected boolean, got type="+typeof s)}return s}function Tr(s,t,n=""){const i=Bc(s),c=s?.length,o=t!==void 0;if(!i||o&&c!==t){const l=n&&`"${n}" `,d=o?` of length ${t}`:"",y=i?`length=${c}`:`type=${typeof s}`;throw new Error(l+"expected Uint8Array"+d+", got "+y)}return s}function sl(s){const t=s.toString(16);return t.length&1?"0"+t:t}function A_(s){if(typeof s!="string")throw new Error("hex string expected, got "+typeof s);return s===""?G0:BigInt("0x"+s)}function Fl(s){return A_(Ws(s))}function xc(s){return Ti(s),A_(Ws(Uint8Array.from(s).reverse()))}function F0(s,t){return Ol(s.toString(16).padStart(t*2,"0"))}function R_(s,t){return F0(s,t).reverse()}function un(s,t,n){let i;if(typeof t=="string")try{i=Ol(t)}catch(o){throw new Error(s+" must be hex string or Uint8Array, cause: "+o)}else if(Bc(t))i=Uint8Array.from(t);else throw new Error(s+" must be hex string or Uint8Array");const c=i.length;if(typeof n=="number"&&c!==n)throw new Error(s+" of length "+n+" expected, got "+c);return i}function Cg(s){return Uint8Array.from(s)}const Oh=s=>typeof s=="bigint"&&G0<=s;function VR(s,t,n){return Oh(s)&&Oh(t)&&Oh(n)&&t<=s&&s<n}function _0(s,t,n,i){if(!VR(t,n,i))throw new Error("expected valid "+s+": "+n+" <= n < "+i+", got "+t)}function x_(s){let t;for(t=0;s>G0;s>>=b0,t+=1);return t}const Mc=s=>(b0<<BigInt(s))-b0;function GR(s,t,n){if(typeof s!="number"||s<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const i=R=>new Uint8Array(R),c=R=>Uint8Array.of(R);let o=i(s),l=i(s),d=0;const y=()=>{o.fill(1),l.fill(0),d=0},_=(...R)=>n(l,o,...R),E=(R=i(0))=>{l=_(c(0),R),o=_(),R.length!==0&&(l=_(c(1),R),o=_())},C=()=>{if(d++>=1e3)throw new Error("drbg: tried 1000 values");let R=0;const M=[];for(;R<t;){o=_();const U=o.slice();M.push(U),R+=o.length}return qr(...M)};return(R,M)=>{y(),E(R);let U;for(;!(U=M(C()));)E();return y(),U}}function Uc(s,t,n={}){if(!s||typeof s!="object")throw new Error("expected valid options object");function i(c,o,l){const d=s[c];if(l&&d===void 0)return;const y=typeof d;if(y!==o||d===null)throw new Error(`param "${c}" is invalid: expected ${o}, got ${y}`)}Object.entries(t).forEach(([c,o])=>i(c,o,!1)),Object.entries(n).forEach(([c,o])=>i(c,o,!0))}function Nl(s){const t=new WeakMap;return(n,...i)=>{const c=t.get(n);if(c!==void 0)return c;const o=s(n,...i);return t.set(n,o),o}}const Xn=BigInt(0),Cn=BigInt(1),Gs=BigInt(2),T_=BigInt(3),O_=BigInt(4),N_=BigInt(5),FR=BigInt(7),k_=BigInt(8),YR=BigInt(9),I_=BigInt(16);function bn(s,t){const n=s%t;return n>=Xn?n:t+n}function cn(s,t,n){let i=s;for(;t-- >Xn;)i*=i,i%=n;return i}function Bg(s,t){if(s===Xn)throw new Error("invert: expected non-zero number");if(t<=Xn)throw new Error("invert: expected positive modulus, got "+t);let n=bn(s,t),i=t,c=Xn,o=Cn;for(;n!==Xn;){const d=i/n,y=i%n,_=c-o*d;i=n,n=y,c=o,o=_}if(i!==Cn)throw new Error("invert: does not exist");return bn(c,t)}function Y0(s,t,n){if(!s.eql(s.sqr(t),n))throw new Error("Cannot find square root")}function C_(s,t){const n=(s.ORDER+Cn)/O_,i=s.pow(t,n);return Y0(s,i,t),i}function ZR(s,t){const n=(s.ORDER-N_)/k_,i=s.mul(t,Gs),c=s.pow(i,n),o=s.mul(t,c),l=s.mul(s.mul(o,Gs),c),d=s.mul(o,s.sub(l,s.ONE));return Y0(s,d,t),d}function XR(s){const t=na(s),n=B_(s),i=n(t,t.neg(t.ONE)),c=n(t,i),o=n(t,t.neg(i)),l=(s+FR)/I_;return(d,y)=>{let _=d.pow(y,l),E=d.mul(_,i);const C=d.mul(_,c),I=d.mul(_,o),R=d.eql(d.sqr(E),y),M=d.eql(d.sqr(C),y);_=d.cmov(_,E,R),E=d.cmov(I,C,M);const U=d.eql(d.sqr(E),y),D=d.cmov(_,E,U);return Y0(d,D,y),D}}function B_(s){if(s<T_)throw new Error("sqrt is not defined for small field");let t=s-Cn,n=0;for(;t%Gs===Xn;)t/=Gs,n++;let i=Gs;const c=na(s);for(;Mg(c,i)===1;)if(i++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return C_;let o=c.pow(i,t);const l=(t+Cn)/Gs;return function(y,_){if(y.is0(_))return _;if(Mg(y,_)!==1)throw new Error("Cannot find square root");let E=n,C=y.mul(y.ONE,o),I=y.pow(_,t),R=y.pow(_,l);for(;!y.eql(I,y.ONE);){if(y.is0(I))return y.ZERO;let M=1,U=y.sqr(I);for(;!y.eql(U,y.ONE);)if(M++,U=y.sqr(U),M===E)throw new Error("Cannot find square root");const D=Cn<<BigInt(E-M-1),j=y.pow(C,D);E=M,C=y.sqr(j),I=y.mul(I,C),R=y.mul(R,j)}return R}}function $R(s){return s%O_===T_?C_:s%k_===N_?ZR:s%I_===YR?XR(s):B_(s)}const WR=(s,t)=>(bn(s,t)&Cn)===Cn,QR=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function JR(s){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=QR.reduce((i,c)=>(i[c]="function",i),t);return Uc(s,n),s}function e2(s,t,n){if(n<Xn)throw new Error("invalid exponent, negatives unsupported");if(n===Xn)return s.ONE;if(n===Cn)return t;let i=s.ONE,c=t;for(;n>Xn;)n&Cn&&(i=s.mul(i,c)),c=s.sqr(c),n>>=Cn;return i}function M_(s,t,n=!1){const i=new Array(t.length).fill(n?s.ZERO:void 0),c=t.reduce((l,d,y)=>s.is0(d)?l:(i[y]=l,s.mul(l,d)),s.ONE),o=s.inv(c);return t.reduceRight((l,d,y)=>s.is0(d)?l:(i[y]=s.mul(l,i[y]),s.mul(l,d)),o),i}function Mg(s,t){const n=(s.ORDER-Cn)/Gs,i=s.pow(t,n),c=s.eql(i,s.ONE),o=s.eql(i,s.ZERO),l=s.eql(i,s.neg(s.ONE));if(!c&&!o&&!l)throw new Error("invalid Legendre symbol result");return c?1:o?0:-1}function U_(s,t){t!==void 0&&Rc(t);const n=t!==void 0?t:s.toString(2).length,i=Math.ceil(n/8);return{nBitLength:n,nByteLength:i}}function na(s,t,n=!1,i={}){if(s<=Xn)throw new Error("invalid field: expected ORDER > 0, got "+s);let c,o,l=!1,d;if(typeof t=="object"&&t!=null){if(i.sqrt||n)throw new Error("cannot specify opts in two arguments");const I=t;I.BITS&&(c=I.BITS),I.sqrt&&(o=I.sqrt),typeof I.isLE=="boolean"&&(n=I.isLE),typeof I.modFromBytes=="boolean"&&(l=I.modFromBytes),d=I.allowedLengths}else typeof t=="number"&&(c=t),i.sqrt&&(o=i.sqrt);const{nBitLength:y,nByteLength:_}=U_(s,c);if(_>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let E;const C=Object.freeze({ORDER:s,isLE:n,BITS:y,BYTES:_,MASK:Mc(y),ZERO:Xn,ONE:Cn,allowedLengths:d,create:I=>bn(I,s),isValid:I=>{if(typeof I!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof I);return Xn<=I&&I<s},is0:I=>I===Xn,isValidNot0:I=>!C.is0(I)&&C.isValid(I),isOdd:I=>(I&Cn)===Cn,neg:I=>bn(-I,s),eql:(I,R)=>I===R,sqr:I=>bn(I*I,s),add:(I,R)=>bn(I+R,s),sub:(I,R)=>bn(I-R,s),mul:(I,R)=>bn(I*R,s),pow:(I,R)=>e2(C,I,R),div:(I,R)=>bn(I*Bg(R,s),s),sqrN:I=>I*I,addN:(I,R)=>I+R,subN:(I,R)=>I-R,mulN:(I,R)=>I*R,inv:I=>Bg(I,s),sqrt:o||(I=>(E||(E=$R(s)),E(C,I))),toBytes:I=>n?R_(I,_):F0(I,_),fromBytes:(I,R=!0)=>{if(d){if(!d.includes(I.length)||I.length>_)throw new Error("Field.fromBytes: expected "+d+" bytes, got "+I.length);const U=new Uint8Array(_);U.set(I,n?0:U.length-I.length),I=U}if(I.length!==_)throw new Error("Field.fromBytes: expected "+_+" bytes, got "+I.length);let M=n?xc(I):Fl(I);if(l&&(M=bn(M,s)),!R&&!C.isValid(M))throw new Error("invalid field element: outside of range 0..ORDER");return M},invertBatch:I=>M_(C,I),cmov:(I,R,M)=>M?R:I});return Object.freeze(C)}function D_(s){if(typeof s!="bigint")throw new Error("field order must be bigint");const t=s.toString(2).length;return Math.ceil(t/8)}function L_(s){const t=D_(s);return t+Math.ceil(t/2)}function t2(s,t,n=!1){const i=s.length,c=D_(t),o=L_(t);if(i<16||i<o||i>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+i);const l=n?xc(s):Fl(s),d=bn(l,t-Cn)+Cn;return n?R_(d,c):F0(d,c)}const uo=BigInt(0),Fs=BigInt(1);function kl(s,t){const n=t.negate();return s?n:t}function Ys(s,t){const n=M_(s.Fp,t.map(i=>i.Z));return t.map((i,c)=>s.fromAffine(i.toAffine(n[c])))}function z_(s,t){if(!Number.isSafeInteger(s)||s<=0||s>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+s)}function Nh(s,t){z_(s,t);const n=Math.ceil(t/s)+1,i=2**(s-1),c=2**s,o=Mc(s),l=BigInt(s);return{windows:n,windowSize:i,mask:o,maxNumber:c,shiftBy:l}}function Ug(s,t,n){const{windowSize:i,mask:c,maxNumber:o,shiftBy:l}=n;let d=Number(s&c),y=s>>l;d>i&&(d-=o,y+=Fs);const _=t*i,E=_+Math.abs(d)-1,C=d===0,I=d<0,R=t%2!==0;return{nextN:y,offset:E,isZero:C,isNeg:I,isNegF:R,offsetF:_}}function n2(s,t){if(!Array.isArray(s))throw new Error("array expected");s.forEach((n,i)=>{if(!(n instanceof t))throw new Error("invalid point at index "+i)})}function r2(s,t){if(!Array.isArray(s))throw new Error("array of scalars expected");s.forEach((n,i)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+i)})}const kh=new WeakMap,H_=new WeakMap;function Ih(s){return H_.get(s)||1}function Dg(s){if(s!==uo)throw new Error("invalid wNAF")}class j_{constructor(t,n){this.BASE=t.BASE,this.ZERO=t.ZERO,this.Fn=t.Fn,this.bits=n}_unsafeLadder(t,n,i=this.ZERO){let c=t;for(;n>uo;)n&Fs&&(i=i.add(c)),c=c.double(),n>>=Fs;return i}precomputeWindow(t,n){const{windows:i,windowSize:c}=Nh(n,this.bits),o=[];let l=t,d=l;for(let y=0;y<i;y++){d=l,o.push(d);for(let _=1;_<c;_++)d=d.add(l),o.push(d);l=d.double()}return o}wNAF(t,n,i){if(!this.Fn.isValid(i))throw new Error("invalid scalar");let c=this.ZERO,o=this.BASE;const l=Nh(t,this.bits);for(let d=0;d<l.windows;d++){const{nextN:y,offset:_,isZero:E,isNeg:C,isNegF:I,offsetF:R}=Ug(i,d,l);i=y,E?o=o.add(kl(I,n[R])):c=c.add(kl(C,n[_]))}return Dg(i),{p:c,f:o}}wNAFUnsafe(t,n,i,c=this.ZERO){const o=Nh(t,this.bits);for(let l=0;l<o.windows&&i!==uo;l++){const{nextN:d,offset:y,isZero:_,isNeg:E}=Ug(i,l,o);if(i=d,!_){const C=n[y];c=c.add(E?C.negate():C)}}return Dg(i),c}getPrecomputes(t,n,i){let c=kh.get(n);return c||(c=this.precomputeWindow(n,t),t!==1&&(typeof i=="function"&&(c=i(c)),kh.set(n,c))),c}cached(t,n,i){const c=Ih(t);return this.wNAF(c,this.getPrecomputes(c,t,i),n)}unsafe(t,n,i,c){const o=Ih(t);return o===1?this._unsafeLadder(t,n,c):this.wNAFUnsafe(o,this.getPrecomputes(o,t,i),n,c)}createCache(t,n){z_(n,this.bits),H_.set(t,n),kh.delete(t)}hasCache(t){return Ih(t)!==1}}function i2(s,t,n,i){let c=t,o=s.ZERO,l=s.ZERO;for(;n>uo||i>uo;)n&Fs&&(o=o.add(c)),i&Fs&&(l=l.add(c)),c=c.double(),n>>=Fs,i>>=Fs;return{p1:o,p2:l}}function P_(s,t,n,i){n2(n,s),r2(i,t);const c=n.length,o=i.length;if(c!==o)throw new Error("arrays of points and scalars must have equal length");const l=s.ZERO,d=x_(BigInt(c));let y=1;d>12?y=d-3:d>4?y=d-2:d>0&&(y=2);const _=Mc(y),E=new Array(Number(_)+1).fill(l),C=Math.floor((t.BITS-1)/y)*y;let I=l;for(let R=C;R>=0;R-=y){E.fill(l);for(let U=0;U<o;U++){const D=i[U],j=Number(D>>BigInt(R)&_);E[j]=E[j].add(n[U])}let M=l;for(let U=E.length-1,D=l;U>0;U--)D=D.add(E[U]),M=M.add(D);if(I=I.add(M),R!==0)for(let U=0;U<y;U++)I=I.double()}return I}function Lg(s,t,n){if(t){if(t.ORDER!==s)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return JR(t),t}else return na(s,{isLE:n})}function q_(s,t,n={},i){if(i===void 0&&(i=s==="edwards"),!t||typeof t!="object")throw new Error(`expected valid ${s} CURVE object`);for(const y of["p","n","h"]){const _=t[y];if(!(typeof _=="bigint"&&_>uo))throw new Error(`CURVE.${y} must be positive bigint`)}const c=Lg(t.p,n.Fp,i),o=Lg(t.n,n.Fn,i),d=["Gx","Gy","a",s==="weierstrass"?"b":"d"];for(const y of d)if(!c.isValid(t[y]))throw new Error(`CURVE.${y} must be valid field element of CURVE.Fp`);return t=Object.freeze(Object.assign({},t)),{CURVE:t,Fp:c,Fn:o}}const os=BigInt(0),Sn=BigInt(1),Ch=BigInt(2),s2=BigInt(8);function a2(s,t,n,i){const c=s.sqr(n),o=s.sqr(i),l=s.add(s.mul(t.a,c),o),d=s.add(s.ONE,s.mul(t.d,s.mul(c,o)));return s.eql(l,d)}function o2(s,t={}){const n=q_("edwards",s,t,t.FpFnLE),{Fp:i,Fn:c}=n;let o=n.CURVE;const{h:l}=o;Uc(t,{},{uvRatio:"function"});const d=Ch<<BigInt(c.BYTES*8)-Sn,y=D=>i.create(D),_=t.uvRatio||((D,j)=>{try{return{isValid:!0,value:i.sqrt(i.div(D,j))}}catch{return{isValid:!1,value:os}}});if(!a2(i,o,o.Gx,o.Gy))throw new Error("bad curve params: generator point");function E(D,j,F=!1){const V=F?Sn:os;return _0("coordinate "+D,j,V,d),j}function C(D){if(!(D instanceof M))throw new Error("ExtendedPoint expected")}const I=Nl((D,j)=>{const{X:F,Y:V,Z:W}=D,re=D.is0();j==null&&(j=re?s2:i.inv(W));const oe=y(F*j),ie=y(V*j),le=i.mul(W,j);if(re)return{x:os,y:Sn};if(le!==Sn)throw new Error("invZ was invalid");return{x:oe,y:ie}}),R=Nl(D=>{const{a:j,d:F}=o;if(D.is0())throw new Error("bad point: ZERO");const{X:V,Y:W,Z:re,T:oe}=D,ie=y(V*V),le=y(W*W),G=y(re*re),Y=y(G*G),X=y(ie*j),$=y(G*y(X+le)),x=y(Y+y(F*y(ie*le)));if($!==x)throw new Error("bad point: equation left != right (1)");const h=y(V*W),w=y(re*oe);if(h!==w)throw new Error("bad point: equation left != right (2)");return!0});class M{constructor(j,F,V,W){this.X=E("x",j),this.Y=E("y",F),this.Z=E("z",V,!0),this.T=E("t",W),Object.freeze(this)}static CURVE(){return o}static fromAffine(j){if(j instanceof M)throw new Error("extended point not allowed");const{x:F,y:V}=j||{};return E("x",F),E("y",V),new M(F,V,Sn,y(F*V))}static fromBytes(j,F=!1){const V=i.BYTES,{a:W,d:re}=o;j=Cg(Tr(j,V,"point")),Qs(F,"zip215");const oe=Cg(j),ie=j[V-1];oe[V-1]=ie&-129;const le=xc(oe),G=F?d:i.ORDER;_0("point.y",le,os,G);const Y=y(le*le),X=y(Y-Sn),$=y(re*Y-W);let{isValid:x,value:h}=_(X,$);if(!x)throw new Error("bad point: invalid y coordinate");const w=(h&Sn)===Sn,S=(ie&128)!==0;if(!F&&h===os&&S)throw new Error("bad point: x=0 and x_0=1");return S!==w&&(h=y(-h)),M.fromAffine({x:h,y:le})}static fromHex(j,F=!1){return M.fromBytes(un("point",j),F)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(j=8,F=!0){return U.createCache(this,j),F||this.multiply(Ch),this}assertValidity(){R(this)}equals(j){C(j);const{X:F,Y:V,Z:W}=this,{X:re,Y:oe,Z:ie}=j,le=y(F*ie),G=y(re*W),Y=y(V*ie),X=y(oe*W);return le===G&&Y===X}is0(){return this.equals(M.ZERO)}negate(){return new M(y(-this.X),this.Y,this.Z,y(-this.T))}double(){const{a:j}=o,{X:F,Y:V,Z:W}=this,re=y(F*F),oe=y(V*V),ie=y(Ch*y(W*W)),le=y(j*re),G=F+V,Y=y(y(G*G)-re-oe),X=le+oe,$=X-ie,x=le-oe,h=y(Y*$),w=y(X*x),S=y(Y*x),N=y($*X);return new M(h,w,N,S)}add(j){C(j);const{a:F,d:V}=o,{X:W,Y:re,Z:oe,T:ie}=this,{X:le,Y:G,Z:Y,T:X}=j,$=y(W*le),x=y(re*G),h=y(ie*V*X),w=y(oe*Y),S=y((W+re)*(le+G)-$-x),N=w-h,L=w+h,B=y(x-F*$),v=y(S*N),m=y(L*B),f=y(S*B),b=y(N*L);return new M(v,m,b,f)}subtract(j){return this.add(j.negate())}multiply(j){if(!c.isValidNot0(j))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:F,f:V}=U.cached(this,j,W=>Ys(M,W));return Ys(M,[F,V])[0]}multiplyUnsafe(j,F=M.ZERO){if(!c.isValid(j))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return j===os?M.ZERO:this.is0()||j===Sn?this:U.unsafe(this,j,V=>Ys(M,V),F)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return U.unsafe(this,o.n).is0()}toAffine(j){return I(this,j)}clearCofactor(){return l===Sn?this:this.multiplyUnsafe(l)}toBytes(){const{x:j,y:F}=this.toAffine(),V=i.toBytes(F);return V[V.length-1]|=j&Sn?128:0,V}toHex(){return Ws(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(j){return Ys(M,j)}static msm(j,F){return P_(M,c,j,F)}_setWindowSize(j){this.precompute(j)}toRawBytes(){return this.toBytes()}}M.BASE=new M(o.Gx,o.Gy,Sn,y(o.Gx*o.Gy)),M.ZERO=new M(os,Sn,Sn,os),M.Fp=i,M.Fn=c;const U=new j_(M,c.BITS);return M.BASE.precompute(8),M}function c2(s,t,n={}){if(typeof t!="function")throw new Error('"hash" function param is required');Uc(n,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:i}=n,{BASE:c,Fp:o,Fn:l}=s,d=n.randomBytes||V0,y=n.adjustScalarBytes||(G=>G),_=n.domain||((G,Y,X)=>{if(Qs(X,"phflag"),Y.length||X)throw new Error("Contexts/pre-hash are not supported");return G});function E(G){return l.create(xc(G))}function C(G){const Y=V.secretKey;G=un("private key",G,Y);const X=un("hashed private key",t(G),2*Y),$=y(X.slice(0,Y)),x=X.slice(Y,2*Y),h=E($);return{head:$,prefix:x,scalar:h}}function I(G){const{head:Y,prefix:X,scalar:$}=C(G),x=c.multiply($),h=x.toBytes();return{head:Y,prefix:X,scalar:$,point:x,pointBytes:h}}function R(G){return I(G).pointBytes}function M(G=Uint8Array.of(),...Y){const X=qr(...Y);return E(t(_(X,un("context",G),!!i)))}function U(G,Y,X={}){G=un("message",G),i&&(G=i(G));const{prefix:$,scalar:x,pointBytes:h}=I(Y),w=M(X.context,$,G),S=c.multiply(w).toBytes(),N=M(X.context,S,h,G),L=l.create(w+N*x);if(!l.isValid(L))throw new Error("sign failed: invalid s");const B=qr(S,l.toBytes(L));return Tr(B,V.signature,"result")}const D={zip215:!0};function j(G,Y,X,$=D){const{context:x,zip215:h}=$,w=V.signature;G=un("signature",G,w),Y=un("message",Y),X=un("publicKey",X,V.publicKey),h!==void 0&&Qs(h,"zip215"),i&&(Y=i(Y));const S=w/2,N=G.subarray(0,S),L=xc(G.subarray(S,w));let B,v,m;try{B=s.fromBytes(X,h),v=s.fromBytes(N,h),m=c.multiplyUnsafe(L)}catch{return!1}if(!h&&B.isSmallOrder())return!1;const f=M(x,v.toBytes(),B.toBytes(),Y);return v.add(B.multiplyUnsafe(f)).subtract(m).clearCofactor().is0()}const F=o.BYTES,V={secretKey:F,publicKey:F,signature:2*F,seed:F};function W(G=d(V.seed)){return Tr(G,V.seed,"seed")}function re(G){const Y=le.randomSecretKey(G);return{secretKey:Y,publicKey:R(Y)}}function oe(G){return Bc(G)&&G.length===l.BYTES}function ie(G,Y){try{return!!s.fromBytes(G,Y)}catch{return!1}}const le={getExtendedPublicKey:I,randomSecretKey:W,isValidSecretKey:oe,isValidPublicKey:ie,toMontgomery(G){const{y:Y}=s.fromBytes(G),X=V.publicKey,$=X===32;if(!$&&X!==57)throw new Error("only defined for 25519 and 448");const x=$?o.div(Sn+Y,Sn-Y):o.div(Y-Sn,Y+Sn);return o.toBytes(x)},toMontgomerySecret(G){const Y=V.secretKey;Tr(G,Y);const X=t(G.subarray(0,Y));return y(X).subarray(0,Y)},randomPrivateKey:W,precompute(G=8,Y=s.BASE){return Y.precompute(G,!1)}};return Object.freeze({keygen:re,getPublicKey:R,sign:U,verify:j,utils:le,Point:s,lengths:V})}function u2(s){const t={a:s.a,d:s.d,p:s.Fp.ORDER,n:s.n,h:s.h,Gx:s.Gx,Gy:s.Gy},n=s.Fp,i=na(t.n,s.nBitLength,!0),c={Fp:n,Fn:i,uvRatio:s.uvRatio},o={randomBytes:s.randomBytes,adjustScalarBytes:s.adjustScalarBytes,domain:s.domain,prehash:s.prehash,mapToCurve:s.mapToCurve};return{CURVE:t,curveOpts:c,hash:s.hash,eddsaOpts:o}}function l2(s,t){const n=t.Point;return Object.assign({},t,{ExtendedPoint:n,CURVE:s,nBitLength:n.Fn.BITS,nByteLength:n.Fn.BYTES})}function f2(s){const{CURVE:t,curveOpts:n,hash:i,eddsaOpts:c}=u2(s),o=o2(t,n),l=c2(o,i,c);return l2(s,l)}const d2=BigInt(1),zg=BigInt(2);BigInt(3);const h2=BigInt(5),p2=BigInt(8),Z0=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),K_={p:Z0,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:p2,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function m2(s){const t=BigInt(10),n=BigInt(20),i=BigInt(40),c=BigInt(80),o=Z0,d=s*s%o*s%o,y=cn(d,zg,o)*d%o,_=cn(y,d2,o)*s%o,E=cn(_,h2,o)*_%o,C=cn(E,t,o)*E%o,I=cn(C,n,o)*C%o,R=cn(I,i,o)*I%o,M=cn(R,c,o)*R%o,U=cn(M,c,o)*R%o,D=cn(U,t,o)*E%o;return{pow_p_5_8:cn(D,zg,o)*s%o,b2:d}}function y2(s){return s[0]&=248,s[31]&=127,s[31]|=64,s}const Hg=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function g2(s,t){const n=Z0,i=bn(t*t*t,n),c=bn(i*i*t,n),o=m2(s*c).pow_p_5_8;let l=bn(s*i*o,n);const d=bn(t*l*l,n),y=l,_=bn(l*Hg,n),E=d===s,C=d===bn(-s,n),I=d===bn(-s*Hg,n);return E&&(l=y),(C||I)&&(l=_),WR(l,n)&&(l=bn(-l,n)),{isValid:E||C,value:l}}const b2=na(K_.p,{isLE:!0}),_2={...K_,Fp:b2,hash:KR,adjustScalarBytes:y2,uvRatio:g2},yo=f2(_2);var vl={exports:{}};const w2={},v2=Object.freeze(Object.defineProperty({__proto__:null,default:w2},Symbol.toStringTag,{value:"Module"})),E2=Vl(v2);var S2=vl.exports,jg;function X0(){return jg||(jg=1,(function(s){(function(t,n){function i(x,h){if(!x)throw new Error(h||"Assertion failed")}function c(x,h){x.super_=h;var w=function(){};w.prototype=h.prototype,x.prototype=new w,x.prototype.constructor=x}function o(x,h,w){if(o.isBN(x))return x;this.negative=0,this.words=null,this.length=0,this.red=null,x!==null&&((h==="le"||h==="be")&&(w=h,h=10),this._init(x||0,h||10,w||"be"))}typeof t=="object"?t.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var l;try{typeof window<"u"&&typeof window.Buffer<"u"?l=window.Buffer:l=E2.Buffer}catch{}o.isBN=function(h){return h instanceof o?!0:h!==null&&typeof h=="object"&&h.constructor.wordSize===o.wordSize&&Array.isArray(h.words)},o.max=function(h,w){return h.cmp(w)>0?h:w},o.min=function(h,w){return h.cmp(w)<0?h:w},o.prototype._init=function(h,w,S){if(typeof h=="number")return this._initNumber(h,w,S);if(typeof h=="object")return this._initArray(h,w,S);w==="hex"&&(w=16),i(w===(w|0)&&w>=2&&w<=36),h=h.toString().replace(/\s+/g,"");var N=0;h[0]==="-"&&(N++,this.negative=1),N<h.length&&(w===16?this._parseHex(h,N,S):(this._parseBase(h,w,N),S==="le"&&this._initArray(this.toArray(),w,S)))},o.prototype._initNumber=function(h,w,S){h<0&&(this.negative=1,h=-h),h<67108864?(this.words=[h&67108863],this.length=1):h<4503599627370496?(this.words=[h&67108863,h/67108864&67108863],this.length=2):(i(h<9007199254740992),this.words=[h&67108863,h/67108864&67108863,1],this.length=3),S==="le"&&this._initArray(this.toArray(),w,S)},o.prototype._initArray=function(h,w,S){if(i(typeof h.length=="number"),h.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(h.length/3),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var L,B,v=0;if(S==="be")for(N=h.length-1,L=0;N>=0;N-=3)B=h[N]|h[N-1]<<8|h[N-2]<<16,this.words[L]|=B<<v&67108863,this.words[L+1]=B>>>26-v&67108863,v+=24,v>=26&&(v-=26,L++);else if(S==="le")for(N=0,L=0;N<h.length;N+=3)B=h[N]|h[N+1]<<8|h[N+2]<<16,this.words[L]|=B<<v&67108863,this.words[L+1]=B>>>26-v&67108863,v+=24,v>=26&&(v-=26,L++);return this._strip()};function d(x,h){var w=x.charCodeAt(h);if(w>=48&&w<=57)return w-48;if(w>=65&&w<=70)return w-55;if(w>=97&&w<=102)return w-87;i(!1,"Invalid character in "+x)}function y(x,h,w){var S=d(x,w);return w-1>=h&&(S|=d(x,w-1)<<4),S}o.prototype._parseHex=function(h,w,S){this.length=Math.ceil((h.length-w)/6),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var L=0,B=0,v;if(S==="be")for(N=h.length-1;N>=w;N-=2)v=y(h,w,N)<<L,this.words[B]|=v&67108863,L>=18?(L-=18,B+=1,this.words[B]|=v>>>26):L+=8;else{var m=h.length-w;for(N=m%2===0?w+1:w;N<h.length;N+=2)v=y(h,w,N)<<L,this.words[B]|=v&67108863,L>=18?(L-=18,B+=1,this.words[B]|=v>>>26):L+=8}this._strip()};function _(x,h,w,S){for(var N=0,L=0,B=Math.min(x.length,w),v=h;v<B;v++){var m=x.charCodeAt(v)-48;N*=S,m>=49?L=m-49+10:m>=17?L=m-17+10:L=m,i(m>=0&&L<S,"Invalid character"),N+=L}return N}o.prototype._parseBase=function(h,w,S){this.words=[0],this.length=1;for(var N=0,L=1;L<=67108863;L*=w)N++;N--,L=L/w|0;for(var B=h.length-S,v=B%N,m=Math.min(B,B-v)+S,f=0,b=S;b<m;b+=N)f=_(h,b,b+N,w),this.imuln(L),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(v!==0){var O=1;for(f=_(h,b,h.length,w),b=0;b<v;b++)O*=w;this.imuln(O),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this._strip()},o.prototype.copy=function(h){h.words=new Array(this.length);for(var w=0;w<this.length;w++)h.words[w]=this.words[w];h.length=this.length,h.negative=this.negative,h.red=this.red};function E(x,h){x.words=h.words,x.length=h.length,x.negative=h.negative,x.red=h.red}if(o.prototype._move=function(h){E(h,this)},o.prototype.clone=function(){var h=new o(null);return this.copy(h),h},o.prototype._expand=function(h){for(;this.length<h;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=C}catch{o.prototype.inspect=C}else o.prototype.inspect=C;function C(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var I=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],R=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(h,w){h=h||10,w=w|0||1;var S;if(h===16||h==="hex"){S="";for(var N=0,L=0,B=0;B<this.length;B++){var v=this.words[B],m=((v<<N|L)&16777215).toString(16);L=v>>>24-N&16777215,N+=2,N>=26&&(N-=26,B--),L!==0||B!==this.length-1?S=I[6-m.length]+m+S:S=m+S}for(L!==0&&(S=L.toString(16)+S);S.length%w!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}if(h===(h|0)&&h>=2&&h<=36){var f=R[h],b=M[h];S="";var O=this.clone();for(O.negative=0;!O.isZero();){var z=O.modrn(b).toString(h);O=O.idivn(b),O.isZero()?S=z+S:S=I[f-z.length]+z+S}for(this.isZero()&&(S="0"+S);S.length%w!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}i(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var h=this.words[0];return this.length===2?h+=this.words[1]*67108864:this.length===3&&this.words[2]===1?h+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-h:h},o.prototype.toJSON=function(){return this.toString(16,2)},l&&(o.prototype.toBuffer=function(h,w){return this.toArrayLike(l,h,w)}),o.prototype.toArray=function(h,w){return this.toArrayLike(Array,h,w)};var U=function(h,w){return h.allocUnsafe?h.allocUnsafe(w):new h(w)};o.prototype.toArrayLike=function(h,w,S){this._strip();var N=this.byteLength(),L=S||Math.max(1,N);i(N<=L,"byte array longer than desired length"),i(L>0,"Requested array length <= 0");var B=U(h,L),v=w==="le"?"LE":"BE";return this["_toArrayLike"+v](B,N),B},o.prototype._toArrayLikeLE=function(h,w){for(var S=0,N=0,L=0,B=0;L<this.length;L++){var v=this.words[L]<<B|N;h[S++]=v&255,S<h.length&&(h[S++]=v>>8&255),S<h.length&&(h[S++]=v>>16&255),B===6?(S<h.length&&(h[S++]=v>>24&255),N=0,B=0):(N=v>>>24,B+=2)}if(S<h.length)for(h[S++]=N;S<h.length;)h[S++]=0},o.prototype._toArrayLikeBE=function(h,w){for(var S=h.length-1,N=0,L=0,B=0;L<this.length;L++){var v=this.words[L]<<B|N;h[S--]=v&255,S>=0&&(h[S--]=v>>8&255),S>=0&&(h[S--]=v>>16&255),B===6?(S>=0&&(h[S--]=v>>24&255),N=0,B=0):(N=v>>>24,B+=2)}if(S>=0)for(h[S--]=N;S>=0;)h[S--]=0},Math.clz32?o.prototype._countBits=function(h){return 32-Math.clz32(h)}:o.prototype._countBits=function(h){var w=h,S=0;return w>=4096&&(S+=13,w>>>=13),w>=64&&(S+=7,w>>>=7),w>=8&&(S+=4,w>>>=4),w>=2&&(S+=2,w>>>=2),S+w},o.prototype._zeroBits=function(h){if(h===0)return 26;var w=h,S=0;return(w&8191)===0&&(S+=13,w>>>=13),(w&127)===0&&(S+=7,w>>>=7),(w&15)===0&&(S+=4,w>>>=4),(w&3)===0&&(S+=2,w>>>=2),(w&1)===0&&S++,S},o.prototype.bitLength=function(){var h=this.words[this.length-1],w=this._countBits(h);return(this.length-1)*26+w};function D(x){for(var h=new Array(x.bitLength()),w=0;w<h.length;w++){var S=w/26|0,N=w%26;h[w]=x.words[S]>>>N&1}return h}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var h=0,w=0;w<this.length;w++){var S=this._zeroBits(this.words[w]);if(h+=S,S!==26)break}return h},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(h){return this.negative!==0?this.abs().inotn(h).iaddn(1):this.clone()},o.prototype.fromTwos=function(h){return this.testn(h-1)?this.notn(h).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(h){for(;this.length<h.length;)this.words[this.length++]=0;for(var w=0;w<h.length;w++)this.words[w]=this.words[w]|h.words[w];return this._strip()},o.prototype.ior=function(h){return i((this.negative|h.negative)===0),this.iuor(h)},o.prototype.or=function(h){return this.length>h.length?this.clone().ior(h):h.clone().ior(this)},o.prototype.uor=function(h){return this.length>h.length?this.clone().iuor(h):h.clone().iuor(this)},o.prototype.iuand=function(h){var w;this.length>h.length?w=h:w=this;for(var S=0;S<w.length;S++)this.words[S]=this.words[S]&h.words[S];return this.length=w.length,this._strip()},o.prototype.iand=function(h){return i((this.negative|h.negative)===0),this.iuand(h)},o.prototype.and=function(h){return this.length>h.length?this.clone().iand(h):h.clone().iand(this)},o.prototype.uand=function(h){return this.length>h.length?this.clone().iuand(h):h.clone().iuand(this)},o.prototype.iuxor=function(h){var w,S;this.length>h.length?(w=this,S=h):(w=h,S=this);for(var N=0;N<S.length;N++)this.words[N]=w.words[N]^S.words[N];if(this!==w)for(;N<w.length;N++)this.words[N]=w.words[N];return this.length=w.length,this._strip()},o.prototype.ixor=function(h){return i((this.negative|h.negative)===0),this.iuxor(h)},o.prototype.xor=function(h){return this.length>h.length?this.clone().ixor(h):h.clone().ixor(this)},o.prototype.uxor=function(h){return this.length>h.length?this.clone().iuxor(h):h.clone().iuxor(this)},o.prototype.inotn=function(h){i(typeof h=="number"&&h>=0);var w=Math.ceil(h/26)|0,S=h%26;this._expand(w),S>0&&w--;for(var N=0;N<w;N++)this.words[N]=~this.words[N]&67108863;return S>0&&(this.words[N]=~this.words[N]&67108863>>26-S),this._strip()},o.prototype.notn=function(h){return this.clone().inotn(h)},o.prototype.setn=function(h,w){i(typeof h=="number"&&h>=0);var S=h/26|0,N=h%26;return this._expand(S+1),w?this.words[S]=this.words[S]|1<<N:this.words[S]=this.words[S]&~(1<<N),this._strip()},o.prototype.iadd=function(h){var w;if(this.negative!==0&&h.negative===0)return this.negative=0,w=this.isub(h),this.negative^=1,this._normSign();if(this.negative===0&&h.negative!==0)return h.negative=0,w=this.isub(h),h.negative=1,w._normSign();var S,N;this.length>h.length?(S=this,N=h):(S=h,N=this);for(var L=0,B=0;B<N.length;B++)w=(S.words[B]|0)+(N.words[B]|0)+L,this.words[B]=w&67108863,L=w>>>26;for(;L!==0&&B<S.length;B++)w=(S.words[B]|0)+L,this.words[B]=w&67108863,L=w>>>26;if(this.length=S.length,L!==0)this.words[this.length]=L,this.length++;else if(S!==this)for(;B<S.length;B++)this.words[B]=S.words[B];return this},o.prototype.add=function(h){var w;return h.negative!==0&&this.negative===0?(h.negative=0,w=this.sub(h),h.negative^=1,w):h.negative===0&&this.negative!==0?(this.negative=0,w=h.sub(this),this.negative=1,w):this.length>h.length?this.clone().iadd(h):h.clone().iadd(this)},o.prototype.isub=function(h){if(h.negative!==0){h.negative=0;var w=this.iadd(h);return h.negative=1,w._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(h),this.negative=1,this._normSign();var S=this.cmp(h);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;var N,L;S>0?(N=this,L=h):(N=h,L=this);for(var B=0,v=0;v<L.length;v++)w=(N.words[v]|0)-(L.words[v]|0)+B,B=w>>26,this.words[v]=w&67108863;for(;B!==0&&v<N.length;v++)w=(N.words[v]|0)+B,B=w>>26,this.words[v]=w&67108863;if(B===0&&v<N.length&&N!==this)for(;v<N.length;v++)this.words[v]=N.words[v];return this.length=Math.max(this.length,v),N!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(h){return this.clone().isub(h)};function j(x,h,w){w.negative=h.negative^x.negative;var S=x.length+h.length|0;w.length=S,S=S-1|0;var N=x.words[0]|0,L=h.words[0]|0,B=N*L,v=B&67108863,m=B/67108864|0;w.words[0]=v;for(var f=1;f<S;f++){for(var b=m>>>26,O=m&67108863,z=Math.min(f,h.length-1),Z=Math.max(0,f-x.length+1);Z<=z;Z++){var ne=f-Z|0;N=x.words[ne]|0,L=h.words[Z]|0,B=N*L+O,b+=B/67108864|0,O=B&67108863}w.words[f]=O|0,m=b|0}return m!==0?w.words[f]=m|0:w.length--,w._strip()}var F=function(h,w,S){var N=h.words,L=w.words,B=S.words,v=0,m,f,b,O=N[0]|0,z=O&8191,Z=O>>>13,ne=N[1]|0,se=ne&8191,pe=ne>>>13,Re=N[2]|0,Oe=Re&8191,$e=Re>>>13,Ut=N[3]|0,je=Ut&8191,Xe=Ut>>>13,en=N[4]|0,Ge=en&8191,Ze=en>>>13,_n=N[5]|0,_t=_n&8191,Fe=_n>>>13,Dt=N[6]|0,rt=Dt&8191,qe=Dt>>>13,pt=N[7]|0,wt=pt&8191,H=pt>>>13,A=N[8]|0,T=A&8191,q=A>>>13,te=N[9]|0,ce=te&8191,ge=te>>>13,ze=L[0]|0,Ke=ze&8191,Ue=ze>>>13,kt=L[1]|0,Ye=kt&8191,tn=kt>>>13,vs=L[2]|0,Lt=vs&8191,zt=vs>>>13,kr=L[3]|0,Ht=kr&8191,Ct=kr>>>13,Vc=L[4]|0,Yt=Vc&8191,qt=Vc>>>13,Ii=L[5]|0,nn=Ii&8191,Zt=Ii>>>13,vo=L[6]|0,Xt=vo&8191,Kt=vo>>>13,oa=L[7]|0,$t=oa&8191,Wt=oa>>>13,vr=L[8]|0,it=vr&8191,lt=vr>>>13,$r=L[9]|0,Vt=$r&8191,rn=$r>>>13;S.negative=h.negative^w.negative,S.length=19,m=Math.imul(z,Ke),f=Math.imul(z,Ue),f=f+Math.imul(Z,Ke)|0,b=Math.imul(Z,Ue);var Eo=(v+m|0)+((f&8191)<<13)|0;v=(b+(f>>>13)|0)+(Eo>>>26)|0,Eo&=67108863,m=Math.imul(se,Ke),f=Math.imul(se,Ue),f=f+Math.imul(pe,Ke)|0,b=Math.imul(pe,Ue),m=m+Math.imul(z,Ye)|0,f=f+Math.imul(z,tn)|0,f=f+Math.imul(Z,Ye)|0,b=b+Math.imul(Z,tn)|0;var ca=(v+m|0)+((f&8191)<<13)|0;v=(b+(f>>>13)|0)+(ca>>>26)|0,ca&=67108863,m=Math.imul(Oe,Ke),f=Math.imul(Oe,Ue),f=f+Math.imul($e,Ke)|0,b=Math.imul($e,Ue),m=m+Math.imul(se,Ye)|0,f=f+Math.imul(se,tn)|0,f=f+Math.imul(pe,Ye)|0,b=b+Math.imul(pe,tn)|0,m=m+Math.imul(z,Lt)|0,f=f+Math.imul(z,zt)|0,f=f+Math.imul(Z,Lt)|0,b=b+Math.imul(Z,zt)|0;var Wr=(v+m|0)+((f&8191)<<13)|0;v=(b+(f>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,m=Math.imul(je,Ke),f=Math.imul(je,Ue),f=f+Math.imul(Xe,Ke)|0,b=Math.imul(Xe,Ue),m=m+Math.imul(Oe,Ye)|0,f=f+Math.imul(Oe,tn)|0,f=f+Math.imul($e,Ye)|0,b=b+Math.imul($e,tn)|0,m=m+Math.imul(se,Lt)|0,f=f+Math.imul(se,zt)|0,f=f+Math.imul(pe,Lt)|0,b=b+Math.imul(pe,zt)|0,m=m+Math.imul(z,Ht)|0,f=f+Math.imul(z,Ct)|0,f=f+Math.imul(Z,Ht)|0,b=b+Math.imul(Z,Ct)|0;var Es=(v+m|0)+((f&8191)<<13)|0;v=(b+(f>>>13)|0)+(Es>>>26)|0,Es&=67108863,m=Math.imul(Ge,Ke),f=Math.imul(Ge,Ue),f=f+Math.imul(Ze,Ke)|0,b=Math.imul(Ze,Ue),m=m+Math.imul(je,Ye)|0,f=f+Math.imul(je,tn)|0,f=f+Math.imul(Xe,Ye)|0,b=b+Math.imul(Xe,tn)|0,m=m+Math.imul(Oe,Lt)|0,f=f+Math.imul(Oe,zt)|0,f=f+Math.imul($e,Lt)|0,b=b+Math.imul($e,zt)|0,m=m+Math.imul(se,Ht)|0,f=f+Math.imul(se,Ct)|0,f=f+Math.imul(pe,Ht)|0,b=b+Math.imul(pe,Ct)|0,m=m+Math.imul(z,Yt)|0,f=f+Math.imul(z,qt)|0,f=f+Math.imul(Z,Yt)|0,b=b+Math.imul(Z,qt)|0;var Ir=(v+m|0)+((f&8191)<<13)|0;v=(b+(f>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,m=Math.imul(_t,Ke),f=Math.imul(_t,Ue),f=f+Math.imul(Fe,Ke)|0,b=Math.imul(Fe,Ue),m=m+Math.imul(Ge,Ye)|0,f=f+Math.imul(Ge,tn)|0,f=f+Math.imul(Ze,Ye)|0,b=b+Math.imul(Ze,tn)|0,m=m+Math.imul(je,Lt)|0,f=f+Math.imul(je,zt)|0,f=f+Math.imul(Xe,Lt)|0,b=b+Math.imul(Xe,zt)|0,m=m+Math.imul(Oe,Ht)|0,f=f+Math.imul(Oe,Ct)|0,f=f+Math.imul($e,Ht)|0,b=b+Math.imul($e,Ct)|0,m=m+Math.imul(se,Yt)|0,f=f+Math.imul(se,qt)|0,f=f+Math.imul(pe,Yt)|0,b=b+Math.imul(pe,qt)|0,m=m+Math.imul(z,nn)|0,f=f+Math.imul(z,Zt)|0,f=f+Math.imul(Z,nn)|0,b=b+Math.imul(Z,Zt)|0;var Cr=(v+m|0)+((f&8191)<<13)|0;v=(b+(f>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,m=Math.imul(rt,Ke),f=Math.imul(rt,Ue),f=f+Math.imul(qe,Ke)|0,b=Math.imul(qe,Ue),m=m+Math.imul(_t,Ye)|0,f=f+Math.imul(_t,tn)|0,f=f+Math.imul(Fe,Ye)|0,b=b+Math.imul(Fe,tn)|0,m=m+Math.imul(Ge,Lt)|0,f=f+Math.imul(Ge,zt)|0,f=f+Math.imul(Ze,Lt)|0,b=b+Math.imul(Ze,zt)|0,m=m+Math.imul(je,Ht)|0,f=f+Math.imul(je,Ct)|0,f=f+Math.imul(Xe,Ht)|0,b=b+Math.imul(Xe,Ct)|0,m=m+Math.imul(Oe,Yt)|0,f=f+Math.imul(Oe,qt)|0,f=f+Math.imul($e,Yt)|0,b=b+Math.imul($e,qt)|0,m=m+Math.imul(se,nn)|0,f=f+Math.imul(se,Zt)|0,f=f+Math.imul(pe,nn)|0,b=b+Math.imul(pe,Zt)|0,m=m+Math.imul(z,Xt)|0,f=f+Math.imul(z,Kt)|0,f=f+Math.imul(Z,Xt)|0,b=b+Math.imul(Z,Kt)|0;var Qr=(v+m|0)+((f&8191)<<13)|0;v=(b+(f>>>13)|0)+(Qr>>>26)|0,Qr&=67108863,m=Math.imul(wt,Ke),f=Math.imul(wt,Ue),f=f+Math.imul(H,Ke)|0,b=Math.imul(H,Ue),m=m+Math.imul(rt,Ye)|0,f=f+Math.imul(rt,tn)|0,f=f+Math.imul(qe,Ye)|0,b=b+Math.imul(qe,tn)|0,m=m+Math.imul(_t,Lt)|0,f=f+Math.imul(_t,zt)|0,f=f+Math.imul(Fe,Lt)|0,b=b+Math.imul(Fe,zt)|0,m=m+Math.imul(Ge,Ht)|0,f=f+Math.imul(Ge,Ct)|0,f=f+Math.imul(Ze,Ht)|0,b=b+Math.imul(Ze,Ct)|0,m=m+Math.imul(je,Yt)|0,f=f+Math.imul(je,qt)|0,f=f+Math.imul(Xe,Yt)|0,b=b+Math.imul(Xe,qt)|0,m=m+Math.imul(Oe,nn)|0,f=f+Math.imul(Oe,Zt)|0,f=f+Math.imul($e,nn)|0,b=b+Math.imul($e,Zt)|0,m=m+Math.imul(se,Xt)|0,f=f+Math.imul(se,Kt)|0,f=f+Math.imul(pe,Xt)|0,b=b+Math.imul(pe,Kt)|0,m=m+Math.imul(z,$t)|0,f=f+Math.imul(z,Wt)|0,f=f+Math.imul(Z,$t)|0,b=b+Math.imul(Z,Wt)|0;var Br=(v+m|0)+((f&8191)<<13)|0;v=(b+(f>>>13)|0)+(Br>>>26)|0,Br&=67108863,m=Math.imul(T,Ke),f=Math.imul(T,Ue),f=f+Math.imul(q,Ke)|0,b=Math.imul(q,Ue),m=m+Math.imul(wt,Ye)|0,f=f+Math.imul(wt,tn)|0,f=f+Math.imul(H,Ye)|0,b=b+Math.imul(H,tn)|0,m=m+Math.imul(rt,Lt)|0,f=f+Math.imul(rt,zt)|0,f=f+Math.imul(qe,Lt)|0,b=b+Math.imul(qe,zt)|0,m=m+Math.imul(_t,Ht)|0,f=f+Math.imul(_t,Ct)|0,f=f+Math.imul(Fe,Ht)|0,b=b+Math.imul(Fe,Ct)|0,m=m+Math.imul(Ge,Yt)|0,f=f+Math.imul(Ge,qt)|0,f=f+Math.imul(Ze,Yt)|0,b=b+Math.imul(Ze,qt)|0,m=m+Math.imul(je,nn)|0,f=f+Math.imul(je,Zt)|0,f=f+Math.imul(Xe,nn)|0,b=b+Math.imul(Xe,Zt)|0,m=m+Math.imul(Oe,Xt)|0,f=f+Math.imul(Oe,Kt)|0,f=f+Math.imul($e,Xt)|0,b=b+Math.imul($e,Kt)|0,m=m+Math.imul(se,$t)|0,f=f+Math.imul(se,Wt)|0,f=f+Math.imul(pe,$t)|0,b=b+Math.imul(pe,Wt)|0,m=m+Math.imul(z,it)|0,f=f+Math.imul(z,lt)|0,f=f+Math.imul(Z,it)|0,b=b+Math.imul(Z,lt)|0;var sn=(v+m|0)+((f&8191)<<13)|0;v=(b+(f>>>13)|0)+(sn>>>26)|0,sn&=67108863,m=Math.imul(ce,Ke),f=Math.imul(ce,Ue),f=f+Math.imul(ge,Ke)|0,b=Math.imul(ge,Ue),m=m+Math.imul(T,Ye)|0,f=f+Math.imul(T,tn)|0,f=f+Math.imul(q,Ye)|0,b=b+Math.imul(q,tn)|0,m=m+Math.imul(wt,Lt)|0,f=f+Math.imul(wt,zt)|0,f=f+Math.imul(H,Lt)|0,b=b+Math.imul(H,zt)|0,m=m+Math.imul(rt,Ht)|0,f=f+Math.imul(rt,Ct)|0,f=f+Math.imul(qe,Ht)|0,b=b+Math.imul(qe,Ct)|0,m=m+Math.imul(_t,Yt)|0,f=f+Math.imul(_t,qt)|0,f=f+Math.imul(Fe,Yt)|0,b=b+Math.imul(Fe,qt)|0,m=m+Math.imul(Ge,nn)|0,f=f+Math.imul(Ge,Zt)|0,f=f+Math.imul(Ze,nn)|0,b=b+Math.imul(Ze,Zt)|0,m=m+Math.imul(je,Xt)|0,f=f+Math.imul(je,Kt)|0,f=f+Math.imul(Xe,Xt)|0,b=b+Math.imul(Xe,Kt)|0,m=m+Math.imul(Oe,$t)|0,f=f+Math.imul(Oe,Wt)|0,f=f+Math.imul($e,$t)|0,b=b+Math.imul($e,Wt)|0,m=m+Math.imul(se,it)|0,f=f+Math.imul(se,lt)|0,f=f+Math.imul(pe,it)|0,b=b+Math.imul(pe,lt)|0,m=m+Math.imul(z,Vt)|0,f=f+Math.imul(z,rn)|0,f=f+Math.imul(Z,Vt)|0,b=b+Math.imul(Z,rn)|0;var ua=(v+m|0)+((f&8191)<<13)|0;v=(b+(f>>>13)|0)+(ua>>>26)|0,ua&=67108863,m=Math.imul(ce,Ye),f=Math.imul(ce,tn),f=f+Math.imul(ge,Ye)|0,b=Math.imul(ge,tn),m=m+Math.imul(T,Lt)|0,f=f+Math.imul(T,zt)|0,f=f+Math.imul(q,Lt)|0,b=b+Math.imul(q,zt)|0,m=m+Math.imul(wt,Ht)|0,f=f+Math.imul(wt,Ct)|0,f=f+Math.imul(H,Ht)|0,b=b+Math.imul(H,Ct)|0,m=m+Math.imul(rt,Yt)|0,f=f+Math.imul(rt,qt)|0,f=f+Math.imul(qe,Yt)|0,b=b+Math.imul(qe,qt)|0,m=m+Math.imul(_t,nn)|0,f=f+Math.imul(_t,Zt)|0,f=f+Math.imul(Fe,nn)|0,b=b+Math.imul(Fe,Zt)|0,m=m+Math.imul(Ge,Xt)|0,f=f+Math.imul(Ge,Kt)|0,f=f+Math.imul(Ze,Xt)|0,b=b+Math.imul(Ze,Kt)|0,m=m+Math.imul(je,$t)|0,f=f+Math.imul(je,Wt)|0,f=f+Math.imul(Xe,$t)|0,b=b+Math.imul(Xe,Wt)|0,m=m+Math.imul(Oe,it)|0,f=f+Math.imul(Oe,lt)|0,f=f+Math.imul($e,it)|0,b=b+Math.imul($e,lt)|0,m=m+Math.imul(se,Vt)|0,f=f+Math.imul(se,rn)|0,f=f+Math.imul(pe,Vt)|0,b=b+Math.imul(pe,rn)|0;var la=(v+m|0)+((f&8191)<<13)|0;v=(b+(f>>>13)|0)+(la>>>26)|0,la&=67108863,m=Math.imul(ce,Lt),f=Math.imul(ce,zt),f=f+Math.imul(ge,Lt)|0,b=Math.imul(ge,zt),m=m+Math.imul(T,Ht)|0,f=f+Math.imul(T,Ct)|0,f=f+Math.imul(q,Ht)|0,b=b+Math.imul(q,Ct)|0,m=m+Math.imul(wt,Yt)|0,f=f+Math.imul(wt,qt)|0,f=f+Math.imul(H,Yt)|0,b=b+Math.imul(H,qt)|0,m=m+Math.imul(rt,nn)|0,f=f+Math.imul(rt,Zt)|0,f=f+Math.imul(qe,nn)|0,b=b+Math.imul(qe,Zt)|0,m=m+Math.imul(_t,Xt)|0,f=f+Math.imul(_t,Kt)|0,f=f+Math.imul(Fe,Xt)|0,b=b+Math.imul(Fe,Kt)|0,m=m+Math.imul(Ge,$t)|0,f=f+Math.imul(Ge,Wt)|0,f=f+Math.imul(Ze,$t)|0,b=b+Math.imul(Ze,Wt)|0,m=m+Math.imul(je,it)|0,f=f+Math.imul(je,lt)|0,f=f+Math.imul(Xe,it)|0,b=b+Math.imul(Xe,lt)|0,m=m+Math.imul(Oe,Vt)|0,f=f+Math.imul(Oe,rn)|0,f=f+Math.imul($e,Vt)|0,b=b+Math.imul($e,rn)|0;var Er=(v+m|0)+((f&8191)<<13)|0;v=(b+(f>>>13)|0)+(Er>>>26)|0,Er&=67108863,m=Math.imul(ce,Ht),f=Math.imul(ce,Ct),f=f+Math.imul(ge,Ht)|0,b=Math.imul(ge,Ct),m=m+Math.imul(T,Yt)|0,f=f+Math.imul(T,qt)|0,f=f+Math.imul(q,Yt)|0,b=b+Math.imul(q,qt)|0,m=m+Math.imul(wt,nn)|0,f=f+Math.imul(wt,Zt)|0,f=f+Math.imul(H,nn)|0,b=b+Math.imul(H,Zt)|0,m=m+Math.imul(rt,Xt)|0,f=f+Math.imul(rt,Kt)|0,f=f+Math.imul(qe,Xt)|0,b=b+Math.imul(qe,Kt)|0,m=m+Math.imul(_t,$t)|0,f=f+Math.imul(_t,Wt)|0,f=f+Math.imul(Fe,$t)|0,b=b+Math.imul(Fe,Wt)|0,m=m+Math.imul(Ge,it)|0,f=f+Math.imul(Ge,lt)|0,f=f+Math.imul(Ze,it)|0,b=b+Math.imul(Ze,lt)|0,m=m+Math.imul(je,Vt)|0,f=f+Math.imul(je,rn)|0,f=f+Math.imul(Xe,Vt)|0,b=b+Math.imul(Xe,rn)|0;var Mr=(v+m|0)+((f&8191)<<13)|0;v=(b+(f>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,m=Math.imul(ce,Yt),f=Math.imul(ce,qt),f=f+Math.imul(ge,Yt)|0,b=Math.imul(ge,qt),m=m+Math.imul(T,nn)|0,f=f+Math.imul(T,Zt)|0,f=f+Math.imul(q,nn)|0,b=b+Math.imul(q,Zt)|0,m=m+Math.imul(wt,Xt)|0,f=f+Math.imul(wt,Kt)|0,f=f+Math.imul(H,Xt)|0,b=b+Math.imul(H,Kt)|0,m=m+Math.imul(rt,$t)|0,f=f+Math.imul(rt,Wt)|0,f=f+Math.imul(qe,$t)|0,b=b+Math.imul(qe,Wt)|0,m=m+Math.imul(_t,it)|0,f=f+Math.imul(_t,lt)|0,f=f+Math.imul(Fe,it)|0,b=b+Math.imul(Fe,lt)|0,m=m+Math.imul(Ge,Vt)|0,f=f+Math.imul(Ge,rn)|0,f=f+Math.imul(Ze,Vt)|0,b=b+Math.imul(Ze,rn)|0;var So=(v+m|0)+((f&8191)<<13)|0;v=(b+(f>>>13)|0)+(So>>>26)|0,So&=67108863,m=Math.imul(ce,nn),f=Math.imul(ce,Zt),f=f+Math.imul(ge,nn)|0,b=Math.imul(ge,Zt),m=m+Math.imul(T,Xt)|0,f=f+Math.imul(T,Kt)|0,f=f+Math.imul(q,Xt)|0,b=b+Math.imul(q,Kt)|0,m=m+Math.imul(wt,$t)|0,f=f+Math.imul(wt,Wt)|0,f=f+Math.imul(H,$t)|0,b=b+Math.imul(H,Wt)|0,m=m+Math.imul(rt,it)|0,f=f+Math.imul(rt,lt)|0,f=f+Math.imul(qe,it)|0,b=b+Math.imul(qe,lt)|0,m=m+Math.imul(_t,Vt)|0,f=f+Math.imul(_t,rn)|0,f=f+Math.imul(Fe,Vt)|0,b=b+Math.imul(Fe,rn)|0;var fa=(v+m|0)+((f&8191)<<13)|0;v=(b+(f>>>13)|0)+(fa>>>26)|0,fa&=67108863,m=Math.imul(ce,Xt),f=Math.imul(ce,Kt),f=f+Math.imul(ge,Xt)|0,b=Math.imul(ge,Kt),m=m+Math.imul(T,$t)|0,f=f+Math.imul(T,Wt)|0,f=f+Math.imul(q,$t)|0,b=b+Math.imul(q,Wt)|0,m=m+Math.imul(wt,it)|0,f=f+Math.imul(wt,lt)|0,f=f+Math.imul(H,it)|0,b=b+Math.imul(H,lt)|0,m=m+Math.imul(rt,Vt)|0,f=f+Math.imul(rt,rn)|0,f=f+Math.imul(qe,Vt)|0,b=b+Math.imul(qe,rn)|0;var da=(v+m|0)+((f&8191)<<13)|0;v=(b+(f>>>13)|0)+(da>>>26)|0,da&=67108863,m=Math.imul(ce,$t),f=Math.imul(ce,Wt),f=f+Math.imul(ge,$t)|0,b=Math.imul(ge,Wt),m=m+Math.imul(T,it)|0,f=f+Math.imul(T,lt)|0,f=f+Math.imul(q,it)|0,b=b+Math.imul(q,lt)|0,m=m+Math.imul(wt,Vt)|0,f=f+Math.imul(wt,rn)|0,f=f+Math.imul(H,Vt)|0,b=b+Math.imul(H,rn)|0;var Ao=(v+m|0)+((f&8191)<<13)|0;v=(b+(f>>>13)|0)+(Ao>>>26)|0,Ao&=67108863,m=Math.imul(ce,it),f=Math.imul(ce,lt),f=f+Math.imul(ge,it)|0,b=Math.imul(ge,lt),m=m+Math.imul(T,Vt)|0,f=f+Math.imul(T,rn)|0,f=f+Math.imul(q,Vt)|0,b=b+Math.imul(q,rn)|0;var Ci=(v+m|0)+((f&8191)<<13)|0;v=(b+(f>>>13)|0)+(Ci>>>26)|0,Ci&=67108863,m=Math.imul(ce,Vt),f=Math.imul(ce,rn),f=f+Math.imul(ge,Vt)|0,b=Math.imul(ge,rn);var Bi=(v+m|0)+((f&8191)<<13)|0;return v=(b+(f>>>13)|0)+(Bi>>>26)|0,Bi&=67108863,B[0]=Eo,B[1]=ca,B[2]=Wr,B[3]=Es,B[4]=Ir,B[5]=Cr,B[6]=Qr,B[7]=Br,B[8]=sn,B[9]=ua,B[10]=la,B[11]=Er,B[12]=Mr,B[13]=So,B[14]=fa,B[15]=da,B[16]=Ao,B[17]=Ci,B[18]=Bi,v!==0&&(B[19]=v,S.length++),S};Math.imul||(F=j);function V(x,h,w){w.negative=h.negative^x.negative,w.length=x.length+h.length;for(var S=0,N=0,L=0;L<w.length-1;L++){var B=N;N=0;for(var v=S&67108863,m=Math.min(L,h.length-1),f=Math.max(0,L-x.length+1);f<=m;f++){var b=L-f,O=x.words[b]|0,z=h.words[f]|0,Z=O*z,ne=Z&67108863;B=B+(Z/67108864|0)|0,ne=ne+v|0,v=ne&67108863,B=B+(ne>>>26)|0,N+=B>>>26,B&=67108863}w.words[L]=v,S=B,B=N}return S!==0?w.words[L]=S:w.length--,w._strip()}function W(x,h,w){return V(x,h,w)}o.prototype.mulTo=function(h,w){var S,N=this.length+h.length;return this.length===10&&h.length===10?S=F(this,h,w):N<63?S=j(this,h,w):N<1024?S=V(this,h,w):S=W(this,h,w),S},o.prototype.mul=function(h){var w=new o(null);return w.words=new Array(this.length+h.length),this.mulTo(h,w)},o.prototype.mulf=function(h){var w=new o(null);return w.words=new Array(this.length+h.length),W(this,h,w)},o.prototype.imul=function(h){return this.clone().mulTo(h,this)},o.prototype.imuln=function(h){var w=h<0;w&&(h=-h),i(typeof h=="number"),i(h<67108864);for(var S=0,N=0;N<this.length;N++){var L=(this.words[N]|0)*h,B=(L&67108863)+(S&67108863);S>>=26,S+=L/67108864|0,S+=B>>>26,this.words[N]=B&67108863}return S!==0&&(this.words[N]=S,this.length++),this.length=h===0?1:this.length,w?this.ineg():this},o.prototype.muln=function(h){return this.clone().imuln(h)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(h){var w=D(h);if(w.length===0)return new o(1);for(var S=this,N=0;N<w.length&&w[N]===0;N++,S=S.sqr());if(++N<w.length)for(var L=S.sqr();N<w.length;N++,L=L.sqr())w[N]!==0&&(S=S.mul(L));return S},o.prototype.iushln=function(h){i(typeof h=="number"&&h>=0);var w=h%26,S=(h-w)/26,N=67108863>>>26-w<<26-w,L;if(w!==0){var B=0;for(L=0;L<this.length;L++){var v=this.words[L]&N,m=(this.words[L]|0)-v<<w;this.words[L]=m|B,B=v>>>26-w}B&&(this.words[L]=B,this.length++)}if(S!==0){for(L=this.length-1;L>=0;L--)this.words[L+S]=this.words[L];for(L=0;L<S;L++)this.words[L]=0;this.length+=S}return this._strip()},o.prototype.ishln=function(h){return i(this.negative===0),this.iushln(h)},o.prototype.iushrn=function(h,w,S){i(typeof h=="number"&&h>=0);var N;w?N=(w-w%26)/26:N=0;var L=h%26,B=Math.min((h-L)/26,this.length),v=67108863^67108863>>>L<<L,m=S;if(N-=B,N=Math.max(0,N),m){for(var f=0;f<B;f++)m.words[f]=this.words[f];m.length=B}if(B!==0)if(this.length>B)for(this.length-=B,f=0;f<this.length;f++)this.words[f]=this.words[f+B];else this.words[0]=0,this.length=1;var b=0;for(f=this.length-1;f>=0&&(b!==0||f>=N);f--){var O=this.words[f]|0;this.words[f]=b<<26-L|O>>>L,b=O&v}return m&&b!==0&&(m.words[m.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(h,w,S){return i(this.negative===0),this.iushrn(h,w,S)},o.prototype.shln=function(h){return this.clone().ishln(h)},o.prototype.ushln=function(h){return this.clone().iushln(h)},o.prototype.shrn=function(h){return this.clone().ishrn(h)},o.prototype.ushrn=function(h){return this.clone().iushrn(h)},o.prototype.testn=function(h){i(typeof h=="number"&&h>=0);var w=h%26,S=(h-w)/26,N=1<<w;if(this.length<=S)return!1;var L=this.words[S];return!!(L&N)},o.prototype.imaskn=function(h){i(typeof h=="number"&&h>=0);var w=h%26,S=(h-w)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=S)return this;if(w!==0&&S++,this.length=Math.min(S,this.length),w!==0){var N=67108863^67108863>>>w<<w;this.words[this.length-1]&=N}return this._strip()},o.prototype.maskn=function(h){return this.clone().imaskn(h)},o.prototype.iaddn=function(h){return i(typeof h=="number"),i(h<67108864),h<0?this.isubn(-h):this.negative!==0?this.length===1&&(this.words[0]|0)<=h?(this.words[0]=h-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(h),this.negative=1,this):this._iaddn(h)},o.prototype._iaddn=function(h){this.words[0]+=h;for(var w=0;w<this.length&&this.words[w]>=67108864;w++)this.words[w]-=67108864,w===this.length-1?this.words[w+1]=1:this.words[w+1]++;return this.length=Math.max(this.length,w+1),this},o.prototype.isubn=function(h){if(i(typeof h=="number"),i(h<67108864),h<0)return this.iaddn(-h);if(this.negative!==0)return this.negative=0,this.iaddn(h),this.negative=1,this;if(this.words[0]-=h,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var w=0;w<this.length&&this.words[w]<0;w++)this.words[w]+=67108864,this.words[w+1]-=1;return this._strip()},o.prototype.addn=function(h){return this.clone().iaddn(h)},o.prototype.subn=function(h){return this.clone().isubn(h)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(h,w,S){var N=h.length+S,L;this._expand(N);var B,v=0;for(L=0;L<h.length;L++){B=(this.words[L+S]|0)+v;var m=(h.words[L]|0)*w;B-=m&67108863,v=(B>>26)-(m/67108864|0),this.words[L+S]=B&67108863}for(;L<this.length-S;L++)B=(this.words[L+S]|0)+v,v=B>>26,this.words[L+S]=B&67108863;if(v===0)return this._strip();for(i(v===-1),v=0,L=0;L<this.length;L++)B=-(this.words[L]|0)+v,v=B>>26,this.words[L]=B&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(h,w){var S=this.length-h.length,N=this.clone(),L=h,B=L.words[L.length-1]|0,v=this._countBits(B);S=26-v,S!==0&&(L=L.ushln(S),N.iushln(S),B=L.words[L.length-1]|0);var m=N.length-L.length,f;if(w!=="mod"){f=new o(null),f.length=m+1,f.words=new Array(f.length);for(var b=0;b<f.length;b++)f.words[b]=0}var O=N.clone()._ishlnsubmul(L,1,m);O.negative===0&&(N=O,f&&(f.words[m]=1));for(var z=m-1;z>=0;z--){var Z=(N.words[L.length+z]|0)*67108864+(N.words[L.length+z-1]|0);for(Z=Math.min(Z/B|0,67108863),N._ishlnsubmul(L,Z,z);N.negative!==0;)Z--,N.negative=0,N._ishlnsubmul(L,1,z),N.isZero()||(N.negative^=1);f&&(f.words[z]=Z)}return f&&f._strip(),N._strip(),w!=="div"&&S!==0&&N.iushrn(S),{div:f||null,mod:N}},o.prototype.divmod=function(h,w,S){if(i(!h.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var N,L,B;return this.negative!==0&&h.negative===0?(B=this.neg().divmod(h,w),w!=="mod"&&(N=B.div.neg()),w!=="div"&&(L=B.mod.neg(),S&&L.negative!==0&&L.iadd(h)),{div:N,mod:L}):this.negative===0&&h.negative!==0?(B=this.divmod(h.neg(),w),w!=="mod"&&(N=B.div.neg()),{div:N,mod:B.mod}):(this.negative&h.negative)!==0?(B=this.neg().divmod(h.neg(),w),w!=="div"&&(L=B.mod.neg(),S&&L.negative!==0&&L.isub(h)),{div:B.div,mod:L}):h.length>this.length||this.cmp(h)<0?{div:new o(0),mod:this}:h.length===1?w==="div"?{div:this.divn(h.words[0]),mod:null}:w==="mod"?{div:null,mod:new o(this.modrn(h.words[0]))}:{div:this.divn(h.words[0]),mod:new o(this.modrn(h.words[0]))}:this._wordDiv(h,w)},o.prototype.div=function(h){return this.divmod(h,"div",!1).div},o.prototype.mod=function(h){return this.divmod(h,"mod",!1).mod},o.prototype.umod=function(h){return this.divmod(h,"mod",!0).mod},o.prototype.divRound=function(h){var w=this.divmod(h);if(w.mod.isZero())return w.div;var S=w.div.negative!==0?w.mod.isub(h):w.mod,N=h.ushrn(1),L=h.andln(1),B=S.cmp(N);return B<0||L===1&&B===0?w.div:w.div.negative!==0?w.div.isubn(1):w.div.iaddn(1)},o.prototype.modrn=function(h){var w=h<0;w&&(h=-h),i(h<=67108863);for(var S=(1<<26)%h,N=0,L=this.length-1;L>=0;L--)N=(S*N+(this.words[L]|0))%h;return w?-N:N},o.prototype.modn=function(h){return this.modrn(h)},o.prototype.idivn=function(h){var w=h<0;w&&(h=-h),i(h<=67108863);for(var S=0,N=this.length-1;N>=0;N--){var L=(this.words[N]|0)+S*67108864;this.words[N]=L/h|0,S=L%h}return this._strip(),w?this.ineg():this},o.prototype.divn=function(h){return this.clone().idivn(h)},o.prototype.egcd=function(h){i(h.negative===0),i(!h.isZero());var w=this,S=h.clone();w.negative!==0?w=w.umod(h):w=w.clone();for(var N=new o(1),L=new o(0),B=new o(0),v=new o(1),m=0;w.isEven()&&S.isEven();)w.iushrn(1),S.iushrn(1),++m;for(var f=S.clone(),b=w.clone();!w.isZero();){for(var O=0,z=1;(w.words[0]&z)===0&&O<26;++O,z<<=1);if(O>0)for(w.iushrn(O);O-- >0;)(N.isOdd()||L.isOdd())&&(N.iadd(f),L.isub(b)),N.iushrn(1),L.iushrn(1);for(var Z=0,ne=1;(S.words[0]&ne)===0&&Z<26;++Z,ne<<=1);if(Z>0)for(S.iushrn(Z);Z-- >0;)(B.isOdd()||v.isOdd())&&(B.iadd(f),v.isub(b)),B.iushrn(1),v.iushrn(1);w.cmp(S)>=0?(w.isub(S),N.isub(B),L.isub(v)):(S.isub(w),B.isub(N),v.isub(L))}return{a:B,b:v,gcd:S.iushln(m)}},o.prototype._invmp=function(h){i(h.negative===0),i(!h.isZero());var w=this,S=h.clone();w.negative!==0?w=w.umod(h):w=w.clone();for(var N=new o(1),L=new o(0),B=S.clone();w.cmpn(1)>0&&S.cmpn(1)>0;){for(var v=0,m=1;(w.words[0]&m)===0&&v<26;++v,m<<=1);if(v>0)for(w.iushrn(v);v-- >0;)N.isOdd()&&N.iadd(B),N.iushrn(1);for(var f=0,b=1;(S.words[0]&b)===0&&f<26;++f,b<<=1);if(f>0)for(S.iushrn(f);f-- >0;)L.isOdd()&&L.iadd(B),L.iushrn(1);w.cmp(S)>=0?(w.isub(S),N.isub(L)):(S.isub(w),L.isub(N))}var O;return w.cmpn(1)===0?O=N:O=L,O.cmpn(0)<0&&O.iadd(h),O},o.prototype.gcd=function(h){if(this.isZero())return h.abs();if(h.isZero())return this.abs();var w=this.clone(),S=h.clone();w.negative=0,S.negative=0;for(var N=0;w.isEven()&&S.isEven();N++)w.iushrn(1),S.iushrn(1);do{for(;w.isEven();)w.iushrn(1);for(;S.isEven();)S.iushrn(1);var L=w.cmp(S);if(L<0){var B=w;w=S,S=B}else if(L===0||S.cmpn(1)===0)break;w.isub(S)}while(!0);return S.iushln(N)},o.prototype.invm=function(h){return this.egcd(h).a.umod(h)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(h){return this.words[0]&h},o.prototype.bincn=function(h){i(typeof h=="number");var w=h%26,S=(h-w)/26,N=1<<w;if(this.length<=S)return this._expand(S+1),this.words[S]|=N,this;for(var L=N,B=S;L!==0&&B<this.length;B++){var v=this.words[B]|0;v+=L,L=v>>>26,v&=67108863,this.words[B]=v}return L!==0&&(this.words[B]=L,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(h){var w=h<0;if(this.negative!==0&&!w)return-1;if(this.negative===0&&w)return 1;this._strip();var S;if(this.length>1)S=1;else{w&&(h=-h),i(h<=67108863,"Number is too big");var N=this.words[0]|0;S=N===h?0:N<h?-1:1}return this.negative!==0?-S|0:S},o.prototype.cmp=function(h){if(this.negative!==0&&h.negative===0)return-1;if(this.negative===0&&h.negative!==0)return 1;var w=this.ucmp(h);return this.negative!==0?-w|0:w},o.prototype.ucmp=function(h){if(this.length>h.length)return 1;if(this.length<h.length)return-1;for(var w=0,S=this.length-1;S>=0;S--){var N=this.words[S]|0,L=h.words[S]|0;if(N!==L){N<L?w=-1:N>L&&(w=1);break}}return w},o.prototype.gtn=function(h){return this.cmpn(h)===1},o.prototype.gt=function(h){return this.cmp(h)===1},o.prototype.gten=function(h){return this.cmpn(h)>=0},o.prototype.gte=function(h){return this.cmp(h)>=0},o.prototype.ltn=function(h){return this.cmpn(h)===-1},o.prototype.lt=function(h){return this.cmp(h)===-1},o.prototype.lten=function(h){return this.cmpn(h)<=0},o.prototype.lte=function(h){return this.cmp(h)<=0},o.prototype.eqn=function(h){return this.cmpn(h)===0},o.prototype.eq=function(h){return this.cmp(h)===0},o.red=function(h){return new X(h)},o.prototype.toRed=function(h){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),h.convertTo(this)._forceRed(h)},o.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(h){return this.red=h,this},o.prototype.forceRed=function(h){return i(!this.red,"Already a number in reduction context"),this._forceRed(h)},o.prototype.redAdd=function(h){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,h)},o.prototype.redIAdd=function(h){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,h)},o.prototype.redSub=function(h){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,h)},o.prototype.redISub=function(h){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,h)},o.prototype.redShl=function(h){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,h)},o.prototype.redMul=function(h){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.mul(this,h)},o.prototype.redIMul=function(h){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.imul(this,h)},o.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(h){return i(this.red&&!h.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,h)};var re={k256:null,p224:null,p192:null,p25519:null};function oe(x,h){this.name=x,this.p=new o(h,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}oe.prototype._tmp=function(){var h=new o(null);return h.words=new Array(Math.ceil(this.n/13)),h},oe.prototype.ireduce=function(h){var w=h,S;do this.split(w,this.tmp),w=this.imulK(w),w=w.iadd(this.tmp),S=w.bitLength();while(S>this.n);var N=S<this.n?-1:w.ucmp(this.p);return N===0?(w.words[0]=0,w.length=1):N>0?w.isub(this.p):w.strip!==void 0?w.strip():w._strip(),w},oe.prototype.split=function(h,w){h.iushrn(this.n,0,w)},oe.prototype.imulK=function(h){return h.imul(this.k)};function ie(){oe.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}c(ie,oe),ie.prototype.split=function(h,w){for(var S=4194303,N=Math.min(h.length,9),L=0;L<N;L++)w.words[L]=h.words[L];if(w.length=N,h.length<=9){h.words[0]=0,h.length=1;return}var B=h.words[9];for(w.words[w.length++]=B&S,L=10;L<h.length;L++){var v=h.words[L]|0;h.words[L-10]=(v&S)<<4|B>>>22,B=v}B>>>=22,h.words[L-10]=B,B===0&&h.length>10?h.length-=10:h.length-=9},ie.prototype.imulK=function(h){h.words[h.length]=0,h.words[h.length+1]=0,h.length+=2;for(var w=0,S=0;S<h.length;S++){var N=h.words[S]|0;w+=N*977,h.words[S]=w&67108863,w=N*64+(w/67108864|0)}return h.words[h.length-1]===0&&(h.length--,h.words[h.length-1]===0&&h.length--),h};function le(){oe.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}c(le,oe);function G(){oe.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}c(G,oe);function Y(){oe.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}c(Y,oe),Y.prototype.imulK=function(h){for(var w=0,S=0;S<h.length;S++){var N=(h.words[S]|0)*19+w,L=N&67108863;N>>>=26,h.words[S]=L,w=N}return w!==0&&(h.words[h.length++]=w),h},o._prime=function(h){if(re[h])return re[h];var w;if(h==="k256")w=new ie;else if(h==="p224")w=new le;else if(h==="p192")w=new G;else if(h==="p25519")w=new Y;else throw new Error("Unknown prime "+h);return re[h]=w,w};function X(x){if(typeof x=="string"){var h=o._prime(x);this.m=h.p,this.prime=h}else i(x.gtn(1),"modulus must be greater than 1"),this.m=x,this.prime=null}X.prototype._verify1=function(h){i(h.negative===0,"red works only with positives"),i(h.red,"red works only with red numbers")},X.prototype._verify2=function(h,w){i((h.negative|w.negative)===0,"red works only with positives"),i(h.red&&h.red===w.red,"red works only with red numbers")},X.prototype.imod=function(h){return this.prime?this.prime.ireduce(h)._forceRed(this):(E(h,h.umod(this.m)._forceRed(this)),h)},X.prototype.neg=function(h){return h.isZero()?h.clone():this.m.sub(h)._forceRed(this)},X.prototype.add=function(h,w){this._verify2(h,w);var S=h.add(w);return S.cmp(this.m)>=0&&S.isub(this.m),S._forceRed(this)},X.prototype.iadd=function(h,w){this._verify2(h,w);var S=h.iadd(w);return S.cmp(this.m)>=0&&S.isub(this.m),S},X.prototype.sub=function(h,w){this._verify2(h,w);var S=h.sub(w);return S.cmpn(0)<0&&S.iadd(this.m),S._forceRed(this)},X.prototype.isub=function(h,w){this._verify2(h,w);var S=h.isub(w);return S.cmpn(0)<0&&S.iadd(this.m),S},X.prototype.shl=function(h,w){return this._verify1(h),this.imod(h.ushln(w))},X.prototype.imul=function(h,w){return this._verify2(h,w),this.imod(h.imul(w))},X.prototype.mul=function(h,w){return this._verify2(h,w),this.imod(h.mul(w))},X.prototype.isqr=function(h){return this.imul(h,h.clone())},X.prototype.sqr=function(h){return this.mul(h,h)},X.prototype.sqrt=function(h){if(h.isZero())return h.clone();var w=this.m.andln(3);if(i(w%2===1),w===3){var S=this.m.add(new o(1)).iushrn(2);return this.pow(h,S)}for(var N=this.m.subn(1),L=0;!N.isZero()&&N.andln(1)===0;)L++,N.iushrn(1);i(!N.isZero());var B=new o(1).toRed(this),v=B.redNeg(),m=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);this.pow(f,m).cmp(v)!==0;)f.redIAdd(v);for(var b=this.pow(f,N),O=this.pow(h,N.addn(1).iushrn(1)),z=this.pow(h,N),Z=L;z.cmp(B)!==0;){for(var ne=z,se=0;ne.cmp(B)!==0;se++)ne=ne.redSqr();i(se<Z);var pe=this.pow(b,new o(1).iushln(Z-se-1));O=O.redMul(pe),b=pe.redSqr(),z=z.redMul(b),Z=se}return O},X.prototype.invm=function(h){var w=h._invmp(this.m);return w.negative!==0?(w.negative=0,this.imod(w).redNeg()):this.imod(w)},X.prototype.pow=function(h,w){if(w.isZero())return new o(1).toRed(this);if(w.cmpn(1)===0)return h.clone();var S=4,N=new Array(1<<S);N[0]=new o(1).toRed(this),N[1]=h;for(var L=2;L<N.length;L++)N[L]=this.mul(N[L-1],h);var B=N[0],v=0,m=0,f=w.bitLength()%26;for(f===0&&(f=26),L=w.length-1;L>=0;L--){for(var b=w.words[L],O=f-1;O>=0;O--){var z=b>>O&1;if(B!==N[0]&&(B=this.sqr(B)),z===0&&v===0){m=0;continue}v<<=1,v|=z,m++,!(m!==S&&(L!==0||O!==0))&&(B=this.mul(B,N[v]),m=0,v=0)}f=26}return B},X.prototype.convertTo=function(h){var w=h.umod(this.m);return w===h?w.clone():w},X.prototype.convertFrom=function(h){var w=h.clone();return w.red=null,w},o.mont=function(h){return new $(h)};function $(x){X.call(this,x),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}c($,X),$.prototype.convertTo=function(h){return this.imod(h.ushln(this.shift))},$.prototype.convertFrom=function(h){var w=this.imod(h.mul(this.rinv));return w.red=null,w},$.prototype.imul=function(h,w){if(h.isZero()||w.isZero())return h.words[0]=0,h.length=1,h;var S=h.imul(w),N=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),L=S.isub(N).iushrn(this.shift),B=L;return L.cmp(this.m)>=0?B=L.isub(this.m):L.cmpn(0)<0&&(B=L.iadd(this.m)),B._forceRed(this)},$.prototype.mul=function(h,w){if(h.isZero()||w.isZero())return new o(0)._forceRed(this);var S=h.mul(w),N=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),L=S.isub(N).iushrn(this.shift),B=L;return L.cmp(this.m)>=0?B=L.isub(this.m):L.cmpn(0)<0&&(B=L.iadd(this.m)),B._forceRed(this)},$.prototype.invm=function(h){var w=this.imod(h._invmp(this.m).mul(this.r2));return w._forceRed(this)}})(s,S2)})(vl)),vl.exports}var A2=X0();const kn=Ni(A2);var al={exports:{}};var Pg;function $0(){return Pg||(Pg=1,(function(s,t){var n=j0(),i=n.Buffer;function c(l,d){for(var y in l)d[y]=l[y]}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?s.exports=n:(c(n,t),t.Buffer=o);function o(l,d,y){return i(l,d,y)}o.prototype=Object.create(i.prototype),c(i,o),o.from=function(l,d,y){if(typeof l=="number")throw new TypeError("Argument must not be a number");return i(l,d,y)},o.alloc=function(l,d,y){if(typeof l!="number")throw new TypeError("Argument must be a number");var _=i(l);return d!==void 0?typeof y=="string"?_.fill(d,y):_.fill(d):_.fill(0),_},o.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return i(l)},o.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(l)}})(al,al.exports)),al.exports}var Bh,qg;function R2(){if(qg)return Bh;qg=1;var s=$0().Buffer;function t(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var i=new Uint8Array(256),c=0;c<i.length;c++)i[c]=255;for(var o=0;o<n.length;o++){var l=n.charAt(o),d=l.charCodeAt(0);if(i[d]!==255)throw new TypeError(l+" is ambiguous");i[d]=o}var y=n.length,_=n.charAt(0),E=Math.log(y)/Math.log(256),C=Math.log(256)/Math.log(y);function I(U){if((Array.isArray(U)||U instanceof Uint8Array)&&(U=s.from(U)),!s.isBuffer(U))throw new TypeError("Expected Buffer");if(U.length===0)return"";for(var D=0,j=0,F=0,V=U.length;F!==V&&U[F]===0;)F++,D++;for(var W=(V-F)*C+1>>>0,re=new Uint8Array(W);F!==V;){for(var oe=U[F],ie=0,le=W-1;(oe!==0||ie<j)&&le!==-1;le--,ie++)oe+=256*re[le]>>>0,re[le]=oe%y>>>0,oe=oe/y>>>0;if(oe!==0)throw new Error("Non-zero carry");j=ie,F++}for(var G=W-j;G!==W&&re[G]===0;)G++;for(var Y=_.repeat(D);G<W;++G)Y+=n.charAt(re[G]);return Y}function R(U){if(typeof U!="string")throw new TypeError("Expected String");if(U.length===0)return s.alloc(0);for(var D=0,j=0,F=0;U[D]===_;)j++,D++;for(var V=(U.length-D)*E+1>>>0,W=new Uint8Array(V);D<U.length;){var re=U.charCodeAt(D);if(re>255)return;var oe=i[re];if(oe===255)return;for(var ie=0,le=V-1;(oe!==0||ie<F)&&le!==-1;le--,ie++)oe+=y*W[le]>>>0,W[le]=oe%256>>>0,oe=oe/256>>>0;if(oe!==0)throw new Error("Non-zero carry");F=ie,D++}for(var G=V-F;G!==V&&W[G]===0;)G++;var Y=s.allocUnsafe(j+(V-G));Y.fill(0,0,j);for(var X=j;G!==V;)Y[X++]=W[G++];return Y}function M(U){var D=R(U);if(D)return D;throw new Error("Non-base"+y+" character")}return{encode:I,decodeUnsafe:R,decode:M}}return Bh=t,Bh}var Mh,Kg;function x2(){if(Kg)return Mh;Kg=1;var s=R2(),t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return Mh=s(t),Mh}var T2=x2();const In=Ni(T2),Il=S_;var Rt={},Uh,Vg;function O2(){if(Vg)return Uh;Vg=1;var s=$0().Buffer;function t(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var i=new Uint8Array(256),c=0;c<i.length;c++)i[c]=255;for(var o=0;o<n.length;o++){var l=n.charAt(o),d=l.charCodeAt(0);if(i[d]!==255)throw new TypeError(l+" is ambiguous");i[d]=o}var y=n.length,_=n.charAt(0),E=Math.log(y)/Math.log(256),C=Math.log(256)/Math.log(y);function I(U){if((Array.isArray(U)||U instanceof Uint8Array)&&(U=s.from(U)),!s.isBuffer(U))throw new TypeError("Expected Buffer");if(U.length===0)return"";for(var D=0,j=0,F=0,V=U.length;F!==V&&U[F]===0;)F++,D++;for(var W=(V-F)*C+1>>>0,re=new Uint8Array(W);F!==V;){for(var oe=U[F],ie=0,le=W-1;(oe!==0||ie<j)&&le!==-1;le--,ie++)oe+=256*re[le]>>>0,re[le]=oe%y>>>0,oe=oe/y>>>0;if(oe!==0)throw new Error("Non-zero carry");j=ie,F++}for(var G=W-j;G!==W&&re[G]===0;)G++;for(var Y=_.repeat(D);G<W;++G)Y+=n.charAt(re[G]);return Y}function R(U){if(typeof U!="string")throw new TypeError("Expected String");if(U.length===0)return s.alloc(0);for(var D=0,j=0,F=0;U[D]===_;)j++,D++;for(var V=(U.length-D)*E+1>>>0,W=new Uint8Array(V);D<U.length;){var re=U.charCodeAt(D);if(re>255)return;var oe=i[re];if(oe===255)return;for(var ie=0,le=V-1;(oe!==0||ie<F)&&le!==-1;le--,ie++)oe+=y*W[le]>>>0,W[le]=oe%256>>>0,oe=oe/256>>>0;if(oe!==0)throw new Error("Non-zero carry");F=ie,D++}for(var G=V-F;G!==V&&W[G]===0;)G++;var Y=s.allocUnsafe(j+(V-G));Y.fill(0,0,j);for(var X=j;G!==V;)Y[X++]=W[G++];return Y}function M(U){var D=R(U);if(D)return D;throw new Error("Non-base"+y+" character")}return{encode:I,decodeUnsafe:R,decode:M}}return Uh=t,Uh}var Dh,Gg;function N2(){if(Gg)return Dh;Gg=1;var s=O2(),t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return Dh=s(t),Dh}function Si(s,t,n){return t<=s&&s<=n}function Yl(s){if(s===void 0)return{};if(s===Object(s))return s;throw TypeError("Could not convert argument to dictionary")}function k2(s){for(var t=String(s),n=t.length,i=0,c=[];i<n;){var o=t.charCodeAt(i);if(o<55296||o>57343)c.push(o);else if(56320<=o&&o<=57343)c.push(65533);else if(55296<=o&&o<=56319)if(i===n-1)c.push(65533);else{var l=s.charCodeAt(i+1);if(56320<=l&&l<=57343){var d=o&1023,y=l&1023;c.push(65536+(d<<10)+y),i+=1}else c.push(65533)}i+=1}return c}function I2(s){for(var t="",n=0;n<s.length;++n){var i=s[n];i<=65535?t+=String.fromCharCode(i):(i-=65536,t+=String.fromCharCode((i>>10)+55296,(i&1023)+56320))}return t}var Cl=-1;function W0(s){this.tokens=[].slice.call(s)}W0.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Cl},prepend:function(s){if(Array.isArray(s))for(var t=s;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(s)},push:function(s){if(Array.isArray(s))for(var t=s;t.length;)this.tokens.push(t.shift());else this.tokens.push(s)}};var lo=-1;function Lh(s,t){if(s)throw TypeError("Decoder error");return t||65533}var Bl="utf-8";function Ml(s,t){if(!(this instanceof Ml))return new Ml(s,t);if(s=s!==void 0?String(s).toLowerCase():Bl,s!==Bl)throw new Error("Encoding not supported. Only utf-8 is supported");t=Yl(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Ml.prototype={decode:function(t,n){var i;typeof t=="object"&&t instanceof ArrayBuffer?i=new Uint8Array(t):typeof t=="object"&&"buffer"in t&&t.buffer instanceof ArrayBuffer?i=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):i=new Uint8Array(0),n=Yl(n),this._streaming||(this._decoder=new C2({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var c=new W0(i),o=[],l;!c.endOfStream()&&(l=this._decoder.handler(c,c.read()),l!==lo);)l!==null&&(Array.isArray(l)?o.push.apply(o,l):o.push(l));if(!this._streaming){do{if(l=this._decoder.handler(c,c.read()),l===lo)break;l!==null&&(Array.isArray(l)?o.push.apply(o,l):o.push(l))}while(!c.endOfStream());this._decoder=null}return o.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(o[0]===65279?(this._BOMseen=!0,o.shift()):this._BOMseen=!0),I2(o)}};function Ul(s,t){if(!(this instanceof Ul))return new Ul(s,t);if(s=s!==void 0?String(s).toLowerCase():Bl,s!==Bl)throw new Error("Encoding not supported. Only utf-8 is supported");t=Yl(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Ul.prototype={encode:function(t,n){t=t?String(t):"",n=Yl(n),this._streaming||(this._encoder=new B2(this._options)),this._streaming=!!n.stream;for(var i=[],c=new W0(k2(t)),o;!c.endOfStream()&&(o=this._encoder.handler(c,c.read()),o!==lo);)Array.isArray(o)?i.push.apply(i,o):i.push(o);if(!this._streaming){for(;o=this._encoder.handler(c,c.read()),o!==lo;)Array.isArray(o)?i.push.apply(i,o):i.push(o);this._encoder=null}return new Uint8Array(i)}};function C2(s){var t=s.fatal,n=0,i=0,c=0,o=128,l=191;this.handler=function(d,y){if(y===Cl&&c!==0)return c=0,Lh(t);if(y===Cl)return lo;if(c===0){if(Si(y,0,127))return y;if(Si(y,194,223))c=1,n=y-192;else if(Si(y,224,239))y===224&&(o=160),y===237&&(l=159),c=2,n=y-224;else if(Si(y,240,244))y===240&&(o=144),y===244&&(l=143),c=3,n=y-240;else return Lh(t);return n=n<<6*c,null}if(!Si(y,o,l))return n=c=i=0,o=128,l=191,d.prepend(y),Lh(t);if(o=128,l=191,i+=1,n+=y-128<<6*(c-i),i!==c)return null;var _=n;return n=c=i=0,_}}function B2(s){s.fatal,this.handler=function(t,n){if(n===Cl)return lo;if(Si(n,0,127))return n;var i,c;Si(n,128,2047)?(i=1,c=192):Si(n,2048,65535)?(i=2,c=224):Si(n,65536,1114111)&&(i=3,c=240);for(var o=[(n>>6*i)+c];i>0;){var l=n>>6*(i-1);o.push(128|l&63),i-=1}return o}}const M2=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:Ml,TextEncoder:Ul},Symbol.toStringTag,{value:"Module"})),U2=Vl(M2);var Fg;function D2(){if(Fg)return Rt;Fg=1;var s=Rt&&Rt.__createBinding||(Object.create?(function(G,Y,X,$){$===void 0&&($=X),Object.defineProperty(G,$,{enumerable:!0,get:function(){return Y[X]}})}):(function(G,Y,X,$){$===void 0&&($=X),G[$]=Y[X]})),t=Rt&&Rt.__setModuleDefault||(Object.create?(function(G,Y){Object.defineProperty(G,"default",{enumerable:!0,value:Y})}):function(G,Y){G.default=Y}),n=Rt&&Rt.__decorate||function(G,Y,X,$){var x=arguments.length,h=x<3?Y:$===null?$=Object.getOwnPropertyDescriptor(Y,X):$,w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(G,Y,X,$);else for(var S=G.length-1;S>=0;S--)(w=G[S])&&(h=(x<3?w(h):x>3?w(Y,X,h):w(Y,X))||h);return x>3&&h&&Object.defineProperty(Y,X,h),h},i=Rt&&Rt.__importStar||function(G){if(G&&G.__esModule)return G;var Y={};if(G!=null)for(var X in G)X!=="default"&&Object.hasOwnProperty.call(G,X)&&s(Y,G,X);return t(Y,G),Y},c=Rt&&Rt.__importDefault||function(G){return G&&G.__esModule?G:{default:G}};Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.deserializeUnchecked=Rt.deserialize=Rt.serialize=Rt.BinaryReader=Rt.BinaryWriter=Rt.BorshError=Rt.baseDecode=Rt.baseEncode=void 0;const o=c(X0()),l=c(N2()),d=i(U2),y=typeof TextDecoder!="function"?d.TextDecoder:TextDecoder,_=new y("utf-8",{fatal:!0});function E(G){return typeof G=="string"&&(G=Buffer.from(G,"utf8")),l.default.encode(Buffer.from(G))}Rt.baseEncode=E;function C(G){return Buffer.from(l.default.decode(G))}Rt.baseDecode=C;const I=1024;class R extends Error{constructor(Y){super(Y),this.fieldPath=[],this.originalMessage=Y}addToFieldPath(Y){this.fieldPath.splice(0,0,Y),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}Rt.BorshError=R;class M{constructor(){this.buf=Buffer.alloc(I),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(I)]))}writeU8(Y){this.maybeResize(),this.buf.writeUInt8(Y,this.length),this.length+=1}writeU16(Y){this.maybeResize(),this.buf.writeUInt16LE(Y,this.length),this.length+=2}writeU32(Y){this.maybeResize(),this.buf.writeUInt32LE(Y,this.length),this.length+=4}writeU64(Y){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(Y).toArray("le",8)))}writeU128(Y){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(Y).toArray("le",16)))}writeU256(Y){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(Y).toArray("le",32)))}writeU512(Y){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(Y).toArray("le",64)))}writeBuffer(Y){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),Y,Buffer.alloc(I)]),this.length+=Y.length}writeString(Y){this.maybeResize();const X=Buffer.from(Y,"utf8");this.writeU32(X.length),this.writeBuffer(X)}writeFixedArray(Y){this.writeBuffer(Buffer.from(Y))}writeArray(Y,X){this.maybeResize(),this.writeU32(Y.length);for(const $ of Y)this.maybeResize(),X($)}toArray(){return this.buf.subarray(0,this.length)}}Rt.BinaryWriter=M;function U(G,Y,X){const $=X.value;X.value=function(...x){try{return $.apply(this,x)}catch(h){if(h instanceof RangeError){const w=h.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(w)>=0)throw new R("Reached the end of buffer when deserializing")}throw h}}}class D{constructor(Y){this.buf=Y,this.offset=0}readU8(){const Y=this.buf.readUInt8(this.offset);return this.offset+=1,Y}readU16(){const Y=this.buf.readUInt16LE(this.offset);return this.offset+=2,Y}readU32(){const Y=this.buf.readUInt32LE(this.offset);return this.offset+=4,Y}readU64(){const Y=this.readBuffer(8);return new o.default(Y,"le")}readU128(){const Y=this.readBuffer(16);return new o.default(Y,"le")}readU256(){const Y=this.readBuffer(32);return new o.default(Y,"le")}readU512(){const Y=this.readBuffer(64);return new o.default(Y,"le")}readBuffer(Y){if(this.offset+Y>this.buf.length)throw new R(`Expected buffer length ${Y} isn't within bounds`);const X=this.buf.slice(this.offset,this.offset+Y);return this.offset+=Y,X}readString(){const Y=this.readU32(),X=this.readBuffer(Y);try{return _.decode(X)}catch($){throw new R(`Error decoding UTF-8 string: ${$}`)}}readFixedArray(Y){return new Uint8Array(this.readBuffer(Y))}readArray(Y){const X=this.readU32(),$=Array();for(let x=0;x<X;++x)$.push(Y());return $}}n([U],D.prototype,"readU8",null),n([U],D.prototype,"readU16",null),n([U],D.prototype,"readU32",null),n([U],D.prototype,"readU64",null),n([U],D.prototype,"readU128",null),n([U],D.prototype,"readU256",null),n([U],D.prototype,"readU512",null),n([U],D.prototype,"readString",null),n([U],D.prototype,"readFixedArray",null),n([U],D.prototype,"readArray",null),Rt.BinaryReader=D;function j(G){return G.charAt(0).toUpperCase()+G.slice(1)}function F(G,Y,X,$,x){try{if(typeof $=="string")x[`write${j($)}`](X);else if($ instanceof Array)if(typeof $[0]=="number"){if(X.length!==$[0])throw new R(`Expecting byte array of length ${$[0]}, but got ${X.length} bytes`);x.writeFixedArray(X)}else if($.length===2&&typeof $[1]=="number"){if(X.length!==$[1])throw new R(`Expecting byte array of length ${$[1]}, but got ${X.length} bytes`);for(let h=0;h<$[1];h++)F(G,null,X[h],$[0],x)}else x.writeArray(X,h=>{F(G,Y,h,$[0],x)});else if($.kind!==void 0)switch($.kind){case"option":{X==null?x.writeU8(0):(x.writeU8(1),F(G,Y,X,$.type,x));break}case"map":{x.writeU32(X.size),X.forEach((h,w)=>{F(G,Y,w,$.key,x),F(G,Y,h,$.value,x)});break}default:throw new R(`FieldType ${$} unrecognized`)}else V(G,X,x)}catch(h){throw h instanceof R&&h.addToFieldPath(Y),h}}function V(G,Y,X){if(typeof Y.borshSerialize=="function"){Y.borshSerialize(X);return}const $=G.get(Y.constructor);if(!$)throw new R(`Class ${Y.constructor.name} is missing in schema`);if($.kind==="struct")$.fields.map(([x,h])=>{F(G,x,Y[x],h,X)});else if($.kind==="enum"){const x=Y[$.field];for(let h=0;h<$.values.length;++h){const[w,S]=$.values[h];if(w===x){X.writeU8(h),F(G,w,Y[w],S,X);break}}}else throw new R(`Unexpected schema kind: ${$.kind} for ${Y.constructor.name}`)}function W(G,Y,X=M){const $=new X;return V(G,Y,$),$.toArray()}Rt.serialize=W;function re(G,Y,X,$){try{if(typeof X=="string")return $[`read${j(X)}`]();if(X instanceof Array){if(typeof X[0]=="number")return $.readFixedArray(X[0]);if(typeof X[1]=="number"){const x=[];for(let h=0;h<X[1];h++)x.push(re(G,null,X[0],$));return x}else return $.readArray(()=>re(G,Y,X[0],$))}if(X.kind==="option")return $.readU8()?re(G,Y,X.type,$):void 0;if(X.kind==="map"){let x=new Map;const h=$.readU32();for(let w=0;w<h;w++){const S=re(G,Y,X.key,$),N=re(G,Y,X.value,$);x.set(S,N)}return x}return oe(G,X,$)}catch(x){throw x instanceof R&&x.addToFieldPath(Y),x}}function oe(G,Y,X){if(typeof Y.borshDeserialize=="function")return Y.borshDeserialize(X);const $=G.get(Y);if(!$)throw new R(`Class ${Y.name} is missing in schema`);if($.kind==="struct"){const x={};for(const[h,w]of G.get(Y).fields)x[h]=re(G,h,w,X);return new Y(x)}if($.kind==="enum"){const x=X.readU8();if(x>=$.values.length)throw new R(`Enum index: ${x} is out of range`);const[h,w]=$.values[x],S=re(G,h,w,X);return new Y({[h]:S})}throw new R(`Unexpected schema kind: ${$.kind} for ${Y.constructor.name}`)}function ie(G,Y,X,$=D){const x=new $(X),h=oe(G,Y,x);if(x.offset<X.length)throw new R(`Unexpected ${X.length-x.offset} bytes after deserialized data`);return h}Rt.deserialize=ie;function le(G,Y,X,$=D){const x=new $(X);return oe(G,Y,x)}return Rt.deserializeUnchecked=le,Rt}var zh=D2(),ye={},Yg;function L2(){if(Yg)return ye;Yg=1,Object.defineProperty(ye,"__esModule",{value:!0}),ye.s16=ye.s8=ye.nu64be=ye.u48be=ye.u40be=ye.u32be=ye.u24be=ye.u16be=ye.nu64=ye.u48=ye.u40=ye.u32=ye.u24=ye.u16=ye.u8=ye.offset=ye.greedy=ye.Constant=ye.UTF8=ye.CString=ye.Blob=ye.Boolean=ye.BitField=ye.BitStructure=ye.VariantLayout=ye.Union=ye.UnionLayoutDiscriminator=ye.UnionDiscriminator=ye.Structure=ye.Sequence=ye.DoubleBE=ye.Double=ye.FloatBE=ye.Float=ye.NearInt64BE=ye.NearInt64=ye.NearUInt64BE=ye.NearUInt64=ye.IntBE=ye.Int=ye.UIntBE=ye.UInt=ye.OffsetLayout=ye.GreedyCount=ye.ExternalLayout=ye.bindConstructorLayout=ye.nameWithProperty=ye.Layout=ye.uint8ArrayToBuffer=ye.checkUint8Array=void 0,ye.constant=ye.utf8=ye.cstr=ye.blob=ye.unionLayoutDiscriminator=ye.union=ye.seq=ye.bits=ye.struct=ye.f64be=ye.f64=ye.f32be=ye.f32=ye.ns64be=ye.s48be=ye.s40be=ye.s32be=ye.s24be=ye.s16be=ye.ns64=ye.s48=ye.s40=ye.s32=ye.s24=void 0;const s=j0();function t(f){if(!(f instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}ye.checkUint8Array=t;function n(f){return t(f),s.Buffer.from(f.buffer,f.byteOffset,f.length)}ye.uint8ArrayToBuffer=n;class i{constructor(b,O){if(!Number.isInteger(b))throw new TypeError("span must be an integer");this.span=b,this.property=O}makeDestinationObject(){return{}}getSpan(b,O){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(b){const O=Object.create(this.constructor.prototype);return Object.assign(O,this),O.property=b,O}fromArray(b){}}ye.Layout=i;function c(f,b){return b.property?f+"["+b.property+"]":f}ye.nameWithProperty=c;function o(f,b){if(typeof f!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(f,"layout_"))throw new Error("Class is already bound to a layout");if(!(b&&b instanceof i))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(b,"boundConstructor_"))throw new Error("layout is already bound to a constructor");f.layout_=b,b.boundConstructor_=f,b.makeDestinationObject=(()=>new f),Object.defineProperty(f.prototype,"encode",{value(O,z){return b.encode(this,O,z)},writable:!0}),Object.defineProperty(f,"decode",{value(O,z){return b.decode(O,z)},writable:!0})}ye.bindConstructorLayout=o;class l extends i{isCount(){throw new Error("ExternalLayout is abstract")}}ye.ExternalLayout=l;class d extends l{constructor(b=1,O){if(!Number.isInteger(b)||0>=b)throw new TypeError("elementSpan must be a (positive) integer");super(-1,O),this.elementSpan=b}isCount(){return!0}decode(b,O=0){t(b);const z=b.length-O;return Math.floor(z/this.elementSpan)}encode(b,O,z){return 0}}ye.GreedyCount=d;class y extends l{constructor(b,O=0,z){if(!(b instanceof i))throw new TypeError("layout must be a Layout");if(!Number.isInteger(O))throw new TypeError("offset must be integer or undefined");super(b.span,z||b.property),this.layout=b,this.offset=O}isCount(){return this.layout instanceof _||this.layout instanceof E}decode(b,O=0){return this.layout.decode(b,O+this.offset)}encode(b,O,z=0){return this.layout.encode(b,O,z+this.offset)}}ye.OffsetLayout=y;class _ extends i{constructor(b,O){if(super(b,O),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(b,O=0){return n(b).readUIntLE(O,this.span)}encode(b,O,z=0){return n(O).writeUIntLE(b,z,this.span),this.span}}ye.UInt=_;class E extends i{constructor(b,O){if(super(b,O),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(b,O=0){return n(b).readUIntBE(O,this.span)}encode(b,O,z=0){return n(O).writeUIntBE(b,z,this.span),this.span}}ye.UIntBE=E;class C extends i{constructor(b,O){if(super(b,O),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(b,O=0){return n(b).readIntLE(O,this.span)}encode(b,O,z=0){return n(O).writeIntLE(b,z,this.span),this.span}}ye.Int=C;class I extends i{constructor(b,O){if(super(b,O),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(b,O=0){return n(b).readIntBE(O,this.span)}encode(b,O,z=0){return n(O).writeIntBE(b,z,this.span),this.span}}ye.IntBE=I;const R=Math.pow(2,32);function M(f){const b=Math.floor(f/R),O=f-b*R;return{hi32:b,lo32:O}}function U(f,b){return f*R+b}class D extends i{constructor(b){super(8,b)}decode(b,O=0){const z=n(b),Z=z.readUInt32LE(O),ne=z.readUInt32LE(O+4);return U(ne,Z)}encode(b,O,z=0){const Z=M(b),ne=n(O);return ne.writeUInt32LE(Z.lo32,z),ne.writeUInt32LE(Z.hi32,z+4),8}}ye.NearUInt64=D;class j extends i{constructor(b){super(8,b)}decode(b,O=0){const z=n(b),Z=z.readUInt32BE(O),ne=z.readUInt32BE(O+4);return U(Z,ne)}encode(b,O,z=0){const Z=M(b),ne=n(O);return ne.writeUInt32BE(Z.hi32,z),ne.writeUInt32BE(Z.lo32,z+4),8}}ye.NearUInt64BE=j;class F extends i{constructor(b){super(8,b)}decode(b,O=0){const z=n(b),Z=z.readUInt32LE(O),ne=z.readInt32LE(O+4);return U(ne,Z)}encode(b,O,z=0){const Z=M(b),ne=n(O);return ne.writeUInt32LE(Z.lo32,z),ne.writeInt32LE(Z.hi32,z+4),8}}ye.NearInt64=F;class V extends i{constructor(b){super(8,b)}decode(b,O=0){const z=n(b),Z=z.readInt32BE(O),ne=z.readUInt32BE(O+4);return U(Z,ne)}encode(b,O,z=0){const Z=M(b),ne=n(O);return ne.writeInt32BE(Z.hi32,z),ne.writeUInt32BE(Z.lo32,z+4),8}}ye.NearInt64BE=V;class W extends i{constructor(b){super(4,b)}decode(b,O=0){return n(b).readFloatLE(O)}encode(b,O,z=0){return n(O).writeFloatLE(b,z),4}}ye.Float=W;class re extends i{constructor(b){super(4,b)}decode(b,O=0){return n(b).readFloatBE(O)}encode(b,O,z=0){return n(O).writeFloatBE(b,z),4}}ye.FloatBE=re;class oe extends i{constructor(b){super(8,b)}decode(b,O=0){return n(b).readDoubleLE(O)}encode(b,O,z=0){return n(O).writeDoubleLE(b,z),8}}ye.Double=oe;class ie extends i{constructor(b){super(8,b)}decode(b,O=0){return n(b).readDoubleBE(O)}encode(b,O,z=0){return n(O).writeDoubleBE(b,z),8}}ye.DoubleBE=ie;class le extends i{constructor(b,O,z){if(!(b instanceof i))throw new TypeError("elementLayout must be a Layout");if(!(O instanceof l&&O.isCount()||Number.isInteger(O)&&0<=O))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let Z=-1;!(O instanceof l)&&0<b.span&&(Z=O*b.span),super(Z,z),this.elementLayout=b,this.count=O}getSpan(b,O=0){if(0<=this.span)return this.span;let z=0,Z=this.count;if(Z instanceof l&&(Z=Z.decode(b,O)),0<this.elementLayout.span)z=Z*this.elementLayout.span;else{let ne=0;for(;ne<Z;)z+=this.elementLayout.getSpan(b,O+z),++ne}return z}decode(b,O=0){const z=[];let Z=0,ne=this.count;for(ne instanceof l&&(ne=ne.decode(b,O));Z<ne;)z.push(this.elementLayout.decode(b,O)),O+=this.elementLayout.getSpan(b,O),Z+=1;return z}encode(b,O,z=0){const Z=this.elementLayout,ne=b.reduce((se,pe)=>se+Z.encode(pe,O,z+se),0);return this.count instanceof l&&this.count.encode(b.length,O,z),ne}}ye.Sequence=le;class G extends i{constructor(b,O,z){if(!(Array.isArray(b)&&b.reduce((ne,se)=>ne&&se instanceof i,!0)))throw new TypeError("fields must be array of Layout instances");typeof O=="boolean"&&z===void 0&&(z=O,O=void 0);for(const ne of b)if(0>ne.span&&ne.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let Z=-1;try{Z=b.reduce((ne,se)=>ne+se.getSpan(),0)}catch{}super(Z,O),this.fields=b,this.decodePrefixes=!!z}getSpan(b,O=0){if(0<=this.span)return this.span;let z=0;try{z=this.fields.reduce((Z,ne)=>{const se=ne.getSpan(b,O);return O+=se,Z+se},0)}catch{throw new RangeError("indeterminate span")}return z}decode(b,O=0){t(b);const z=this.makeDestinationObject();for(const Z of this.fields)if(Z.property!==void 0&&(z[Z.property]=Z.decode(b,O)),O+=Z.getSpan(b,O),this.decodePrefixes&&b.length===O)break;return z}encode(b,O,z=0){const Z=z;let ne=0,se=0;for(const pe of this.fields){let Re=pe.span;if(se=0<Re?Re:0,pe.property!==void 0){const Oe=b[pe.property];Oe!==void 0&&(se=pe.encode(Oe,O,z),0>Re&&(Re=pe.getSpan(O,z)))}ne=z,z+=Re}return ne+se-Z}fromArray(b){const O=this.makeDestinationObject();for(const z of this.fields)z.property!==void 0&&0<b.length&&(O[z.property]=b.shift());return O}layoutFor(b){if(typeof b!="string")throw new TypeError("property must be string");for(const O of this.fields)if(O.property===b)return O}offsetOf(b){if(typeof b!="string")throw new TypeError("property must be string");let O=0;for(const z of this.fields){if(z.property===b)return O;0>z.span?O=-1:0<=O&&(O+=z.span)}}}ye.Structure=G;class Y{constructor(b){this.property=b}decode(b,O){throw new Error("UnionDiscriminator is abstract")}encode(b,O,z){throw new Error("UnionDiscriminator is abstract")}}ye.UnionDiscriminator=Y;class X extends Y{constructor(b,O){if(!(b instanceof l&&b.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(O||b.property||"variant"),this.layout=b}decode(b,O){return this.layout.decode(b,O)}encode(b,O,z){return this.layout.encode(b,O,z)}}ye.UnionLayoutDiscriminator=X;class $ extends i{constructor(b,O,z){let Z;if(b instanceof _||b instanceof E)Z=new X(new y(b));else if(b instanceof l&&b.isCount())Z=new X(b);else if(b instanceof Y)Z=b;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(O===void 0&&(O=null),!(O===null||O instanceof i))throw new TypeError("defaultLayout must be null or a Layout");if(O!==null){if(0>O.span)throw new Error("defaultLayout must have constant span");O.property===void 0&&(O=O.replicate("content"))}let ne=-1;O&&(ne=O.span,0<=ne&&(b instanceof _||b instanceof E)&&(ne+=Z.layout.span)),super(ne,z),this.discriminator=Z,this.usesPrefixDiscriminator=b instanceof _||b instanceof E,this.defaultLayout=O,this.registry={};let se=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(pe){return se(pe)},this.configGetSourceVariant=function(pe){se=pe.bind(this)}}getSpan(b,O=0){if(0<=this.span)return this.span;const z=this.getVariant(b,O);if(!z)throw new Error("unable to determine span for unrecognized variant");return z.getSpan(b,O)}defaultGetSourceVariant(b){if(Object.prototype.hasOwnProperty.call(b,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(b,this.defaultLayout.property))return;const O=this.registry[b[this.discriminator.property]];if(O&&(!O.layout||O.property&&Object.prototype.hasOwnProperty.call(b,O.property)))return O}else for(const O in this.registry){const z=this.registry[O];if(z.property&&Object.prototype.hasOwnProperty.call(b,z.property))return z}throw new Error("unable to infer src variant")}decode(b,O=0){let z;const Z=this.discriminator,ne=Z.decode(b,O),se=this.registry[ne];if(se===void 0){const pe=this.defaultLayout;let Re=0;this.usesPrefixDiscriminator&&(Re=Z.layout.span),z=this.makeDestinationObject(),z[Z.property]=ne,z[pe.property]=pe.decode(b,O+Re)}else z=se.decode(b,O);return z}encode(b,O,z=0){const Z=this.getSourceVariant(b);if(Z===void 0){const ne=this.discriminator,se=this.defaultLayout;let pe=0;return this.usesPrefixDiscriminator&&(pe=ne.layout.span),ne.encode(b[ne.property],O,z),pe+se.encode(b[se.property],O,z+pe)}return Z.encode(b,O,z)}addVariant(b,O,z){const Z=new x(this,b,O,z);return this.registry[b]=Z,Z}getVariant(b,O=0){let z;return b instanceof Uint8Array?z=this.discriminator.decode(b,O):z=b,this.registry[z]}}ye.Union=$;class x extends i{constructor(b,O,z,Z){if(!(b instanceof $))throw new TypeError("union must be a Union");if(!Number.isInteger(O)||0>O)throw new TypeError("variant must be a (non-negative) integer");if(typeof z=="string"&&Z===void 0&&(Z=z,z=null),z){if(!(z instanceof i))throw new TypeError("layout must be a Layout");if(b.defaultLayout!==null&&0<=z.span&&z.span>b.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof Z!="string")throw new TypeError("variant must have a String property")}let ne=b.span;0>b.span&&(ne=z?z.span:0,0<=ne&&b.usesPrefixDiscriminator&&(ne+=b.discriminator.layout.span)),super(ne,Z),this.union=b,this.variant=O,this.layout=z||null}getSpan(b,O=0){if(0<=this.span)return this.span;let z=0;this.union.usesPrefixDiscriminator&&(z=this.union.discriminator.layout.span);let Z=0;return this.layout&&(Z=this.layout.getSpan(b,O+z)),z+Z}decode(b,O=0){const z=this.makeDestinationObject();if(this!==this.union.getVariant(b,O))throw new Error("variant mismatch");let Z=0;return this.union.usesPrefixDiscriminator&&(Z=this.union.discriminator.layout.span),this.layout?z[this.property]=this.layout.decode(b,O+Z):this.property?z[this.property]=!0:this.union.usesPrefixDiscriminator&&(z[this.union.discriminator.property]=this.variant),z}encode(b,O,z=0){let Z=0;if(this.union.usesPrefixDiscriminator&&(Z=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(b,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,O,z);let ne=Z;if(this.layout&&(this.layout.encode(b[this.property],O,z+Z),ne+=this.layout.getSpan(O,z+Z),0<=this.union.span&&ne>this.union.span))throw new Error("encoded variant overruns containing union");return ne}fromArray(b){if(this.layout)return this.layout.fromArray(b)}}ye.VariantLayout=x;function h(f){return 0>f&&(f+=4294967296),f}class w extends i{constructor(b,O,z){if(!(b instanceof _||b instanceof E))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof O=="string"&&z===void 0&&(z=O,O=!1),4<b.span)throw new RangeError("word cannot exceed 32 bits");super(b.span,z),this.word=b,this.msb=!!O,this.fields=[];let Z=0;this._packedSetValue=function(ne){return Z=h(ne),this},this._packedGetValue=function(){return Z}}decode(b,O=0){const z=this.makeDestinationObject(),Z=this.word.decode(b,O);this._packedSetValue(Z);for(const ne of this.fields)ne.property!==void 0&&(z[ne.property]=ne.decode(b));return z}encode(b,O,z=0){const Z=this.word.decode(O,z);this._packedSetValue(Z);for(const ne of this.fields)if(ne.property!==void 0){const se=b[ne.property];se!==void 0&&ne.encode(se)}return this.word.encode(this._packedGetValue(),O,z)}addField(b,O){const z=new S(this,b,O);return this.fields.push(z),z}addBoolean(b){const O=new N(this,b);return this.fields.push(O),O}fieldFor(b){if(typeof b!="string")throw new TypeError("property must be string");for(const O of this.fields)if(O.property===b)return O}}ye.BitStructure=w;class S{constructor(b,O,z){if(!(b instanceof w))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(O)||0>=O)throw new TypeError("bits must be positive integer");const Z=8*b.span,ne=b.fields.reduce((se,pe)=>se+pe.bits,0);if(O+ne>Z)throw new Error("bits too long for span remainder ("+(Z-ne)+" of "+Z+" remain)");this.container=b,this.bits=O,this.valueMask=(1<<O)-1,O===32&&(this.valueMask=4294967295),this.start=ne,this.container.msb&&(this.start=Z-ne-O),this.wordMask=h(this.valueMask<<this.start),this.property=z}decode(b,O){const z=this.container._packedGetValue();return h(z&this.wordMask)>>>this.start}encode(b){if(typeof b!="number"||!Number.isInteger(b)||b!==h(b&this.valueMask))throw new TypeError(c("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const O=this.container._packedGetValue(),z=h(b<<this.start);this.container._packedSetValue(h(O&~this.wordMask)|z)}}ye.BitField=S;class N extends S{constructor(b,O){super(b,1,O)}decode(b,O){return!!super.decode(b,O)}encode(b){typeof b=="boolean"&&(b=+b),super.encode(b)}}ye.Boolean=N;class L extends i{constructor(b,O){if(!(b instanceof l&&b.isCount()||Number.isInteger(b)&&0<=b))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let z=-1;b instanceof l||(z=b),super(z,O),this.length=b}getSpan(b,O){let z=this.span;return 0>z&&(z=this.length.decode(b,O)),z}decode(b,O=0){let z=this.span;return 0>z&&(z=this.length.decode(b,O)),n(b).slice(O,O+z)}encode(b,O,z){let Z=this.length;if(this.length instanceof l&&(Z=b.length),!(b instanceof Uint8Array&&Z===b.length))throw new TypeError(c("Blob.encode",this)+" requires (length "+Z+") Uint8Array as src");if(z+Z>O.length)throw new RangeError("encoding overruns Uint8Array");const ne=n(b);return n(O).write(ne.toString("hex"),z,Z,"hex"),this.length instanceof l&&this.length.encode(Z,O,z),Z}}ye.Blob=L;class B extends i{constructor(b){super(-1,b)}getSpan(b,O=0){t(b);let z=O;for(;z<b.length&&b[z]!==0;)z+=1;return 1+z-O}decode(b,O=0){const z=this.getSpan(b,O);return n(b).slice(O,O+z-1).toString("utf-8")}encode(b,O,z=0){typeof b!="string"&&(b=String(b));const Z=s.Buffer.from(b,"utf8"),ne=Z.length;if(z+ne>O.length)throw new RangeError("encoding overruns Buffer");const se=n(O);return Z.copy(se,z),se[z+ne]=0,ne+1}}ye.CString=B;class v extends i{constructor(b,O){if(typeof b=="string"&&O===void 0&&(O=b,b=void 0),b===void 0)b=-1;else if(!Number.isInteger(b))throw new TypeError("maxSpan must be an integer");super(-1,O),this.maxSpan=b}getSpan(b,O=0){return t(b),b.length-O}decode(b,O=0){const z=this.getSpan(b,O);if(0<=this.maxSpan&&this.maxSpan<z)throw new RangeError("text length exceeds maxSpan");return n(b).slice(O,O+z).toString("utf-8")}encode(b,O,z=0){typeof b!="string"&&(b=String(b));const Z=s.Buffer.from(b,"utf8"),ne=Z.length;if(0<=this.maxSpan&&this.maxSpan<ne)throw new RangeError("text length exceeds maxSpan");if(z+ne>O.length)throw new RangeError("encoding overruns Buffer");return Z.copy(n(O),z),ne}}ye.UTF8=v;class m extends i{constructor(b,O){super(0,O),this.value=b}decode(b,O){return this.value}encode(b,O,z){return 0}}return ye.Constant=m,ye.greedy=((f,b)=>new d(f,b)),ye.offset=((f,b,O)=>new y(f,b,O)),ye.u8=(f=>new _(1,f)),ye.u16=(f=>new _(2,f)),ye.u24=(f=>new _(3,f)),ye.u32=(f=>new _(4,f)),ye.u40=(f=>new _(5,f)),ye.u48=(f=>new _(6,f)),ye.nu64=(f=>new D(f)),ye.u16be=(f=>new E(2,f)),ye.u24be=(f=>new E(3,f)),ye.u32be=(f=>new E(4,f)),ye.u40be=(f=>new E(5,f)),ye.u48be=(f=>new E(6,f)),ye.nu64be=(f=>new j(f)),ye.s8=(f=>new C(1,f)),ye.s16=(f=>new C(2,f)),ye.s24=(f=>new C(3,f)),ye.s32=(f=>new C(4,f)),ye.s40=(f=>new C(5,f)),ye.s48=(f=>new C(6,f)),ye.ns64=(f=>new F(f)),ye.s16be=(f=>new I(2,f)),ye.s24be=(f=>new I(3,f)),ye.s32be=(f=>new I(4,f)),ye.s40be=(f=>new I(5,f)),ye.s48be=(f=>new I(6,f)),ye.ns64be=(f=>new V(f)),ye.f32=(f=>new W(f)),ye.f32be=(f=>new re(f)),ye.f64=(f=>new oe(f)),ye.f64be=(f=>new ie(f)),ye.struct=((f,b,O)=>new G(f,b,O)),ye.bits=((f,b,O)=>new w(f,b,O)),ye.seq=((f,b,O)=>new le(f,b,O)),ye.union=((f,b,O)=>new $(f,b,O)),ye.unionLayoutDiscriminator=((f,b)=>new X(f,b)),ye.blob=((f,b)=>new L(f,b)),ye.cstr=(f=>new B(f)),ye.utf8=((f,b)=>new v(f,b)),ye.constant=((f,b)=>new m(f,b)),ye}var Q=L2(),z2=8078e3,H2=8078001,j2=8078004,P2=8078005,q2=8078006,K2=8078011;function V_(s){return Array.isArray(s)?"%5B"+s.map(V_).join("%2C%20")+"%5D":typeof s=="bigint"?`${s}n`:encodeURIComponent(String(s!=null&&Object.getPrototypeOf(s)===null?{...s}:s))}function V2([s,t]){return`${s}=${V_(t)}`}function G2(s){const t=Object.entries(s).map(V2).join("&");return btoa(t)}function F2(s,t={}){{let n=`Solana error #${s}; Decode this error by running \`npx @solana/errors decode -- ${s}`;return Object.keys(t).length&&(n+=` '${G2(t)}'`),`${n}\``}}var ro=class extends Error{cause=this.cause;context;constructor(...[s,t]){let n,i;if(t){const{cause:o,...l}=t;o&&(i={cause:o}),Object.keys(l).length>0&&(n=l)}const c=F2(s,n);super(c,i),this.context={__code:s,...n},this.name="SolanaError"}};function Y2(s,t){return"fixedSize"in t?t.fixedSize:t.getSizeFromValue(s)}function Z2(s){return Object.freeze({...s,encode:t=>{const n=new Uint8Array(Y2(t,s));return s.write(t,n,0),n}})}function X2(s){return Object.freeze({...s,decode:(t,n=0)=>s.read(t,n)[0]})}function Xa(s){return"fixedSize"in s&&typeof s.fixedSize=="number"}function $2(s,t){if(Xa(s)!==Xa(t))throw new ro(j2);if(Xa(s)&&Xa(t)&&s.fixedSize!==t.fixedSize)throw new ro(P2,{decoderFixedSize:t.fixedSize,encoderFixedSize:s.fixedSize});if(!Xa(s)&&!Xa(t)&&s.maxSize!==t.maxSize)throw new ro(q2,{decoderMaxSize:t.maxSize,encoderMaxSize:s.maxSize});return{...t,...s,decode:t.decode,encode:s.encode,read:t.read,write:s.write}}function W2(s,t,n=0){if(t.length-n<=0)throw new ro(z2,{codecDescription:s})}function Q2(s,t,n,i=0){const c=n.length-i;if(c<t)throw new ro(H2,{bytesLength:c,codecDescription:s,expected:t})}function J2(s,t,n,i){if(i<t||i>n)throw new ro(K2,{codecDescription:s,max:n,min:t,value:i})}function G_(s){return s?.endian!==1}function ex(s){return Z2({fixedSize:s.size,write(t,n,i){s.range&&J2(s.name,s.range[0],s.range[1],t);const c=new ArrayBuffer(s.size);return s.set(new DataView(c),t,G_(s.config)),n.set(new Uint8Array(c),i),i+s.size}})}function tx(s){return X2({fixedSize:s.size,read(t,n=0){W2(s.name,t,n),Q2(s.name,s.size,t,n);const i=new DataView(nx(t,n,s.size));return[s.get(i,G_(s.config)),n+s.size]}})}function nx(s,t,n){const i=s.byteOffset+(t??0),c=n??s.byteLength;return s.buffer.slice(i,i+c)}var F_=(s={})=>ex({config:s,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(t,n,i)=>t.setBigUint64(0,BigInt(n),i),size:8}),rx=(s={})=>tx({config:s,get:(t,n)=>t.getBigUint64(0,n),name:"u64",size:8}),ix=(s={})=>$2(F_(s),rx(s));let sx=class extends TypeError{constructor(t,n){let i;const{message:c,explanation:o,...l}=t,{path:d}=t,y=d.length===0?c:`At path: ${d.join(".")} -- ${c}`;super(o??y),o!=null&&(this.cause=y),Object.assign(this,l),this.name=this.constructor.name,this.failures=()=>i??(i=[t,...n()])}};function ax(s){return Dc(s)&&typeof s[Symbol.iterator]=="function"}function Dc(s){return typeof s=="object"&&s!=null}function Dl(s){return Dc(s)&&!Array.isArray(s)}function Or(s){return typeof s=="symbol"?s.toString():typeof s=="string"?JSON.stringify(s):`${s}`}function ox(s){const{done:t,value:n}=s.next();return t?void 0:n}function cx(s,t,n,i){if(s===!0)return;s===!1?s={}:typeof s=="string"&&(s={message:s});const{path:c,branch:o}=t,{type:l}=n,{refinement:d,message:y=`Expected a value of type \`${l}\`${d?` with refinement \`${d}\``:""}, but received: \`${Or(i)}\``}=s;return{value:i,type:l,refinement:d,key:c[c.length-1],path:c,branch:o,...s,message:y}}function*Zg(s,t,n,i){ax(s)||(s=[s]);for(const c of s){const o=cx(c,t,n,i);o&&(yield o)}}function*Q0(s,t,n={}){const{path:i=[],branch:c=[s],coerce:o=!1,mask:l=!1}=n,d={path:i,branch:c,mask:l};o&&(s=t.coercer(s,d));let y="valid";for(const _ of t.validator(s,d))_.explanation=n.message,y="not_valid",yield[_,void 0];for(let[_,E,C]of t.entries(s,d)){const I=Q0(E,C,{path:_===void 0?i:[...i,_],branch:_===void 0?c:[...c,E],coerce:o,mask:l,message:n.message});for(const R of I)R[0]?(y=R[0].refinement!=null?"not_refined":"not_valid",yield[R[0],void 0]):o&&(E=R[1],_===void 0?s=E:s instanceof Map?s.set(_,E):s instanceof Set?s.add(E):Dc(s)&&(E!==void 0||_ in s)&&(s[_]=E))}if(y!=="not_valid")for(const _ of t.refiner(s,d))_.explanation=n.message,y="not_refined",yield[_,void 0];y==="valid"&&(yield[void 0,s])}let Xr=class{constructor(t){const{type:n,schema:i,validator:c,refiner:o,coercer:l=y=>y,entries:d=function*(){}}=t;this.type=n,this.schema=i,this.entries=d,this.coercer=l,c?this.validator=(y,_)=>{const E=c(y,_);return Zg(E,_,this,y)}:this.validator=()=>[],o?this.refiner=(y,_)=>{const E=o(y,_);return Zg(E,_,this,y)}:this.refiner=()=>[]}assert(t,n){return Y_(t,this,n)}create(t,n){return Te(t,this,n)}is(t){return Z_(t,this)}mask(t,n){return ux(t,this,n)}validate(t,n={}){return Lc(t,this,n)}};function Y_(s,t,n){const i=Lc(s,t,{message:n});if(i[0])throw i[0]}function Te(s,t,n){const i=Lc(s,t,{coerce:!0,message:n});if(i[0])throw i[0];return i[1]}function ux(s,t,n){const i=Lc(s,t,{coerce:!0,mask:!0,message:n});if(i[0])throw i[0];return i[1]}function Z_(s,t){return!Lc(s,t)[0]}function Lc(s,t,n={}){const i=Q0(s,t,n),c=ox(i);return c[0]?[new sx(c[0],function*(){for(const l of i)l[0]&&(yield l[0])}),void 0]:[void 0,c[1]]}function ra(s,t){return new Xr({type:s,schema:null,validator:t})}function lx(){return ra("any",()=>!0)}function ke(s){return new Xr({type:"array",schema:s,*entries(t){if(s&&Array.isArray(t))for(const[n,i]of t.entries())yield[n,i,s]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${Or(t)}`}})}function Zr(){return ra("boolean",s=>typeof s=="boolean")}function J0(s){return ra("instance",t=>t instanceof s||`Expected a \`${s.name}\` instance, but received: ${Or(t)}`)}function Qt(s){const t=Or(s),n=typeof s;return new Xr({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?s:null,validator(i){return i===s||`Expected the literal \`${t}\`, but received: ${Or(i)}`}})}function fx(){return ra("never",()=>!1)}function Ie(s){return new Xr({...s,validator:(t,n)=>t===null||s.validator(t,n),refiner:(t,n)=>t===null||s.refiner(t,n)})}function ue(){return ra("number",s=>typeof s=="number"&&!isNaN(s)||`Expected a number, but received: ${Or(s)}`)}function Pe(s){return new Xr({...s,validator:(t,n)=>t===void 0||s.validator(t,n),refiner:(t,n)=>t===void 0||s.refiner(t,n)})}function X_(s,t){return new Xr({type:"record",schema:null,*entries(n){if(Dc(n))for(const i in n){const c=n[i];yield[i,i,s],yield[i,c,t]}},validator(n){return Dl(n)||`Expected an object, but received: ${Or(n)}`},coercer(n){return Dl(n)?{...n}:n}})}function Ae(){return ra("string",s=>typeof s=="string"||`Expected a string, but received: ${Or(s)}`)}function ep(s){const t=fx();return new Xr({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const i=Math.max(s.length,n.length);for(let c=0;c<i;c++)yield[c,n[c],s[c]||t]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${Or(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function Se(s){const t=Object.keys(s);return new Xr({type:"type",schema:s,*entries(n){if(Dc(n))for(const i of t)yield[i,n[i],s[i]]},validator(n){return Dl(n)||`Expected an object, but received: ${Or(n)}`},coercer(n){return Dl(n)?{...n}:n}})}function jn(s){const t=s.map(n=>n.type).join(" | ");return new Xr({type:"union",schema:null,coercer(n,i){for(const c of s){const[o,l]=c.validate(n,{coerce:!0,mask:i.mask});if(!o)return l}return n},validator(n,i){const c=[];for(const o of s){const[...l]=Q0(n,o,i),[d]=l;if(d[0])for(const[y]of l)y&&c.push(y);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${Or(n)}`,...c]}})}function go(){return ra("unknown",()=>!0)}function zc(s,t,n){return new Xr({...s,coercer:(i,c)=>Z_(i,t)?s.coercer(n(i,c),c):s.coercer(i,c)})}var ol,dx=new Uint8Array(16);function $_(){if(!ol&&(ol=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!ol))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ol(dx)}const hx=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Zl(s){return typeof s=="string"&&hx.test(s)}var Nn=[];for(var Hh=0;Hh<256;++Hh)Nn.push((Hh+256).toString(16).substr(1));function Xl(s){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Nn[s[t+0]]+Nn[s[t+1]]+Nn[s[t+2]]+Nn[s[t+3]]+"-"+Nn[s[t+4]]+Nn[s[t+5]]+"-"+Nn[s[t+6]]+Nn[s[t+7]]+"-"+Nn[s[t+8]]+Nn[s[t+9]]+"-"+Nn[s[t+10]]+Nn[s[t+11]]+Nn[s[t+12]]+Nn[s[t+13]]+Nn[s[t+14]]+Nn[s[t+15]]).toLowerCase();if(!Zl(n))throw TypeError("Stringified UUID is invalid");return n}var Xg,jh,Ph=0,qh=0;function px(s,t,n){var i=t&&n||0,c=t||new Array(16);s=s||{};var o=s.node||Xg,l=s.clockseq!==void 0?s.clockseq:jh;if(o==null||l==null){var d=s.random||(s.rng||$_)();o==null&&(o=Xg=[d[0]|1,d[1],d[2],d[3],d[4],d[5]]),l==null&&(l=jh=(d[6]<<8|d[7])&16383)}var y=s.msecs!==void 0?s.msecs:Date.now(),_=s.nsecs!==void 0?s.nsecs:qh+1,E=y-Ph+(_-qh)/1e4;if(E<0&&s.clockseq===void 0&&(l=l+1&16383),(E<0||y>Ph)&&s.nsecs===void 0&&(_=0),_>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Ph=y,qh=_,jh=l,y+=122192928e5;var C=((y&268435455)*1e4+_)%4294967296;c[i++]=C>>>24&255,c[i++]=C>>>16&255,c[i++]=C>>>8&255,c[i++]=C&255;var I=y/4294967296*1e4&268435455;c[i++]=I>>>8&255,c[i++]=I&255,c[i++]=I>>>24&15|16,c[i++]=I>>>16&255,c[i++]=l>>>8|128,c[i++]=l&255;for(var R=0;R<6;++R)c[i+R]=o[R];return t||Xl(c)}function W_(s){if(!Zl(s))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(s.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=t&255,n[4]=(t=parseInt(s.slice(9,13),16))>>>8,n[5]=t&255,n[6]=(t=parseInt(s.slice(14,18),16))>>>8,n[7]=t&255,n[8]=(t=parseInt(s.slice(19,23),16))>>>8,n[9]=t&255,n[10]=(t=parseInt(s.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=t&255,n}function mx(s){s=unescape(encodeURIComponent(s));for(var t=[],n=0;n<s.length;++n)t.push(s.charCodeAt(n));return t}var yx="6ba7b810-9dad-11d1-80b4-00c04fd430c8",gx="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Q_(s,t,n){function i(c,o,l,d){if(typeof c=="string"&&(c=mx(c)),typeof o=="string"&&(o=W_(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var y=new Uint8Array(16+c.length);if(y.set(o),y.set(c,o.length),y=n(y),y[6]=y[6]&15|t,y[8]=y[8]&63|128,l){d=d||0;for(var _=0;_<16;++_)l[d+_]=y[_];return l}return Xl(y)}try{i.name=s}catch{}return i.DNS=yx,i.URL=gx,i}function bx(s){if(typeof s=="string"){var t=unescape(encodeURIComponent(s));s=new Uint8Array(t.length);for(var n=0;n<t.length;++n)s[n]=t.charCodeAt(n)}return _x(wx(vx(s),s.length*8))}function _x(s){for(var t=[],n=s.length*32,i="0123456789abcdef",c=0;c<n;c+=8){var o=s[c>>5]>>>c%32&255,l=parseInt(i.charAt(o>>>4&15)+i.charAt(o&15),16);t.push(l)}return t}function J_(s){return(s+64>>>9<<4)+14+1}function wx(s,t){s[t>>5]|=128<<t%32,s[J_(t)-1]=t;for(var n=1732584193,i=-271733879,c=-1732584194,o=271733878,l=0;l<s.length;l+=16){var d=n,y=i,_=c,E=o;n=Un(n,i,c,o,s[l],7,-680876936),o=Un(o,n,i,c,s[l+1],12,-389564586),c=Un(c,o,n,i,s[l+2],17,606105819),i=Un(i,c,o,n,s[l+3],22,-1044525330),n=Un(n,i,c,o,s[l+4],7,-176418897),o=Un(o,n,i,c,s[l+5],12,1200080426),c=Un(c,o,n,i,s[l+6],17,-1473231341),i=Un(i,c,o,n,s[l+7],22,-45705983),n=Un(n,i,c,o,s[l+8],7,1770035416),o=Un(o,n,i,c,s[l+9],12,-1958414417),c=Un(c,o,n,i,s[l+10],17,-42063),i=Un(i,c,o,n,s[l+11],22,-1990404162),n=Un(n,i,c,o,s[l+12],7,1804603682),o=Un(o,n,i,c,s[l+13],12,-40341101),c=Un(c,o,n,i,s[l+14],17,-1502002290),i=Un(i,c,o,n,s[l+15],22,1236535329),n=Dn(n,i,c,o,s[l+1],5,-165796510),o=Dn(o,n,i,c,s[l+6],9,-1069501632),c=Dn(c,o,n,i,s[l+11],14,643717713),i=Dn(i,c,o,n,s[l],20,-373897302),n=Dn(n,i,c,o,s[l+5],5,-701558691),o=Dn(o,n,i,c,s[l+10],9,38016083),c=Dn(c,o,n,i,s[l+15],14,-660478335),i=Dn(i,c,o,n,s[l+4],20,-405537848),n=Dn(n,i,c,o,s[l+9],5,568446438),o=Dn(o,n,i,c,s[l+14],9,-1019803690),c=Dn(c,o,n,i,s[l+3],14,-187363961),i=Dn(i,c,o,n,s[l+8],20,1163531501),n=Dn(n,i,c,o,s[l+13],5,-1444681467),o=Dn(o,n,i,c,s[l+2],9,-51403784),c=Dn(c,o,n,i,s[l+7],14,1735328473),i=Dn(i,c,o,n,s[l+12],20,-1926607734),n=Ln(n,i,c,o,s[l+5],4,-378558),o=Ln(o,n,i,c,s[l+8],11,-2022574463),c=Ln(c,o,n,i,s[l+11],16,1839030562),i=Ln(i,c,o,n,s[l+14],23,-35309556),n=Ln(n,i,c,o,s[l+1],4,-1530992060),o=Ln(o,n,i,c,s[l+4],11,1272893353),c=Ln(c,o,n,i,s[l+7],16,-155497632),i=Ln(i,c,o,n,s[l+10],23,-1094730640),n=Ln(n,i,c,o,s[l+13],4,681279174),o=Ln(o,n,i,c,s[l],11,-358537222),c=Ln(c,o,n,i,s[l+3],16,-722521979),i=Ln(i,c,o,n,s[l+6],23,76029189),n=Ln(n,i,c,o,s[l+9],4,-640364487),o=Ln(o,n,i,c,s[l+12],11,-421815835),c=Ln(c,o,n,i,s[l+15],16,530742520),i=Ln(i,c,o,n,s[l+2],23,-995338651),n=zn(n,i,c,o,s[l],6,-198630844),o=zn(o,n,i,c,s[l+7],10,1126891415),c=zn(c,o,n,i,s[l+14],15,-1416354905),i=zn(i,c,o,n,s[l+5],21,-57434055),n=zn(n,i,c,o,s[l+12],6,1700485571),o=zn(o,n,i,c,s[l+3],10,-1894986606),c=zn(c,o,n,i,s[l+10],15,-1051523),i=zn(i,c,o,n,s[l+1],21,-2054922799),n=zn(n,i,c,o,s[l+8],6,1873313359),o=zn(o,n,i,c,s[l+15],10,-30611744),c=zn(c,o,n,i,s[l+6],15,-1560198380),i=zn(i,c,o,n,s[l+13],21,1309151649),n=zn(n,i,c,o,s[l+4],6,-145523070),o=zn(o,n,i,c,s[l+11],10,-1120210379),c=zn(c,o,n,i,s[l+2],15,718787259),i=zn(i,c,o,n,s[l+9],21,-343485551),n=hs(n,d),i=hs(i,y),c=hs(c,_),o=hs(o,E)}return[n,i,c,o]}function vx(s){if(s.length===0)return[];for(var t=s.length*8,n=new Uint32Array(J_(t)),i=0;i<t;i+=8)n[i>>5]|=(s[i/8]&255)<<i%32;return n}function hs(s,t){var n=(s&65535)+(t&65535),i=(s>>16)+(t>>16)+(n>>16);return i<<16|n&65535}function Ex(s,t){return s<<t|s>>>32-t}function $l(s,t,n,i,c,o){return hs(Ex(hs(hs(t,s),hs(i,o)),c),n)}function Un(s,t,n,i,c,o,l){return $l(t&n|~t&i,s,t,c,o,l)}function Dn(s,t,n,i,c,o,l){return $l(t&i|n&~i,s,t,c,o,l)}function Ln(s,t,n,i,c,o,l){return $l(t^n^i,s,t,c,o,l)}function zn(s,t,n,i,c,o,l){return $l(n^(t|~i),s,t,c,o,l)}var Sx=Q_("v3",48,bx);function Ax(s,t,n){s=s||{};var i=s.random||(s.rng||$_)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t){n=n||0;for(var c=0;c<16;++c)t[n+c]=i[c];return t}return Xl(i)}function Rx(s,t,n,i){switch(s){case 0:return t&n^~t&i;case 1:return t^n^i;case 2:return t&n^t&i^n&i;case 3:return t^n^i}}function Kh(s,t){return s<<t|s>>>32-t}function xx(s){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof s=="string"){var i=unescape(encodeURIComponent(s));s=[];for(var c=0;c<i.length;++c)s.push(i.charCodeAt(c))}else Array.isArray(s)||(s=Array.prototype.slice.call(s));s.push(128);for(var o=s.length/4+2,l=Math.ceil(o/16),d=new Array(l),y=0;y<l;++y){for(var _=new Uint32Array(16),E=0;E<16;++E)_[E]=s[y*64+E*4]<<24|s[y*64+E*4+1]<<16|s[y*64+E*4+2]<<8|s[y*64+E*4+3];d[y]=_}d[l-1][14]=(s.length-1)*8/Math.pow(2,32),d[l-1][14]=Math.floor(d[l-1][14]),d[l-1][15]=(s.length-1)*8&4294967295;for(var C=0;C<l;++C){for(var I=new Uint32Array(80),R=0;R<16;++R)I[R]=d[C][R];for(var M=16;M<80;++M)I[M]=Kh(I[M-3]^I[M-8]^I[M-14]^I[M-16],1);for(var U=n[0],D=n[1],j=n[2],F=n[3],V=n[4],W=0;W<80;++W){var re=Math.floor(W/20),oe=Kh(U,5)+Rx(re,D,j,F)+V+t[re]+I[W]>>>0;V=F,F=j,j=Kh(D,30)>>>0,D=U,U=oe}n[0]=n[0]+U>>>0,n[1]=n[1]+D>>>0,n[2]=n[2]+j>>>0,n[3]=n[3]+F>>>0,n[4]=n[4]+V>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var Tx=Q_("v5",80,xx);const Ox="00000000-0000-0000-0000-000000000000";function Nx(s){if(!Zl(s))throw TypeError("Invalid UUID");return parseInt(s.substr(14,1),16)}const kx=Object.freeze(Object.defineProperty({__proto__:null,NIL:Ox,parse:W_,stringify:Xl,v1:px,v3:Sx,v4:Ax,v5:Tx,validate:Zl,version:Nx},Symbol.toStringTag,{value:"Module"})),ew=Vl(kx);var Vh,$g;function Ix(){if($g)return Vh;$g=1;const s=ew.v4;return Vh=function(n,i,c,o){if(typeof n!="string")throw new TypeError(n+" must be a string");o=o||{};const l=typeof o.version=="number"?o.version:2;if(l!==1&&l!==2)throw new TypeError(l+" must be 1 or 2");const d={method:n};if(l===2&&(d.jsonrpc="2.0"),i){if(typeof i!="object"&&!Array.isArray(i))throw new TypeError(i+" must be an object, array or omitted");d.params=i}if(typeof c>"u"){const y=typeof o.generator=="function"?o.generator:function(){return s()};d.id=y(d,o)}else l===2&&c===null?o.notificationIdNull&&(d.id=null):d.id=c;return d},Vh}var Gh,Wg;function Cx(){if(Wg)return Gh;Wg=1;const s=ew.v4,t=Ix(),n=function(i,c){if(!(this instanceof n))return new n(i,c);c||(c={}),this.options={reviver:typeof c.reviver<"u"?c.reviver:null,replacer:typeof c.replacer<"u"?c.replacer:null,generator:typeof c.generator<"u"?c.generator:function(){return s()},version:typeof c.version<"u"?c.version:2,notificationIdNull:typeof c.notificationIdNull=="boolean"?c.notificationIdNull:!1},this.callServer=i};return Gh=n,n.prototype.request=function(i,c,o,l){const d=this;let y=null;const _=Array.isArray(i)&&typeof c=="function";if(this.options.version===1&&_)throw new TypeError("JSON-RPC 1.0 does not support batching");if(_||!_&&i&&typeof i=="object"&&typeof c=="function")l=c,y=i;else{typeof o=="function"&&(l=o,o=void 0);const I=typeof l=="function";try{y=t(i,c,o,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(R){if(I){l(R);return}throw R}if(!I)return y}let C;try{C=JSON.stringify(y,this.options.replacer)}catch(I){l(I);return}return this.callServer(C,function(I,R){d._parseResponse(I,R,l)}),y},n.prototype._parseResponse=function(i,c,o){if(i){o(i);return}if(!c){o();return}let l;try{l=JSON.parse(c,this.options.reviver)}catch(d){o(d);return}if(o.length===3)if(Array.isArray(l)){const d=function(_){return typeof _.error<"u"},y=function(_){return!d(_)};o(null,l.filter(d),l.filter(y));return}else{o(null,l.error,l.result);return}o(null,l)},Gh}var Bx=Cx();const Mx=Ni(Bx);var Fh={exports:{}},Qg;function Ux(){return Qg||(Qg=1,(function(s){var t=Object.prototype.hasOwnProperty,n="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1));function c(y,_,E){this.fn=y,this.context=_,this.once=E||!1}function o(y,_,E,C,I){if(typeof E!="function")throw new TypeError("The listener must be a function");var R=new c(E,C||y,I),M=n?n+_:_;return y._events[M]?y._events[M].fn?y._events[M]=[y._events[M],R]:y._events[M].push(R):(y._events[M]=R,y._eventsCount++),y}function l(y,_){--y._eventsCount===0?y._events=new i:delete y._events[_]}function d(){this._events=new i,this._eventsCount=0}d.prototype.eventNames=function(){var _=[],E,C;if(this._eventsCount===0)return _;for(C in E=this._events)t.call(E,C)&&_.push(n?C.slice(1):C);return Object.getOwnPropertySymbols?_.concat(Object.getOwnPropertySymbols(E)):_},d.prototype.listeners=function(_){var E=n?n+_:_,C=this._events[E];if(!C)return[];if(C.fn)return[C.fn];for(var I=0,R=C.length,M=new Array(R);I<R;I++)M[I]=C[I].fn;return M},d.prototype.listenerCount=function(_){var E=n?n+_:_,C=this._events[E];return C?C.fn?1:C.length:0},d.prototype.emit=function(_,E,C,I,R,M){var U=n?n+_:_;if(!this._events[U])return!1;var D=this._events[U],j=arguments.length,F,V;if(D.fn){switch(D.once&&this.removeListener(_,D.fn,void 0,!0),j){case 1:return D.fn.call(D.context),!0;case 2:return D.fn.call(D.context,E),!0;case 3:return D.fn.call(D.context,E,C),!0;case 4:return D.fn.call(D.context,E,C,I),!0;case 5:return D.fn.call(D.context,E,C,I,R),!0;case 6:return D.fn.call(D.context,E,C,I,R,M),!0}for(V=1,F=new Array(j-1);V<j;V++)F[V-1]=arguments[V];D.fn.apply(D.context,F)}else{var W=D.length,re;for(V=0;V<W;V++)switch(D[V].once&&this.removeListener(_,D[V].fn,void 0,!0),j){case 1:D[V].fn.call(D[V].context);break;case 2:D[V].fn.call(D[V].context,E);break;case 3:D[V].fn.call(D[V].context,E,C);break;case 4:D[V].fn.call(D[V].context,E,C,I);break;default:if(!F)for(re=1,F=new Array(j-1);re<j;re++)F[re-1]=arguments[re];D[V].fn.apply(D[V].context,F)}}return!0},d.prototype.on=function(_,E,C){return o(this,_,E,C,!1)},d.prototype.once=function(_,E,C){return o(this,_,E,C,!0)},d.prototype.removeListener=function(_,E,C,I){var R=n?n+_:_;if(!this._events[R])return this;if(!E)return l(this,R),this;var M=this._events[R];if(M.fn)M.fn===E&&(!I||M.once)&&(!C||M.context===C)&&l(this,R);else{for(var U=0,D=[],j=M.length;U<j;U++)(M[U].fn!==E||I&&!M[U].once||C&&M[U].context!==C)&&D.push(M[U]);D.length?this._events[R]=D.length===1?D[0]:D:l(this,R)}return this},d.prototype.removeAllListeners=function(_){var E;return _?(E=n?n+_:_,this._events[E]&&l(this,E)):(this._events=new i,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,s.exports=d})(Fh)),Fh.exports}var Dx=Ux();const tw=Ni(Dx);var Lx=class extends tw{socket;constructor(s,t){super(),this.socket=new window.WebSocket(s,t.protocols),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=n=>this.emit("message",n.data),this.socket.onerror=n=>this.emit("error",n),this.socket.onclose=n=>{this.emit("close",n.code,n.reason)}}send(s,t,n){const i=n||t;try{this.socket.send(s),i()}catch(c){i(c)}}close(s,t){this.socket.close(s,t)}addEventListener(s,t,n){this.socket.addEventListener(s,t,n)}};function zx(s,t){return new Lx(s,t)}var Hx=class{encode(s){return JSON.stringify(s)}decode(s){return JSON.parse(s)}},jx=class extends tw{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(s,t="ws://localhost:8080",{autoconnect:n=!0,reconnect:i=!0,reconnect_interval:c=1e3,max_reconnects:o=5,...l}={},d,y){super(),this.webSocketFactory=s,this.queue={},this.rpc_id=0,this.address=t,this.autoconnect=n,this.ready=!1,this.reconnect=i,this.reconnect_timer_id=void 0,this.reconnect_interval=c,this.max_reconnects=o,this.rest_options=l,this.current_reconnects=0,this.generate_request_id=d||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),y?this.dataPack=y:this.dataPack=new Hx,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(s,t,n,i){return!i&&typeof n=="object"&&(i=n,n=null),new Promise((c,o)=>{if(!this.ready)return o(new Error("socket not ready"));const l=this.generate_request_id(s,t),d={jsonrpc:"2.0",method:s,params:t||void 0,id:l};this.socket.send(this.dataPack.encode(d),i,y=>{if(y)return o(y);this.queue[l]={promise:[c,o]},n&&(this.queue[l].timeout=setTimeout(()=>{delete this.queue[l],o(new Error("reply timeout"))},n))})})}async login(s){const t=await this.call("rpc.login",s);if(!t)throw new Error("authentication failed");return t}async listMethods(){return await this.call("__listMethods")}notify(s,t){return new Promise((n,i)=>{if(!this.ready)return i(new Error("socket not ready"));const c={jsonrpc:"2.0",method:s,params:t};this.socket.send(this.dataPack.encode(c),o=>{if(o)return i(o);n()})})}async subscribe(s){typeof s=="string"&&(s=[s]);const t=await this.call("rpc.on",s);if(typeof s=="string"&&t[s]!=="ok")throw new Error("Failed subscribing to an event '"+s+"' with: "+t[s]);return t}async unsubscribe(s){typeof s=="string"&&(s=[s]);const t=await this.call("rpc.off",s);if(typeof s=="string"&&t[s]!=="ok")throw new Error("Failed unsubscribing from an event with: "+t);return t}close(s,t){this.socket&&this.socket.close(s||1e3,t)}setAutoReconnect(s){this.reconnect=s}setReconnectInterval(s){this.reconnect_interval=s}setMaxReconnects(s){this.max_reconnects=s}getCurrentReconnects(){return this.current_reconnects}getMaxReconnects(){return this.max_reconnects}isReconnecting(){return this.reconnect_timer_id!==void 0}willReconnect(){return this.reconnect&&(this.max_reconnects===0||this.current_reconnects<this.max_reconnects)}_connect(s,t){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(s,t),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:n})=>{n instanceof ArrayBuffer&&(n=Ce.Buffer.from(n).toString());try{n=this.dataPack.decode(n)}catch{return}if(n.notification&&this.listeners(n.notification).length){if(!Object.keys(n.params).length)return this.emit(n.notification);const i=[n.notification];if(n.params.constructor===Object)i.push(n.params);else for(let c=0;c<n.params.length;c++)i.push(n.params[c]);return Promise.resolve().then(()=>{this.emit.apply(this,i)})}if(!this.queue[n.id])return n.method?Promise.resolve().then(()=>{this.emit(n.method,n?.params)}):void 0;"error"in n=="result"in n&&this.queue[n.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[n.id].timeout&&clearTimeout(this.queue[n.id].timeout),n.error?this.queue[n.id].promise[1](n.error):this.queue[n.id].promise[0](n.result),delete this.queue[n.id]}),this.socket.addEventListener("error",n=>this.emit("error",n)),this.socket.addEventListener("close",({code:n,reason:i})=>{this.ready&&setTimeout(()=>this.emit("close",n,i),0),this.ready=!1,this.socket=void 0,n!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)?this.reconnect_timer_id=setTimeout(()=>this._connect(s,t),this.reconnect_interval):this.reconnect&&this.max_reconnects>0&&this.current_reconnects>=this.max_reconnects&&setTimeout(()=>this.emit("max_reconnects_reached",n,i),1))})}};const Px=BigInt(0),mc=BigInt(1),qx=BigInt(2),Kx=BigInt(7),Vx=BigInt(256),Gx=BigInt(113),nw=[],rw=[],iw=[];for(let s=0,t=mc,n=1,i=0;s<24;s++){[n,i]=[i,(2*n+3*i)%5],nw.push(2*(5*i+n)),rw.push((s+1)*(s+2)/2%64);let c=Px;for(let o=0;o<7;o++)t=(t<<mc^(t>>Kx)*Gx)%Vx,t&qx&&(c^=mc<<(mc<<BigInt(o))-mc);iw.push(c)}const sw=v_(iw,!0),Fx=sw[0],Yx=sw[1],Jg=(s,t,n)=>n>32?kR(s,t,n):OR(s,t,n),eb=(s,t,n)=>n>32?IR(s,t,n):NR(s,t,n);function Zx(s,t=24){const n=new Uint32Array(10);for(let i=24-t;i<24;i++){for(let l=0;l<10;l++)n[l]=s[l]^s[l+10]^s[l+20]^s[l+30]^s[l+40];for(let l=0;l<10;l+=2){const d=(l+8)%10,y=(l+2)%10,_=n[y],E=n[y+1],C=Jg(_,E,1)^n[d],I=eb(_,E,1)^n[d+1];for(let R=0;R<50;R+=10)s[l+R]^=C,s[l+R+1]^=I}let c=s[2],o=s[3];for(let l=0;l<24;l++){const d=rw[l],y=Jg(c,o,d),_=eb(c,o,d),E=nw[l];c=s[E],o=s[E+1],s[E]=y,s[E+1]=_}for(let l=0;l<50;l+=10){for(let d=0;d<10;d++)n[d]=s[l+d];for(let d=0;d<10;d++)s[l+d]^=~n[(d+2)%10]&n[(d+4)%10]}s[0]^=Fx[i],s[1]^=Yx[i]}gs(n)}class tp extends q0{constructor(t,n,i,c=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=i,this.enableXOF=c,this.rounds=o,Rc(i),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=bR(this.state)}clone(){return this._cloneInto()}keccak(){Tg(this.state32),Zx(this.state32,this.rounds),Tg(this.state32),this.posOut=0,this.pos=0}update(t){co(this),t=Gl(t),Ti(t);const{blockLen:n,state:i}=this,c=t.length;for(let o=0;o<c;){const l=Math.min(n-this.pos,c-o);for(let d=0;d<l;d++)i[this.pos++]^=t[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:i,blockLen:c}=this;t[i]^=n,(n&128)!==0&&i===c-1&&this.keccak(),t[c-1]^=128,this.keccak()}writeInto(t){co(this,!1),Ti(t),this.finish();const n=this.state,{blockLen:i}=this;for(let c=0,o=t.length;c<o;){this.posOut>=i&&this.keccak();const l=Math.min(i-this.posOut,o-c);t.set(n.subarray(this.posOut,this.posOut+l),c),this.posOut+=l,c+=l}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Rc(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(b_(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,gs(this.state)}_cloneInto(t){const{blockLen:n,suffix:i,outputLen:c,rounds:o,enableXOF:l}=this;return t||(t=new tp(n,i,c,l,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=i,t.outputLen=c,t.enableXOF=l,t.destroyed=this.destroyed,t}}const Xx=(s,t,n)=>K0(()=>new tp(t,s,n)),tb=Xx(1,136,256/8);class aw extends q0{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,g_(t);const i=Gl(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const c=this.blockLen,o=new Uint8Array(c);o.set(i.length>c?t.create().update(i).digest():i);for(let l=0;l<o.length;l++)o[l]^=54;this.iHash.update(o),this.oHash=t.create();for(let l=0;l<o.length;l++)o[l]^=106;this.oHash.update(o),gs(o)}update(t){return co(this),this.iHash.update(t),this}digestInto(t){co(this),Ti(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:i,finished:c,destroyed:o,blockLen:l,outputLen:d}=this;return t=t,t.finished=c,t.destroyed=o,t.blockLen=l,t.outputLen=d,t.oHash=n._cloneInto(t.oHash),t.iHash=i._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const ow=(s,t,n)=>new aw(s,t).update(n).digest();ow.create=(s,t)=>new aw(s,t);const nb=(s,t)=>(s+(s>=0?t:-t)/cw)/t;function $x(s,t,n){const[[i,c],[o,l]]=t,d=nb(l*s,n),y=nb(-c*s,n);let _=s-d*i-y*o,E=-d*c-y*l;const C=_<xi,I=E<xi;C&&(_=-_),I&&(E=-E);const R=Mc(Math.ceil(x_(n)/2))+io;if(_<xi||_>=R||E<xi||E>=R)throw new Error("splitScalar (endomorphism): failed, k="+s);return{k1neg:C,k1:_,k2neg:I,k2:E}}function w0(s){if(!["compact","recovered","der"].includes(s))throw new Error('Signature format must be "compact", "recovered", or "der"');return s}function Yh(s,t){const n={};for(let i of Object.keys(t))n[i]=s[i]===void 0?t[i]:s[i];return Qs(n.lowS,"lowS"),Qs(n.prehash,"prehash"),n.format!==void 0&&w0(n.format),n}class Wx extends Error{constructor(t=""){super(t)}}const vi={Err:Wx,_tlv:{encode:(s,t)=>{const{Err:n}=vi;if(s<0||s>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const i=t.length/2,c=sl(i);if(c.length/2&128)throw new n("tlv.encode: long form length too big");const o=i>127?sl(c.length/2|128):"";return sl(s)+o+c+t},decode(s,t){const{Err:n}=vi;let i=0;if(s<0||s>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[i++]!==s)throw new n("tlv.decode: wrong tlv");const c=t[i++],o=!!(c&128);let l=0;if(!o)l=c;else{const y=c&127;if(!y)throw new n("tlv.decode(long): indefinite length not supported");if(y>4)throw new n("tlv.decode(long): byte length is too big");const _=t.subarray(i,i+y);if(_.length!==y)throw new n("tlv.decode: length bytes not complete");if(_[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const E of _)l=l<<8|E;if(i+=y,l<128)throw new n("tlv.decode(long): not minimal encoding")}const d=t.subarray(i,i+l);if(d.length!==l)throw new n("tlv.decode: wrong value length");return{v:d,l:t.subarray(i+l)}}},_int:{encode(s){const{Err:t}=vi;if(s<xi)throw new t("integer: negative integers are not allowed");let n=sl(s);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(s){const{Err:t}=vi;if(s[0]&128)throw new t("invalid signature integer: negative");if(s[0]===0&&!(s[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return Fl(s)}},toSig(s){const{Err:t,_int:n,_tlv:i}=vi,c=un("signature",s),{v:o,l}=i.decode(48,c);if(l.length)throw new t("invalid signature: left bytes after parsing");const{v:d,l:y}=i.decode(2,o),{v:_,l:E}=i.decode(2,y);if(E.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(d),s:n.decode(_)}},hexFromSig(s){const{_tlv:t,_int:n}=vi,i=t.encode(2,n.encode(s.r)),c=t.encode(2,n.encode(s.s)),o=i+c;return t.encode(48,o)}},xi=BigInt(0),io=BigInt(1),cw=BigInt(2),cl=BigInt(3),Qx=BigInt(4);function Ja(s,t){const{BYTES:n}=s;let i;if(typeof t=="bigint")i=t;else{let c=un("private key",t);try{i=s.fromBytes(c)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof t}`)}}if(!s.isValidNot0(i))throw new Error("invalid private key: out of range [1..N-1]");return i}function Jx(s,t={}){const n=q_("weierstrass",s,t),{Fp:i,Fn:c}=n;let o=n.CURVE;const{h:l,n:d}=o;Uc(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:y}=t;if(y&&(!i.is0(o.a)||typeof y.beta!="bigint"||!Array.isArray(y.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const _=lw(i,c);function E(){if(!i.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function C($,x,h){const{x:w,y:S}=x.toAffine(),N=i.toBytes(w);if(Qs(h,"isCompressed"),h){E();const L=!i.isOdd(S);return qr(uw(L),N)}else return qr(Uint8Array.of(4),N,i.toBytes(S))}function I($){Tr($,void 0,"Point");const{publicKey:x,publicKeyUncompressed:h}=_,w=$.length,S=$[0],N=$.subarray(1);if(w===x&&(S===2||S===3)){const L=i.fromBytes(N);if(!i.isValid(L))throw new Error("bad point: is not on curve, wrong x");const B=U(L);let v;try{v=i.sqrt(B)}catch(b){const O=b instanceof Error?": "+b.message:"";throw new Error("bad point: is not on curve, sqrt error"+O)}E();const m=i.isOdd(v);return(S&1)===1!==m&&(v=i.neg(v)),{x:L,y:v}}else if(w===h&&S===4){const L=i.BYTES,B=i.fromBytes(N.subarray(0,L)),v=i.fromBytes(N.subarray(L,L*2));if(!D(B,v))throw new Error("bad point: is not on curve");return{x:B,y:v}}else throw new Error(`bad point: got length ${w}, expected compressed=${x} or uncompressed=${h}`)}const R=t.toBytes||C,M=t.fromBytes||I;function U($){const x=i.sqr($),h=i.mul(x,$);return i.add(i.add(h,i.mul($,o.a)),o.b)}function D($,x){const h=i.sqr(x),w=U($);return i.eql(h,w)}if(!D(o.Gx,o.Gy))throw new Error("bad curve params: generator point");const j=i.mul(i.pow(o.a,cl),Qx),F=i.mul(i.sqr(o.b),BigInt(27));if(i.is0(i.add(j,F)))throw new Error("bad curve params: a or b");function V($,x,h=!1){if(!i.isValid(x)||h&&i.is0(x))throw new Error(`bad point coordinate ${$}`);return x}function W($){if(!($ instanceof G))throw new Error("ProjectivePoint expected")}function re($){if(!y||!y.basises)throw new Error("no endo");return $x($,y.basises,c.ORDER)}const oe=Nl(($,x)=>{const{X:h,Y:w,Z:S}=$;if(i.eql(S,i.ONE))return{x:h,y:w};const N=$.is0();x==null&&(x=N?i.ONE:i.inv(S));const L=i.mul(h,x),B=i.mul(w,x),v=i.mul(S,x);if(N)return{x:i.ZERO,y:i.ZERO};if(!i.eql(v,i.ONE))throw new Error("invZ was invalid");return{x:L,y:B}}),ie=Nl($=>{if($.is0()){if(t.allowInfinityPoint&&!i.is0($.Y))return;throw new Error("bad point: ZERO")}const{x,y:h}=$.toAffine();if(!i.isValid(x)||!i.isValid(h))throw new Error("bad point: x or y not field elements");if(!D(x,h))throw new Error("bad point: equation left != right");if(!$.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function le($,x,h,w,S){return h=new G(i.mul(h.X,$),h.Y,h.Z),x=kl(w,x),h=kl(S,h),x.add(h)}class G{constructor(x,h,w){this.X=V("x",x),this.Y=V("y",h,!0),this.Z=V("z",w),Object.freeze(this)}static CURVE(){return o}static fromAffine(x){const{x:h,y:w}=x||{};if(!x||!i.isValid(h)||!i.isValid(w))throw new Error("invalid affine point");if(x instanceof G)throw new Error("projective point not allowed");return i.is0(h)&&i.is0(w)?G.ZERO:new G(h,w,i.ONE)}static fromBytes(x){const h=G.fromAffine(M(Tr(x,void 0,"point")));return h.assertValidity(),h}static fromHex(x){return G.fromBytes(un("pointHex",x))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(x=8,h=!0){return X.createCache(this,x),h||this.multiply(cl),this}assertValidity(){ie(this)}hasEvenY(){const{y:x}=this.toAffine();if(!i.isOdd)throw new Error("Field doesn't support isOdd");return!i.isOdd(x)}equals(x){W(x);const{X:h,Y:w,Z:S}=this,{X:N,Y:L,Z:B}=x,v=i.eql(i.mul(h,B),i.mul(N,S)),m=i.eql(i.mul(w,B),i.mul(L,S));return v&&m}negate(){return new G(this.X,i.neg(this.Y),this.Z)}double(){const{a:x,b:h}=o,w=i.mul(h,cl),{X:S,Y:N,Z:L}=this;let B=i.ZERO,v=i.ZERO,m=i.ZERO,f=i.mul(S,S),b=i.mul(N,N),O=i.mul(L,L),z=i.mul(S,N);return z=i.add(z,z),m=i.mul(S,L),m=i.add(m,m),B=i.mul(x,m),v=i.mul(w,O),v=i.add(B,v),B=i.sub(b,v),v=i.add(b,v),v=i.mul(B,v),B=i.mul(z,B),m=i.mul(w,m),O=i.mul(x,O),z=i.sub(f,O),z=i.mul(x,z),z=i.add(z,m),m=i.add(f,f),f=i.add(m,f),f=i.add(f,O),f=i.mul(f,z),v=i.add(v,f),O=i.mul(N,L),O=i.add(O,O),f=i.mul(O,z),B=i.sub(B,f),m=i.mul(O,b),m=i.add(m,m),m=i.add(m,m),new G(B,v,m)}add(x){W(x);const{X:h,Y:w,Z:S}=this,{X:N,Y:L,Z:B}=x;let v=i.ZERO,m=i.ZERO,f=i.ZERO;const b=o.a,O=i.mul(o.b,cl);let z=i.mul(h,N),Z=i.mul(w,L),ne=i.mul(S,B),se=i.add(h,w),pe=i.add(N,L);se=i.mul(se,pe),pe=i.add(z,Z),se=i.sub(se,pe),pe=i.add(h,S);let Re=i.add(N,B);return pe=i.mul(pe,Re),Re=i.add(z,ne),pe=i.sub(pe,Re),Re=i.add(w,S),v=i.add(L,B),Re=i.mul(Re,v),v=i.add(Z,ne),Re=i.sub(Re,v),f=i.mul(b,pe),v=i.mul(O,ne),f=i.add(v,f),v=i.sub(Z,f),f=i.add(Z,f),m=i.mul(v,f),Z=i.add(z,z),Z=i.add(Z,z),ne=i.mul(b,ne),pe=i.mul(O,pe),Z=i.add(Z,ne),ne=i.sub(z,ne),ne=i.mul(b,ne),pe=i.add(pe,ne),z=i.mul(Z,pe),m=i.add(m,z),z=i.mul(Re,pe),v=i.mul(se,v),v=i.sub(v,z),z=i.mul(se,Z),f=i.mul(Re,f),f=i.add(f,z),new G(v,m,f)}subtract(x){return this.add(x.negate())}is0(){return this.equals(G.ZERO)}multiply(x){const{endo:h}=t;if(!c.isValidNot0(x))throw new Error("invalid scalar: out of range");let w,S;const N=L=>X.cached(this,L,B=>Ys(G,B));if(h){const{k1neg:L,k1:B,k2neg:v,k2:m}=re(x),{p:f,f:b}=N(B),{p:O,f:z}=N(m);S=b.add(z),w=le(h.beta,f,O,L,v)}else{const{p:L,f:B}=N(x);w=L,S=B}return Ys(G,[w,S])[0]}multiplyUnsafe(x){const{endo:h}=t,w=this;if(!c.isValid(x))throw new Error("invalid scalar: out of range");if(x===xi||w.is0())return G.ZERO;if(x===io)return w;if(X.hasCache(this))return this.multiply(x);if(h){const{k1neg:S,k1:N,k2neg:L,k2:B}=re(x),{p1:v,p2:m}=i2(G,w,N,B);return le(h.beta,v,m,S,L)}else return X.unsafe(w,x)}multiplyAndAddUnsafe(x,h,w){const S=this.multiplyUnsafe(h).add(x.multiplyUnsafe(w));return S.is0()?void 0:S}toAffine(x){return oe(this,x)}isTorsionFree(){const{isTorsionFree:x}=t;return l===io?!0:x?x(G,this):X.unsafe(this,d).is0()}clearCofactor(){const{clearCofactor:x}=t;return l===io?this:x?x(G,this):this.multiplyUnsafe(l)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}toBytes(x=!0){return Qs(x,"isCompressed"),this.assertValidity(),R(G,this,x)}toHex(x=!0){return Ws(this.toBytes(x))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(x=!0){return this.toBytes(x)}_setWindowSize(x){this.precompute(x)}static normalizeZ(x){return Ys(G,x)}static msm(x,h){return P_(G,c,x,h)}static fromPrivateKey(x){return G.BASE.multiply(Ja(c,x))}}G.BASE=new G(o.Gx,o.Gy,i.ONE),G.ZERO=new G(i.ZERO,i.ONE,i.ZERO),G.Fp=i,G.Fn=c;const Y=c.BITS,X=new j_(G,t.endo?Math.ceil(Y/2):Y);return G.BASE.precompute(8),G}function uw(s){return Uint8Array.of(s?2:3)}function lw(s,t){return{secretKey:t.BYTES,publicKey:1+s.BYTES,publicKeyUncompressed:1+2*s.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}function eT(s,t={}){const{Fn:n}=s,i=t.randomBytes||V0,c=Object.assign(lw(s.Fp,n),{seed:L_(n.ORDER)});function o(R){try{return!!Ja(n,R)}catch{return!1}}function l(R,M){const{publicKey:U,publicKeyUncompressed:D}=c;try{const j=R.length;return M===!0&&j!==U||M===!1&&j!==D?!1:!!s.fromBytes(R)}catch{return!1}}function d(R=i(c.seed)){return t2(Tr(R,c.seed,"seed"),n.ORDER)}function y(R,M=!0){return s.BASE.multiply(Ja(n,R)).toBytes(M)}function _(R){const M=d(R);return{secretKey:M,publicKey:y(M)}}function E(R){if(typeof R=="bigint")return!1;if(R instanceof s)return!0;const{secretKey:M,publicKey:U,publicKeyUncompressed:D}=c;if(n.allowedLengths||M===U)return;const j=un("key",R).length;return j===U||j===D}function C(R,M,U=!0){if(E(R)===!0)throw new Error("first arg must be private key");if(E(M)===!1)throw new Error("second arg must be public key");const D=Ja(n,R);return s.fromHex(M).multiply(D).toBytes(U)}return Object.freeze({getPublicKey:y,getSharedSecret:C,keygen:_,Point:s,utils:{isValidSecretKey:o,isValidPublicKey:l,randomSecretKey:d,isValidPrivateKey:o,randomPrivateKey:d,normPrivateKeyToScalar:R=>Ja(n,R),precompute(R=8,M=s.BASE){return M.precompute(R,!1)}},lengths:c})}function tT(s,t,n={}){g_(t),Uc(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const i=n.randomBytes||V0,c=n.hmac||((h,...w)=>ow(t,h,qr(...w))),{Fp:o,Fn:l}=s,{ORDER:d,BITS:y}=l,{keygen:_,getPublicKey:E,getSharedSecret:C,utils:I,lengths:R}=eT(s,n),M={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},U="compact";function D(h){const w=d>>io;return h>w}function j(h,w){if(!l.isValidNot0(w))throw new Error(`invalid signature ${h}: out of range 1..Point.Fn.ORDER`);return w}function F(h,w){w0(w);const S=R.signature,N=w==="compact"?S:w==="recovered"?S+1:void 0;return Tr(h,N,`${w} signature`)}class V{constructor(w,S,N){this.r=j("r",w),this.s=j("s",S),N!=null&&(this.recovery=N),Object.freeze(this)}static fromBytes(w,S=U){F(w,S);let N;if(S==="der"){const{r:m,s:f}=vi.toSig(Tr(w));return new V(m,f)}S==="recovered"&&(N=w[0],S="compact",w=w.subarray(1));const L=l.BYTES,B=w.subarray(0,L),v=w.subarray(L,L*2);return new V(l.fromBytes(B),l.fromBytes(v),N)}static fromHex(w,S){return this.fromBytes(Ol(w),S)}addRecoveryBit(w){return new V(this.r,this.s,w)}recoverPublicKey(w){const S=o.ORDER,{r:N,s:L,recovery:B}=this;if(B==null||![0,1,2,3].includes(B))throw new Error("recovery id invalid");if(d*cw<S&&B>1)throw new Error("recovery id is ambiguous for h>1 curve");const m=B===2||B===3?N+d:N;if(!o.isValid(m))throw new Error("recovery id 2 or 3 invalid");const f=o.toBytes(m),b=s.fromBytes(qr(uw((B&1)===0),f)),O=l.inv(m),z=re(un("msgHash",w)),Z=l.create(-z*O),ne=l.create(L*O),se=s.BASE.multiplyUnsafe(Z).add(b.multiplyUnsafe(ne));if(se.is0())throw new Error("point at infinify");return se.assertValidity(),se}hasHighS(){return D(this.s)}toBytes(w=U){if(w0(w),w==="der")return Ol(vi.hexFromSig(this));const S=l.toBytes(this.r),N=l.toBytes(this.s);if(w==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return qr(Uint8Array.of(this.recovery),S,N)}return qr(S,N)}toHex(w){return Ws(this.toBytes(w))}assertValidity(){}static fromCompact(w){return V.fromBytes(un("sig",w),"compact")}static fromDER(w){return V.fromBytes(un("sig",w),"der")}normalizeS(){return this.hasHighS()?new V(this.r,l.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Ws(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Ws(this.toBytes("compact"))}}const W=n.bits2int||function(w){if(w.length>8192)throw new Error("input is too large");const S=Fl(w),N=w.length*8-y;return N>0?S>>BigInt(N):S},re=n.bits2int_modN||function(w){return l.create(W(w))},oe=Mc(y);function ie(h){return _0("num < 2^"+y,h,xi,oe),l.toBytes(h)}function le(h,w){return Tr(h,void 0,"message"),w?Tr(t(h),void 0,"prehashed message"):h}function G(h,w,S){if(["recovered","canonical"].some(Z=>Z in S))throw new Error("sign() legacy options not supported");const{lowS:N,prehash:L,extraEntropy:B}=Yh(S,M);h=le(h,L);const v=re(h),m=Ja(l,w),f=[ie(m),ie(v)];if(B!=null&&B!==!1){const Z=B===!0?i(R.secretKey):B;f.push(un("extraEntropy",Z))}const b=qr(...f),O=v;function z(Z){const ne=W(Z);if(!l.isValidNot0(ne))return;const se=l.inv(ne),pe=s.BASE.multiply(ne).toAffine(),Re=l.create(pe.x);if(Re===xi)return;const Oe=l.create(se*l.create(O+Re*m));if(Oe===xi)return;let $e=(pe.x===Re?0:2)|Number(pe.y&io),Ut=Oe;return N&&D(Oe)&&(Ut=l.neg(Oe),$e^=1),new V(Re,Ut,$e)}return{seed:b,k2sig:z}}function Y(h,w,S={}){h=un("message",h);const{seed:N,k2sig:L}=G(h,w,S);return GR(t.outputLen,l.BYTES,c)(N,L)}function X(h){let w;const S=typeof h=="string"||Bc(h),N=!S&&h!==null&&typeof h=="object"&&typeof h.r=="bigint"&&typeof h.s=="bigint";if(!S&&!N)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(N)w=new V(h.r,h.s);else if(S){try{w=V.fromBytes(un("sig",h),"der")}catch(L){if(!(L instanceof vi.Err))throw L}if(!w)try{w=V.fromBytes(un("sig",h),"compact")}catch{return!1}}return w||!1}function $(h,w,S,N={}){const{lowS:L,prehash:B,format:v}=Yh(N,M);if(S=un("publicKey",S),w=le(un("message",w),B),"strict"in N)throw new Error("options.strict was renamed to lowS");const m=v===void 0?X(h):V.fromBytes(un("sig",h),v);if(m===!1)return!1;try{const f=s.fromBytes(S);if(L&&m.hasHighS())return!1;const{r:b,s:O}=m,z=re(w),Z=l.inv(O),ne=l.create(z*Z),se=l.create(b*Z),pe=s.BASE.multiplyUnsafe(ne).add(f.multiplyUnsafe(se));return pe.is0()?!1:l.create(pe.x)===b}catch{return!1}}function x(h,w,S={}){const{prehash:N}=Yh(S,M);return w=le(w,N),V.fromBytes(h,"recovered").recoverPublicKey(w).toBytes()}return Object.freeze({keygen:_,getPublicKey:E,getSharedSecret:C,utils:I,lengths:R,Point:s,sign:Y,verify:$,recoverPublicKey:x,Signature:V,hash:t})}function nT(s){const t={a:s.a,b:s.b,p:s.Fp.ORDER,n:s.n,h:s.h,Gx:s.Gx,Gy:s.Gy},n=s.Fp;let i=s.allowedPrivateKeyLengths?Array.from(new Set(s.allowedPrivateKeyLengths.map(l=>Math.ceil(l/2)))):void 0;const c=na(t.n,{BITS:s.nBitLength,allowedLengths:i,modFromBytes:s.wrapPrivateKey}),o={Fp:n,Fn:c,allowInfinityPoint:s.allowInfinityPoint,endo:s.endo,isTorsionFree:s.isTorsionFree,clearCofactor:s.clearCofactor,fromBytes:s.fromBytes,toBytes:s.toBytes};return{CURVE:t,curveOpts:o}}function rT(s){const{CURVE:t,curveOpts:n}=nT(s),i={hmac:s.hmac,randomBytes:s.randomBytes,lowS:s.lowS,bits2int:s.bits2int,bits2int_modN:s.bits2int_modN};return{CURVE:t,curveOpts:n,hash:s.hash,ecdsaOpts:i}}function iT(s,t){const n=t.Point;return Object.assign({},t,{ProjectivePoint:n,CURVE:Object.assign({},s,U_(n.Fn.ORDER,n.Fn.BITS))})}function sT(s){const{CURVE:t,curveOpts:n,hash:i,ecdsaOpts:c}=rT(s),o=Jx(t,n),l=tT(o,i,c);return iT(s,l)}function aT(s,t){const n=i=>sT({...s,hash:i});return{...n(t),create:n}}const np={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},oT={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},rb=BigInt(2);function cT(s){const t=np.p,n=BigInt(3),i=BigInt(6),c=BigInt(11),o=BigInt(22),l=BigInt(23),d=BigInt(44),y=BigInt(88),_=s*s*s%t,E=_*_*s%t,C=cn(E,n,t)*E%t,I=cn(C,n,t)*E%t,R=cn(I,rb,t)*_%t,M=cn(R,c,t)*R%t,U=cn(M,o,t)*M%t,D=cn(U,d,t)*U%t,j=cn(D,y,t)*D%t,F=cn(j,d,t)*U%t,V=cn(F,n,t)*E%t,W=cn(V,l,t)*M%t,re=cn(W,i,t)*_%t,oe=cn(re,rb,t);if(!v0.eql(v0.sqr(oe),s))throw new Error("Cannot find square root");return oe}const v0=na(np.p,{sqrt:cT}),rp=aT({...np,Fp:v0,lowS:!0,endo:oT},S_),uT=yo.utils.randomPrivateKey,ib=()=>{const s=yo.utils.randomPrivateKey(),t=Ll(s),n=new Uint8Array(64);return n.set(s),n.set(t,32),{publicKey:t,secretKey:n}},Ll=yo.getPublicKey;function sb(s){try{return yo.ExtendedPoint.fromHex(s),!0}catch{return!1}}const ip=(s,t)=>yo.sign(s,t.slice(0,32)),lT=yo.verify,nt=s=>Ce.Buffer.isBuffer(s)?s:s instanceof Uint8Array?Ce.Buffer.from(s.buffer,s.byteOffset,s.byteLength):Ce.Buffer.from(s);let sp=class{constructor(t){Object.assign(this,t)}encode(){return Ce.Buffer.from(zh.serialize(vc,this))}static decode(t){return zh.deserialize(vc,this,t)}static decodeUnchecked(t){return zh.deserializeUnchecked(vc,this,t)}};class fT extends sp{constructor(t){if(super(t),this.enum="",Object.keys(t).length!==1)throw new Error("Enum can only take single value");Object.keys(t).map(n=>{this.enum=n})}}const vc=new Map;var fw;const dw=32,Yr=32;function dT(s){return s._bn!==void 0}let ab=1;class ve extends sp{constructor(t){if(super({}),this._bn=void 0,dT(t))this._bn=t._bn;else{if(typeof t=="string"){const n=In.decode(t);if(n.length!=Yr)throw new Error("Invalid public key input");this._bn=new kn(n)}else this._bn=new kn(t);if(this._bn.byteLength()>Yr)throw new Error("Invalid public key input")}}static unique(){const t=new ve(ab);return ab+=1,new ve(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return In.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(Ce.Buffer);if(t.length===Yr)return t;const n=Ce.Buffer.alloc(32);return t.copy(n,32-t.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,n,i){const c=Ce.Buffer.concat([t.toBuffer(),Ce.Buffer.from(n),i.toBuffer()]),o=Il(c);return new ve(o)}static createProgramAddressSync(t,n){let i=Ce.Buffer.alloc(0);t.forEach(function(o){if(o.length>dw)throw new TypeError("Max seed length exceeded");i=Ce.Buffer.concat([i,nt(o)])}),i=Ce.Buffer.concat([i,n.toBuffer(),Ce.Buffer.from("ProgramDerivedAddress")]);const c=Il(i);if(sb(c))throw new Error("Invalid seeds, address must fall off the curve");return new ve(c)}static async createProgramAddress(t,n){return this.createProgramAddressSync(t,n)}static findProgramAddressSync(t,n){let i=255,c;for(;i!=0;){try{const o=t.concat(Ce.Buffer.from([i]));c=this.createProgramAddressSync(o,n)}catch(o){if(o instanceof TypeError)throw o;i--;continue}return[c,i]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,n){return this.findProgramAddressSync(t,n)}static isOnCurve(t){const n=new ve(t);return sb(n.toBytes())}}fw=ve;ve.default=new fw("11111111111111111111111111111111");vc.set(ve,{kind:"struct",fields:[["_bn","u256"]]});class hT{constructor(t){if(this._publicKey=void 0,this._secretKey=void 0,t){const n=nt(t);if(t.length!==64)throw new Error("bad secret key size");this._publicKey=n.slice(32,64),this._secretKey=n.slice(0,32)}else this._secretKey=nt(uT()),this._publicKey=nt(Ll(this._secretKey))}get publicKey(){return new ve(this._publicKey)}get secretKey(){return Ce.Buffer.concat([this._secretKey,this._publicKey],64)}}const pT=new ve("BPFLoader1111111111111111111111111111111111"),ps=1232,Wl=127,Tc=64;class ap extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}}Object.defineProperty(ap.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class op extends Error{constructor(t,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}}Object.defineProperty(op.prototype,"name",{value:"TransactionExpiredTimeoutError"});class eo extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}}Object.defineProperty(eo.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class Oc{constructor(t,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=n}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const n of this.keySegments()){if(t<n.length)return n[t];t-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const i=new Map;this.keySegments().flat().forEach((o,l)=>{i.set(o.toBase58(),l)});const c=o=>{const l=i.get(o.toBase58());if(l===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return l};return t.map(o=>({programIdIndex:c(o.programId),accountKeyIndexes:o.keys.map(l=>c(l.pubkey)),data:o.data}))}}const ot=(s="publicKey")=>Q.blob(32,s),mT=(s="signature")=>Q.blob(64,s),Zs=(s="string")=>{const t=Q.struct([Q.u32("length"),Q.u32("lengthPadding"),Q.blob(Q.offset(Q.u32(),-8),"chars")],s),n=t.decode.bind(t),i=t.encode.bind(t),c=t;return c.decode=(o,l)=>n(o,l).chars.toString(),c.encode=(o,l,d)=>{const y={chars:Ce.Buffer.from(o,"utf8")};return i(y,l,d)},c.alloc=o=>Q.u32().span+Q.u32().span+Ce.Buffer.from(o,"utf8").length,c},yT=(s="authorized")=>Q.struct([ot("staker"),ot("withdrawer")],s),gT=(s="lockup")=>Q.struct([Q.ns64("unixTimestamp"),Q.ns64("epoch"),ot("custodian")],s),bT=(s="voteInit")=>Q.struct([ot("nodePubkey"),ot("authorizedVoter"),ot("authorizedWithdrawer"),Q.u8("commission")],s),_T=(s="voteAuthorizeWithSeedArgs")=>Q.struct([Q.u32("voteAuthorizationType"),ot("currentAuthorityDerivedKeyOwnerPubkey"),Zs("currentAuthorityDerivedKeySeed"),ot("newAuthorized")],s);function hw(s,t){const n=c=>{if(c.span>=0)return c.span;if(typeof c.alloc=="function")return c.alloc(t[c.property]);if("count"in c&&"elementLayout"in c){const o=t[c.property];if(Array.isArray(o))return o.length*n(c.elementLayout)}else if("fields"in c)return hw({layout:c},t[c.property]);return 0};let i=0;return s.layout.fields.forEach(c=>{i+=n(c)}),i}function Yn(s){let t=0,n=0;for(;;){let i=s.shift();if(t|=(i&127)<<n*7,n+=1,(i&128)===0)break}return t}function ar(s,t){let n=t;for(;;){let i=n&127;if(n>>=7,n==0){s.push(i);break}else i|=128,s.push(i)}}function bt(s,t){if(!s)throw new Error(t||"Assertion failed")}class Ql{constructor(t,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=n}static compile(t,n){const i=new Map,c=l=>{const d=l.toBase58();let y=i.get(d);return y===void 0&&(y={isSigner:!1,isWritable:!1,isInvoked:!1},i.set(d,y)),y},o=c(n);o.isSigner=!0,o.isWritable=!0;for(const l of t){c(l.programId).isInvoked=!0;for(const d of l.keys){const y=c(d.pubkey);y.isSigner||=d.isSigner,y.isWritable||=d.isWritable}}return new Ql(n,i)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];bt(t.length<=256,"Max static account keys length exceeded");const n=t.filter(([,y])=>y.isSigner&&y.isWritable),i=t.filter(([,y])=>y.isSigner&&!y.isWritable),c=t.filter(([,y])=>!y.isSigner&&y.isWritable),o=t.filter(([,y])=>!y.isSigner&&!y.isWritable),l={numRequiredSignatures:n.length+i.length,numReadonlySignedAccounts:i.length,numReadonlyUnsignedAccounts:o.length};{bt(n.length>0,"Expected at least one writable signer key");const[y]=n[0];bt(y===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const d=[...n.map(([y])=>new ve(y)),...i.map(([y])=>new ve(y)),...c.map(([y])=>new ve(y)),...o.map(([y])=>new ve(y))];return[l,d]}extractTableLookup(t){const[n,i]=this.drainKeysFoundInLookupTable(t.state.addresses,l=>!l.isSigner&&!l.isInvoked&&l.isWritable),[c,o]=this.drainKeysFoundInLookupTable(t.state.addresses,l=>!l.isSigner&&!l.isInvoked&&!l.isWritable);if(!(n.length===0&&c.length===0))return[{accountKey:t.key,writableIndexes:n,readonlyIndexes:c},{writable:i,readonly:o}]}drainKeysFoundInLookupTable(t,n){const i=new Array,c=new Array;for(const[o,l]of this.keyMetaMap.entries())if(n(l)){const d=new ve(o),y=t.findIndex(_=>_.equals(d));y>=0&&(bt(y<256,"Max lookup table index exceeded"),i.push(y),c.push(d),this.keyMetaMap.delete(o))}return[i,c]}}const pw="Reached end of buffer unexpectedly";function Kr(s){if(s.length===0)throw new Error(pw);return s.shift()}function Zn(s,...t){const[n]=t;if(t.length===2?n+(t[1]??0)>s.length:n>=s.length)throw new Error(pw);return s.splice(...t)}class Nr{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(n=>new ve(n)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:In.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Oc(this.staticAccountKeys)}static compile(t){const n=Ql.compile(t.instructions,t.payerKey),[i,c]=n.getMessageComponents(),l=new Oc(c).compileInstructions(t.instructions).map(d=>({programIdIndex:d.programIdIndex,accounts:d.accountKeyIndexes,data:In.encode(d.data)}));return new Nr({header:i,accountKeys:c,recentBlockhash:t.recentBlockhash,instructions:l})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const n=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){const i=t-n,o=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=n-this.header.numReadonlySignedAccounts;return t<i}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,n)=>!this.isProgramId(n))}serialize(){const t=this.accountKeys.length;let n=[];ar(n,t);const i=this.instructions.map(C=>{const{accounts:I,programIdIndex:R}=C,M=Array.from(In.decode(C.data));let U=[];ar(U,I.length);let D=[];return ar(D,M.length),{programIdIndex:R,keyIndicesCount:Ce.Buffer.from(U),keyIndices:I,dataLength:Ce.Buffer.from(D),data:M}});let c=[];ar(c,i.length);let o=Ce.Buffer.alloc(ps);Ce.Buffer.from(c).copy(o);let l=c.length;i.forEach(C=>{const R=Q.struct([Q.u8("programIdIndex"),Q.blob(C.keyIndicesCount.length,"keyIndicesCount"),Q.seq(Q.u8("keyIndex"),C.keyIndices.length,"keyIndices"),Q.blob(C.dataLength.length,"dataLength"),Q.seq(Q.u8("userdatum"),C.data.length,"data")]).encode(C,o,l);l+=R}),o=o.slice(0,l);const d=Q.struct([Q.blob(1,"numRequiredSignatures"),Q.blob(1,"numReadonlySignedAccounts"),Q.blob(1,"numReadonlyUnsignedAccounts"),Q.blob(n.length,"keyCount"),Q.seq(ot("key"),t,"keys"),ot("recentBlockhash")]),y={numRequiredSignatures:Ce.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Ce.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Ce.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Ce.Buffer.from(n),keys:this.accountKeys.map(C=>nt(C.toBytes())),recentBlockhash:In.decode(this.recentBlockhash)};let _=Ce.Buffer.alloc(2048);const E=d.encode(y,_);return o.copy(_,E),_.slice(0,E+o.length)}static from(t){let n=[...t];const i=Kr(n);if(i!==(i&Wl))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const c=Kr(n),o=Kr(n),l=Yn(n);let d=[];for(let I=0;I<l;I++){const R=Zn(n,0,Yr);d.push(new ve(Ce.Buffer.from(R)))}const y=Zn(n,0,Yr),_=Yn(n);let E=[];for(let I=0;I<_;I++){const R=Kr(n),M=Yn(n),U=Zn(n,0,M),D=Yn(n),j=Zn(n,0,D),F=In.encode(Ce.Buffer.from(j));E.push({programIdIndex:R,accounts:U,data:F})}const C={header:{numRequiredSignatures:i,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:o},recentBlockhash:In.encode(Ce.Buffer.from(y)),accountKeys:d,instructions:E};return new Nr(C)}}class Js{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const n of this.addressTableLookups)t+=n.readonlyIndexes.length+n.writableIndexes.length;return t}getAccountKeys(t){let n;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)n=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Oc(this.staticAccountKeys,n)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const n=this.header.numRequiredSignatures,i=this.staticAccountKeys.length;if(t>=i){const c=t-i,o=this.addressTableLookups.reduce((l,d)=>l+d.writableIndexes.length,0);return c<o}else if(t>=this.header.numRequiredSignatures){const c=t-n,l=i-n-this.header.numReadonlyUnsignedAccounts;return c<l}else{const c=n-this.header.numReadonlySignedAccounts;return t<c}}resolveAddressTableLookups(t){const n={writable:[],readonly:[]};for(const i of this.addressTableLookups){const c=t.find(o=>o.key.equals(i.accountKey));if(!c)throw new Error(`Failed to find address lookup table account for table key ${i.accountKey.toBase58()}`);for(const o of i.writableIndexes)if(o<c.state.addresses.length)n.writable.push(c.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${i.accountKey.toBase58()}`);for(const o of i.readonlyIndexes)if(o<c.state.addresses.length)n.readonly.push(c.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${i.accountKey.toBase58()}`)}return n}static compile(t){const n=Ql.compile(t.instructions,t.payerKey),i=new Array,c={writable:new Array,readonly:new Array},o=t.addressLookupTableAccounts||[];for(const E of o){const C=n.extractTableLookup(E);if(C!==void 0){const[I,{writable:R,readonly:M}]=C;i.push(I),c.writable.push(...R),c.readonly.push(...M)}}const[l,d]=n.getMessageComponents(),_=new Oc(d,c).compileInstructions(t.instructions);return new Js({header:l,staticAccountKeys:d,recentBlockhash:t.recentBlockhash,compiledInstructions:_,addressTableLookups:i})}serialize(){const t=Array();ar(t,this.staticAccountKeys.length);const n=this.serializeInstructions(),i=Array();ar(i,this.compiledInstructions.length);const c=this.serializeAddressTableLookups(),o=Array();ar(o,this.addressTableLookups.length);const l=Q.struct([Q.u8("prefix"),Q.struct([Q.u8("numRequiredSignatures"),Q.u8("numReadonlySignedAccounts"),Q.u8("numReadonlyUnsignedAccounts")],"header"),Q.blob(t.length,"staticAccountKeysLength"),Q.seq(ot(),this.staticAccountKeys.length,"staticAccountKeys"),ot("recentBlockhash"),Q.blob(i.length,"instructionsLength"),Q.blob(n.length,"serializedInstructions"),Q.blob(o.length,"addressTableLookupsLength"),Q.blob(c.length,"serializedAddressTableLookups")]),d=new Uint8Array(ps),_=l.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(E=>E.toBytes()),recentBlockhash:In.decode(this.recentBlockhash),instructionsLength:new Uint8Array(i),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:c},d);return d.slice(0,_)}serializeInstructions(){let t=0;const n=new Uint8Array(ps);for(const i of this.compiledInstructions){const c=Array();ar(c,i.accountKeyIndexes.length);const o=Array();ar(o,i.data.length);const l=Q.struct([Q.u8("programIdIndex"),Q.blob(c.length,"encodedAccountKeyIndexesLength"),Q.seq(Q.u8(),i.accountKeyIndexes.length,"accountKeyIndexes"),Q.blob(o.length,"encodedDataLength"),Q.blob(i.data.length,"data")]);t+=l.encode({programIdIndex:i.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(c),accountKeyIndexes:i.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:i.data},n,t)}return n.slice(0,t)}serializeAddressTableLookups(){let t=0;const n=new Uint8Array(ps);for(const i of this.addressTableLookups){const c=Array();ar(c,i.writableIndexes.length);const o=Array();ar(o,i.readonlyIndexes.length);const l=Q.struct([ot("accountKey"),Q.blob(c.length,"encodedWritableIndexesLength"),Q.seq(Q.u8(),i.writableIndexes.length,"writableIndexes"),Q.blob(o.length,"encodedReadonlyIndexesLength"),Q.seq(Q.u8(),i.readonlyIndexes.length,"readonlyIndexes")]);t+=l.encode({accountKey:i.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(c),writableIndexes:i.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:i.readonlyIndexes},n,t)}return n.slice(0,t)}static deserialize(t){let n=[...t];const i=Kr(n),c=i&Wl;bt(i!==c,"Expected versioned message but received legacy message");const o=c;bt(o===0,`Expected versioned message with version 0 but found version ${o}`);const l={numRequiredSignatures:Kr(n),numReadonlySignedAccounts:Kr(n),numReadonlyUnsignedAccounts:Kr(n)},d=[],y=Yn(n);for(let M=0;M<y;M++)d.push(new ve(Zn(n,0,Yr)));const _=In.encode(Zn(n,0,Yr)),E=Yn(n),C=[];for(let M=0;M<E;M++){const U=Kr(n),D=Yn(n),j=Zn(n,0,D),F=Yn(n),V=new Uint8Array(Zn(n,0,F));C.push({programIdIndex:U,accountKeyIndexes:j,data:V})}const I=Yn(n),R=[];for(let M=0;M<I;M++){const U=new ve(Zn(n,0,Yr)),D=Yn(n),j=Zn(n,0,D),F=Yn(n),V=Zn(n,0,F);R.push({accountKey:U,writableIndexes:j,readonlyIndexes:V})}return new Js({header:l,staticAccountKeys:d,recentBlockhash:_,compiledInstructions:C,addressTableLookups:R})}}const cp={deserializeMessageVersion(s){const t=s[0],n=t&Wl;return n===t?"legacy":n},deserialize:s=>{const t=cp.deserializeMessageVersion(s);if(t==="legacy")return Nr.from(s);if(t===0)return Js.deserialize(s);throw new Error(`Transaction message version ${t} deserialization is not supported`)}};let wi=(function(s){return s[s.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",s[s.PROCESSED=1]="PROCESSED",s[s.TIMED_OUT=2]="TIMED_OUT",s[s.NONCE_INVALID=3]="NONCE_INVALID",s})({});const wT=Ce.Buffer.alloc(Tc).fill(0);class xt{constructor(t){this.keys=void 0,this.programId=void 0,this.data=Ce.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:n,isWritable:i})=>({pubkey:t.toJSON(),isSigner:n,isWritable:i})),programId:this.programId.toJSON(),data:[...this.data]}}}class mt{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:n,nonceInfo:i}=t;this.minNonceContextSlot=n,this.nonceInfo=i}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:i}=t;this.recentBlockhash=n,this.lastValidBlockHeight=i}else{const{recentBlockhash:n,nonceInfo:i}=t;i&&(this.nonceInfo=i),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new xt(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,n;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(t=this.recentBlockhash,n=this.instructions),!t)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let i;if(this.feePayer)i=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)i=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let U=0;U<n.length;U++)if(n[U].programId===void 0)throw new Error(`Transaction instruction index ${U} has undefined program id`);const c=[],o=[];n.forEach(U=>{U.keys.forEach(j=>{o.push({...j})});const D=U.programId.toString();c.includes(D)||c.push(D)}),c.forEach(U=>{o.push({pubkey:new ve(U),isSigner:!1,isWritable:!1})});const l=[];o.forEach(U=>{const D=U.pubkey.toString(),j=l.findIndex(F=>F.pubkey.toString()===D);j>-1?(l[j].isWritable=l[j].isWritable||U.isWritable,l[j].isSigner=l[j].isSigner||U.isSigner):l.push(U)}),l.sort(function(U,D){if(U.isSigner!==D.isSigner)return U.isSigner?-1:1;if(U.isWritable!==D.isWritable)return U.isWritable?-1:1;const j={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return U.pubkey.toBase58().localeCompare(D.pubkey.toBase58(),"en",j)});const d=l.findIndex(U=>U.pubkey.equals(i));if(d>-1){const[U]=l.splice(d,1);U.isSigner=!0,U.isWritable=!0,l.unshift(U)}else l.unshift({pubkey:i,isSigner:!0,isWritable:!0});for(const U of this.signatures){const D=l.findIndex(j=>j.pubkey.equals(U.publicKey));if(D>-1)l[D].isSigner||(l[D].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${U.publicKey.toString()}`)}let y=0,_=0,E=0;const C=[],I=[];l.forEach(({pubkey:U,isSigner:D,isWritable:j})=>{D?(C.push(U.toString()),y+=1,j||(_+=1)):(I.push(U.toString()),j||(E+=1))});const R=C.concat(I),M=n.map(U=>{const{data:D,programId:j}=U;return{programIdIndex:R.indexOf(j.toString()),accounts:U.keys.map(F=>R.indexOf(F.pubkey.toString())),data:In.encode(D)}});return M.forEach(U=>{bt(U.programIdIndex>=0),U.accounts.forEach(D=>bt(D>=0))}),new Nr({header:{numRequiredSignatures:y,numReadonlySignedAccounts:_,numReadonlyUnsignedAccounts:E},accountKeys:R,recentBlockhash:t,instructions:M})}_compile(){const t=this.compileMessage(),n=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((c,o)=>n[o].equals(c.publicKey))||(this.signatures=n.map(i=>({signature:null,publicKey:i}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error("No signers");const n=new Set;this.signatures=t.filter(i=>{const c=i.toString();return n.has(c)?!1:(n.add(c),!0)}).map(i=>({signature:null,publicKey:i}))}sign(...t){if(t.length===0)throw new Error("No signers");const n=new Set,i=[];for(const o of t){const l=o.publicKey.toString();n.has(l)||(n.add(l),i.push(o))}this.signatures=i.map(o=>({signature:null,publicKey:o.publicKey}));const c=this._compile();this._partialSign(c,...i)}partialSign(...t){if(t.length===0)throw new Error("No signers");const n=new Set,i=[];for(const o of t){const l=o.publicKey.toString();n.has(l)||(n.add(l),i.push(o))}const c=this._compile();this._partialSign(c,...i)}_partialSign(t,...n){const i=t.serialize();n.forEach(c=>{const o=ip(i,c.secretKey);this._addSignature(c.publicKey,nt(o))})}addSignature(t,n){this._compile(),this._addSignature(t,n)}_addSignature(t,n){bt(n.length===64);const i=this.signatures.findIndex(c=>t.equals(c.publicKey));if(i<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[i].signature=Ce.Buffer.from(n)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,n){const i={};for(const{signature:c,publicKey:o}of this.signatures)c===null?n&&(i.missing||=[]).push(o):lT(c,t,o.toBytes())||(i.invalid||=[]).push(o);return i.invalid||i.missing?i:void 0}serialize(t){const{requireAllSignatures:n,verifySignatures:i}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),c=this.serializeMessage();if(i){const o=this._getMessageSignednessErrors(c,n);if(o){let l="Signature verification failed.";throw o.invalid&&(l+=`
Invalid signature for public key${o.invalid.length===1?"":"(s)"} [\`${o.invalid.map(d=>d.toBase58()).join("`, `")}\`].`),o.missing&&(l+=`
Missing signature for public key${o.missing.length===1?"":"(s)"} [\`${o.missing.map(d=>d.toBase58()).join("`, `")}\`].`),new Error(l)}}return this._serialize(c)}_serialize(t){const{signatures:n}=this,i=[];ar(i,n.length);const c=i.length+n.length*64+t.length,o=Ce.Buffer.alloc(c);return bt(n.length<256),Ce.Buffer.from(i).copy(o,0),n.forEach(({signature:l},d)=>{l!==null&&(bt(l.length===64,"signature has invalid length"),Ce.Buffer.from(l).copy(o,i.length+d*64))}),t.copy(o,i.length+n.length*64),bt(o.length<=ps,`Transaction too large: ${o.length} > ${ps}`),o}get keys(){return bt(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return bt(this.instructions.length===1),this.instructions[0].programId}get data(){return bt(this.instructions.length===1),this.instructions[0].data}static from(t){let n=[...t];const i=Yn(n);let c=[];for(let o=0;o<i;o++){const l=Zn(n,0,Tc);c.push(In.encode(Ce.Buffer.from(l)))}return mt.populate(Nr.from(n),c)}static populate(t,n=[]){const i=new mt;return i.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(i.feePayer=t.accountKeys[0]),n.forEach((c,o)=>{const l={signature:c==In.encode(wT)?null:In.decode(c),publicKey:t.accountKeys[o]};i.signatures.push(l)}),t.instructions.forEach(c=>{const o=c.accounts.map(l=>{const d=t.accountKeys[l];return{pubkey:d,isSigner:i.signatures.some(y=>y.publicKey.toString()===d.toString())||t.isAccountSigner(l),isWritable:t.isAccountWritable(l)}});i.instructions.push(new xt({keys:o,programId:t.accountKeys[c.programIdIndex],data:In.decode(c.data)}))}),i._message=t,i._json=i.toJSON(),i}}class up{constructor(t){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=t.payerKey,this.instructions=t.instructions,this.recentBlockhash=t.recentBlockhash}static decompile(t,n){const{header:i,compiledInstructions:c,recentBlockhash:o}=t,{numRequiredSignatures:l,numReadonlySignedAccounts:d,numReadonlyUnsignedAccounts:y}=i,_=l-d;bt(_>0,"Message header is invalid");const E=t.staticAccountKeys.length-l-y;bt(E>=0,"Message header is invalid");const C=t.getAccountKeys(n),I=C.get(0);if(I===void 0)throw new Error("Failed to decompile message because no account keys were found");const R=[];for(const M of c){const U=[];for(const j of M.accountKeyIndexes){const F=C.get(j);if(F===void 0)throw new Error(`Failed to find key for account key index ${j}`);const V=j<l;let W;V?W=j<_:j<C.staticAccountKeys.length?W=j-l<E:W=j-C.staticAccountKeys.length<C.accountKeysFromLookups.writable.length,U.push({pubkey:F,isSigner:j<i.numRequiredSignatures,isWritable:W})}const D=C.get(M.programIdIndex);if(D===void 0)throw new Error(`Failed to find program id for program id index ${M.programIdIndex}`);R.push(new xt({programId:D,data:nt(M.data),keys:U}))}return new up({payerKey:I,instructions:R,recentBlockhash:o})}compileToLegacyMessage(){return Nr.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(t){return Js.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:t})}}class lp{get version(){return this.message.version}constructor(t,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)bt(n.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const i=[];for(let c=0;c<t.header.numRequiredSignatures;c++)i.push(new Uint8Array(Tc));this.signatures=i}this.message=t}serialize(){const t=this.message.serialize(),n=Array();ar(n,this.signatures.length);const i=Q.struct([Q.blob(n.length,"encodedSignaturesLength"),Q.seq(mT(),this.signatures.length,"signatures"),Q.blob(t.length,"serializedMessage")]),c=new Uint8Array(2048),o=i.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:t},c);return c.slice(0,o)}static deserialize(t){let n=[...t];const i=[],c=Yn(n);for(let l=0;l<c;l++)i.push(new Uint8Array(Zn(n,0,Tc)));const o=cp.deserialize(new Uint8Array(n));return new lp(o,i)}sign(t){const n=this.message.serialize(),i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const c of t){const o=i.findIndex(l=>l.equals(c.publicKey));bt(o>=0,`Cannot sign with non signer key ${c.publicKey.toBase58()}`),this.signatures[o]=ip(n,c.secretKey)}}addSignature(t,n){bt(n.byteLength===64,"Signature must be 64 bytes long");const c=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(o=>o.equals(t));bt(c>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[c]=n}}const vT=160,ET=64,ST=vT/ET,mw=1e3/ST,Pr=new ve("SysvarC1ock11111111111111111111111111111111"),AT=new ve("SysvarEpochSchedu1e111111111111111111111111"),RT=new ve("Sysvar1nstructions1111111111111111111111111"),El=new ve("SysvarRecentB1ockHashes11111111111111111111"),fo=new ve("SysvarRent111111111111111111111111111111111"),xT=new ve("SysvarRewards111111111111111111111111111111"),TT=new ve("SysvarS1otHashes111111111111111111111111111"),OT=new ve("SysvarS1otHistory11111111111111111111111111"),Sl=new ve("SysvarStakeHistory1111111111111111111111111");class bs extends Error{constructor({action:t,signature:n,transactionMessage:i,logs:c}){const o=c?`Logs: 
${JSON.stringify(c.slice(-10),null,2)}. `:"",l="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let d;switch(t){case"send":d=`Transaction ${n} resulted in an error. 
${i}. `+o+l;break;case"simulate":d=`Simulation failed. 
Message: ${i}. 
`+o+l;break;default:d=`Unknown action '${(y=>y)(t)}'`}super(d),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=n,this.transactionMessage=i,this.transactionLogs=c||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const t=this.transactionLogs;if(!(t!=null&&typeof t=="object"&&"then"in t))return t}async getLogs(t){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((n,i)=>{t.getTransaction(this.signature).then(c=>{if(c&&c.meta&&c.meta.logMessages){const o=c.meta.logMessages;this.transactionLogs=o,n(o)}else i(new Error("Log messages not found"))}).catch(i)})),await this.transactionLogs}}const NT={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class Le extends Error{constructor({code:t,message:n,data:i},c){super(c!=null?`${c}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=t,this.data=i,this.name="SolanaJSONRPCError"}}async function E0(s,t,n,i){const c=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,maxRetries:i.maxRetries,minContextSlot:i.minContextSlot},o=await s.sendTransaction(t,n,c);let l;if(t.recentBlockhash!=null&&t.lastValidBlockHeight!=null)l=(await s.confirmTransaction({abortSignal:i?.abortSignal,signature:o,blockhash:t.recentBlockhash,lastValidBlockHeight:t.lastValidBlockHeight},i&&i.commitment)).value;else if(t.minNonceContextSlot!=null&&t.nonceInfo!=null){const{nonceInstruction:d}=t.nonceInfo,y=d.keys[0].pubkey;l=(await s.confirmTransaction({abortSignal:i?.abortSignal,minContextSlot:t.minNonceContextSlot,nonceAccountPubkey:y,nonceValue:t.nonceInfo.nonce,signature:o},i&&i.commitment)).value}else i?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),l=(await s.confirmTransaction(o,i&&i.commitment)).value;if(l.err)throw o!=null?new bs({action:"send",signature:o,transactionMessage:`Status: (${JSON.stringify(l)})`}):new Error(`Transaction ${o} failed (${JSON.stringify(l)})`);return o}function Vs(s){return new Promise(t=>setTimeout(t,s))}function ht(s,t){const n=s.layout.span>=0?s.layout.span:hw(s,t),i=Ce.Buffer.alloc(n),c=Object.assign({instruction:s.index},t);return s.layout.encode(c,i),i}function Et(s,t){let n;try{n=s.layout.decode(t)}catch(i){throw new Error("invalid instruction; "+i)}if(n.instruction!==s.index)throw new Error(`invalid instruction; instruction index mismatch ${n.instruction} != ${s.index}`);return n}const yw=Q.nu64("lamportsPerSignature"),gw=Q.struct([Q.u32("version"),Q.u32("state"),ot("authorizedPubkey"),ot("nonce"),Q.struct([yw],"feeCalculator")]),S0=gw.span;class Jl{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){const n=gw.decode(nt(t),0);return new Jl({authorizedPubkey:new ve(n.authorizedPubkey),nonce:new ve(n.nonce).toString(),feeCalculator:n.feeCalculator})}}function ho(s){const t=Q.blob(8,s),n=t.decode.bind(t),i=t.encode.bind(t),c=t,o=ix();return c.decode=(l,d)=>{const y=n(l,d);return o.decode(y)},c.encode=(l,d,y)=>{const _=o.encode(l);return i(_,d,y)},c}class kT{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const i=Q.u32("instruction").decode(t.data);let c;for(const[o,l]of Object.entries(Mt))if(l.index==i){c=o;break}if(!c)throw new Error("Instruction type incorrect; not a SystemInstruction");return c}static decodeCreateAccount(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{lamports:n,space:i,programId:c}=Et(Mt.Create,t.data);return{fromPubkey:t.keys[0].pubkey,newAccountPubkey:t.keys[1].pubkey,lamports:n,space:i,programId:new ve(c)}}static decodeTransfer(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{lamports:n}=Et(Mt.Transfer,t.data);return{fromPubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,lamports:n}}static decodeTransferWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{lamports:n,seed:i,programId:c}=Et(Mt.TransferWithSeed,t.data);return{fromPubkey:t.keys[0].pubkey,basePubkey:t.keys[1].pubkey,toPubkey:t.keys[2].pubkey,lamports:n,seed:i,programId:new ve(c)}}static decodeAllocate(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{space:n}=Et(Mt.Allocate,t.data);return{accountPubkey:t.keys[0].pubkey,space:n}}static decodeAllocateWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{base:n,seed:i,space:c,programId:o}=Et(Mt.AllocateWithSeed,t.data);return{accountPubkey:t.keys[0].pubkey,basePubkey:new ve(n),seed:i,space:c,programId:new ve(o)}}static decodeAssign(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{programId:n}=Et(Mt.Assign,t.data);return{accountPubkey:t.keys[0].pubkey,programId:new ve(n)}}static decodeAssignWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{base:n,seed:i,programId:c}=Et(Mt.AssignWithSeed,t.data);return{accountPubkey:t.keys[0].pubkey,basePubkey:new ve(n),seed:i,programId:new ve(c)}}static decodeCreateWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{base:n,seed:i,lamports:c,space:o,programId:l}=Et(Mt.CreateWithSeed,t.data);return{fromPubkey:t.keys[0].pubkey,newAccountPubkey:t.keys[1].pubkey,basePubkey:new ve(n),seed:i,lamports:c,space:o,programId:new ve(l)}}static decodeNonceInitialize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{authorized:n}=Et(Mt.InitializeNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,authorizedPubkey:new ve(n)}}static decodeNonceAdvance(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),Et(Mt.AdvanceNonceAccount,t.data),{noncePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey}}static decodeNonceWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,5);const{lamports:n}=Et(Mt.WithdrawNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey,lamports:n}}static decodeNonceAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{authorized:n}=Et(Mt.AuthorizeNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[1].pubkey,newAuthorizedPubkey:new ve(n)}}static checkProgramId(t){if(!t.equals(hn.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(t,n){if(t.length<n)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${n}`)}}const Mt=Object.freeze({Create:{index:0,layout:Q.struct([Q.u32("instruction"),Q.ns64("lamports"),Q.ns64("space"),ot("programId")])},Assign:{index:1,layout:Q.struct([Q.u32("instruction"),ot("programId")])},Transfer:{index:2,layout:Q.struct([Q.u32("instruction"),ho("lamports")])},CreateWithSeed:{index:3,layout:Q.struct([Q.u32("instruction"),ot("base"),Zs("seed"),Q.ns64("lamports"),Q.ns64("space"),ot("programId")])},AdvanceNonceAccount:{index:4,layout:Q.struct([Q.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:Q.struct([Q.u32("instruction"),Q.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:Q.struct([Q.u32("instruction"),ot("authorized")])},AuthorizeNonceAccount:{index:7,layout:Q.struct([Q.u32("instruction"),ot("authorized")])},Allocate:{index:8,layout:Q.struct([Q.u32("instruction"),Q.ns64("space")])},AllocateWithSeed:{index:9,layout:Q.struct([Q.u32("instruction"),ot("base"),Zs("seed"),Q.ns64("space"),ot("programId")])},AssignWithSeed:{index:10,layout:Q.struct([Q.u32("instruction"),ot("base"),Zs("seed"),ot("programId")])},TransferWithSeed:{index:11,layout:Q.struct([Q.u32("instruction"),ho("lamports"),Zs("seed"),ot("programId")])},UpgradeNonceAccount:{index:12,layout:Q.struct([Q.u32("instruction")])}});class hn{constructor(){}static createAccount(t){const n=Mt.Create,i=ht(n,{lamports:t.lamports,space:t.space,programId:nt(t.programId.toBuffer())});return new xt({keys:[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:i})}static transfer(t){let n,i;if("basePubkey"in t){const c=Mt.TransferWithSeed;n=ht(c,{lamports:BigInt(t.lamports),seed:t.seed,programId:nt(t.programId.toBuffer())}),i=[{pubkey:t.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}else{const c=Mt.Transfer;n=ht(c,{lamports:BigInt(t.lamports)}),i=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}return new xt({keys:i,programId:this.programId,data:n})}static assign(t){let n,i;if("basePubkey"in t){const c=Mt.AssignWithSeed;n=ht(c,{base:nt(t.basePubkey.toBuffer()),seed:t.seed,programId:nt(t.programId.toBuffer())}),i=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{const c=Mt.Assign;n=ht(c,{programId:nt(t.programId.toBuffer())}),i=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new xt({keys:i,programId:this.programId,data:n})}static createAccountWithSeed(t){const n=Mt.CreateWithSeed,i=ht(n,{base:nt(t.basePubkey.toBuffer()),seed:t.seed,lamports:t.lamports,space:t.space,programId:nt(t.programId.toBuffer())});let c=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!1,isWritable:!0}];return t.basePubkey.equals(t.fromPubkey)||c.push({pubkey:t.basePubkey,isSigner:!0,isWritable:!1}),new xt({keys:c,programId:this.programId,data:i})}static createNonceAccount(t){const n=new mt;"basePubkey"in t&&"seed"in t?n.add(hn.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:S0,programId:this.programId})):n.add(hn.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:S0,programId:this.programId}));const i={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return n.add(this.nonceInitialize(i)),n}static nonceInitialize(t){const n=Mt.InitializeNonceAccount,i=ht(n,{authorized:nt(t.authorizedPubkey.toBuffer())}),c={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:El,isSigner:!1,isWritable:!1},{pubkey:fo,isSigner:!1,isWritable:!1}],programId:this.programId,data:i};return new xt(c)}static nonceAdvance(t){const n=Mt.AdvanceNonceAccount,i=ht(n),c={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:El,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new xt(c)}static nonceWithdraw(t){const n=Mt.WithdrawNonceAccount,i=ht(n,{lamports:t.lamports});return new xt({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0},{pubkey:El,isSigner:!1,isWritable:!1},{pubkey:fo,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static nonceAuthorize(t){const n=Mt.AuthorizeNonceAccount,i=ht(n,{authorized:nt(t.newAuthorizedPubkey.toBuffer())});return new xt({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static allocate(t){let n,i;if("basePubkey"in t){const c=Mt.AllocateWithSeed;n=ht(c,{base:nt(t.basePubkey.toBuffer()),seed:t.seed,space:t.space,programId:nt(t.programId.toBuffer())}),i=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{const c=Mt.Allocate;n=ht(c,{space:t.space}),i=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new xt({keys:i,programId:this.programId,data:n})}}hn.programId=new ve("11111111111111111111111111111111");const IT=ps-300;class ea{constructor(){}static getMinNumSignatures(t){return 2*(Math.ceil(t/ea.chunkSize)+1+1)}static async load(t,n,i,c,o){{const C=await t.getMinimumBalanceForRentExemption(o.length),I=await t.getAccountInfo(i.publicKey,"confirmed");let R=null;if(I!==null){if(I.executable)return console.error("Program load failed, account is already executable"),!1;I.data.length!==o.length&&(R=R||new mt,R.add(hn.allocate({accountPubkey:i.publicKey,space:o.length}))),I.owner.equals(c)||(R=R||new mt,R.add(hn.assign({accountPubkey:i.publicKey,programId:c}))),I.lamports<C&&(R=R||new mt,R.add(hn.transfer({fromPubkey:n.publicKey,toPubkey:i.publicKey,lamports:C-I.lamports})))}else R=new mt().add(hn.createAccount({fromPubkey:n.publicKey,newAccountPubkey:i.publicKey,lamports:C>0?C:1,space:o.length,programId:c}));R!==null&&await E0(t,R,[n,i],{commitment:"confirmed"})}const l=Q.struct([Q.u32("instruction"),Q.u32("offset"),Q.u32("bytesLength"),Q.u32("bytesLengthPadding"),Q.seq(Q.u8("byte"),Q.offset(Q.u32(),-8),"bytes")]),d=ea.chunkSize;let y=0,_=o,E=[];for(;_.length>0;){const C=_.slice(0,d),I=Ce.Buffer.alloc(d+16);l.encode({instruction:0,offset:y,bytes:C,bytesLength:0,bytesLengthPadding:0},I);const R=new mt().add({keys:[{pubkey:i.publicKey,isSigner:!0,isWritable:!0}],programId:c,data:I});E.push(E0(t,R,[n,i],{commitment:"confirmed"})),t._rpcEndpoint.includes("solana.com")&&await Vs(1e3/4),y+=d,_=_.slice(d)}await Promise.all(E);{const C=Q.struct([Q.u32("instruction")]),I=Ce.Buffer.alloc(C.span);C.encode({instruction:1},I);const R=new mt().add({keys:[{pubkey:i.publicKey,isSigner:!0,isWritable:!0},{pubkey:fo,isSigner:!1,isWritable:!1}],programId:c,data:I}),M="processed",U=await t.sendTransaction(R,[n,i],{preflightCommitment:M}),{context:D,value:j}=await t.confirmTransaction({signature:U,lastValidBlockHeight:R.lastValidBlockHeight,blockhash:R.recentBlockhash},M);if(j.err)throw new Error(`Transaction ${U} failed (${JSON.stringify(j)})`);for(;;){try{if(await t.getSlot({commitment:M})>D.slot)break}catch{}await new Promise(F=>setTimeout(F,Math.round(mw/2)))}}return!0}}ea.chunkSize=IT;const CT=new ve("BPFLoader2111111111111111111111111111111111");class BT{static getMinNumSignatures(t){return ea.getMinNumSignatures(t)}static load(t,n,i,c,o){return ea.load(t,n,i,o,c)}}function MT(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Zh,ob;function UT(){if(ob)return Zh;ob=1;var s=Object.prototype.toString,t=Object.keys||function(i){var c=[];for(var o in i)c.push(o);return c};function n(i,c){var o,l,d,y,_,E,C;if(i===!0)return"true";if(i===!1)return"false";switch(typeof i){case"object":if(i===null)return null;if(i.toJSON&&typeof i.toJSON=="function")return n(i.toJSON(),c);if(C=s.call(i),C==="[object Array]"){for(d="[",l=i.length-1,o=0;o<l;o++)d+=n(i[o],!0)+",";return l>-1&&(d+=n(i[o],!0)),d+"]"}else if(C==="[object Object]"){for(y=t(i).sort(),l=y.length,d="",o=0;o<l;)_=y[o],E=n(i[_],!1),E!==void 0&&(d&&(d+=","),d+=JSON.stringify(_)+":"+E),o++;return"{"+d+"}"}else return JSON.stringify(i);case"function":case"undefined":return c?null:void 0;case"string":return JSON.stringify(i);default:return isFinite(i)?i:null}}return Zh=function(i){var c=n(i,!1);if(c!==void 0)return""+c},Zh}var DT=UT(),cb=MT(DT);const yc=32;function Xh(s){let t=0;for(;s>1;)s/=2,t++;return t}function LT(s){return s===0?1:(s--,s|=s>>1,s|=s>>2,s|=s>>4,s|=s>>8,s|=s>>16,s|=s>>32,s+1)}class bw{constructor(t,n,i,c,o){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=n,this.warmup=i,this.firstNormalEpoch=c,this.firstNormalSlot=o}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){const n=Xh(LT(t+yc+1))-Xh(yc)-1,i=this.getSlotsInEpoch(n),c=t-(i-yc);return[n,c]}else{const n=t-this.firstNormalSlot,i=Math.floor(n/this.slotsPerEpoch),c=this.firstNormalEpoch+i,o=n%this.slotsPerEpoch;return[c,o]}}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?(Math.pow(2,t)-1)*yc:(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+Xh(yc)):this.slotsPerEpoch}}var zT=globalThis.fetch;class HT extends jx{constructor(t,n,i){const c=o=>{const l=zx(o,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in l?this.underlyingSocket=l.socket:this.underlyingSocket=l,l};super(c,t,n,i),this.underlyingSocket=void 0}call(...t){const n=this.underlyingSocket?.readyState;return n===1?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...t){const n=this.underlyingSocket?.readyState;return n===1?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}}function jT(s,t){let n;try{n=s.layout.decode(t)}catch(i){throw new Error("invalid instruction; "+i)}if(n.typeIndex!==s.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${s.index}`);return n}const ub=56;class A0{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){const t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){const n=jT(PT,t),i=t.length-ub;bt(i>=0,"lookup table is invalid"),bt(i%32===0,"lookup table is invalid");const c=i/32,{addresses:o}=Q.struct([Q.seq(ot(),c,"addresses")]).decode(t.slice(ub));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new ve(n.authority[0]):void 0,addresses:o.map(l=>new ve(l))}}}const PT={index:1,layout:Q.struct([Q.u32("typeIndex"),ho("deactivationSlot"),Q.nu64("lastExtendedSlot"),Q.u8("lastExtendedStartIndex"),Q.u8(),Q.seq(ot(),Q.offset(Q.u8(),-1),"authority")])},qT=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function KT(s){const t=s.match(qT);if(t==null)throw TypeError(`Failed to validate endpoint URL \`${s}\``);const[n,i,c,o]=t,l=s.startsWith("https:")?"wss:":"ws:",d=c==null?null:parseInt(c.slice(1),10),y=d==null?"":`:${d+1}`;return`${l}//${i}${y}${o}`}const Jt=zc(J0(ve),Ae(),s=>new ve(s)),_w=ep([Ae(),Qt("base64")]),fp=zc(J0(Ce.Buffer),_w,s=>Ce.Buffer.from(s[0],"base64")),ww=30*1e3;function VT(s){if(/^https?:/.test(s)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return s}function Bt(s){let t,n;if(typeof s=="string")t=s;else if(s){const{commitment:i,...c}=s;t=i,n=c}return{commitment:t,config:n}}function lb(s){return s.map(t=>"memcmp"in t?{...t,memcmp:{...t.memcmp,encoding:t.memcmp.encoding??"base58"}}:t)}function vw(s){return jn([Se({jsonrpc:Qt("2.0"),id:Ae(),result:s}),Se({jsonrpc:Qt("2.0"),id:Ae(),error:Se({code:go(),message:Ae(),data:Pe(lx())})})])}const GT=vw(go());function tt(s){return zc(vw(s),GT,t=>"error"in t?t:{...t,result:Te(t.result,s)})}function dn(s){return tt(Se({context:Se({slot:ue()}),value:s}))}function ef(s){return Se({context:Se({slot:ue()}),value:s})}function $h(s,t){return s===0?new Js({header:t.header,staticAccountKeys:t.accountKeys.map(n=>new ve(n)),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:In.decode(n.data)})),addressTableLookups:t.addressTableLookups}):new Nr(t)}const FT=Se({foundation:ue(),foundationTerm:ue(),initial:ue(),taper:ue(),terminal:ue()}),YT=tt(ke(Ie(Se({epoch:ue(),effectiveSlot:ue(),amount:ue(),postBalance:ue(),commission:Pe(Ie(ue()))})))),ZT=ke(Se({slot:ue(),prioritizationFee:ue()})),XT=Se({total:ue(),validator:ue(),foundation:ue(),epoch:ue()}),$T=Se({epoch:ue(),slotIndex:ue(),slotsInEpoch:ue(),absoluteSlot:ue(),blockHeight:Pe(ue()),transactionCount:Pe(ue())}),WT=Se({slotsPerEpoch:ue(),leaderScheduleSlotOffset:ue(),warmup:Zr(),firstNormalEpoch:ue(),firstNormalSlot:ue()}),QT=X_(Ae(),ke(ue())),ia=Ie(jn([Se({}),Ae()])),JT=Se({err:ia}),eO=Qt("receivedSignature"),tO=Se({"solana-core":Ae(),"feature-set":Pe(ue())}),nO=Se({program:Ae(),programId:Jt,parsed:go()}),rO=Se({programId:Jt,accounts:ke(Jt),data:Ae()}),fb=dn(Se({err:Ie(jn([Se({}),Ae()])),logs:Ie(ke(Ae())),accounts:Pe(Ie(ke(Ie(Se({executable:Zr(),owner:Ae(),lamports:ue(),data:ke(Ae()),rentEpoch:Pe(ue())}))))),unitsConsumed:Pe(ue()),returnData:Pe(Ie(Se({programId:Ae(),data:ep([Ae(),Qt("base64")])}))),innerInstructions:Pe(Ie(ke(Se({index:ue(),instructions:ke(jn([nO,rO]))}))))})),iO=dn(Se({byIdentity:X_(Ae(),ke(ue())),range:Se({firstSlot:ue(),lastSlot:ue()})}));function sO(s,t,n,i,c,o){const l=n||zT;let d;o!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let y;return i&&(y=async(E,C)=>{const I=await new Promise((R,M)=>{try{i(E,C,(U,D)=>R([U,D]))}catch(U){M(U)}});return await l(...I)}),new Mx(async(E,C)=>{const I={method:"POST",body:E,agent:d,headers:Object.assign({"Content-Type":"application/json"},t||{},sN)};try{let R=5,M,U=500;for(;y?M=await y(s,I):M=await l(s,I),!(M.status!==429||c===!0||(R-=1,R===0));)console.error(`Server responded with ${M.status} ${M.statusText}.  Retrying after ${U}ms delay...`),await Vs(U),U*=2;const D=await M.text();M.ok?C(null,D):C(new Error(`${M.status} ${M.statusText}: ${D}`))}catch(R){R instanceof Error&&C(R)}},{})}function aO(s){return(t,n)=>new Promise((i,c)=>{s.request(t,n,(o,l)=>{if(o){c(o);return}i(l)})})}function oO(s){return t=>new Promise((n,i)=>{t.length===0&&n([]);const c=t.map(o=>s.request(o.methodName,o.args));s.request(c,(o,l)=>{if(o){i(o);return}n(l)})})}const cO=tt(FT),uO=tt(XT),lO=tt(ZT),fO=tt($T),dO=tt(WT),hO=tt(QT),pO=tt(ue()),mO=dn(Se({total:ue(),circulating:ue(),nonCirculating:ue(),nonCirculatingAccounts:ke(Jt)})),R0=Se({amount:Ae(),uiAmount:Ie(ue()),decimals:ue(),uiAmountString:Pe(Ae())}),yO=dn(ke(Se({address:Jt,amount:Ae(),uiAmount:Ie(ue()),decimals:ue(),uiAmountString:Pe(Ae())}))),gO=dn(ke(Se({pubkey:Jt,account:Se({executable:Zr(),owner:Jt,lamports:ue(),data:fp,rentEpoch:ue()})}))),x0=Se({program:Ae(),parsed:go(),space:ue()}),bO=dn(ke(Se({pubkey:Jt,account:Se({executable:Zr(),owner:Jt,lamports:ue(),data:x0,rentEpoch:ue()})}))),_O=dn(ke(Se({lamports:ue(),address:Jt}))),Nc=Se({executable:Zr(),owner:Jt,lamports:ue(),data:fp,rentEpoch:ue()}),wO=Se({pubkey:Jt,account:Nc}),vO=zc(jn([J0(Ce.Buffer),x0]),jn([_w,x0]),s=>Array.isArray(s)?Te(s,fp):s),T0=Se({executable:Zr(),owner:Jt,lamports:ue(),data:vO,rentEpoch:ue()}),EO=Se({pubkey:Jt,account:T0}),SO=Se({state:jn([Qt("active"),Qt("inactive"),Qt("activating"),Qt("deactivating")]),active:ue(),inactive:ue()}),AO=tt(ke(Se({signature:Ae(),slot:ue(),err:ia,memo:Ie(Ae()),blockTime:Pe(Ie(ue()))}))),RO=tt(ke(Se({signature:Ae(),slot:ue(),err:ia,memo:Ie(Ae()),blockTime:Pe(Ie(ue()))}))),xO=Se({subscription:ue(),result:ef(Nc)}),TO=Se({pubkey:Jt,account:Nc}),OO=Se({subscription:ue(),result:ef(TO)}),NO=Se({parent:ue(),slot:ue(),root:ue()}),kO=Se({subscription:ue(),result:NO}),IO=jn([Se({type:jn([Qt("firstShredReceived"),Qt("completed"),Qt("optimisticConfirmation"),Qt("root")]),slot:ue(),timestamp:ue()}),Se({type:Qt("createdBank"),parent:ue(),slot:ue(),timestamp:ue()}),Se({type:Qt("frozen"),slot:ue(),timestamp:ue(),stats:Se({numTransactionEntries:ue(),numSuccessfulTransactions:ue(),numFailedTransactions:ue(),maxTransactionsPerEntry:ue()})}),Se({type:Qt("dead"),slot:ue(),timestamp:ue(),err:Ae()})]),CO=Se({subscription:ue(),result:IO}),BO=Se({subscription:ue(),result:ef(jn([JT,eO]))}),MO=Se({subscription:ue(),result:ue()}),UO=Se({pubkey:Ae(),gossip:Ie(Ae()),tpu:Ie(Ae()),rpc:Ie(Ae()),version:Ie(Ae())}),db=Se({votePubkey:Ae(),nodePubkey:Ae(),activatedStake:ue(),epochVoteAccount:Zr(),epochCredits:ke(ep([ue(),ue(),ue()])),commission:ue(),lastVote:ue(),rootSlot:Ie(ue())}),DO=tt(Se({current:ke(db),delinquent:ke(db)})),LO=jn([Qt("processed"),Qt("confirmed"),Qt("finalized")]),zO=Se({slot:ue(),confirmations:Ie(ue()),err:ia,confirmationStatus:Pe(LO)}),HO=dn(ke(Ie(zO))),jO=tt(ue()),Ew=Se({accountKey:Jt,writableIndexes:ke(ue()),readonlyIndexes:ke(ue())}),dp=Se({signatures:ke(Ae()),message:Se({accountKeys:ke(Ae()),header:Se({numRequiredSignatures:ue(),numReadonlySignedAccounts:ue(),numReadonlyUnsignedAccounts:ue()}),instructions:ke(Se({accounts:ke(ue()),data:Ae(),programIdIndex:ue()})),recentBlockhash:Ae(),addressTableLookups:Pe(ke(Ew))})}),Sw=Se({pubkey:Jt,signer:Zr(),writable:Zr(),source:Pe(jn([Qt("transaction"),Qt("lookupTable")]))}),Aw=Se({accountKeys:ke(Sw),signatures:ke(Ae())}),Rw=Se({parsed:go(),program:Ae(),programId:Jt}),xw=Se({accounts:ke(Jt),data:Ae(),programId:Jt}),PO=jn([xw,Rw]),qO=jn([Se({parsed:go(),program:Ae(),programId:Ae()}),Se({accounts:ke(Ae()),data:Ae(),programId:Ae()})]),Tw=zc(PO,qO,s=>"accounts"in s?Te(s,xw):Te(s,Rw)),Ow=Se({signatures:ke(Ae()),message:Se({accountKeys:ke(Sw),instructions:ke(Tw),recentBlockhash:Ae(),addressTableLookups:Pe(Ie(ke(Ew)))})}),zl=Se({accountIndex:ue(),mint:Ae(),owner:Pe(Ae()),programId:Pe(Ae()),uiTokenAmount:R0}),Nw=Se({writable:ke(Jt),readonly:ke(Jt)}),tf=Se({err:ia,fee:ue(),innerInstructions:Pe(Ie(ke(Se({index:ue(),instructions:ke(Se({accounts:ke(ue()),data:Ae(),programIdIndex:ue()}))})))),preBalances:ke(ue()),postBalances:ke(ue()),logMessages:Pe(Ie(ke(Ae()))),preTokenBalances:Pe(Ie(ke(zl))),postTokenBalances:Pe(Ie(ke(zl))),loadedAddresses:Pe(Nw),computeUnitsConsumed:Pe(ue()),costUnits:Pe(ue())}),hp=Se({err:ia,fee:ue(),innerInstructions:Pe(Ie(ke(Se({index:ue(),instructions:ke(Tw)})))),preBalances:ke(ue()),postBalances:ke(ue()),logMessages:Pe(Ie(ke(Ae()))),preTokenBalances:Pe(Ie(ke(zl))),postTokenBalances:Pe(Ie(ke(zl))),loadedAddresses:Pe(Nw),computeUnitsConsumed:Pe(ue()),costUnits:Pe(ue())}),bo=jn([Qt(0),Qt("legacy")]),sa=Se({pubkey:Ae(),lamports:ue(),postBalance:Ie(ue()),rewardType:Ie(Ae()),commission:Pe(Ie(ue()))}),KO=tt(Ie(Se({blockhash:Ae(),previousBlockhash:Ae(),parentSlot:ue(),transactions:ke(Se({transaction:dp,meta:Ie(tf),version:Pe(bo)})),rewards:Pe(ke(sa)),blockTime:Ie(ue()),blockHeight:Ie(ue())}))),VO=tt(Ie(Se({blockhash:Ae(),previousBlockhash:Ae(),parentSlot:ue(),rewards:Pe(ke(sa)),blockTime:Ie(ue()),blockHeight:Ie(ue())}))),GO=tt(Ie(Se({blockhash:Ae(),previousBlockhash:Ae(),parentSlot:ue(),transactions:ke(Se({transaction:Aw,meta:Ie(tf),version:Pe(bo)})),rewards:Pe(ke(sa)),blockTime:Ie(ue()),blockHeight:Ie(ue())}))),FO=tt(Ie(Se({blockhash:Ae(),previousBlockhash:Ae(),parentSlot:ue(),transactions:ke(Se({transaction:Ow,meta:Ie(hp),version:Pe(bo)})),rewards:Pe(ke(sa)),blockTime:Ie(ue()),blockHeight:Ie(ue())}))),YO=tt(Ie(Se({blockhash:Ae(),previousBlockhash:Ae(),parentSlot:ue(),transactions:ke(Se({transaction:Aw,meta:Ie(hp),version:Pe(bo)})),rewards:Pe(ke(sa)),blockTime:Ie(ue()),blockHeight:Ie(ue())}))),ZO=tt(Ie(Se({blockhash:Ae(),previousBlockhash:Ae(),parentSlot:ue(),rewards:Pe(ke(sa)),blockTime:Ie(ue()),blockHeight:Ie(ue())}))),XO=tt(Ie(Se({blockhash:Ae(),previousBlockhash:Ae(),parentSlot:ue(),transactions:ke(Se({transaction:dp,meta:Ie(tf)})),rewards:Pe(ke(sa)),blockTime:Ie(ue())}))),hb=tt(Ie(Se({blockhash:Ae(),previousBlockhash:Ae(),parentSlot:ue(),signatures:ke(Ae()),blockTime:Ie(ue())}))),Wh=tt(Ie(Se({slot:ue(),meta:Ie(tf),blockTime:Pe(Ie(ue())),transaction:dp,version:Pe(bo)}))),ul=tt(Ie(Se({slot:ue(),transaction:Ow,meta:Ie(hp),blockTime:Pe(Ie(ue())),version:Pe(bo)}))),$O=dn(Se({blockhash:Ae(),lastValidBlockHeight:ue()})),WO=dn(Zr()),QO=Se({slot:ue(),numTransactions:ue(),numSlots:ue(),samplePeriodSecs:ue()}),JO=tt(ke(QO)),eN=dn(Ie(Se({feeCalculator:Se({lamportsPerSignature:ue()})}))),tN=tt(Ae()),nN=tt(Ae()),rN=Se({err:ia,logs:ke(Ae()),signature:Ae()}),iN=Se({result:ef(rN),subscription:ue()}),sN={"solana-client":"js/1.0.0-maintenance"};class pp{constructor(t,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const _={};return async E=>{const{commitment:C,config:I}=Bt(E),R=this._buildArgs([],C,void 0,I),M=cb(R);return _[M]=_[M]??(async()=>{try{const U=await this._rpcRequest("getBlockHeight",R),D=Te(U,tt(ue()));if("error"in D)throw new Le(D.error,"failed to get block height information");return D.result}finally{delete _[M]}})(),await _[M]}})();let i,c,o,l,d,y;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,i=n.wsEndpoint,c=n.httpHeaders,o=n.fetch,l=n.fetchMiddleware,d=n.disableRetryOnRateLimit,y=n.httpAgent),this._rpcEndpoint=VT(t),this._rpcWsEndpoint=i||KT(t),this._rpcClient=sO(t,c,o,l,d,y),this._rpcRequest=aO(this._rpcClient),this._rpcBatchRequest=oO(this._rpcClient),this._rpcWebSocket=new HT(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(t,n){const{commitment:i,config:c}=Bt(n),o=this._buildArgs([t.toBase58()],i,void 0,c),l=await this._rpcRequest("getBalance",o),d=Te(l,dn(ue()));if("error"in d)throw new Le(d.error,`failed to get balance for ${t.toBase58()}`);return d.result}async getBalance(t,n){return await this.getBalanceAndContext(t,n).then(i=>i.value).catch(i=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+i)})}async getBlockTime(t){const n=await this._rpcRequest("getBlockTime",[t]),i=Te(n,tt(Ie(ue())));if("error"in i)throw new Le(i.error,`failed to get block time for slot ${t}`);return i.result}async getMinimumLedgerSlot(){const t=await this._rpcRequest("minimumLedgerSlot",[]),n=Te(t,tt(ue()));if("error"in n)throw new Le(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const t=await this._rpcRequest("getFirstAvailableBlock",[]),n=Te(t,pO);if("error"in n)throw new Le(n.error,"failed to get first available block");return n.result}async getSupply(t){let n={};typeof t=="string"?n={commitment:t}:t?n={...t,commitment:t&&t.commitment||this.commitment}:n={commitment:this.commitment};const i=await this._rpcRequest("getSupply",[n]),c=Te(i,mO);if("error"in c)throw new Le(c.error,"failed to get supply");return c.result}async getTokenSupply(t,n){const i=this._buildArgs([t.toBase58()],n),c=await this._rpcRequest("getTokenSupply",i),o=Te(c,dn(R0));if("error"in o)throw new Le(o.error,"failed to get token supply");return o.result}async getTokenAccountBalance(t,n){const i=this._buildArgs([t.toBase58()],n),c=await this._rpcRequest("getTokenAccountBalance",i),o=Te(c,dn(R0));if("error"in o)throw new Le(o.error,"failed to get token account balance");return o.result}async getTokenAccountsByOwner(t,n,i){const{commitment:c,config:o}=Bt(i);let l=[t.toBase58()];"mint"in n?l.push({mint:n.mint.toBase58()}):l.push({programId:n.programId.toBase58()});const d=this._buildArgs(l,c,"base64",o),y=await this._rpcRequest("getTokenAccountsByOwner",d),_=Te(y,gO);if("error"in _)throw new Le(_.error,`failed to get token accounts owned by account ${t.toBase58()}`);return _.result}async getParsedTokenAccountsByOwner(t,n,i){let c=[t.toBase58()];"mint"in n?c.push({mint:n.mint.toBase58()}):c.push({programId:n.programId.toBase58()});const o=this._buildArgs(c,i,"jsonParsed"),l=await this._rpcRequest("getTokenAccountsByOwner",o),d=Te(l,bO);if("error"in d)throw new Le(d.error,`failed to get token accounts owned by account ${t.toBase58()}`);return d.result}async getLargestAccounts(t){const n={...t,commitment:t&&t.commitment||this.commitment},i=n.filter||n.commitment?[n]:[],c=await this._rpcRequest("getLargestAccounts",i),o=Te(c,_O);if("error"in o)throw new Le(o.error,"failed to get largest accounts");return o.result}async getTokenLargestAccounts(t,n){const i=this._buildArgs([t.toBase58()],n),c=await this._rpcRequest("getTokenLargestAccounts",i),o=Te(c,yO);if("error"in o)throw new Le(o.error,"failed to get token largest accounts");return o.result}async getAccountInfoAndContext(t,n){const{commitment:i,config:c}=Bt(n),o=this._buildArgs([t.toBase58()],i,"base64",c),l=await this._rpcRequest("getAccountInfo",o),d=Te(l,dn(Ie(Nc)));if("error"in d)throw new Le(d.error,`failed to get info about account ${t.toBase58()}`);return d.result}async getParsedAccountInfo(t,n){const{commitment:i,config:c}=Bt(n),o=this._buildArgs([t.toBase58()],i,"jsonParsed",c),l=await this._rpcRequest("getAccountInfo",o),d=Te(l,dn(Ie(T0)));if("error"in d)throw new Le(d.error,`failed to get info about account ${t.toBase58()}`);return d.result}async getAccountInfo(t,n){try{return(await this.getAccountInfoAndContext(t,n)).value}catch(i){throw new Error("failed to get info about account "+t.toBase58()+": "+i)}}async getMultipleParsedAccounts(t,n){const{commitment:i,config:c}=Bt(n),o=t.map(_=>_.toBase58()),l=this._buildArgs([o],i,"jsonParsed",c),d=await this._rpcRequest("getMultipleAccounts",l),y=Te(d,dn(ke(Ie(T0))));if("error"in y)throw new Le(y.error,`failed to get info for accounts ${o}`);return y.result}async getMultipleAccountsInfoAndContext(t,n){const{commitment:i,config:c}=Bt(n),o=t.map(_=>_.toBase58()),l=this._buildArgs([o],i,"base64",c),d=await this._rpcRequest("getMultipleAccounts",l),y=Te(d,dn(ke(Ie(Nc))));if("error"in y)throw new Le(y.error,`failed to get info for accounts ${o}`);return y.result}async getMultipleAccountsInfo(t,n){return(await this.getMultipleAccountsInfoAndContext(t,n)).value}async getStakeActivation(t,n,i){const{commitment:c,config:o}=Bt(n),l=this._buildArgs([t.toBase58()],c,void 0,{...o,epoch:i??o?.epoch}),d=await this._rpcRequest("getStakeActivation",l),y=Te(d,tt(SO));if("error"in y)throw new Le(y.error,`failed to get Stake Activation ${t.toBase58()}`);return y.result}async getProgramAccounts(t,n){const{commitment:i,config:c}=Bt(n),{encoding:o,...l}=c||{},d=this._buildArgs([t.toBase58()],i,o||"base64",{...l,...l.filters?{filters:lb(l.filters)}:null}),y=await this._rpcRequest("getProgramAccounts",d),_=ke(wO),E=l.withContext===!0?Te(y,dn(_)):Te(y,tt(_));if("error"in E)throw new Le(E.error,`failed to get accounts owned by program ${t.toBase58()}`);return E.result}async getParsedProgramAccounts(t,n){const{commitment:i,config:c}=Bt(n),o=this._buildArgs([t.toBase58()],i,"jsonParsed",c),l=await this._rpcRequest("getProgramAccounts",o),d=Te(l,tt(ke(EO)));if("error"in d)throw new Le(d.error,`failed to get accounts owned by program ${t.toBase58()}`);return d.result}async confirmTransaction(t,n){let i;if(typeof t=="string")i=t;else{const o=t;if(o.abortSignal?.aborted)return Promise.reject(o.abortSignal.reason);i=o.signature}let c;try{c=In.decode(i)}catch{throw new Error("signature must be base58 encoded: "+i)}return bt(c.length===64,"signature has invalid length"),typeof t=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:i}):"lastValidBlockHeight"in t?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:t}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:t})}getCancellationPromise(t){return new Promise((n,i)=>{t!=null&&(t.aborted?i(t.reason):t.addEventListener("abort",()=>{i(t.reason)}))})}getTransactionConfirmationPromise({commitment:t,signature:n}){let i,c,o=!1;const l=new Promise((y,_)=>{try{i=this.onSignature(n,(C,I)=>{i=void 0;const R={context:I,value:C};y({__type:wi.PROCESSED,response:R})},t);const E=new Promise(C=>{i==null?C():c=this._onSubscriptionStateChange(i,I=>{I==="subscribed"&&C()})});(async()=>{if(await E,o)return;const C=await this.getSignatureStatus(n);if(o||C==null)return;const{context:I,value:R}=C;if(R!=null)if(R?.err)_(R.err);else{switch(t){case"confirmed":case"single":case"singleGossip":{if(R.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(R.confirmationStatus==="processed"||R.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}o=!0,y({__type:wi.PROCESSED,response:{context:I,value:R}})}})()}catch(E){_(E)}});return{abortConfirmation:()=>{c&&(c(),c=void 0),i!=null&&(this.removeSignatureListener(i),i=void 0)},confirmationPromise:l}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:n,lastValidBlockHeight:i,signature:c}}){let o=!1;const l=new Promise(C=>{const I=async()=>{try{return await this.getBlockHeight(t)}catch{return-1}};(async()=>{let R=await I();if(!o){for(;R<=i;)if(await Vs(1e3),o||(R=await I(),o))return;C({__type:wi.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:d,confirmationPromise:y}=this.getTransactionConfirmationPromise({commitment:t,signature:c}),_=this.getCancellationPromise(n);let E;try{const C=await Promise.race([_,y,l]);if(C.__type===wi.PROCESSED)E=C.response;else throw new ap(c)}finally{o=!0,d()}return E}async confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:n,minContextSlot:i,nonceAccountPubkey:c,nonceValue:o,signature:l}}){let d=!1;const y=new Promise(R=>{let M=o,U=null;const D=async()=>{try{const{context:j,value:F}=await this.getNonceAndContext(c,{commitment:t,minContextSlot:i});return U=j.slot,F?.nonce}catch{return M}};(async()=>{if(M=await D(),!d)for(;;){if(o!==M){R({__type:wi.NONCE_INVALID,slotInWhichNonceDidAdvance:U});return}if(await Vs(2e3),d||(M=await D(),d))return}})()}),{abortConfirmation:_,confirmationPromise:E}=this.getTransactionConfirmationPromise({commitment:t,signature:l}),C=this.getCancellationPromise(n);let I;try{const R=await Promise.race([C,E,y]);if(R.__type===wi.PROCESSED)I=R.response;else{let M;for(;;){const U=await this.getSignatureStatus(l);if(U==null)break;if(U.context.slot<(R.slotInWhichNonceDidAdvance??i)){await Vs(400);continue}M=U;break}if(M?.value){const U=t||"finalized",{confirmationStatus:D}=M.value;switch(U){case"processed":case"recent":if(D!=="processed"&&D!=="confirmed"&&D!=="finalized")throw new eo(l);break;case"confirmed":case"single":case"singleGossip":if(D!=="confirmed"&&D!=="finalized")throw new eo(l);break;case"finalized":case"max":case"root":if(D!=="finalized")throw new eo(l);break;default:}I={context:M.context,value:{err:M.value.err}}}else throw new eo(l)}}finally{d=!0,_()}return I}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:n}){let i;const c=new Promise(y=>{let _=this._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{_=this._confirmTransactionInitialTimeout||3e4;break}}i=setTimeout(()=>y({__type:wi.TIMED_OUT,timeoutMs:_}),_)}),{abortConfirmation:o,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:t,signature:n});let d;try{const y=await Promise.race([l,c]);if(y.__type===wi.PROCESSED)d=y.response;else throw new op(n,y.timeoutMs/1e3)}finally{clearTimeout(i),o()}return d}async getClusterNodes(){const t=await this._rpcRequest("getClusterNodes",[]),n=Te(t,tt(ke(UO)));if("error"in n)throw new Le(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(t){const n=this._buildArgs([],t),i=await this._rpcRequest("getVoteAccounts",n),c=Te(i,DO);if("error"in c)throw new Le(c.error,"failed to get vote accounts");return c.result}async getSlot(t){const{commitment:n,config:i}=Bt(t),c=this._buildArgs([],n,void 0,i),o=await this._rpcRequest("getSlot",c),l=Te(o,tt(ue()));if("error"in l)throw new Le(l.error,"failed to get slot");return l.result}async getSlotLeader(t){const{commitment:n,config:i}=Bt(t),c=this._buildArgs([],n,void 0,i),o=await this._rpcRequest("getSlotLeader",c),l=Te(o,tt(Ae()));if("error"in l)throw new Le(l.error,"failed to get slot leader");return l.result}async getSlotLeaders(t,n){const i=[t,n],c=await this._rpcRequest("getSlotLeaders",i),o=Te(c,tt(ke(Jt)));if("error"in o)throw new Le(o.error,"failed to get slot leaders");return o.result}async getSignatureStatus(t,n){const{context:i,value:c}=await this.getSignatureStatuses([t],n);bt(c.length===1);const o=c[0];return{context:i,value:o}}async getSignatureStatuses(t,n){const i=[t];n&&i.push(n);const c=await this._rpcRequest("getSignatureStatuses",i),o=Te(c,HO);if("error"in o)throw new Le(o.error,"failed to get signature status");return o.result}async getTransactionCount(t){const{commitment:n,config:i}=Bt(t),c=this._buildArgs([],n,void 0,i),o=await this._rpcRequest("getTransactionCount",c),l=Te(o,tt(ue()));if("error"in l)throw new Le(l.error,"failed to get transaction count");return l.result}async getTotalSupply(t){return(await this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(t){const n=this._buildArgs([],t),i=await this._rpcRequest("getInflationGovernor",n),c=Te(i,cO);if("error"in c)throw new Le(c.error,"failed to get inflation");return c.result}async getInflationReward(t,n,i){const{commitment:c,config:o}=Bt(i),l=this._buildArgs([t.map(_=>_.toBase58())],c,void 0,{...o,epoch:n??o?.epoch}),d=await this._rpcRequest("getInflationReward",l),y=Te(d,YT);if("error"in y)throw new Le(y.error,"failed to get inflation reward");return y.result}async getInflationRate(){const t=await this._rpcRequest("getInflationRate",[]),n=Te(t,uO);if("error"in n)throw new Le(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(t){const{commitment:n,config:i}=Bt(t),c=this._buildArgs([],n,void 0,i),o=await this._rpcRequest("getEpochInfo",c),l=Te(o,fO);if("error"in l)throw new Le(l.error,"failed to get epoch info");return l.result}async getEpochSchedule(){const t=await this._rpcRequest("getEpochSchedule",[]),n=Te(t,dO);if("error"in n)throw new Le(n.error,"failed to get epoch schedule");const i=n.result;return new bw(i.slotsPerEpoch,i.leaderScheduleSlotOffset,i.warmup,i.firstNormalEpoch,i.firstNormalSlot)}async getLeaderSchedule(){const t=await this._rpcRequest("getLeaderSchedule",[]),n=Te(t,hO);if("error"in n)throw new Le(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(t,n){const i=this._buildArgs([t],n),c=await this._rpcRequest("getMinimumBalanceForRentExemption",i),o=Te(c,jO);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(t){const{context:n,value:{blockhash:i}}=await this.getLatestBlockhashAndContext(t);return{context:n,value:{blockhash:i,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(t){const n=await this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),i=Te(n,JO);if("error"in i)throw new Le(i.error,"failed to get recent performance samples");return i.result}async getFeeCalculatorForBlockhash(t,n){const i=this._buildArgs([t],n),c=await this._rpcRequest("getFeeCalculatorForBlockhash",i),o=Te(c,eN);if("error"in o)throw new Le(o.error,"failed to get fee calculator");const{context:l,value:d}=o.result;return{context:l,value:d!==null?d.feeCalculator:null}}async getFeeForMessage(t,n){const i=nt(t.serialize()).toString("base64"),c=this._buildArgs([i],n),o=await this._rpcRequest("getFeeForMessage",c),l=Te(o,dn(Ie(ue())));if("error"in l)throw new Le(l.error,"failed to get fee for message");if(l.result===null)throw new Error("invalid blockhash");return l.result}async getRecentPrioritizationFees(t){const n=t?.lockedWritableAccounts?.map(l=>l.toBase58()),i=n?.length?[n]:[],c=await this._rpcRequest("getRecentPrioritizationFees",i),o=Te(c,lO);if("error"in o)throw new Le(o.error,"failed to get recent prioritization fees");return o.result}async getRecentBlockhash(t){try{return(await this.getRecentBlockhashAndContext(t)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(t){try{return(await this.getLatestBlockhashAndContext(t)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(t){const{commitment:n,config:i}=Bt(t),c=this._buildArgs([],n,void 0,i),o=await this._rpcRequest("getLatestBlockhash",c),l=Te(o,$O);if("error"in l)throw new Le(l.error,"failed to get latest blockhash");return l.result}async isBlockhashValid(t,n){const{commitment:i,config:c}=Bt(n),o=this._buildArgs([t],i,void 0,c),l=await this._rpcRequest("isBlockhashValid",o),d=Te(l,WO);if("error"in d)throw new Le(d.error,"failed to determine if the blockhash `"+t+"`is valid");return d.result}async getVersion(){const t=await this._rpcRequest("getVersion",[]),n=Te(t,tt(tO));if("error"in n)throw new Le(n.error,"failed to get version");return n.result}async getGenesisHash(){const t=await this._rpcRequest("getGenesisHash",[]),n=Te(t,tt(Ae()));if("error"in n)throw new Le(n.error,"failed to get genesis hash");return n.result}async getBlock(t,n){const{commitment:i,config:c}=Bt(n),o=this._buildArgsAtLeastConfirmed([t],i,void 0,c),l=await this._rpcRequest("getBlock",o);try{switch(c?.transactionDetails){case"accounts":{const d=Te(l,GO);if("error"in d)throw d.error;return d.result}case"none":{const d=Te(l,VO);if("error"in d)throw d.error;return d.result}default:{const d=Te(l,KO);if("error"in d)throw d.error;const{result:y}=d;return y?{...y,transactions:y.transactions.map(({transaction:_,meta:E,version:C})=>({meta:E,transaction:{..._,message:$h(C,_.message)},version:C}))}:null}}}catch(d){throw new Le(d,"failed to get confirmed block")}}async getParsedBlock(t,n){const{commitment:i,config:c}=Bt(n),o=this._buildArgsAtLeastConfirmed([t],i,"jsonParsed",c),l=await this._rpcRequest("getBlock",o);try{switch(c?.transactionDetails){case"accounts":{const d=Te(l,YO);if("error"in d)throw d.error;return d.result}case"none":{const d=Te(l,ZO);if("error"in d)throw d.error;return d.result}default:{const d=Te(l,FO);if("error"in d)throw d.error;return d.result}}}catch(d){throw new Le(d,"failed to get block")}}async getBlockProduction(t){let n,i;if(typeof t=="string")i=t;else if(t){const{commitment:d,...y}=t;i=d,n=y}const c=this._buildArgs([],i,"base64",n),o=await this._rpcRequest("getBlockProduction",c),l=Te(o,iO);if("error"in l)throw new Le(l.error,"failed to get block production information");return l.result}async getTransaction(t,n){const{commitment:i,config:c}=Bt(n),o=this._buildArgsAtLeastConfirmed([t],i,void 0,c),l=await this._rpcRequest("getTransaction",o),d=Te(l,Wh);if("error"in d)throw new Le(d.error,"failed to get transaction");const y=d.result;return y&&{...y,transaction:{...y.transaction,message:$h(y.version,y.transaction.message)}}}async getParsedTransaction(t,n){const{commitment:i,config:c}=Bt(n),o=this._buildArgsAtLeastConfirmed([t],i,"jsonParsed",c),l=await this._rpcRequest("getTransaction",o),d=Te(l,ul);if("error"in d)throw new Le(d.error,"failed to get transaction");return d.result}async getParsedTransactions(t,n){const{commitment:i,config:c}=Bt(n),o=t.map(y=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([y],i,"jsonParsed",c)}));return(await this._rpcBatchRequest(o)).map(y=>{const _=Te(y,ul);if("error"in _)throw new Le(_.error,"failed to get transactions");return _.result})}async getTransactions(t,n){const{commitment:i,config:c}=Bt(n),o=t.map(y=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([y],i,void 0,c)}));return(await this._rpcBatchRequest(o)).map(y=>{const _=Te(y,Wh);if("error"in _)throw new Le(_.error,"failed to get transactions");const E=_.result;return E&&{...E,transaction:{...E.transaction,message:$h(E.version,E.transaction.message)}}})}async getConfirmedBlock(t,n){const i=this._buildArgsAtLeastConfirmed([t],n),c=await this._rpcRequest("getBlock",i),o=Te(c,XO);if("error"in o)throw new Le(o.error,"failed to get confirmed block");const l=o.result;if(!l)throw new Error("Confirmed block "+t+" not found");const d={...l,transactions:l.transactions.map(({transaction:y,meta:_})=>{const E=new Nr(y.message);return{meta:_,transaction:{...y,message:E}}})};return{...d,transactions:d.transactions.map(({transaction:y,meta:_})=>({meta:_,transaction:mt.populate(y.message,y.signatures)}))}}async getBlocks(t,n,i){const c=this._buildArgsAtLeastConfirmed(n!==void 0?[t,n]:[t],i),o=await this._rpcRequest("getBlocks",c),l=Te(o,tt(ke(ue())));if("error"in l)throw new Le(l.error,"failed to get blocks");return l.result}async getBlockSignatures(t,n){const i=this._buildArgsAtLeastConfirmed([t],n,void 0,{transactionDetails:"signatures",rewards:!1}),c=await this._rpcRequest("getBlock",i),o=Te(c,hb);if("error"in o)throw new Le(o.error,"failed to get block");const l=o.result;if(!l)throw new Error("Block "+t+" not found");return l}async getConfirmedBlockSignatures(t,n){const i=this._buildArgsAtLeastConfirmed([t],n,void 0,{transactionDetails:"signatures",rewards:!1}),c=await this._rpcRequest("getBlock",i),o=Te(c,hb);if("error"in o)throw new Le(o.error,"failed to get confirmed block");const l=o.result;if(!l)throw new Error("Confirmed block "+t+" not found");return l}async getConfirmedTransaction(t,n){const i=this._buildArgsAtLeastConfirmed([t],n),c=await this._rpcRequest("getTransaction",i),o=Te(c,Wh);if("error"in o)throw new Le(o.error,"failed to get transaction");const l=o.result;if(!l)return l;const d=new Nr(l.transaction.message),y=l.transaction.signatures;return{...l,transaction:mt.populate(d,y)}}async getParsedConfirmedTransaction(t,n){const i=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed"),c=await this._rpcRequest("getTransaction",i),o=Te(c,ul);if("error"in o)throw new Le(o.error,"failed to get confirmed transaction");return o.result}async getParsedConfirmedTransactions(t,n){const i=t.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],n,"jsonParsed")}));return(await this._rpcBatchRequest(i)).map(l=>{const d=Te(l,ul);if("error"in d)throw new Le(d.error,"failed to get confirmed transactions");return d.result})}async getConfirmedSignaturesForAddress(t,n,i){let c={},o=await this.getFirstAvailableBlock();for(;!("until"in c)&&(n--,!(n<=0||n<o));)try{const y=await this.getConfirmedBlockSignatures(n,"finalized");y.signatures.length>0&&(c.until=y.signatures[y.signatures.length-1].toString())}catch(y){if(y instanceof Error&&y.message.includes("skipped"))continue;throw y}let l=await this.getSlot("finalized");for(;!("before"in c)&&(i++,!(i>l));)try{const y=await this.getConfirmedBlockSignatures(i);y.signatures.length>0&&(c.before=y.signatures[y.signatures.length-1].toString())}catch(y){if(y instanceof Error&&y.message.includes("skipped"))continue;throw y}return(await this.getConfirmedSignaturesForAddress2(t,c)).map(y=>y.signature)}async getConfirmedSignaturesForAddress2(t,n,i){const c=this._buildArgsAtLeastConfirmed([t.toBase58()],i,void 0,n),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",c),l=Te(o,AO);if("error"in l)throw new Le(l.error,"failed to get confirmed signatures for address");return l.result}async getSignaturesForAddress(t,n,i){const c=this._buildArgsAtLeastConfirmed([t.toBase58()],i,void 0,n),o=await this._rpcRequest("getSignaturesForAddress",c),l=Te(o,RO);if("error"in l)throw new Le(l.error,"failed to get signatures for address");return l.result}async getAddressLookupTable(t,n){const{context:i,value:c}=await this.getAccountInfoAndContext(t,n);let o=null;return c!==null&&(o=new A0({key:t,state:A0.deserialize(c.data)})),{context:i,value:o}}async getNonceAndContext(t,n){const{context:i,value:c}=await this.getAccountInfoAndContext(t,n);let o=null;return c!==null&&(o=Jl.fromAccountData(c.data)),{context:i,value:o}}async getNonce(t,n){return await this.getNonceAndContext(t,n).then(i=>i.value).catch(i=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+i)})}async requestAirdrop(t,n){const i=await this._rpcRequest("requestAirdrop",[t.toBase58(),n]),c=Te(i,tN);if("error"in c)throw new Le(c.error,`airdrop to ${t.toBase58()} failed`);return c.result}async _blockhashWithExpiryBlockHeight(t){if(!t){for(;this._pollingBlockhash;)await Vs(100);const i=Date.now()-this._blockhashInfo.lastFetch>=ww;if(this._blockhashInfo.latestBlockhash!==null&&!i)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const t=Date.now(),n=this._blockhashInfo.latestBlockhash,i=n?n.blockhash:null;for(let c=0;c<50;c++){const o=await this.getLatestBlockhash("finalized");if(i!==o.blockhash)return this._blockhashInfo={latestBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;await Vs(mw/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(t){const{commitment:n,config:i}=Bt(t),c=this._buildArgs([],n,"base64",i),o=await this._rpcRequest("getStakeMinimumDelegation",c),l=Te(o,dn(ue()));if("error"in l)throw new Le(l.error,"failed to get stake minimum delegation");return l.result}async simulateTransaction(t,n,i){if("message"in t){const U=t.serialize(),D=Ce.Buffer.from(U).toString("base64");if(Array.isArray(n)||i!==void 0)throw new Error("Invalid arguments");const j=n||{};j.encoding="base64","commitment"in j||(j.commitment=this.commitment),n&&typeof n=="object"&&"innerInstructions"in n&&(j.innerInstructions=n.innerInstructions);const F=[D,j],V=await this._rpcRequest("simulateTransaction",F),W=Te(V,fb);if("error"in W)throw new Error("failed to simulate transaction: "+W.error.message);return W.result}let c;if(t instanceof mt){let M=t;c=new mt,c.feePayer=M.feePayer,c.instructions=t.instructions,c.nonceInfo=M.nonceInfo,c.signatures=M.signatures}else c=mt.populate(t),c._message=c._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const o=n;if(c.nonceInfo&&o)c.sign(...o);else{let M=this._disableBlockhashCaching;for(;;){const U=await this._blockhashWithExpiryBlockHeight(M);if(c.lastValidBlockHeight=U.lastValidBlockHeight,c.recentBlockhash=U.blockhash,!o)break;if(c.sign(...o),!c.signature)throw new Error("!signature");const D=c.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(D)&&!this._blockhashInfo.transactionSignatures.includes(D)){this._blockhashInfo.simulatedSignatures.push(D);break}else M=!0}}const l=c._compile(),d=l.serialize(),_=c._serialize(d).toString("base64"),E={encoding:"base64",commitment:this.commitment};if(i){const M=(Array.isArray(i)?i:l.nonProgramIds()).map(U=>U.toBase58());E.accounts={encoding:"base64",addresses:M}}o&&(E.sigVerify=!0),n&&typeof n=="object"&&"innerInstructions"in n&&(E.innerInstructions=n.innerInstructions);const C=[_,E],I=await this._rpcRequest("simulateTransaction",C),R=Te(I,fb);if("error"in R){let M;if("data"in R.error&&(M=R.error.data.logs,M&&Array.isArray(M))){const U=`
    `,D=U+M.join(U);console.error(R.error.message,D)}throw new bs({action:"simulate",signature:"",transactionMessage:R.error.message,logs:M})}return R.result}async sendTransaction(t,n,i){if("version"in t){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const l=t.serialize();return await this.sendRawTransaction(l,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const c=n;if(t.nonceInfo)t.sign(...c);else{let l=this._disableBlockhashCaching;for(;;){const d=await this._blockhashWithExpiryBlockHeight(l);if(t.lastValidBlockHeight=d.lastValidBlockHeight,t.recentBlockhash=d.blockhash,t.sign(...c),!t.signature)throw new Error("!signature");const y=t.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(y))l=!0;else{this._blockhashInfo.transactionSignatures.push(y);break}}}const o=t.serialize();return await this.sendRawTransaction(o,i)}async sendRawTransaction(t,n){const i=nt(t).toString("base64");return await this.sendEncodedTransaction(i,n)}async sendEncodedTransaction(t,n){const i={encoding:"base64"},c=n&&n.skipPreflight,o=c===!0?"processed":n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(i.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(i.minContextSlot=n.minContextSlot),c&&(i.skipPreflight=c),o&&(i.preflightCommitment=o);const l=[t,i],d=await this._rpcRequest("sendTransaction",l),y=Te(d,nN);if("error"in y){let _;throw"data"in y.error&&(_=y.error.data.logs),new bs({action:c?"send":"simulate",signature:"",transactionMessage:y.error.message,logs:_})}return y.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1,console.error("ws error:",t.message)}_wsOnClose(t){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),t===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,i])=>{this._setSubscription(n,{...i,state:"pending"})})}_setSubscription(t,n){const i=this._subscriptionsByHash[t]?.state;if(this._subscriptionsByHash[t]=n,i!==n.state){const c=this._subscriptionStateChangeCallbacksByHash[t];c&&c.forEach(o=>{try{o(n.state)}catch{}})}}_onSubscriptionStateChange(t,n){const i=this._subscriptionHashByClientSubscriptionId[t];if(i==null)return()=>{};const c=this._subscriptionStateChangeCallbacksByHash[i]||=new Set;return c.add(n),()=>{c.delete(n),c.size===0&&delete this._subscriptionStateChangeCallbacksByHash[i]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(i){i instanceof Error&&console.log(`Error when closing socket connection: ${i.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const t=this._rpcWebSocketGeneration,n=()=>t===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async i=>{const c=this._subscriptionsByHash[i];if(c!==void 0)switch(c.state){case"pending":case"unsubscribed":if(c.callbacks.size===0){delete this._subscriptionsByHash[i],c.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[c.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:o,method:l}=c;try{this._setSubscription(i,{...c,state:"subscribing"});const d=await this._rpcWebSocket.call(l,o);this._setSubscription(i,{...c,serverSubscriptionId:d,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[d]=c.callbacks,await this._updateSubscriptions()}catch(d){if(console.error(`Received ${d instanceof Error?"":"JSON-RPC "}error calling \`${l}\``,{args:o,error:d}),!n())return;this._setSubscription(i,{...c,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":c.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:o,unsubscribeMethod:l}=c;if(this._subscriptionsAutoDisposedByRpc.has(o))this._subscriptionsAutoDisposedByRpc.delete(o);else{this._setSubscription(i,{...c,state:"unsubscribing"}),this._setSubscription(i,{...c,state:"unsubscribing"});try{await this._rpcWebSocket.call(l,[o])}catch(d){if(d instanceof Error&&console.error(`${l} error:`,d.message),!n())return;this._setSubscription(i,{...c,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(i,{...c,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(t,n){const i=this._subscriptionCallbacksByServerSubscriptionId[t];i!==void 0&&i.forEach(c=>{try{c(...n)}catch(o){console.error(o)}})}_wsOnAccountNotification(t){const{result:n,subscription:i}=Te(t,xO);this._handleServerNotification(i,[n.value,n.context])}_makeSubscription(t,n){const i=this._nextClientSubscriptionId++,c=cb([t.method,n]),o=this._subscriptionsByHash[c];return o===void 0?this._subscriptionsByHash[c]={...t,args:n,callbacks:new Set([t.callback]),state:"pending"}:o.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[i]=c,this._subscriptionDisposeFunctionsByClientSubscriptionId[i]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[i],delete this._subscriptionHashByClientSubscriptionId[i];const l=this._subscriptionsByHash[c];bt(l!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${i}`),l.callbacks.delete(t.callback),await this._updateSubscriptions()},this._updateSubscriptions(),i}onAccountChange(t,n,i){const{commitment:c,config:o}=Bt(i),l=this._buildArgs([t.toBase58()],c||this._commitment||"finalized","base64",o);return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},l)}async removeAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"account change")}_wsOnProgramAccountNotification(t){const{result:n,subscription:i}=Te(t,OO);this._handleServerNotification(i,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(t,n,i,c){const{commitment:o,config:l}=Bt(i),d=this._buildArgs([t.toBase58()],o||this._commitment||"finalized","base64",l||(c?{filters:lb(c)}:void 0));return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},d)}async removeProgramAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"program account change")}onLogs(t,n,i){const c=this._buildArgs([typeof t=="object"?{mentions:[t.toString()]}:t],i||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},c)}async removeOnLogsListener(t){await this._unsubscribeClientSubscription(t,"logs")}_wsOnLogsNotification(t){const{result:n,subscription:i}=Te(t,iN);this._handleServerNotification(i,[n.value,n.context])}_wsOnSlotNotification(t){const{result:n,subscription:i}=Te(t,kO);this._handleServerNotification(i,[n])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(t){await this._unsubscribeClientSubscription(t,"slot change")}_wsOnSlotUpdatesNotification(t){const{result:n,subscription:i}=Te(t,CO);this._handleServerNotification(i,[n])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(t){await this._unsubscribeClientSubscription(t,"slot update")}async _unsubscribeClientSubscription(t,n){const i=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];i?await i():console.warn(`Ignored unsubscribe request because an active subscription with id \`${t}\` for '${n}' events could not be found.`)}_buildArgs(t,n,i,c){const o=n||this._commitment;if(o||i||c){let l={};i&&(l.encoding=i),o&&(l.commitment=o),c&&(l=Object.assign(l,c)),t.push(l)}return t}_buildArgsAtLeastConfirmed(t,n,i,c){const o=n||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,n,i,c)}_wsOnSignatureNotification(t){const{result:n,subscription:i}=Te(t,BO);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(i),this._handleServerNotification(i,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(t,n,i){const c=this._buildArgs([t],i||this._commitment||"finalized"),o=this._makeSubscription({callback:(l,d)=>{if(l.type==="status"){n(l.result,d);try{this.removeSignatureListener(o)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},c);return o}onSignatureWithOptions(t,n,i){const{commitment:c,...o}={...i,commitment:i&&i.commitment||this._commitment||"finalized"},l=this._buildArgs([t],c,void 0,o),d=this._makeSubscription({callback:(y,_)=>{n(y,_);try{this.removeSignatureListener(d)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},l);return d}async removeSignatureListener(t){await this._unsubscribeClientSubscription(t,"signature result")}_wsOnRootNotification(t){const{result:n,subscription:i}=Te(t,MO);this._handleServerNotification(i,[n])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(t){await this._unsubscribeClientSubscription(t,"root change")}}class so{constructor(t){this._keypair=void 0,this._keypair=t??ib()}static generate(){return new so(ib())}static fromSecretKey(t,n){if(t.byteLength!==64)throw new Error("bad secret key size");const i=t.slice(32,64);if(!n||!n.skipValidation){const c=t.slice(0,32),o=Ll(c);for(let l=0;l<32;l++)if(i[l]!==o[l])throw new Error("provided secretKey is invalid")}return new so({publicKey:i,secretKey:t})}static fromSeed(t){const n=Ll(t),i=new Uint8Array(64);return i.set(t),i.set(n,32),new so({publicKey:n,secretKey:i})}get publicKey(){return new ve(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Ai=Object.freeze({CreateLookupTable:{index:0,layout:Q.struct([Q.u32("instruction"),ho("recentSlot"),Q.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:Q.struct([Q.u32("instruction")])},ExtendLookupTable:{index:2,layout:Q.struct([Q.u32("instruction"),ho(),Q.seq(ot(),Q.offset(Q.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Q.struct([Q.u32("instruction")])},CloseLookupTable:{index:4,layout:Q.struct([Q.u32("instruction")])}});class aN{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const i=Q.u32("instruction").decode(t.data);let c;for(const[o,l]of Object.entries(Ai))if(l.index==i){c=o;break}if(!c)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return c}static decodeCreateLookupTable(t){this.checkProgramId(t.programId),this.checkKeysLength(t.keys,4);const{recentSlot:n}=Et(Ai.CreateLookupTable,t.data);return{authority:t.keys[1].pubkey,payer:t.keys[2].pubkey,recentSlot:Number(n)}}static decodeExtendLookupTable(t){if(this.checkProgramId(t.programId),t.keys.length<2)throw new Error(`invalid instruction; found ${t.keys.length} keys, expected at least 2`);const{addresses:n}=Et(Ai.ExtendLookupTable,t.data);return{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey,payer:t.keys.length>2?t.keys[2].pubkey:void 0,addresses:n.map(i=>new ve(i))}}static decodeCloseLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,3),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey,recipient:t.keys[2].pubkey}}static decodeFreezeLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,2),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey}}static decodeDeactivateLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,2),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey}}static checkProgramId(t){if(!t.equals(mp.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(t,n){if(t.length<n)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${n}`)}}class mp{constructor(){}static createLookupTable(t){const[n,i]=ve.findProgramAddressSync([t.authority.toBuffer(),F_().encode(t.recentSlot)],this.programId),c=Ai.CreateLookupTable,o=ht(c,{recentSlot:BigInt(t.recentSlot),bumpSeed:i}),l=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:hn.programId,isSigner:!1,isWritable:!1}];return[new xt({programId:this.programId,keys:l,data:o}),n]}static freezeLookupTable(t){const n=Ai.FreezeLookupTable,i=ht(n),c=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new xt({programId:this.programId,keys:c,data:i})}static extendLookupTable(t){const n=Ai.ExtendLookupTable,i=ht(n,{addresses:t.addresses.map(o=>o.toBytes())}),c=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return t.payer&&c.push({pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:hn.programId,isSigner:!1,isWritable:!1}),new xt({programId:this.programId,keys:c,data:i})}static deactivateLookupTable(t){const n=Ai.DeactivateLookupTable,i=ht(n),c=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new xt({programId:this.programId,keys:c,data:i})}static closeLookupTable(t){const n=Ai.CloseLookupTable,i=ht(n),c=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.recipient,isSigner:!1,isWritable:!0}];return new xt({programId:this.programId,keys:c,data:i})}}mp.programId=new ve("AddressLookupTab1e1111111111111111111111111");class oN{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const i=Q.u8("instruction").decode(t.data);let c;for(const[o,l]of Object.entries(Vr))if(l.index==i){c=o;break}if(!c)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return c}static decodeRequestUnits(t){this.checkProgramId(t.programId);const{units:n,additionalFee:i}=Et(Vr.RequestUnits,t.data);return{units:n,additionalFee:i}}static decodeRequestHeapFrame(t){this.checkProgramId(t.programId);const{bytes:n}=Et(Vr.RequestHeapFrame,t.data);return{bytes:n}}static decodeSetComputeUnitLimit(t){this.checkProgramId(t.programId);const{units:n}=Et(Vr.SetComputeUnitLimit,t.data);return{units:n}}static decodeSetComputeUnitPrice(t){this.checkProgramId(t.programId);const{microLamports:n}=Et(Vr.SetComputeUnitPrice,t.data);return{microLamports:n}}static checkProgramId(t){if(!t.equals(yp.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const Vr=Object.freeze({RequestUnits:{index:0,layout:Q.struct([Q.u8("instruction"),Q.u32("units"),Q.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:Q.struct([Q.u8("instruction"),Q.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:Q.struct([Q.u8("instruction"),Q.u32("units")])},SetComputeUnitPrice:{index:3,layout:Q.struct([Q.u8("instruction"),ho("microLamports")])}});class yp{constructor(){}static requestUnits(t){const n=Vr.RequestUnits,i=ht(n,t);return new xt({keys:[],programId:this.programId,data:i})}static requestHeapFrame(t){const n=Vr.RequestHeapFrame,i=ht(n,t);return new xt({keys:[],programId:this.programId,data:i})}static setComputeUnitLimit(t){const n=Vr.SetComputeUnitLimit,i=ht(n,t);return new xt({keys:[],programId:this.programId,data:i})}static setComputeUnitPrice(t){const n=Vr.SetComputeUnitPrice,i=ht(n,{microLamports:BigInt(t.microLamports)});return new xt({keys:[],programId:this.programId,data:i})}}yp.programId=new ve("ComputeBudget111111111111111111111111111111");const pb=64,mb=32,yb=64,gb=Q.struct([Q.u8("numSignatures"),Q.u8("padding"),Q.u16("signatureOffset"),Q.u16("signatureInstructionIndex"),Q.u16("publicKeyOffset"),Q.u16("publicKeyInstructionIndex"),Q.u16("messageDataOffset"),Q.u16("messageDataSize"),Q.u16("messageInstructionIndex")]);class nf{constructor(){}static createInstructionWithPublicKey(t){const{publicKey:n,message:i,signature:c,instructionIndex:o}=t;bt(n.length===mb,`Public Key must be ${mb} bytes but received ${n.length} bytes`),bt(c.length===yb,`Signature must be ${yb} bytes but received ${c.length} bytes`);const l=gb.span,d=l+n.length,y=d+c.length,_=1,E=Ce.Buffer.alloc(y+i.length),C=o??65535;return gb.encode({numSignatures:_,padding:0,signatureOffset:d,signatureInstructionIndex:C,publicKeyOffset:l,publicKeyInstructionIndex:C,messageDataOffset:y,messageDataSize:i.length,messageInstructionIndex:C},E),E.fill(n,l),E.fill(c,d),E.fill(i,y),new xt({keys:[],programId:nf.programId,data:E})}static createInstructionWithPrivateKey(t){const{privateKey:n,message:i,instructionIndex:c}=t;bt(n.length===pb,`Private key must be ${pb} bytes but received ${n.length} bytes`);try{const o=so.fromSecretKey(n),l=o.publicKey.toBytes(),d=ip(i,o.secretKey);return this.createInstructionWithPublicKey({publicKey:l,message:i,signature:d,instructionIndex:c})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}}nf.programId=new ve("Ed25519SigVerify111111111111111111111111111");const cN=(s,t)=>{const n=rp.sign(s,t);return[n.toCompactRawBytes(),n.recovery]};rp.utils.isValidPrivateKey;const uN=rp.getPublicKey,bb=32,Qh=20,_b=64,lN=11,Jh=Q.struct([Q.u8("numSignatures"),Q.u16("signatureOffset"),Q.u8("signatureInstructionIndex"),Q.u16("ethAddressOffset"),Q.u8("ethAddressInstructionIndex"),Q.u16("messageDataOffset"),Q.u16("messageDataSize"),Q.u8("messageInstructionIndex"),Q.blob(20,"ethAddress"),Q.blob(64,"signature"),Q.u8("recoveryId")]);class ao{constructor(){}static publicKeyToEthAddress(t){bt(t.length===_b,`Public key must be ${_b} bytes but received ${t.length} bytes`);try{return Ce.Buffer.from(tb(nt(t))).slice(-Qh)}catch(n){throw new Error(`Error constructing Ethereum address: ${n}`)}}static createInstructionWithPublicKey(t){const{publicKey:n,message:i,signature:c,recoveryId:o,instructionIndex:l}=t;return ao.createInstructionWithEthAddress({ethAddress:ao.publicKeyToEthAddress(n),message:i,signature:c,recoveryId:o,instructionIndex:l})}static createInstructionWithEthAddress(t){const{ethAddress:n,message:i,signature:c,recoveryId:o,instructionIndex:l=0}=t;let d;typeof n=="string"?n.startsWith("0x")?d=Ce.Buffer.from(n.substr(2),"hex"):d=Ce.Buffer.from(n,"hex"):d=n,bt(d.length===Qh,`Address must be ${Qh} bytes but received ${d.length} bytes`);const y=1+lN,_=y,E=y+d.length,C=E+c.length+1,I=1,R=Ce.Buffer.alloc(Jh.span+i.length);return Jh.encode({numSignatures:I,signatureOffset:E,signatureInstructionIndex:l,ethAddressOffset:_,ethAddressInstructionIndex:l,messageDataOffset:C,messageDataSize:i.length,messageInstructionIndex:l,signature:nt(c),ethAddress:nt(d),recoveryId:o},R),R.fill(nt(i),Jh.span),new xt({keys:[],programId:ao.programId,data:R})}static createInstructionWithPrivateKey(t){const{privateKey:n,message:i,instructionIndex:c}=t;bt(n.length===bb,`Private key must be ${bb} bytes but received ${n.length} bytes`);try{const o=nt(n),l=uN(o,!1).slice(1),d=Ce.Buffer.from(tb(nt(i))),[y,_]=cN(d,o);return this.createInstructionWithPublicKey({publicKey:l,message:i,signature:y,recoveryId:_,instructionIndex:c})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}}ao.programId=new ve("KeccakSecp256k11111111111111111111111111111");var kw;const Iw=new ve("StakeConfig11111111111111111111111111111111");class Cw{constructor(t,n){this.staker=void 0,this.withdrawer=void 0,this.staker=t,this.withdrawer=n}}class Hc{constructor(t,n,i){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=n,this.custodian=i}}kw=Hc;Hc.default=new kw(0,0,ve.default);class fN{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const i=Q.u32("instruction").decode(t.data);let c;for(const[o,l]of Object.entries(An))if(l.index==i){c=o;break}if(!c)throw new Error("Instruction type incorrect; not a StakeInstruction");return c}static decodeInitialize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{authorized:n,lockup:i}=Et(An.Initialize,t.data);return{stakePubkey:t.keys[0].pubkey,authorized:new Cw(new ve(n.staker),new ve(n.withdrawer)),lockup:new Hc(i.unixTimestamp,i.epoch,new ve(i.custodian))}}static decodeDelegate(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,6),Et(An.Delegate,t.data),{stakePubkey:t.keys[0].pubkey,votePubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[5].pubkey}}static decodeAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{newAuthorized:n,stakeAuthorizationType:i}=Et(An.Authorize,t.data),c={stakePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey,newAuthorizedPubkey:new ve(n),stakeAuthorizationType:{index:i}};return t.keys.length>3&&(c.custodianPubkey=t.keys[3].pubkey),c}static decodeAuthorizeWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{newAuthorized:n,stakeAuthorizationType:i,authoritySeed:c,authorityOwner:o}=Et(An.AuthorizeWithSeed,t.data),l={stakePubkey:t.keys[0].pubkey,authorityBase:t.keys[1].pubkey,authoritySeed:c,authorityOwner:new ve(o),newAuthorizedPubkey:new ve(n),stakeAuthorizationType:{index:i}};return t.keys.length>3&&(l.custodianPubkey=t.keys[3].pubkey),l}static decodeSplit(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{lamports:n}=Et(An.Split,t.data);return{stakePubkey:t.keys[0].pubkey,splitStakePubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[2].pubkey,lamports:n}}static decodeMerge(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),Et(An.Merge,t.data),{stakePubkey:t.keys[0].pubkey,sourceStakePubKey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey}}static decodeWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,5);const{lamports:n}=Et(An.Withdraw,t.data),i={stakePubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey,lamports:n};return t.keys.length>5&&(i.custodianPubkey=t.keys[5].pubkey),i}static decodeDeactivate(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),Et(An.Deactivate,t.data),{stakePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey}}static checkProgramId(t){if(!t.equals(rf.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(t,n){if(t.length<n)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${n}`)}}const An=Object.freeze({Initialize:{index:0,layout:Q.struct([Q.u32("instruction"),yT(),gT()])},Authorize:{index:1,layout:Q.struct([Q.u32("instruction"),ot("newAuthorized"),Q.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:Q.struct([Q.u32("instruction")])},Split:{index:3,layout:Q.struct([Q.u32("instruction"),Q.ns64("lamports")])},Withdraw:{index:4,layout:Q.struct([Q.u32("instruction"),Q.ns64("lamports")])},Deactivate:{index:5,layout:Q.struct([Q.u32("instruction")])},Merge:{index:7,layout:Q.struct([Q.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:Q.struct([Q.u32("instruction"),ot("newAuthorized"),Q.u32("stakeAuthorizationType"),Zs("authoritySeed"),ot("authorityOwner")])}}),dN=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class rf{constructor(){}static initialize(t){const{stakePubkey:n,authorized:i,lockup:c}=t,o=c||Hc.default,l=An.Initialize,d=ht(l,{authorized:{staker:nt(i.staker.toBuffer()),withdrawer:nt(i.withdrawer.toBuffer())},lockup:{unixTimestamp:o.unixTimestamp,epoch:o.epoch,custodian:nt(o.custodian.toBuffer())}}),y={keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:fo,isSigner:!1,isWritable:!1}],programId:this.programId,data:d};return new xt(y)}static createAccountWithSeed(t){const n=new mt;n.add(hn.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:this.space,programId:this.programId}));const{stakePubkey:i,authorized:c,lockup:o}=t;return n.add(this.initialize({stakePubkey:i,authorized:c,lockup:o}))}static createAccount(t){const n=new mt;n.add(hn.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,lamports:t.lamports,space:this.space,programId:this.programId}));const{stakePubkey:i,authorized:c,lockup:o}=t;return n.add(this.initialize({stakePubkey:i,authorized:c,lockup:o}))}static delegate(t){const{stakePubkey:n,authorizedPubkey:i,votePubkey:c}=t,o=An.Delegate,l=ht(o);return new mt().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:Pr,isSigner:!1,isWritable:!1},{pubkey:Sl,isSigner:!1,isWritable:!1},{pubkey:Iw,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:l})}static authorize(t){const{stakePubkey:n,authorizedPubkey:i,newAuthorizedPubkey:c,stakeAuthorizationType:o,custodianPubkey:l}=t,d=An.Authorize,y=ht(d,{newAuthorized:nt(c.toBuffer()),stakeAuthorizationType:o.index}),_=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Pr,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1}];return l&&_.push({pubkey:l,isSigner:!0,isWritable:!1}),new mt().add({keys:_,programId:this.programId,data:y})}static authorizeWithSeed(t){const{stakePubkey:n,authorityBase:i,authoritySeed:c,authorityOwner:o,newAuthorizedPubkey:l,stakeAuthorizationType:d,custodianPubkey:y}=t,_=An.AuthorizeWithSeed,E=ht(_,{newAuthorized:nt(l.toBuffer()),stakeAuthorizationType:d.index,authoritySeed:c,authorityOwner:nt(o.toBuffer())}),C=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:Pr,isSigner:!1,isWritable:!1}];return y&&C.push({pubkey:y,isSigner:!0,isWritable:!1}),new mt().add({keys:C,programId:this.programId,data:E})}static splitInstruction(t){const{stakePubkey:n,authorizedPubkey:i,splitStakePubkey:c,lamports:o}=t,l=An.Split,d=ht(l,{lamports:o});return new xt({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:d})}static split(t,n){const i=new mt;return i.add(hn.createAccount({fromPubkey:t.authorizedPubkey,newAccountPubkey:t.splitStakePubkey,lamports:n,space:this.space,programId:this.programId})),i.add(this.splitInstruction(t))}static splitWithSeed(t,n){const{stakePubkey:i,authorizedPubkey:c,splitStakePubkey:o,basePubkey:l,seed:d,lamports:y}=t,_=new mt;return _.add(hn.allocate({accountPubkey:o,basePubkey:l,seed:d,space:this.space,programId:this.programId})),n&&n>0&&_.add(hn.transfer({fromPubkey:t.authorizedPubkey,toPubkey:o,lamports:n})),_.add(this.splitInstruction({stakePubkey:i,authorizedPubkey:c,splitStakePubkey:o,lamports:y}))}static merge(t){const{stakePubkey:n,sourceStakePubKey:i,authorizedPubkey:c}=t,o=An.Merge,l=ht(o);return new mt().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:Pr,isSigner:!1,isWritable:!1},{pubkey:Sl,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!0,isWritable:!1}],programId:this.programId,data:l})}static withdraw(t){const{stakePubkey:n,authorizedPubkey:i,toPubkey:c,lamports:o,custodianPubkey:l}=t,d=An.Withdraw,y=ht(d,{lamports:o}),_=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:Pr,isSigner:!1,isWritable:!1},{pubkey:Sl,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}];return l&&_.push({pubkey:l,isSigner:!0,isWritable:!1}),new mt().add({keys:_,programId:this.programId,data:y})}static deactivate(t){const{stakePubkey:n,authorizedPubkey:i}=t,c=An.Deactivate,o=ht(c);return new mt().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Pr,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}}rf.programId=new ve("Stake11111111111111111111111111111111111111");rf.space=200;class Bw{constructor(t,n,i,c){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=t,this.authorizedVoter=n,this.authorizedWithdrawer=i,this.commission=c}}class hN{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const i=Q.u32("instruction").decode(t.data);let c;for(const[o,l]of Object.entries(Gr))if(l.index==i){c=o;break}if(!c)throw new Error("Instruction type incorrect; not a VoteInstruction");return c}static decodeInitializeAccount(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,4);const{voteInit:n}=Et(Gr.InitializeAccount,t.data);return{votePubkey:t.keys[0].pubkey,nodePubkey:t.keys[3].pubkey,voteInit:new Bw(new ve(n.nodePubkey),new ve(n.authorizedVoter),new ve(n.authorizedWithdrawer),n.commission)}}static decodeAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{newAuthorized:n,voteAuthorizationType:i}=Et(Gr.Authorize,t.data);return{votePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey,newAuthorizedPubkey:new ve(n),voteAuthorizationType:{index:i}}}static decodeAuthorizeWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:i,newAuthorized:c,voteAuthorizationType:o}}=Et(Gr.AuthorizeWithSeed,t.data);return{currentAuthorityDerivedKeyBasePubkey:t.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new ve(n),currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:new ve(c),voteAuthorizationType:{index:o},votePubkey:t.keys[0].pubkey}}static decodeWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{lamports:n}=Et(Gr.Withdraw,t.data);return{votePubkey:t.keys[0].pubkey,authorizedWithdrawerPubkey:t.keys[2].pubkey,lamports:n,toPubkey:t.keys[1].pubkey}}static checkProgramId(t){if(!t.equals(_o.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(t,n){if(t.length<n)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${n}`)}}const Gr=Object.freeze({InitializeAccount:{index:0,layout:Q.struct([Q.u32("instruction"),bT()])},Authorize:{index:1,layout:Q.struct([Q.u32("instruction"),ot("newAuthorized"),Q.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:Q.struct([Q.u32("instruction"),Q.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:Q.struct([Q.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:Q.struct([Q.u32("instruction"),_T()])}}),pN=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class _o{constructor(){}static initializeAccount(t){const{votePubkey:n,nodePubkey:i,voteInit:c}=t,o=Gr.InitializeAccount,l=ht(o,{voteInit:{nodePubkey:nt(c.nodePubkey.toBuffer()),authorizedVoter:nt(c.authorizedVoter.toBuffer()),authorizedWithdrawer:nt(c.authorizedWithdrawer.toBuffer()),commission:c.commission}}),d={keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:fo,isSigner:!1,isWritable:!1},{pubkey:Pr,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:l};return new xt(d)}static createAccount(t){const n=new mt;return n.add(hn.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.votePubkey,lamports:t.lamports,space:this.space,programId:this.programId})),n.add(this.initializeAccount({votePubkey:t.votePubkey,nodePubkey:t.voteInit.nodePubkey,voteInit:t.voteInit}))}static authorize(t){const{votePubkey:n,authorizedPubkey:i,newAuthorizedPubkey:c,voteAuthorizationType:o}=t,l=Gr.Authorize,d=ht(l,{newAuthorized:nt(c.toBuffer()),voteAuthorizationType:o.index}),y=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Pr,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}];return new mt().add({keys:y,programId:this.programId,data:d})}static authorizeWithSeed(t){const{currentAuthorityDerivedKeyBasePubkey:n,currentAuthorityDerivedKeyOwnerPubkey:i,currentAuthorityDerivedKeySeed:c,newAuthorizedPubkey:o,voteAuthorizationType:l,votePubkey:d}=t,y=Gr.AuthorizeWithSeed,_=ht(y,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:nt(i.toBuffer()),currentAuthorityDerivedKeySeed:c,newAuthorized:nt(o.toBuffer()),voteAuthorizationType:l.index}}),E=[{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:Pr,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new mt().add({keys:E,programId:this.programId,data:_})}static withdraw(t){const{votePubkey:n,authorizedWithdrawerPubkey:i,lamports:c,toPubkey:o}=t,l=Gr.Withdraw,d=ht(l,{lamports:c}),y=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1}];return new mt().add({keys:y,programId:this.programId,data:d})}static safeWithdraw(t,n,i){if(t.lamports>n-i)throw new Error("Withdraw will leave vote account with insufficient funds.");return _o.withdraw(t)}static updateValidatorIdentity(t){const{votePubkey:n,authorizedWithdrawerPubkey:i,nodePubkey:c}=t,o=Gr.UpdateValidatorIdentity,l=ht(o),d=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!0,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}];return new mt().add({keys:d,programId:this.programId,data:l})}}_o.programId=new ve("Vote111111111111111111111111111111111111111");_o.space=3762;const Mw=new ve("Va1idator1nfo111111111111111111111111111111"),mN=Se({name:Ae(),website:Pe(Ae()),details:Pe(Ae()),iconUrl:Pe(Ae()),keybaseUsername:Pe(Ae())});class gp{constructor(t,n){this.key=void 0,this.info=void 0,this.key=t,this.info=n}static fromConfigData(t){let n=[...t];if(Yn(n)!==2)return null;const c=[];for(let o=0;o<2;o++){const l=new ve(Zn(n,0,Yr)),d=Kr(n)===1;c.push({publicKey:l,isSigner:d})}if(c[0].publicKey.equals(Mw)&&c[1].isSigner){const o=Zs().decode(Ce.Buffer.from(n)),l=JSON.parse(o);return Y_(l,mN),new gp(c[1].publicKey,l)}return null}}const yN=new ve("Vote111111111111111111111111111111111111111"),gN=Q.struct([ot("nodePubkey"),ot("authorizedWithdrawer"),Q.u8("commission"),Q.nu64(),Q.seq(Q.struct([Q.nu64("slot"),Q.u32("confirmationCount")]),Q.offset(Q.u32(),-8),"votes"),Q.u8("rootSlotValid"),Q.nu64("rootSlot"),Q.nu64(),Q.seq(Q.struct([Q.nu64("epoch"),ot("authorizedVoter")]),Q.offset(Q.u32(),-8),"authorizedVoters"),Q.struct([Q.seq(Q.struct([ot("authorizedPubkey"),Q.nu64("epochOfLastAuthorizedSwitch"),Q.nu64("targetEpoch")]),32,"buf"),Q.nu64("idx"),Q.u8("isEmpty")],"priorVoters"),Q.nu64(),Q.seq(Q.struct([Q.nu64("epoch"),Q.nu64("credits"),Q.nu64("prevCredits")]),Q.offset(Q.u32(),-8),"epochCredits"),Q.struct([Q.nu64("slot"),Q.nu64("timestamp")],"lastTimestamp")]);class bp{constructor(t){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=t.nodePubkey,this.authorizedWithdrawer=t.authorizedWithdrawer,this.commission=t.commission,this.rootSlot=t.rootSlot,this.votes=t.votes,this.authorizedVoters=t.authorizedVoters,this.priorVoters=t.priorVoters,this.epochCredits=t.epochCredits,this.lastTimestamp=t.lastTimestamp}static fromAccountData(t){const i=gN.decode(nt(t),4);let c=i.rootSlot;return i.rootSlotValid||(c=null),new bp({nodePubkey:new ve(i.nodePubkey),authorizedWithdrawer:new ve(i.authorizedWithdrawer),commission:i.commission,votes:i.votes,rootSlot:c,authorizedVoters:i.authorizedVoters.map(bN),priorVoters:_N(i.priorVoters),epochCredits:i.epochCredits,lastTimestamp:i.lastTimestamp})}}function bN({authorizedVoter:s,epoch:t}){return{epoch:t,authorizedVoter:new ve(s)}}function wb({authorizedPubkey:s,epochOfLastAuthorizedSwitch:t,targetEpoch:n}){return{authorizedPubkey:new ve(s),epochOfLastAuthorizedSwitch:t,targetEpoch:n}}function _N({buf:s,idx:t,isEmpty:n}){return n?[]:[...s.slice(t+1).map(wb),...s.slice(0,t).map(wb)]}const vb={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function Uw(s,t){const n=t===!1?"http":"https";if(!s)return vb[n].devnet;const i=vb[n][s];if(!i)throw new Error(`Unknown ${n} cluster: ${s}`);return i}async function wN(s,t,n,i){let c,o;n&&Object.prototype.hasOwnProperty.call(n,"lastValidBlockHeight")||n&&Object.prototype.hasOwnProperty.call(n,"nonceValue")?(c=n,o=i):o=n;const l=o&&{skipPreflight:o.skipPreflight,preflightCommitment:o.preflightCommitment||o.commitment,minContextSlot:o.minContextSlot},d=await s.sendRawTransaction(t,l),y=o&&o.commitment,E=(await(c?s.confirmTransaction(c,y):s.confirmTransaction(d,y))).value;if(E.err)throw d!=null?new bs({action:l?.skipPreflight?"send":"simulate",signature:d,transactionMessage:`Status: (${JSON.stringify(E)})`}):new Error(`Raw transaction ${d} failed (${JSON.stringify(E)})`);return d}const O0=1e9,vN=Object.freeze(Object.defineProperty({__proto__:null,Account:hT,AddressLookupTableAccount:A0,AddressLookupTableInstruction:aN,AddressLookupTableProgram:mp,Authorized:Cw,BLOCKHASH_CACHE_TIMEOUT_MS:ww,BPF_LOADER_DEPRECATED_PROGRAM_ID:pT,BPF_LOADER_PROGRAM_ID:CT,BpfLoader:BT,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:Vr,ComputeBudgetInstruction:oN,ComputeBudgetProgram:yp,Connection:pp,Ed25519Program:nf,Enum:fT,EpochSchedule:bw,FeeCalculatorLayout:yw,Keypair:so,LAMPORTS_PER_SOL:O0,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Ai,Loader:ea,Lockup:Hc,MAX_SEED_LENGTH:dw,Message:Nr,MessageAccountKeys:Oc,MessageV0:Js,NONCE_ACCOUNT_LENGTH:S0,NonceAccount:Jl,PACKET_DATA_SIZE:ps,PUBLIC_KEY_LENGTH:Yr,PublicKey:ve,SIGNATURE_LENGTH_IN_BYTES:Tc,SOLANA_SCHEMA:vc,STAKE_CONFIG_ID:Iw,STAKE_INSTRUCTION_LAYOUTS:An,SYSTEM_INSTRUCTION_LAYOUTS:Mt,SYSVAR_CLOCK_PUBKEY:Pr,SYSVAR_EPOCH_SCHEDULE_PUBKEY:AT,SYSVAR_INSTRUCTIONS_PUBKEY:RT,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:El,SYSVAR_RENT_PUBKEY:fo,SYSVAR_REWARDS_PUBKEY:xT,SYSVAR_SLOT_HASHES_PUBKEY:TT,SYSVAR_SLOT_HISTORY_PUBKEY:OT,SYSVAR_STAKE_HISTORY_PUBKEY:Sl,Secp256k1Program:ao,SendTransactionError:bs,SolanaJSONRPCError:Le,SolanaJSONRPCErrorCode:NT,StakeAuthorizationLayout:dN,StakeInstruction:fN,StakeProgram:rf,Struct:sp,SystemInstruction:kT,SystemProgram:hn,Transaction:mt,TransactionExpiredBlockheightExceededError:ap,TransactionExpiredNonceInvalidError:eo,TransactionExpiredTimeoutError:op,TransactionInstruction:xt,TransactionMessage:up,TransactionStatus:wi,VALIDATOR_INFO_KEY:Mw,VERSION_PREFIX_MASK:Wl,VOTE_PROGRAM_ID:yN,ValidatorInfo:gp,VersionedMessage:cp,VersionedTransaction:lp,VoteAccount:bp,VoteAuthorizationLayout:pN,VoteInit:Bw,VoteInstruction:hN,VoteProgram:_o,clusterApiUrl:Uw,sendAndConfirmRawTransaction:wN,sendAndConfirmTransaction:E0},Symbol.toStringTag,{value:"Module"}));function EN(s){if(s.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let _=0;_<t.length;_++)t[_]=255;for(let _=0;_<s.length;_++){const E=s.charAt(_),C=E.charCodeAt(0);if(t[C]!==255)throw new TypeError(E+" is ambiguous");t[C]=_}const n=s.length,i=s.charAt(0),c=Math.log(n)/Math.log(256),o=Math.log(256)/Math.log(n);function l(_){if(_ instanceof Uint8Array||(ArrayBuffer.isView(_)?_=new Uint8Array(_.buffer,_.byteOffset,_.byteLength):Array.isArray(_)&&(_=Uint8Array.from(_))),!(_ instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(_.length===0)return"";let E=0,C=0,I=0;const R=_.length;for(;I!==R&&_[I]===0;)I++,E++;const M=(R-I)*o+1>>>0,U=new Uint8Array(M);for(;I!==R;){let F=_[I],V=0;for(let W=M-1;(F!==0||V<C)&&W!==-1;W--,V++)F+=256*U[W]>>>0,U[W]=F%n>>>0,F=F/n>>>0;if(F!==0)throw new Error("Non-zero carry");C=V,I++}let D=M-C;for(;D!==M&&U[D]===0;)D++;let j=i.repeat(E);for(;D<M;++D)j+=s.charAt(U[D]);return j}function d(_){if(typeof _!="string")throw new TypeError("Expected String");if(_.length===0)return new Uint8Array;let E=0,C=0,I=0;for(;_[E]===i;)C++,E++;const R=(_.length-E)*c+1>>>0,M=new Uint8Array(R);for(;E<_.length;){const F=_.charCodeAt(E);if(F>255)return;let V=t[F];if(V===255)return;let W=0;for(let re=R-1;(V!==0||W<I)&&re!==-1;re--,W++)V+=n*M[re]>>>0,M[re]=V%256>>>0,V=V/256>>>0;if(V!==0)throw new Error("Non-zero carry");I=W,E++}let U=R-I;for(;U!==R&&M[U]===0;)U++;const D=new Uint8Array(C+(R-U));let j=C;for(;U!==R;)D[j++]=M[U++];return D}function y(_){const E=d(_);if(E)return E;throw new Error("Non-base"+n+" character")}return{encode:l,decodeUnsafe:d,decode:y}}var SN="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const AN=EN(SN);var e0,Eb;function RN(){if(Eb)return e0;Eb=1;var s=$0().Buffer;function t(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var i=new Uint8Array(256),c=0;c<i.length;c++)i[c]=255;for(var o=0;o<n.length;o++){var l=n.charAt(o),d=l.charCodeAt(0);if(i[d]!==255)throw new TypeError(l+" is ambiguous");i[d]=o}var y=n.length,_=n.charAt(0),E=Math.log(y)/Math.log(256),C=Math.log(256)/Math.log(y);function I(U){if((Array.isArray(U)||U instanceof Uint8Array)&&(U=s.from(U)),!s.isBuffer(U))throw new TypeError("Expected Buffer");if(U.length===0)return"";for(var D=0,j=0,F=0,V=U.length;F!==V&&U[F]===0;)F++,D++;for(var W=(V-F)*C+1>>>0,re=new Uint8Array(W);F!==V;){for(var oe=U[F],ie=0,le=W-1;(oe!==0||ie<j)&&le!==-1;le--,ie++)oe+=256*re[le]>>>0,re[le]=oe%y>>>0,oe=oe/y>>>0;if(oe!==0)throw new Error("Non-zero carry");j=ie,F++}for(var G=W-j;G!==W&&re[G]===0;)G++;for(var Y=_.repeat(D);G<W;++G)Y+=n.charAt(re[G]);return Y}function R(U){if(typeof U!="string")throw new TypeError("Expected String");if(U.length===0)return s.alloc(0);for(var D=0,j=0,F=0;U[D]===_;)j++,D++;for(var V=(U.length-D)*E+1>>>0,W=new Uint8Array(V);D<U.length;){var re=U.charCodeAt(D);if(re>255)return;var oe=i[re];if(oe===255)return;for(var ie=0,le=V-1;(oe!==0||ie<F)&&le!==-1;le--,ie++)oe+=y*W[le]>>>0,W[le]=oe%256>>>0,oe=oe/256>>>0;if(oe!==0)throw new Error("Non-zero carry");F=ie,D++}for(var G=V-F;G!==V&&W[G]===0;)G++;var Y=s.allocUnsafe(j+(V-G));Y.fill(0,0,j);for(var X=j;G!==V;)Y[X++]=W[G++];return Y}function M(U){var D=R(U);if(D)return D;throw new Error("Non-base"+y+" character")}return{encode:I,decodeUnsafe:R,decode:M}}return e0=t,e0}var t0,Sb;function xN(){if(Sb)return t0;Sb=1;var s=RN(),t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return t0=s(t),t0}var TN=xN();const sf=Ni(TN);var ll={exports:{}},Ab;function ON(){if(Ab)return ll.exports;Ab=1;const s=/[\p{Lu}]/u,t=/[\p{Ll}]/u,n=/^[\p{Lu}](?![\p{Lu}])/gu,i=/([\p{Alpha}\p{N}_]|$)/u,c=/[_.\- ]+/,o=new RegExp("^"+c.source),l=new RegExp(c.source+i.source,"gu"),d=new RegExp("\\d+"+i.source,"gu"),y=(I,R,M)=>{let U=!1,D=!1,j=!1;for(let F=0;F<I.length;F++){const V=I[F];U&&s.test(V)?(I=I.slice(0,F)+"-"+I.slice(F),U=!1,j=D,D=!0,F++):D&&j&&t.test(V)?(I=I.slice(0,F-1)+"-"+I.slice(F-1),j=D,D=!1,U=!0):(U=R(V)===V&&M(V)!==V,j=D,D=M(V)===V&&R(V)!==V)}return I},_=(I,R)=>(n.lastIndex=0,I.replace(n,M=>R(M))),E=(I,R)=>(l.lastIndex=0,d.lastIndex=0,I.replace(l,(M,U)=>R(U)).replace(d,M=>R(M))),C=(I,R)=>{if(!(typeof I=="string"||Array.isArray(I)))throw new TypeError("Expected the input to be `string | string[]`");if(R={pascalCase:!1,preserveConsecutiveUppercase:!1,...R},Array.isArray(I)?I=I.map(j=>j.trim()).filter(j=>j.length).join("-"):I=I.trim(),I.length===0)return"";const M=R.locale===!1?j=>j.toLowerCase():j=>j.toLocaleLowerCase(R.locale),U=R.locale===!1?j=>j.toUpperCase():j=>j.toLocaleUpperCase(R.locale);return I.length===1?R.pascalCase?U(I):M(I):(I!==M(I)&&(I=y(I,M,U)),I=I.replace(o,""),R.preserveConsecutiveUppercase?I=_(I,M):I=M(I),R.pascalCase&&(I=U(I.charAt(0))+I.slice(1)),E(I,U))};return ll.exports=C,ll.exports.default=C,ll.exports}var NN=ON();const kN=Ni(NN);var gc={},Be={},Rb;function xb(){if(Rb)return Be;Rb=1;class s{constructor(v,m){if(!Number.isInteger(v))throw new TypeError("span must be an integer");this.span=v,this.property=m}makeDestinationObject(){return{}}decode(v,m){throw new Error("Layout is abstract")}encode(v,m,f){throw new Error("Layout is abstract")}getSpan(v,m){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(v){const m=Object.create(this.constructor.prototype);return Object.assign(m,this),m.property=v,m}fromArray(v){}}Be.Layout=s;function t(B,v){return v.property?B+"["+v.property+"]":B}Be.nameWithProperty=t;function n(B,v){if(typeof B!="function")throw new TypeError("Class must be constructor");if(B.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(v&&v instanceof s))throw new TypeError("layout must be a Layout");if(v.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");B.layout_=v,v.boundConstructor_=B,v.makeDestinationObject=(()=>new B),Object.defineProperty(B.prototype,"encode",{value:function(m,f){return v.encode(this,m,f)},writable:!0}),Object.defineProperty(B,"decode",{value:function(m,f){return v.decode(m,f)},writable:!0})}Be.bindConstructorLayout=n;class i extends s{isCount(){throw new Error("ExternalLayout is abstract")}}class c extends i{constructor(v,m){if(v===void 0&&(v=1),!Number.isInteger(v)||0>=v)throw new TypeError("elementSpan must be a (positive) integer");super(-1,m),this.elementSpan=v}isCount(){return!0}decode(v,m){m===void 0&&(m=0);const f=v.length-m;return Math.floor(f/this.elementSpan)}encode(v,m,f){return 0}}class o extends i{constructor(v,m,f){if(!(v instanceof s))throw new TypeError("layout must be a Layout");if(m===void 0)m=0;else if(!Number.isInteger(m))throw new TypeError("offset must be integer or undefined");super(v.span,f||v.property),this.layout=v,this.offset=m}isCount(){return this.layout instanceof l||this.layout instanceof d}decode(v,m){return m===void 0&&(m=0),this.layout.decode(v,m+this.offset)}encode(v,m,f){return f===void 0&&(f=0),this.layout.encode(v,m,f+this.offset)}}class l extends s{constructor(v,m){if(super(v,m),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(v,m){return m===void 0&&(m=0),v.readUIntLE(m,this.span)}encode(v,m,f){return f===void 0&&(f=0),m.writeUIntLE(v,f,this.span),this.span}}class d extends s{constructor(v,m){if(super(v,m),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(v,m){return m===void 0&&(m=0),v.readUIntBE(m,this.span)}encode(v,m,f){return f===void 0&&(f=0),m.writeUIntBE(v,f,this.span),this.span}}class y extends s{constructor(v,m){if(super(v,m),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(v,m){return m===void 0&&(m=0),v.readIntLE(m,this.span)}encode(v,m,f){return f===void 0&&(f=0),m.writeIntLE(v,f,this.span),this.span}}class _ extends s{constructor(v,m){if(super(v,m),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(v,m){return m===void 0&&(m=0),v.readIntBE(m,this.span)}encode(v,m,f){return f===void 0&&(f=0),m.writeIntBE(v,f,this.span),this.span}}const E=Math.pow(2,32);function C(B){const v=Math.floor(B/E),m=B-v*E;return{hi32:v,lo32:m}}function I(B,v){return B*E+v}class R extends s{constructor(v){super(8,v)}decode(v,m){m===void 0&&(m=0);const f=v.readUInt32LE(m),b=v.readUInt32LE(m+4);return I(b,f)}encode(v,m,f){f===void 0&&(f=0);const b=C(v);return m.writeUInt32LE(b.lo32,f),m.writeUInt32LE(b.hi32,f+4),8}}class M extends s{constructor(v){super(8,v)}decode(v,m){m===void 0&&(m=0);const f=v.readUInt32BE(m),b=v.readUInt32BE(m+4);return I(f,b)}encode(v,m,f){f===void 0&&(f=0);const b=C(v);return m.writeUInt32BE(b.hi32,f),m.writeUInt32BE(b.lo32,f+4),8}}class U extends s{constructor(v){super(8,v)}decode(v,m){m===void 0&&(m=0);const f=v.readUInt32LE(m),b=v.readInt32LE(m+4);return I(b,f)}encode(v,m,f){f===void 0&&(f=0);const b=C(v);return m.writeUInt32LE(b.lo32,f),m.writeInt32LE(b.hi32,f+4),8}}class D extends s{constructor(v){super(8,v)}decode(v,m){m===void 0&&(m=0);const f=v.readInt32BE(m),b=v.readUInt32BE(m+4);return I(f,b)}encode(v,m,f){f===void 0&&(f=0);const b=C(v);return m.writeInt32BE(b.hi32,f),m.writeUInt32BE(b.lo32,f+4),8}}class j extends s{constructor(v){super(4,v)}decode(v,m){return m===void 0&&(m=0),v.readFloatLE(m)}encode(v,m,f){return f===void 0&&(f=0),m.writeFloatLE(v,f),4}}class F extends s{constructor(v){super(4,v)}decode(v,m){return m===void 0&&(m=0),v.readFloatBE(m)}encode(v,m,f){return f===void 0&&(f=0),m.writeFloatBE(v,f),4}}class V extends s{constructor(v){super(8,v)}decode(v,m){return m===void 0&&(m=0),v.readDoubleLE(m)}encode(v,m,f){return f===void 0&&(f=0),m.writeDoubleLE(v,f),8}}class W extends s{constructor(v){super(8,v)}decode(v,m){return m===void 0&&(m=0),v.readDoubleBE(m)}encode(v,m,f){return f===void 0&&(f=0),m.writeDoubleBE(v,f),8}}class re extends s{constructor(v,m,f){if(!(v instanceof s))throw new TypeError("elementLayout must be a Layout");if(!(m instanceof i&&m.isCount()||Number.isInteger(m)&&0<=m))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let b=-1;!(m instanceof i)&&0<v.span&&(b=m*v.span),super(b,f),this.elementLayout=v,this.count=m}getSpan(v,m){if(0<=this.span)return this.span;m===void 0&&(m=0);let f=0,b=this.count;if(b instanceof i&&(b=b.decode(v,m)),0<this.elementLayout.span)f=b*this.elementLayout.span;else{let O=0;for(;O<b;)f+=this.elementLayout.getSpan(v,m+f),++O}return f}decode(v,m){m===void 0&&(m=0);const f=[];let b=0,O=this.count;for(O instanceof i&&(O=O.decode(v,m));b<O;)f.push(this.elementLayout.decode(v,m)),m+=this.elementLayout.getSpan(v,m),b+=1;return f}encode(v,m,f){f===void 0&&(f=0);const b=this.elementLayout,O=v.reduce((z,Z)=>z+b.encode(Z,m,f+z),0);return this.count instanceof i&&this.count.encode(v.length,m,f),O}}class oe extends s{constructor(v,m,f){if(!(Array.isArray(v)&&v.reduce((O,z)=>O&&z instanceof s,!0)))throw new TypeError("fields must be array of Layout instances");typeof m=="boolean"&&f===void 0&&(f=m,m=void 0);for(const O of v)if(0>O.span&&O.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let b=-1;try{b=v.reduce((O,z)=>O+z.getSpan(),0)}catch{}super(b,m),this.fields=v,this.decodePrefixes=!!f}getSpan(v,m){if(0<=this.span)return this.span;m===void 0&&(m=0);let f=0;try{f=this.fields.reduce((b,O)=>{const z=O.getSpan(v,m);return m+=z,b+z},0)}catch{throw new RangeError("indeterminate span")}return f}decode(v,m){m===void 0&&(m=0);const f=this.makeDestinationObject();for(const b of this.fields)if(b.property!==void 0&&(f[b.property]=b.decode(v,m)),m+=b.getSpan(v,m),this.decodePrefixes&&v.length===m)break;return f}encode(v,m,f){f===void 0&&(f=0);const b=f;let O=0,z=0;for(const Z of this.fields){let ne=Z.span;if(z=0<ne?ne:0,Z.property!==void 0){const se=v[Z.property];se!==void 0&&(z=Z.encode(se,m,f),0>ne&&(ne=Z.getSpan(m,f)))}O=f,f+=ne}return O+z-b}fromArray(v){const m=this.makeDestinationObject();for(const f of this.fields)f.property!==void 0&&0<v.length&&(m[f.property]=v.shift());return m}layoutFor(v){if(typeof v!="string")throw new TypeError("property must be string");for(const m of this.fields)if(m.property===v)return m}offsetOf(v){if(typeof v!="string")throw new TypeError("property must be string");let m=0;for(const f of this.fields){if(f.property===v)return m;0>f.span?m=-1:0<=m&&(m+=f.span)}}}class ie{constructor(v){this.property=v}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class le extends ie{constructor(v,m){if(!(v instanceof i&&v.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(m||v.property||"variant"),this.layout=v}decode(v,m){return this.layout.decode(v,m)}encode(v,m,f){return this.layout.encode(v,m,f)}}class G extends s{constructor(v,m,f){const b=v instanceof l||v instanceof d;if(b)v=new le(new o(v));else if(v instanceof i&&v.isCount())v=new le(v);else if(!(v instanceof ie))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(m===void 0&&(m=null),!(m===null||m instanceof s))throw new TypeError("defaultLayout must be null or a Layout");if(m!==null){if(0>m.span)throw new Error("defaultLayout must have constant span");m.property===void 0&&(m=m.replicate("content"))}let O=-1;m&&(O=m.span,0<=O&&b&&(O+=v.layout.span)),super(O,f),this.discriminator=v,this.usesPrefixDiscriminator=b,this.defaultLayout=m,this.registry={};let z=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(Z){return z(Z)},this.configGetSourceVariant=function(Z){z=Z.bind(this)}}getSpan(v,m){if(0<=this.span)return this.span;m===void 0&&(m=0);const f=this.getVariant(v,m);if(!f)throw new Error("unable to determine span for unrecognized variant");return f.getSpan(v,m)}defaultGetSourceVariant(v){if(v.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&v.hasOwnProperty(this.defaultLayout.property))return;const m=this.registry[v[this.discriminator.property]];if(m&&(!m.layout||v.hasOwnProperty(m.property)))return m}else for(const m in this.registry){const f=this.registry[m];if(v.hasOwnProperty(f.property))return f}throw new Error("unable to infer src variant")}decode(v,m){m===void 0&&(m=0);let f;const b=this.discriminator,O=b.decode(v,m);let z=this.registry[O];if(z===void 0){let Z=0;z=this.defaultLayout,this.usesPrefixDiscriminator&&(Z=b.layout.span),f=this.makeDestinationObject(),f[b.property]=O,f[z.property]=this.defaultLayout.decode(v,m+Z)}else f=z.decode(v,m);return f}encode(v,m,f){f===void 0&&(f=0);const b=this.getSourceVariant(v);if(b===void 0){const O=this.discriminator,z=this.defaultLayout;let Z=0;return this.usesPrefixDiscriminator&&(Z=O.layout.span),O.encode(v[O.property],m,f),Z+z.encode(v[z.property],m,f+Z)}return b.encode(v,m,f)}addVariant(v,m,f){const b=new Y(this,v,m,f);return this.registry[v]=b,b}getVariant(v,m){let f=v;return Buffer.isBuffer(v)&&(m===void 0&&(m=0),f=this.discriminator.decode(v,m)),this.registry[f]}}class Y extends s{constructor(v,m,f,b){if(!(v instanceof G))throw new TypeError("union must be a Union");if(!Number.isInteger(m)||0>m)throw new TypeError("variant must be a (non-negative) integer");if(typeof f=="string"&&b===void 0&&(b=f,f=null),f){if(!(f instanceof s))throw new TypeError("layout must be a Layout");if(v.defaultLayout!==null&&0<=f.span&&f.span>v.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof b!="string")throw new TypeError("variant must have a String property")}let O=v.span;0>v.span&&(O=f?f.span:0,0<=O&&v.usesPrefixDiscriminator&&(O+=v.discriminator.layout.span)),super(O,b),this.union=v,this.variant=m,this.layout=f||null}getSpan(v,m){if(0<=this.span)return this.span;m===void 0&&(m=0);let f=0;return this.union.usesPrefixDiscriminator&&(f=this.union.discriminator.layout.span),f+this.layout.getSpan(v,m+f)}decode(v,m){const f=this.makeDestinationObject();if(m===void 0&&(m=0),this!==this.union.getVariant(v,m))throw new Error("variant mismatch");let b=0;return this.union.usesPrefixDiscriminator&&(b=this.union.discriminator.layout.span),this.layout?f[this.property]=this.layout.decode(v,m+b):this.property?f[this.property]=!0:this.union.usesPrefixDiscriminator&&(f[this.union.discriminator.property]=this.variant),f}encode(v,m,f){f===void 0&&(f=0);let b=0;if(this.union.usesPrefixDiscriminator&&(b=this.union.discriminator.layout.span),this.layout&&!v.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,m,f);let O=b;if(this.layout&&(this.layout.encode(v[this.property],m,f+b),O+=this.layout.getSpan(m,f+b),0<=this.union.span&&O>this.union.span))throw new Error("encoded variant overruns containing union");return O}fromArray(v){if(this.layout)return this.layout.fromArray(v)}}function X(B){return 0>B&&(B+=4294967296),B}class $ extends s{constructor(v,m,f){if(!(v instanceof l||v instanceof d))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof m=="string"&&f===void 0&&(f=m,m=void 0),4<v.span)throw new RangeError("word cannot exceed 32 bits");super(v.span,f),this.word=v,this.msb=!!m,this.fields=[];let b=0;this._packedSetValue=function(O){return b=X(O),this},this._packedGetValue=function(){return b}}decode(v,m){const f=this.makeDestinationObject();m===void 0&&(m=0);const b=this.word.decode(v,m);this._packedSetValue(b);for(const O of this.fields)O.property!==void 0&&(f[O.property]=O.decode(b));return f}encode(v,m,f){f===void 0&&(f=0);const b=this.word.decode(m,f);this._packedSetValue(b);for(const O of this.fields)if(O.property!==void 0){const z=v[O.property];z!==void 0&&O.encode(z)}return this.word.encode(this._packedGetValue(),m,f)}addField(v,m){const f=new x(this,v,m);return this.fields.push(f),f}addBoolean(v){const m=new h(this,v);return this.fields.push(m),m}fieldFor(v){if(typeof v!="string")throw new TypeError("property must be string");for(const m of this.fields)if(m.property===v)return m}}class x{constructor(v,m,f){if(!(v instanceof $))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(m)||0>=m)throw new TypeError("bits must be positive integer");const b=8*v.span,O=v.fields.reduce((z,Z)=>z+Z.bits,0);if(m+O>b)throw new Error("bits too long for span remainder ("+(b-O)+" of "+b+" remain)");this.container=v,this.bits=m,this.valueMask=(1<<m)-1,m===32&&(this.valueMask=4294967295),this.start=O,this.container.msb&&(this.start=b-O-m),this.wordMask=X(this.valueMask<<this.start),this.property=f}decode(){const v=this.container._packedGetValue();return X(v&this.wordMask)>>>this.start}encode(v){if(!Number.isInteger(v)||v!==X(v&this.valueMask))throw new TypeError(t("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const m=this.container._packedGetValue(),f=X(v<<this.start);this.container._packedSetValue(X(m&~this.wordMask)|f)}}class h extends x{constructor(v,m){super(v,1,m)}decode(v,m){return!!x.prototype.decode.call(this,v,m)}encode(v){return typeof v=="boolean"&&(v=+v),x.prototype.encode.call(this,v)}}class w extends s{constructor(v,m){if(!(v instanceof i&&v.isCount()||Number.isInteger(v)&&0<=v))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let f=-1;v instanceof i||(f=v),super(f,m),this.length=v}getSpan(v,m){let f=this.span;return 0>f&&(f=this.length.decode(v,m)),f}decode(v,m){m===void 0&&(m=0);let f=this.span;return 0>f&&(f=this.length.decode(v,m)),v.slice(m,m+f)}encode(v,m,f){let b=this.length;if(this.length instanceof i&&(b=v.length),!(Buffer.isBuffer(v)&&b===v.length))throw new TypeError(t("Blob.encode",this)+" requires (length "+b+") Buffer as src");if(f+b>m.length)throw new RangeError("encoding overruns Buffer");return m.write(v.toString("hex"),f,b,"hex"),this.length instanceof i&&this.length.encode(b,m,f),b}}class S extends s{constructor(v){super(-1,v)}getSpan(v,m){if(!Buffer.isBuffer(v))throw new TypeError("b must be a Buffer");m===void 0&&(m=0);let f=m;for(;f<v.length&&v[f]!==0;)f+=1;return 1+f-m}decode(v,m,f){m===void 0&&(m=0);let b=this.getSpan(v,m);return v.slice(m,m+b-1).toString("utf-8")}encode(v,m,f){f===void 0&&(f=0),typeof v!="string"&&(v=v.toString());const b=new Buffer(v,"utf8"),O=b.length;if(f+O>m.length)throw new RangeError("encoding overruns Buffer");return b.copy(m,f),m[f+O]=0,O+1}}class N extends s{constructor(v,m){if(typeof v=="string"&&m===void 0&&(m=v,v=void 0),v===void 0)v=-1;else if(!Number.isInteger(v))throw new TypeError("maxSpan must be an integer");super(-1,m),this.maxSpan=v}getSpan(v,m){if(!Buffer.isBuffer(v))throw new TypeError("b must be a Buffer");return m===void 0&&(m=0),v.length-m}decode(v,m,f){m===void 0&&(m=0);let b=this.getSpan(v,m);if(0<=this.maxSpan&&this.maxSpan<b)throw new RangeError("text length exceeds maxSpan");return v.slice(m,m+b).toString("utf-8")}encode(v,m,f){f===void 0&&(f=0),typeof v!="string"&&(v=v.toString());const b=new Buffer(v,"utf8"),O=b.length;if(0<=this.maxSpan&&this.maxSpan<O)throw new RangeError("text length exceeds maxSpan");if(f+O>m.length)throw new RangeError("encoding overruns Buffer");return b.copy(m,f),O}}class L extends s{constructor(v,m){super(0,m),this.value=v}decode(v,m,f){return this.value}encode(v,m,f){return 0}}return Be.ExternalLayout=i,Be.GreedyCount=c,Be.OffsetLayout=o,Be.UInt=l,Be.UIntBE=d,Be.Int=y,Be.IntBE=_,Be.Float=j,Be.FloatBE=F,Be.Double=V,Be.DoubleBE=W,Be.Sequence=re,Be.Structure=oe,Be.UnionDiscriminator=ie,Be.UnionLayoutDiscriminator=le,Be.Union=G,Be.VariantLayout=Y,Be.BitStructure=$,Be.BitField=x,Be.Boolean=h,Be.Blob=w,Be.CString=S,Be.UTF8=N,Be.Constant=L,Be.greedy=((B,v)=>new c(B,v)),Be.offset=((B,v,m)=>new o(B,v,m)),Be.u8=(B=>new l(1,B)),Be.u16=(B=>new l(2,B)),Be.u24=(B=>new l(3,B)),Be.u32=(B=>new l(4,B)),Be.u40=(B=>new l(5,B)),Be.u48=(B=>new l(6,B)),Be.nu64=(B=>new R(B)),Be.u16be=(B=>new d(2,B)),Be.u24be=(B=>new d(3,B)),Be.u32be=(B=>new d(4,B)),Be.u40be=(B=>new d(5,B)),Be.u48be=(B=>new d(6,B)),Be.nu64be=(B=>new M(B)),Be.s8=(B=>new y(1,B)),Be.s16=(B=>new y(2,B)),Be.s24=(B=>new y(3,B)),Be.s32=(B=>new y(4,B)),Be.s40=(B=>new y(5,B)),Be.s48=(B=>new y(6,B)),Be.ns64=(B=>new U(B)),Be.s16be=(B=>new _(2,B)),Be.s24be=(B=>new _(3,B)),Be.s32be=(B=>new _(4,B)),Be.s40be=(B=>new _(5,B)),Be.s48be=(B=>new _(6,B)),Be.ns64be=(B=>new D(B)),Be.f32=(B=>new j(B)),Be.f32be=(B=>new F(B)),Be.f64=(B=>new V(B)),Be.f64be=(B=>new W(B)),Be.struct=((B,v,m)=>new oe(B,v,m)),Be.bits=((B,v,m)=>new $(B,v,m)),Be.seq=((B,v,m)=>new re(B,v,m)),Be.union=((B,v,m)=>new G(B,v,m)),Be.unionLayoutDiscriminator=((B,v)=>new le(B,v)),Be.blob=((B,v)=>new w(B,v)),Be.cstr=(B=>new S(B)),Be.utf8=((B,v)=>new N(B,v)),Be.const=((B,v)=>new L(B,v)),Be}const IN=Vl(vN);var Tb;function CN(){return Tb||(Tb=1,(function(s){var t=gc&&gc.__importDefault||function($){return $&&$.__esModule?$:{default:$}};Object.defineProperty(s,"__esModule",{value:!0}),s.struct=s.f64=s.f32=s.i32=s.u32=s.i16=s.u16=s.i8=s.u8=void 0,s.u64=d,s.i64=y,s.u128=_,s.i128=E,s.u256=C,s.i256=I,s.publicKey=M,s.option=D,s.bool=j,s.vec=W,s.tagged=re,s.vecU8=oe,s.str=ie,s.rustEnum=le,s.array=G,s.map=X;const n=xb(),i=IN,c=t(X0());var o=xb();Object.defineProperty(s,"u8",{enumerable:!0,get:function(){return o.u8}}),Object.defineProperty(s,"i8",{enumerable:!0,get:function(){return o.s8}}),Object.defineProperty(s,"u16",{enumerable:!0,get:function(){return o.u16}}),Object.defineProperty(s,"i16",{enumerable:!0,get:function(){return o.s16}}),Object.defineProperty(s,"u32",{enumerable:!0,get:function(){return o.u32}}),Object.defineProperty(s,"i32",{enumerable:!0,get:function(){return o.s32}}),Object.defineProperty(s,"f32",{enumerable:!0,get:function(){return o.f32}}),Object.defineProperty(s,"f64",{enumerable:!0,get:function(){return o.f64}}),Object.defineProperty(s,"struct",{enumerable:!0,get:function(){return o.struct}});class l extends n.Layout{constructor(x,h,w){super(x,w),this.blob=(0,n.blob)(x),this.signed=h}decode(x,h=0){const w=new c.default(this.blob.decode(x,h),10,"le");return this.signed?w.fromTwos(this.span*8).clone():w}encode(x,h,w=0){return this.signed&&(x=x.toTwos(this.span*8)),this.blob.encode(x.toArrayLike(Buffer,"le",this.span),h,w)}}function d($){return new l(8,!1,$)}function y($){return new l(8,!0,$)}function _($){return new l(16,!1,$)}function E($){return new l(16,!0,$)}function C($){return new l(32,!1,$)}function I($){return new l(32,!0,$)}class R extends n.Layout{constructor(x,h,w,S){super(x.span,S),this.layout=x,this.decoder=h,this.encoder=w}decode(x,h){return this.decoder(this.layout.decode(x,h))}encode(x,h,w){return this.layout.encode(this.encoder(x),h,w)}getSpan(x,h){return this.layout.getSpan(x,h)}}function M($){return new R((0,n.blob)(32),x=>new i.PublicKey(x),x=>x.toBuffer(),$)}class U extends n.Layout{constructor(x,h){super(-1,h),this.layout=x,this.discriminator=(0,n.u8)()}encode(x,h,w=0){return x==null?this.discriminator.encode(0,h,w):(this.discriminator.encode(1,h,w),this.layout.encode(x,h,w+1)+1)}decode(x,h=0){const w=this.discriminator.decode(x,h);if(w===0)return null;if(w===1)return this.layout.decode(x,h+1);throw new Error("Invalid option "+this.property)}getSpan(x,h=0){const w=this.discriminator.decode(x,h);if(w===0)return 1;if(w===1)return this.layout.getSpan(x,h+1)+1;throw new Error("Invalid option "+this.property)}}function D($,x){return new U($,x)}function j($){return new R((0,n.u8)(),F,V,$)}function F($){if($===0)return!1;if($===1)return!0;throw new Error("Invalid bool: "+$)}function V($){return $?1:0}function W($,x){const h=(0,n.u32)("length"),w=(0,n.struct)([h,(0,n.seq)($,(0,n.offset)(h,-h.span),"values")]);return new R(w,({values:S})=>S,S=>({values:S}),x)}function re($,x,h){const w=(0,n.struct)([d("tag"),x.replicate("data")]);function S({tag:N,data:L}){if(!N.eq($))throw new Error("Invalid tag, expected: "+$.toString("hex")+", got: "+N.toString("hex"));return L}return new R(w,S,N=>({tag:$,data:N}),h)}function oe($){const x=(0,n.u32)("length"),h=(0,n.struct)([x,(0,n.blob)((0,n.offset)(x,-x.span),"data")]);return new R(h,({data:w})=>w,w=>({data:w}),$)}function ie($){return new R(oe(),x=>x.toString("utf-8"),x=>Buffer.from(x,"utf-8"),$)}function le($,x,h){const w=(0,n.union)(h??(0,n.u8)(),x);return $.forEach((S,N)=>w.addVariant(N,S,S.property)),w}function G($,x,h){const w=(0,n.struct)([(0,n.seq)($,x,"values")]);return new R(w,({values:S})=>S,S=>({values:S}),h)}class Y extends n.Layout{constructor(x,h,w){super(x.span+h.span,w),this.keyLayout=x,this.valueLayout=h}decode(x,h){h=h||0;const w=this.keyLayout.decode(x,h),S=this.valueLayout.decode(x,h+this.keyLayout.getSpan(x,h));return[w,S]}encode(x,h,w){w=w||0;const S=this.keyLayout.encode(x[0],h,w),N=this.valueLayout.encode(x[1],h,w+S);return S+N}getSpan(x,h){return this.keyLayout.getSpan(x,h)+this.valueLayout.getSpan(x,h)}}function X($,x,h){const w=(0,n.u32)("length"),S=(0,n.struct)([w,(0,n.seq)(new Y($,x),(0,n.offset)(w,-w.span),"values")]);return new R(S,({values:N})=>new Map(N),N=>({values:Array.from(N.entries())}),h)}})(gc)),gc}var et=CN();function wo(s){let t=s.length;for(;--t>=0;)s[t]=0}const BN=3,MN=258,Dw=29,UN=256,DN=UN+1+Dw,Lw=30,LN=512,zN=new Array((DN+2)*2);wo(zN);const HN=new Array(Lw*2);wo(HN);const jN=new Array(LN);wo(jN);const PN=new Array(MN-BN+1);wo(PN);const qN=new Array(Dw);wo(qN);const KN=new Array(Lw);wo(KN);const VN=(s,t,n,i)=>{let c=s&65535|0,o=s>>>16&65535|0,l=0;for(;n!==0;){l=n>2e3?2e3:n,n-=l;do c=c+t[i++]|0,o=o+c|0;while(--l);c%=65521,o%=65521}return c|o<<16|0};var N0=VN;const GN=()=>{let s,t=[];for(var n=0;n<256;n++){s=n;for(var i=0;i<8;i++)s=s&1?3988292384^s>>>1:s>>>1;t[n]=s}return t},FN=new Uint32Array(GN()),YN=(s,t,n,i)=>{const c=FN,o=i+n;s^=-1;for(let l=i;l<o;l++)s=s>>>8^c[(s^t[l])&255];return s^-1};var jr=YN,k0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},zw={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const ZN=(s,t)=>Object.prototype.hasOwnProperty.call(s,t);var XN=function(s){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const i in n)ZN(n,i)&&(s[i]=n[i])}}return s},$N=s=>{let t=0;for(let i=0,c=s.length;i<c;i++)t+=s[i].length;const n=new Uint8Array(t);for(let i=0,c=0,o=s.length;i<o;i++){let l=s[i];n.set(l,c),c+=l.length}return n},Hw={assign:XN,flattenChunks:$N};let jw=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{jw=!1}const kc=new Uint8Array(256);for(let s=0;s<256;s++)kc[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;kc[254]=kc[254]=1;var WN=s=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(s);let t,n,i,c,o,l=s.length,d=0;for(c=0;c<l;c++)n=s.charCodeAt(c),(n&64512)===55296&&c+1<l&&(i=s.charCodeAt(c+1),(i&64512)===56320&&(n=65536+(n-55296<<10)+(i-56320),c++)),d+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(d),o=0,c=0;o<d;c++)n=s.charCodeAt(c),(n&64512)===55296&&c+1<l&&(i=s.charCodeAt(c+1),(i&64512)===56320&&(n=65536+(n-55296<<10)+(i-56320),c++)),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|n&63):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|n&63):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|n&63);return t};const QN=(s,t)=>{if(t<65534&&s.subarray&&jw)return String.fromCharCode.apply(null,s.length===t?s:s.subarray(0,t));let n="";for(let i=0;i<t;i++)n+=String.fromCharCode(s[i]);return n};var JN=(s,t)=>{const n=t||s.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(s.subarray(0,t));let i,c;const o=new Array(n*2);for(c=0,i=0;i<n;){let l=s[i++];if(l<128){o[c++]=l;continue}let d=kc[l];if(d>4){o[c++]=65533,i+=d-1;continue}for(l&=d===2?31:d===3?15:7;d>1&&i<n;)l=l<<6|s[i++]&63,d--;if(d>1){o[c++]=65533;continue}l<65536?o[c++]=l:(l-=65536,o[c++]=55296|l>>10&1023,o[c++]=56320|l&1023)}return QN(o,c)},ek=(s,t)=>{t=t||s.length,t>s.length&&(t=s.length);let n=t-1;for(;n>=0&&(s[n]&192)===128;)n--;return n<0||n===0?t:n+kc[s[n]]>t?n:t},I0={string2buf:WN,buf2string:JN,utf8border:ek};function tk(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var nk=tk;const fl=16209,rk=16191;var ik=function(t,n){let i,c,o,l,d,y,_,E,C,I,R,M,U,D,j,F,V,W,re,oe,ie,le,G,Y;const X=t.state;i=t.next_in,G=t.input,c=i+(t.avail_in-5),o=t.next_out,Y=t.output,l=o-(n-t.avail_out),d=o+(t.avail_out-257),y=X.dmax,_=X.wsize,E=X.whave,C=X.wnext,I=X.window,R=X.hold,M=X.bits,U=X.lencode,D=X.distcode,j=(1<<X.lenbits)-1,F=(1<<X.distbits)-1;e:do{M<15&&(R+=G[i++]<<M,M+=8,R+=G[i++]<<M,M+=8),V=U[R&j];t:for(;;){if(W=V>>>24,R>>>=W,M-=W,W=V>>>16&255,W===0)Y[o++]=V&65535;else if(W&16){re=V&65535,W&=15,W&&(M<W&&(R+=G[i++]<<M,M+=8),re+=R&(1<<W)-1,R>>>=W,M-=W),M<15&&(R+=G[i++]<<M,M+=8,R+=G[i++]<<M,M+=8),V=D[R&F];n:for(;;){if(W=V>>>24,R>>>=W,M-=W,W=V>>>16&255,W&16){if(oe=V&65535,W&=15,M<W&&(R+=G[i++]<<M,M+=8,M<W&&(R+=G[i++]<<M,M+=8)),oe+=R&(1<<W)-1,oe>y){t.msg="invalid distance too far back",X.mode=fl;break e}if(R>>>=W,M-=W,W=o-l,oe>W){if(W=oe-W,W>E&&X.sane){t.msg="invalid distance too far back",X.mode=fl;break e}if(ie=0,le=I,C===0){if(ie+=_-W,W<re){re-=W;do Y[o++]=I[ie++];while(--W);ie=o-oe,le=Y}}else if(C<W){if(ie+=_+C-W,W-=C,W<re){re-=W;do Y[o++]=I[ie++];while(--W);if(ie=0,C<re){W=C,re-=W;do Y[o++]=I[ie++];while(--W);ie=o-oe,le=Y}}}else if(ie+=C-W,W<re){re-=W;do Y[o++]=I[ie++];while(--W);ie=o-oe,le=Y}for(;re>2;)Y[o++]=le[ie++],Y[o++]=le[ie++],Y[o++]=le[ie++],re-=3;re&&(Y[o++]=le[ie++],re>1&&(Y[o++]=le[ie++]))}else{ie=o-oe;do Y[o++]=Y[ie++],Y[o++]=Y[ie++],Y[o++]=Y[ie++],re-=3;while(re>2);re&&(Y[o++]=Y[ie++],re>1&&(Y[o++]=Y[ie++]))}}else if((W&64)===0){V=D[(V&65535)+(R&(1<<W)-1)];continue n}else{t.msg="invalid distance code",X.mode=fl;break e}break}}else if((W&64)===0){V=U[(V&65535)+(R&(1<<W)-1)];continue t}else if(W&32){X.mode=rk;break e}else{t.msg="invalid literal/length code",X.mode=fl;break e}break}}while(i<c&&o<d);re=M>>3,i-=re,M-=re<<3,R&=(1<<M)-1,t.next_in=i,t.next_out=o,t.avail_in=i<c?5+(c-i):5-(i-c),t.avail_out=o<d?257+(d-o):257-(o-d),X.hold=R,X.bits=M};const $a=15,Ob=852,Nb=592,kb=0,n0=1,Ib=2,sk=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ak=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),ok=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ck=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),uk=(s,t,n,i,c,o,l,d)=>{const y=d.bits;let _=0,E=0,C=0,I=0,R=0,M=0,U=0,D=0,j=0,F=0,V,W,re,oe,ie,le=null,G;const Y=new Uint16Array($a+1),X=new Uint16Array($a+1);let $=null,x,h,w;for(_=0;_<=$a;_++)Y[_]=0;for(E=0;E<i;E++)Y[t[n+E]]++;for(R=y,I=$a;I>=1&&Y[I]===0;I--);if(R>I&&(R=I),I===0)return c[o++]=1<<24|64<<16|0,c[o++]=1<<24|64<<16|0,d.bits=1,0;for(C=1;C<I&&Y[C]===0;C++);for(R<C&&(R=C),D=1,_=1;_<=$a;_++)if(D<<=1,D-=Y[_],D<0)return-1;if(D>0&&(s===kb||I!==1))return-1;for(X[1]=0,_=1;_<$a;_++)X[_+1]=X[_]+Y[_];for(E=0;E<i;E++)t[n+E]!==0&&(l[X[t[n+E]]++]=E);if(s===kb?(le=$=l,G=20):s===n0?(le=sk,$=ak,G=257):(le=ok,$=ck,G=0),F=0,E=0,_=C,ie=o,M=R,U=0,re=-1,j=1<<R,oe=j-1,s===n0&&j>Ob||s===Ib&&j>Nb)return 1;for(;;){x=_-U,l[E]+1<G?(h=0,w=l[E]):l[E]>=G?(h=$[l[E]-G],w=le[l[E]-G]):(h=96,w=0),V=1<<_-U,W=1<<M,C=W;do W-=V,c[ie+(F>>U)+W]=x<<24|h<<16|w|0;while(W!==0);for(V=1<<_-1;F&V;)V>>=1;if(V!==0?(F&=V-1,F+=V):F=0,E++,--Y[_]===0){if(_===I)break;_=t[n+l[E]]}if(_>R&&(F&oe)!==re){for(U===0&&(U=R),ie+=C,M=_-U,D=1<<M;M+U<I&&(D-=Y[M+U],!(D<=0));)M++,D<<=1;if(j+=1<<M,s===n0&&j>Ob||s===Ib&&j>Nb)return 1;re=F&oe,c[re]=R<<24|M<<16|ie-o|0}}return F!==0&&(c[ie+F]=_-U<<24|64<<16|0),d.bits=R,0};var Ec=uk;const lk=0,Pw=1,qw=2,{Z_FINISH:Cb,Z_BLOCK:fk,Z_TREES:dl,Z_OK:ta,Z_STREAM_END:dk,Z_NEED_DICT:hk,Z_STREAM_ERROR:_r,Z_DATA_ERROR:Kw,Z_MEM_ERROR:Vw,Z_BUF_ERROR:pk,Z_DEFLATED:Bb}=zw,af=16180,Mb=16181,Ub=16182,Db=16183,Lb=16184,zb=16185,Hb=16186,jb=16187,Pb=16188,qb=16189,Hl=16190,_i=16191,r0=16192,Kb=16193,i0=16194,Vb=16195,Gb=16196,Fb=16197,Yb=16198,hl=16199,pl=16200,Zb=16201,Xb=16202,$b=16203,Wb=16204,Qb=16205,s0=16206,Jb=16207,e_=16208,Ft=16209,Gw=16210,Fw=16211,mk=852,yk=592,gk=15,bk=gk,t_=s=>(s>>>24&255)+(s>>>8&65280)+((s&65280)<<8)+((s&255)<<24);function _k(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const aa=s=>{if(!s)return 1;const t=s.state;return!t||t.strm!==s||t.mode<af||t.mode>Fw?1:0},Yw=s=>{if(aa(s))return _r;const t=s.state;return s.total_in=s.total_out=t.total=0,s.msg="",t.wrap&&(s.adler=t.wrap&1),t.mode=af,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(mk),t.distcode=t.distdyn=new Int32Array(yk),t.sane=1,t.back=-1,ta},Zw=s=>{if(aa(s))return _r;const t=s.state;return t.wsize=0,t.whave=0,t.wnext=0,Yw(s)},Xw=(s,t)=>{let n;if(aa(s))return _r;const i=s.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?_r:(i.window!==null&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,Zw(s))},$w=(s,t)=>{if(!s)return _r;const n=new _k;s.state=n,n.strm=s,n.window=null,n.mode=af;const i=Xw(s,t);return i!==ta&&(s.state=null),i},wk=s=>$w(s,bk);let n_=!0,a0,o0;const vk=s=>{if(n_){a0=new Int32Array(512),o0=new Int32Array(32);let t=0;for(;t<144;)s.lens[t++]=8;for(;t<256;)s.lens[t++]=9;for(;t<280;)s.lens[t++]=7;for(;t<288;)s.lens[t++]=8;for(Ec(Pw,s.lens,0,288,a0,0,s.work,{bits:9}),t=0;t<32;)s.lens[t++]=5;Ec(qw,s.lens,0,32,o0,0,s.work,{bits:5}),n_=!1}s.lencode=a0,s.lenbits=9,s.distcode=o0,s.distbits=5},Ww=(s,t,n,i)=>{let c;const o=s.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),i>=o.wsize?(o.window.set(t.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(c=o.wsize-o.wnext,c>i&&(c=i),o.window.set(t.subarray(n-i,n-i+c),o.wnext),i-=c,i?(o.window.set(t.subarray(n-i,n),0),o.wnext=i,o.whave=o.wsize):(o.wnext+=c,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=c))),0},Ek=(s,t)=>{let n,i,c,o,l,d,y,_,E,C,I,R,M,U,D=0,j,F,V,W,re,oe,ie,le;const G=new Uint8Array(4);let Y,X;const $=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(aa(s)||!s.output||!s.input&&s.avail_in!==0)return _r;n=s.state,n.mode===_i&&(n.mode=r0),l=s.next_out,c=s.output,y=s.avail_out,o=s.next_in,i=s.input,d=s.avail_in,_=n.hold,E=n.bits,C=d,I=y,le=ta;e:for(;;)switch(n.mode){case af:if(n.wrap===0){n.mode=r0;break}for(;E<16;){if(d===0)break e;d--,_+=i[o++]<<E,E+=8}if(n.wrap&2&&_===35615){n.wbits===0&&(n.wbits=15),n.check=0,G[0]=_&255,G[1]=_>>>8&255,n.check=jr(n.check,G,2,0),_=0,E=0,n.mode=Mb;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((_&255)<<8)+(_>>8))%31){s.msg="incorrect header check",n.mode=Ft;break}if((_&15)!==Bb){s.msg="unknown compression method",n.mode=Ft;break}if(_>>>=4,E-=4,ie=(_&15)+8,n.wbits===0&&(n.wbits=ie),ie>15||ie>n.wbits){s.msg="invalid window size",n.mode=Ft;break}n.dmax=1<<n.wbits,n.flags=0,s.adler=n.check=1,n.mode=_&512?qb:_i,_=0,E=0;break;case Mb:for(;E<16;){if(d===0)break e;d--,_+=i[o++]<<E,E+=8}if(n.flags=_,(n.flags&255)!==Bb){s.msg="unknown compression method",n.mode=Ft;break}if(n.flags&57344){s.msg="unknown header flags set",n.mode=Ft;break}n.head&&(n.head.text=_>>8&1),n.flags&512&&n.wrap&4&&(G[0]=_&255,G[1]=_>>>8&255,n.check=jr(n.check,G,2,0)),_=0,E=0,n.mode=Ub;case Ub:for(;E<32;){if(d===0)break e;d--,_+=i[o++]<<E,E+=8}n.head&&(n.head.time=_),n.flags&512&&n.wrap&4&&(G[0]=_&255,G[1]=_>>>8&255,G[2]=_>>>16&255,G[3]=_>>>24&255,n.check=jr(n.check,G,4,0)),_=0,E=0,n.mode=Db;case Db:for(;E<16;){if(d===0)break e;d--,_+=i[o++]<<E,E+=8}n.head&&(n.head.xflags=_&255,n.head.os=_>>8),n.flags&512&&n.wrap&4&&(G[0]=_&255,G[1]=_>>>8&255,n.check=jr(n.check,G,2,0)),_=0,E=0,n.mode=Lb;case Lb:if(n.flags&1024){for(;E<16;){if(d===0)break e;d--,_+=i[o++]<<E,E+=8}n.length=_,n.head&&(n.head.extra_len=_),n.flags&512&&n.wrap&4&&(G[0]=_&255,G[1]=_>>>8&255,n.check=jr(n.check,G,2,0)),_=0,E=0}else n.head&&(n.head.extra=null);n.mode=zb;case zb:if(n.flags&1024&&(R=n.length,R>d&&(R=d),R&&(n.head&&(ie=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(o,o+R),ie)),n.flags&512&&n.wrap&4&&(n.check=jr(n.check,i,R,o)),d-=R,o+=R,n.length-=R),n.length))break e;n.length=0,n.mode=Hb;case Hb:if(n.flags&2048){if(d===0)break e;R=0;do ie=i[o+R++],n.head&&ie&&n.length<65536&&(n.head.name+=String.fromCharCode(ie));while(ie&&R<d);if(n.flags&512&&n.wrap&4&&(n.check=jr(n.check,i,R,o)),d-=R,o+=R,ie)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=jb;case jb:if(n.flags&4096){if(d===0)break e;R=0;do ie=i[o+R++],n.head&&ie&&n.length<65536&&(n.head.comment+=String.fromCharCode(ie));while(ie&&R<d);if(n.flags&512&&n.wrap&4&&(n.check=jr(n.check,i,R,o)),d-=R,o+=R,ie)break e}else n.head&&(n.head.comment=null);n.mode=Pb;case Pb:if(n.flags&512){for(;E<16;){if(d===0)break e;d--,_+=i[o++]<<E,E+=8}if(n.wrap&4&&_!==(n.check&65535)){s.msg="header crc mismatch",n.mode=Ft;break}_=0,E=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),s.adler=n.check=0,n.mode=_i;break;case qb:for(;E<32;){if(d===0)break e;d--,_+=i[o++]<<E,E+=8}s.adler=n.check=t_(_),_=0,E=0,n.mode=Hl;case Hl:if(n.havedict===0)return s.next_out=l,s.avail_out=y,s.next_in=o,s.avail_in=d,n.hold=_,n.bits=E,hk;s.adler=n.check=1,n.mode=_i;case _i:if(t===fk||t===dl)break e;case r0:if(n.last){_>>>=E&7,E-=E&7,n.mode=s0;break}for(;E<3;){if(d===0)break e;d--,_+=i[o++]<<E,E+=8}switch(n.last=_&1,_>>>=1,E-=1,_&3){case 0:n.mode=Kb;break;case 1:if(vk(n),n.mode=hl,t===dl){_>>>=2,E-=2;break e}break;case 2:n.mode=Gb;break;case 3:s.msg="invalid block type",n.mode=Ft}_>>>=2,E-=2;break;case Kb:for(_>>>=E&7,E-=E&7;E<32;){if(d===0)break e;d--,_+=i[o++]<<E,E+=8}if((_&65535)!==(_>>>16^65535)){s.msg="invalid stored block lengths",n.mode=Ft;break}if(n.length=_&65535,_=0,E=0,n.mode=i0,t===dl)break e;case i0:n.mode=Vb;case Vb:if(R=n.length,R){if(R>d&&(R=d),R>y&&(R=y),R===0)break e;c.set(i.subarray(o,o+R),l),d-=R,o+=R,y-=R,l+=R,n.length-=R;break}n.mode=_i;break;case Gb:for(;E<14;){if(d===0)break e;d--,_+=i[o++]<<E,E+=8}if(n.nlen=(_&31)+257,_>>>=5,E-=5,n.ndist=(_&31)+1,_>>>=5,E-=5,n.ncode=(_&15)+4,_>>>=4,E-=4,n.nlen>286||n.ndist>30){s.msg="too many length or distance symbols",n.mode=Ft;break}n.have=0,n.mode=Fb;case Fb:for(;n.have<n.ncode;){for(;E<3;){if(d===0)break e;d--,_+=i[o++]<<E,E+=8}n.lens[$[n.have++]]=_&7,_>>>=3,E-=3}for(;n.have<19;)n.lens[$[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Y={bits:n.lenbits},le=Ec(lk,n.lens,0,19,n.lencode,0,n.work,Y),n.lenbits=Y.bits,le){s.msg="invalid code lengths set",n.mode=Ft;break}n.have=0,n.mode=Yb;case Yb:for(;n.have<n.nlen+n.ndist;){for(;D=n.lencode[_&(1<<n.lenbits)-1],j=D>>>24,F=D>>>16&255,V=D&65535,!(j<=E);){if(d===0)break e;d--,_+=i[o++]<<E,E+=8}if(V<16)_>>>=j,E-=j,n.lens[n.have++]=V;else{if(V===16){for(X=j+2;E<X;){if(d===0)break e;d--,_+=i[o++]<<E,E+=8}if(_>>>=j,E-=j,n.have===0){s.msg="invalid bit length repeat",n.mode=Ft;break}ie=n.lens[n.have-1],R=3+(_&3),_>>>=2,E-=2}else if(V===17){for(X=j+3;E<X;){if(d===0)break e;d--,_+=i[o++]<<E,E+=8}_>>>=j,E-=j,ie=0,R=3+(_&7),_>>>=3,E-=3}else{for(X=j+7;E<X;){if(d===0)break e;d--,_+=i[o++]<<E,E+=8}_>>>=j,E-=j,ie=0,R=11+(_&127),_>>>=7,E-=7}if(n.have+R>n.nlen+n.ndist){s.msg="invalid bit length repeat",n.mode=Ft;break}for(;R--;)n.lens[n.have++]=ie}}if(n.mode===Ft)break;if(n.lens[256]===0){s.msg="invalid code -- missing end-of-block",n.mode=Ft;break}if(n.lenbits=9,Y={bits:n.lenbits},le=Ec(Pw,n.lens,0,n.nlen,n.lencode,0,n.work,Y),n.lenbits=Y.bits,le){s.msg="invalid literal/lengths set",n.mode=Ft;break}if(n.distbits=6,n.distcode=n.distdyn,Y={bits:n.distbits},le=Ec(qw,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Y),n.distbits=Y.bits,le){s.msg="invalid distances set",n.mode=Ft;break}if(n.mode=hl,t===dl)break e;case hl:n.mode=pl;case pl:if(d>=6&&y>=258){s.next_out=l,s.avail_out=y,s.next_in=o,s.avail_in=d,n.hold=_,n.bits=E,ik(s,I),l=s.next_out,c=s.output,y=s.avail_out,o=s.next_in,i=s.input,d=s.avail_in,_=n.hold,E=n.bits,n.mode===_i&&(n.back=-1);break}for(n.back=0;D=n.lencode[_&(1<<n.lenbits)-1],j=D>>>24,F=D>>>16&255,V=D&65535,!(j<=E);){if(d===0)break e;d--,_+=i[o++]<<E,E+=8}if(F&&(F&240)===0){for(W=j,re=F,oe=V;D=n.lencode[oe+((_&(1<<W+re)-1)>>W)],j=D>>>24,F=D>>>16&255,V=D&65535,!(W+j<=E);){if(d===0)break e;d--,_+=i[o++]<<E,E+=8}_>>>=W,E-=W,n.back+=W}if(_>>>=j,E-=j,n.back+=j,n.length=V,F===0){n.mode=Qb;break}if(F&32){n.back=-1,n.mode=_i;break}if(F&64){s.msg="invalid literal/length code",n.mode=Ft;break}n.extra=F&15,n.mode=Zb;case Zb:if(n.extra){for(X=n.extra;E<X;){if(d===0)break e;d--,_+=i[o++]<<E,E+=8}n.length+=_&(1<<n.extra)-1,_>>>=n.extra,E-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Xb;case Xb:for(;D=n.distcode[_&(1<<n.distbits)-1],j=D>>>24,F=D>>>16&255,V=D&65535,!(j<=E);){if(d===0)break e;d--,_+=i[o++]<<E,E+=8}if((F&240)===0){for(W=j,re=F,oe=V;D=n.distcode[oe+((_&(1<<W+re)-1)>>W)],j=D>>>24,F=D>>>16&255,V=D&65535,!(W+j<=E);){if(d===0)break e;d--,_+=i[o++]<<E,E+=8}_>>>=W,E-=W,n.back+=W}if(_>>>=j,E-=j,n.back+=j,F&64){s.msg="invalid distance code",n.mode=Ft;break}n.offset=V,n.extra=F&15,n.mode=$b;case $b:if(n.extra){for(X=n.extra;E<X;){if(d===0)break e;d--,_+=i[o++]<<E,E+=8}n.offset+=_&(1<<n.extra)-1,_>>>=n.extra,E-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){s.msg="invalid distance too far back",n.mode=Ft;break}n.mode=Wb;case Wb:if(y===0)break e;if(R=I-y,n.offset>R){if(R=n.offset-R,R>n.whave&&n.sane){s.msg="invalid distance too far back",n.mode=Ft;break}R>n.wnext?(R-=n.wnext,M=n.wsize-R):M=n.wnext-R,R>n.length&&(R=n.length),U=n.window}else U=c,M=l-n.offset,R=n.length;R>y&&(R=y),y-=R,n.length-=R;do c[l++]=U[M++];while(--R);n.length===0&&(n.mode=pl);break;case Qb:if(y===0)break e;c[l++]=n.length,y--,n.mode=pl;break;case s0:if(n.wrap){for(;E<32;){if(d===0)break e;d--,_|=i[o++]<<E,E+=8}if(I-=y,s.total_out+=I,n.total+=I,n.wrap&4&&I&&(s.adler=n.check=n.flags?jr(n.check,c,I,l-I):N0(n.check,c,I,l-I)),I=y,n.wrap&4&&(n.flags?_:t_(_))!==n.check){s.msg="incorrect data check",n.mode=Ft;break}_=0,E=0}n.mode=Jb;case Jb:if(n.wrap&&n.flags){for(;E<32;){if(d===0)break e;d--,_+=i[o++]<<E,E+=8}if(n.wrap&4&&_!==(n.total&4294967295)){s.msg="incorrect length check",n.mode=Ft;break}_=0,E=0}n.mode=e_;case e_:le=dk;break e;case Ft:le=Kw;break e;case Gw:return Vw;case Fw:default:return _r}return s.next_out=l,s.avail_out=y,s.next_in=o,s.avail_in=d,n.hold=_,n.bits=E,(n.wsize||I!==s.avail_out&&n.mode<Ft&&(n.mode<s0||t!==Cb))&&Ww(s,s.output,s.next_out,I-s.avail_out),C-=s.avail_in,I-=s.avail_out,s.total_in+=C,s.total_out+=I,n.total+=I,n.wrap&4&&I&&(s.adler=n.check=n.flags?jr(n.check,c,I,s.next_out-I):N0(n.check,c,I,s.next_out-I)),s.data_type=n.bits+(n.last?64:0)+(n.mode===_i?128:0)+(n.mode===hl||n.mode===i0?256:0),(C===0&&I===0||t===Cb)&&le===ta&&(le=pk),le},Sk=s=>{if(aa(s))return _r;let t=s.state;return t.window&&(t.window=null),s.state=null,ta},Ak=(s,t)=>{if(aa(s))return _r;const n=s.state;return(n.wrap&2)===0?_r:(n.head=t,t.done=!1,ta)},Rk=(s,t)=>{const n=t.length;let i,c,o;return aa(s)||(i=s.state,i.wrap!==0&&i.mode!==Hl)?_r:i.mode===Hl&&(c=1,c=N0(c,t,n,0),c!==i.check)?Kw:(o=Ww(s,t,n,n),o?(i.mode=Gw,Vw):(i.havedict=1,ta))};var xk=Zw,Tk=Xw,Ok=Yw,Nk=wk,kk=$w,Ik=Ek,Ck=Sk,Bk=Ak,Mk=Rk,Uk="pako inflate (from Nodeca project)",Ei={inflateReset:xk,inflateReset2:Tk,inflateResetKeep:Ok,inflateInit:Nk,inflateInit2:kk,inflate:Ik,inflateEnd:Ck,inflateGetHeader:Bk,inflateSetDictionary:Mk,inflateInfo:Uk};function Dk(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Lk=Dk;const Qw=Object.prototype.toString,{Z_NO_FLUSH:zk,Z_FINISH:Hk,Z_OK:Ic,Z_STREAM_END:c0,Z_NEED_DICT:u0,Z_STREAM_ERROR:jk,Z_DATA_ERROR:r_,Z_MEM_ERROR:Pk}=zw;function of(s){this.options=Hw.assign({chunkSize:1024*64,windowBits:15,to:""},s||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(s&&s.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new nk,this.strm.avail_out=0;let n=Ei.inflateInit2(this.strm,t.windowBits);if(n!==Ic)throw new Error(k0[n]);if(this.header=new Lk,Ei.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=I0.string2buf(t.dictionary):Qw.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=Ei.inflateSetDictionary(this.strm,t.dictionary),n!==Ic)))throw new Error(k0[n])}of.prototype.push=function(s,t){const n=this.strm,i=this.options.chunkSize,c=this.options.dictionary;let o,l,d;if(this.ended)return!1;for(t===~~t?l=t:l=t===!0?Hk:zk,Qw.call(s)==="[object ArrayBuffer]"?n.input=new Uint8Array(s):n.input=s,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),o=Ei.inflate(n,l),o===u0&&c&&(o=Ei.inflateSetDictionary(n,c),o===Ic?o=Ei.inflate(n,l):o===r_&&(o=u0));n.avail_in>0&&o===c0&&n.state.wrap>0&&s[n.next_in]!==0;)Ei.inflateReset(n),o=Ei.inflate(n,l);switch(o){case jk:case r_:case u0:case Pk:return this.onEnd(o),this.ended=!0,!1}if(d=n.avail_out,n.next_out&&(n.avail_out===0||o===c0))if(this.options.to==="string"){let y=I0.utf8border(n.output,n.next_out),_=n.next_out-y,E=I0.buf2string(n.output,y);n.next_out=_,n.avail_out=i-_,_&&n.output.set(n.output.subarray(y,y+_),0),this.onData(E)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(o===Ic&&d===0)){if(o===c0)return o=Ei.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};of.prototype.onData=function(s){this.chunks.push(s)};of.prototype.onEnd=function(s){s===Ic&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Hw.flattenChunks(this.chunks)),this.chunks=[],this.err=s,this.msg=this.strm.msg};function qk(s,t){const n=new of(t);if(n.push(s),n.err)throw n.msg||k0[n.err];return n.result}var Kk=qk,Vk={inflate:Kk};const{inflate:Gk}=Vk;var Fk=Gk,l0={exports:{}},i_;function Yk(){return i_||(i_=1,(function(s){var t=Object.prototype.hasOwnProperty,n="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1));function c(y,_,E){this.fn=y,this.context=_,this.once=E||!1}function o(y,_,E,C,I){if(typeof E!="function")throw new TypeError("The listener must be a function");var R=new c(E,C||y,I),M=n?n+_:_;return y._events[M]?y._events[M].fn?y._events[M]=[y._events[M],R]:y._events[M].push(R):(y._events[M]=R,y._eventsCount++),y}function l(y,_){--y._eventsCount===0?y._events=new i:delete y._events[_]}function d(){this._events=new i,this._eventsCount=0}d.prototype.eventNames=function(){var _=[],E,C;if(this._eventsCount===0)return _;for(C in E=this._events)t.call(E,C)&&_.push(n?C.slice(1):C);return Object.getOwnPropertySymbols?_.concat(Object.getOwnPropertySymbols(E)):_},d.prototype.listeners=function(_){var E=n?n+_:_,C=this._events[E];if(!C)return[];if(C.fn)return[C.fn];for(var I=0,R=C.length,M=new Array(R);I<R;I++)M[I]=C[I].fn;return M},d.prototype.listenerCount=function(_){var E=n?n+_:_,C=this._events[E];return C?C.fn?1:C.length:0},d.prototype.emit=function(_,E,C,I,R,M){var U=n?n+_:_;if(!this._events[U])return!1;var D=this._events[U],j=arguments.length,F,V;if(D.fn){switch(D.once&&this.removeListener(_,D.fn,void 0,!0),j){case 1:return D.fn.call(D.context),!0;case 2:return D.fn.call(D.context,E),!0;case 3:return D.fn.call(D.context,E,C),!0;case 4:return D.fn.call(D.context,E,C,I),!0;case 5:return D.fn.call(D.context,E,C,I,R),!0;case 6:return D.fn.call(D.context,E,C,I,R,M),!0}for(V=1,F=new Array(j-1);V<j;V++)F[V-1]=arguments[V];D.fn.apply(D.context,F)}else{var W=D.length,re;for(V=0;V<W;V++)switch(D[V].once&&this.removeListener(_,D[V].fn,void 0,!0),j){case 1:D[V].fn.call(D[V].context);break;case 2:D[V].fn.call(D[V].context,E);break;case 3:D[V].fn.call(D[V].context,E,C);break;case 4:D[V].fn.call(D[V].context,E,C,I);break;default:if(!F)for(re=1,F=new Array(j-1);re<j;re++)F[re-1]=arguments[re];D[V].fn.apply(D[V].context,F)}}return!0},d.prototype.on=function(_,E,C){return o(this,_,E,C,!1)},d.prototype.once=function(_,E,C){return o(this,_,E,C,!0)},d.prototype.removeListener=function(_,E,C,I){var R=n?n+_:_;if(!this._events[R])return this;if(!E)return l(this,R),this;var M=this._events[R];if(M.fn)M.fn===E&&(!I||M.once)&&(!C||M.context===C)&&l(this,R);else{for(var U=0,D=[],j=M.length;U<j;U++)(M[U].fn!==E||I&&!M[U].once||C&&M[U].context!==C)&&D.push(M[U]);D.length?this._events[R]=D.length===1?D[0]:D:l(this,R)}return this},d.prototype.removeAllListeners=function(_){var E;return _?(E=n?n+_:_,this._events[E]&&l(this,E)):(this._events=new i,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,s.exports=d})(l0)),l0.exports}var Zk=Yk();const Xk=Ni(Zk);function $k(s,t){return Array.apply(0,new Array(Math.ceil(s.length/t))).map((n,i)=>s.slice(i*t,(i+1)*t))}const Hs=s=>"version"in s;function Wk(s){return s.reduce((t,n)=>t+n.toString(16).padStart(2,"0"),"0x")}function Qk(s){s.indexOf("0x")===0&&(s=s.substr(2)),s.length%2===1&&(s="0"+s);let t=s.match(/.{2}/g);return t===null?Ce.Buffer.from([]):Ce.Buffer.from(t.map(n=>parseInt(n,16)))}var Jk=Object.freeze({__proto__:null,encode:Wk,decode:Qk});function Jw(s){return new TextDecoder("utf-8").decode(s)}function eI(s){return new TextEncoder().encode(s)}var tI=Object.freeze({__proto__:null,decode:Jw,encode:eI});function C0(s){return sf.encode(s)}function nI(s){return sf.decode(s)}var rI=Object.freeze({__proto__:null,encode:C0,decode:nI});function iI(s){return s.toString("base64")}function _p(s){return Ce.Buffer.from(s,"base64")}var sI=Object.freeze({__proto__:null,encode:iI,decode:_p}),aI=Object.freeze({__proto__:null,hex:Jk,utf8:tI,bs58:rI,base64:sI});function ls(s){return"accounts"in s}async function oI(s){const t=(await ve.findProgramAddress([],s))[0];return await ve.createWithSeed(t,cI(),s)}function cI(){return"anchor:idl"}const uI=et.struct([et.publicKey("authority"),et.vecU8("data")]);function lI(s){return uI.decode(s)}function fI(s){const t=["name","path","account","relations","generic"],n=o=>o.split(".").map(l=>kN(l,{locale:!1})).join("."),i=o=>{for(const l in o){const d=o[l];t.includes(l)?o[l]=Array.isArray(d)?d.map(n):n(d):typeof d=="object"&&i(d)}},c=structuredClone(s);return i(c),c}function to(s,t,n,i){return s?.length?s[0].name?n(s):i(s):t()}function dI(s){const t=new Map;return s.errors&&s.errors.forEach(n=>{var i;let c=(i=n.msg)!==null&&i!==void 0?i:n.name;t.set(n.code,c)}),t}function hI(s,...t){if(s.args.length!=t.length)throw new Error("Invalid argument length");const n={};let i=0;return s.args.forEach(c=>{n[c.name]=t[i],i+=1}),n}function ev(s,t={}){s.forEach(n=>{if(ls(n))ev(n.accounts,t[n.name]);else if(!t[n.name])throw new Error(`Account \`${n.name}\` not provided.`)})}function br(s){return s instanceof ve?s:new ve(s)}class pI extends TypeError{constructor(t,n){let i;const{message:c,...o}=t,{path:l}=t,d=l.length===0?c:"At path: "+l.join(".")+" -- "+c;super(d),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>{var y;return(y=i)!=null?y:i=[t,...n()]}}}function mI(s){return oo(s)&&typeof s[Symbol.iterator]=="function"}function oo(s){return typeof s=="object"&&s!=null}function _s(s){return typeof s=="string"?JSON.stringify(s):""+s}function yI(s){const{done:t,value:n}=s.next();return t?void 0:n}function gI(s,t,n,i){if(s===!0)return;s===!1?s={}:typeof s=="string"&&(s={message:s});const{path:c,branch:o}=t,{type:l}=n,{refinement:d,message:y="Expected a value of type `"+l+"`"+(d?" with refinement `"+d+"`":"")+", but received: `"+_s(i)+"`"}=s;return{value:i,type:l,refinement:d,key:c[c.length-1],path:c,branch:o,...s,message:y}}function*s_(s,t,n,i){mI(s)||(s=[s]);for(const c of s){const o=gI(c,t,n,i);o&&(yield o)}}function*wp(s,t,n){n===void 0&&(n={});const{path:i=[],branch:c=[s],coerce:o=!1,mask:l=!1}=n,d={path:i,branch:c};if(o&&(s=t.coercer(s,d),l&&t.type!=="type"&&oo(t.schema)&&oo(s)&&!Array.isArray(s)))for(const _ in s)t.schema[_]===void 0&&delete s[_];let y=!0;for(const _ of t.validator(s,d))y=!1,yield[_,void 0];for(let[_,E,C]of t.entries(s,d)){const I=wp(E,C,{path:_===void 0?i:[...i,_],branch:_===void 0?c:[...c,E],coerce:o,mask:l});for(const R of I)R[0]?(y=!1,yield[R[0],void 0]):o&&(E=R[1],_===void 0?s=E:s instanceof Map?s.set(_,E):s instanceof Set?s.add(E):oo(s)&&(s[_]=E))}if(y)for(const _ of t.refiner(s,d))y=!1,yield[_,void 0];y&&(yield[void 0,s])}class ws{constructor(t){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:n,schema:i,validator:c,refiner:o,coercer:l=y=>y,entries:d=function*(){}}=t;this.type=n,this.schema=i,this.entries=d,this.coercer=l,c?this.validator=(y,_)=>{const E=c(y,_);return s_(E,_,this,y)}:this.validator=()=>[],o?this.refiner=(y,_)=>{const E=o(y,_);return s_(E,_,this,y)}:this.refiner=()=>[]}assert(t){return bI(t,this)}create(t){return vp(t,this)}is(t){return tv(t,this)}mask(t){return _I(t,this)}validate(t,n){return n===void 0&&(n={}),jc(t,this,n)}}function bI(s,t){const n=jc(s,t);if(n[0])throw n[0]}function vp(s,t){const n=jc(s,t,{coerce:!0});if(n[0])throw n[0];return n[1]}function _I(s,t){const n=jc(s,t,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}function tv(s,t){return!jc(s,t)[0]}function jc(s,t,n){n===void 0&&(n={});const i=wp(s,t,n),c=yI(i);return c[0]?[new pI(c[0],function*(){for(const l of i)l[0]&&(yield l[0])}),void 0]:[void 0,c[1]]}function Pc(s,t){return new ws({type:s,schema:null,validator:t})}function wI(){return Pc("any",()=>!0)}function f0(s){return new ws({type:"array",schema:s,*entries(t){if(s&&Array.isArray(t))for(const[n,i]of t.entries())yield[n,i,s]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||"Expected an array value, but received: "+_s(t)}})}function vI(){return Pc("boolean",s=>typeof s=="boolean")}function a_(s){const t=_s(s);return new ws({type:"literal",schema:s,validator(n){return n===s||"Expected the literal `"+t+"`, but received: "+_s(n)}})}function ml(s){return new ws({...s,validator:(t,n)=>t===null||s.validator(t,n),refiner:(t,n)=>t===null||s.refiner(t,n)})}function Al(){return Pc("number",s=>typeof s=="number"&&!isNaN(s)||"Expected a number, but received: "+_s(s))}function Rl(s){return new ws({...s,validator:(t,n)=>t===void 0||s.validator(t,n),refiner:(t,n)=>t===void 0||s.refiner(t,n)})}function Xs(){return Pc("string",s=>typeof s=="string"||"Expected a string, but received: "+_s(s))}function ms(s){const t=Object.keys(s);return new ws({type:"type",schema:s,*entries(n){if(oo(n))for(const i of t)yield[i,n[i],s[i]]},validator(n){return oo(n)||"Expected an object, but received: "+_s(n)}})}function nv(s){const t=s.map(n=>n.type).join(" | ");return new ws({type:"union",schema:null,coercer(n,i){return(s.find(o=>{const[l]=o.validate(n,{coerce:!0});return!l})||Ep()).coercer(n,i)},validator(n,i){const c=[];for(const o of s){const[...l]=wp(n,o,i),[d]=l;if(d[0])for(const[y]of l)y&&c.push(y);else return[]}return["Expected the value to satisfy a union of `"+t+"`, but received: "+_s(n),...c]}})}function Ep(){return Pc("unknown",()=>!0)}function EI(s,t,n){return new ws({...s,coercer:(i,c)=>tv(i,t)?s.coercer(n(i,c),c):s.coercer(i,c)})}async function SI(s,t,n,i){s=br(s),i||(i=jl());const c=new mt;if(c.add(new xt({programId:s,keys:t??[],data:n})),i.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");return await i.sendAndConfirm(c,[])}const o_=99;async function AI(s,t,n){return(await Sp(s,t,n)).map(c=>c?{publicKey:c.publicKey,account:c.account}:null)}async function Sp(s,t,n){if(t.length<=o_)return await c_(s,t,n);{const i=$k(t,o_);return(await Promise.all(i.map(o=>c_(s,o,n)))).flat()}}async function c_(s,t,n){const i=n??s.commitment,{value:c,context:o}=await s.getMultipleAccountsInfoAndContext(t,i);return c.map((d,y)=>d===null?null:{publicKey:t[y],account:d,context:o})}async function rv(s,t,n,i,c){var o;n&&n.length>0&&t.sign(...n);const l=t._compile(),d=l.serialize(),_=t._serialize(d).toString("base64"),E={encoding:"base64",commitment:i??s.commitment};if(c){const M=(Array.isArray(c)?c:l.nonProgramIds()).map(U=>U.toBase58());E.accounts={encoding:"base64",addresses:M}}n&&n.length>0&&(E.sigVerify=!0);const C=[_,E],I=await s._rpcRequest("simulateTransaction",C),R=vp(I,OI);if("error"in R){let M;if("data"in R.error&&(M=(o=R.error.data)===null||o===void 0?void 0:o.logs,M&&Array.isArray(M))){const U=`
    `,D=U+M.join(U);console.error(R.error.message,D)}throw new bs("failed to simulate transaction: "+R.error.message,M)}return R.result}function RI(s){return EI(iv(s),xI,t=>"error"in t?t:{...t,result:vp(t.result,s)})}const xI=iv(Ep());function iv(s){return nv([ms({jsonrpc:a_("2.0"),id:Xs(),result:s}),ms({jsonrpc:a_("2.0"),id:Xs(),error:ms({code:Ep(),message:Xs(),data:Rl(wI())})})])}function TI(s){return RI(ms({context:ms({slot:Al()}),value:s}))}const OI=TI(ms({err:ml(nv([ms({}),Xs()])),logs:ml(f0(Xs())),accounts:Rl(ml(f0(ml(ms({executable:vI(),owner:Xs(),lamports:Al(),data:f0(Xs()),rentEpoch:Rl(Al())}))))),unitsConsumed:Rl(Al())}));var NI=Object.freeze({__proto__:null,invoke:SI,getMultipleAccounts:AI,getMultipleAccountsAndContext:Sp,simulateTransaction:rv});class Cc{constructor(t,n,i=Cc.defaultOptions()){this.connection=t,this.wallet=n,this.opts=i,this.publicKey=n?.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(t,n=Cc.defaultOptions()){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(t,n,i){var c,o,l,d;if(i===void 0&&(i=this.opts),Hs(t))n&&t.sign(n);else if(t.feePayer=(c=t.feePayer)!==null&&c!==void 0?c:this.wallet.publicKey,t.recentBlockhash=(await this.connection.getLatestBlockhash(i.preflightCommitment)).blockhash,n)for(const _ of n)t.partialSign(_);t=await this.wallet.signTransaction(t);const y=t.serialize();try{return await u_(this.connection,y,i)}catch(_){if(_ instanceof B0){const E=C0(Hs(t)?((o=t.signatures)===null||o===void 0?void 0:o[0])||new Uint8Array:(l=t.signature)!==null&&l!==void 0?l:new Uint8Array),C=Hs(t)?0:void 0,I=await this.connection.getTransaction(E,{commitment:"confirmed",maxSupportedTransactionVersion:C});if(I){const R=(d=I.meta)===null||d===void 0?void 0:d.logMessages;throw R?new bs(_.message,R):_}else throw _}else throw _}}async sendAll(t,n){var i,c,o;n===void 0&&(n=this.opts);const l=(await this.connection.getLatestBlockhash(n.preflightCommitment)).blockhash;let d=t.map(E=>{var C,I;if(Hs(E.tx)){let R=E.tx;return E.signers&&R.sign(E.signers),R}else{let R=E.tx,M=(C=E.signers)!==null&&C!==void 0?C:[];return R.feePayer=(I=R.feePayer)!==null&&I!==void 0?I:this.wallet.publicKey,R.recentBlockhash=l,M.forEach(U=>{R.partialSign(U)}),R}});const y=await this.wallet.signAllTransactions(d),_=[];for(let E=0;E<d.length;E+=1){const C=y[E],I=C.serialize();try{_.push(await u_(this.connection,I,n))}catch(R){if(R instanceof B0){const M=C0(Hs(C)?((i=C.signatures)===null||i===void 0?void 0:i[0])||new Uint8Array:(c=C.signature)!==null&&c!==void 0?c:new Uint8Array),U=Hs(C)?0:void 0,D=await this.connection.getTransaction(M,{commitment:"confirmed",maxSupportedTransactionVersion:U});if(D){const j=(o=D.meta)===null||o===void 0?void 0:o.logMessages;throw j?new bs(R.message,j):R}else throw R}else throw R}}return _}async simulate(t,n,i,c){let o=(await this.connection.getLatestBlockhash(i??this.connection.commitment)).blockhash,l;if(Hs(t)?(n&&n.length>0&&(t.sign(n),t=await this.wallet.signTransaction(t)),l=await this.connection.simulateTransaction(t,{commitment:i})):(t.feePayer=t.feePayer||this.wallet.publicKey,t.recentBlockhash=o,n&&n.length>0&&(t=await this.wallet.signTransaction(t)),l=await rv(this.connection,t,n,i,c)),l.value.err)throw new kI(l.value);return l.value}}class kI extends Error{constructor(t,n){super(n),this.simulationResponse=t}}async function u_(s,t,n){const i=n?{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot}:{};let c;const o=Date.now();for(;Date.now()-o<6e4;)try{const l=await s.sendRawTransaction(t,i);if(n?.blockhash)if(i.maxRetries===0){const d=AbortSignal.timeout(15e3);c=(await s.confirmTransaction({abortSignal:d,signature:l,...n.blockhash},n&&n.commitment)).value}else c=(await s.confirmTransaction({signature:l,...n.blockhash},n&&n.commitment)).value;else c=(await s.confirmTransaction(l,n&&n.commitment)).value;if(c.err)throw new B0(`Raw transaction ${l} failed (${JSON.stringify(c)})`);return l}catch(l){if(l.name==="TimeoutError")continue;throw l}throw Error("Transaction failed to confirm in 60s")}class B0 extends Error{constructor(t){super(t)}}function jl(){return Cc.local()}var II=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function CI(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var he={};Object.defineProperty(he,"__esModule",{value:!0});var sv=he.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=tE=he.ANCHOR_ERROR__REQUIRE_VIOLATED=eE=he.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=Jv=he.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=Qv=he.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=Wv=he.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=$v=he.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=Xv=he.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=Zv=he.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=Yv=he.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=Fv=he.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=Gv=he.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=Vv=he.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=Kv=he.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=qv=he.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=Pv=he.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=jv=he.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=Hv=he.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=zv=he.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=Lv=he.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=Dv=he.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=Uv=he.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=Mv=he.ANCHOR_ERROR__CONSTRAINT_SPACE=Bv=he.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=Cv=he.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=Iv=he.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=kv=he.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=Nv=he.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=Ov=he.ANCHOR_ERROR__CONSTRAINT_ZERO=Tv=he.ANCHOR_ERROR__CONSTRAINT_ADDRESS=xv=he.ANCHOR_ERROR__CONSTRAINT_CLOSE=Rv=he.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=Av=he.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=Sv=he.ANCHOR_ERROR__CONSTRAINT_STATE=Ev=he.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=vv=he.ANCHOR_ERROR__CONSTRAINT_SEEDS=wv=he.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=_v=he.ANCHOR_ERROR__CONSTRAINT_OWNER=bv=he.ANCHOR_ERROR__CONSTRAINT_RAW=gv=he.ANCHOR_ERROR__CONSTRAINT_SIGNER=yv=he.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=mv=he.ANCHOR_ERROR__CONSTRAINT_MUT=pv=he.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=hv=he.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=dv=he.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=fv=he.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=lv=he.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=uv=he.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=cv=he.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=ov=he.ANCHOR_ERROR__INSTRUCTION_MISSING=void 0,av=he.ANCHOR_ERROR__DEPRECATED=TE=he.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=xE=he.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=RE=he.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=AE=he.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=SE=he.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=EE=he.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=vE=he.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=wE=he.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=_E=he.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=bE=he.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=gE=he.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=yE=he.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=mE=he.ANCHOR_ERROR__INVALID_PROGRAM_ID=pE=he.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=hE=he.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=dE=he.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=fE=he.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=lE=he.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=uE=he.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=cE=he.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=oE=he.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=aE=he.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=sE=he.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=iE=he.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=rE=he.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=nE=he.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=void 0,ov=he.ANCHOR_ERROR__INSTRUCTION_MISSING=100,cv=he.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=101,uv=he.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=102,lv=he.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=103,fv=he.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=1e3,dv=he.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=1001,hv=he.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=1002,pv=he.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=1500,mv=he.ANCHOR_ERROR__CONSTRAINT_MUT=2e3,yv=he.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=2001,gv=he.ANCHOR_ERROR__CONSTRAINT_SIGNER=2002,bv=he.ANCHOR_ERROR__CONSTRAINT_RAW=2003,_v=he.ANCHOR_ERROR__CONSTRAINT_OWNER=2004,wv=he.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=2005,vv=he.ANCHOR_ERROR__CONSTRAINT_SEEDS=2006,Ev=he.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=2007,Sv=he.ANCHOR_ERROR__CONSTRAINT_STATE=2008,Av=he.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=2009,Rv=he.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=2010,xv=he.ANCHOR_ERROR__CONSTRAINT_CLOSE=2011,Tv=he.ANCHOR_ERROR__CONSTRAINT_ADDRESS=2012,Ov=he.ANCHOR_ERROR__CONSTRAINT_ZERO=2013,Nv=he.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=2014,kv=he.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=2015,Iv=he.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=2016,Cv=he.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=2017,Bv=he.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=2018,Mv=he.ANCHOR_ERROR__CONSTRAINT_SPACE=2019,Uv=he.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=2020,Dv=he.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=2021,Lv=he.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=2022,zv=he.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=2023,Hv=he.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=2024,jv=he.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=2025,Pv=he.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=2026,qv=he.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=2027,Kv=he.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=2028,Vv=he.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=2029,Gv=he.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=2030,Fv=he.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=2031,Yv=he.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=2032,Zv=he.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=2033,Xv=he.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=2034,$v=he.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=2035,Wv=he.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=2036,Qv=he.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=2037,Jv=he.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=2038,eE=he.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=2039,tE=he.ANCHOR_ERROR__REQUIRE_VIOLATED=2500;sv=he.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=2501;var nE=he.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=2502,rE=he.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=2503,iE=he.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=2504,sE=he.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=2505,aE=he.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=2506,oE=he.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=3e3,cE=he.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=3001,uE=he.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=3002,lE=he.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=3003,fE=he.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=3004,dE=he.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=3005,hE=he.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=3006,pE=he.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=3007,mE=he.ANCHOR_ERROR__INVALID_PROGRAM_ID=3008,yE=he.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=3009,gE=he.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=3010,bE=he.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=3011,_E=he.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=3012,wE=he.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=3013,vE=he.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=3014,EE=he.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=3015,SE=he.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=3016,AE=he.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=3017,RE=he.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=4100,xE=he.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=4101,TE=he.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=4102;av=he.ANCHOR_ERROR__DEPRECATED=5e3;const BI=new Set(["debug-logs"]),OE=new Map;function MI(s){if(!BI.has(s))throw new Error("Invalid feature");OE.set(s,!0)}function Ap(s){return OE.get(s)!==void 0}var UI=Object.freeze({__proto__:null,set:MI,isSet:Ap});class us extends Error{constructor(t){super(t),this.name="IdlError"}}class qc{constructor(t){this.stack=t}static parse(t){var n;const i=/^Program (\w*) invoke/,c=/^Program \w* success/,o=[];for(let l=0;l<t.length;l++){if(c.exec(t[l])){o.pop();continue}const d=(n=i.exec(t[l]))===null||n===void 0?void 0:n[1];d&&o.push(new ve(d))}return new qc(o)}}class Sc extends Error{constructor(t,n,i,c,o,l){super(i.join(`
`).replace("Program log: ","")),this.errorLogs=i,this.logs=c,this.error={errorCode:t,errorMessage:n,comparedValues:l,origin:o},this._programErrorStack=qc.parse(c)}static parse(t){if(!t)return null;const n=t.findIndex(I=>I.startsWith("Program log: AnchorError"));if(n===-1)return null;const i=t[n],c=[i];let o;if(n+1<t.length){if(t[n+1]==="Program log: Left:"){const I=/^Program log: (.*)$/,R=I.exec(t[n+2])[1],M=I.exec(t[n+4])[1];o=[new ve(R),new ve(M)],c.push(...t.slice(n+1,n+5))}else if(t[n+1].startsWith("Program log: Left:")){const I=/^Program log: (Left|Right): (.*)$/,R=I.exec(t[n+1])[2],M=I.exec(t[n+2])[2];c.push(...t.slice(n+1,n+3)),o=[R,M]}}const d=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(i),_=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(i),C=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(i);if(d){const[I,R,M]=d.slice(1,4),U={code:I,number:parseInt(R)};return new Sc(U,M,c,t,void 0,o)}else if(_){const[I,R,M,U,D]=_.slice(1,6),j={code:M,number:parseInt(U)},F={file:I,line:parseInt(R)};return new Sc(j,D,c,t,F,o)}else if(C){const[I,R,M,U]=C.slice(1,5),D=I,j={code:R,number:parseInt(M)};return new Sc(j,U,c,t,D,o)}else return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class Pl extends Error{constructor(t,n,i){super(),this.code=t,this.msg=n,this.logs=i,i&&(this._programErrorStack=qc.parse(i))}static parse(t,n){const i=t.toString();let c;if(i.includes("custom program error:")){let d=i.split("custom program error: ");if(d.length!==2)return null;c=d[1]}else{const d=i.match(/"Custom":([0-9]+)}/g);if(!d||d.length>1)return null;c=d[0].match(/([0-9]+)/g)[0]}let o;try{o=parseInt(c)}catch{return null}let l=n.get(o);return l!==void 0?new Pl(o,l,t.logs):(l=DI.get(o),l!==void 0?new Pl(o,l,t.logs):null)}get program(){var t;return(t=this._programErrorStack)===null||t===void 0?void 0:t.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var t;return(t=this._programErrorStack)===null||t===void 0?void 0:t.stack}toString(){return this.msg}}function NE(s,t){Ap("debug-logs")&&console.log("Translating error:",s);const n=Sc.parse(s.logs);if(n)return n;const i=Pl.parse(s,t);if(i)return i;if(s.logs){const c={get:function(o,l){return l==="programErrorStack"?o.programErrorStack.stack:l==="program"?o.programErrorStack.stack[s.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return s.programErrorStack=qc.parse(s.logs),new Proxy(s,c)}return s}const Ne={InstructionMissing:ov,InstructionFallbackNotFound:cv,InstructionDidNotDeserialize:uv,InstructionDidNotSerialize:lv,IdlInstructionStub:fv,IdlInstructionInvalidProgram:dv,IdlAccountNotEmpty:hv,EventInstructionStub:pv,ConstraintMut:mv,ConstraintHasOne:yv,ConstraintSigner:gv,ConstraintRaw:bv,ConstraintOwner:_v,ConstraintRentExempt:wv,ConstraintSeeds:vv,ConstraintExecutable:Ev,ConstraintState:Sv,ConstraintAssociated:Av,ConstraintAssociatedInit:Rv,ConstraintClose:xv,ConstraintAddress:Tv,ConstraintZero:Ov,ConstraintTokenMint:Nv,ConstraintTokenOwner:kv,ConstraintMintMintAuthority:Iv,ConstraintMintFreezeAuthority:Cv,ConstraintMintDecimals:Bv,ConstraintSpace:Mv,ConstraintAccountIsNone:Uv,ConstraintTokenTokenProgram:Dv,ConstraintMintTokenProgram:Lv,ConstraintAssociatedTokenTokenProgram:zv,ConstraintMintGroupPointerExtension:Hv,ConstraintMintGroupPointerExtensionAuthority:jv,ConstraintMintGroupPointerExtensionGroupAddress:Pv,ConstraintMintGroupMemberPointerExtension:qv,ConstraintMintGroupMemberPointerExtensionAuthority:Kv,ConstraintMintGroupMemberPointerExtensionMemberAddress:Vv,ConstraintMintMetadataPointerExtension:Gv,ConstraintMintMetadataPointerExtensionAuthority:Fv,ConstraintMintMetadataPointerExtensionMetadataAddress:Yv,ConstraintMintCloseAuthorityExtension:Zv,ConstraintMintCloseAuthorityExtensionAuthority:Xv,ConstraintMintPermanentDelegateExtension:$v,ConstraintMintPermanentDelegateExtensionDelegate:Wv,ConstraintMintTransferHookExtension:Qv,ConstraintMintTransferHookExtensionAuthority:Jv,ConstraintMintTransferHookExtensionProgramId:eE,RequireViolated:tE,RequireEqViolated:sv,RequireKeysEqViolated:nE,RequireNeqViolated:rE,RequireKeysNeqViolated:iE,RequireGtViolated:sE,RequireGteViolated:aE,AccountDiscriminatorAlreadySet:oE,AccountDiscriminatorNotFound:cE,AccountDiscriminatorMismatch:uE,AccountDidNotDeserialize:lE,AccountDidNotSerialize:fE,AccountNotEnoughKeys:dE,AccountNotMutable:hE,AccountOwnedByWrongProgram:pE,InvalidProgramId:mE,InvalidProgramExecutable:yE,AccountNotSigner:gE,AccountNotSystemOwned:bE,AccountNotInitialized:_E,AccountNotProgramData:wE,AccountNotAssociatedTokenAccount:vE,AccountSysvarMismatch:EE,AccountReallocExceedsLimit:SE,AccountDuplicateReallocs:AE,DeclaredProgramIdMismatch:RE,TryingToInitPayerAsProgramAccount:xE,InvalidNumericConversion:TE,Deprecated:av},DI=new Map([[Ne.InstructionMissing,"Instruction discriminator not provided"],[Ne.InstructionFallbackNotFound,"Fallback functions are not supported"],[Ne.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[Ne.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[Ne.IdlInstructionStub,"The program was compiled without idl instructions"],[Ne.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[Ne.IdlAccountNotEmpty,"IDL account must be empty in order to resize, try closing first"],[Ne.EventInstructionStub,"The program was compiled without `event-cpi` feature"],[Ne.ConstraintMut,"A mut constraint was violated"],[Ne.ConstraintHasOne,"A has one constraint was violated"],[Ne.ConstraintSigner,"A signer constraint was violated"],[Ne.ConstraintRaw,"A raw constraint was violated"],[Ne.ConstraintOwner,"An owner constraint was violated"],[Ne.ConstraintRentExempt,"A rent exemption constraint was violated"],[Ne.ConstraintSeeds,"A seeds constraint was violated"],[Ne.ConstraintExecutable,"An executable constraint was violated"],[Ne.ConstraintState,"Deprecated Error, feel free to replace with something else"],[Ne.ConstraintAssociated,"An associated constraint was violated"],[Ne.ConstraintAssociatedInit,"An associated init constraint was violated"],[Ne.ConstraintClose,"A close constraint was violated"],[Ne.ConstraintAddress,"An address constraint was violated"],[Ne.ConstraintZero,"Expected zero account discriminant"],[Ne.ConstraintTokenMint,"A token mint constraint was violated"],[Ne.ConstraintTokenOwner,"A token owner constraint was violated"],[Ne.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[Ne.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[Ne.ConstraintMintDecimals,"A mint decimals constraint was violated"],[Ne.ConstraintSpace,"A space constraint was violated"],[Ne.ConstraintAccountIsNone,"A required account for the constraint is None"],[Ne.ConstraintTokenTokenProgram,"A token account token program constraint was violated"],[Ne.ConstraintMintTokenProgram,"A mint token program constraint was violated"],[Ne.ConstraintAssociatedTokenTokenProgram,"An associated token account token program constraint was violated"],[Ne.ConstraintMintGroupPointerExtension,"A group pointer extension constraint was violated"],[Ne.ConstraintMintGroupPointerExtensionAuthority,"A group pointer extension authority constraint was violated"],[Ne.ConstraintMintGroupPointerExtensionGroupAddress,"A group pointer extension group address constraint was violated"],[Ne.ConstraintMintGroupMemberPointerExtension,"A group member pointer extension constraint was violated"],[Ne.ConstraintMintGroupMemberPointerExtensionAuthority,"A group member pointer extension authority constraint was violated"],[Ne.ConstraintMintGroupMemberPointerExtensionMemberAddress,"A group member pointer extension group address constraint was violated"],[Ne.ConstraintMintMetadataPointerExtension,"A metadata pointer extension constraint was violated"],[Ne.ConstraintMintMetadataPointerExtensionAuthority,"A metadata pointer extension authority constraint was violated"],[Ne.ConstraintMintMetadataPointerExtensionMetadataAddress,"A metadata pointer extension metadata address constraint was violated"],[Ne.ConstraintMintCloseAuthorityExtension,"A close authority constraint was violated"],[Ne.ConstraintMintCloseAuthorityExtensionAuthority,"A close authority extension authority constraint was violated"],[Ne.ConstraintMintPermanentDelegateExtension,"A permanent delegate extension constraint was violated"],[Ne.ConstraintMintPermanentDelegateExtensionDelegate,"A permanent delegate extension delegate constraint was violated"],[Ne.ConstraintMintTransferHookExtension,"A transfer hook extension constraint was violated"],[Ne.ConstraintMintTransferHookExtensionAuthority,"A transfer hook extension authority constraint was violated"],[Ne.ConstraintMintTransferHookExtensionProgramId,"A transfer hook extension transfer hook program id constraint was violated"],[Ne.RequireViolated,"A require expression was violated"],[Ne.RequireEqViolated,"A require_eq expression was violated"],[Ne.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[Ne.RequireNeqViolated,"A require_neq expression was violated"],[Ne.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[Ne.RequireGtViolated,"A require_gt expression was violated"],[Ne.RequireGteViolated,"A require_gte expression was violated"],[Ne.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[Ne.AccountDiscriminatorNotFound,"No discriminator was found on the account"],[Ne.AccountDiscriminatorMismatch,"Account discriminator did not match what was expected"],[Ne.AccountDidNotDeserialize,"Failed to deserialize the account"],[Ne.AccountDidNotSerialize,"Failed to serialize the account"],[Ne.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[Ne.AccountNotMutable,"The given account is not mutable"],[Ne.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[Ne.InvalidProgramId,"Program ID was not as expected"],[Ne.InvalidProgramExecutable,"Program account is not executable"],[Ne.AccountNotSigner,"The given account did not sign"],[Ne.AccountNotSystemOwned,"The given account is not owned by the system program"],[Ne.AccountNotInitialized,"The program expected this account to be already initialized"],[Ne.AccountNotProgramData,"The given account is not a program data account"],[Ne.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[Ne.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[Ne.AccountReallocExceedsLimit,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[Ne.AccountDuplicateReallocs,"The account was duplicated for more than one reallocation"],[Ne.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[Ne.TryingToInitPayerAsProgramAccount,"You cannot/should not initialize the payer account as a program account"],[Ne.InvalidNumericConversion,"The program could not perform the numeric conversion, out of range integral type conversion attempted"],[Ne.Deprecated,"The API being used is deprecated and should no longer be used"]]);class dt{static fieldLayout(t,n=[],i){const c=t.name;switch(t.type){case"bool":return et.bool(c);case"u8":return et.u8(c);case"i8":return et.i8(c);case"u16":return et.u16(c);case"i16":return et.i16(c);case"u32":return et.u32(c);case"i32":return et.i32(c);case"f32":return et.f32(c);case"u64":return et.u64(c);case"i64":return et.i64(c);case"f64":return et.f64(c);case"u128":return et.u128(c);case"i128":return et.i128(c);case"u256":return et.u256(c);case"i256":return et.i256(c);case"bytes":return et.vecU8(c);case"string":return et.str(c);case"pubkey":return et.publicKey(c);default:{if("option"in t.type)return et.option(dt.fieldLayout({type:t.type.option},n,i),c);if("vec"in t.type)return et.vec(dt.fieldLayout({type:t.type.vec},n,i),c);if("array"in t.type){let[o,l]=t.type.array;return l=dt.resolveArrayLen(l,i),et.array(dt.fieldLayout({type:o},n,i),l,c)}if("defined"in t.type){if(!n)throw new us("User defined types not provided");const o=t.type.defined.name,l=n.find(d=>d.name===o);if(!l)throw new us(`Type not found: ${t.name}`);return dt.typeDefLayout({typeDef:l,types:n,genericArgs:i??t.type.defined.generics,name:c})}if("generic"in t.type){const o=i?.at(0);if(o?.kind!=="type")throw new us(`Invalid generic field: ${t.name}`);return dt.fieldLayout({...t,type:o.type},n)}throw new us(`Not yet implemented: ${JSON.stringify(t.type)}`)}}}static typeDefLayout({typeDef:t,types:n,name:i,genericArgs:c}){switch(t.type.kind){case"struct":{const o=to(t.type.fields,()=>[],l=>l.map(d=>{const y=c&&dt.resolveGenericArgs({type:d.type,typeDef:t,genericArgs:c});return dt.fieldLayout(d,n,y)}),l=>l.map((d,y)=>{const _=c&&dt.resolveGenericArgs({type:d,typeDef:t,genericArgs:c});return dt.fieldLayout({name:y.toString(),type:d},n,_)}));return et.struct(o,i)}case"enum":{const o=t.type.variants.map(l=>{const d=to(l.fields,()=>[],y=>y.map(_=>{const E=c&&dt.resolveGenericArgs({type:_.type,typeDef:t,genericArgs:c});return dt.fieldLayout(_,n,E)}),y=>y.map((_,E)=>{const C=c&&dt.resolveGenericArgs({type:_,typeDef:t,genericArgs:c});return dt.fieldLayout({name:E.toString(),type:_},n,C)}));return et.struct(d,l.name)});return i!==void 0?et.rustEnum(o).replicate(i):et.rustEnum(o,i)}case"type":return dt.fieldLayout({type:t.type.alias,name:i},n)}}static typeSize(t,n,i){var c;switch(t){case"bool":return 1;case"u8":return 1;case"i8":return 1;case"i16":return 2;case"u16":return 2;case"u32":return 4;case"i32":return 4;case"f32":return 4;case"u64":return 8;case"i64":return 8;case"f64":return 8;case"u128":return 16;case"i128":return 16;case"u256":return 32;case"i256":return 32;case"bytes":return 1;case"string":return 1;case"pubkey":return 32;default:if("option"in t)return 1+dt.typeSize(t.option,n,i);if("coption"in t)return 4+dt.typeSize(t.coption,n,i);if("vec"in t)return 1;if("array"in t){let[o,l]=t.array;return l=dt.resolveArrayLen(l,i),dt.typeSize(o,n,i)*l}if("defined"in t){const o=(c=n.types)===null||c===void 0?void 0:c.find(d=>d.name===t.defined.name);if(!o)throw new us(`Type not found: ${JSON.stringify(t)}`);const l=d=>{const y=i??t.defined.generics,_=y&&dt.resolveGenericArgs({type:d,typeDef:o,genericArgs:y});return dt.typeSize(d,n,_)};switch(o.type.kind){case"struct":return to(o.type.fields,()=>[0],d=>d.map(y=>l(y.type)),d=>d.map(y=>l(y))).reduce((d,y)=>d+y,0);case"enum":{const d=o.type.variants.map(y=>to(y.fields,()=>[0],_=>_.map(E=>l(E.type)),_=>_.map(E=>l(E))).reduce((_,E)=>_+E,0));return Math.max(...d)+1}case"type":return dt.typeSize(o.type.alias,n,i)}}if("generic"in t){const o=i?.at(0);if(o?.kind!=="type")throw new us(`Invalid generic: ${t.generic}`);return dt.typeSize(o.type,n,i)}throw new Error(`Invalid type ${JSON.stringify(t)}`)}}static resolveArrayLen(t,n){if(typeof t=="number")return t;if(n){const i=n.find(c=>c.kind==="const");i?.kind==="const"&&(t=+i.value)}if(typeof t!="number")throw new us("Generic array length did not resolve");return t}static resolveGenericArgs({type:t,typeDef:n,genericArgs:i,isDefined:c}){if(typeof t!="object")return null;for(const o in n.generics){const l=n.generics[o];if("generic"in t&&l.name===t.generic)return[i[o]];if("option"in t){const d=dt.resolveGenericArgs({type:t.option,typeDef:n,genericArgs:i,isDefined:c});if(!d||!c)return d;if(d[0].kind==="type")return[{kind:"type",type:{option:d[0].type}}]}if("vec"in t){const d=dt.resolveGenericArgs({type:t.vec,typeDef:n,genericArgs:i,isDefined:c});if(!d||!c)return d;if(d[0].kind==="type")return[{kind:"type",type:{vec:d[0].type}}]}if("array"in t){const[d,y]=t.array,_=typeof y=="object",E=dt.resolveGenericArgs({type:d,typeDef:n,genericArgs:i,isDefined:c})||[];if(_){const C=n.generics.findIndex(I=>I.name===y.generic);C!==-1&&E.push(i[C])}if(E.length>0){if(!c)return E;if(E[0].kind==="type"&&E[1].kind==="const")return[{kind:"type",type:{array:[E[0].type,+E[1].value]}}]}if(_&&l.name===y.generic){const C=i[o];return c?[{kind:"type",type:{array:[d,+C.value]}}]:[C]}return null}if("defined"in t)return t.defined.generics?t.defined.generics.flatMap(d=>{switch(d.kind){case"type":return dt.resolveGenericArgs({type:d.type,typeDef:n,genericArgs:i,isDefined:!0});case"const":return[d]}}).filter(d=>d!==null):null}return null}}class LI{constructor(t){this.idl=t;const n=t.instructions.map(i=>{const c=i.name,o=i.args.map(d=>dt.fieldLayout(d,t.types)),l=et.struct(o,c);return[c,{discriminator:i.discriminator,layout:l}]});this.ixLayouts=new Map(n)}encode(t,n){const i=Ce.Buffer.alloc(1e3),c=this.ixLayouts.get(t);if(!c)throw new Error(`Unknown method: ${t}`);const o=c.layout.encode(n,i),l=i.slice(0,o);return Ce.Buffer.concat([Ce.Buffer.from(c.discriminator),l])}decode(t,n="hex"){typeof t=="string"&&(t=n==="hex"?Ce.Buffer.from(t,"hex"):sf.decode(t));for(const[i,c]of this.ixLayouts){const o=t.subarray(0,c.discriminator.length);if(o.equals(Ce.Buffer.from(c.discriminator)))return{name:i,data:c.layout.decode(t.subarray(o.length))}}return null}format(t,n){return ir.format(t,n,this.idl)}}class ir{static format(t,n,i){const c=i.instructions.find(y=>t.name===y.name);if(!c)return console.error("Invalid instruction given"),null;const o=c.args.map(y=>({name:y.name,type:ir.formatIdlType(y.type),data:ir.formatIdlData(y,t.data[y.name],i.types)})),l=ir.flattenIdlAccounts(c.accounts),d=n.map((y,_)=>_<l.length?{name:l[_].name,...y}:{name:void 0,...y});return{args:o,accounts:d}}static formatIdlType(t){if(typeof t=="string")return t;if("option"in t)return`Option<${this.formatIdlType(t.option)}>`;if("coption"in t)return`COption<${this.formatIdlType(t.coption)}>`;if("vec"in t)return`Vec<${this.formatIdlType(t.vec)}>`;if("array"in t)return`Array<${t.array[0]}; ${t.array[1]}>`;if("defined"in t){const n=t.defined.name;if(t.defined.generics){const i=t.defined.generics.map(c=>{switch(c.kind){case"type":return ir.formatIdlType(c.type);case"const":return c.value}}).join(", ");return`${n}<${i}>`}return n}throw new Error(`Unknown IDL type: ${t}`)}static formatIdlData(t,n,i){if(typeof t.type=="string")return n.toString();if("vec"in t.type)return"["+n.map(c=>this.formatIdlData({name:"",type:t.type.vec},c,i)).join(", ")+"]";if("option"in t.type)return n===null?"null":this.formatIdlData({name:"",type:t.type.option},n,i);if("defined"in t.type){if(!i)throw new Error("User defined types not provided");const c=t.type.defined.name,o=i.find(l=>l.name===c);if(!o)throw new Error(`Type not found: ${c}`);return ir.formatIdlDataDefined(o,n,i)}return"unknown"}static formatIdlDataDefined(t,n,i){switch(t.type.kind){case"struct":return"{ "+to(t.type.fields,()=>"",c=>Object.entries(n).map(([o,l])=>{const d=c.find(y=>y.name===o);if(!d)throw new Error(`Field not found: ${o}`);return o+": "+ir.formatIdlData(d,l,i)}).join(", "),c=>Object.entries(n).map(([o,l])=>o+": "+ir.formatIdlData({name:"",type:c[o]},l,i)).join(", "))+" }";case"enum":{const c=Object.keys(n)[0],o=t.type.variants.find(d=>d.name===c);if(!o)throw new Error(`Unable to find variant: ${c}`);const l=n[c];return to(o.fields,()=>c,d=>{const y=Object.keys(l).map(_=>{const E=l[_],C=d.find(I=>I.name===_);if(!C)throw new Error(`Field not found: ${_}`);return _+": "+ir.formatIdlData(C,E,i)}).join(", ");return`${c} { ${y} }`},d=>{const y=Object.entries(l).map(([_,E])=>_+": "+ir.formatIdlData({name:"",type:d[_]},E,i)).join(", ");return`${c} { ${y} }`})}case"type":return ir.formatIdlType(t.type.alias)}}static flattenIdlAccounts(t,n){return t.map(i=>{const c=zI(i.name);if(i.hasOwnProperty("accounts")){const o=n?`${n} > ${c}`:c;return ir.flattenIdlAccounts(i.accounts,o)}else return{...i,name:n?`${n} > ${c}`:c}}).flat()}}function zI(s){const t=s.replace(/([A-Z])/g," $1");return t.charAt(0).toUpperCase()+t.slice(1)}class Rp{constructor(t){if(this.idl=t,!t.accounts){this.accountLayouts=new Map;return}const n=t.types;if(!n)throw new Error("Accounts require `idl.types`");const i=t.accounts.map(c=>{const o=n.find(l=>l.name===c.name);if(!o)throw new Error(`Account not found: ${c.name}`);return[c.name,{discriminator:c.discriminator,layout:dt.typeDefLayout({typeDef:o,types:n})}]});this.accountLayouts=new Map(i)}async encode(t,n){const i=Ce.Buffer.alloc(1e3),c=this.accountLayouts.get(t);if(!c)throw new Error(`Unknown account: ${t}`);const o=c.layout.encode(n,i),l=i.slice(0,o),d=this.accountDiscriminator(t);return Ce.Buffer.concat([d,l])}decode(t,n){const i=this.accountDiscriminator(t);if(i.compare(n.slice(0,i.length)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(t,n)}decodeAny(t){for(const[n,i]of this.accountLayouts)if(t.subarray(0,i.discriminator.length).equals(Ce.Buffer.from(i.discriminator)))return this.decodeUnchecked(n,t);throw new Error("Account not found")}decodeUnchecked(t,n){const i=this.accountDiscriminator(t),c=n.subarray(i.length),o=this.accountLayouts.get(t);if(!o)throw new Error(`Unknown account: ${t}`);return o.layout.decode(c)}memcmp(t,n){const i=this.accountDiscriminator(t);return{offset:0,bytes:sf.encode(n?Ce.Buffer.concat([i,n]):i)}}size(t){return this.accountDiscriminator(t).length+dt.typeSize({defined:{name:t}},this.idl)}accountDiscriminator(t){var n;const i=(n=this.idl.accounts)===null||n===void 0?void 0:n.find(c=>c.name===t);if(!i)throw new Error(`Account not found: ${t}`);return Ce.Buffer.from(i.discriminator)}}class HI{constructor(t){if(!t.events){this.layouts=new Map;return}const n=t.types;if(!n)throw new Error("Events require `idl.types`");const i=t.events.map(c=>{const o=n.find(l=>l.name===c.name);if(!o)throw new Error(`Event not found: ${c.name}`);return[c.name,{discriminator:c.discriminator,layout:dt.typeDefLayout({typeDef:o,types:n})}]});this.layouts=new Map(i)}decode(t){let n;try{n=_p(t)}catch{return null}for(const[i,c]of this.layouts){const o=n.subarray(0,c.discriminator.length);if(o.equals(Ce.Buffer.from(c.discriminator)))return{name:i,data:c.layout.decode(n.subarray(o.length))}}return null}}class jI{constructor(t){const n=t.types;if(!n){this.typeLayouts=new Map;return}const i=n.filter(c=>!c.generics).map(c=>[c.name,dt.typeDefLayout({typeDef:c,types:n})]);this.typeLayouts=new Map(i)}encode(t,n){const i=Ce.Buffer.alloc(1e3),c=this.typeLayouts.get(t);if(!c)throw new Error(`Unknown type: ${t}`);const o=c.encode(n,i);return i.slice(0,o)}decode(t,n){const i=this.typeLayouts.get(t);if(!i)throw new Error(`Unknown type: ${t}`);return i.decode(n)}}class kE{constructor(t){this.instruction=new LI(t),this.accounts=new Rp(t),this.events=new HI(t),this.types=new jI(t)}}class $n{constructor(t,n){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=n}makeDestinationObject(){return{}}decode(t,n){throw new Error("Layout is abstract")}encode(t,n,i){throw new Error("Layout is abstract")}getSpan(t,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=t,n}fromArray(t){}}var cf=$n;function PI(s,t){return t.property?s+"["+t.property+"]":s}class $s extends $n{isCount(){throw new Error("ExternalLayout is abstract")}}class IE extends $s{constructor(t,n,i){if(!(t instanceof $n))throw new TypeError("layout must be a Layout");if(n===void 0)n=0;else if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(t.span,i||t.property),this.layout=t,this.offset=n}isCount(){return this.layout instanceof uf||this.layout instanceof CE}decode(t,n){return n===void 0&&(n=0),this.layout.decode(t,n+this.offset)}encode(t,n,i){return i===void 0&&(i=0),this.layout.encode(t,n,i+this.offset)}}class uf extends $n{constructor(t,n){if(super(t,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,n){return n===void 0&&(n=0),t.readUIntLE(n,this.span)}encode(t,n,i){return i===void 0&&(i=0),n.writeUIntLE(t,i,this.span),this.span}}class CE extends $n{constructor(t,n){if(super(t,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,n){return n===void 0&&(n=0),t.readUIntBE(n,this.span)}encode(t,n,i){return i===void 0&&(i=0),n.writeUIntBE(t,i,this.span),this.span}}const M0=Math.pow(2,32);function BE(s){const t=Math.floor(s/M0),n=s-t*M0;return{hi32:t,lo32:n}}function ME(s,t){return s*M0+t}class qI extends $n{constructor(t){super(8,t)}decode(t,n){n===void 0&&(n=0);const i=t.readUInt32LE(n),c=t.readUInt32LE(n+4);return ME(c,i)}encode(t,n,i){i===void 0&&(i=0);const c=BE(t);return n.writeUInt32LE(c.lo32,i),n.writeUInt32LE(c.hi32,i+4),8}}class KI extends $n{constructor(t){super(8,t)}decode(t,n){n===void 0&&(n=0);const i=t.readUInt32LE(n),c=t.readInt32LE(n+4);return ME(c,i)}encode(t,n,i){i===void 0&&(i=0);const c=BE(t);return n.writeUInt32LE(c.lo32,i),n.writeInt32LE(c.hi32,i+4),8}}class VI extends $n{constructor(t,n,i){if(!(Array.isArray(t)&&t.reduce((o,l)=>o&&l instanceof $n,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&i===void 0&&(i=n,n=void 0);for(const o of t)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let c=-1;try{c=t.reduce((o,l)=>o+l.getSpan(),0)}catch{}super(c,n),this.fields=t,this.decodePrefixes=!!i}getSpan(t,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let i=0;try{i=this.fields.reduce((c,o)=>{const l=o.getSpan(t,n);return n+=l,c+l},0)}catch{throw new RangeError("indeterminate span")}return i}decode(t,n){n===void 0&&(n=0);const i=this.makeDestinationObject();for(const c of this.fields)if(c.property!==void 0&&(i[c.property]=c.decode(t,n)),n+=c.getSpan(t,n),this.decodePrefixes&&t.length===n)break;return i}encode(t,n,i){i===void 0&&(i=0);const c=i;let o=0,l=0;for(const d of this.fields){let y=d.span;if(l=0<y?y:0,d.property!==void 0){const _=t[d.property];_!==void 0&&(l=d.encode(_,n,i),0>y&&(y=d.getSpan(n,i)))}o=i,i+=y}return o+l-c}fromArray(t){const n=this.makeDestinationObject();for(const i of this.fields)i.property!==void 0&&0<t.length&&(n[i.property]=t.shift());return n}layoutFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===t)return n}offsetOf(t){if(typeof t!="string")throw new TypeError("property must be string");let n=0;for(const i of this.fields){if(i.property===t)return n;0>i.span?n=-1:0<=n&&(n+=i.span)}}}class UE{constructor(t){this.property=t}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class l_ extends UE{constructor(t,n){if(!(t instanceof $s&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||t.property||"variant"),this.layout=t}decode(t,n){return this.layout.decode(t,n)}encode(t,n,i){return this.layout.encode(t,n,i)}}class DE extends $n{constructor(t,n,i){const c=t instanceof uf||t instanceof CE;if(c)t=new l_(new IE(t));else if(t instanceof $s&&t.isCount())t=new l_(t);else if(!(t instanceof UE))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof $n))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let o=-1;n&&(o=n.span,0<=o&&c&&(o+=t.layout.span)),super(o,i),this.discriminator=t,this.usesPrefixDiscriminator=c,this.defaultLayout=n,this.registry={};let l=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(d){return l(d)},this.configGetSourceVariant=function(d){l=d.bind(this)}}getSpan(t,n){if(0<=this.span)return this.span;n===void 0&&(n=0);const i=this.getVariant(t,n);if(!i)throw new Error("unable to determine span for unrecognized variant");return i.getSpan(t,n)}defaultGetSourceVariant(t){if(t.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&t.hasOwnProperty(this.defaultLayout.property))return;const n=this.registry[t[this.discriminator.property]];if(n&&(!n.layout||t.hasOwnProperty(n.property)))return n}else for(const n in this.registry){const i=this.registry[n];if(t.hasOwnProperty(i.property))return i}throw new Error("unable to infer src variant")}decode(t,n){n===void 0&&(n=0);let i;const c=this.discriminator,o=c.decode(t,n);let l=this.registry[o];if(l===void 0){let d=0;l=this.defaultLayout,this.usesPrefixDiscriminator&&(d=c.layout.span),i=this.makeDestinationObject(),i[c.property]=o,i[l.property]=this.defaultLayout.decode(t,n+d)}else i=l.decode(t,n);return i}encode(t,n,i){i===void 0&&(i=0);const c=this.getSourceVariant(t);if(c===void 0){const o=this.discriminator,l=this.defaultLayout;let d=0;return this.usesPrefixDiscriminator&&(d=o.layout.span),o.encode(t[o.property],n,i),d+l.encode(t[l.property],n,i+d)}return c.encode(t,n,i)}addVariant(t,n,i){const c=new GI(this,t,n,i);return this.registry[t]=c,c}getVariant(t,n){let i=t;return Buffer.isBuffer(t)&&(n===void 0&&(n=0),i=this.discriminator.decode(t,n)),this.registry[i]}}class GI extends $n{constructor(t,n,i,c){if(!(t instanceof DE))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof i=="string"&&c===void 0&&(c=i,i=null),i){if(!(i instanceof $n))throw new TypeError("layout must be a Layout");if(t.defaultLayout!==null&&0<=i.span&&i.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof c!="string")throw new TypeError("variant must have a String property")}let o=t.span;0>t.span&&(o=i?i.span:0,0<=o&&t.usesPrefixDiscriminator&&(o+=t.discriminator.layout.span)),super(o,c),this.union=t,this.variant=n,this.layout=i||null}getSpan(t,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),i+this.layout.getSpan(t,n+i)}decode(t,n){const i=this.makeDestinationObject();if(n===void 0&&(n=0),this!==this.union.getVariant(t,n))throw new Error("variant mismatch");let c=0;return this.union.usesPrefixDiscriminator&&(c=this.union.discriminator.layout.span),this.layout?i[this.property]=this.layout.decode(t,n+c):this.property?i[this.property]=!0:this.union.usesPrefixDiscriminator&&(i[this.union.discriminator.property]=this.variant),i}encode(t,n,i){i===void 0&&(i=0);let c=0;if(this.union.usesPrefixDiscriminator&&(c=this.union.discriminator.layout.span),this.layout&&!t.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,i);let o=c;if(this.layout&&(this.layout.encode(t[this.property],n,i+c),o+=this.layout.getSpan(n,i+c),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}class FI extends $n{constructor(t,n){if(!(t instanceof $s&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let i=-1;t instanceof $s||(i=t),super(i,n),this.length=t}getSpan(t,n){let i=this.span;return 0>i&&(i=this.length.decode(t,n)),i}decode(t,n){n===void 0&&(n=0);let i=this.span;return 0>i&&(i=this.length.decode(t,n)),t.slice(n,n+i)}encode(t,n,i){let c=this.length;if(this.length instanceof $s&&(c=t.length),!(Buffer.isBuffer(t)&&c===t.length))throw new TypeError(PI("Blob.encode",this)+" requires (length "+c+") Buffer as src");if(i+c>n.length)throw new RangeError("encoding overruns Buffer");return n.write(t.toString("hex"),i,c,"hex"),this.length instanceof $s&&this.length.encode(c,n,i),c}}var YI=((s,t,n)=>new IE(s,t,n)),ZI=(s=>new uf(1,s)),Ri=(s=>new uf(4,s)),XI=(s=>new qI(s)),Oi=(s=>new KI(s)),vn=((s,t,n)=>new VI(s,t,n)),LE=((s,t,n)=>new DE(s,t,n)),Kc=((s,t)=>new FI(s,t));class $I extends cf{constructor(t){super(-1,t),this.property=t,this.layout=vn([Ri("length"),Ri("lengthPadding"),Kc(YI(Ri(),-8),"chars")],this.property)}encode(t,n,i=0){if(t==null)return this.layout.span;const c={chars:Buffer.from(t,"utf8")};return this.layout.encode(c,n,i)}decode(t,n=0){return this.layout.decode(t,n).chars.toString()}getSpan(t,n=0){return Ri().span+Ri().span+new kn(new Uint8Array(t).slice(n,n+4),10,"le").toNumber()}}function lf(s){return new $I(s)}function wr(s){return Kc(32,s)}const or=LE(Ri("instruction"));or.addVariant(0,vn([Oi("lamports"),Oi("space"),wr("owner")]),"createAccount");or.addVariant(1,vn([wr("owner")]),"assign");or.addVariant(2,vn([Oi("lamports")]),"transfer");or.addVariant(3,vn([wr("base"),lf("seed"),Oi("lamports"),Oi("space"),wr("owner")]),"createAccountWithSeed");or.addVariant(4,vn([wr("authorized")]),"advanceNonceAccount");or.addVariant(5,vn([Oi("lamports")]),"withdrawNonceAccount");or.addVariant(6,vn([wr("authorized")]),"initializeNonceAccount");or.addVariant(7,vn([wr("authorized")]),"authorizeNonceAccount");or.addVariant(8,vn([Oi("space")]),"allocate");or.addVariant(9,vn([wr("base"),lf("seed"),Oi("space"),wr("owner")]),"allocateWithSeed");or.addVariant(10,vn([wr("base"),lf("seed"),wr("owner")]),"assignWithSeed");or.addVariant(11,vn([Oi("lamports"),lf("seed"),wr("owner")]),"transferWithSeed");Math.max(...Object.values(or.registry).map(s=>s.span));class WI extends cf{constructor(t,n,i,c){super(t.span,c),this.layout=t,this.decoder=n,this.encoder=i}decode(t,n){return this.decoder(this.layout.decode(t,n))}encode(t,n,i){return this.layout.encode(this.encoder(t),n,i)}getSpan(t,n){return this.layout.getSpan(t,n)}}function f_(s){return new WI(Kc(32),t=>new ve(t),t=>t.toBuffer(),s)}vn([Ri("version"),Ri("state"),f_("authorizedPubkey"),f_("nonce"),vn([XI("lamportsPerSignature")],"feeCalculator")]);function QI(s){return new TextDecoder().decode(Il(s))}var JI=Object.freeze({__proto__:null,hash:QI});function eC(s,t,n){const i=Ce.Buffer.concat([s.toBuffer(),Ce.Buffer.from(t),n.toBuffer()]);return new ve(Il(i))}var tC=Object.freeze({__proto__:null,createWithSeedSync:eC});const zE=new ve("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),HE=new ve("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");function nC({mint:s,owner:t}){return ve.findProgramAddressSync([t.toBuffer(),zE.toBuffer(),s.toBuffer()],HE)[0]}var rC=Object.freeze({__proto__:null,TOKEN_PROGRAM_ID:zE,ASSOCIATED_PROGRAM_ID:HE,associatedAddress:nC}),U0={exports:{}};(function(s,t){var n=typeof self<"u"?self:II,i=(function(){function o(){this.fetch=!1,this.DOMException=n.DOMException}return o.prototype=n,new o})();(function(o){(function(l){var d={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function y(h){return h&&DataView.prototype.isPrototypeOf(h)}if(d.arrayBuffer)var _=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],E=ArrayBuffer.isView||function(h){return h&&_.indexOf(Object.prototype.toString.call(h))>-1};function C(h){if(typeof h!="string"&&(h=String(h)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(h))throw new TypeError("Invalid character in header field name");return h.toLowerCase()}function I(h){return typeof h!="string"&&(h=String(h)),h}function R(h){var w={next:function(){var S=h.shift();return{done:S===void 0,value:S}}};return d.iterable&&(w[Symbol.iterator]=function(){return w}),w}function M(h){this.map={},h instanceof M?h.forEach(function(w,S){this.append(S,w)},this):Array.isArray(h)?h.forEach(function(w){this.append(w[0],w[1])},this):h&&Object.getOwnPropertyNames(h).forEach(function(w){this.append(w,h[w])},this)}M.prototype.append=function(h,w){h=C(h),w=I(w);var S=this.map[h];this.map[h]=S?S+", "+w:w},M.prototype.delete=function(h){delete this.map[C(h)]},M.prototype.get=function(h){return h=C(h),this.has(h)?this.map[h]:null},M.prototype.has=function(h){return this.map.hasOwnProperty(C(h))},M.prototype.set=function(h,w){this.map[C(h)]=I(w)},M.prototype.forEach=function(h,w){for(var S in this.map)this.map.hasOwnProperty(S)&&h.call(w,this.map[S],S,this)},M.prototype.keys=function(){var h=[];return this.forEach(function(w,S){h.push(S)}),R(h)},M.prototype.values=function(){var h=[];return this.forEach(function(w){h.push(w)}),R(h)},M.prototype.entries=function(){var h=[];return this.forEach(function(w,S){h.push([S,w])}),R(h)},d.iterable&&(M.prototype[Symbol.iterator]=M.prototype.entries);function U(h){if(h.bodyUsed)return Promise.reject(new TypeError("Already read"));h.bodyUsed=!0}function D(h){return new Promise(function(w,S){h.onload=function(){w(h.result)},h.onerror=function(){S(h.error)}})}function j(h){var w=new FileReader,S=D(w);return w.readAsArrayBuffer(h),S}function F(h){var w=new FileReader,S=D(w);return w.readAsText(h),S}function V(h){for(var w=new Uint8Array(h),S=new Array(w.length),N=0;N<w.length;N++)S[N]=String.fromCharCode(w[N]);return S.join("")}function W(h){if(h.slice)return h.slice(0);var w=new Uint8Array(h.byteLength);return w.set(new Uint8Array(h)),w.buffer}function re(){return this.bodyUsed=!1,this._initBody=function(h){this._bodyInit=h,h?typeof h=="string"?this._bodyText=h:d.blob&&Blob.prototype.isPrototypeOf(h)?this._bodyBlob=h:d.formData&&FormData.prototype.isPrototypeOf(h)?this._bodyFormData=h:d.searchParams&&URLSearchParams.prototype.isPrototypeOf(h)?this._bodyText=h.toString():d.arrayBuffer&&d.blob&&y(h)?(this._bodyArrayBuffer=W(h.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):d.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(h)||E(h))?this._bodyArrayBuffer=W(h):this._bodyText=h=Object.prototype.toString.call(h):this._bodyText="",this.headers.get("content-type")||(typeof h=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):d.searchParams&&URLSearchParams.prototype.isPrototypeOf(h)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},d.blob&&(this.blob=function(){var h=U(this);if(h)return h;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?U(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(j)}),this.text=function(){var h=U(this);if(h)return h;if(this._bodyBlob)return F(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(V(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},d.formData&&(this.formData=function(){return this.text().then(G)}),this.json=function(){return this.text().then(JSON.parse)},this}var oe=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function ie(h){var w=h.toUpperCase();return oe.indexOf(w)>-1?w:h}function le(h,w){w=w||{};var S=w.body;if(h instanceof le){if(h.bodyUsed)throw new TypeError("Already read");this.url=h.url,this.credentials=h.credentials,w.headers||(this.headers=new M(h.headers)),this.method=h.method,this.mode=h.mode,this.signal=h.signal,!S&&h._bodyInit!=null&&(S=h._bodyInit,h.bodyUsed=!0)}else this.url=String(h);if(this.credentials=w.credentials||this.credentials||"same-origin",(w.headers||!this.headers)&&(this.headers=new M(w.headers)),this.method=ie(w.method||this.method||"GET"),this.mode=w.mode||this.mode||null,this.signal=w.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&S)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(S)}le.prototype.clone=function(){return new le(this,{body:this._bodyInit})};function G(h){var w=new FormData;return h.trim().split("&").forEach(function(S){if(S){var N=S.split("="),L=N.shift().replace(/\+/g," "),B=N.join("=").replace(/\+/g," ");w.append(decodeURIComponent(L),decodeURIComponent(B))}}),w}function Y(h){var w=new M,S=h.replace(/\r?\n[\t ]+/g," ");return S.split(/\r?\n/).forEach(function(N){var L=N.split(":"),B=L.shift().trim();if(B){var v=L.join(":").trim();w.append(B,v)}}),w}re.call(le.prototype);function X(h,w){w||(w={}),this.type="default",this.status=w.status===void 0?200:w.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in w?w.statusText:"OK",this.headers=new M(w.headers),this.url=w.url||"",this._initBody(h)}re.call(X.prototype),X.prototype.clone=function(){return new X(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new M(this.headers),url:this.url})},X.error=function(){var h=new X(null,{status:0,statusText:""});return h.type="error",h};var $=[301,302,303,307,308];X.redirect=function(h,w){if($.indexOf(w)===-1)throw new RangeError("Invalid status code");return new X(null,{status:w,headers:{location:h}})},l.DOMException=o.DOMException;try{new l.DOMException}catch{l.DOMException=function(w,S){this.message=w,this.name=S;var N=Error(w);this.stack=N.stack},l.DOMException.prototype=Object.create(Error.prototype),l.DOMException.prototype.constructor=l.DOMException}function x(h,w){return new Promise(function(S,N){var L=new le(h,w);if(L.signal&&L.signal.aborted)return N(new l.DOMException("Aborted","AbortError"));var B=new XMLHttpRequest;function v(){B.abort()}B.onload=function(){var m={status:B.status,statusText:B.statusText,headers:Y(B.getAllResponseHeaders()||"")};m.url="responseURL"in B?B.responseURL:m.headers.get("X-Request-URL");var f="response"in B?B.response:B.responseText;S(new X(f,m))},B.onerror=function(){N(new TypeError("Network request failed"))},B.ontimeout=function(){N(new TypeError("Network request failed"))},B.onabort=function(){N(new l.DOMException("Aborted","AbortError"))},B.open(L.method,L.url,!0),L.credentials==="include"?B.withCredentials=!0:L.credentials==="omit"&&(B.withCredentials=!1),"responseType"in B&&d.blob&&(B.responseType="blob"),L.headers.forEach(function(m,f){B.setRequestHeader(f,m)}),L.signal&&(L.signal.addEventListener("abort",v),B.onreadystatechange=function(){B.readyState===4&&L.signal.removeEventListener("abort",v)}),B.send(typeof L._bodyInit>"u"?null:L._bodyInit)})}return x.polyfill=!0,o.fetch||(o.fetch=x,o.Headers=M,o.Request=le,o.Response=X),l.Headers=M,l.Request=le,l.Response=X,l.fetch=x,Object.defineProperty(l,"__esModule",{value:!0}),l})({})})(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var c=i;t=c.fetch,t.default=c.fetch,t.fetch=c.fetch,t.Headers=c.Headers,t.Request=c.Request,t.Response=c.Response,s.exports=t})(U0,U0.exports);var iC=CI(U0.exports);async function sC(s,t,n=5){const i=`https://api.apr.dev/api/v0/program/${t.toString()}/latest?limit=${n}`,[c,o]=await Promise.all([jE(s,t),iC(i)]),l=(await o.json()).filter(y=>!y.aborted&&y.state==="Built"&&y.verified==="Verified");if(l.length===0)return null;const d=l[0];return c.slot.toNumber()!==d.verified_slot?null:d}async function jE(s,t){const n=await s.getAccountInfo(t);if(n===null)throw new Error("program account not found");const{program:i}=D0(n.data),c=await s.getAccountInfo(i.programdataAddress);if(c===null)throw new Error("program data account not found");const{programData:o}=D0(c.data);return o}const aC=et.rustEnum([et.struct([],"uninitialized"),et.struct([et.option(et.publicKey(),"authorityAddress")],"buffer"),et.struct([et.publicKey("programdataAddress")],"program"),et.struct([et.u64("slot"),et.option(et.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,et.u32());function D0(s){return aC.decode(s)}var oC=Object.freeze({__proto__:null,verifiedBuild:sC,fetchData:jE,decodeUpgradeableLoaderState:D0}),Ks=Object.freeze({__proto__:null,sha256:JI,rpc:NI,publicKey:tC,bytes:aI,token:rC,features:UI,registry:oC});const L0="Program log: ",PE="Program data: ",cC=L0.length,uC=PE.length;class lC{constructor(t,n,i){this._programId=t,this._provider=n,this._eventParser=new ys(t,i),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(t,n,i){var c;let o=this._listenerIdCount;return this._listenerIdCount+=1,this._eventListeners.has(t)||this._eventListeners.set(t,[]),this._eventListeners.set(t,((c=this._eventListeners.get(t))!==null&&c!==void 0?c:[]).concat(o)),this._eventCallbacks.set(o,[t,n]),this._onLogsSubscriptionId!==void 0||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,(l,d)=>{if(!l.err)for(const y of this._eventParser.parseLogs(l.logs)){const _=this._eventListeners.get(y.name);_&&_.forEach(E=>{const C=this._eventCallbacks.get(E);if(C){const[,I]=C;I(y.data,d.slot,l.signature)}})}},i)),o}async removeEventListener(t){const n=this._eventCallbacks.get(t);if(!n)throw new Error(`Event listener ${t} doesn't exist!`);const[i]=n;let c=this._eventListeners.get(i);if(!c)throw new Error(`Event listeners don't exist for ${i}!`);if(this._eventCallbacks.delete(t),c=c.filter(o=>o!==t),this._eventListeners.set(i,c),c.length===0&&this._eventListeners.delete(i),this._eventCallbacks.size===0){if(this._eventListeners.size!==0)throw new Error(`Expected event listeners size to be 0 but got ${this._eventListeners.size}`);this._onLogsSubscriptionId!==void 0&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0)}}}class ys{constructor(t,n){this.coder=n,this.programId=t}*parseLogs(t,n=!1){const i=new dC([...t]),c=new fC,o=i.next();if(o===null)return;const l=ys.INVOKE_RE.exec(o);if(!l||l[2]!==ys.ROOT_DEPTH)throw new Error(`Unexpected first log line: ${o}`);for(c.push(l[1]);i.peek()!==null;){const d=i.next();if(d===null)break;let[y,_,E]=this.handleLog(c,d,n);if(y&&(yield y),_&&c.push(_),E){c.pop();const C=i.peek();if(C&&C.endsWith("invoke [1]")){const I=ys.INVOKE_RE.exec(C);I&&c.push(I[1])}}}}handleLog(t,n,i){return t.stack.length>0&&t.program()===this.programId.toString()?this.handleProgramLog(n,i):[null,...this.handleSystemLog(n)]}handleProgramLog(t,n){if(t.startsWith(L0)||t.startsWith(PE)){const i=t.startsWith(L0)?t.slice(cC):t.slice(uC),c=this.coder.events.decode(i);if(n&&c===null)throw new Error(`Unable to decode event ${i}`);return[c,null,!1]}else return[null,...this.handleSystemLog(t)]}handleSystemLog(t){return t.startsWith(`Program ${this.programId.toString()} log:`)?[this.programId.toString(),!1]:t.includes("invoke")&&!t.endsWith("[1]")?["cpi",!1]:/^Program ([1-9A-HJ-NP-Za-km-z]+) success$/.test(t)?[null,!0]:[null,!1]}}ys.INVOKE_RE=/^Program ([1-9A-HJ-NP-Za-km-z]+) invoke \[(\d+)\]$/;ys.ROOT_DEPTH="1";class fC{constructor(){this.stack=[]}program(){if(!this.stack.length)throw new Error("Expected the stack to have elements");return this.stack[this.stack.length-1]}push(t){this.stack.push(t)}pop(){if(!this.stack.length)throw new Error("Expected the stack to have elements");this.stack.pop()}}class dC{constructor(t){this.logs=t,this.logs=this.logs.filter(n=>n.startsWith("Program "))}next(){if(this.logs.length===0)return null;let t=this.logs[0];return this.logs=this.logs.slice(1),t}peek(){return this.logs.length>0?this.logs[0]:null}}function ff(s,t){var n,i;let c={};const o=s.args?s.args.length:0;if(t.length>o){if(t.length!==o+1)throw new Error(`provided too many arguments ${t} to instruction ${s?.name} expecting: ${(i=(n=s.args)===null||n===void 0?void 0:n.map(l=>l.name))!==null&&i!==void 0?i:[]}`);c=t.pop()}return[t,c]}class ql{static build(t,n,i){if(t.name==="_inner")throw new us("the _inner name is reserved");const c=(...o)=>{const[l,d]=ff(t,[...o]);ev(t.accounts,d.accounts),hC(t,...o);const y=c.accounts(d.accounts);return d.remainingAccounts!==void 0&&y.push(...d.remainingAccounts),Ap("debug-logs")&&console.log("Outgoing account metas:",y),new xt({keys:y,programId:i,data:n(t.name,hI(t,...l))})};return c.accounts=o=>ql.accountsArray(o,t.accounts,i,t.name),c}static accountsArray(t,n,i,c){return t?n.map(o=>{if(ls(o)){const E=t[o.name];return ql.accountsArray(E,o.accounts,i,c).flat()}let l;try{l=br(t[o.name])}catch{throw new Error(`Wrong input type for account "${o.name}" in the instruction accounts object${c!==void 0?' for instruction "'+c+'"':""}. Expected PublicKey or string.`)}const d=o.optional&&l.equals(i),y=!!(o.writable&&!d),_=!!(o.signer&&!d);return{pubkey:l,isWritable:y,isSigner:_}}).flat():[]}}function hC(s,...t){}class pC{static build(t,n){return(...c)=>{var o,l,d;const[,y]=ff(t,[...c]),_=new mt;if(y.preInstructions&&y.instructions)throw new Error("instructions is deprecated, use preInstructions");return(o=y.preInstructions)===null||o===void 0||o.forEach(E=>_.add(E)),(l=y.instructions)===null||l===void 0||l.forEach(E=>_.add(E)),_.add(n(...c)),(d=y.postInstructions)===null||d===void 0||d.forEach(E=>_.add(E)),_}}}class mC{static build(t,n,i,c){return async(...l)=>{var d;const y=n(...l),[,_]=ff(t,[...l]);if(c.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await c.sendAndConfirm(y,(d=_.signers)!==null&&d!==void 0?d:[],_.options)}catch(E){throw NE(E,i)}}}}class yC{static build(t,n,i,c){var o;return((o=t.accounts)!==null&&o!==void 0?o:[]).reduce((l,d)=>(l[d.name]=new gC(t,d,i,c,n),l),{})}}class gC{get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}constructor(t,n,i,c,o){this._idlAccount=n,this._programId=i,this._provider=c??jl(),this._coder=o??new kE(t),this._size=this._coder.accounts.size(n.name)}async fetchNullable(t,n){const{data:i}=await this.fetchNullableAndContext(t,n);return i}async fetchNullableAndContext(t,n){const i=await this.getAccountInfoAndContext(t,n),{value:c,context:o}=i;return{data:c&&c.data.length!==0?this._coder.accounts.decode(this._idlAccount.name,c.data):null,context:o}}async fetch(t,n){const{data:i}=await this.fetchNullableAndContext(t,n);if(i===null)throw new Error(`Account does not exist or has no data ${t.toString()}`);return i}async fetchAndContext(t,n){const{data:i,context:c}=await this.fetchNullableAndContext(t,n);if(i===null)throw new Error(`Account does not exist ${t.toString()}`);return{data:i,context:c}}async fetchMultiple(t,n){return(await this.fetchMultipleAndContext(t,n)).map(c=>c?c.data:null)}async fetchMultipleAndContext(t,n){return(await Sp(this._provider.connection,t.map(c=>br(c)),n)).map(c=>{if(c==null)return null;const{account:o,context:l}=c;return{data:this._coder.accounts.decode(this._idlAccount.name,o.data),context:l}})}async all(t){const n=this.coder.accounts.memcmp(this._idlAccount.name,t instanceof Buffer?t:void 0),i=[];return n?.offset!=null&&n?.bytes!=null&&i.push({memcmp:{offset:n.offset,bytes:n.bytes}}),n?.dataSize!=null&&i.push({dataSize:n.dataSize}),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[...i,...Array.isArray(t)?t:[]]})).map(({pubkey:o,account:l})=>({publicKey:o,account:this._coder.accounts.decode(this._idlAccount.name,l.data)}))}subscribe(t,n){const i=bc.get(t.toString());if(i)return i.ee;const c=new Xk;t=br(t);const o=this._provider.connection.onAccountChange(t,l=>{const d=this._coder.accounts.decode(this._idlAccount.name,l.data);c.emit("change",d)},n);return bc.set(t.toString(),{ee:c,listener:o}),c}async unsubscribe(t){let n=bc.get(t.toString());if(!n){console.warn("Address is not subscribed");return}bc&&await this._provider.connection.removeAccountChangeListener(n.listener).then(()=>{bc.delete(t.toString())}).catch(console.error)}async createInstruction(t,n){const i=this.size;if(this._provider.publicKey===void 0)throw new Error("This function requires the Provider interface implementor to have a 'publicKey' field.");return hn.createAccount({fromPubkey:this._provider.publicKey,newAccountPubkey:t.publicKey,space:n??i,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(n??i),programId:this._programId})}async getAccountInfo(t,n){return await this._provider.connection.getAccountInfo(br(t),n)}async getAccountInfoAndContext(t,n){return await this._provider.connection.getAccountInfoAndContext(br(t),n)}}const bc=new Map;class bC{static build(t,n,i,c,o,l,d){return async(..._)=>{var E;const C=n(..._),[,I]=ff(t,[..._]);let R;if(c.simulate===void 0)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{R=await c.simulate(C,I.signers,(E=I.options)===null||E===void 0?void 0:E.commitment)}catch(D){throw NE(D,i)}if(R===void 0)throw new Error("Unable to simulate transaction");const M=R.logs;if(!M)throw new Error("Simulated logs not found");const U=[];if(d.events){let D=new ys(l,o);for(const j of D.parseLogs(M))U.push(j)}return{events:U,raw:M}}}}function d0(s){return new qE(Kc(8),t=>xp.fromBuffer(t),t=>t.toBuffer(),s)}function yl(s){return new qE(Kc(32),t=>new ve(t),t=>t.toBuffer(),s)}function h0(s,t){return new _C(s,t)}class qE extends cf{constructor(t,n,i,c){super(t.span,c),this.layout=t,this.decoder=n,this.encoder=i}decode(t,n){return this.decoder(this.layout.decode(t,n))}encode(t,n,i){return this.layout.encode(this.encoder(t),n,i)}getSpan(t,n){return this.layout.getSpan(t,n)}}class _C extends cf{constructor(t,n){super(-1,n),this.layout=t,this.discriminator=Ri()}encode(t,n,i=0){return t==null?this.layout.span+this.discriminator.encode(0,n,i):(this.discriminator.encode(1,n,i),this.layout.encode(t,n,i+4)+4)}decode(t,n=0){const i=this.discriminator.decode(t,n);if(i===0)return null;if(i===1)return this.layout.decode(t,n+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(t,n=0){return this.layout.getSpan(t,n+4)+4}}class xp extends kn{toBuffer(){const t=super.toArray().reverse(),n=Buffer.from(t);if(n.length===8)return n;if(n.length>=8)throw new Error("u64 too large");const i=Buffer.alloc(8);return n.copy(i),i}static fromBuffer(t){if(t.length!==8)throw new Error(`Invalid buffer length: ${t.length}`);return new xp([...t].reverse().map(n=>`00${n.toString(16)}`.slice(-2)).join(""),16)}}const wC=vn([yl("mint"),yl("owner"),d0("amount"),h0(yl(),"delegate"),(s=>{const t=LE(ZI("discriminator"),null,s);return t.addVariant(0,vn([]),"uninitialized"),t.addVariant(1,vn([]),"initialized"),t.addVariant(2,vn([]),"frozen"),t})("state"),h0(d0(),"isNative"),d0("delegatedAmount"),h0(yl(),"closeAuthority")]);function vC(s){return wC.decode(s)}class EC{constructor(t,n,i,c,o,l,d,y){this._args=t,this._accounts=n,this._provider=i,this._programId=c,this._idlIx=o,this._idlTypes=d,this._customResolver=y,this._accountStore=new SC(i,l,c)}args(t){this._args=t}async resolve(){this.resolveEventCpi(this._idlIx.accounts),this.resolveConst(this._idlIx.accounts);let t=0;for(;await this.resolvePdasAndRelations(this._idlIx.accounts)+await this.resolveCustom()>0;)if(t++,t===16){const n=l=>ls(l)?l.accounts.some(n):!!(l.address||l.pda||l.relations),i=(l,d=[],y=[])=>{for(const _ of l)ls(_)?y.push(...i(_.accounts,[...d,_.name])):y.push([...d,_.name]);return y},c=this._idlIx.accounts.filter(n),o=i(c).filter(l=>!this.get(l)).map(l=>l.reduce((d,y)=>d+"."+y)).map(l=>`\`${l}\``).join(", ");throw new Error(["Reached maximum depth for account resolution.",`Unresolved accounts: ${o}`].join(" "))}}resolveOptionals(t){Object.assign(this._accounts,this.resolveOptionalsHelper(t,this._idlIx.accounts))}get(t){const n=t.reduce((i,c)=>i&&i[c],this._accounts);if(n&&n.toBase58)return n}set(t,n){let i=this._accounts;t.forEach((c,o)=>{var l;o===t.length-1&&(i[c]=n),i[c]=(l=i[c])!==null&&l!==void 0?l:{},i=i[c]})}resolveOptionalsHelper(t,n){const i={};for(const c of n){const o=c.name,l=t[o];l!==void 0&&(KE(l)?ls(c)?i[o]=this.resolveOptionalsHelper(l,c.accounts):i[o]=VE(l):l!==null?i[o]=br(l):c.optional&&(i[o]=this._programId))}return i}async resolveCustom(){if(this._customResolver){const{accounts:t,resolved:n}=await this._customResolver({args:this._args,accounts:this._accounts,provider:this._provider,programId:this._programId,idlIx:this._idlIx});return this._accounts=t,n}return 0}resolveEventCpi(t,n=[]){for(const i in t){const c=t[i];ls(c)&&this.resolveEventCpi(c.accounts,[...n,c.name]);const o=+i+1;if(o===t.length)return;const l=t[i].name,d=t[o].name;if(l==="eventAuthority"&&d==="program"){const y=[...n,l],_=[...n,d];this.get(y)||this.set(y,ve.findProgramAddressSync([Buffer.from("__event_authority")],this._programId)[0]),this.get(_)||this.set(_,this._programId);return}}}resolveConst(t,n=[]){for(const i of t){const c=i.name;if(ls(i))this.resolveConst(i.accounts,[...n,c]);else{const o=i;if((o.signer||o.address)&&!this.get([...n,c])){if(o.signer){if(!this._provider.publicKey)throw new Error("This function requires the `Provider` interface implementor to have a `publicKey` field.");this.set([...n,c],this._provider.publicKey)}o.address&&this.set([...n,c],br(o.address))}}}}async resolvePdasAndRelations(t,n=[]){let i=0;for(const c of t){const o=c.name;if(ls(c))i+=await this.resolvePdasAndRelations(c.accounts,[...n,o]);else{const l=c;if((l.pda||l.relations)&&!this.get([...n,o])){i++;try{if(l.pda){const d=await Promise.all(l.pda.seeds.map(E=>this.toBuffer(E,n)));if(d.some(E=>!E))continue;const y=await this.parseProgramId(l,n),[_]=ve.findProgramAddressSync(d,y);this.set([...n,o],_)}}catch{}try{if(l.relations){const d=this.get([...n,l.relations[0]]);if(d){const y=await this._accountStore.fetchAccount({publicKey:d});this.set([...n,o],y[o])}}}catch{}}}}return i}async parseProgramId(t,n=[]){var i;if(!(!((i=t.pda)===null||i===void 0)&&i.program))return this._programId;const c=await this.toBuffer(t.pda.program,n);if(!c)throw new Error(`Program seed not resolved: ${t.name}`);return new ve(c)}async toBuffer(t,n=[]){switch(t.kind){case"const":return this.toBufferConst(t);case"arg":return await this.toBufferArg(t);case"account":return await this.toBufferAccount(t,n);default:throw new Error(`Unexpected seed: ${t}`)}}toBufferConst(t){return this.toBufferValue("bytes",t.value)}async toBufferArg(t){const[n,...i]=t.path.split("."),c=this._idlIx.args.findIndex(d=>d.name===n);if(c===-1)throw new Error(`Unable to find argument for seed: ${n}`);const o=i.reduce((d,y)=>(d??{})[y],this._args[c]);if(o===void 0)return;const l=this.getType(this._idlIx.args[c].type,i);return this.toBufferValue(l,o)}async toBufferAccount(t,n=[]){const[i,...c]=t.path.split("."),o=this.get([...n,i]);if(!o)return;if(!c.length)return this.toBufferValue("pubkey",o);if(!t.account)throw new Error(`Seed account is required in order to resolve type: ${t.path}`);let d=await this._accountStore.fetchAccount({publicKey:o,name:t.account}),y=c;for(;y.length>0;)d=d[y[0]],y=y.slice(1);if(d===void 0)return;const _=this.getType({defined:{name:t.account}},c);return this.toBufferValue(_,d)}toBufferValue(t,n){switch(t){case"u8":case"i8":return Buffer.from([n]);case"u16":case"i16":return new kn(n).toArrayLike(Buffer,"le",2);case"u32":case"i32":return new kn(n).toArrayLike(Buffer,"le",4);case"u64":case"i64":return new kn(n).toArrayLike(Buffer,"le",8);case"u128":case"i128":return new kn(n).toArrayLike(Buffer,"le",16);case"u256":case"i256":return new kn(n).toArrayLike(Buffer,"le",32);case"string":return Buffer.from(n);case"pubkey":return n.toBuffer();case"bytes":return Buffer.from(n);default:if(t?.array)return Buffer.from(n);throw new Error(`Unexpected seed type: ${t}`)}}getType(t,n=[]){var i;const c=(i=t?.defined)===null||i===void 0?void 0:i.name;if(c){if(c==="tokenAccount")switch(n.at(0)){case"mint":case"owner":return"pubkey";case"amount":case"delagatedAmount":return"u64";default:throw new Error(`Unknown token account path: ${n}`)}const o=this._idlTypes.find(E=>E.name===c);if(!o)throw new Error(`Type not found: ${c}`);const[l,...d]=n,_=o.type.fields.find(E=>E.name===l);if(!_)throw new Error(`Field not found: ${l}`);return this.getType(_.type,d)}return t}}class SC{constructor(t,n,i){this._provider=t,this._cache=new Map,this._idls={},this._idls[i.toBase58()]=n}async fetchAccount({publicKey:t,name:n}){const i=t.toBase58();if(!this._cache.has(i)){const c=await this._provider.connection.getAccountInfo(t);if(c===null)throw new Error(`Account not found: ${i}`);if(n==="tokenAccount"){const o=vC(c.data);this._cache.set(i,o)}else{const o=await this.getAccountsNs(c.owner);if(o){const l=Object.values(o)[0];if(l){const d=l.coder.accounts.decodeAny(c.data);this._cache.set(i,d)}}}}return this._cache.get(i)}async getAccountsNs(t){const n=t.toBase58();if(!this._idls[n]){const i=await po.fetchIdl(t,this._provider);if(i){const c=new po(i,this._provider);this._idls[n]=c.account}}return this._idls[n]}}class AC{static build(t,n,i,c,o,l,d,y,_,E,C){return(...I)=>new RC(I,c,o,l,d,y,t,n,i,_,E,C)}}function KE(s){return typeof s=="object"&&s!==null&&!("_bn"in s)}function VE(s,t){const n={};for(const i in s){const c=s[i];if(c===null)throw new Error("Failed to resolve optionals due to IDL type mismatch with input accounts!");n[i]=KE(c)?VE(c):br(c)}return n}class RC{constructor(t,n,i,c,o,l,d,y,_,E,C,I){this._args=t,this._ixFn=n,this._txFn=i,this._rpcFn=c,this._simulateFn=o,this._viewFn=l,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._resolveAccounts=!0,this._accountsResolver=new EC(t,this._accounts,d,y,_,E,C,I)}args(t){this._args=t,this._accountsResolver.args(t)}accounts(t){return this.accountsPartial(t)}accountsPartial(t){return this._resolveAccounts=!0,this._accountsResolver.resolveOptionals(t),this}accountsStrict(t){return this._resolveAccounts=!1,this._accountsResolver.resolveOptionals(t),this}signers(t){return this._signers=this._signers.concat(t),this}remainingAccounts(t){return this._remainingAccounts=this._remainingAccounts.concat(t),this}preInstructions(t,n=!1){return n?this._preInstructions=t.concat(this._preInstructions):this._preInstructions=this._preInstructions.concat(t),this}postInstructions(t){return this._postInstructions=this._postInstructions.concat(t),this}async pubkeys(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._accounts}async instruction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async transaction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async simulate(t){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async view(t){if(this._resolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw new Error(["Method does not support views.","The instruction should return a value, and its accounts must be read-only"].join(" "));return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async rpc(t){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async rpcAndKeys(t){return{signature:await this.rpc(t),pubkeys:await this.pubkeys()}}async prepare(){return{instruction:await this.instruction(),signers:this._signers,pubkeys:await this.pubkeys()}}}class xC{static build(t,n,i,c){const o=n.accounts.find(y=>y.writable),l=!!n.returns;return o||!l?void 0:async(...y)=>{let _=await i(...y);const E=`Program return: ${t} `;let C=_.raw.find(U=>U.startsWith(E));if(!C)throw new Error("View expected return log");let I=_p(C.slice(E.length)),R=n.returns;if(!R)throw new Error("View expected return type");return dt.fieldLayout({type:R},c.types).decode(I)}}}class TC{static build(t,n,i,c,o){const l={},d={},y={},_={},E={},C={},I=dI(t),R=t.accounts?yC.build(t,n,i,c):{};return t.instructions.forEach(M=>{const U=ql.build(M,(oe,ie)=>n.instruction.encode(oe,ie),i),D=pC.build(M,U),j=mC.build(M,D,I,c),F=bC.build(M,D,I,c,n,i,t),V=xC.build(i,M,F,t),W=AC.build(c,i,M,U,D,j,F,V,R,t.types||[],o?.(M)),re=M.name;d[re]=U,y[re]=D,l[re]=j,_[re]=F,E[re]=W,V&&(C[re]=V)}),[l,d,y,R,_,E,C]}}class po{get programId(){return this._programId}get idl(){return this._idl}get rawIdl(){return this._rawIdl}get coder(){return this._coder}get provider(){return this._provider}constructor(t,n=jl(),i,c){this._idl=fI(t),this._rawIdl=t,this._provider=n,this._programId=br(t.address),this._coder=i??new kE(this._idl),this._events=new lC(this._programId,n,this._coder);const[o,l,d,y,_,E,C]=TC.build(this._idl,this._coder,this._programId,n,c);this.rpc=o,this.instruction=l,this.transaction=d,this.account=y,this.simulate=_,this.methods=E,this.views=C}static async at(t,n){const i=br(t),c=await po.fetchIdl(i,n);if(!c)throw new Error(`IDL not found for program: ${t.toString()}`);return new po(c,n)}static async fetchIdl(t,n){n=n??jl();const i=br(t),c=await oI(i),o=await n.connection.getAccountInfo(c);if(!o)return null;let l=lI(o.data.slice(8));const d=Fk(l.data);return JSON.parse(Jw(d))}addEventListener(t,n,i){return this._events.addEventListener(t,n,i)}async removeEventListener(t){return await this._events.removeEventListener(t)}}new ve("11111111111111111111111111111111");const p0=[{id:"simple_1",label:"Simple: 1 ticket (recommended)",description:"Normal user flow: commit 1 ticket  reveal  claim (if winner)."},{id:"wrong_reveal",label:"Robustness: wrong reveal (should fail)",description:"Commits normally, then reveals with an intentionally wrong salt.",reveal:{wrongSalt:!0},disabled:!1},{id:"batch_2",label:"Batch: 2 tickets (coming soon)",description:"Commit/reveal 2 tickets with commit_batch/reveal_batch.",disabled:!0},{id:"multi_round",label:"Multi-round (coming soon)",description:"Repeat the same strategy across multiple rounds.",disabled:!0}];function mo(s){const t=typeof s=="bigint"?s:BigInt(s),n=new Uint8Array(8);let i=t;for(let c=0;c<8;c++)n[c]=Number(i&0xffn),i>>=8n;return n}function OC(...s){const t=s.reduce((c,o)=>c+o.length,0),n=new Uint8Array(t);let i=0;for(const c of s)n.set(c,i),i+=c.length;return n}async function NC(s){if(!globalThis.crypto?.subtle)throw new Error("WebCrypto not available (crypto.subtle missing)");const t=await globalThis.crypto.subtle.digest("SHA-256",s);return new Uint8Array(t)}async function kC(s,t,n,i,c){const o=t instanceof ve?t:new ve(t),l=new TextEncoder().encode("commit"),d=OC(l,mo(s),o.toBytes(),mo(n),Uint8Array.from([i&255]),c);return NC(d)}function IC(){const s=new Uint8Array(32);return globalThis.crypto.getRandomValues(s),s}function d_(s){return[...s].map(t=>t.toString(16).padStart(2,"0")).join("")}function CC(s){const t=(s||"").trim();if(t.length%2!==0)throw new Error("Invalid hex length");const n=new Uint8Array(t.length/2);for(let i=0;i<n.length;i++)n[i]=parseInt(t.slice(i*2,i*2+2),16);return n}function ki(s){return new TextEncoder().encode(s)}function no(s){const[t]=ve.findProgramAddressSync([ki("config")],s);return t}function GE(s,t){const[n]=ve.findProgramAddressSync([ki("round_registry"),t.toBytes()],s);return n}function Fr(s,t){const[n]=ve.findProgramAddressSync([ki("round"),mo(t)],s);return n}function Ac(s,t){const[n]=ve.findProgramAddressSync([ki("chrono_vault"),mo(t)],s);return n}function z0(s,t,n,i){const c=n instanceof ve?n:new ve(n),[o]=ve.findProgramAddressSync([ki("ticket"),mo(t),c.toBytes(),mo(i)],s);return o}function Kl(s,t){const[n]=ve.findProgramAddressSync([ki("tokenomics"),t.toBytes()],s);return n}function FE(s,t){const[n]=ve.findProgramAddressSync([ki("reward_fee_pool"),t.toBytes()],s);return n}function BC(s,t){const[n]=ve.findProgramAddressSync([ki("replication_pool"),t.toBytes()],s);return n}function MC(s){const[t]=ve.findProgramAddressSync([ki("treasury")],s);return t}async function UC(s,t,n){const i=await s.getParsedTokenAccountsByOwner(t,{mint:n},"confirmed");return i.value.length?new ve(i.value[0].pubkey):null}function Tp(s,t){return`timlg_play_v1:${s}:round:${t}`}function DC(s,t){if(!s)return null;try{const n=localStorage.getItem(Tp(s,t));if(!n)return null;const i=JSON.parse(n);return Array.isArray(i)?i.length>0?i[i.length-1]:null:i}catch{return null}}function LC(s,t){if(!s)return[];try{const n=localStorage.getItem(Tp(s,t));if(!n)return[];const i=JSON.parse(n);return Array.isArray(i)?i:[i]}catch{return[]}}function zC(s,t,n){if(!s)return;const i=Tp(s,t);try{const c=localStorage.getItem(i);let o=[];if(c){const d=JSON.parse(c);Array.isArray(d)?o=d:o=[d]}const l=o.findIndex(d=>d.ticketPda===n.ticketPda);l>=0?o[l]=n:o.push(n),localStorage.setItem(i,JSON.stringify(o))}catch(c){console.error("Failed to save local state",c)}}function HC(s){if(!s)return[];const t=`timlg_play_v1:${s}:round:`,n=[];try{for(let i=0;i<localStorage.length;i++){const c=localStorage.key(i);if(c&&c.startsWith(t)){const o=localStorage.getItem(c);if(o){const l=JSON.parse(o);Array.isArray(l)?n.push(...l):n.push(l)}}}}catch(i){console.error("Failed to scan local storage",i)}return n}function jC(s,t){return DC(s,t)}function xl(s,t){return LC(s,t)}function PC(s){return HC(s)}function fs(s,t,n){zC(s,t,n)}function Tl(s){const t=typeof s=="string"?s:s?.toBase58?.()??"";return t.length>10?`${t.slice(0,4)}${t.slice(-4)}`:t}function qC(s){return`https://explorer.solana.com/tx/${s}?cluster=devnet`}function KC(s){return`https://explorer.solana.com/address/${typeof s=="string"?s:s?.toBase58?.()??""}?cluster=devnet`}function VC(s){return(s?.error?.errorMessage||s?.message||String(s)).replace(/\s+/g," ").trim()}function GC({logs:s=[],onClear:t,title:n="Activity log",defaultOpen:i=!1,maxHeight:c=220}){const o=xe.useMemo(()=>s?.length?s.join(`
`):"",[s]);return K.jsxs("details",{className:"beta-log",open:i,children:[K.jsxs("summary",{className:"beta-log__summary",children:[K.jsx("span",{children:K.jsx("b",{children:n})}),K.jsx("span",{className:"beta-log__meta",children:s?.length?`${s.length} lines`:"empty"})]}),K.jsxs("div",{className:"beta-log__toolbar",children:[K.jsx("button",{className:"beta-btn",onClick:()=>navigator.clipboard?.writeText(o),disabled:!s?.length,title:"Copy to clipboard",type:"button",children:"Copy"}),K.jsx("button",{className:"beta-btn",onClick:()=>t?.(),disabled:!s?.length,type:"button",children:"Clear"})]}),K.jsx("pre",{className:"beta-log__pre",style:{maxHeight:c},children:s?.length?o:""})]})}function FC({rpcUrl:s,connection:t,program:n,walletReady:i,programPk:c,chronoMint:o,pubkey:l,appendLog:d,chainState:y,refreshProtocolState:_,statusLine:E,onActionComplete:C,nist:I,logs:R,onClearLog:M}){const U=typeof d=="function"?d:()=>{},D=xe.useMemo(()=>new ve(String(o).trim()),[o]),j=l?.toBase58?.()??null,[F,V]=xe.useState("simple_1"),[W,re]=xe.useState(0),[oe,ie]=xe.useState(!1),[le,G]=xe.useState(""),[Y,X]=xe.useState(null),$=xe.useMemo(()=>p0.find(f=>f.id===F)??p0[0],[F]);xe.useEffect(()=>{if(!j||y?.roundId==null)return;const f=jC(j,y.roundId);X(f||null)},[j,y?.roundId]);function x(f,b,O={}){const z=Object.entries(b).filter(([,Z])=>Z==null).map(([Z])=>Z);if(z.length)throw console.error(`${f}: missing accounts`,{missing:z,accounts:b,chainState:y,...O}),new Error(`${f}: missing accounts: ${z.join(", ")}`)}async function h(){if(!l)return U("Commit: connect wallet first.");if(!i||!n)return U("Commit: wallet/program not ready yet.");if(!y?.roundPda||y.roundId==null)return U("Commit: round not loaded yet.");const f=y?.currentSlot,b=y?.round?.commitDeadlineSlot;if(f!=null&&b!=null&&BigInt(f)>=b)return U(`Commit: commit window closed (slot=${f} >= commit_deadline_slot=${b.toString()}).`);if(y.round?.pulseSet)return U("Commit: commit window closed (pulseSet=true).");ie(!0),G("");try{const O=y.roundId,z=l;let Z=W;Z===-1&&(Z=Math.floor(Math.random()*2),U(`Randomly picked: ${Z===1?"Bull (1)":"Bear (0)"} `));const ne=await UC(t,z,D);if(!ne)throw new Error("You don't have CHRONO yet. Use the faucet first.");const se=Math.floor(Math.random()*1e9),pe=IC(),Re=await kC(O,z,se,Z,pe),Oe=y.configPda??no(c),$e=y.roundRegistryPda??y.rrPda??GE(c,Oe),Ut=y.chronoVaultPda??Ac(c,O),je=z0(c,O,z,se),Xe={config:Oe,roundRegistry:$e,round:y.roundPda,ticket:je,user:z,chronoMint:D,chronoVault:Ut,userChronoAta:ne,systemProgram:hn.programId,tokenProgram:Ks.token.TOKEN_PROGRAM_ID};x("Commit",Xe,{roundId:O,nonce:se,guess:Z}),U(`Commit: sending tx (round=${O}, guess=${Z}, nonce=${se})`);const en={version:1,roundId:O,guess:Z,nonce:se,saltHex:d_(pe),commitmentHex:d_(Re),ticketPda:je.toBase58(),committedAt:Date.now(),commitTx:"pending"};fs(j,O,en),X(en);let Ge="";try{Ge=await n.methods.commitTicket(new kn(O),new kn(se),Array.from(Re)).accounts(Xe).rpc(),G(Ge),U(`Commit OK  tx=${Ge}`)}catch(Ze){const _n=Ze.message||Ze.toString();if(_n.includes("already processed")||_n.includes("0x0"))console.warn("Transaction already processed (treating as success):",_n),U("Commit likely success (already processed) "),Ge="recovered-from-error";else throw Ze}en.commitTx=Ge,fs(j,O,en),X({...en}),await _?.(),C?.()}catch(O){U(`Commit failed: ${VC(O)}`),console.error("Commit error:",O)}finally{ie(!1)}}const[w,S]=xe.useState(null);xe.useEffect(()=>{const f=y?.round?.commitDeadlineSlot,b=y?.currentSlot;if(f==null||b==null){S(null);return}const O=Number(f-10n-BigInt(b));if(O<=0){S(0);return}let z=Math.max(0,Math.floor(O*.4));S(z);const Z=setInterval(()=>{S(ne=>ne!=null&&ne>0?ne-1:0)},1e3);return()=>clearInterval(Z)},[y?.currentSlot,y?.round?.commitDeadlineSlot]);const N=y?.currentSlot,L=y?.round?.commitDeadlineSlot,B=y?.round?.revealDeadlineSlot,v=!!(l&&y?.round&&N!=null&&L!=null&&BigInt(N)<L-10n&&!y.round.pulseSet);oe||console.log("PROTOCOL_DEBUG: canCommit logic",{pubkeyConnected:!!l,hasRound:!!y?.round,curSlot:N,commitDl:L?.toString(),isBeforeDeadline:N!=null&&L!=null&&BigInt(N)<L,pulseSet:y?.round?.pulseSet,canCommitResult:v});const m=v;return l&&y?.round&&Y&&y.round.pulseSet&&N!=null&&B!=null&&BigInt(N)<=B,l&&y?.round&&y.round.tokenSettled,K.jsxs("div",{className:"beta-card",children:[K.jsx("div",{className:"beta-card__head",style:{paddingBottom:0,borderBottom:"none"},children:K.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[K.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:2},children:[K.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[K.jsxs("span",{className:"beta-card__title",style:{fontSize:18,fontWeight:"900"},children:["Round #",y?.roundId??""]}),K.jsxs("div",{className:"beta-tooltip",children:["i",K.jsxs("div",{className:"beta-tooltip__content",children:[K.jsxs("div",{children:[K.jsx("b",{children:"Scenario:"})," ",$.description]}),K.jsxs("div",{style:{marginTop:4},children:[K.jsx("b",{children:"Receipt:"})," ",Y?` ${Tl(Y.nonce)}`:""]}),K.jsxs("div",{style:{marginTop:4},children:[K.jsx("b",{children:"Prog:"})," ",Tl(c),"  ",K.jsx("b",{children:"Mint:"})," ",Tl(D)]}),K.jsxs("div",{style:{marginTop:4,opacity:.6,fontSize:10},children:["RPC: ",s]})]})]})]}),K.jsxs("div",{style:{fontSize:11,opacity:.6,display:"flex",gap:8},children:[K.jsxs("span",{children:["Target: #",y?.round?.pulseIndexTarget?.toString()??""]}),K.jsx("span",{children:"|"}),K.jsxs("span",{children:["Current:"," ",K.jsxs("a",{href:I?.pulseUrl??"#",target:"_blank",rel:"noreferrer",style:{color:"inherit",textDecoration:"underline"},children:["#",I?.pulse?.pulseIndex??""]})," ","(",I?.pulseTimeMs?new Date(I.pulseTimeMs).toLocaleTimeString([],{hour12:!1}):"",")"]})]})]}),K.jsx("div",{style:{textAlign:"right"},children:y?.round?v?K.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[K.jsx("span",{style:{color:"#4caf50",fontWeight:"bold",fontSize:14},children:" OPEN"}),w!=null&&w>0&&K.jsxs("span",{style:{fontSize:12,opacity:.8},children:["Closing in ",w,"s"]})]}):K.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[K.jsx("span",{style:{color:"#aaa",fontWeight:"bold",fontSize:14},children:" CLOSED"}),K.jsx("span",{style:{fontSize:12,opacity:.5},children:"Next round soon..."})]}):K.jsx("span",{style:{opacity:.5},children:"Loading..."})})]})}),K.jsxs("div",{className:"beta-card__body",children:[K.jsx("div",{style:{height:16}}),K.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr",gap:12,alignItems:"end",marginBottom:16},children:[K.jsxs("div",{className:"beta-field",children:[K.jsx("span",{className:"beta-field__label",children:"Flow / Strategy"}),K.jsx("select",{className:"beta-input",value:F,onChange:f=>V(f.target.value),disabled:oe,style:{height:42},children:p0.map(f=>K.jsx("option",{value:f.id,children:f.label},f.id))})]}),K.jsxs("div",{className:"beta-field",children:[K.jsx("span",{className:"beta-field__label",children:"Prediction"}),K.jsxs("select",{className:"beta-input",value:W,onChange:f=>re(Number(f.target.value)),disabled:oe,style:{height:42},children:[K.jsx("option",{value:0,children:"0 (Bear)"}),K.jsx("option",{value:1,children:"1 (Bull)"}),K.jsx("option",{value:-1,children:"Random "})]})]}),K.jsxs("div",{className:"beta-field",children:[K.jsx("span",{className:"beta-field__label",style:{fontWeight:"normal",opacity:.7,textAlign:"left"},children:"Cost: 1.00 CHRONO + Fee"}),K.jsx("button",{className:"beta-play-btn",onClick:h,disabled:!m||oe,style:{height:42,padding:"0 12px",fontSize:13,display:"flex",alignItems:"center",justifyContent:"center"},children:oe?"...":"BUY TICKET"})]})]}),K.jsx("div",{style:{marginTop:24},children:K.jsx(GC,{logs:R,onClear:M,title:"Terminal Output",defaultOpen:!0,maxHeight:160})})]})]})}const cs=(s,t=4)=>{if(!s)return"";const n=s.toString();return n.slice(0,t)+".."+n.slice(-t)},js="https://explorer.solana.com",Ps="?cluster=devnet",YC=({ticket:s,connection:t,programPk:n,claimGraceSlots:i,onClose:c,currentSlot:o})=>{const[l,d]=xe.useState([]),[y,_]=xe.useState(!1),[E,C]=xe.useState(null),[I,R]=xe.useState(!1),{roundId:M,ticketPk:U,receipt:D,ticket:j,round:F}=s||{};if(xe.useEffect(()=>{!U||!t||(_(!0),t.getSignaturesForAddress(U,{limit:10}).then(N=>d(N)).catch(N=>console.error("Err fetching sigs:",N)).finally(()=>_(!1)))},[U,t]),xe.useEffect(()=>{if(!F||!t||!n||!M)return;const N=F?.pulseSetSlot||F?.pulse_set_slot;if(!N)return;(async()=>{try{const B=await Fr(n,Number(M)),v=await t.getSignaturesForAddress(B,{limit:50}),m=Number(N),f=v.find(b=>Math.abs(b.slot-m)<=1);f&&C(f.signature)}catch(B){console.error("Err fetching round sigs:",B)}})()},[F,t,n,M]),!s)return null;const V=j?.revealed?j.guess:D?.guess??j?.guess,W=V===1,re=V===0,ie=(()=>{if(D?.refunded===!0)return"REFUNDED";const N=!!j?.revealed,L=!!j?.win,B=!!j?.claimed,v=!!(j?.processed||j?.tokenSettled);if(B)return"CLAIMED";if(L){if(v){if(o&&F&&i!=null)try{const m=BigInt(F.revealDeadlineSlot||F.reveal_deadline_slot||0),f=BigInt(i),b=BigInt(o);if(m>0n&&b>m+f)return"SWEPT"}catch(m){console.warn("Error calculating swept status:",m)}return"CLAIM PRIZE"}return"WIN"}if(N&&!L)return"LOSS";if(!N&&!L){if(!F||F.finalized)return"EXPIRED";const m=Number(o||0),f=F.revealDeadlineSlot||F.reveal_deadline_slot;if(f&&m>0){const b=Number(f);if(m>b+150)return"REFUND AVAILABLE";if(m>b)return"EXPIRED";if(!!(F?.pulseSet||F?.pulse_set)&&m<=b)return"REVEAL NOW"}}return"PENDING"})(),G=(N=>N==="CLAIM PRIZE"||N==="READY TO CLAIM"||N==="WINNER"||N==="CLAIMED"||N==="REFUNDED"?"#4caf50":N==="LOSS"||N==="REFUND AVAILABLE"||N==="SWEPT"?"#f44336":N==="REVEAL NOW"?"#ff9800":"#9e9e9e")(ie),Y=N=>{if(!N)return null;const L=N.toString();return l.find(B=>{const v=B.slot.toString();return v===L||Math.abs(Number(v)-Number(L))<=1})},X=Y(j?.createdSlot||j?.created_slot),$=Y(j?.revealedSlot||j?.revealed_slot),x=Y(j?.claimedSlot||j?.claimed_slot),h=F?.pulseIndexTarget??F?.pulse_index_target,w=h?`https://beacon.nist.gov/beacon/2.0/chain/1/pulse/${h}`:"#",S=n&&M!=null?Fr(n,Number(M)):null;return K.jsx("div",{className:"beta-modal-overlay",onClick:c,children:K.jsxs("div",{className:"beta-modal",onClick:N=>N.stopPropagation(),children:[K.jsxs("div",{className:"beta-modal__head",style:{alignItems:"flex-start",paddingBottom:16},children:[K.jsxs("div",{children:[K.jsx("h3",{className:"beta-modal__title",style:{marginBottom:4,lineHeight:1},children:"Ticket Details"}),K.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[K.jsx("span",{style:{fontSize:11,opacity:.5},children:"Ticket:"}),K.jsxs("a",{href:`${js}/address/${U?.toString()}${Ps}`,target:"_blank",rel:"noreferrer",className:"beta-link",style:{fontSize:11,fontFamily:"monospace"},children:[cs(U,6)," "]})]})]}),K.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[K.jsx("button",{className:"beta-btn",onClick:N=>{N.stopPropagation();try{const L=b=>{if(!b)return null;const O=b.toString();return O==="0"?null:O},B={snapshot:{timestamp:new Date().toISOString(),slot:L(o)},address:U?U.toString():"unknown",roundId:Number(M),nonce:Number(j?.nonce??D?.nonce??0),bitIndex:j?.bitIndex??j?.bit_index??null,status:ie,prediction:W?"Bull":re?"Bear":"Unknown",outcome:j?.win?"Win":j?.revealed?"Loss":ie==="REFUND AVAILABLE"?"Refundable":ie==="SWEPT"?"Swept":ie==="EXPIRED"?"Expired":ie==="REFUNDED"?"Refunded":"Pending",cryptography:{commitmentHash:j?.commitment?Buffer.from(j.commitment).toString("hex"):D?.commitment||null,localSalt:D?.saltHex||(D?.salt?Array.isArray(D.salt)?Buffer.from(D.salt).toString("hex"):D.salt:null),isValid:!0},transactions:{commit:X?X.signature:null,reveal:$?$.signature:null,claim:x?x.signature:null,refund:D?.refundedTx||null}},v=new Blob([JSON.stringify(B,null,2)],{type:"application/json"}),m=URL.createObjectURL(v),f=document.createElement("a");f.href=m,f.download=`chronos_ticket_${M}_${U?U.toString().slice(0,8):"data"}.json`,document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(m)}catch(L){console.error("Download failed:",L),alert("Download failed. See console.")}},style:{fontSize:11,padding:"6px 12px",height:28,background:"rgba(255,255,255,0.08)",border:"1px solid rgba(255,255,255,0.25)",borderRadius:4,cursor:"pointer",color:"#ffffff",fontWeight:500,transition:"all 0.2s"},onMouseEnter:N=>{N.target.style.background="rgba(255,255,255,0.15)",N.target.style.borderColor="rgba(255,255,255,0.5)"},onMouseLeave:N=>{N.target.style.background="rgba(255,255,255,0.08)",N.target.style.borderColor="rgba(255,255,255,0.25)"},title:"Download Receipt JSON",children:" Download JSON"}),K.jsx("button",{className:"beta-modal__close",onClick:c,style:{marginLeft:0},children:""})]})]}),K.jsxs("div",{className:"beta-modal__body",children:[K.jsxs("div",{style:{background:`linear-gradient(to right, ${G}22, transparent)`,borderLeft:`3px solid ${G}`,padding:"10px 14px",marginBottom:20,borderRadius:"0 8px 8px 0"},children:[K.jsx("div",{style:{fontSize:11,textTransform:"uppercase",color:G,fontWeight:"bold",letterSpacing:1},children:"Status"}),K.jsx("div",{style:{fontSize:24,fontWeight:800,color:"#fff"},children:ie})]}),K.jsxs("div",{className:"beta-detail-grid",children:[K.jsxs("div",{className:"beta-detail-row",children:[K.jsx("span",{className:"beta-detail-label",children:"Round ID"}),K.jsx("span",{className:"beta-detail-value",children:S?K.jsxs("a",{href:`${js}/address/${S.toString()}${Ps}`,target:"_blank",rel:"noreferrer",className:"beta-link",children:["#",String(M)," "]}):`#${String(M)}`})]}),K.jsxs("div",{className:"beta-detail-row",children:[K.jsx("span",{className:"beta-detail-label",children:"Target Pulse"}),K.jsx("span",{className:"beta-detail-value",children:h?K.jsxs("a",{href:w,target:"_blank",rel:"noreferrer",className:"beta-link",children:["#",String(h)," "]}):""})]}),K.jsxs("div",{className:"beta-detail-row",children:[K.jsx("span",{className:"beta-detail-label",children:"Prediction"}),K.jsx("span",{className:"beta-detail-value",style:{color:W?"#4caf50":re?"#f44336":"#ddd"},children:W?" Bull (1)":re?" Bear (0)":""})]}),j?.bit_index!==void 0&&K.jsxs("div",{className:"beta-detail-row",children:[K.jsx("span",{className:"beta-detail-label",children:"Bit Index"}),K.jsx("span",{className:"beta-detail-value",children:j.bit_index})]}),K.jsxs("div",{className:"beta-detail-row",children:[K.jsx("span",{className:"beta-detail-label",children:"Nonce"}),K.jsx("span",{className:"beta-detail-value",children:String(j?.nonce??D?.nonce??"")})]}),K.jsx("div",{style:{marginTop:20,marginBottom:8,fontSize:11,fontWeight:"bold",opacity:.5},children:"ON-CHAIN TRANSACTIONS"}),K.jsxs("div",{className:"beta-detail-row",children:[K.jsx("span",{className:"beta-detail-label",children:"Commit (Buy)"}),K.jsx("span",{className:"beta-detail-value",children:X?K.jsxs("a",{href:`${js}/tx/${X.signature}${Ps}`,target:"_blank",rel:"noreferrer",className:"beta-link",children:[cs(X.signature)," "]}):y?K.jsx("span",{style:{opacity:.5},children:"Searching..."}):""})]}),K.jsxs("div",{className:"beta-detail-row",children:[K.jsx("span",{className:"beta-detail-label",children:"Reveal"}),K.jsx("span",{className:"beta-detail-value",children:$?K.jsxs("a",{href:`${js}/tx/${$.signature}${Ps}`,target:"_blank",rel:"noreferrer",className:"beta-link",children:[cs($.signature)," "]}):y?K.jsx("span",{style:{opacity:.5},children:"Searching..."}):j?.revealed?"":"Pending"})]}),j?.win&&K.jsxs("div",{className:"beta-detail-row",children:[K.jsx("span",{className:"beta-detail-label",children:"Claim Reward"}),K.jsx("span",{className:"beta-detail-value",children:x?K.jsxs("a",{href:`${js}/tx/${x.signature}${Ps}`,target:"_blank",rel:"noreferrer",className:"beta-link",children:[cs(x.signature)," "]}):j?.claimed?"":"Unclaimed"})]}),K.jsxs("div",{className:"beta-detail-row",children:[K.jsx("span",{className:"beta-detail-label",children:"Refund txn"}),K.jsx("span",{className:"beta-detail-value beta-detail-value--long",children:D?.refunded?D.refundedTx?K.jsxs("a",{href:`${js}/tx/${D.refundedTx}${Ps}`,target:"_blank",rel:"noreferrer",className:"beta-link",children:[cs(D.refundedTx,8)," "]}):"Refunded (Local Record)":K.jsx("span",{style:{opacity:.5},children:""})})]}),K.jsxs("div",{className:"beta-detail-row",children:[K.jsx("span",{className:"beta-detail-label",children:"Commitment Hash"}),K.jsx("span",{className:"beta-detail-value",children:j?.commitment?X?K.jsxs("a",{href:`${js}/tx/${X.signature}${Ps}`,target:"_blank",rel:"noreferrer",className:"beta-link",title:Buffer.from(j.commitment).toString("hex"),children:[cs(Buffer.from(j.commitment).toString("hex"),10)," "]}):K.jsx("span",{title:Buffer.from(j.commitment).toString("hex"),children:cs(Buffer.from(j.commitment).toString("hex"),10)}):D?.commitment?K.jsx("span",{title:D.commitment,children:cs(D.commitment,10)}):K.jsx("span",{style:{opacity:.5},children:"Pending / Not Found"})})]}),K.jsxs("div",{className:"beta-detail-row",children:[K.jsx("span",{className:"beta-detail-label",children:"Revealed Data"}),K.jsx("span",{className:"beta-detail-value beta-detail-value--long",children:j?.revealed?K.jsx("div",{style:{display:"flex",flexDirection:"column",gap:4,textAlign:"right"},children:K.jsxs("div",{children:["Guess: ",j.guess]})}):K.jsx("span",{style:{opacity:.5},children:"Not Revealed"})})]}),K.jsx("div",{style:{marginTop:24,textAlign:"center"},children:K.jsx("button",{onClick:()=>R(!I),className:"beta-btn",style:{fontSize:12,padding:"6px 12px",background:"rgba(255, 50, 50, 0.1)",border:"1px solid rgba(255, 50, 50, 0.3)",color:"#ff8888"},children:I?"Hide Private Key ":"Show Private Key (Local Salt) "})}),I&&K.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px dashed rgba(255, 50, 50, 0.3)",animation:"fadeIn 0.3s"},children:[K.jsx("div",{style:{marginBottom:12,fontSize:11,fontWeight:"bold",opacity:.8,color:"#ff8888",textTransform:"uppercase"},children:" SENSITIVE DATA - DO NOT SHARE"}),K.jsxs("div",{className:"beta-detail-row",children:[K.jsx("span",{className:"beta-detail-label",style:{color:"#ff8888"},children:"Local Salt (Secret)"}),K.jsx("span",{className:"beta-detail-value",style:{wordBreak:"break-all",fontSize:10,lineHeight:"1.4em"},children:D?.saltHex||D?.salt?D.saltHex||(Array.isArray(D.salt)?Buffer.from(D.salt).toString("hex"):D.salt):K.jsx("span",{style:{opacity:.5},children:""})})]})]})]})]})]})})};function Qa(s){if(!s)return null;const t=s.toString();return t==="0"?null:t}const H0=s=>s?Array.from(new Uint8Array(s)).map(t=>t.toString(16).padStart(2,"0")).join(""):"";function ZC(s){const{ticketPk:t,roundId:n,onChainTicket:i,receipt:c,status:o,currentSlot:l,createdTx:d,revealedTx:y,claimedTx:_}=s,E=i?.guess===1||c?.guess===1,C=i?.guess===0||c?.guess===0;return{snapshot:{timestamp:new Date().toISOString(),slot:Qa(l)},address:t?t.toString():"unknown",roundId:Number(n),nonce:Number(i?.nonce??c?.nonce??0),bitIndex:i?.bitIndex??i?.bit_index??null,status:o,prediction:E?"Bull":C?"Bear":"Unknown",outcome:i?.win?"Win":i?.revealed?"Loss":o==="REFUND AVAILABLE"?"Refundable":o==="SWEPT"?"Swept":o==="EXPIRED"?"Expired":o==="REFUNDED"?"Refunded":"Pending",cryptography:{commitmentHash:i?.commitment?H0(i.commitment):c?.commitment||null,localSalt:c?.saltHex||(c?.salt?Array.isArray(c.salt)?H0(c.salt):c.salt:null),isValid:!0},transactions:{commit:d?d.signature:null,reveal:y?y.signature:null,claim:_?_.signature:null,refund:c?.refundedTx||null}}}function XC(s,t,n,i,c,o){return{snapshot:{type:"ROUND_BATCH_EXPORT",version:"1.0",timestamp:new Date().toISOString(),wallet:o},round:{id:Number(s),address:t?.toString()||null,status:n,slots:{commitOpen:Qa(i?.createdSlot||i?.created_slot),commitClose:Qa(i?.commitDeadlineSlot||i?.commit_deadline_slot),pulse:Qa(i?.pulseSetSlot||i?.pulse_set_slot),revealDeadline:Qa(i?.revealDeadlineSlot||i?.reveal_deadline_slot),settled:Qa(i?.tokenSettledSlot||i?.token_settled_slot)},oracle:{pulseHash:i?.pulse?H0(i.pulse):null}},tickets:c}}function h_(s,t){try{const n=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),i=URL.createObjectURL(n),c=document.createElement("a");c.href=i,c.download=s,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(i)}catch(n){console.error("Download error:",n),alert("Error preparing download: "+n.message)}}const qs=s=>s!=null&&s.toString()!=="0"?s.toString():"null",$C=s=>s?Array.from(new Uint8Array(s)).map(t=>t.toString(16).padStart(2,"0")).join(""):"";function WC({round:s,roundId:t,rPda:n,onClose:i,currentSlot:c,programPk:o,claimGraceSlots:l,connection:d}){console.log("RoundDetailModal mounted",{roundId:t,programPk:o,rPda:n,hasRound:!!s});const[y,_]=xe.useState(null),[E,C]=xe.useState(null);return xe.useEffect(()=>{if(!n&&o&&t)try{const I=new ve(o),R=BigInt(t),M=Fr(I,R);_(M)}catch(I){console.error("Failed to derive PDA",I)}},[n,o,t]),xe.useEffect(()=>{const I=n||y;!s&&I&&d&&(C("checking"),d.getAccountInfo(I).then(R=>{C(R?"exists":"closed")}).catch(R=>{console.error("Err fetching round acc",R),C("unknown")}))},[s,n,y,d]),K.jsx("div",{className:"beta-modal-overlay",onClick:i,children:K.jsxs("div",{className:"beta-modal",onClick:I=>I.stopPropagation(),style:{maxWidth:500},children:[K.jsxs("div",{className:"beta-modal__head",children:[K.jsxs("div",{className:"beta-modal__title",children:["Round Details #",t]}),K.jsx("button",{className:"beta-btn-close",onClick:i,style:{color:"white"},children:""})]}),K.jsxs("div",{className:"beta-modal__body",children:[E==="closed"&&K.jsxs("div",{style:{background:"rgba(239, 68, 68, 0.1)",color:"#ef4444",padding:"8px 12px",borderRadius:6,fontSize:12,marginBottom:16,border:"1px solid rgba(239, 68, 68, 0.2)"},children:[K.jsx("strong",{children:" Round Closed On-Chain"}),K.jsx("br",{}),"This round has been settled and the rent reclaimed (swept). Most data is no longer available on the blockchain."]}),K.jsxs("div",{style:{marginBottom:16},children:[K.jsx("div",{style:{fontSize:12,opacity:.5,marginBottom:4},children:"ROUND ADDRESS (PDA)"}),K.jsx("div",{className:"beta-code-block",style:{fontSize:11,wordBreak:"break-all"},children:K.jsxs("a",{href:`https://explorer.solana.com/address/${n||y?(n||y).toString():""}?cluster=devnet`,target:"_blank",rel:"noopener noreferrer",style:{color:"inherit",textDecoration:"underline",textUnderlineOffset:3},children:[n||y?(n||y).toString():"Loading..."," "]})})]}),K.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12,marginBottom:16},children:[K.jsxs("div",{children:[K.jsx("div",{style:{fontSize:11,opacity:.5},children:"Target Pulse"}),K.jsx("div",{style:{fontWeight:"bold"},children:s?.pulseIndexTarget||s?.pulse_index_target?`#${s.pulseIndexTarget||s.pulse_index_target}`:""})]}),K.jsxs("div",{children:[K.jsx("div",{style:{fontSize:11,opacity:.5},children:"Finalized"}),K.jsx("div",{style:{fontWeight:"bold"},children:s?.finalized||E==="closed"?"YES":"NO"})]})]}),K.jsxs("div",{className:"beta-card",style:{padding:12,background:"rgba(0,0,0,0.02)",border:"1px solid rgba(0,0,0,0.05)"},children:[K.jsx("div",{style:{fontSize:12,fontWeight:"bold",marginBottom:8,opacity:.7},children:"TIMELINE (SLOTS)"}),K.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",rowGap:6,fontSize:12},children:[K.jsx("span",{style:{opacity:.6},children:"Current Slot:"}),K.jsx("span",{style:{textAlign:"right",fontWeight:"bold",color:"#2D68EA"},children:qs(c)}),K.jsx("div",{style:{height:1,background:"rgba(0,0,0,0.1)",gridColumn:"1/-1",margin:"4px 0"}}),K.jsx("span",{style:{opacity:.6},children:"Created:"}),K.jsx("span",{style:{textAlign:"right"},children:qs(s?.createdSlot||s?.created_slot)}),K.jsx("span",{style:{opacity:.6},children:"Commit Deadline:"}),K.jsx("span",{style:{textAlign:"right"},children:qs(s?.commitDeadlineSlot||s?.commit_deadline_slot)}),K.jsx("span",{style:{opacity:.6},children:"Pulse Set at:"}),K.jsx("span",{style:{textAlign:"right"},children:qs(s?.pulseSetSlot||s?.pulse_set_slot)}),K.jsx("span",{style:{opacity:.6},children:"Reveal Deadline:"}),K.jsx("span",{style:{textAlign:"right"},children:qs(s?.revealDeadlineSlot||s?.reveal_deadline_slot)}),K.jsx("span",{style:{opacity:.6},children:"Sweep at:"}),K.jsx("span",{style:{textAlign:"right"},children:qs((s?.revealDeadlineSlot||s?.reveal_deadline_slot)&&l?BigInt(s?.revealDeadlineSlot||s?.reveal_deadline_slot)+BigInt(l):null)}),K.jsx("span",{style:{opacity:.6},children:"Settled at:"}),K.jsx("span",{style:{textAlign:"right"},children:qs(s?.tokenSettledSlot||s?.token_settled_slot)})]})]}),K.jsxs("div",{style:{marginTop:16},children:[K.jsx("div",{style:{fontSize:12,opacity:.5,marginBottom:4},children:"ORACLE PULSE HASH (SHA3-512)"}),E==="closed"?K.jsx("div",{className:"beta-code-block",style:{fontSize:11,background:"rgba(0,0,0,0.03)",color:"#888",border:"1px solid rgba(0,0,0,0.05)",textAlign:"center"},children:" Data cleared (Round Swept)"}):!s?.pulse||Object.values(s.pulse).every(I=>I===0)?K.jsx("div",{className:"beta-code-block",style:{fontSize:11,background:"rgba(234, 179, 8, 0.1)",color:"#ca8a04",border:"1px solid rgba(234, 179, 8, 0.2)",textAlign:"center"},children:" Waiting for external oracle pulse..."}):K.jsx("div",{className:"beta-code-block",style:{fontSize:10,wordBreak:"break-all",background:"#f0fdf4",color:"#166534",border:"1px solid #bbf7d0"},children:K.jsxs("a",{href:`https://explorer.solana.com/block/${s?.pulseSetSlot||s?.pulse_set_slot||0}?cluster=devnet`,target:"_blank",rel:"noopener noreferrer",style:{color:"inherit",textDecoration:"none"},children:[$C(s.pulse)," "]})})]})]}),K.jsx("div",{className:"beta-modal__footer",children:K.jsx("button",{className:"beta-btn beta-btn--soft",onClick:i,style:{width:"100%",color:"white",background:"rgba(255,255,255,0.1)"},children:" Close "})})]})})}const QC="DrsJxZRNuEFHVyj3Sz5CzpVeacpAGHBoZrg9NtRH9JqR",JC={name:"chronos_mvp",version:"0.1.0",spec:"0.1.0",description:"Created with Anchor"},e6=JSON.parse('[{"name":"add_oracle","discriminator":[185,165,165,167,208,207,55,35],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"oracle_set","writable":true,"pda":{"seeds":[{"kind":"const","value":[111,114,97,99,108,101,95,115,101,116]},{"kind":"account","path":"config"}]}},{"name":"admin","signer":true}],"args":[{"name":"oracle","type":"pubkey"}]},{"name":"claim_reward","discriminator":[149,95,181,242,94,90,158,162],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"tokenomics","pda":{"seeds":[{"kind":"const","value":[116,111,107,101,110,111,109,105,99,115]},{"kind":"account","path":"config"}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"ticket","writable":true,"pda":{"seeds":[{"kind":"const","value":[116,105,99,107,101,116]},{"kind":"arg","path":"round_id"},{"kind":"account","path":"user"},{"kind":"arg","path":"nonce"}]}},{"name":"user","writable":true,"signer":true},{"name":"chrono_mint","writable":true},{"name":"chrono_vault","writable":true},{"name":"user_chrono_ata","writable":true},{"name":"reward_fee_pool","writable":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}],"args":[{"name":"round_id","type":"u64"},{"name":"nonce","type":"u64"}]},{"name":"commit_batch","discriminator":[27,234,100,224,134,31,168,142],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"chrono_mint"},{"name":"chrono_vault","writable":true},{"name":"user","writable":true,"signer":true},{"name":"user_chrono_ata","writable":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"round_id","type":"u64"},{"name":"entries","type":{"vec":{"defined":{"name":"CommitEntry"}}}}]},{"name":"commit_batch_signed","discriminator":[114,249,180,103,248,14,43,173],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"chrono_mint"},{"name":"chrono_vault","writable":true},{"name":"payer","docs":["Relayer (paga fees)"],"writable":true,"signer":true},{"name":"user_escrow","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,95,101,115,99,114,111,119]},{"kind":"account","path":"user"}]}},{"name":"user_escrow_ata","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,95,101,115,99,114,111,119,95,118,97,117,108,116]},{"kind":"account","path":"user"}]}},{"name":"user"},{"name":"instructions"},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"round_id","type":"u64"},{"name":"entries","type":{"vec":{"defined":{"name":"CommitSignedEntry"}}}}]},{"name":"commit_ticket","discriminator":[15,97,55,56,38,249,88,220],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"chrono_mint"},{"name":"chrono_vault","writable":true},{"name":"ticket","writable":true,"pda":{"seeds":[{"kind":"const","value":[116,105,99,107,101,116]},{"kind":"arg","path":"round_id"},{"kind":"account","path":"user"},{"kind":"arg","path":"nonce"}]}},{"name":"user","writable":true,"signer":true},{"name":"user_chrono_ata","writable":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"round_id","type":"u64"},{"name":"nonce","type":"u64"},{"name":"commitment","type":{"array":["u8",32]}}]},{"name":"create_round","discriminator":[229,218,236,169,231,80,134,112],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"chrono_mint"},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"vault","writable":true,"pda":{"seeds":[{"kind":"const","value":[118,97,117,108,116]},{"kind":"arg","path":"round_id"}]}},{"name":"chrono_vault","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,104,114,111,110,111,95,118,97,117,108,116]},{"kind":"arg","path":"round_id"}]}},{"name":"admin","writable":true,"signer":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[{"name":"round_id","type":"u64"},{"name":"pulse_index_target","type":"u64"},{"name":"commit_deadline_slot","type":"u64"},{"name":"reveal_deadline_slot","type":"u64"}]},{"name":"create_round_auto","discriminator":[203,214,64,8,185,82,116,71],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"chrono_mint"},{"name":"round_registry","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100,95,114,101,103,105,115,116,114,121]},{"kind":"account","path":"config"}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"account","path":"round_registry.next_round_id","account":"RoundRegistry"}]}},{"name":"vault","writable":true,"pda":{"seeds":[{"kind":"const","value":[118,97,117,108,116]},{"kind":"account","path":"round_registry.next_round_id","account":"RoundRegistry"}]}},{"name":"chrono_vault","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,104,114,111,110,111,95,118,97,117,108,116]},{"kind":"account","path":"round_registry.next_round_id","account":"RoundRegistry"}]}},{"name":"admin","writable":true,"signer":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[{"name":"pulse_index_target","type":"u64"},{"name":"commit_deadline_slot","type":"u64"},{"name":"reveal_deadline_slot","type":"u64"}]},{"name":"deposit_escrow","discriminator":[226,112,158,176,178,118,153,128],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"chrono_mint","writable":true},{"name":"user_escrow","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,95,101,115,99,114,111,119]},{"kind":"account","path":"user"}]}},{"name":"user_escrow_ata","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,95,101,115,99,114,111,119,95,118,97,117,108,116]},{"kind":"account","path":"user"}]}},{"name":"user","writable":true,"signer":true},{"name":"user_chrono_ata","writable":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}],"args":[{"name":"amount","type":"u64"}]},{"name":"finalize_round","discriminator":[239,160,254,11,254,144,53,148],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"admin","signer":true}],"args":[{"name":"round_id","type":"u64"}]},{"name":"fund_vault","discriminator":[26,33,207,242,119,108,134,73],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"vault","writable":true,"pda":{"seeds":[{"kind":"const","value":[118,97,117,108,116]},{"kind":"arg","path":"round_id"}]}},{"name":"funder","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"round_id","type":"u64"},{"name":"amount","type":"u64"}]},{"name":"init_user_escrow","discriminator":[122,51,129,53,23,2,205,146],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"chrono_mint","writable":true},{"name":"user_escrow","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,95,101,115,99,114,111,119]},{"kind":"account","path":"user"}]}},{"name":"user_escrow_ata","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,95,101,115,99,114,111,119,95,118,97,117,108,116]},{"kind":"account","path":"user"}]}},{"name":"user","writable":true,"signer":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[]},{"name":"initialize_config","discriminator":[208,127,21,1,194,190,196,70],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"chrono_mint","docs":["Mint SPL del token CHRONO (ya creado off-chain en tests o en deploy script)"],"writable":true},{"name":"treasury_sol","docs":[" NUEVO: Treasury SOL (lamports) como system-owned PDA (igual que vault)"],"writable":true,"pda":{"seeds":[{"kind":"const","value":[116,114,101,97,115,117,114,121,95,115,111,108]}]}},{"name":"treasury","docs":["Treasury SPL = TokenAccount PDA controlado por el programa (authority = config PDA)"],"writable":true,"pda":{"seeds":[{"kind":"const","value":[116,114,101,97,115,117,114,121]}]}},{"name":"admin","writable":true,"signer":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[{"name":"stake_amount","type":"u64"},{"name":"commit_window_slots","type":"u64"},{"name":"reveal_window_slots","type":"u64"}]},{"name":"initialize_oracle_set","discriminator":[130,190,220,106,237,202,154,216],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"oracle_set","writable":true,"pda":{"seeds":[{"kind":"const","value":[111,114,97,99,108,101,95,115,101,116]},{"kind":"account","path":"config"}]}},{"name":"admin","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[{"name":"threshold","type":"u8"},{"name":"initial_oracles","type":{"vec":"pubkey"}}]},{"name":"initialize_round_registry","discriminator":[168,224,102,212,197,199,124,55],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round_registry","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100,95,114,101,103,105,115,116,114,121]},{"kind":"account","path":"config"}]}},{"name":"admin","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[{"name":"start_round_id","type":"u64"}]},{"name":"initialize_tokenomics","discriminator":[212,84,141,244,21,193,39,208],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"chrono_mint"},{"name":"tokenomics","writable":true,"pda":{"seeds":[{"kind":"const","value":[116,111,107,101,110,111,109,105,99,115]},{"kind":"account","path":"config"}]}},{"name":"reward_fee_pool","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,101,119,97,114,100,95,102,101,101,95,112,111,111,108]},{"kind":"account","path":"tokenomics"}]}},{"name":"replication_pool","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,101,112,108,105,99,97,116,105,111,110,95,112,111,111,108]},{"kind":"account","path":"tokenomics"}]}},{"name":"admin","writable":true,"signer":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[{"name":"reward_fee_bps","type":"u16"}]},{"name":"remove_oracle","discriminator":[60,93,51,197,182,42,170,26],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"oracle_set","writable":true,"pda":{"seeds":[{"kind":"const","value":[111,114,97,99,108,101,95,115,101,116]},{"kind":"account","path":"config"}]}},{"name":"admin","signer":true}],"args":[{"name":"oracle","type":"pubkey"}]},{"name":"reveal_batch","discriminator":[42,176,196,168,123,47,195,121],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"user","signer":true}],"args":[{"name":"round_id","type":"u64"},{"name":"entries","type":{"vec":{"defined":{"name":"RevealEntry"}}}}]},{"name":"reveal_batch_signed","discriminator":[157,126,204,244,23,210,88,121],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"payer","docs":["Relayer paying tx fees (must sign tx)"],"signer":true},{"name":"instructions","address":"Sysvar1nstructions1111111111111111111111111"}],"args":[{"name":"round_id","type":"u64"},{"name":"entries","type":{"vec":{"defined":{"name":"RevealSignedEntry"}}}}]},{"name":"reveal_ticket","discriminator":[223,24,70,21,181,13,151,239],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"ticket","writable":true,"pda":{"seeds":[{"kind":"const","value":[116,105,99,107,101,116]},{"kind":"arg","path":"round_id"},{"kind":"account","path":"user"},{"kind":"arg","path":"nonce"}]}},{"name":"user","signer":true}],"args":[{"name":"round_id","type":"u64"},{"name":"nonce","type":"u64"},{"name":"guess","type":"u8"},{"name":"salt","type":{"array":["u8",32]}}]},{"name":"set_claim_grace_slots","discriminator":[186,199,198,137,128,29,135,49],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"admin","signer":true}],"args":[{"name":"claim_grace_slots","type":"u64"}]},{"name":"set_oracle_pubkey","discriminator":[90,135,153,229,200,95,163,243],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"admin","signer":true}],"args":[{"name":"oracle_pubkey","type":"pubkey"}]},{"name":"set_oracle_threshold","discriminator":[181,85,21,30,120,168,37,233],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"oracle_set","writable":true,"pda":{"seeds":[{"kind":"const","value":[111,114,97,99,108,101,95,115,101,116]},{"kind":"account","path":"config"}]}},{"name":"admin","signer":true}],"args":[{"name":"threshold","type":"u8"}]},{"name":"set_pause","discriminator":[63,32,154,2,56,103,79,45],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"admin","signer":true}],"args":[{"name":"paused","type":"bool"}]},{"name":"set_pulse_signed","discriminator":[50,221,54,125,25,40,123,89],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"instructions","address":"Sysvar1nstructions1111111111111111111111111"}],"args":[{"name":"round_id","type":"u64"},{"name":"pulse","type":{"array":["u8",64]}}]},{"name":"settle_round_tokens","discriminator":[237,209,221,2,7,78,113,158],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"tokenomics","pda":{"seeds":[{"kind":"const","value":[116,111,107,101,110,111,109,105,99,115]},{"kind":"account","path":"config"}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"chrono_mint","writable":true},{"name":"chrono_vault","writable":true},{"name":"treasury","writable":true},{"name":"replication_pool","writable":true},{"name":"admin","writable":true,"signer":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}],"args":[{"name":"round_id","type":"u64"}]},{"name":"sweep_unclaimed","discriminator":[64,168,221,224,42,216,138,144],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"vault","writable":true,"pda":{"seeds":[{"kind":"const","value":[118,97,117,108,116]},{"kind":"arg","path":"round_id"}]}},{"name":"treasury_sol","docs":[" NUEVO: destino del sweep = treasury SOL PDA (lamports)"],"writable":true,"pda":{"seeds":[{"kind":"const","value":[116,114,101,97,115,117,114,121,95,115,111,108]}]}},{"name":"admin","signer":true},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"round_id","type":"u64"}]},{"name":"withdraw_escrow","discriminator":[81,84,226,128,245,47,96,104],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"chrono_mint","writable":true},{"name":"user_escrow","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,95,101,115,99,114,111,119]},{"kind":"account","path":"user"}]}},{"name":"user_escrow_ata","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,95,101,115,99,114,111,119,95,118,97,117,108,116]},{"kind":"account","path":"user"}]}},{"name":"user","writable":true,"signer":true},{"name":"user_chrono_ata","writable":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}],"args":[{"name":"amount","type":"u64"}]}]'),t6=[{name:"Config",discriminator:[155,12,170,224,30,250,204,130]},{name:"OracleSet",discriminator:[128,26,73,134,218,90,126,42]},{name:"Round",discriminator:[87,127,165,51,73,78,116,174]},{name:"RoundRegistry",discriminator:[89,3,13,175,73,80,211,206]},{name:"Ticket",discriminator:[41,228,24,165,78,90,235,200]},{name:"Tokenomics",discriminator:[252,176,228,183,130,36,15,194]},{name:"UserEscrow",discriminator:[242,233,85,38,26,5,142,109]}],n6=[{code:6e3,name:"Unauthorized",msg:"Unauthorized"},{code:6001,name:"Paused",msg:"Protocol paused"},{code:6002,name:"InvalidDeadlines",msg:"Invalid deadlines"},{code:6003,name:"CommitClosed",msg:"Commit window closed"},{code:6004,name:"RevealClosed",msg:"Reveal window closed"},{code:6005,name:"PulseNotSet",msg:"Pulse not set"},{code:6006,name:"PulseAlreadySet",msg:"Round pulse already set"},{code:6007,name:"AlreadyFinalized",msg:"Round already finalized"},{code:6008,name:"NotFinalized",msg:"Round not finalized"},{code:6009,name:"CannotFinalizeYet",msg:"Cannot finalize yet"},{code:6010,name:"AlreadyRevealed",msg:"Already revealed"},{code:6011,name:"CommitmentMismatch",msg:"Commitment mismatch"},{code:6012,name:"InvalidGuess",msg:"Invalid guess (must be 0/1)"},{code:6013,name:"TooManyEntries",msg:"Too many entries"},{code:6014,name:"TicketPdaMismatch",msg:"Ticket PDA mismatch"},{code:6015,name:"TicketAlreadyExists",msg:"Ticket already exists"},{code:6016,name:"TicketNotOwnedByProgram",msg:"Ticket not owned by program"},{code:6017,name:"VaultPdaMismatch",msg:"Vault PDA mismatch"},{code:6018,name:"InsufficientVaultFunds",msg:"Insufficient vault funds"},{code:6019,name:"MissingOrInvalidEd25519Ix",msg:"Missing or invalid ed25519 verify instruction"},{code:6020,name:"Ed25519PubkeyMismatch",msg:"Ed25519 pubkey mismatch"},{code:6021,name:"Ed25519MessageMismatch",msg:"Ed25519 message mismatch"},{code:6022,name:"OracleNotSet",msg:"Oracle pubkey not set"},{code:6023,name:"BitIndexMismatch",msg:"Bit index mismatch"},{code:6024,name:"AccountBorrowFailed",msg:"Failed to borrow account data"},{code:6025,name:"RoundFinalized",msg:"Round is finalized"},{code:6026,name:"CommitAfterPulseSet",msg:"Commit not allowed after pulse is set"},{code:6027,name:"SweepTooEarly",msg:"Sweep not allowed yet (grace period not elapsed)"},{code:6028,name:"AlreadySwept",msg:"Vault already swept for this round"},{code:6029,name:"ClaimAfterSweep",msg:"Cannot claim after vault sweep"},{code:6030,name:"InvalidStakeAmount",msg:"Invalid stake amount"},{code:6031,name:"InvalidWindow",msg:"Invalid window"},{code:6032,name:"MissingBump",msg:"Missing bump"},{code:6033,name:"MathOverflow",msg:"Math overflow"},{code:6034,name:"ChronoMintMismatch",msg:"chrono_mint does not match config"},{code:6035,name:"InvalidUserChronoAta",msg:"Invalid user CHRONO token account"},{code:6036,name:"TicketNotRevealed",msg:"Ticket not revealed"},{code:6037,name:"NotWinner",msg:"Not a winner"},{code:6038,name:"AlreadyClaimed",msg:"Already claimed"},{code:6039,name:"StakeNotPaid",msg:"Stake not paid for this ticket"},{code:6040,name:"InsufficientEscrow",msg:"Insufficient escrow funds"},{code:6041,name:"SignedBatchMixedUsers",msg:"Signed batch contains mixed users"},{code:6042,name:"RoundNotSettled",msg:"Round tokens not settled yet"},{code:6043,name:"SettleTooEarly",msg:"Too early to settle round tokens"},{code:6044,name:"RoundTokensAlreadySettled",msg:"Round tokens already settled"},{code:6045,name:"OracleSetFull",msg:"OracleSet is full"},{code:6046,name:"OracleAlreadyExists",msg:"Oracle already exists in allowlist"},{code:6047,name:"OracleNotFound",msg:"Oracle not found in allowlist"},{code:6048,name:"InvalidThreshold",msg:"Invalid threshold"},{code:6049,name:"ThresholdExceedsOracleCount",msg:"Threshold exceeds current oracle count"},{code:6050,name:"InvalidFeeBps",msg:"Invalid fee bps (must be 0..=10_000)."},{code:6051,name:"InvalidBps",msg:"Invalid basis points (must be <= 10000)"},{code:6052,name:"TokenomicsNotInitialized",msg:"Tokenomics not initialized"}],r6=[{name:"CommitEntry",type:{kind:"struct",fields:[{name:"nonce",type:"u64"},{name:"commitment",type:{array:["u8",32]}}]}},{name:"CommitSignedEntry",type:{kind:"struct",fields:[{name:"user",type:"pubkey"},{name:"nonce",type:"u64"},{name:"commitment",type:{array:["u8",32]}}]}},{name:"Config",type:{kind:"struct",fields:[{name:"admin",type:"pubkey"},{name:"bump",type:"u8"},{name:"stake_amount",type:"u64"},{name:"commit_window_slots",type:"u64"},{name:"reveal_window_slots",type:"u64"},{name:"claim_grace_slots",type:"u64"},{name:"oracle_pubkey",type:"pubkey"},{name:"paused",type:"bool"},{name:"version",type:"u16"},{name:"chrono_mint",type:"pubkey"},{name:"treasury",type:"pubkey"},{name:"treasury_bump",type:"u8"},{name:"treasury_sol",type:"pubkey"},{name:"treasury_sol_bump",type:"u8"}]}},{name:"OracleSet",type:{kind:"struct",fields:[{name:"admin",type:"pubkey"},{name:"bump",type:"u8"},{name:"threshold",docs:["Minimum number of oracle attestations required (PR2 will consume this)."],type:"u8"},{name:"oracles",docs:["Allowlisted oracle pubkeys.","NOTE: fixed max_len to keep account size deterministic."],type:{vec:"pubkey"}},{name:"version",type:"u16"}]}},{name:"RevealEntry",type:{kind:"struct",fields:[{name:"nonce",type:"u64"},{name:"guess",type:"u8"},{name:"salt",type:{array:["u8",32]}}]}},{name:"RevealSignedEntry",type:{kind:"struct",fields:[{name:"user",type:"pubkey"},{name:"nonce",type:"u64"},{name:"guess",type:"u8"},{name:"salt",type:{array:["u8",32]}}]}},{name:"Round",type:{kind:"struct",fields:[{name:"round_id",type:"u64"},{name:"bump",type:"u8"},{name:"state",type:"u8"},{name:"vault",type:"pubkey"},{name:"vault_bump",type:"u8"},{name:"pulse_index_target",type:"u64"},{name:"commit_deadline_slot",type:"u64"},{name:"reveal_deadline_slot",type:"u64"},{name:"created_slot",type:"u64"},{name:"pulse_set",type:"bool"},{name:"pulse",type:{array:["u8",64]}},{name:"pulse_set_slot",type:"u64"},{name:"finalized",type:"bool"},{name:"finalized_slot",type:"u64"},{name:"swept",type:"bool"},{name:"swept_slot",type:"u64"},{name:"chrono_vault",type:"pubkey"},{name:"chrono_vault_bump",type:"u8"},{name:"committed_count",type:"u64"},{name:"revealed_count",type:"u64"},{name:"win_count",type:"u64"},{name:"settled_count",type:"u64"},{name:"token_settled",type:"bool"},{name:"token_settled_slot",type:"u64"}]}},{name:"RoundRegistry",type:{kind:"struct",fields:[{name:"admin",type:"pubkey"},{name:"bump",type:"u8"},{name:"next_round_id",type:"u64"},{name:"version",type:"u16"}]}},{name:"Ticket",type:{kind:"struct",fields:[{name:"round_id",type:"u64"},{name:"user",type:"pubkey"},{name:"nonce",type:"u64"},{name:"bump",type:"u8"},{name:"commitment",type:{array:["u8",32]}},{name:"stake_paid",type:"bool"},{name:"stake_slashed",type:"bool"},{name:"processed",type:"bool"},{name:"revealed",type:"bool"},{name:"guess",type:"u8"},{name:"win",type:"bool"},{name:"bit_index",type:"u16"},{name:"claimed",type:"bool"},{name:"claimed_slot",type:"u64"},{name:"created_slot",type:"u64"},{name:"revealed_slot",type:"u64"}]}},{name:"Tokenomics",type:{kind:"struct",fields:[{name:"admin",type:"pubkey"},{name:"bump",type:"u8"},{name:"reward_fee_bps",docs:["Fee charged on minted rewards (basis points). 100 = 1%."],type:"u16"},{name:"reward_fee_pool",docs:["SPL TokenAccount PDAs (CHRONO mint)"],type:"pubkey"},{name:"reward_fee_pool_bump",type:"u8"},{name:"replication_pool",type:"pubkey"},{name:"replication_pool_bump",type:"u8"},{name:"version",type:"u16"}]}},{name:"UserEscrow",type:{kind:"struct",fields:[{name:"user",type:"pubkey"},{name:"bump",type:"u8"},{name:"created_slot",type:"u64"},{name:"updated_slot",type:"u64"}]}}],YE={address:QC,metadata:JC,instructions:e6,accounts:t6,errors:n6,types:r6},p_=122,i6=16,gl=5e3,s6=3e4;function m0(s,t=0){try{return s==null?t:typeof s=="number"?s:typeof s?.toNumber=="function"?s.toNumber():typeof s?.toString=="function"?Number(s.toString()):t}catch{return t}}function sr(s,t,n=void 0){for(const i of t)if(s&&s[i]!==void 0)return s[i];return n}function a6({ticket:s,round:t}){const n=!!sr(s,["revealed"],!1),i=!!sr(s,["win"],!1);return sr(s,["claimed"],!1)?"CLAIMED":n?i?!!sr(t,["tokenSettled","token_settled"],!1)?"CLAIM":"WIN":"LOSE":"PENDING"}function o6(s){const t=String(s?.message||s||"");return t.includes("429")||t.toLowerCase().includes("too many requests")}function bl(s){if(!s)return"Unknown error";const t=typeof s=="string"?s:s?.message||s?.toString?.()||"Unknown error";return t.toLowerCase().includes("user rejected")?"User rejected":t.toLowerCase().includes("declined")?"User declined":t}function _l(s){const t=s?.logs||s?.error?.logs||s?.data?.logs;return Array.isArray(t)&&t.length?t:null}function c6({program:s,connection:t,programPk:n,userPubkey:i,mintPk:c,appendLog:o,onAfterAction:l,setLastTx:d,limit:y=20}){const _=xe.useMemo(()=>new Rp(YE),[]),[E,C]=xe.useState([]),[I,R]=xe.useState(!1),[M,U]=xe.useState(null),[D,j]=xe.useState(null),[F,V]=xe.useState(0),W=xe.useRef(!1),re=xe.useRef(gl),oe=xe.useRef(0),ie=xe.useRef(null),le=xe.useCallback(async(x="manual")=>{if(!t||!n||!i){j(Date.now());return}const h=Date.now();if(x==="action"&&(oe.current=0),!(h<oe.current)&&!W.current)try{W.current=!0,R(!0),U(null),V(0);const w=i.toBase58(),N=(await t.getProgramAccounts(n,{commitment:"confirmed",filters:[{dataSize:p_},{memcmp:{offset:i6,bytes:w}}]})).map(z=>{try{const Z=_.decode("Ticket",Ce.Buffer.from(z.account.data)),ne=m0(sr(Z,["roundId","round_id"],0),0),se=m0(sr(Z,["createdSlot","created_slot"],0),0),pe=m0(sr(Z,["nonce"],0),0),Oe=xl(w,ne).find($e=>$e.ticketPda===z.pubkey.toBase58())||null;return{ticketPk:z.pubkey,ticket:Z,roundId:ne,createdSlot:se,nonce:pe,receipt:Oe}}catch{return null}}).filter(Boolean),L=new Set(N.map(z=>z.ticketPk.toBase58())),v=PC(w).filter(z=>z.refunded&&!L.has(z.ticketPda)).map(z=>({ticketPk:new ve(z.ticketPda),ticket:null,roundId:z.roundId,createdSlot:z.createdSlot||0,nonce:z.nonce,receipt:z})),m=[...N,...v].sort((z,Z)=>(Z.createdSlot??0)-(z.createdSlot??0)).slice(0,Math.max(1,y)),f=Array.from(new Set(m.map(z=>z.roundId))).filter(z=>z!=null),b=new Map;if(f.length){const z=await Promise.all(f.map(se=>Fr(n,se))),Z=[],ne=100;for(let se=0;se<z.length;se+=ne){const pe=z.slice(se,se+ne),Re=await t.getMultipleAccountsInfo(pe,"confirmed");Z.push(...Re)}for(let se=0;se<f.length;se++){const pe=Z[se];if(pe?.data)try{b.set(f[se],_.decode("Round",Ce.Buffer.from(pe.data)))}catch{}}}const O=m.map(z=>{const Z=b.get(z.roundId)||null,ne=!!sr(z.ticket,["revealed"],!1),se=sr(z.ticket,["guess"],null),pe=ne?se:z.receipt?.guess??null,Re=!!sr(z.ticket,["win"],!1),Oe=!!sr(z.ticket,["claimed"],!1),$e=!!sr(Z,["pulseSet","pulse_set"],!1),Ut=!!sr(Z,["tokenSettled","token_settled"],!1),je=a6({ticket:z.ticket,round:Z});return{...z,round:Z,guess:pe,win:Re,revealed:ne,claimed:Oe,pulseSet:$e,tokenSettled:Ut,uiStatus:je}});C(O),j(Date.now()),re.current=gl,oe.current=0}catch(w){const S=w?.message||String(w);if(U(S),j(Date.now()),o6(w)){const N=Math.min(re.current*2,s6),L=Math.floor(500+Math.random()*1500);re.current=N;const B=N+L,v=Date.now()+B;oe.current=v,V(Math.ceil(B/1e3)),ie.current&&clearInterval(ie.current),ie.current=setInterval(()=>{const m=Math.max(0,Math.ceil((oe.current-Date.now())/1e3));V(m),m<=0&&(clearInterval(ie.current),ie.current=null)},500)}else x!=="poll"&&o?.(`Tickets refresh error: ${S}`)}finally{W.current=!1,R(!1)}},[t,n,i,_,y,o]);xe.useEffect(()=>{let x=null,h=!1;const w=async()=>{h||(document.visibilityState==="visible"&&await le("poll"),x=setTimeout(w,gl))},S=800+Math.floor(Math.random()*1200);x=setTimeout(()=>le("init"),S);const N=setTimeout(w,gl);return()=>{h=!0,x&&clearTimeout(x),N&&clearTimeout(N),ie.current&&clearInterval(ie.current),ie.current=null}},[le]);const G=xe.useCallback(async x=>{if(!s||!i)throw new Error("Wallet not connected");if(!x?.receipt?.saltHex)throw new Error("Missing local receipt for this ticket (salt).");const h=await no(n),w=await Fr(n,x.roundId),S=CC(x.receipt.saltHex);o?.(`Reveal: sending tx (round=${x.roundId}, nonce=${x.nonce})`);try{const N=await s.methods.revealTicket(new kn(x.roundId),new kn(x.nonce),Number(x.receipt.guess),Array.from(S)).accounts({config:h,round:w,user:i,ticket:x.ticketPk}).rpc();o?.(`Reveal OK  tx=${N}`);try{if(x.receipt){const L={...x.receipt,revealTx:N,revealedAt:Date.now()};fs(i.toBase58(),x.roundId,L)}}catch(L){console.error("Failed to save reveal receipt",L)}return d?.(N),l?.(),await le("action"),N}catch(N){const L=bl(N);if(L.includes("already processed")||L.includes("0x0")){if(o?.("Reveal success (already processed) "),x.receipt){const v={...x.receipt,revealTx:"already-processed",revealedAt:Date.now()};fs(i.toBase58(),x.roundId,v)}return await le("action"),"already-processed"}o?.(`Reveal failed: ${L}`);const B=_l(N);return B?.length&&B.slice(0,12).forEach(v=>o?.(`  ${v}`)),null}},[s,n,i,o,d,l,le]),Y=xe.useCallback(async x=>{if(!s||!i)throw new Error("Wallet not connected");if(!c)throw new Error("Mint not set");const h=await no(n),w=await Fr(n,x.roundId),S=await Kl(n,h),N=await FE(n,S),L=await Ac(n,x.roundId),B=await Ks.token.associatedAddress({mint:c,owner:i});o?.(`Claim: sending tx (round=${x.roundId}, nonce=${x.nonce})`);try{const v=await s.methods.claimReward(new kn(x.roundId),new kn(x.nonce)).accounts({config:h,tokenomics:S,round:w,ticket:x.ticketPk,user:i,chronoMint:c,chronoVault:L,userChronoAta:B,rewardFeePool:N,tokenProgram:Ks.token.TOKEN_PROGRAM_ID}).rpc();o?.(`Claim OK  tx=${v}`);try{if(x.receipt){const m={...x.receipt,claimTx:v,claimedAt:Date.now()};fs(i.toBase58(),x.roundId,m)}}catch(m){console.error("Failed to save claim receipt",m)}return d?.(v),l?.(),await le("action"),v}catch(v){const m=bl(v);if(m.includes("already processed")||m.includes("0x0")){if(o?.("Claim success (already processed) "),x.receipt){const b={...x.receipt,claimTx:"already-processed",claimedAt:Date.now()};fs(i.toBase58(),x.roundId,b)}return await le("action"),"already-processed"}o?.(`Claim failed: ${m}`);const f=_l(v);return f?.length&&f.slice(0,12).forEach(b=>o?.(`  ${b}`)),null}},[s,n,i,c,o,d,l,le]),X=xe.useCallback(async x=>{if(!s||!i)throw new Error("Wallet not connected");if(!c)throw new Error("Mint not set");const h=await no(n),w=await Fr(n,x.roundId),S=await Ac(n,x.roundId),N=await Ks.token.associatedAddress({mint:c,owner:i});o?.(`Refund: recovering funds (round=${x.roundId})`);try{const L=await s.methods.recoverFunds(new kn(x.roundId)).accounts({config:h,round:w,ticket:x.ticketPk,user:i,userTokenAccount:N,chronoVault:S,chronoMint:c,tokenProgram:Ks.token.TOKEN_PROGRAM_ID,systemProgram:hn.programId}).rpc();o?.(`Refund OK  tx=${L}`);try{const B=i.toBase58();let m=xl(B,x.roundId).find(f=>f.ticketPda===x.ticketPk.toBase58());m?(m.refunded=!0,m.refundedTx=L,x.createdSlot&&(m.createdSlot=x.createdSlot)):m={ticketPda:x.ticketPk.toBase58(),roundId:x.roundId,nonce:x.nonce,commitment:null,timestamp:Date.now(),createdSlot:x.createdSlot,refunded:!0,refundedTx:L},fs(B,x.roundId,m)}catch(B){console.error("Failed to update receipt for refund:",B)}return console.log("Receipt saved/updated successfully for",x.ticketPk.toBase58()),d?.(L),l?.(),await le("action"),L}catch(L){console.error("Refund RPC Failed:",L),o?.(`Refund failed: ${bl(L)}`);const B=_l(L);return B?.length&&B.slice(0,12).forEach(v=>o?.(`  ${v}`)),null}},[s,n,i,c,o,d,l,le]),$=xe.useCallback(async x=>{if(!s||!i)throw new Error("Wallet not connected");if(!c)throw new Error("Mint not set");o?.(`Settle: discovering tickets for round ${x.roundId}...`);const h=await no(n),w=await Fr(n,x.roundId),S=await Kl(n,h),N=await Ac(n,x.roundId),L=await MC(n),B=await BC(n,S),v=new kn(x.roundId),m=v.toArrayLike(Ce.Buffer,"le",8),f=await t.getProgramAccounts(n,{commitment:"confirmed",filters:[{dataSize:p_},{memcmp:{offset:8,bytes:Ks.bytes.bs58.encode(m)}}]}),b=[];for(const O of f)try{_.decode("Ticket",O.account.data).processed===!1&&b.push({pubkey:O.pubkey,isSigner:!1,isWritable:!0})}catch{}if(b.length===0)return o?.("Settle: No unprocessed tickets found."),null;o?.(`Settle: found ${b.length} tickets to process.`);try{const O=await s.methods.settleRoundTokens(v).accounts({config:h,tokenomics:S,round:w,chronoMint:c,chronoVault:N,treasury:L,replicationPool:B,payer:i,tokenProgram:Ks.token.TOKEN_PROGRAM_ID}).remainingAccounts(b).rpc();o?.(`Settle OK  tx=${O}`);try{const z=i.toBase58(),Z=xl(z,x.roundId),ne=new Set(Z.map(se=>se.ticketPda));for(const se of b){const pe=se.pubkey.toBase58();if(ne.has(pe)){const Re=Z.find(Oe=>Oe.ticketPda===pe);Re&&(Re.claimTx=O,Re.claimedAt=Date.now(),fs(z,x.roundId,Re))}}}catch(z){console.error("Failed to save settle receipts",z)}return d?.(O),l?.(),await le("action"),O}catch(O){o?.(`Settle failed: ${bl(O)}`);const z=_l(O);return z?.length&&z.slice(0,12).forEach(Z=>o?.(`  ${Z}`)),null}},[s,n,i,c,t,_,o,d,l,le]);return{rows:E,loading:I,error:M,lastUpdatedAt:D,retryInSec:F,forceRefresh:()=>le("manual"),doRevealTicket:G,doClaimTicket:Y,doRefundTicket:X,doSettleRound:$}}function _c(s){if(s<=0)return"0s";const t=Math.floor(s/60),n=Math.floor(s%60);return t>0?`${t}m ${n}s`:`${n}s`}function wc(s){try{return s==null?null:typeof s=="bigint"?s:typeof s=="number"||typeof s=="string"?BigInt(s):typeof s?.toString=="function"?BigInt(s.toString()):null}catch{return null}}function u6({program:s,connection:t,programPk:n,pubkey:i,mintPk:c,appendLog:o,onAfterAction:l,setLastTx:d,actionsEnabled:y=!0,refreshNonce:_=0,limit:E=20,currentSlot:C,activeRoundId:I,nist:R,claimGraceSlots:M}){const U=xe.useMemo(()=>i?i instanceof ve?i:new ve(i):null,[i]),{rows:D=[],loading:j,error:F,doRevealTicket:V,doClaimTicket:W,doRefundTicket:re,doSettleRound:oe}=c6?.({program:s,connection:t,programPk:n,userPubkey:U,mintPk:c,appendLog:o,onAfterAction:l,setLastTx:d,refreshNonce:_,limit:E})||{},ie=D??[],[le,G]=xe.useState(null),[Y,X]=xe.useState(null),[$,x]=xe.useState("ALL");function h(se,pe){const Re=!!se.revealed,Oe=!!se.win,$e=!!se.claimed,Ut=!!se.tokenSettled;if(se.receipt?.refunded===!0)return"REFUNDED";if($e)return"CLAIMED";if(Oe){if(Ut){if(pe&&se.round&&M!=null){const je=wc(se.round.revealDeadlineSlot||se.round.reveal_deadline_slot);if(je){const Xe=je+BigInt(M);if(BigInt(pe)>Xe)return"SWEPT"}}return"CLAIM PRIZE"}return"WIN"}if(Re&&!Oe)return"LOSS";if(!Re&&!Oe){if(!se.round||se.round.finalized)return"EXPIRED";const je=wc(se.round.revealDeadlineSlot||se.round.reveal_deadline_slot),Xe=!!se.round.finalized,en=!!(se.round.pulseSet||se.round.pulse_set);if(je&&pe){const Ge=BigInt(pe);if(!Xe&&Ge>je+150n)return"REFUND AVAILABLE";if(!Xe&&!en&&Ge>je)return"WAITING PULSE";if(Ge>je)return"EXPIRED";if(en&&Ge<=je)return"REVEAL NOW"}}return"PENDING"}const w=xe.useMemo(()=>$==="ALL"?ie:ie.filter(se=>{const pe=h(se,C);return $==="ACTION"?["REVEAL NOW","CLAIM PRIZE","REFUND AVAILABLE"].includes(pe):$==="WIN"?pe==="CLAIM PRIZE"||pe==="WIN":pe===$}),[ie,$,C,M]),S=xe.useMemo(()=>{const se={};for(const pe of w){const Re=Number(pe.roundId);se[Re]||(se[Re]={roundId:Re,tickets:[],round:pe.round}),se[Re].tickets.push(pe)}return Object.values(se).sort((pe,Re)=>Re.roundId-pe.roundId)},[w]),[N,L]=xe.useState(1),[B,v]=xe.useState(5),m=Math.ceil(S.length/B)||1;xe.useEffect(()=>{N>m&&L(m)},[m,N]);const f=S.slice((N-1)*B,N*B);function b(se){switch(se){case"WIN":return"beta-badge--win";case"CLAIM PRIZE":return"beta-badge--win";case"CLAIMED":case"REFUNDED":return"beta-badge--ok";case"LOSS":return"beta-badge--lose";case"REVEAL NOW":return"beta-badge--warning";case"REFUND AVAILABLE":return"beta-badge--lose";case"EXPIRED":case"SWEPT":return"beta-badge--expired";default:return"beta-badge--pending"}}const O=se=>se==="WIN"?"WINNER":se==="LOSE"||se==="LOSS"?"LOSS":se==="CLAIM"||se==="CLAIM PRIZE"?"READY TO CLAIM":se,z=async(se,pe,Re)=>{try{console.log("Downloading batch for round",se);const Oe=pe[0]?.ticket?.user?.toString()||"unknown",$e=await Fr(n,Number(se)),Ut=xl(Oe,se.toString())||[],je=[],Xe=5;for(let Ze=0;Ze<pe.length;Ze+=Xe){const _n=pe.slice(Ze,Ze+Xe),_t=await Promise.all(_n.map(async Fe=>{const Dt=Fe.ticket,rt=Ut.find(A=>A.nonce!=null&&Dt?.nonce&&Number(A.nonce)===Number(Dt.nonce)||A.nonce!=null&&Fe.nonce!=null&&Number(A.nonce)===Number(Fe.nonce));let qe=rt?{...rt}:Fe.receipt?{...Fe.receipt}:{};const pt=h(Fe,C),wt=pt==="LOSS"||pt==="WIN"||pt==="CLAIM PRIZE"||pt==="CLAIMED"||Fe.revealed,H=pt==="CLAIMED"||Fe.claimed;return(!qe.commitTx||!qe.revealTx&&wt||!qe.claimTx&&H)&&Fe.ticketPk,{address:Fe.ticketPk?.toString(),nonce:Number(Fe.nonce??Dt?.nonce??0),bitIndex:Dt?.bitIndex??Dt?.bit_index??null,status:pt,prediction:Fe.guess===1?"Bull":Fe.guess===0?"Bear":"Unknown",transactions:{commit:Fe.createdTx||qe?.commitTx||null,reveal:Fe.revealedTx||qe?.revealTx||null,claim:Fe.claimedTx||qe?.claimTx||null}}}));je.push(..._t)}const en=pe.map(Ze=>{const _n=h(Ze,C);return{address:Ze.ticketPk?.toString(),nonce:Number(Ze.nonce??Ze.ticket?.nonce??0),bitIndex:Ze.ticket?.bitIndex??null,status:_n,prediction:Ze.guess===1?"Bull":"Bear",receipt:Ze.receipt,transactions:{commit:Ze.createdTx,reveal:Ze.revealedTx,claim:Ze.claimedTx}}}),Ge=XC(se,$e,"EXPORTED",Re,en,Oe);h_(`chronos_round_${se}_batch.json`,Ge)}catch(Oe){console.error(Oe),alert("Export error: "+Oe.message)}},Z=(se,pe)=>{const Re=h(se,C),Oe={ticketPk:se.ticketPk,roundId:pe,onChainTicket:se.ticket,receipt:se.receipt,status:Re,currentSlot:C,createdTx:{signature:se.createdTx},revealedTx:{signature:se.revealedTx},claimedTx:{signature:se.claimedTx}},$e=ZC(Oe);h_(`chronos_ticket_${se.nonce}.json`,$e)},ne=se=>K.jsxs("div",{style:{marginTop:0,padding:16,borderTop:se?"none":"1px solid rgba(0,0,0,0.05)",borderBottom:se?"1px solid rgba(0,0,0,0.05)":"none",display:"flex",justifyContent:"flex-end",gap:6,background:"#fafafa",borderBottomLeftRadius:se?0:8,borderBottomRightRadius:se?0:8},children:[K.jsx("button",{className:"beta-btn beta-btn--soft",disabled:N<=1,onClick:()=>L(pe=>pe-1),style:{padding:"6px 12px",opacity:N<=1?.3:1},children:"Previous"}),(()=>{const pe=[];for(let Oe=1;Oe<=m;Oe++)Oe===1||Oe===m||Oe>=N-3&&Oe<=N+3?pe.push(Oe):pe[pe.length-1]!=="..."&&pe.push("...");return pe.map((Oe,$e)=>Oe==="..."?K.jsx("span",{style:{padding:"6px 10px",opacity:.5},children:"..."},`ell-${$e}`):K.jsx("button",{className:`beta-btn ${Oe===N?"beta-btn--primary":"beta-btn--soft"}`,onClick:()=>L(Oe),style:{minWidth:32,padding:"6px 0",textAlign:"center",fontWeight:Oe===N?700:400,background:Oe===N?"#3B82F6":"rgba(0,0,0,0.05)",color:Oe===N?"white":"inherit",border:"none",borderRadius:4},children:Oe},Oe))})(),K.jsx("button",{className:"beta-btn beta-btn--soft",disabled:N>=m,onClick:()=>L(pe=>pe+1),style:{padding:"6px 12px",opacity:N>=m?.3:1},children:"Next"})]});return K.jsxs("div",{className:"beta-card",style:{padding:0,overflow:"hidden",background:"transparent",boxShadow:"none",border:"none"},children:[K.jsx("div",{className:"beta-card",style:{marginBottom:0,borderBottomLeftRadius:0,borderBottomRightRadius:0,borderBottom:"1px solid rgba(0,0,0,0.05)"},children:K.jsx("div",{className:"beta-card__head",style:{padding:"16px 24px"},children:K.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[K.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:4},children:[K.jsx("div",{className:"beta-card__title",style:{fontWeight:700,fontSize:18},children:"Order History"}),K.jsx("span",{style:{fontSize:11,color:"#6B7280",fontWeight:500,minHeight:17,display:"block"},children:U&&!j?`${w.length} TICKETS / ${S.length} ROUNDS`:""})]}),K.jsxs("div",{style:{display:"flex",gap:12},children:[K.jsxs("select",{className:"beta-input",value:$,onChange:se=>x(se.target.value),style:{padding:"6px 12px",fontSize:13,cursor:"pointer",minWidth:120},children:[K.jsx("option",{value:"ALL",children:"All Status"}),K.jsx("option",{value:"ACTION",children:"Action Required"}),K.jsx("option",{value:"WIN",children:"Wins"}),K.jsx("option",{value:"LOSS",children:"Loss"}),K.jsx("option",{value:"CLAIMED",children:"Claimed"}),K.jsx("option",{value:"REFUNDED",children:"Refunded"}),K.jsx("option",{value:"SWEPT",children:"Swept"}),K.jsx("option",{value:"EXPIRED",children:"Expired"}),K.jsx("option",{value:"PENDING",children:"Pending"})]}),K.jsxs("select",{className:"beta-input",value:B,onChange:se=>v(Number(se.target.value)),style:{padding:"6px 12px",fontSize:13,cursor:"pointer",minWidth:150},children:[K.jsx("option",{value:5,children:"5 Rounds / pg"}),K.jsx("option",{value:10,children:"10 Rounds / pg"}),K.jsx("option",{value:20,children:"20 Rounds / pg"}),K.jsx("option",{value:50,children:"50 Rounds / pg"}),K.jsx("option",{value:100,children:"100 Rounds / pg"})]})]})]})})}),f.length>0?K.jsxs("div",{className:"beta-card",style:{padding:0,overflow:"hidden",marginTop:0,borderTopLeftRadius:0,borderTopRightRadius:0,borderTop:"none"},children:[ne(!0),K.jsx("div",{className:"beta-table-container",children:K.jsxs("table",{className:"beta-table",children:[K.jsx("thead",{children:K.jsxs("tr",{children:[K.jsx("th",{style:{paddingLeft:24},children:"Identifier"}),K.jsx("th",{children:"Status"}),K.jsx("th",{style:{textAlign:"center",width:60},children:"Info"}),K.jsx("th",{style:{textAlign:"center",width:60},children:"Export"}),K.jsx("th",{style:{textAlign:"right",paddingRight:24},children:"Action"})]})}),K.jsx("tbody",{children:f.map(({roundId:se,tickets:pe,round:Re})=>{const Oe=Re?.commitDeadlineSlot??Re?.commit_deadline_slot,$e=Re?.revealDeadlineSlot??Re?.reveal_deadline_slot,Ut=Re?.pulseIndexTarget??Re?.pulse_index_target,je=wc(Oe)??0n,Xe=wc($e)??0n,en=wc(Ut)??0n,Ge=C?BigInt(C):0n,Ze=!!Re?.finalized,_n=!!(Re?.pulseSet||Re?.pulse_set),_t=!!(Re?.tokenSettled||Re?.token_settled),Fe=Xe>0n&&M?Xe+BigInt(M):0n,Dt=Xe>0n?Xe+150n:0n;let rt="ARCHIVED",qe="beta-badge--pending",pt=K.jsx("span",{style:{opacity:.5},children:""});if(Re)if(Ze)if(Fe>0n&&Ge<Fe){rt="CLAIM WINDOW",qe="beta-badge--ok";const q=Number(Fe-Ge);pt=K.jsxs("span",{style:{color:"#f57c00"},children:["Sweep risk in: ",K.jsx("b",{children:_c(q*.45)})]}),rt="ARCHIVED",qe="beta-badge--muted",pt=K.jsx("span",{style:{color:"#9ca3af",fontWeight:400},children:"Done"})}else rt="FINALIZED",qe="beta-badge--muted",pt=K.jsx("span",{style:{opacity:.5},children:"Finished"});else if(je>0n&&Ge<je){rt="OPEN",qe="beta-badge--ok";const q=Number(je-Ge);pt=K.jsxs("span",{children:["Commit ends: ",K.jsx("b",{children:_c(q*.45)})]})}else if(Dt>0n&&Ge>Dt)rt="REFUND MODE",qe="beta-badge--lose",pt=K.jsx("span",{style:{color:"#d32f2f",fontWeight:"bold"},children:"Escape Hatch Active"});else if(_n)if(Ge<=Xe){rt="REVEAL OPEN",qe="beta-badge--warning";const q=Number(Xe-Ge);pt=K.jsxs("span",{children:["Reveal ends: ",K.jsx("b",{children:_c(q*.45)})]})}else rt="AWAITING SETTLE",qe="beta-badge--pending",pt=K.jsx("span",{style:{color:"#888",fontWeight:400},children:"Auto-Settling..."});else if(rt="WAITING PULSE",qe="beta-badge--warning",Ge>Xe){const q=Number(Dt-Ge);q>0?pt=K.jsxs("span",{style:{color:"#f57c00"},children:["Refunds in: ",K.jsx("b",{children:_c(q*.45)})]}):pt=K.jsx("span",{style:{color:"#f57c00"},children:"Pulse Delayed"})}else{let q=!1;if(en&&R?.pulse?.pulseIndex){const te=Number(R.pulse.pulseIndex),ce=Number(en);if(ce>te){const ge=new Date(R.pulse.timeStamp).getTime(),ze=ce-te,Ue=ge+ze*6e4+12e4-Date.now();Ue>0&&(pt=K.jsxs("span",{children:["Pulse in ~",K.jsx("b",{children:_c(Ue/1e3)})]}),q=!0)}}q||(pt=K.jsx("span",{children:"Waiting for Pulse..."}))}const wt=pe.filter(q=>h(q,C)==="REVEAL NOW"&&!q.revealed),H=pe.filter(q=>h(q,C)==="CLAIM PRIZE"&&!q.claimed),A=pe.filter(q=>h(q,C)==="REFUND AVAILABLE"&&!q.receipt?.refunded),T=Re&&!Ze&&Xe>0n&&Ge>Xe&&_n&&!_t;return K.jsxs(K.Fragment,{children:[K.jsxs("tr",{style:{background:"rgba(0,0,0,0.02)",borderBottom:"1px solid rgba(0,0,0,0.05)"},children:[K.jsx("td",{style:{paddingLeft:24,paddingTop:16,paddingBottom:16},children:K.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[K.jsxs("span",{style:{fontWeight:800,fontSize:15},children:["Round #",se]}),K.jsx("div",{style:{fontSize:13,opacity:.8},children:pt})]})}),K.jsx("td",{children:K.jsx("span",{className:`beta-badge ${qe}`,children:rt})}),K.jsx("td",{style:{textAlign:"center"},children:K.jsx("button",{className:"beta-btn beta-btn--soft",title:"Round Details",onClick:()=>X({round:Re,roundId:se,currentSlot:C}),children:""})}),K.jsx("td",{style:{textAlign:"center"},children:K.jsx("button",{className:"beta-btn beta-btn--soft",title:"Download Batch",onClick:()=>z(se,pe,Re),children:""})}),K.jsx("td",{style:{textAlign:"right",paddingRight:24},children:wt.length>0?K.jsxs("button",{className:"beta-btn beta-btn--sm",style:{background:"#F59E0B",color:"black"},onClick:()=>wt.forEach(q=>V(q)),children:["Reveal All (",wt.length,")"]}):H.length>0?K.jsxs("button",{className:"beta-btn beta-btn--sm",style:{background:"#10B981"},onClick:()=>H.forEach(q=>W(q)),children:["Claim All (",H.length,")"]}):A.length>0?K.jsxs("button",{className:"beta-btn beta-btn--sm",style:{background:"#EF4444"},onClick:()=>A.forEach(q=>re(q)),children:["Refund All (",A.length,")"]}):T?K.jsx("button",{className:"beta-btn beta-btn--sm",style:{background:"#3B82F6"},onClick:()=>oe({roundId:se}),children:"Manual Settle"}):K.jsx("span",{style:{opacity:.3,fontSize:12},children:""})})]},`round-${se}`),pe.map(q=>{const te=h(q,C),ce=q.guess===1?"Bull ":q.guess===0?"Bear ":"";let ge=K.jsx("span",{style:{opacity:.2},children:""});return te==="REVEAL NOW"&&(ge=K.jsx("button",{className:"beta-btn beta-btn--icon",onClick:()=>V(q),children:" Reveal"})),te==="CLAIM PRIZE"&&(ge=K.jsx("button",{className:"beta-btn beta-btn--icon",style:{color:"#4caf50"},onClick:()=>W(q),children:" Claim"})),te==="REFUND AVAILABLE"&&(ge=K.jsx("button",{className:"beta-btn beta-btn--icon",style:{color:"#f44336"},onClick:()=>re(q),children:" Refund"})),K.jsxs("tr",{style:{borderBottom:"1px solid rgba(0,0,0,0.03)"},children:[K.jsxs("td",{style:{paddingLeft:48,fontSize:13,display:"flex",alignItems:"center",gap:8,height:48},children:[K.jsx("span",{style:{opacity:.4},children:""}),K.jsxs("span",{children:["Ticket #",Number(q.nonce).toString().slice(-4)]}),K.jsx("b",{children:ce})]}),K.jsx("td",{children:K.jsx("span",{className:`beta-badge ${b(te)}`,children:O(te)})}),K.jsx("td",{style:{textAlign:"center"},children:K.jsx("button",{className:"beta-btn beta-btn--soft",style:{fontSize:10,padding:"2px 6px"},onClick:()=>G(q),children:""})}),K.jsx("td",{style:{textAlign:"center"},children:K.jsx("button",{className:"beta-btn beta-btn--soft",style:{fontSize:10,padding:"2px 6px"},onClick:()=>Z(q,se),children:""})}),K.jsx("td",{style:{textAlign:"right",paddingRight:24},children:ge})]},q.ticketPk?.toString())})]})})})]})}),ne(!1)]}):K.jsx("div",{className:"beta-card",style:{padding:40,textAlign:"center",opacity:.5},children:"No history found."}),K.jsx(YC,{ticket:le,connection:t,programPk:n,claimGraceSlots:M,onClose:()=>G(null),currentSlot:C}),Y&&K.jsx(WC,{round:Y.round,roundId:Y.roundId,programPk:n,rPda:null,currentSlot:C,claimGraceSlots:M,connection:t,onClose:()=>X(null)})]})}function l6(){return typeof window>"u"?null:window?.phantom?.solana??window?.solana??null}function f6(s,t){return!s?.isPhantom||!t?null:{publicKey:t,signTransaction:s.signTransaction.bind(s),signAllTransactions:s.signAllTransactions.bind(s)}}function d6({rpcUrl:s,programId:t,pubkey:n}){const i=xe.useMemo(()=>l6(),[]),c=xe.useMemo(()=>new pp(s,"confirmed"),[s]),[o,l]=xe.useState(null),[d,y]=xe.useState(!1);return xe.useEffect(()=>{let _=!0;async function E(){try{if(!i||!n){_&&(l(null),y(!1));return}const C=f6(i,n);if(!C){_&&(l(null),y(!1));return}const I=new Cc(c,C,{commitment:"confirmed"}),R=await po.at(t,I);_&&(l(R),y(!0))}catch{_&&(l(null),y(!1))}}return E(),()=>{_=!1}},[i,n,t,c]),{program:o,connection:c,walletReady:d}}function h6({chainId:s=2}={}){const n="https://beacon.nist.gov/beacon/2.0",i=xe.useMemo(()=>[`${n}/chain/${s}/pulse/last`,`${n}/pulse/last`],[n,s]),[c,o]=xe.useState(null),[l,d]=xe.useState(""),[y,_]=xe.useState(Date.now());async function E(){d("");for(const U of i)try{const D=await fetch(U,{cache:"no-store"});if(!D.ok)throw new Error(`HTTP ${D.status}`);const j=await D.json(),F=j?.pulse||j;if(!F?.pulseIndex||!F?.timeStamp)throw new Error("Unexpected NIST response");o({pulseIndex:Number(F.pulseIndex),timeStamp:String(F.timeStamp)});return}catch(D){d(D?.message??String(D))}}xe.useEffect(()=>{E();const U=setInterval(()=>_(Date.now()),1e3),D=setInterval(()=>E(),15e3);return()=>{clearInterval(U),clearInterval(D)}},[]);let C=null,I=null,R=null;if(c?.timeStamp){const U=Date.parse(c.timeStamp);if(!Number.isNaN(U)){C=U;const D=Math.max(0,y-U);I=Math.floor(D/1e3);const j=6e4-D%6e4;R=Math.max(0,Math.ceil(j/1e3)),R>60&&(R=60)}}const M=c?.pulseIndex!=null?`${n}/chain/${s}/pulse/${c.pulseIndex}`:`${n}/chain/${s}/pulse/last`;return{pulse:c,pulseTimeMs:C,elapsedSec:I,nextInSec:R,err:l,pulseUrl:M}}function xr(s,...t){for(const n of t)if(s&&Object.prototype.hasOwnProperty.call(s,n))return s[n]}function Wa(s){return s==null?null:typeof s=="bigint"?s:typeof s=="number"||typeof s=="string"?BigInt(s):typeof s=="object"&&typeof s.toString=="function"?BigInt(s.toString()):null}function p6({rpcUrl:s,connection:t,programId:n,pubkey:i}){const c=xe.useMemo(()=>t||new pp(s,"processed"),[t,s]),o=xe.useMemo(()=>new Rp(YE),[]),[l,d]=xe.useState(null),[y,_]=xe.useState(""),E=xe.useCallback(async()=>{if(!i){d(null),_("");return}try{const C=no(n),I=GE(n,C),R=await c.getAccountInfo(I,"processed"),M=await c.getAccountInfo(C,"processed");if(!R?.data||!M?.data){const L=Kl(n,C);d({configPda:C,config:null,roundRegistryPda:I,rrPda:I,roundId:null,roundPda:null,chronoVaultPda:null,round:null,tokenomicsPda:L,tokenomicsExists:!1,rewardFeePoolPda:null,deriveTicketPda:()=>null}),_("Protocol not fully initialized (Config or RR missing).");return}const U=o.decode("Config",M.data),D={claimGraceSlots:Wa(xr(U,"claimGraceSlots","claim_grace_slots")),paused:!!xr(U,"paused")},j=o.decode("RoundRegistry",R.data),F=xr(j,"nextRoundId","next_round_id"),V=Wa(F)??0n,W=V>0n?Number(V-1n):0,re=await c.getSlot("processed"),oe=Fr(n,W),ie=await c.getAccountInfo(oe,"processed"),le=Ac(n,W),G=Kl(n,C),X=!!(await c.getAccountInfo(G,"processed"))?.data,$=X?FE(n,G):null;if(!ie?.data){d({configPda:C,config:D,roundRegistryPda:I,rrPda:I,roundId:W,roundPda:oe,chronoVaultPda:le,currentSlot:re,round:null,tokenomicsPda:G,tokenomicsExists:X,rewardFeePoolPda:$,deriveTicketPda:(L,B,v)=>z0(n,L,B,v)}),_("Round account not found yet (operator hasn't created it).");return}const x=o.decode("Round",ie.data);console.log("PROTOCOL_DEBUG: roundId",W,"raw decoded:",x);const h={pulseSet:!!xr(x,"pulseSet","pulse_set"),finalized:!!xr(x,"finalized"),tokenSettled:!!xr(x,"tokenSettled","token_settled"),commitDeadlineSlot:Wa(xr(x,"commitDeadlineSlot","commit_deadline_slot")),revealDeadlineSlot:Wa(xr(x,"revealDeadlineSlot","reveal_deadline_slot")),pulseIndexTarget:Wa(xr(x,"pulseIndexTarget","pulse_index_target")),pulse:xr(x,"pulse"),pulseSetSlot:Wa(xr(x,"pulseSetSlot","pulse_set_slot"))},S=14e11+(Number(h.pulseIndexTarget)-1)*6e4;console.log("PROTOCOL_DEBUG: finalized round object",h),d({configPda:C,config:D,roundRegistryPda:I,rrPda:I,rrPda:I,roundId:W,roundPda:oe,chronoVaultPda:le,currentSlot:re,round:h,tokenomicsPda:G,tokenomicsExists:X,rewardFeePoolPda:$,deriveTicketPda:(L,B,v)=>z0(n,L,B,v)});const N=h.pulseIndexTarget?.toString();_(`Targeting NIST Pulse: ${h.pulseIndexTarget}`)}catch(C){d(null),_("Play: could not load protocol state"),console.error("useProtocolState refresh error:",C)}},[o,c,n,i]);return xe.useEffect(()=>{if(!i)return;let C=!1;const I=async()=>{C||document.visibilityState==="visible"&&await E()},R=l?.round&&l?.currentSlot!=null&&l.round.commitDeadlineSlot!=null&&BigInt(l.currentSlot)<l.round.commitDeadlineSlot,U=l?.round&&(R||!l.round.pulseSet||!l.round.finalized)?2e3:8e3;I();const D=setInterval(I,U);return()=>{C=!0,clearInterval(D)}},[i,E,l?.round?.pulseSet,l?.round?.finalized]),{chainState:l,statusLine:y,refreshNow:E}}Uw("devnet");const wl="https://api.devnet.solana.com",m6="BETA2026",m_="DrsJxZRNuEFHVyj3Sz5CzpVeacpAGHBoZrg9NtRH9JqR",y_="https://timlg-faucet.vercel.app/api/faucet",y0="7nJ9vaCpjo3zDY1fzZv1KicjoZ6yPpzHFcKq3HDh8cEf",y6=+"0.05",g6=1;function g0(){return typeof window>"u"?null:window?.phantom?.solana??window?.solana??null}function b6(){const s=new Date,t=n=>String(n).padStart(2,"0");return`${t(s.getUTCHours())}:${t(s.getUTCMinutes())}:${t(s.getUTCSeconds())}Z`}function _6(){const s=xe.useMemo(()=>new ve(m_),[]),t=xe.useMemo(()=>new ve(y0),[]),[n,i]=xe.useState(!0),[c,o]=xe.useState(null),[l,d]=xe.useState(null),[y,_]=xe.useState(null),[E,C]=xe.useState(m6),[I,R]=xe.useState(""),[M,U]=xe.useState(""),[D,j]=xe.useState([]),F=xe.useCallback(m=>{const f=String(m??"").trim();f&&j(b=>{const O=[...b,`[${b6()}] ${f}`];return O.length>400?O.slice(-400):O})},[]),V=xe.useCallback(()=>j([]),[]),W=c?.toBase58?.()??null,{program:re,connection:oe,walletReady:ie}=d6({rpcUrl:wl,programId:s,pubkey:c}),le=h6({chainId:2}),{chainState:G,statusLine:Y,refreshNow:X}=p6({rpcUrl:wl,connection:oe,programId:s,pubkey:c}),$=xe.useCallback(async m=>{try{const b=await oe.getBalance(m,"confirmed")/O0;return d(b),b}catch{return d(null),null}},[oe]),x=xe.useCallback(async m=>{try{const b=(await oe.getParsedTokenAccountsByOwner(m,{mint:t},"confirmed"))?.value?.[0]?.account?.data?.parsed?.info?.tokenAmount?.uiAmount??0;return _(b),b}catch{return _(null),null}},[oe,t]),[h,w]=xe.useState(0),S=xe.useCallback(()=>{w(m=>m+1),setTimeout(()=>w(m=>m+1),1e3),setTimeout(()=>w(m=>m+1),3e3)},[]);xe.useCallback(async()=>{c&&(await Promise.all([$(c),x(c),X()]),S())},[c,$,x,X,S]);async function N(){try{let m=window?.solana;if(m?.isPhantom||(m=window?.phantom?.solana),!m){i(!1),R("Phantom not detected."),F("Connect: Phantom not detected.");return}i(!!m?.isPhantom),R("Connecting");const f={isPhantom:m?.isPhantom,isSolflare:m?.isSolflare,source:m===window?.solana?"window.solana":"window.phantom.solana",isConnected:m?.isConnected,pubkey:m?.publicKey?.toBase58?.()};if(F(`Connect: provider state: ${JSON.stringify(f)}`),m?.isConnected&&m?.publicKey){o(m.publicKey),R("Wallet connected (researched) "),F(`Connected (cached): ${m.publicKey.toBase58()}`),await Promise.all([$(m.publicKey),x(m.publicKey),X()]);return}let b;try{b=await m.connect()}catch(O){console.warn("Standard connect failed, retrying with onlyIfTrusted:false",O),F(`Connect: retry forced (${O.message})`),await new Promise(z=>setTimeout(z,200)),b=await m.connect({onlyIfTrusted:!1})}b?.publicKey&&(o(b.publicKey),F(`Connected: ${b.publicKey.toBase58()}`),R("Wallet connected "),await Promise.all([$(b.publicKey),x(b.publicKey),X()]))}catch(m){console.error("Phantom connect error:",m);let f=m?.message??String(m);m?.code===-32603&&(f="Wallet Error (-32603). The Phantom extension is stuck. PLEASE RESTART YOUR BROWSER entirely.");const b=JSON.stringify(m,Object.getOwnPropertyNames(m));R(`Error: ${f}`),F(`Connect error details: ${b}`)}}async function L(){try{const m=g0();F("Disconnect: wallet requested."),await m?.disconnect?.()}catch{}o(null),d(null),_(null),U(""),R("Disconnected.")}async function B(){if(!c){R("Connect your wallet first."),F("Airdrop SOL: connect wallet first.");return}try{R("Requesting 1 SOL airdrop (devnet)..."),F("Airdrop SOL: requesting 1 SOL");const m=await oe.requestAirdrop(c,1*O0);if(U(m),F(`Airdrop SOL: submitted tx=${m}`),(await oe.confirmTransaction(m,"confirmed"))?.value?.err){R("Airdrop failed."),F("Airdrop SOL: failed (confirm err).");return}await $(c),R("Airdrop OK "),F("Airdrop SOL: OK ")}catch(m){R(`Airdrop error: ${m?.message??String(m)}`),F(`Airdrop SOL error: ${m?.message??String(m)}`)}}async function v(){if(!c){R("Connect your wallet first."),F("CHRONO faucet: connect wallet first.");return}const m=g0();if(!m?.isPhantom){R("Phantom not detected."),F("CHRONO faucet: Phantom not detected.");return}const f=c.toBase58(),b=E?.trim()||"";R("Requesting CHRONO from faucet..."),F("CHRONO faucet: preparing request"),U("");try{const O=`Recipient: ${f}
Timestamp: ${Date.now()}
Domain: timlg.org`;let z;if(m.signMessage){R("Waiting for Phantom signature approval..."),F("CHRONO faucet: waiting Phantom signature");const pe=new TextEncoder().encode(O),Re=await m.signMessage(pe,"utf8"),Oe=Re?.signature??Re;z=AN.encode(Oe)}R("Sending request to faucet..."),F("CHRONO faucet: sending request");const Z=await fetch(y_,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({recipient:f,inviteCode:b,message:O,signature:z})}),ne=await Z.json().catch(()=>({}));if(!(Z.ok&&(ne?.ok===void 0||ne?.ok===!0))){const pe=ne?.error||`HTTP ${Z.status}`;R(`Faucet error: ${pe}`),F(`CHRONO faucet error: ${pe}`);return}ne?.signature&&(U(ne.signature),F(`CHRONO faucet: tx=${ne.signature}`)),await x(c),R("CHRONO sent "),F("CHRONO faucet: OK ")}catch(O){const z=O?.message??String(O);R(`Faucet error: ${z}`),F(`CHRONO faucet error: ${z}`)}}return xe.useEffect(()=>{const m=g0();i(!!m?.isPhantom);const f=O=>O&&o(O),b=()=>{o(null),d(null),_(null)};return m?.on?.("connect",f),m?.on?.("disconnect",b),(async()=>{try{m?.isPhantom&&m?.publicKey&&(o(m.publicKey),await Promise.all([$(m.publicKey),x(m.publicKey)]))}catch{}})(),()=>{m?.off?.("connect",f),m?.off?.("disconnect",b)}},[$,x]),xe.useMemo(()=>W?l!=null&&l<y6?{label:"Needs SOL",tone:"warn"}:y!=null&&y<g6?{label:"Needs CHRONO",tone:"warn"}:{label:"Ready",tone:"ok"}:{label:"Connect wallet",tone:"muted"},[W,l,y]),K.jsxs("div",{className:"beta-app",children:[!n&&K.jsxs("div",{className:"beta-card beta-card--warn",children:[K.jsx("b",{children:"Phantom not detected."}),K.jsxs("div",{style:{marginTop:6},children:["Install Phantom:"," ",K.jsx("a",{href:"https://phantom.app/",target:"_blank",rel:"noreferrer",children:"https://phantom.app/"})]})]}),K.jsx("header",{className:"beta-header",children:K.jsxs("div",{className:"beta-walletbar",children:[K.jsxs("div",{className:"beta-walletbar__header-row",children:[K.jsx("div",{className:"beta-walletbar__title",children:"Devnet Beta"}),K.jsxs("div",{className:"beta-tooltip",children:["i",K.jsxs("div",{className:"beta-tooltip__content",children:[K.jsxs("div",{children:[K.jsx("b",{children:"RPC:"})," ",wl]}),K.jsxs("div",{children:[K.jsx("b",{children:"Program:"})," ",m_]}),K.jsxs("div",{children:[K.jsx("b",{children:"Mint:"})," ",y0]}),K.jsxs("div",{children:[K.jsx("b",{children:"Faucet:"})," ",y_]}),K.jsx("div",{style:{marginTop:6},children:"Version: 0.1.0-beta"}),K.jsxs("div",{style:{marginTop:6,borderTop:"1px solid #444",paddingTop:6},children:[I||"Status: ",M&&K.jsx("div",{style:{marginTop:4},children:K.jsx("a",{href:qC(M),target:"_blank",style:{color:"#aaa"},children:"View Last Tx"})})]})]})]})]}),K.jsxs("div",{className:"beta-walletbar__info-row",children:[K.jsxs("span",{className:W?"":"beta-muted",children:["Wallet: ",W?Tl(W):"Not connected"]}),W&&K.jsx("a",{className:"beta-link",href:KC(W),target:"_blank",rel:"noreferrer",style:{fontSize:12},children:"View on Solana Explorer"})]}),K.jsxs("div",{className:"beta-walletbar__balance-row",children:[K.jsx("span",{className:"beta-muted",children:"SOL Balance:"}),K.jsxs("span",{children:[l==null?"":l.toFixed(3)," SOL"]})]}),K.jsxs("div",{className:"beta-walletbar__balance-row",style:{borderBottom:"1px solid rgba(255,255,255,0.1)",paddingBottom:12},children:[K.jsx("span",{className:"beta-muted",children:"CHRONO Balance:"}),K.jsxs("span",{children:[y==null?"":Number(y).toFixed(2)," CHRONO"]})]}),K.jsxs("div",{className:"beta-walletbar__actions-row",children:[K.jsx("button",{className:"beta-btn beta-walletbar__btn-main",onClick:W?L:N,type:"button",style:{opacity:W?.8:1},children:W?"Disconnect":"Connect Phantom Wallet"}),K.jsxs("div",{className:"beta-walletbar__tools-grid",children:[K.jsx("button",{className:"beta-btn",onClick:B,disabled:!W,type:"button",children:"Airdrop SOL"}),K.jsx("div",{className:"beta-walletbar__input-group",children:K.jsx("button",{className:"beta-btn",style:{flex:1,background:"#2D68EA",color:"white",border:"none"},onClick:v,disabled:!W,type:"button",children:"Get CHRONO"})})]}),K.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginTop:4},children:[K.jsx("span",{className:"beta-muted",style:{fontSize:12,whiteSpace:"nowrap"},children:"Invite Code:"}),K.jsx("input",{className:"beta-input",style:{padding:"6px 10px",fontSize:13,background:"rgba(0,0,0,0.2)",border:"1px solid #555"},value:E,onChange:m=>C(m.target.value),placeholder:"Beta Code..."}),K.jsxs("div",{className:"beta-tooltip",style:{width:14,height:14,fontSize:10,opacity:.5},children:["?",K.jsx("div",{className:"beta-tooltip__content",style:{width:180,bottom:"110%"},children:"Optional code for tracking referrals."})]})]})]})]})}),K.jsxs("main",{className:"beta-main",children:[K.jsx(FC,{rpcUrl:wl,connection:oe,program:re,walletReady:ie,programPk:s,chronoMint:y0,pubkey:c,appendLog:F,chainState:G,refreshProtocolState:X,statusLine:Y,onActionComplete:S,nist:le,logs:D,onClearLog:V}),K.jsx("div",{style:{marginTop:24},children:K.jsx(u6,{program:re,connection:oe,programPk:s,pubkey:c,mintPk:t,appendLog:F,actionsEnabled:!0,limit:1e3,currentSlot:G?.currentSlot,claimGraceSlots:G?.config?.claimGraceSlots,activeRoundId:G?.roundId??null,nist:le,refreshNonce:h,onAfterAction:S})})]})]})}class w6 extends lR.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("ErrorBoundary caught an error",t,n),this.setState({errorInfo:n})}render(){return this.state.hasError?K.jsxs("div",{style:{padding:20,color:"red",border:"1px solid red",margin:20},children:[K.jsx("h2",{children:"Something went wrong."}),K.jsxs("details",{style:{whiteSpace:"pre-wrap"},children:[this.state.error&&this.state.error.toString(),K.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]})]}):this.props.children}}let ds=null;function ZE(){const s=document.getElementById("beta-root")||document.getElementById("root");if(s){if(ds){try{ds.unmount()}catch{}ds=null}ds=gR.createRoot(s),ds.render(K.jsx(xe.StrictMode,{children:K.jsx(w6,{children:K.jsx(_6,{})})}))}}function v6(){if(ds){try{ds.unmount()}catch{}ds=null}}typeof window<"u"&&(window.__mountBetaApp=ZE,window.__unmountBetaApp=v6);ZE();
