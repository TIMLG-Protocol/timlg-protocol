(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const o of c)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(c){const o={};return c.integrity&&(o.integrity=c.integrity),c.referrerPolicy&&(o.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?o.credentials="include":c.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(c){if(c.ep)return;c.ep=!0;const o=n(c);fetch(c.href,o)}})();function Ni(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function Kl(s){if(Object.prototype.hasOwnProperty.call(s,"__esModule"))return s;var t=s.default;if(typeof t=="function"){var n=function i(){var c=!1;try{c=this instanceof i}catch{}return c?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(s).forEach(function(i){var c=Object.getOwnPropertyDescriptor(s,i);Object.defineProperty(n,i,c.get?c:{enumerable:!0,get:function(){return s[i]}})}),n}var bh={exports:{}},dc={};var dg;function rR(){if(dg)return dc;dg=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,c,o){var l=null;if(o!==void 0&&(l=""+o),c.key!==void 0&&(l=""+c.key),"key"in c){o={};for(var d in c)d!=="key"&&(o[d]=c[d])}else o=c;return c=o.ref,{$$typeof:s,type:i,key:l,ref:c!==void 0?c:null,props:o}}return dc.Fragment=t,dc.jsx=n,dc.jsxs=n,dc}var hg;function iR(){return hg||(hg=1,bh.exports=rR()),bh.exports}var K=iR(),wh={},hc={},pg;function sR(){if(pg)return hc;pg=1,hc.byteLength=d,hc.toByteArray=w,hc.fromByteArray=k;for(var s=[],t=[],n=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,o=i.length;c<o;++c)s[c]=i[c],t[i.charCodeAt(c)]=c;t[45]=62,t[95]=63;function l(R){var M=R.length;if(M%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var U=R.indexOf("=");U===-1&&(U=M);var z=U===M?0:4-U%4;return[U,z]}function d(R){var M=l(R),U=M[0],z=M[1];return(U+z)*3/4-z}function g(R,M,U){return(M+U)*3/4-U}function w(R){var M,U=l(R),z=U[0],j=U[1],F=new n(g(R,z,j)),V=0,$=j>0?z-4:z,re;for(re=0;re<$;re+=4)M=t[R.charCodeAt(re)]<<18|t[R.charCodeAt(re+1)]<<12|t[R.charCodeAt(re+2)]<<6|t[R.charCodeAt(re+3)],F[V++]=M>>16&255,F[V++]=M>>8&255,F[V++]=M&255;return j===2&&(M=t[R.charCodeAt(re)]<<2|t[R.charCodeAt(re+1)]>>4,F[V++]=M&255),j===1&&(M=t[R.charCodeAt(re)]<<10|t[R.charCodeAt(re+1)]<<4|t[R.charCodeAt(re+2)]>>2,F[V++]=M>>8&255,F[V++]=M&255),F}function E(R){return s[R>>18&63]+s[R>>12&63]+s[R>>6&63]+s[R&63]}function I(R,M,U){for(var z,j=[],F=M;F<U;F+=3)z=(R[F]<<16&16711680)+(R[F+1]<<8&65280)+(R[F+2]&255),j.push(E(z));return j.join("")}function k(R){for(var M,U=R.length,z=U%3,j=[],F=16383,V=0,$=U-z;V<$;V+=F)j.push(I(R,V,V+F>$?$:V+F));return z===1?(M=R[U-1],j.push(s[M>>2]+s[M<<4&63]+"==")):z===2&&(M=(R[U-2]<<8)+R[U-1],j.push(s[M>>10]+s[M>>4&63]+s[M<<2&63]+"=")),j.join("")}return hc}var tl={};var mg;function aR(){return mg||(mg=1,tl.read=function(s,t,n,i,c){var o,l,d=c*8-i-1,g=(1<<d)-1,w=g>>1,E=-7,I=n?c-1:0,k=n?-1:1,R=s[t+I];for(I+=k,o=R&(1<<-E)-1,R>>=-E,E+=d;E>0;o=o*256+s[t+I],I+=k,E-=8);for(l=o&(1<<-E)-1,o>>=-E,E+=i;E>0;l=l*256+s[t+I],I+=k,E-=8);if(o===0)o=1-w;else{if(o===g)return l?NaN:(R?-1:1)*(1/0);l=l+Math.pow(2,i),o=o-w}return(R?-1:1)*l*Math.pow(2,o-i)},tl.write=function(s,t,n,i,c,o){var l,d,g,w=o*8-c-1,E=(1<<w)-1,I=E>>1,k=c===23?Math.pow(2,-24)-Math.pow(2,-77):0,R=i?0:o-1,M=i?1:-1,U=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(d=isNaN(t)?1:0,l=E):(l=Math.floor(Math.log(t)/Math.LN2),t*(g=Math.pow(2,-l))<1&&(l--,g*=2),l+I>=1?t+=k/g:t+=k*Math.pow(2,1-I),t*g>=2&&(l++,g/=2),l+I>=E?(d=0,l=E):l+I>=1?(d=(t*g-1)*Math.pow(2,c),l=l+I):(d=t*Math.pow(2,I-1)*Math.pow(2,c),l=0));c>=8;s[n+R]=d&255,R+=M,d/=256,c-=8);for(l=l<<c|d,w+=c;w>0;s[n+R]=l&255,R+=M,l/=256,w-=8);s[n+R-M]|=U*128}),tl}var yg;function H0(){return yg||(yg=1,(function(s){const t=sR(),n=aR(),i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;s.Buffer=d,s.SlowBuffer=F,s.INSPECT_MAX_BYTES=50;const c=2147483647;s.kMaxLength=c,d.TYPED_ARRAY_SUPPORT=o(),!d.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const H=new Uint8Array(1),A={foo:function(){return 42}};return Object.setPrototypeOf(A,Uint8Array.prototype),Object.setPrototypeOf(H,A),H.foo()===42}catch{return!1}}Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}});function l(H){if(H>c)throw new RangeError('The value "'+H+'" is invalid for option "size"');const A=new Uint8Array(H);return Object.setPrototypeOf(A,d.prototype),A}function d(H,A,T){if(typeof H=="number"){if(typeof A=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return I(H)}return g(H,A,T)}d.poolSize=8192;function g(H,A,T){if(typeof H=="string")return k(H,A);if(ArrayBuffer.isView(H))return M(H);if(H==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H);if(Ut(H,ArrayBuffer)||H&&Ut(H.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ut(H,SharedArrayBuffer)||H&&Ut(H.buffer,SharedArrayBuffer)))return U(H,A,T);if(typeof H=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const P=H.valueOf&&H.valueOf();if(P!=null&&P!==H)return d.from(P,A,T);const te=z(H);if(te)return te;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof H[Symbol.toPrimitive]=="function")return d.from(H[Symbol.toPrimitive]("string"),A,T);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H)}d.from=function(H,A,T){return g(H,A,T)},Object.setPrototypeOf(d.prototype,Uint8Array.prototype),Object.setPrototypeOf(d,Uint8Array);function w(H){if(typeof H!="number")throw new TypeError('"size" argument must be of type number');if(H<0)throw new RangeError('The value "'+H+'" is invalid for option "size"')}function E(H,A,T){return w(H),H<=0?l(H):A!==void 0?typeof T=="string"?l(H).fill(A,T):l(H).fill(A):l(H)}d.alloc=function(H,A,T){return E(H,A,T)};function I(H){return w(H),l(H<0?0:j(H)|0)}d.allocUnsafe=function(H){return I(H)},d.allocUnsafeSlow=function(H){return I(H)};function k(H,A){if((typeof A!="string"||A==="")&&(A="utf8"),!d.isEncoding(A))throw new TypeError("Unknown encoding: "+A);const T=V(H,A)|0;let P=l(T);const te=P.write(H,A);return te!==T&&(P=P.slice(0,te)),P}function R(H){const A=H.length<0?0:j(H.length)|0,T=l(A);for(let P=0;P<A;P+=1)T[P]=H[P]&255;return T}function M(H){if(Ut(H,Uint8Array)){const A=new Uint8Array(H);return U(A.buffer,A.byteOffset,A.byteLength)}return R(H)}function U(H,A,T){if(A<0||H.byteLength<A)throw new RangeError('"offset" is outside of buffer bounds');if(H.byteLength<A+(T||0))throw new RangeError('"length" is outside of buffer bounds');let P;return A===void 0&&T===void 0?P=new Uint8Array(H):T===void 0?P=new Uint8Array(H,A):P=new Uint8Array(H,A,T),Object.setPrototypeOf(P,d.prototype),P}function z(H){if(d.isBuffer(H)){const A=j(H.length)|0,T=l(A);return T.length===0||H.copy(T,0,0,A),T}if(H.length!==void 0)return typeof H.length!="number"||$e(H.length)?l(0):R(H);if(H.type==="Buffer"&&Array.isArray(H.data))return R(H.data)}function j(H){if(H>=c)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c.toString(16)+" bytes");return H|0}function F(H){return+H!=H&&(H=0),d.alloc(+H)}d.isBuffer=function(A){return A!=null&&A._isBuffer===!0&&A!==d.prototype},d.compare=function(A,T){if(Ut(A,Uint8Array)&&(A=d.from(A,A.offset,A.byteLength)),Ut(T,Uint8Array)&&(T=d.from(T,T.offset,T.byteLength)),!d.isBuffer(A)||!d.isBuffer(T))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(A===T)return 0;let P=A.length,te=T.length;for(let ce=0,ge=Math.min(P,te);ce<ge;++ce)if(A[ce]!==T[ce]){P=A[ce],te=T[ce];break}return P<te?-1:te<P?1:0},d.isEncoding=function(A){switch(String(A).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(A,T){if(!Array.isArray(A))throw new TypeError('"list" argument must be an Array of Buffers');if(A.length===0)return d.alloc(0);let P;if(T===void 0)for(T=0,P=0;P<A.length;++P)T+=A[P].length;const te=d.allocUnsafe(T);let ce=0;for(P=0;P<A.length;++P){let ge=A[P];if(Ut(ge,Uint8Array))ce+ge.length>te.length?(d.isBuffer(ge)||(ge=d.from(ge)),ge.copy(te,ce)):Uint8Array.prototype.set.call(te,ge,ce);else if(d.isBuffer(ge))ge.copy(te,ce);else throw new TypeError('"list" argument must be an Array of Buffers');ce+=ge.length}return te};function V(H,A){if(d.isBuffer(H))return H.length;if(ArrayBuffer.isView(H)||Ut(H,ArrayBuffer))return H.byteLength;if(typeof H!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof H);const T=H.length,P=arguments.length>2&&arguments[2]===!0;if(!P&&T===0)return 0;let te=!1;for(;;)switch(A){case"ascii":case"latin1":case"binary":return T;case"utf8":case"utf-8":return Xe(H).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T*2;case"hex":return T>>>1;case"base64":return bt(H).length;default:if(te)return P?-1:Xe(H).length;A=(""+A).toLowerCase(),te=!0}}d.byteLength=V;function $(H,A,T){let P=!1;if((A===void 0||A<0)&&(A=0),A>this.length||((T===void 0||T>this.length)&&(T=this.length),T<=0)||(T>>>=0,A>>>=0,T<=A))return"";for(H||(H="utf8");;)switch(H){case"hex":return B(this,A,T);case"utf8":case"utf-8":return h(this,A,T);case"ascii":return C(this,A,T);case"latin1":case"binary":return D(this,A,T);case"base64":return x(this,A,T);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v(this,A,T);default:if(P)throw new TypeError("Unknown encoding: "+H);H=(H+"").toLowerCase(),P=!0}}d.prototype._isBuffer=!0;function re(H,A,T){const P=H[A];H[A]=H[T],H[T]=P}d.prototype.swap16=function(){const A=this.length;if(A%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let T=0;T<A;T+=2)re(this,T,T+1);return this},d.prototype.swap32=function(){const A=this.length;if(A%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let T=0;T<A;T+=4)re(this,T,T+3),re(this,T+1,T+2);return this},d.prototype.swap64=function(){const A=this.length;if(A%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let T=0;T<A;T+=8)re(this,T,T+7),re(this,T+1,T+6),re(this,T+2,T+5),re(this,T+3,T+4);return this},d.prototype.toString=function(){const A=this.length;return A===0?"":arguments.length===0?h(this,0,A):$.apply(this,arguments)},d.prototype.toLocaleString=d.prototype.toString,d.prototype.equals=function(A){if(!d.isBuffer(A))throw new TypeError("Argument must be a Buffer");return this===A?!0:d.compare(this,A)===0},d.prototype.inspect=function(){let A="";const T=s.INSPECT_MAX_BYTES;return A=this.toString("hex",0,T).replace(/(.{2})/g,"$1 ").trim(),this.length>T&&(A+=" ... "),"<Buffer "+A+">"},i&&(d.prototype[i]=d.prototype.inspect),d.prototype.compare=function(A,T,P,te,ce){if(Ut(A,Uint8Array)&&(A=d.from(A,A.offset,A.byteLength)),!d.isBuffer(A))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof A);if(T===void 0&&(T=0),P===void 0&&(P=A?A.length:0),te===void 0&&(te=0),ce===void 0&&(ce=this.length),T<0||P>A.length||te<0||ce>this.length)throw new RangeError("out of range index");if(te>=ce&&T>=P)return 0;if(te>=ce)return-1;if(T>=P)return 1;if(T>>>=0,P>>>=0,te>>>=0,ce>>>=0,this===A)return 0;let ge=ce-te,ze=P-T;const Ke=Math.min(ge,ze),Ue=this.slice(te,ce),kt=A.slice(T,P);for(let Ze=0;Ze<Ke;++Ze)if(Ue[Ze]!==kt[Ze]){ge=Ue[Ze],ze=kt[Ze];break}return ge<ze?-1:ze<ge?1:0};function oe(H,A,T,P,te){if(H.length===0)return-1;if(typeof T=="string"?(P=T,T=0):T>2147483647?T=2147483647:T<-2147483648&&(T=-2147483648),T=+T,$e(T)&&(T=te?0:H.length-1),T<0&&(T=H.length+T),T>=H.length){if(te)return-1;T=H.length-1}else if(T<0)if(te)T=0;else return-1;if(typeof A=="string"&&(A=d.from(A,P)),d.isBuffer(A))return A.length===0?-1:se(H,A,T,P,te);if(typeof A=="number")return A=A&255,typeof Uint8Array.prototype.indexOf=="function"?te?Uint8Array.prototype.indexOf.call(H,A,T):Uint8Array.prototype.lastIndexOf.call(H,A,T):se(H,[A],T,P,te);throw new TypeError("val must be string, number or Buffer")}function se(H,A,T,P,te){let ce=1,ge=H.length,ze=A.length;if(P!==void 0&&(P=String(P).toLowerCase(),P==="ucs2"||P==="ucs-2"||P==="utf16le"||P==="utf-16le")){if(H.length<2||A.length<2)return-1;ce=2,ge/=2,ze/=2,T/=2}function Ke(kt,Ze){return ce===1?kt[Ze]:kt.readUInt16BE(Ze*ce)}let Ue;if(te){let kt=-1;for(Ue=T;Ue<ge;Ue++)if(Ke(H,Ue)===Ke(A,kt===-1?0:Ue-kt)){if(kt===-1&&(kt=Ue),Ue-kt+1===ze)return kt*ce}else kt!==-1&&(Ue-=Ue-kt),kt=-1}else for(T+ze>ge&&(T=ge-ze),Ue=T;Ue>=0;Ue--){let kt=!0;for(let Ze=0;Ze<ze;Ze++)if(Ke(H,Ue+Ze)!==Ke(A,Ze)){kt=!1;break}if(kt)return Ue}return-1}d.prototype.includes=function(A,T,P){return this.indexOf(A,T,P)!==-1},d.prototype.indexOf=function(A,T,P){return oe(this,A,T,P,!0)},d.prototype.lastIndexOf=function(A,T,P){return oe(this,A,T,P,!1)};function le(H,A,T,P){T=Number(T)||0;const te=H.length-T;P?(P=Number(P),P>te&&(P=te)):P=te;const ce=A.length;P>ce/2&&(P=ce/2);let ge;for(ge=0;ge<P;++ge){const ze=parseInt(A.substr(ge*2,2),16);if($e(ze))return ge;H[T+ge]=ze}return ge}function G(H,A,T,P){return Ye(Xe(A,H.length-T),H,T,P)}function Z(H,A,T,P){return Ye(We(A),H,T,P)}function X(H,A,T,P){return Ye(bt(A),H,T,P)}function W(H,A,T,P){return Ye(zn(A,H.length-T),H,T,P)}d.prototype.write=function(A,T,P,te){if(T===void 0)te="utf8",P=this.length,T=0;else if(P===void 0&&typeof T=="string")te=T,P=this.length,T=0;else if(isFinite(T))T=T>>>0,isFinite(P)?(P=P>>>0,te===void 0&&(te="utf8")):(te=P,P=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ce=this.length-T;if((P===void 0||P>ce)&&(P=ce),A.length>0&&(P<0||T<0)||T>this.length)throw new RangeError("Attempt to write outside buffer bounds");te||(te="utf8");let ge=!1;for(;;)switch(te){case"hex":return le(this,A,T,P);case"utf8":case"utf-8":return G(this,A,T,P);case"ascii":case"latin1":case"binary":return Z(this,A,T,P);case"base64":return X(this,A,T,P);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,A,T,P);default:if(ge)throw new TypeError("Unknown encoding: "+te);te=(""+te).toLowerCase(),ge=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function x(H,A,T){return A===0&&T===H.length?t.fromByteArray(H):t.fromByteArray(H.slice(A,T))}function h(H,A,T){T=Math.min(H.length,T);const P=[];let te=A;for(;te<T;){const ce=H[te];let ge=null,ze=ce>239?4:ce>223?3:ce>191?2:1;if(te+ze<=T){let Ke,Ue,kt,Ze;switch(ze){case 1:ce<128&&(ge=ce);break;case 2:Ke=H[te+1],(Ke&192)===128&&(Ze=(ce&31)<<6|Ke&63,Ze>127&&(ge=Ze));break;case 3:Ke=H[te+1],Ue=H[te+2],(Ke&192)===128&&(Ue&192)===128&&(Ze=(ce&15)<<12|(Ke&63)<<6|Ue&63,Ze>2047&&(Ze<55296||Ze>57343)&&(ge=Ze));break;case 4:Ke=H[te+1],Ue=H[te+2],kt=H[te+3],(Ke&192)===128&&(Ue&192)===128&&(kt&192)===128&&(Ze=(ce&15)<<18|(Ke&63)<<12|(Ue&63)<<6|kt&63,Ze>65535&&Ze<1114112&&(ge=Ze))}}ge===null?(ge=65533,ze=1):ge>65535&&(ge-=65536,P.push(ge>>>10&1023|55296),ge=56320|ge&1023),P.push(ge),te+=ze}return S(P)}const _=4096;function S(H){const A=H.length;if(A<=_)return String.fromCharCode.apply(String,H);let T="",P=0;for(;P<A;)T+=String.fromCharCode.apply(String,H.slice(P,P+=_));return T}function C(H,A,T){let P="";T=Math.min(H.length,T);for(let te=A;te<T;++te)P+=String.fromCharCode(H[te]&127);return P}function D(H,A,T){let P="";T=Math.min(H.length,T);for(let te=A;te<T;++te)P+=String.fromCharCode(H[te]);return P}function B(H,A,T){const P=H.length;(!A||A<0)&&(A=0),(!T||T<0||T>P)&&(T=P);let te="";for(let ce=A;ce<T;++ce)te+=He[H[ce]];return te}function v(H,A,T){const P=H.slice(A,T);let te="";for(let ce=0;ce<P.length-1;ce+=2)te+=String.fromCharCode(P[ce]+P[ce+1]*256);return te}d.prototype.slice=function(A,T){const P=this.length;A=~~A,T=T===void 0?P:~~T,A<0?(A+=P,A<0&&(A=0)):A>P&&(A=P),T<0?(T+=P,T<0&&(T=0)):T>P&&(T=P),T<A&&(T=A);const te=this.subarray(A,T);return Object.setPrototypeOf(te,d.prototype),te};function m(H,A,T){if(H%1!==0||H<0)throw new RangeError("offset is not uint");if(H+A>T)throw new RangeError("Trying to access beyond buffer length")}d.prototype.readUintLE=d.prototype.readUIntLE=function(A,T,P){A=A>>>0,T=T>>>0,P||m(A,T,this.length);let te=this[A],ce=1,ge=0;for(;++ge<T&&(ce*=256);)te+=this[A+ge]*ce;return te},d.prototype.readUintBE=d.prototype.readUIntBE=function(A,T,P){A=A>>>0,T=T>>>0,P||m(A,T,this.length);let te=this[A+--T],ce=1;for(;T>0&&(ce*=256);)te+=this[A+--T]*ce;return te},d.prototype.readUint8=d.prototype.readUInt8=function(A,T){return A=A>>>0,T||m(A,1,this.length),this[A]},d.prototype.readUint16LE=d.prototype.readUInt16LE=function(A,T){return A=A>>>0,T||m(A,2,this.length),this[A]|this[A+1]<<8},d.prototype.readUint16BE=d.prototype.readUInt16BE=function(A,T){return A=A>>>0,T||m(A,2,this.length),this[A]<<8|this[A+1]},d.prototype.readUint32LE=d.prototype.readUInt32LE=function(A,T){return A=A>>>0,T||m(A,4,this.length),(this[A]|this[A+1]<<8|this[A+2]<<16)+this[A+3]*16777216},d.prototype.readUint32BE=d.prototype.readUInt32BE=function(A,T){return A=A>>>0,T||m(A,4,this.length),this[A]*16777216+(this[A+1]<<16|this[A+2]<<8|this[A+3])},d.prototype.readBigUInt64LE=qt(function(A){A=A>>>0,xt(A,"offset");const T=this[A],P=this[A+7];(T===void 0||P===void 0)&&qe(A,this.length-8);const te=T+this[++A]*2**8+this[++A]*2**16+this[++A]*2**24,ce=this[++A]+this[++A]*2**8+this[++A]*2**16+P*2**24;return BigInt(te)+(BigInt(ce)<<BigInt(32))}),d.prototype.readBigUInt64BE=qt(function(A){A=A>>>0,xt(A,"offset");const T=this[A],P=this[A+7];(T===void 0||P===void 0)&&qe(A,this.length-8);const te=T*2**24+this[++A]*2**16+this[++A]*2**8+this[++A],ce=this[++A]*2**24+this[++A]*2**16+this[++A]*2**8+P;return(BigInt(te)<<BigInt(32))+BigInt(ce)}),d.prototype.readIntLE=function(A,T,P){A=A>>>0,T=T>>>0,P||m(A,T,this.length);let te=this[A],ce=1,ge=0;for(;++ge<T&&(ce*=256);)te+=this[A+ge]*ce;return ce*=128,te>=ce&&(te-=Math.pow(2,8*T)),te},d.prototype.readIntBE=function(A,T,P){A=A>>>0,T=T>>>0,P||m(A,T,this.length);let te=T,ce=1,ge=this[A+--te];for(;te>0&&(ce*=256);)ge+=this[A+--te]*ce;return ce*=128,ge>=ce&&(ge-=Math.pow(2,8*T)),ge},d.prototype.readInt8=function(A,T){return A=A>>>0,T||m(A,1,this.length),this[A]&128?(255-this[A]+1)*-1:this[A]},d.prototype.readInt16LE=function(A,T){A=A>>>0,T||m(A,2,this.length);const P=this[A]|this[A+1]<<8;return P&32768?P|4294901760:P},d.prototype.readInt16BE=function(A,T){A=A>>>0,T||m(A,2,this.length);const P=this[A+1]|this[A]<<8;return P&32768?P|4294901760:P},d.prototype.readInt32LE=function(A,T){return A=A>>>0,T||m(A,4,this.length),this[A]|this[A+1]<<8|this[A+2]<<16|this[A+3]<<24},d.prototype.readInt32BE=function(A,T){return A=A>>>0,T||m(A,4,this.length),this[A]<<24|this[A+1]<<16|this[A+2]<<8|this[A+3]},d.prototype.readBigInt64LE=qt(function(A){A=A>>>0,xt(A,"offset");const T=this[A],P=this[A+7];(T===void 0||P===void 0)&&qe(A,this.length-8);const te=this[A+4]+this[A+5]*2**8+this[A+6]*2**16+(P<<24);return(BigInt(te)<<BigInt(32))+BigInt(T+this[++A]*2**8+this[++A]*2**16+this[++A]*2**24)}),d.prototype.readBigInt64BE=qt(function(A){A=A>>>0,xt(A,"offset");const T=this[A],P=this[A+7];(T===void 0||P===void 0)&&qe(A,this.length-8);const te=(T<<24)+this[++A]*2**16+this[++A]*2**8+this[++A];return(BigInt(te)<<BigInt(32))+BigInt(this[++A]*2**24+this[++A]*2**16+this[++A]*2**8+P)}),d.prototype.readFloatLE=function(A,T){return A=A>>>0,T||m(A,4,this.length),n.read(this,A,!0,23,4)},d.prototype.readFloatBE=function(A,T){return A=A>>>0,T||m(A,4,this.length),n.read(this,A,!1,23,4)},d.prototype.readDoubleLE=function(A,T){return A=A>>>0,T||m(A,8,this.length),n.read(this,A,!0,52,8)},d.prototype.readDoubleBE=function(A,T){return A=A>>>0,T||m(A,8,this.length),n.read(this,A,!1,52,8)};function f(H,A,T,P,te,ce){if(!d.isBuffer(H))throw new TypeError('"buffer" argument must be a Buffer instance');if(A>te||A<ce)throw new RangeError('"value" argument is out of bounds');if(T+P>H.length)throw new RangeError("Index out of range")}d.prototype.writeUintLE=d.prototype.writeUIntLE=function(A,T,P,te){if(A=+A,T=T>>>0,P=P>>>0,!te){const ze=Math.pow(2,8*P)-1;f(this,A,T,P,ze,0)}let ce=1,ge=0;for(this[T]=A&255;++ge<P&&(ce*=256);)this[T+ge]=A/ce&255;return T+P},d.prototype.writeUintBE=d.prototype.writeUIntBE=function(A,T,P,te){if(A=+A,T=T>>>0,P=P>>>0,!te){const ze=Math.pow(2,8*P)-1;f(this,A,T,P,ze,0)}let ce=P-1,ge=1;for(this[T+ce]=A&255;--ce>=0&&(ge*=256);)this[T+ce]=A/ge&255;return T+P},d.prototype.writeUint8=d.prototype.writeUInt8=function(A,T,P){return A=+A,T=T>>>0,P||f(this,A,T,1,255,0),this[T]=A&255,T+1},d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(A,T,P){return A=+A,T=T>>>0,P||f(this,A,T,2,65535,0),this[T]=A&255,this[T+1]=A>>>8,T+2},d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(A,T,P){return A=+A,T=T>>>0,P||f(this,A,T,2,65535,0),this[T]=A>>>8,this[T+1]=A&255,T+2},d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(A,T,P){return A=+A,T=T>>>0,P||f(this,A,T,4,4294967295,0),this[T+3]=A>>>24,this[T+2]=A>>>16,this[T+1]=A>>>8,this[T]=A&255,T+4},d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(A,T,P){return A=+A,T=T>>>0,P||f(this,A,T,4,4294967295,0),this[T]=A>>>24,this[T+1]=A>>>16,this[T+2]=A>>>8,this[T+3]=A&255,T+4};function y(H,A,T,P,te){Ve(A,P,te,H,T,7);let ce=Number(A&BigInt(4294967295));H[T++]=ce,ce=ce>>8,H[T++]=ce,ce=ce>>8,H[T++]=ce,ce=ce>>8,H[T++]=ce;let ge=Number(A>>BigInt(32)&BigInt(4294967295));return H[T++]=ge,ge=ge>>8,H[T++]=ge,ge=ge>>8,H[T++]=ge,ge=ge>>8,H[T++]=ge,T}function O(H,A,T,P,te){Ve(A,P,te,H,T,7);let ce=Number(A&BigInt(4294967295));H[T+7]=ce,ce=ce>>8,H[T+6]=ce,ce=ce>>8,H[T+5]=ce,ce=ce>>8,H[T+4]=ce;let ge=Number(A>>BigInt(32)&BigInt(4294967295));return H[T+3]=ge,ge=ge>>8,H[T+2]=ge,ge=ge>>8,H[T+1]=ge,ge=ge>>8,H[T]=ge,T+8}d.prototype.writeBigUInt64LE=qt(function(A,T=0){return y(this,A,T,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeBigUInt64BE=qt(function(A,T=0){return O(this,A,T,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeIntLE=function(A,T,P,te){if(A=+A,T=T>>>0,!te){const Ke=Math.pow(2,8*P-1);f(this,A,T,P,Ke-1,-Ke)}let ce=0,ge=1,ze=0;for(this[T]=A&255;++ce<P&&(ge*=256);)A<0&&ze===0&&this[T+ce-1]!==0&&(ze=1),this[T+ce]=(A/ge>>0)-ze&255;return T+P},d.prototype.writeIntBE=function(A,T,P,te){if(A=+A,T=T>>>0,!te){const Ke=Math.pow(2,8*P-1);f(this,A,T,P,Ke-1,-Ke)}let ce=P-1,ge=1,ze=0;for(this[T+ce]=A&255;--ce>=0&&(ge*=256);)A<0&&ze===0&&this[T+ce+1]!==0&&(ze=1),this[T+ce]=(A/ge>>0)-ze&255;return T+P},d.prototype.writeInt8=function(A,T,P){return A=+A,T=T>>>0,P||f(this,A,T,1,127,-128),A<0&&(A=255+A+1),this[T]=A&255,T+1},d.prototype.writeInt16LE=function(A,T,P){return A=+A,T=T>>>0,P||f(this,A,T,2,32767,-32768),this[T]=A&255,this[T+1]=A>>>8,T+2},d.prototype.writeInt16BE=function(A,T,P){return A=+A,T=T>>>0,P||f(this,A,T,2,32767,-32768),this[T]=A>>>8,this[T+1]=A&255,T+2},d.prototype.writeInt32LE=function(A,T,P){return A=+A,T=T>>>0,P||f(this,A,T,4,2147483647,-2147483648),this[T]=A&255,this[T+1]=A>>>8,this[T+2]=A>>>16,this[T+3]=A>>>24,T+4},d.prototype.writeInt32BE=function(A,T,P){return A=+A,T=T>>>0,P||f(this,A,T,4,2147483647,-2147483648),A<0&&(A=4294967295+A+1),this[T]=A>>>24,this[T+1]=A>>>16,this[T+2]=A>>>8,this[T+3]=A&255,T+4},d.prototype.writeBigInt64LE=qt(function(A,T=0){return y(this,A,T,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),d.prototype.writeBigInt64BE=qt(function(A,T=0){return O(this,A,T,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function L(H,A,T,P,te,ce){if(T+P>H.length)throw new RangeError("Index out of range");if(T<0)throw new RangeError("Index out of range")}function Y(H,A,T,P,te){return A=+A,T=T>>>0,te||L(H,A,T,4),n.write(H,A,T,P,23,4),T+4}d.prototype.writeFloatLE=function(A,T,P){return Y(this,A,T,!0,P)},d.prototype.writeFloatBE=function(A,T,P){return Y(this,A,T,!1,P)};function ne(H,A,T,P,te){return A=+A,T=T>>>0,te||L(H,A,T,8),n.write(H,A,T,P,52,8),T+8}d.prototype.writeDoubleLE=function(A,T,P){return ne(this,A,T,!0,P)},d.prototype.writeDoubleBE=function(A,T,P){return ne(this,A,T,!1,P)},d.prototype.copy=function(A,T,P,te){if(!d.isBuffer(A))throw new TypeError("argument should be a Buffer");if(P||(P=0),!te&&te!==0&&(te=this.length),T>=A.length&&(T=A.length),T||(T=0),te>0&&te<P&&(te=P),te===P||A.length===0||this.length===0)return 0;if(T<0)throw new RangeError("targetStart out of bounds");if(P<0||P>=this.length)throw new RangeError("Index out of range");if(te<0)throw new RangeError("sourceEnd out of bounds");te>this.length&&(te=this.length),A.length-T<te-P&&(te=A.length-T+P);const ce=te-P;return this===A&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(T,P,te):Uint8Array.prototype.set.call(A,this.subarray(P,te),T),ce},d.prototype.fill=function(A,T,P,te){if(typeof A=="string"){if(typeof T=="string"?(te=T,T=0,P=this.length):typeof P=="string"&&(te=P,P=this.length),te!==void 0&&typeof te!="string")throw new TypeError("encoding must be a string");if(typeof te=="string"&&!d.isEncoding(te))throw new TypeError("Unknown encoding: "+te);if(A.length===1){const ge=A.charCodeAt(0);(te==="utf8"&&ge<128||te==="latin1")&&(A=ge)}}else typeof A=="number"?A=A&255:typeof A=="boolean"&&(A=Number(A));if(T<0||this.length<T||this.length<P)throw new RangeError("Out of range index");if(P<=T)return this;T=T>>>0,P=P===void 0?this.length:P>>>0,A||(A=0);let ce;if(typeof A=="number")for(ce=T;ce<P;++ce)this[ce]=A;else{const ge=d.isBuffer(A)?A:d.from(A,te),ze=ge.length;if(ze===0)throw new TypeError('The value "'+A+'" is invalid for argument "value"');for(ce=0;ce<P-T;++ce)this[ce+T]=ge[ce%ze]}return this};const ie={};function he(H,A,T){ie[H]=class extends T{constructor(){super(),Object.defineProperty(this,"message",{value:A.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${H}]`,this.stack,delete this.name}get code(){return H}set code(te){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:te,writable:!0})}toString(){return`${this.name} [${H}]: ${this.message}`}}}he("ERR_BUFFER_OUT_OF_BOUNDS",function(H){return H?`${H} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),he("ERR_INVALID_ARG_TYPE",function(H,A){return`The "${H}" argument must be of type number. Received type ${typeof A}`},TypeError),he("ERR_OUT_OF_RANGE",function(H,A,T){let P=`The value of "${H}" is out of range.`,te=T;return Number.isInteger(T)&&Math.abs(T)>2**32?te=Ae(String(T)):typeof T=="bigint"&&(te=String(T),(T>BigInt(2)**BigInt(32)||T<-(BigInt(2)**BigInt(32)))&&(te=Ae(te)),te+="n"),P+=` It must be ${A}. Received ${te}`,P},RangeError);function Ae(H){let A="",T=H.length;const P=H[0]==="-"?1:0;for(;T>=P+4;T-=3)A=`_${H.slice(T-3,T)}${A}`;return`${H.slice(0,T)}${A}`}function Ie(H,A,T){xt(A,"offset"),(H[A]===void 0||H[A+T]===void 0)&&qe(A,H.length-(T+1))}function Ve(H,A,T,P,te,ce){if(H>T||H<A){const ge=typeof A=="bigint"?"n":"";let ze;throw A===0||A===BigInt(0)?ze=`>= 0${ge} and < 2${ge} ** ${(ce+1)*8}${ge}`:ze=`>= -(2${ge} ** ${(ce+1)*8-1}${ge}) and < 2 ** ${(ce+1)*8-1}${ge}`,new ie.ERR_OUT_OF_RANGE("value",ze,H)}Ie(P,te,ce)}function xt(H,A){if(typeof H!="number")throw new ie.ERR_INVALID_ARG_TYPE(A,"number",H)}function qe(H,A,T){throw Math.floor(H)!==H?(xt(H,T),new ie.ERR_OUT_OF_RANGE("offset","an integer",H)):A<0?new ie.ERR_BUFFER_OUT_OF_BOUNDS:new ie.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${A}`,H)}const Fe=/[^+/0-9A-Za-z-_]/g;function en(H){if(H=H.split("=")[0],H=H.trim().replace(Fe,""),H.length<2)return"";for(;H.length%4!==0;)H=H+"=";return H}function Xe(H,A){A=A||1/0;let T;const P=H.length;let te=null;const ce=[];for(let ge=0;ge<P;++ge){if(T=H.charCodeAt(ge),T>55295&&T<57344){if(!te){if(T>56319){(A-=3)>-1&&ce.push(239,191,189);continue}else if(ge+1===P){(A-=3)>-1&&ce.push(239,191,189);continue}te=T;continue}if(T<56320){(A-=3)>-1&&ce.push(239,191,189),te=T;continue}T=(te-55296<<10|T-56320)+65536}else te&&(A-=3)>-1&&ce.push(239,191,189);if(te=null,T<128){if((A-=1)<0)break;ce.push(T)}else if(T<2048){if((A-=2)<0)break;ce.push(T>>6|192,T&63|128)}else if(T<65536){if((A-=3)<0)break;ce.push(T>>12|224,T>>6&63|128,T&63|128)}else if(T<1114112){if((A-=4)<0)break;ce.push(T>>18|240,T>>12&63|128,T>>6&63|128,T&63|128)}else throw new Error("Invalid code point")}return ce}function We(H){const A=[];for(let T=0;T<H.length;++T)A.push(H.charCodeAt(T)&255);return A}function zn(H,A){let T,P,te;const ce=[];for(let ge=0;ge<H.length&&!((A-=2)<0);++ge)T=H.charCodeAt(ge),P=T>>8,te=T%256,ce.push(te),ce.push(P);return ce}function bt(H){return t.toByteArray(en(H))}function Ye(H,A,T,P){let te;for(te=0;te<P&&!(te+T>=A.length||te>=H.length);++te)A[te+T]=H[te];return te}function Ut(H,A){return H instanceof A||H!=null&&H.constructor!=null&&H.constructor.name!=null&&H.constructor.name===A.name}function $e(H){return H!==H}const He=(function(){const H="0123456789abcdef",A=new Array(256);for(let T=0;T<16;++T){const P=T*16;for(let te=0;te<16;++te)A[P+te]=H[T]+H[te]}return A})();function qt(H){return typeof BigInt>"u"?wt:H}function wt(){throw new Error("BigInt not supported")}})(wh)),wh}var Ce=H0(),_h={exports:{}},gg;function oR(){if(gg)return _h.exports;gg=1;var s=_h.exports={},t,n;function i(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?t=setTimeout:t=i}catch{t=i}try{typeof clearTimeout=="function"?n=clearTimeout:n=c}catch{n=c}})();function o(U){if(t===setTimeout)return setTimeout(U,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(U,0);try{return t(U,0)}catch{try{return t.call(null,U,0)}catch{return t.call(this,U,0)}}}function l(U){if(n===clearTimeout)return clearTimeout(U);if((n===c||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(U);try{return n(U)}catch{try{return n.call(null,U)}catch{return n.call(this,U)}}}var d=[],g=!1,w,E=-1;function I(){!g||!w||(g=!1,w.length?d=w.concat(d):E=-1,d.length&&k())}function k(){if(!g){var U=o(I);g=!0;for(var z=d.length;z;){for(w=d,d=[];++E<z;)w&&w[E].run();E=-1,z=d.length}w=null,g=!1,l(U)}}s.nextTick=function(U){var z=new Array(arguments.length-1);if(arguments.length>1)for(var j=1;j<arguments.length;j++)z[j-1]=arguments[j];d.push(new R(U,z)),d.length===1&&!g&&o(k)};function R(U,z){this.fun=U,this.array=z}R.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={};function M(){}return s.on=M,s.addListener=M,s.once=M,s.off=M,s.removeListener=M,s.removeAllListeners=M,s.emit=M,s.prependListener=M,s.prependOnceListener=M,s.listeners=function(U){return[]},s.binding=function(U){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(U){throw new Error("process.chdir is not supported")},s.umask=function(){return 0},_h.exports}var cR=oR();const uR=Ni(cR);globalThis.Buffer||(globalThis.Buffer=Ce.Buffer);globalThis.process||(globalThis.process=uR);var vh={exports:{}},Qe={};var bg;function lR(){if(bg)return Qe;bg=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),k=Symbol.iterator;function R(m){return m===null||typeof m!="object"?null:(m=k&&m[k]||m["@@iterator"],typeof m=="function"?m:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,z={};function j(m,f,y){this.props=m,this.context=f,this.refs=z,this.updater=y||M}j.prototype.isReactComponent={},j.prototype.setState=function(m,f){if(typeof m!="object"&&typeof m!="function"&&m!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,m,f,"setState")},j.prototype.forceUpdate=function(m){this.updater.enqueueForceUpdate(this,m,"forceUpdate")};function F(){}F.prototype=j.prototype;function V(m,f,y){this.props=m,this.context=f,this.refs=z,this.updater=y||M}var $=V.prototype=new F;$.constructor=V,U($,j.prototype),$.isPureReactComponent=!0;var re=Array.isArray;function oe(){}var se={H:null,A:null,T:null,S:null},le=Object.prototype.hasOwnProperty;function G(m,f,y){var O=y.ref;return{$$typeof:s,type:m,key:f,ref:O!==void 0?O:null,props:y}}function Z(m,f){return G(m.type,f,m.props)}function X(m){return typeof m=="object"&&m!==null&&m.$$typeof===s}function W(m){var f={"=":"=0",":":"=2"};return"$"+m.replace(/[=:]/g,function(y){return f[y]})}var x=/\/+/g;function h(m,f){return typeof m=="object"&&m!==null&&m.key!=null?W(""+m.key):f.toString(36)}function _(m){switch(m.status){case"fulfilled":return m.value;case"rejected":throw m.reason;default:switch(typeof m.status=="string"?m.then(oe,oe):(m.status="pending",m.then(function(f){m.status==="pending"&&(m.status="fulfilled",m.value=f)},function(f){m.status==="pending"&&(m.status="rejected",m.reason=f)})),m.status){case"fulfilled":return m.value;case"rejected":throw m.reason}}throw m}function S(m,f,y,O,L){var Y=typeof m;(Y==="undefined"||Y==="boolean")&&(m=null);var ne=!1;if(m===null)ne=!0;else switch(Y){case"bigint":case"string":case"number":ne=!0;break;case"object":switch(m.$$typeof){case s:case t:ne=!0;break;case E:return ne=m._init,S(ne(m._payload),f,y,O,L)}}if(ne)return L=L(m),ne=O===""?"."+h(m,0):O,re(L)?(y="",ne!=null&&(y=ne.replace(x,"$&/")+"/"),S(L,f,y,"",function(Ae){return Ae})):L!=null&&(X(L)&&(L=Z(L,y+(L.key==null||m&&m.key===L.key?"":(""+L.key).replace(x,"$&/")+"/")+ne)),f.push(L)),1;ne=0;var ie=O===""?".":O+":";if(re(m))for(var he=0;he<m.length;he++)O=m[he],Y=ie+h(O,he),ne+=S(O,f,y,Y,L);else if(he=R(m),typeof he=="function")for(m=he.call(m),he=0;!(O=m.next()).done;)O=O.value,Y=ie+h(O,he++),ne+=S(O,f,y,Y,L);else if(Y==="object"){if(typeof m.then=="function")return S(_(m),f,y,O,L);throw f=String(m),Error("Objects are not valid as a React child (found: "+(f==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":f)+"). If you meant to render a collection of children, use an array instead.")}return ne}function C(m,f,y){if(m==null)return m;var O=[],L=0;return S(m,O,"","",function(Y){return f.call(y,Y,L++)}),O}function D(m){if(m._status===-1){var f=m._result;f=f(),f.then(function(y){(m._status===0||m._status===-1)&&(m._status=1,m._result=y)},function(y){(m._status===0||m._status===-1)&&(m._status=2,m._result=y)}),m._status===-1&&(m._status=0,m._result=f)}if(m._status===1)return m._result.default;throw m._result}var B=typeof reportError=="function"?reportError:function(m){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof m=="object"&&m!==null&&typeof m.message=="string"?String(m.message):String(m),error:m});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",m);return}console.error(m)},v={map:C,forEach:function(m,f,y){C(m,function(){f.apply(this,arguments)},y)},count:function(m){var f=0;return C(m,function(){f++}),f},toArray:function(m){return C(m,function(f){return f})||[]},only:function(m){if(!X(m))throw Error("React.Children.only expected to receive a single React element child.");return m}};return Qe.Activity=I,Qe.Children=v,Qe.Component=j,Qe.Fragment=n,Qe.Profiler=c,Qe.PureComponent=V,Qe.StrictMode=i,Qe.Suspense=g,Qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=se,Qe.__COMPILER_RUNTIME={__proto__:null,c:function(m){return se.H.useMemoCache(m)}},Qe.cache=function(m){return function(){return m.apply(null,arguments)}},Qe.cacheSignal=function(){return null},Qe.cloneElement=function(m,f,y){if(m==null)throw Error("The argument must be a React element, but you passed "+m+".");var O=U({},m.props),L=m.key;if(f!=null)for(Y in f.key!==void 0&&(L=""+f.key),f)!le.call(f,Y)||Y==="key"||Y==="__self"||Y==="__source"||Y==="ref"&&f.ref===void 0||(O[Y]=f[Y]);var Y=arguments.length-2;if(Y===1)O.children=y;else if(1<Y){for(var ne=Array(Y),ie=0;ie<Y;ie++)ne[ie]=arguments[ie+2];O.children=ne}return G(m.type,L,O)},Qe.createContext=function(m){return m={$$typeof:l,_currentValue:m,_currentValue2:m,_threadCount:0,Provider:null,Consumer:null},m.Provider=m,m.Consumer={$$typeof:o,_context:m},m},Qe.createElement=function(m,f,y){var O,L={},Y=null;if(f!=null)for(O in f.key!==void 0&&(Y=""+f.key),f)le.call(f,O)&&O!=="key"&&O!=="__self"&&O!=="__source"&&(L[O]=f[O]);var ne=arguments.length-2;if(ne===1)L.children=y;else if(1<ne){for(var ie=Array(ne),he=0;he<ne;he++)ie[he]=arguments[he+2];L.children=ie}if(m&&m.defaultProps)for(O in ne=m.defaultProps,ne)L[O]===void 0&&(L[O]=ne[O]);return G(m,Y,L)},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(m){return{$$typeof:d,render:m}},Qe.isValidElement=X,Qe.lazy=function(m){return{$$typeof:E,_payload:{_status:-1,_result:m},_init:D}},Qe.memo=function(m,f){return{$$typeof:w,type:m,compare:f===void 0?null:f}},Qe.startTransition=function(m){var f=se.T,y={};se.T=y;try{var O=m(),L=se.S;L!==null&&L(y,O),typeof O=="object"&&O!==null&&typeof O.then=="function"&&O.then(oe,B)}catch(Y){B(Y)}finally{f!==null&&y.types!==null&&(f.types=y.types),se.T=f}},Qe.unstable_useCacheRefresh=function(){return se.H.useCacheRefresh()},Qe.use=function(m){return se.H.use(m)},Qe.useActionState=function(m,f,y){return se.H.useActionState(m,f,y)},Qe.useCallback=function(m,f){return se.H.useCallback(m,f)},Qe.useContext=function(m){return se.H.useContext(m)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(m,f){return se.H.useDeferredValue(m,f)},Qe.useEffect=function(m,f){return se.H.useEffect(m,f)},Qe.useEffectEvent=function(m){return se.H.useEffectEvent(m)},Qe.useId=function(){return se.H.useId()},Qe.useImperativeHandle=function(m,f,y){return se.H.useImperativeHandle(m,f,y)},Qe.useInsertionEffect=function(m,f){return se.H.useInsertionEffect(m,f)},Qe.useLayoutEffect=function(m,f){return se.H.useLayoutEffect(m,f)},Qe.useMemo=function(m,f){return se.H.useMemo(m,f)},Qe.useOptimistic=function(m,f){return se.H.useOptimistic(m,f)},Qe.useReducer=function(m,f,y){return se.H.useReducer(m,f,y)},Qe.useRef=function(m){return se.H.useRef(m)},Qe.useState=function(m){return se.H.useState(m)},Qe.useSyncExternalStore=function(m,f,y){return se.H.useSyncExternalStore(m,f,y)},Qe.useTransition=function(){return se.H.useTransition()},Qe.version="19.2.3",Qe}var wg;function j0(){return wg||(wg=1,vh.exports=lR()),vh.exports}var Re=j0();const fR=Ni(Re);var Eh={exports:{}},pc={},Sh={exports:{}},Ah={};var _g;function dR(){return _g||(_g=1,(function(s){function t(S,C){var D=S.length;S.push(C);e:for(;0<D;){var B=D-1>>>1,v=S[B];if(0<c(v,C))S[B]=C,S[D]=v,D=B;else break e}}function n(S){return S.length===0?null:S[0]}function i(S){if(S.length===0)return null;var C=S[0],D=S.pop();if(D!==C){S[0]=D;e:for(var B=0,v=S.length,m=v>>>1;B<m;){var f=2*(B+1)-1,y=S[f],O=f+1,L=S[O];if(0>c(y,D))O<v&&0>c(L,y)?(S[B]=L,S[O]=D,B=O):(S[B]=y,S[f]=D,B=f);else if(O<v&&0>c(L,D))S[B]=L,S[O]=D,B=O;else break e}}return C}function c(S,C){var D=S.sortIndex-C.sortIndex;return D!==0?D:S.id-C.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;s.unstable_now=function(){return o.now()}}else{var l=Date,d=l.now();s.unstable_now=function(){return l.now()-d}}var g=[],w=[],E=1,I=null,k=3,R=!1,M=!1,U=!1,z=!1,j=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function $(S){for(var C=n(w);C!==null;){if(C.callback===null)i(w);else if(C.startTime<=S)i(w),C.sortIndex=C.expirationTime,t(g,C);else break;C=n(w)}}function re(S){if(U=!1,$(S),!M)if(n(g)!==null)M=!0,oe||(oe=!0,W());else{var C=n(w);C!==null&&_(re,C.startTime-S)}}var oe=!1,se=-1,le=5,G=-1;function Z(){return z?!0:!(s.unstable_now()-G<le)}function X(){if(z=!1,oe){var S=s.unstable_now();G=S;var C=!0;try{e:{M=!1,U&&(U=!1,F(se),se=-1),R=!0;var D=k;try{t:{for($(S),I=n(g);I!==null&&!(I.expirationTime>S&&Z());){var B=I.callback;if(typeof B=="function"){I.callback=null,k=I.priorityLevel;var v=B(I.expirationTime<=S);if(S=s.unstable_now(),typeof v=="function"){I.callback=v,$(S),C=!0;break t}I===n(g)&&i(g),$(S)}else i(g);I=n(g)}if(I!==null)C=!0;else{var m=n(w);m!==null&&_(re,m.startTime-S),C=!1}}break e}finally{I=null,k=D,R=!1}C=void 0}}finally{C?W():oe=!1}}}var W;if(typeof V=="function")W=function(){V(X)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,h=x.port2;x.port1.onmessage=X,W=function(){h.postMessage(null)}}else W=function(){j(X,0)};function _(S,C){se=j(function(){S(s.unstable_now())},C)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(S){S.callback=null},s.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):le=0<S?Math.floor(1e3/S):5},s.unstable_getCurrentPriorityLevel=function(){return k},s.unstable_next=function(S){switch(k){case 1:case 2:case 3:var C=3;break;default:C=k}var D=k;k=C;try{return S()}finally{k=D}},s.unstable_requestPaint=function(){z=!0},s.unstable_runWithPriority=function(S,C){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var D=k;k=S;try{return C()}finally{k=D}},s.unstable_scheduleCallback=function(S,C,D){var B=s.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?B+D:B):D=B,S){case 1:var v=-1;break;case 2:v=250;break;case 5:v=1073741823;break;case 4:v=1e4;break;default:v=5e3}return v=D+v,S={id:E++,callback:C,priorityLevel:S,startTime:D,expirationTime:v,sortIndex:-1},D>B?(S.sortIndex=D,t(w,S),n(g)===null&&S===n(w)&&(U?(F(se),se=-1):U=!0,_(re,D-B))):(S.sortIndex=v,t(g,S),M||R||(M=!0,oe||(oe=!0,W()))),S},s.unstable_shouldYield=Z,s.unstable_wrapCallback=function(S){var C=k;return function(){var D=k;k=C;try{return S.apply(this,arguments)}finally{k=D}}}})(Ah)),Ah}var vg;function hR(){return vg||(vg=1,Sh.exports=dR()),Sh.exports}var Rh={exports:{}},Cn={};var Eg;function pR(){if(Eg)return Cn;Eg=1;var s=j0();function t(g){var w="https://react.dev/errors/"+g;if(1<arguments.length){w+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)w+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+w+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},c=Symbol.for("react.portal");function o(g,w,E){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:I==null?null:""+I,children:g,containerInfo:w,implementation:E}}var l=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(g,w){if(g==="font")return"";if(typeof w=="string")return w==="use-credentials"?w:""}return Cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Cn.createPortal=function(g,w){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!w||w.nodeType!==1&&w.nodeType!==9&&w.nodeType!==11)throw Error(t(299));return o(g,w,null,E)},Cn.flushSync=function(g){var w=l.T,E=i.p;try{if(l.T=null,i.p=2,g)return g()}finally{l.T=w,i.p=E,i.d.f()}},Cn.preconnect=function(g,w){typeof g=="string"&&(w?(w=w.crossOrigin,w=typeof w=="string"?w==="use-credentials"?w:"":void 0):w=null,i.d.C(g,w))},Cn.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},Cn.preinit=function(g,w){if(typeof g=="string"&&w&&typeof w.as=="string"){var E=w.as,I=d(E,w.crossOrigin),k=typeof w.integrity=="string"?w.integrity:void 0,R=typeof w.fetchPriority=="string"?w.fetchPriority:void 0;E==="style"?i.d.S(g,typeof w.precedence=="string"?w.precedence:void 0,{crossOrigin:I,integrity:k,fetchPriority:R}):E==="script"&&i.d.X(g,{crossOrigin:I,integrity:k,fetchPriority:R,nonce:typeof w.nonce=="string"?w.nonce:void 0})}},Cn.preinitModule=function(g,w){if(typeof g=="string")if(typeof w=="object"&&w!==null){if(w.as==null||w.as==="script"){var E=d(w.as,w.crossOrigin);i.d.M(g,{crossOrigin:E,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0})}}else w==null&&i.d.M(g)},Cn.preload=function(g,w){if(typeof g=="string"&&typeof w=="object"&&w!==null&&typeof w.as=="string"){var E=w.as,I=d(E,w.crossOrigin);i.d.L(g,E,{crossOrigin:I,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0,type:typeof w.type=="string"?w.type:void 0,fetchPriority:typeof w.fetchPriority=="string"?w.fetchPriority:void 0,referrerPolicy:typeof w.referrerPolicy=="string"?w.referrerPolicy:void 0,imageSrcSet:typeof w.imageSrcSet=="string"?w.imageSrcSet:void 0,imageSizes:typeof w.imageSizes=="string"?w.imageSizes:void 0,media:typeof w.media=="string"?w.media:void 0})}},Cn.preloadModule=function(g,w){if(typeof g=="string")if(w){var E=d(w.as,w.crossOrigin);i.d.m(g,{as:typeof w.as=="string"&&w.as!=="script"?w.as:void 0,crossOrigin:E,integrity:typeof w.integrity=="string"?w.integrity:void 0})}else i.d.m(g)},Cn.requestFormReset=function(g){i.d.r(g)},Cn.unstable_batchedUpdates=function(g,w){return g(w)},Cn.useFormState=function(g,w,E){return l.H.useFormState(g,w,E)},Cn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Cn.version="19.2.3",Cn}var Sg;function mR(){if(Sg)return Rh.exports;Sg=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Rh.exports=pR(),Rh.exports}var Ag;function yR(){if(Ag)return pc;Ag=1;var s=hR(),t=j0(),n=mR();function i(e){var r="https://react.dev/errors/"+e;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var r=e,a=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(a=r.return),e=r.return;while(e)}return r.tag===3?a:null}function l(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function d(e){if(e.tag===31){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function g(e){if(o(e)!==e)throw Error(i(188))}function w(e){var r=e.alternate;if(!r){if(r=o(e),r===null)throw Error(i(188));return r!==e?null:e}for(var a=e,u=r;;){var p=a.return;if(p===null)break;var b=p.alternate;if(b===null){if(u=p.return,u!==null){a=u;continue}break}if(p.child===b.child){for(b=p.child;b;){if(b===a)return g(p),e;if(b===u)return g(p),r;b=b.sibling}throw Error(i(188))}if(a.return!==u.return)a=p,u=b;else{for(var N=!1,q=p.child;q;){if(q===a){N=!0,a=p,u=b;break}if(q===u){N=!0,u=p,a=b;break}q=q.sibling}if(!N){for(q=b.child;q;){if(q===a){N=!0,a=b,u=p;break}if(q===u){N=!0,u=b,a=p;break}q=q.sibling}if(!N)throw Error(i(189))}}if(a.alternate!==u)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?e:r}function E(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e;for(e=e.child;e!==null;){if(r=E(e),r!==null)return r;e=e.sibling}return null}var I=Object.assign,k=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),V=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),se=Symbol.for("react.memo"),le=Symbol.for("react.lazy"),G=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function W(e){return e===null||typeof e!="object"?null:(e=X&&e[X]||e["@@iterator"],typeof e=="function"?e:null)}var x=Symbol.for("react.client.reference");function h(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===x?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case U:return"Fragment";case j:return"Profiler";case z:return"StrictMode";case re:return"Suspense";case oe:return"SuspenseList";case G:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case M:return"Portal";case V:return e.displayName||"Context";case F:return(e._context.displayName||"Context")+".Consumer";case $:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case se:return r=e.displayName||null,r!==null?r:h(e.type)||"Memo";case le:r=e._payload,e=e._init;try{return h(e(r))}catch{}}return null}var _=Array.isArray,S=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,C=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D={pending:!1,data:null,method:null,action:null},B=[],v=-1;function m(e){return{current:e}}function f(e){0>v||(e.current=B[v],B[v]=null,v--)}function y(e,r){v++,B[v]=e.current,e.current=r}var O=m(null),L=m(null),Y=m(null),ne=m(null);function ie(e,r){switch(y(Y,r),y(L,e),y(O,null),r.nodeType){case 9:case 11:e=(e=r.documentElement)&&(e=e.namespaceURI)?U1(e):0;break;default:if(e=r.tagName,r=r.namespaceURI)r=U1(r),e=D1(r,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}f(O),y(O,e)}function he(){f(O),f(L),f(Y)}function Ae(e){e.memoizedState!==null&&y(ne,e);var r=O.current,a=D1(r,e.type);r!==a&&(y(L,e),y(O,a))}function Ie(e){L.current===e&&(f(O),f(L)),ne.current===e&&(f(ne),cc._currentValue=D)}var Ve,xt;function qe(e){if(Ve===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Ve=r&&r[1]||"",xt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ve+e+xt}var Fe=!1;function en(e,r){if(!e||Fe)return"";Fe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var Ee=function(){throw Error()};if(Object.defineProperty(Ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ee,[])}catch(be){var me=be}Reflect.construct(e,[],Ee)}else{try{Ee.call()}catch(be){me=be}e.call(Ee.prototype)}}else{try{throw Error()}catch(be){me=be}(Ee=e())&&typeof Ee.catch=="function"&&Ee.catch(function(){})}}catch(be){if(be&&me&&typeof be.stack=="string")return[be.stack,me.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=u.DetermineComponentFrameRoot(),N=b[0],q=b[1];if(N&&q){var J=N.split(`
`),de=q.split(`
`);for(p=u=0;u<J.length&&!J[u].includes("DetermineComponentFrameRoot");)u++;for(;p<de.length&&!de[p].includes("DetermineComponentFrameRoot");)p++;if(u===J.length||p===de.length)for(u=J.length-1,p=de.length-1;1<=u&&0<=p&&J[u]!==de[p];)p--;for(;1<=u&&0<=p;u--,p--)if(J[u]!==de[p]){if(u!==1||p!==1)do if(u--,p--,0>p||J[u]!==de[p]){var we=`
`+J[u].replace(" at new "," at ");return e.displayName&&we.includes("<anonymous>")&&(we=we.replace("<anonymous>",e.displayName)),we}while(1<=u&&0<=p);break}}}finally{Fe=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?qe(a):""}function Xe(e,r){switch(e.tag){case 26:case 27:case 5:return qe(e.type);case 16:return qe("Lazy");case 13:return e.child!==r&&r!==null?qe("Suspense Fallback"):qe("Suspense");case 19:return qe("SuspenseList");case 0:case 15:return en(e.type,!1);case 11:return en(e.type.render,!1);case 1:return en(e.type,!0);case 31:return qe("Activity");default:return""}}function We(e){try{var r="",a=null;do r+=Xe(e,a),a=e,e=e.return;while(e);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var zn=Object.prototype.hasOwnProperty,bt=s.unstable_scheduleCallback,Ye=s.unstable_cancelCallback,Ut=s.unstable_shouldYield,$e=s.unstable_requestPaint,He=s.unstable_now,qt=s.unstable_getCurrentPriorityLevel,wt=s.unstable_ImmediatePriority,H=s.unstable_UserBlockingPriority,A=s.unstable_NormalPriority,T=s.unstable_LowPriority,P=s.unstable_IdlePriority,te=s.log,ce=s.unstable_setDisableYieldValue,ge=null,ze=null;function Ke(e){if(typeof te=="function"&&ce(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(ge,e)}catch{}}var Ue=Math.clz32?Math.clz32:tn,kt=Math.log,Ze=Math.LN2;function tn(e){return e>>>=0,e===0?32:31-(kt(e)/Ze|0)|0}var vs=256,Dt=262144,Lt=4194304;function kr(e){var r=e&42;if(r!==0)return r;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function zt(e,r,a){var u=e.pendingLanes;if(u===0)return 0;var p=0,b=e.suspendedLanes,N=e.pingedLanes;e=e.warmLanes;var q=u&134217727;return q!==0?(u=q&~b,u!==0?p=kr(u):(N&=q,N!==0?p=kr(N):a||(a=q&~e,a!==0&&(p=kr(a))))):(q=u&~b,q!==0?p=kr(q):N!==0?p=kr(N):a||(a=u&~e,a!==0&&(p=kr(a)))),p===0?0:r!==0&&r!==p&&(r&b)===0&&(b=p&-p,a=r&-r,b>=a||b===32&&(a&4194048)!==0)?r:p}function Ct(e,r){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&r)===0}function Vc(e,r){switch(e){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yt(){var e=Lt;return Lt<<=1,(Lt&62914560)===0&&(Lt=4194304),e}function Pt(e){for(var r=[],a=0;31>a;a++)r.push(e);return r}function Ii(e,r){e.pendingLanes|=r,r!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function nn(e,r,a,u,p,b){var N=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var q=e.entanglements,J=e.expirationTimes,de=e.hiddenUpdates;for(a=N&~a;0<a;){var we=31-Ue(a),Ee=1<<we;q[we]=0,J[we]=-1;var me=de[we];if(me!==null)for(de[we]=null,we=0;we<me.length;we++){var be=me[we];be!==null&&(be.lane&=-536870913)}a&=~Ee}u!==0&&Zt(e,u,0),b!==0&&p===0&&e.tag!==0&&(e.suspendedLanes|=b&~(N&~r))}function Zt(e,r,a){e.pendingLanes|=r,e.suspendedLanes&=~r;var u=31-Ue(r);e.entangledLanes|=r,e.entanglements[u]=e.entanglements[u]|1073741824|a&261930}function vo(e,r){var a=e.entangledLanes|=r;for(e=e.entanglements;a;){var u=31-Ue(a),p=1<<u;p&r|e[u]&r&&(e[u]|=r),a&=~p}}function Xt(e,r){var a=r&-r;return a=(a&42)!==0?1:Kt(a),(a&(e.suspendedLanes|r))!==0?0:a}function Kt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function oa(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Wt(){var e=C.p;return e!==0?e:(e=window.event,e===void 0?32:sg(e.type))}function $t(e,r){var a=C.p;try{return C.p=e,r()}finally{C.p=a}}var vr=Math.random().toString(36).slice(2),it="__reactFiber$"+vr,lt="__reactProps$"+vr,Wr="__reactContainer$"+vr,Vt="__reactEvents$"+vr,rn="__reactListeners$"+vr,Eo="__reactHandles$"+vr,ca="__reactResources$"+vr,$r="__reactMarker$"+vr;function Es(e){delete e[it],delete e[lt],delete e[Vt],delete e[rn],delete e[Eo]}function Ir(e){var r=e[it];if(r)return r;for(var a=e.parentNode;a;){if(r=a[Wr]||a[it]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(e=K1(e);e!==null;){if(a=e[it])return a;e=K1(e)}return r}e=a,a=e.parentNode}return null}function Cr(e){if(e=e[it]||e[Wr]){var r=e.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return e}return null}function Qr(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e.stateNode;throw Error(i(33))}function Br(e){var r=e[ca];return r||(r=e[ca]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function sn(e){e[$r]=!0}var ua=new Set,la={};function Er(e,r){Mr(e,r),Mr(e+"Capture",r)}function Mr(e,r){for(la[e]=r,e=0;e<r.length;e++)ua.add(r[e])}var So=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fa={},da={};function Ao(e){return zn.call(da,e)?!0:zn.call(fa,e)?!1:So.test(e)?da[e]=!0:(fa[e]=!0,!1)}function Ci(e,r,a){if(Ao(r))if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){e.removeAttribute(r);return}}e.setAttribute(r,""+a)}}function Bi(e,r,a){if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttribute(r,""+a)}}function Jr(e,r,a,u){if(u===null)e.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(r,a,""+u)}}function cr(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Tp(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function WE(e,r,a){var u=Object.getOwnPropertyDescriptor(e.constructor.prototype,r);if(!e.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,b=u.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return p.call(this)},set:function(N){a=""+N,b.call(this,N)}}),Object.defineProperty(e,r,{enumerable:u.enumerable}),{getValue:function(){return a},setValue:function(N){a=""+N},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function ff(e){if(!e._valueTracker){var r=Tp(e)?"checked":"value";e._valueTracker=WE(e,r,""+e[r])}}function Op(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var a=r.getValue(),u="";return e&&(u=Tp(e)?e.checked?"true":"false":e.value),e=u,e!==a?(r.setValue(e),!0):!1}function Gc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var $E=/[\n"\\]/g;function ur(e){return e.replace($E,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function df(e,r,a,u,p,b,N,q){e.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?e.type=N:e.removeAttribute("type"),r!=null?N==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+cr(r)):e.value!==""+cr(r)&&(e.value=""+cr(r)):N!=="submit"&&N!=="reset"||e.removeAttribute("value"),r!=null?hf(e,N,cr(r)):a!=null?hf(e,N,cr(a)):u!=null&&e.removeAttribute("value"),p==null&&b!=null&&(e.defaultChecked=!!b),p!=null&&(e.checked=p&&typeof p!="function"&&typeof p!="symbol"),q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?e.name=""+cr(q):e.removeAttribute("name")}function Np(e,r,a,u,p,b,N,q){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.type=b),r!=null||a!=null){if(!(b!=="submit"&&b!=="reset"||r!=null)){ff(e);return}a=a!=null?""+cr(a):"",r=r!=null?""+cr(r):a,q||r===e.value||(e.value=r),e.defaultValue=r}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,e.checked=q?e.checked:!!u,e.defaultChecked=!!u,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(e.name=N),ff(e)}function hf(e,r,a){r==="number"&&Gc(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ha(e,r,a,u){if(e=e.options,r){r={};for(var p=0;p<a.length;p++)r["$"+a[p]]=!0;for(a=0;a<e.length;a++)p=r.hasOwnProperty("$"+e[a].value),e[a].selected!==p&&(e[a].selected=p),p&&u&&(e[a].defaultSelected=!0)}else{for(a=""+cr(a),r=null,p=0;p<e.length;p++){if(e[p].value===a){e[p].selected=!0,u&&(e[p].defaultSelected=!0);return}r!==null||e[p].disabled||(r=e[p])}r!==null&&(r.selected=!0)}}function kp(e,r,a){if(r!=null&&(r=""+cr(r),r!==e.value&&(e.value=r),a==null)){e.defaultValue!==r&&(e.defaultValue=r);return}e.defaultValue=a!=null?""+cr(a):""}function Ip(e,r,a,u){if(r==null){if(u!=null){if(a!=null)throw Error(i(92));if(_(u)){if(1<u.length)throw Error(i(93));u=u[0]}a=u}a==null&&(a=""),r=a}a=cr(r),e.defaultValue=a,u=e.textContent,u===a&&u!==""&&u!==null&&(e.value=u),ff(e)}function pa(e,r){if(r){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=r;return}}e.textContent=r}var QE=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cp(e,r,a){var u=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="":u?e.setProperty(r,a):typeof a!="number"||a===0||QE.has(r)?r==="float"?e.cssFloat=a:e[r]=(""+a).trim():e[r]=a+"px"}function Bp(e,r,a){if(r!=null&&typeof r!="object")throw Error(i(62));if(e=e.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?e.setProperty(u,""):u==="float"?e.cssFloat="":e[u]="");for(var p in r)u=r[p],r.hasOwnProperty(p)&&a[p]!==u&&Cp(e,p,u)}else for(var b in r)r.hasOwnProperty(b)&&Cp(e,b,r[b])}function pf(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var JE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),eS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fc(e){return eS.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ei(){}var mf=null;function yf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ma=null,ya=null;function Mp(e){var r=Cr(e);if(r&&(e=r.stateNode)){var a=e[lt]||null;e:switch(e=r.stateNode,r.type){case"input":if(df(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ur(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var u=a[r];if(u!==e&&u.form===e.form){var p=u[lt]||null;if(!p)throw Error(i(90));df(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(r=0;r<a.length;r++)u=a[r],u.form===e.form&&Op(u)}break e;case"textarea":kp(e,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&ha(e,!!a.multiple,r,!1)}}}var gf=!1;function Up(e,r,a){if(gf)return e(r,a);gf=!0;try{var u=e(r);return u}finally{if(gf=!1,(ma!==null||ya!==null)&&(Bu(),ma&&(r=ma,e=ya,ya=ma=null,Mp(r),e)))for(r=0;r<e.length;r++)Mp(e[r])}}function Ro(e,r){var a=e.stateNode;if(a===null)return null;var u=a[lt]||null;if(u===null)return null;a=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(i(231,r,typeof a));return a}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bf=!1;if(ti)try{var xo={};Object.defineProperty(xo,"passive",{get:function(){bf=!0}}),window.addEventListener("test",xo,xo),window.removeEventListener("test",xo,xo)}catch{bf=!1}var Mi=null,wf=null,Yc=null;function Dp(){if(Yc)return Yc;var e,r=wf,a=r.length,u,p="value"in Mi?Mi.value:Mi.textContent,b=p.length;for(e=0;e<a&&r[e]===p[e];e++);var N=a-e;for(u=1;u<=N&&r[a-u]===p[b-u];u++);return Yc=p.slice(e,1<u?1-u:void 0)}function Zc(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function Xc(){return!0}function Lp(){return!1}function qn(e){function r(a,u,p,b,N){this._reactName=a,this._targetInst=p,this.type=u,this.nativeEvent=b,this.target=N,this.currentTarget=null;for(var q in e)e.hasOwnProperty(q)&&(a=e[q],this[q]=a?a(b):b[q]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Xc:Lp,this.isPropagationStopped=Lp,this}return I(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xc)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xc)},persist:function(){},isPersistent:Xc}),r}var Ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wc=qn(Ss),To=I({},Ss,{view:0,detail:0}),tS=qn(To),_f,vf,Oo,$c=I({},To,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Oo&&(Oo&&e.type==="mousemove"?(_f=e.screenX-Oo.screenX,vf=e.screenY-Oo.screenY):vf=_f=0,Oo=e),_f)},movementY:function(e){return"movementY"in e?e.movementY:vf}}),zp=qn($c),nS=I({},$c,{dataTransfer:0}),rS=qn(nS),iS=I({},To,{relatedTarget:0}),Ef=qn(iS),sS=I({},Ss,{animationName:0,elapsedTime:0,pseudoElement:0}),aS=qn(sS),oS=I({},Ss,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cS=qn(oS),uS=I({},Ss,{data:0}),Hp=qn(uS),lS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hS(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=dS[e])?!!r[e]:!1}function Sf(){return hS}var pS=I({},To,{key:function(e){if(e.key){var r=lS[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=Zc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sf,charCode:function(e){return e.type==="keypress"?Zc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),mS=qn(pS),yS=I({},$c,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jp=qn(yS),gS=I({},To,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sf}),bS=qn(gS),wS=I({},Ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),_S=qn(wS),vS=I({},$c,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ES=qn(vS),SS=I({},Ss,{newState:0,oldState:0}),AS=qn(SS),RS=[9,13,27,32],Af=ti&&"CompositionEvent"in window,No=null;ti&&"documentMode"in document&&(No=document.documentMode);var xS=ti&&"TextEvent"in window&&!No,qp=ti&&(!Af||No&&8<No&&11>=No),Pp=" ",Kp=!1;function Vp(e,r){switch(e){case"keyup":return RS.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ga=!1;function TS(e,r){switch(e){case"compositionend":return Gp(r);case"keypress":return r.which!==32?null:(Kp=!0,Pp);case"textInput":return e=r.data,e===Pp&&Kp?null:e;default:return null}}function OS(e,r){if(ga)return e==="compositionend"||!Af&&Vp(e,r)?(e=Dp(),Yc=wf=Mi=null,ga=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return qp&&r.locale!=="ko"?null:r.data;default:return null}}var NS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fp(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!NS[e.type]:r==="textarea"}function Yp(e,r,a,u){ma?ya?ya.push(u):ya=[u]:ma=u,r=ju(r,"onChange"),0<r.length&&(a=new Wc("onChange","change",null,a,u),e.push({event:a,listeners:r}))}var ko=null,Io=null;function kS(e){N1(e,0)}function Qc(e){var r=Qr(e);if(Op(r))return e}function Zp(e,r){if(e==="change")return r}var Xp=!1;if(ti){var Rf;if(ti){var xf="oninput"in document;if(!xf){var Wp=document.createElement("div");Wp.setAttribute("oninput","return;"),xf=typeof Wp.oninput=="function"}Rf=xf}else Rf=!1;Xp=Rf&&(!document.documentMode||9<document.documentMode)}function $p(){ko&&(ko.detachEvent("onpropertychange",Qp),Io=ko=null)}function Qp(e){if(e.propertyName==="value"&&Qc(Io)){var r=[];Yp(r,Io,e,yf(e)),Up(kS,r)}}function IS(e,r,a){e==="focusin"?($p(),ko=r,Io=a,ko.attachEvent("onpropertychange",Qp)):e==="focusout"&&$p()}function CS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qc(Io)}function BS(e,r){if(e==="click")return Qc(r)}function MS(e,r){if(e==="input"||e==="change")return Qc(r)}function US(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var $n=typeof Object.is=="function"?Object.is:US;function Co(e,r){if($n(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var a=Object.keys(e),u=Object.keys(r);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var p=a[u];if(!zn.call(r,p)||!$n(e[p],r[p]))return!1}return!0}function Jp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function em(e,r){var a=Jp(e);e=0;for(var u;a;){if(a.nodeType===3){if(u=e+a.textContent.length,e<=r&&u>=r)return{node:a,offset:r-e};e=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Jp(a)}}function tm(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?tm(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function nm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var r=Gc(e.document);r instanceof e.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)e=r.contentWindow;else break;r=Gc(e.document)}return r}function Tf(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}var DS=ti&&"documentMode"in document&&11>=document.documentMode,ba=null,Of=null,Bo=null,Nf=!1;function rm(e,r,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Nf||ba==null||ba!==Gc(u)||(u=ba,"selectionStart"in u&&Tf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Bo&&Co(Bo,u)||(Bo=u,u=ju(Of,"onSelect"),0<u.length&&(r=new Wc("onSelect","select",null,r,a),e.push({event:r,listeners:u}),r.target=ba)))}function As(e,r){var a={};return a[e.toLowerCase()]=r.toLowerCase(),a["Webkit"+e]="webkit"+r,a["Moz"+e]="moz"+r,a}var wa={animationend:As("Animation","AnimationEnd"),animationiteration:As("Animation","AnimationIteration"),animationstart:As("Animation","AnimationStart"),transitionrun:As("Transition","TransitionRun"),transitionstart:As("Transition","TransitionStart"),transitioncancel:As("Transition","TransitionCancel"),transitionend:As("Transition","TransitionEnd")},kf={},im={};ti&&(im=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function Rs(e){if(kf[e])return kf[e];if(!wa[e])return e;var r=wa[e],a;for(a in r)if(r.hasOwnProperty(a)&&a in im)return kf[e]=r[a];return e}var sm=Rs("animationend"),am=Rs("animationiteration"),om=Rs("animationstart"),LS=Rs("transitionrun"),zS=Rs("transitionstart"),HS=Rs("transitioncancel"),cm=Rs("transitionend"),um=new Map,If="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");If.push("scrollEnd");function Sr(e,r){um.set(e,r),Er(r,[e])}var Jc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},lr=[],_a=0,Cf=0;function eu(){for(var e=_a,r=Cf=_a=0;r<e;){var a=lr[r];lr[r++]=null;var u=lr[r];lr[r++]=null;var p=lr[r];lr[r++]=null;var b=lr[r];if(lr[r++]=null,u!==null&&p!==null){var N=u.pending;N===null?p.next=p:(p.next=N.next,N.next=p),u.pending=p}b!==0&&lm(a,p,b)}}function tu(e,r,a,u){lr[_a++]=e,lr[_a++]=r,lr[_a++]=a,lr[_a++]=u,Cf|=u,e.lanes|=u,e=e.alternate,e!==null&&(e.lanes|=u)}function Bf(e,r,a,u){return tu(e,r,a,u),nu(e)}function xs(e,r){return tu(e,null,null,r),nu(e)}function lm(e,r,a){e.lanes|=a;var u=e.alternate;u!==null&&(u.lanes|=a);for(var p=!1,b=e.return;b!==null;)b.childLanes|=a,u=b.alternate,u!==null&&(u.childLanes|=a),b.tag===22&&(e=b.stateNode,e===null||e._visibility&1||(p=!0)),e=b,b=b.return;return e.tag===3?(b=e.stateNode,p&&r!==null&&(p=31-Ue(a),e=b.hiddenUpdates,u=e[p],u===null?e[p]=[r]:u.push(r),r.lane=a|536870912),b):null}function nu(e){if(50<tc)throw tc=0,Pd=null,Error(i(185));for(var r=e.return;r!==null;)e=r,r=e.return;return e.tag===3?e.stateNode:null}var va={};function jS(e,r,a,u){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(e,r,a,u){return new jS(e,r,a,u)}function Mf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ni(e,r){var a=e.alternate;return a===null?(a=Qn(e.tag,r,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=r,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,r=e.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function fm(e,r){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=r,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,r=a.dependencies,e.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),e}function ru(e,r,a,u,p,b){var N=0;if(u=e,typeof e=="function")Mf(e)&&(N=1);else if(typeof e=="string")N=GA(e,a,O.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case G:return e=Qn(31,a,r,p),e.elementType=G,e.lanes=b,e;case U:return Ts(a.children,p,b,r);case z:N=8,p|=24;break;case j:return e=Qn(12,a,r,p|2),e.elementType=j,e.lanes=b,e;case re:return e=Qn(13,a,r,p),e.elementType=re,e.lanes=b,e;case oe:return e=Qn(19,a,r,p),e.elementType=oe,e.lanes=b,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case V:N=10;break e;case F:N=9;break e;case $:N=11;break e;case se:N=14;break e;case le:N=16,u=null;break e}N=29,a=Error(i(130,e===null?"null":typeof e,"")),u=null}return r=Qn(N,a,r,p),r.elementType=e,r.type=u,r.lanes=b,r}function Ts(e,r,a,u){return e=Qn(7,e,u,r),e.lanes=a,e}function Uf(e,r,a){return e=Qn(6,e,null,r),e.lanes=a,e}function dm(e){var r=Qn(18,null,null,0);return r.stateNode=e,r}function Df(e,r,a){return r=Qn(4,e.children!==null?e.children:[],e.key,r),r.lanes=a,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}var hm=new WeakMap;function fr(e,r){if(typeof e=="object"&&e!==null){var a=hm.get(e);return a!==void 0?a:(r={value:e,source:r,stack:We(r)},hm.set(e,r),r)}return{value:e,source:r,stack:We(r)}}var Ea=[],Sa=0,iu=null,Mo=0,dr=[],hr=0,Ui=null,Ur=1,Dr="";function ri(e,r){Ea[Sa++]=Mo,Ea[Sa++]=iu,iu=e,Mo=r}function pm(e,r,a){dr[hr++]=Ur,dr[hr++]=Dr,dr[hr++]=Ui,Ui=e;var u=Ur;e=Dr;var p=32-Ue(u)-1;u&=~(1<<p),a+=1;var b=32-Ue(r)+p;if(30<b){var N=p-p%5;b=(u&(1<<N)-1).toString(32),u>>=N,p-=N,Ur=1<<32-Ue(r)+p|a<<p|u,Dr=b+e}else Ur=1<<b|a<<p|u,Dr=e}function Lf(e){e.return!==null&&(ri(e,1),pm(e,1,0))}function zf(e){for(;e===iu;)iu=Ea[--Sa],Ea[Sa]=null,Mo=Ea[--Sa],Ea[Sa]=null;for(;e===Ui;)Ui=dr[--hr],dr[hr]=null,Dr=dr[--hr],dr[hr]=null,Ur=dr[--hr],dr[hr]=null}function mm(e,r){dr[hr++]=Ur,dr[hr++]=Dr,dr[hr++]=Ui,Ur=r.id,Dr=r.overflow,Ui=e}var An=null,Ht=null,ft=!1,Di=null,pr=!1,Hf=Error(i(519));function Li(e){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Uo(fr(r,e)),Hf}function ym(e){var r=e.stateNode,a=e.type,u=e.memoizedProps;switch(r[it]=e,r[lt]=u,a){case"dialog":at("cancel",r),at("close",r);break;case"iframe":case"object":case"embed":at("load",r);break;case"video":case"audio":for(a=0;a<rc.length;a++)at(rc[a],r);break;case"source":at("error",r);break;case"img":case"image":case"link":at("error",r),at("load",r);break;case"details":at("toggle",r);break;case"input":at("invalid",r),Np(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":at("invalid",r);break;case"textarea":at("invalid",r),Ip(r,u.value,u.defaultValue,u.children)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||u.suppressHydrationWarning===!0||B1(r.textContent,a)?(u.popover!=null&&(at("beforetoggle",r),at("toggle",r)),u.onScroll!=null&&at("scroll",r),u.onScrollEnd!=null&&at("scrollend",r),u.onClick!=null&&(r.onclick=ei),r=!0):r=!1,r||Li(e,!0)}function gm(e){for(An=e.return;An;)switch(An.tag){case 5:case 31:case 13:pr=!1;return;case 27:case 3:pr=!0;return;default:An=An.return}}function Aa(e){if(e!==An)return!1;if(!ft)return gm(e),ft=!0,!1;var r=e.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||rh(e.type,e.memoizedProps)),a=!a),a&&Ht&&Li(e),gm(e),r===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));Ht=P1(e)}else if(r===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));Ht=P1(e)}else r===27?(r=Ht,$i(e.type)?(e=ch,ch=null,Ht=e):Ht=r):Ht=An?yr(e.stateNode.nextSibling):null;return!0}function Os(){Ht=An=null,ft=!1}function jf(){var e=Di;return e!==null&&(Gn===null?Gn=e:Gn.push.apply(Gn,e),Di=null),e}function Uo(e){Di===null?Di=[e]:Di.push(e)}var qf=m(null),Ns=null,ii=null;function zi(e,r,a){y(qf,r._currentValue),r._currentValue=a}function si(e){e._currentValue=qf.current,f(qf)}function Pf(e,r,a){for(;e!==null;){var u=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),e===a)break;e=e.return}}function Kf(e,r,a,u){var p=e.child;for(p!==null&&(p.return=e);p!==null;){var b=p.dependencies;if(b!==null){var N=p.child;b=b.firstContext;e:for(;b!==null;){var q=b;b=p;for(var J=0;J<r.length;J++)if(q.context===r[J]){b.lanes|=a,q=b.alternate,q!==null&&(q.lanes|=a),Pf(b.return,a,e),u||(N=null);break e}b=q.next}}else if(p.tag===18){if(N=p.return,N===null)throw Error(i(341));N.lanes|=a,b=N.alternate,b!==null&&(b.lanes|=a),Pf(N,a,e),N=null}else N=p.child;if(N!==null)N.return=p;else for(N=p;N!==null;){if(N===e){N=null;break}if(p=N.sibling,p!==null){p.return=N.return,N=p;break}N=N.return}p=N}}function Ra(e,r,a,u){e=null;for(var p=r,b=!1;p!==null;){if(!b){if((p.flags&524288)!==0)b=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var N=p.alternate;if(N===null)throw Error(i(387));if(N=N.memoizedProps,N!==null){var q=p.type;$n(p.pendingProps.value,N.value)||(e!==null?e.push(q):e=[q])}}else if(p===ne.current){if(N=p.alternate,N===null)throw Error(i(387));N.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(e!==null?e.push(cc):e=[cc])}p=p.return}e!==null&&Kf(r,e,a,u),r.flags|=262144}function su(e){for(e=e.firstContext;e!==null;){if(!$n(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ks(e){Ns=e,ii=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Rn(e){return bm(Ns,e)}function au(e,r){return Ns===null&&ks(e),bm(e,r)}function bm(e,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},ii===null){if(e===null)throw Error(i(308));ii=r,e.dependencies={lanes:0,firstContext:r},e.flags|=524288}else ii=ii.next=r;return a}var qS=typeof AbortController<"u"?AbortController:function(){var e=[],r=this.signal={aborted:!1,addEventListener:function(a,u){e.push(u)}};this.abort=function(){r.aborted=!0,e.forEach(function(a){return a()})}},PS=s.unstable_scheduleCallback,KS=s.unstable_NormalPriority,pn={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vf(){return{controller:new qS,data:new Map,refCount:0}}function Do(e){e.refCount--,e.refCount===0&&PS(KS,function(){e.controller.abort()})}var Lo=null,Gf=0,xa=0,Ta=null;function VS(e,r){if(Lo===null){var a=Lo=[];Gf=0,xa=Zd(),Ta={status:"pending",value:void 0,then:function(u){a.push(u)}}}return Gf++,r.then(wm,wm),r}function wm(){if(--Gf===0&&Lo!==null){Ta!==null&&(Ta.status="fulfilled");var e=Lo;Lo=null,xa=0,Ta=null;for(var r=0;r<e.length;r++)(0,e[r])()}}function GS(e,r){var a=[],u={status:"pending",value:null,reason:null,then:function(p){a.push(p)}};return e.then(function(){u.status="fulfilled",u.value=r;for(var p=0;p<a.length;p++)(0,a[p])(r)},function(p){for(u.status="rejected",u.reason=p,p=0;p<a.length;p++)(0,a[p])(void 0)}),u}var _m=S.S;S.S=function(e,r){r1=He(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&VS(e,r),_m!==null&&_m(e,r)};var Is=m(null);function Ff(){var e=Is.current;return e!==null?e:It.pooledCache}function ou(e,r){r===null?y(Is,Is.current):y(Is,r.pool)}function vm(){var e=Ff();return e===null?null:{parent:pn._currentValue,pool:e}}var Oa=Error(i(460)),Yf=Error(i(474)),cu=Error(i(542)),uu={then:function(){}};function Em(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Sm(e,r,a){switch(a=e[a],a===void 0?e.push(r):a!==r&&(r.then(ei,ei),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,Rm(e),e;default:if(typeof r.status=="string")r.then(ei,ei);else{if(e=It,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=r,e.status="pending",e.then(function(u){if(r.status==="pending"){var p=r;p.status="fulfilled",p.value=u}},function(u){if(r.status==="pending"){var p=r;p.status="rejected",p.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,Rm(e),e}throw Bs=r,Oa}}function Cs(e){try{var r=e._init;return r(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Bs=a,Oa):a}}var Bs=null;function Am(){if(Bs===null)throw Error(i(459));var e=Bs;return Bs=null,e}function Rm(e){if(e===Oa||e===cu)throw Error(i(483))}var Na=null,zo=0;function lu(e){var r=zo;return zo+=1,Na===null&&(Na=[]),Sm(Na,e,r)}function Ho(e,r){r=r.props.ref,e.ref=r!==void 0?r:null}function fu(e,r){throw r.$$typeof===k?Error(i(525)):(e=Object.prototype.toString.call(r),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)))}function xm(e){function r(ae,ee){if(e){var fe=ae.deletions;fe===null?(ae.deletions=[ee],ae.flags|=16):fe.push(ee)}}function a(ae,ee){if(!e)return null;for(;ee!==null;)r(ae,ee),ee=ee.sibling;return null}function u(ae){for(var ee=new Map;ae!==null;)ae.key!==null?ee.set(ae.key,ae):ee.set(ae.index,ae),ae=ae.sibling;return ee}function p(ae,ee){return ae=ni(ae,ee),ae.index=0,ae.sibling=null,ae}function b(ae,ee,fe){return ae.index=fe,e?(fe=ae.alternate,fe!==null?(fe=fe.index,fe<ee?(ae.flags|=67108866,ee):fe):(ae.flags|=67108866,ee)):(ae.flags|=1048576,ee)}function N(ae){return e&&ae.alternate===null&&(ae.flags|=67108866),ae}function q(ae,ee,fe,_e){return ee===null||ee.tag!==6?(ee=Uf(fe,ae.mode,_e),ee.return=ae,ee):(ee=p(ee,fe),ee.return=ae,ee)}function J(ae,ee,fe,_e){var je=fe.type;return je===U?we(ae,ee,fe.props.children,_e,fe.key):ee!==null&&(ee.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===le&&Cs(je)===ee.type)?(ee=p(ee,fe.props),Ho(ee,fe),ee.return=ae,ee):(ee=ru(fe.type,fe.key,fe.props,null,ae.mode,_e),Ho(ee,fe),ee.return=ae,ee)}function de(ae,ee,fe,_e){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==fe.containerInfo||ee.stateNode.implementation!==fe.implementation?(ee=Df(fe,ae.mode,_e),ee.return=ae,ee):(ee=p(ee,fe.children||[]),ee.return=ae,ee)}function we(ae,ee,fe,_e,je){return ee===null||ee.tag!==7?(ee=Ts(fe,ae.mode,_e,je),ee.return=ae,ee):(ee=p(ee,fe),ee.return=ae,ee)}function Ee(ae,ee,fe){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return ee=Uf(""+ee,ae.mode,fe),ee.return=ae,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case R:return fe=ru(ee.type,ee.key,ee.props,null,ae.mode,fe),Ho(fe,ee),fe.return=ae,fe;case M:return ee=Df(ee,ae.mode,fe),ee.return=ae,ee;case le:return ee=Cs(ee),Ee(ae,ee,fe)}if(_(ee)||W(ee))return ee=Ts(ee,ae.mode,fe,null),ee.return=ae,ee;if(typeof ee.then=="function")return Ee(ae,lu(ee),fe);if(ee.$$typeof===V)return Ee(ae,au(ae,ee),fe);fu(ae,ee)}return null}function me(ae,ee,fe,_e){var je=ee!==null?ee.key:null;if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return je!==null?null:q(ae,ee,""+fe,_e);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case R:return fe.key===je?J(ae,ee,fe,_e):null;case M:return fe.key===je?de(ae,ee,fe,_e):null;case le:return fe=Cs(fe),me(ae,ee,fe,_e)}if(_(fe)||W(fe))return je!==null?null:we(ae,ee,fe,_e,null);if(typeof fe.then=="function")return me(ae,ee,lu(fe),_e);if(fe.$$typeof===V)return me(ae,ee,au(ae,fe),_e);fu(ae,fe)}return null}function be(ae,ee,fe,_e,je){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return ae=ae.get(fe)||null,q(ee,ae,""+_e,je);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case R:return ae=ae.get(_e.key===null?fe:_e.key)||null,J(ee,ae,_e,je);case M:return ae=ae.get(_e.key===null?fe:_e.key)||null,de(ee,ae,_e,je);case le:return _e=Cs(_e),be(ae,ee,fe,_e,je)}if(_(_e)||W(_e))return ae=ae.get(fe)||null,we(ee,ae,_e,je,null);if(typeof _e.then=="function")return be(ae,ee,fe,lu(_e),je);if(_e.$$typeof===V)return be(ae,ee,fe,au(ee,_e),je);fu(ee,_e)}return null}function Me(ae,ee,fe,_e){for(var je=null,mt=null,De=ee,et=ee=0,ut=null;De!==null&&et<fe.length;et++){De.index>et?(ut=De,De=null):ut=De.sibling;var yt=me(ae,De,fe[et],_e);if(yt===null){De===null&&(De=ut);break}e&&De&&yt.alternate===null&&r(ae,De),ee=b(yt,ee,et),mt===null?je=yt:mt.sibling=yt,mt=yt,De=ut}if(et===fe.length)return a(ae,De),ft&&ri(ae,et),je;if(De===null){for(;et<fe.length;et++)De=Ee(ae,fe[et],_e),De!==null&&(ee=b(De,ee,et),mt===null?je=De:mt.sibling=De,mt=De);return ft&&ri(ae,et),je}for(De=u(De);et<fe.length;et++)ut=be(De,ae,et,fe[et],_e),ut!==null&&(e&&ut.alternate!==null&&De.delete(ut.key===null?et:ut.key),ee=b(ut,ee,et),mt===null?je=ut:mt.sibling=ut,mt=ut);return e&&De.forEach(function(ns){return r(ae,ns)}),ft&&ri(ae,et),je}function Ge(ae,ee,fe,_e){if(fe==null)throw Error(i(151));for(var je=null,mt=null,De=ee,et=ee=0,ut=null,yt=fe.next();De!==null&&!yt.done;et++,yt=fe.next()){De.index>et?(ut=De,De=null):ut=De.sibling;var ns=me(ae,De,yt.value,_e);if(ns===null){De===null&&(De=ut);break}e&&De&&ns.alternate===null&&r(ae,De),ee=b(ns,ee,et),mt===null?je=ns:mt.sibling=ns,mt=ns,De=ut}if(yt.done)return a(ae,De),ft&&ri(ae,et),je;if(De===null){for(;!yt.done;et++,yt=fe.next())yt=Ee(ae,yt.value,_e),yt!==null&&(ee=b(yt,ee,et),mt===null?je=yt:mt.sibling=yt,mt=yt);return ft&&ri(ae,et),je}for(De=u(De);!yt.done;et++,yt=fe.next())yt=be(De,ae,et,yt.value,_e),yt!==null&&(e&&yt.alternate!==null&&De.delete(yt.key===null?et:yt.key),ee=b(yt,ee,et),mt===null?je=yt:mt.sibling=yt,mt=yt);return e&&De.forEach(function(nR){return r(ae,nR)}),ft&&ri(ae,et),je}function Nt(ae,ee,fe,_e){if(typeof fe=="object"&&fe!==null&&fe.type===U&&fe.key===null&&(fe=fe.props.children),typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case R:e:{for(var je=fe.key;ee!==null;){if(ee.key===je){if(je=fe.type,je===U){if(ee.tag===7){a(ae,ee.sibling),_e=p(ee,fe.props.children),_e.return=ae,ae=_e;break e}}else if(ee.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===le&&Cs(je)===ee.type){a(ae,ee.sibling),_e=p(ee,fe.props),Ho(_e,fe),_e.return=ae,ae=_e;break e}a(ae,ee);break}else r(ae,ee);ee=ee.sibling}fe.type===U?(_e=Ts(fe.props.children,ae.mode,_e,fe.key),_e.return=ae,ae=_e):(_e=ru(fe.type,fe.key,fe.props,null,ae.mode,_e),Ho(_e,fe),_e.return=ae,ae=_e)}return N(ae);case M:e:{for(je=fe.key;ee!==null;){if(ee.key===je)if(ee.tag===4&&ee.stateNode.containerInfo===fe.containerInfo&&ee.stateNode.implementation===fe.implementation){a(ae,ee.sibling),_e=p(ee,fe.children||[]),_e.return=ae,ae=_e;break e}else{a(ae,ee);break}else r(ae,ee);ee=ee.sibling}_e=Df(fe,ae.mode,_e),_e.return=ae,ae=_e}return N(ae);case le:return fe=Cs(fe),Nt(ae,ee,fe,_e)}if(_(fe))return Me(ae,ee,fe,_e);if(W(fe)){if(je=W(fe),typeof je!="function")throw Error(i(150));return fe=je.call(fe),Ge(ae,ee,fe,_e)}if(typeof fe.then=="function")return Nt(ae,ee,lu(fe),_e);if(fe.$$typeof===V)return Nt(ae,ee,au(ae,fe),_e);fu(ae,fe)}return typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint"?(fe=""+fe,ee!==null&&ee.tag===6?(a(ae,ee.sibling),_e=p(ee,fe),_e.return=ae,ae=_e):(a(ae,ee),_e=Uf(fe,ae.mode,_e),_e.return=ae,ae=_e),N(ae)):a(ae,ee)}return function(ae,ee,fe,_e){try{zo=0;var je=Nt(ae,ee,fe,_e);return Na=null,je}catch(De){if(De===Oa||De===cu)throw De;var mt=Qn(29,De,null,ae.mode);return mt.lanes=_e,mt.return=ae,mt}}}var Ms=xm(!0),Tm=xm(!1),Hi=!1;function Zf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xf(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ji(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function qi(e,r,a){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,(_t&2)!==0){var p=u.pending;return p===null?r.next=r:(r.next=p.next,p.next=r),u.pending=r,r=nu(e),lm(e,null,a),r}return tu(e,u,r,a),nu(e)}function jo(e,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var u=r.lanes;u&=e.pendingLanes,a|=u,r.lanes=a,vo(e,a)}}function Wf(e,r){var a=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var p=null,b=null;if(a=a.firstBaseUpdate,a!==null){do{var N={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};b===null?p=b=N:b=b.next=N,a=a.next}while(a!==null);b===null?p=b=r:b=b.next=r}else p=b=r;a={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:b,shared:u.shared,callbacks:u.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=r:e.next=r,a.lastBaseUpdate=r}var $f=!1;function qo(){if($f){var e=Ta;if(e!==null)throw e}}function Po(e,r,a,u){$f=!1;var p=e.updateQueue;Hi=!1;var b=p.firstBaseUpdate,N=p.lastBaseUpdate,q=p.shared.pending;if(q!==null){p.shared.pending=null;var J=q,de=J.next;J.next=null,N===null?b=de:N.next=de,N=J;var we=e.alternate;we!==null&&(we=we.updateQueue,q=we.lastBaseUpdate,q!==N&&(q===null?we.firstBaseUpdate=de:q.next=de,we.lastBaseUpdate=J))}if(b!==null){var Ee=p.baseState;N=0,we=de=J=null,q=b;do{var me=q.lane&-536870913,be=me!==q.lane;if(be?(ct&me)===me:(u&me)===me){me!==0&&me===xa&&($f=!0),we!==null&&(we=we.next={lane:0,tag:q.tag,payload:q.payload,callback:null,next:null});e:{var Me=e,Ge=q;me=r;var Nt=a;switch(Ge.tag){case 1:if(Me=Ge.payload,typeof Me=="function"){Ee=Me.call(Nt,Ee,me);break e}Ee=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=Ge.payload,me=typeof Me=="function"?Me.call(Nt,Ee,me):Me,me==null)break e;Ee=I({},Ee,me);break e;case 2:Hi=!0}}me=q.callback,me!==null&&(e.flags|=64,be&&(e.flags|=8192),be=p.callbacks,be===null?p.callbacks=[me]:be.push(me))}else be={lane:me,tag:q.tag,payload:q.payload,callback:q.callback,next:null},we===null?(de=we=be,J=Ee):we=we.next=be,N|=me;if(q=q.next,q===null){if(q=p.shared.pending,q===null)break;be=q,q=be.next,be.next=null,p.lastBaseUpdate=be,p.shared.pending=null}}while(!0);we===null&&(J=Ee),p.baseState=J,p.firstBaseUpdate=de,p.lastBaseUpdate=we,b===null&&(p.shared.lanes=0),Fi|=N,e.lanes=N,e.memoizedState=Ee}}function Om(e,r){if(typeof e!="function")throw Error(i(191,e));e.call(r)}function Nm(e,r){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Om(a[e],r)}var ka=m(null),du=m(0);function km(e,r){e=pi,y(du,e),y(ka,r),pi=e|r.baseLanes}function Qf(){y(du,pi),y(ka,ka.current)}function Jf(){pi=du.current,f(ka),f(du)}var Jn=m(null),mr=null;function Pi(e){var r=e.alternate;y(ln,ln.current&1),y(Jn,e),mr===null&&(r===null||ka.current!==null||r.memoizedState!==null)&&(mr=e)}function ed(e){y(ln,ln.current),y(Jn,e),mr===null&&(mr=e)}function Im(e){e.tag===22?(y(ln,ln.current),y(Jn,e),mr===null&&(mr=e)):Ki()}function Ki(){y(ln,ln.current),y(Jn,Jn.current)}function er(e){f(Jn),mr===e&&(mr=null),f(ln)}var ln=m(0);function hu(e){for(var r=e;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||ah(a)||oh(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ai=0,Je=null,Tt=null,mn=null,pu=!1,Ia=!1,Us=!1,mu=0,Ko=0,Ca=null,FS=0;function an(){throw Error(i(321))}function td(e,r){if(r===null)return!1;for(var a=0;a<r.length&&a<e.length;a++)if(!$n(e[a],r[a]))return!1;return!0}function nd(e,r,a,u,p,b){return ai=b,Je=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,S.H=e===null||e.memoizedState===null?py:gd,Us=!1,b=a(u,p),Us=!1,Ia&&(b=Bm(r,a,u,p)),Cm(e),b}function Cm(e){S.H=Fo;var r=Tt!==null&&Tt.next!==null;if(ai=0,mn=Tt=Je=null,pu=!1,Ko=0,Ca=null,r)throw Error(i(300));e===null||yn||(e=e.dependencies,e!==null&&su(e)&&(yn=!0))}function Bm(e,r,a,u){Je=e;var p=0;do{if(Ia&&(Ca=null),Ko=0,Ia=!1,25<=p)throw Error(i(301));if(p+=1,mn=Tt=null,e.updateQueue!=null){var b=e.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}S.H=my,b=r(a,u)}while(Ia);return b}function YS(){var e=S.H,r=e.useState()[0];return r=typeof r.then=="function"?Vo(r):r,e=e.useState()[0],(Tt!==null?Tt.memoizedState:null)!==e&&(Je.flags|=1024),r}function rd(){var e=mu!==0;return mu=0,e}function id(e,r,a){r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~a}function sd(e){if(pu){for(e=e.memoizedState;e!==null;){var r=e.queue;r!==null&&(r.pending=null),e=e.next}pu=!1}ai=0,mn=Tt=Je=null,Ia=!1,Ko=mu=0,Ca=null}function Hn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?Je.memoizedState=mn=e:mn=mn.next=e,mn}function fn(){if(Tt===null){var e=Je.alternate;e=e!==null?e.memoizedState:null}else e=Tt.next;var r=mn===null?Je.memoizedState:mn.next;if(r!==null)mn=r,Tt=e;else{if(e===null)throw Je.alternate===null?Error(i(467)):Error(i(310));Tt=e,e={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},mn===null?Je.memoizedState=mn=e:mn=mn.next=e}return mn}function yu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vo(e){var r=Ko;return Ko+=1,Ca===null&&(Ca=[]),e=Sm(Ca,e,r),r=Je,(mn===null?r.memoizedState:mn.next)===null&&(r=r.alternate,S.H=r===null||r.memoizedState===null?py:gd),e}function gu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Vo(e);if(e.$$typeof===V)return Rn(e)}throw Error(i(438,String(e)))}function ad(e){var r=null,a=Je.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var u=Je.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(p){return p.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=yu(),Je.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(e),u=0;u<e;u++)a[u]=Z;return r.index++,a}function oi(e,r){return typeof r=="function"?r(e):r}function bu(e){var r=fn();return od(r,Tt,e)}function od(e,r,a){var u=e.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=a;var p=e.baseQueue,b=u.pending;if(b!==null){if(p!==null){var N=p.next;p.next=b.next,b.next=N}r.baseQueue=p=b,u.pending=null}if(b=e.baseState,p===null)e.memoizedState=b;else{r=p.next;var q=N=null,J=null,de=r,we=!1;do{var Ee=de.lane&-536870913;if(Ee!==de.lane?(ct&Ee)===Ee:(ai&Ee)===Ee){var me=de.revertLane;if(me===0)J!==null&&(J=J.next={lane:0,revertLane:0,gesture:null,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),Ee===xa&&(we=!0);else if((ai&me)===me){de=de.next,me===xa&&(we=!0);continue}else Ee={lane:0,revertLane:de.revertLane,gesture:null,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},J===null?(q=J=Ee,N=b):J=J.next=Ee,Je.lanes|=me,Fi|=me;Ee=de.action,Us&&a(b,Ee),b=de.hasEagerState?de.eagerState:a(b,Ee)}else me={lane:Ee,revertLane:de.revertLane,gesture:de.gesture,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},J===null?(q=J=me,N=b):J=J.next=me,Je.lanes|=Ee,Fi|=Ee;de=de.next}while(de!==null&&de!==r);if(J===null?N=b:J.next=q,!$n(b,e.memoizedState)&&(yn=!0,we&&(a=Ta,a!==null)))throw a;e.memoizedState=b,e.baseState=N,e.baseQueue=J,u.lastRenderedState=b}return p===null&&(u.lanes=0),[e.memoizedState,u.dispatch]}function cd(e){var r=fn(),a=r.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=e;var u=a.dispatch,p=a.pending,b=r.memoizedState;if(p!==null){a.pending=null;var N=p=p.next;do b=e(b,N.action),N=N.next;while(N!==p);$n(b,r.memoizedState)||(yn=!0),r.memoizedState=b,r.baseQueue===null&&(r.baseState=b),a.lastRenderedState=b}return[b,u]}function Mm(e,r,a){var u=Je,p=fn(),b=ft;if(b){if(a===void 0)throw Error(i(407));a=a()}else a=r();var N=!$n((Tt||p).memoizedState,a);if(N&&(p.memoizedState=a,yn=!0),p=p.queue,fd(Lm.bind(null,u,p,e),[e]),p.getSnapshot!==r||N||mn!==null&&mn.memoizedState.tag&1){if(u.flags|=2048,Ba(9,{destroy:void 0},Dm.bind(null,u,p,a,r),null),It===null)throw Error(i(349));b||(ai&127)!==0||Um(u,r,a)}return a}function Um(e,r,a){e.flags|=16384,e={getSnapshot:r,value:a},r=Je.updateQueue,r===null?(r=yu(),Je.updateQueue=r,r.stores=[e]):(a=r.stores,a===null?r.stores=[e]:a.push(e))}function Dm(e,r,a,u){r.value=a,r.getSnapshot=u,zm(r)&&Hm(e)}function Lm(e,r,a){return a(function(){zm(r)&&Hm(e)})}function zm(e){var r=e.getSnapshot;e=e.value;try{var a=r();return!$n(e,a)}catch{return!0}}function Hm(e){var r=xs(e,2);r!==null&&Fn(r,e,2)}function ud(e){var r=Hn();if(typeof e=="function"){var a=e;if(e=a(),Us){Ke(!0);try{a()}finally{Ke(!1)}}}return r.memoizedState=r.baseState=e,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:e},r}function jm(e,r,a,u){return e.baseState=a,od(e,Tt,typeof u=="function"?u:oi)}function ZS(e,r,a,u,p){if(vu(e))throw Error(i(485));if(e=r.action,e!==null){var b={payload:p,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){b.listeners.push(N)}};S.T!==null?a(!0):b.isTransition=!1,u(b),a=r.pending,a===null?(b.next=r.pending=b,qm(r,b)):(b.next=a.next,r.pending=a.next=b)}}function qm(e,r){var a=r.action,u=r.payload,p=e.state;if(r.isTransition){var b=S.T,N={};S.T=N;try{var q=a(p,u),J=S.S;J!==null&&J(N,q),Pm(e,r,q)}catch(de){ld(e,r,de)}finally{b!==null&&N.types!==null&&(b.types=N.types),S.T=b}}else try{b=a(p,u),Pm(e,r,b)}catch(de){ld(e,r,de)}}function Pm(e,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){Km(e,r,u)},function(u){return ld(e,r,u)}):Km(e,r,a)}function Km(e,r,a){r.status="fulfilled",r.value=a,Vm(r),e.state=a,r=e.pending,r!==null&&(a=r.next,a===r?e.pending=null:(a=a.next,r.next=a,qm(e,a)))}function ld(e,r,a){var u=e.pending;if(e.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=a,Vm(r),r=r.next;while(r!==u)}e.action=null}function Vm(e){e=e.listeners;for(var r=0;r<e.length;r++)(0,e[r])()}function Gm(e,r){return r}function Fm(e,r){if(ft){var a=It.formState;if(a!==null){e:{var u=Je;if(ft){if(Ht){t:{for(var p=Ht,b=pr;p.nodeType!==8;){if(!b){p=null;break t}if(p=yr(p.nextSibling),p===null){p=null;break t}}b=p.data,p=b==="F!"||b==="F"?p:null}if(p){Ht=yr(p.nextSibling),u=p.data==="F!";break e}}Li(u)}u=!1}u&&(r=a[0])}}return a=Hn(),a.memoizedState=a.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gm,lastRenderedState:r},a.queue=u,a=fy.bind(null,Je,u),u.dispatch=a,u=ud(!1),b=yd.bind(null,Je,!1,u.queue),u=Hn(),p={state:r,dispatch:null,action:e,pending:null},u.queue=p,a=ZS.bind(null,Je,p,b,a),p.dispatch=a,u.memoizedState=e,[r,a,!1]}function Ym(e){var r=fn();return Zm(r,Tt,e)}function Zm(e,r,a){if(r=od(e,r,Gm)[0],e=bu(oi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Vo(r)}catch(N){throw N===Oa?cu:N}else u=r;r=fn();var p=r.queue,b=p.dispatch;return a!==r.memoizedState&&(Je.flags|=2048,Ba(9,{destroy:void 0},XS.bind(null,p,a),null)),[u,b,e]}function XS(e,r){e.action=r}function Xm(e){var r=fn(),a=Tt;if(a!==null)return Zm(r,a,e);fn(),r=r.memoizedState,a=fn();var u=a.queue.dispatch;return a.memoizedState=e,[r,u,!1]}function Ba(e,r,a,u){return e={tag:e,create:a,deps:u,inst:r,next:null},r=Je.updateQueue,r===null&&(r=yu(),Je.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=e.next=e:(u=a.next,a.next=e,e.next=u,r.lastEffect=e),e}function Wm(){return fn().memoizedState}function wu(e,r,a,u){var p=Hn();Je.flags|=e,p.memoizedState=Ba(1|r,{destroy:void 0},a,u===void 0?null:u)}function _u(e,r,a,u){var p=fn();u=u===void 0?null:u;var b=p.memoizedState.inst;Tt!==null&&u!==null&&td(u,Tt.memoizedState.deps)?p.memoizedState=Ba(r,b,a,u):(Je.flags|=e,p.memoizedState=Ba(1|r,b,a,u))}function $m(e,r){wu(8390656,8,e,r)}function fd(e,r){_u(2048,8,e,r)}function WS(e){Je.flags|=4;var r=Je.updateQueue;if(r===null)r=yu(),Je.updateQueue=r,r.events=[e];else{var a=r.events;a===null?r.events=[e]:a.push(e)}}function Qm(e){var r=fn().memoizedState;return WS({ref:r,nextImpl:e}),function(){if((_t&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function Jm(e,r){return _u(4,2,e,r)}function ey(e,r){return _u(4,4,e,r)}function ty(e,r){if(typeof r=="function"){e=e();var a=r(e);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function ny(e,r,a){a=a!=null?a.concat([e]):null,_u(4,4,ty.bind(null,r,e),a)}function dd(){}function ry(e,r){var a=fn();r=r===void 0?null:r;var u=a.memoizedState;return r!==null&&td(r,u[1])?u[0]:(a.memoizedState=[e,r],e)}function iy(e,r){var a=fn();r=r===void 0?null:r;var u=a.memoizedState;if(r!==null&&td(r,u[1]))return u[0];if(u=e(),Us){Ke(!0);try{e()}finally{Ke(!1)}}return a.memoizedState=[u,r],u}function hd(e,r,a){return a===void 0||(ai&1073741824)!==0&&(ct&261930)===0?e.memoizedState=r:(e.memoizedState=a,e=s1(),Je.lanes|=e,Fi|=e,a)}function sy(e,r,a,u){return $n(a,r)?a:ka.current!==null?(e=hd(e,a,u),$n(e,r)||(yn=!0),e):(ai&42)===0||(ai&1073741824)!==0&&(ct&261930)===0?(yn=!0,e.memoizedState=a):(e=s1(),Je.lanes|=e,Fi|=e,r)}function ay(e,r,a,u,p){var b=C.p;C.p=b!==0&&8>b?b:8;var N=S.T,q={};S.T=q,yd(e,!1,r,a);try{var J=p(),de=S.S;if(de!==null&&de(q,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var we=GS(J,u);Go(e,r,we,rr(e))}else Go(e,r,u,rr(e))}catch(Ee){Go(e,r,{then:function(){},status:"rejected",reason:Ee},rr())}finally{C.p=b,N!==null&&q.types!==null&&(N.types=q.types),S.T=N}}function $S(){}function pd(e,r,a,u){if(e.tag!==5)throw Error(i(476));var p=oy(e).queue;ay(e,p,r,D,a===null?$S:function(){return cy(e),a(u)})}function oy(e){var r=e.memoizedState;if(r!==null)return r;r={memoizedState:D,baseState:D,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:D},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:a},next:null},e.memoizedState=r,e=e.alternate,e!==null&&(e.memoizedState=r),r}function cy(e){var r=oy(e);r.next===null&&(r=e.alternate.memoizedState),Go(e,r.next.queue,{},rr())}function md(){return Rn(cc)}function uy(){return fn().memoizedState}function ly(){return fn().memoizedState}function QS(e){for(var r=e.return;r!==null;){switch(r.tag){case 24:case 3:var a=rr();e=ji(a);var u=qi(r,e,a);u!==null&&(Fn(u,r,a),jo(u,r,a)),r={cache:Vf()},e.payload=r;return}r=r.return}}function JS(e,r,a){var u=rr();a={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},vu(e)?dy(r,a):(a=Bf(e,r,a,u),a!==null&&(Fn(a,e,u),hy(a,r,u)))}function fy(e,r,a){var u=rr();Go(e,r,a,u)}function Go(e,r,a,u){var p={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(vu(e))dy(r,p);else{var b=e.alternate;if(e.lanes===0&&(b===null||b.lanes===0)&&(b=r.lastRenderedReducer,b!==null))try{var N=r.lastRenderedState,q=b(N,a);if(p.hasEagerState=!0,p.eagerState=q,$n(q,N))return tu(e,r,p,0),It===null&&eu(),!1}catch{}if(a=Bf(e,r,p,u),a!==null)return Fn(a,e,u),hy(a,r,u),!0}return!1}function yd(e,r,a,u){if(u={lane:2,revertLane:Zd(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},vu(e)){if(r)throw Error(i(479))}else r=Bf(e,a,u,2),r!==null&&Fn(r,e,2)}function vu(e){var r=e.alternate;return e===Je||r!==null&&r===Je}function dy(e,r){Ia=pu=!0;var a=e.pending;a===null?r.next=r:(r.next=a.next,a.next=r),e.pending=r}function hy(e,r,a){if((a&4194048)!==0){var u=r.lanes;u&=e.pendingLanes,a|=u,r.lanes=a,vo(e,a)}}var Fo={readContext:Rn,use:gu,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useLayoutEffect:an,useInsertionEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useSyncExternalStore:an,useId:an,useHostTransitionStatus:an,useFormState:an,useActionState:an,useOptimistic:an,useMemoCache:an,useCacheRefresh:an};Fo.useEffectEvent=an;var py={readContext:Rn,use:gu,useCallback:function(e,r){return Hn().memoizedState=[e,r===void 0?null:r],e},useContext:Rn,useEffect:$m,useImperativeHandle:function(e,r,a){a=a!=null?a.concat([e]):null,wu(4194308,4,ty.bind(null,r,e),a)},useLayoutEffect:function(e,r){return wu(4194308,4,e,r)},useInsertionEffect:function(e,r){wu(4,2,e,r)},useMemo:function(e,r){var a=Hn();r=r===void 0?null:r;var u=e();if(Us){Ke(!0);try{e()}finally{Ke(!1)}}return a.memoizedState=[u,r],u},useReducer:function(e,r,a){var u=Hn();if(a!==void 0){var p=a(r);if(Us){Ke(!0);try{a(r)}finally{Ke(!1)}}}else p=r;return u.memoizedState=u.baseState=p,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:p},u.queue=e,e=e.dispatch=JS.bind(null,Je,e),[u.memoizedState,e]},useRef:function(e){var r=Hn();return e={current:e},r.memoizedState=e},useState:function(e){e=ud(e);var r=e.queue,a=fy.bind(null,Je,r);return r.dispatch=a,[e.memoizedState,a]},useDebugValue:dd,useDeferredValue:function(e,r){var a=Hn();return hd(a,e,r)},useTransition:function(){var e=ud(!1);return e=ay.bind(null,Je,e.queue,!0,!1),Hn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,r,a){var u=Je,p=Hn();if(ft){if(a===void 0)throw Error(i(407));a=a()}else{if(a=r(),It===null)throw Error(i(349));(ct&127)!==0||Um(u,r,a)}p.memoizedState=a;var b={value:a,getSnapshot:r};return p.queue=b,$m(Lm.bind(null,u,b,e),[e]),u.flags|=2048,Ba(9,{destroy:void 0},Dm.bind(null,u,b,a,r),null),a},useId:function(){var e=Hn(),r=It.identifierPrefix;if(ft){var a=Dr,u=Ur;a=(u&~(1<<32-Ue(u)-1)).toString(32)+a,r="_"+r+"R_"+a,a=mu++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=FS++,r="_"+r+"r_"+a.toString(32)+"_";return e.memoizedState=r},useHostTransitionStatus:md,useFormState:Fm,useActionState:Fm,useOptimistic:function(e){var r=Hn();r.memoizedState=r.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=yd.bind(null,Je,!0,a),a.dispatch=r,[e,r]},useMemoCache:ad,useCacheRefresh:function(){return Hn().memoizedState=QS.bind(null,Je)},useEffectEvent:function(e){var r=Hn(),a={impl:e};return r.memoizedState=a,function(){if((_t&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},gd={readContext:Rn,use:gu,useCallback:ry,useContext:Rn,useEffect:fd,useImperativeHandle:ny,useInsertionEffect:Jm,useLayoutEffect:ey,useMemo:iy,useReducer:bu,useRef:Wm,useState:function(){return bu(oi)},useDebugValue:dd,useDeferredValue:function(e,r){var a=fn();return sy(a,Tt.memoizedState,e,r)},useTransition:function(){var e=bu(oi)[0],r=fn().memoizedState;return[typeof e=="boolean"?e:Vo(e),r]},useSyncExternalStore:Mm,useId:uy,useHostTransitionStatus:md,useFormState:Ym,useActionState:Ym,useOptimistic:function(e,r){var a=fn();return jm(a,Tt,e,r)},useMemoCache:ad,useCacheRefresh:ly};gd.useEffectEvent=Qm;var my={readContext:Rn,use:gu,useCallback:ry,useContext:Rn,useEffect:fd,useImperativeHandle:ny,useInsertionEffect:Jm,useLayoutEffect:ey,useMemo:iy,useReducer:cd,useRef:Wm,useState:function(){return cd(oi)},useDebugValue:dd,useDeferredValue:function(e,r){var a=fn();return Tt===null?hd(a,e,r):sy(a,Tt.memoizedState,e,r)},useTransition:function(){var e=cd(oi)[0],r=fn().memoizedState;return[typeof e=="boolean"?e:Vo(e),r]},useSyncExternalStore:Mm,useId:uy,useHostTransitionStatus:md,useFormState:Xm,useActionState:Xm,useOptimistic:function(e,r){var a=fn();return Tt!==null?jm(a,Tt,e,r):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:ad,useCacheRefresh:ly};my.useEffectEvent=Qm;function bd(e,r,a,u){r=e.memoizedState,a=a(u,r),a=a==null?r:I({},r,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var wd={enqueueSetState:function(e,r,a){e=e._reactInternals;var u=rr(),p=ji(u);p.payload=r,a!=null&&(p.callback=a),r=qi(e,p,u),r!==null&&(Fn(r,e,u),jo(r,e,u))},enqueueReplaceState:function(e,r,a){e=e._reactInternals;var u=rr(),p=ji(u);p.tag=1,p.payload=r,a!=null&&(p.callback=a),r=qi(e,p,u),r!==null&&(Fn(r,e,u),jo(r,e,u))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var a=rr(),u=ji(a);u.tag=2,r!=null&&(u.callback=r),r=qi(e,u,a),r!==null&&(Fn(r,e,a),jo(r,e,a))}};function yy(e,r,a,u,p,b,N){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,b,N):r.prototype&&r.prototype.isPureReactComponent?!Co(a,u)||!Co(p,b):!0}function gy(e,r,a,u){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,u),r.state!==e&&wd.enqueueReplaceState(r,r.state,null)}function Ds(e,r){var a=r;if("ref"in r){a={};for(var u in r)u!=="ref"&&(a[u]=r[u])}if(e=e.defaultProps){a===r&&(a=I({},a));for(var p in e)a[p]===void 0&&(a[p]=e[p])}return a}function by(e){Jc(e)}function wy(e){console.error(e)}function _y(e){Jc(e)}function Eu(e,r){try{var a=e.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function vy(e,r,a){try{var u=e.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function _d(e,r,a){return a=ji(a),a.tag=3,a.payload={element:null},a.callback=function(){Eu(e,r)},a}function Ey(e){return e=ji(e),e.tag=3,e}function Sy(e,r,a,u){var p=a.type.getDerivedStateFromError;if(typeof p=="function"){var b=u.value;e.payload=function(){return p(b)},e.callback=function(){vy(r,a,u)}}var N=a.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(e.callback=function(){vy(r,a,u),typeof p!="function"&&(Yi===null?Yi=new Set([this]):Yi.add(this));var q=u.stack;this.componentDidCatch(u.value,{componentStack:q!==null?q:""})})}function eA(e,r,a,u,p){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=a.alternate,r!==null&&Ra(r,a,p,!0),a=Jn.current,a!==null){switch(a.tag){case 31:case 13:return mr===null?Mu():a.alternate===null&&on===0&&(on=3),a.flags&=-257,a.flags|=65536,a.lanes=p,u===uu?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([u]):r.add(u),Gd(e,u,p)),!1;case 22:return a.flags|=65536,u===uu?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([u]):a.add(u)),Gd(e,u,p)),!1}throw Error(i(435,a.tag))}return Gd(e,u,p),Mu(),!1}if(ft)return r=Jn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=p,u!==Hf&&(e=Error(i(422),{cause:u}),Uo(fr(e,a)))):(u!==Hf&&(r=Error(i(423),{cause:u}),Uo(fr(r,a))),e=e.current.alternate,e.flags|=65536,p&=-p,e.lanes|=p,u=fr(u,a),p=_d(e.stateNode,u,p),Wf(e,p),on!==4&&(on=2)),!1;var b=Error(i(520),{cause:u});if(b=fr(b,a),ec===null?ec=[b]:ec.push(b),on!==4&&(on=2),r===null)return!0;u=fr(u,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,e=p&-p,a.lanes|=e,e=_d(a.stateNode,u,e),Wf(a,e),!1;case 1:if(r=a.type,b=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Yi===null||!Yi.has(b))))return a.flags|=65536,p&=-p,a.lanes|=p,p=Ey(p),Sy(p,e,a,u),Wf(a,p),!1}a=a.return}while(a!==null);return!1}var vd=Error(i(461)),yn=!1;function xn(e,r,a,u){r.child=e===null?Tm(r,null,a,u):Ms(r,e.child,a,u)}function Ay(e,r,a,u,p){a=a.render;var b=r.ref;if("ref"in u){var N={};for(var q in u)q!=="ref"&&(N[q]=u[q])}else N=u;return ks(r),u=nd(e,r,a,N,b,p),q=rd(),e!==null&&!yn?(id(e,r,p),ci(e,r,p)):(ft&&q&&Lf(r),r.flags|=1,xn(e,r,u,p),r.child)}function Ry(e,r,a,u,p){if(e===null){var b=a.type;return typeof b=="function"&&!Mf(b)&&b.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=b,xy(e,r,b,u,p)):(e=ru(a.type,null,u,r,r.mode,p),e.ref=r.ref,e.return=r,r.child=e)}if(b=e.child,!Nd(e,p)){var N=b.memoizedProps;if(a=a.compare,a=a!==null?a:Co,a(N,u)&&e.ref===r.ref)return ci(e,r,p)}return r.flags|=1,e=ni(b,u),e.ref=r.ref,e.return=r,r.child=e}function xy(e,r,a,u,p){if(e!==null){var b=e.memoizedProps;if(Co(b,u)&&e.ref===r.ref)if(yn=!1,r.pendingProps=u=b,Nd(e,p))(e.flags&131072)!==0&&(yn=!0);else return r.lanes=e.lanes,ci(e,r,p)}return Ed(e,r,a,u,p)}function Ty(e,r,a,u){var p=u.children,b=e!==null?e.memoizedState:null;if(e===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(b=b!==null?b.baseLanes|a:a,e!==null){for(u=r.child=e.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~b}else u=0,r.child=null;return Oy(e,r,b,a,u)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},e!==null&&ou(r,b!==null?b.cachePool:null),b!==null?km(r,b):Qf(),Im(r);else return u=r.lanes=536870912,Oy(e,r,b!==null?b.baseLanes|a:a,a,u)}else b!==null?(ou(r,b.cachePool),km(r,b),Ki(),r.memoizedState=null):(e!==null&&ou(r,null),Qf(),Ki());return xn(e,r,p,a),r.child}function Yo(e,r){return e!==null&&e.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Oy(e,r,a,u,p){var b=Ff();return b=b===null?null:{parent:pn._currentValue,pool:b},r.memoizedState={baseLanes:a,cachePool:b},e!==null&&ou(r,null),Qf(),Im(r),e!==null&&Ra(e,r,u,!0),r.childLanes=p,null}function Su(e,r){return r=Ru({mode:r.mode,children:r.children},e.mode),r.ref=e.ref,e.child=r,r.return=e,r}function Ny(e,r,a){return Ms(r,e.child,null,a),e=Su(r,r.pendingProps),e.flags|=2,er(r),r.memoizedState=null,e}function tA(e,r,a){var u=r.pendingProps,p=(r.flags&128)!==0;if(r.flags&=-129,e===null){if(ft){if(u.mode==="hidden")return e=Su(r,u),r.lanes=536870912,Yo(null,e);if(ed(r),(e=Ht)?(e=q1(e,pr),e=e!==null&&e.data==="&"?e:null,e!==null&&(r.memoizedState={dehydrated:e,treeContext:Ui!==null?{id:Ur,overflow:Dr}:null,retryLane:536870912,hydrationErrors:null},a=dm(e),a.return=r,r.child=a,An=r,Ht=null)):e=null,e===null)throw Li(r);return r.lanes=536870912,null}return Su(r,u)}var b=e.memoizedState;if(b!==null){var N=b.dehydrated;if(ed(r),p)if(r.flags&256)r.flags&=-257,r=Ny(e,r,a);else if(r.memoizedState!==null)r.child=e.child,r.flags|=128,r=null;else throw Error(i(558));else if(yn||Ra(e,r,a,!1),p=(a&e.childLanes)!==0,yn||p){if(u=It,u!==null&&(N=Xt(u,a),N!==0&&N!==b.retryLane))throw b.retryLane=N,xs(e,N),Fn(u,e,N),vd;Mu(),r=Ny(e,r,a)}else e=b.treeContext,Ht=yr(N.nextSibling),An=r,ft=!0,Di=null,pr=!1,e!==null&&mm(r,e),r=Su(r,u),r.flags|=4096;return r}return e=ni(e.child,{mode:u.mode,children:u.children}),e.ref=r.ref,r.child=e,e.return=r,e}function Au(e,r){var a=r.ref;if(a===null)e!==null&&e.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(e===null||e.ref!==a)&&(r.flags|=4194816)}}function Ed(e,r,a,u,p){return ks(r),a=nd(e,r,a,u,void 0,p),u=rd(),e!==null&&!yn?(id(e,r,p),ci(e,r,p)):(ft&&u&&Lf(r),r.flags|=1,xn(e,r,a,p),r.child)}function ky(e,r,a,u,p,b){return ks(r),r.updateQueue=null,a=Bm(r,u,a,p),Cm(e),u=rd(),e!==null&&!yn?(id(e,r,b),ci(e,r,b)):(ft&&u&&Lf(r),r.flags|=1,xn(e,r,a,b),r.child)}function Iy(e,r,a,u,p){if(ks(r),r.stateNode===null){var b=va,N=a.contextType;typeof N=="object"&&N!==null&&(b=Rn(N)),b=new a(u,b),r.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=wd,r.stateNode=b,b._reactInternals=r,b=r.stateNode,b.props=u,b.state=r.memoizedState,b.refs={},Zf(r),N=a.contextType,b.context=typeof N=="object"&&N!==null?Rn(N):va,b.state=r.memoizedState,N=a.getDerivedStateFromProps,typeof N=="function"&&(bd(r,a,N,u),b.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(N=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),N!==b.state&&wd.enqueueReplaceState(b,b.state,null),Po(r,u,b,p),qo(),b.state=r.memoizedState),typeof b.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(e===null){b=r.stateNode;var q=r.memoizedProps,J=Ds(a,q);b.props=J;var de=b.context,we=a.contextType;N=va,typeof we=="object"&&we!==null&&(N=Rn(we));var Ee=a.getDerivedStateFromProps;we=typeof Ee=="function"||typeof b.getSnapshotBeforeUpdate=="function",q=r.pendingProps!==q,we||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(q||de!==N)&&gy(r,b,u,N),Hi=!1;var me=r.memoizedState;b.state=me,Po(r,u,b,p),qo(),de=r.memoizedState,q||me!==de||Hi?(typeof Ee=="function"&&(bd(r,a,Ee,u),de=r.memoizedState),(J=Hi||yy(r,a,J,u,me,de,N))?(we||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(r.flags|=4194308)):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=de),b.props=u,b.state=de,b.context=N,u=J):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{b=r.stateNode,Xf(e,r),N=r.memoizedProps,we=Ds(a,N),b.props=we,Ee=r.pendingProps,me=b.context,de=a.contextType,J=va,typeof de=="object"&&de!==null&&(J=Rn(de)),q=a.getDerivedStateFromProps,(de=typeof q=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(N!==Ee||me!==J)&&gy(r,b,u,J),Hi=!1,me=r.memoizedState,b.state=me,Po(r,u,b,p),qo();var be=r.memoizedState;N!==Ee||me!==be||Hi||e!==null&&e.dependencies!==null&&su(e.dependencies)?(typeof q=="function"&&(bd(r,a,q,u),be=r.memoizedState),(we=Hi||yy(r,a,we,u,me,be,J)||e!==null&&e.dependencies!==null&&su(e.dependencies))?(de||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(u,be,J),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(u,be,J)),typeof b.componentDidUpdate=="function"&&(r.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof b.componentDidUpdate!="function"||N===e.memoizedProps&&me===e.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&me===e.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=be),b.props=u,b.state=be,b.context=J,u=we):(typeof b.componentDidUpdate!="function"||N===e.memoizedProps&&me===e.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&me===e.memoizedState||(r.flags|=1024),u=!1)}return b=u,Au(e,r),u=(r.flags&128)!==0,b||u?(b=r.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:b.render(),r.flags|=1,e!==null&&u?(r.child=Ms(r,e.child,null,p),r.child=Ms(r,null,a,p)):xn(e,r,a,p),r.memoizedState=b.state,e=r.child):e=ci(e,r,p),e}function Cy(e,r,a,u){return Os(),r.flags|=256,xn(e,r,a,u),r.child}var Sd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ad(e){return{baseLanes:e,cachePool:vm()}}function Rd(e,r,a){return e=e!==null?e.childLanes&~a:0,r&&(e|=nr),e}function By(e,r,a){var u=r.pendingProps,p=!1,b=(r.flags&128)!==0,N;if((N=b)||(N=e!==null&&e.memoizedState===null?!1:(ln.current&2)!==0),N&&(p=!0,r.flags&=-129),N=(r.flags&32)!==0,r.flags&=-33,e===null){if(ft){if(p?Pi(r):Ki(),(e=Ht)?(e=q1(e,pr),e=e!==null&&e.data!=="&"?e:null,e!==null&&(r.memoizedState={dehydrated:e,treeContext:Ui!==null?{id:Ur,overflow:Dr}:null,retryLane:536870912,hydrationErrors:null},a=dm(e),a.return=r,r.child=a,An=r,Ht=null)):e=null,e===null)throw Li(r);return oh(e)?r.lanes=32:r.lanes=536870912,null}var q=u.children;return u=u.fallback,p?(Ki(),p=r.mode,q=Ru({mode:"hidden",children:q},p),u=Ts(u,p,a,null),q.return=r,u.return=r,q.sibling=u,r.child=q,u=r.child,u.memoizedState=Ad(a),u.childLanes=Rd(e,N,a),r.memoizedState=Sd,Yo(null,u)):(Pi(r),xd(r,q))}var J=e.memoizedState;if(J!==null&&(q=J.dehydrated,q!==null)){if(b)r.flags&256?(Pi(r),r.flags&=-257,r=Td(e,r,a)):r.memoizedState!==null?(Ki(),r.child=e.child,r.flags|=128,r=null):(Ki(),q=u.fallback,p=r.mode,u=Ru({mode:"visible",children:u.children},p),q=Ts(q,p,a,null),q.flags|=2,u.return=r,q.return=r,u.sibling=q,r.child=u,Ms(r,e.child,null,a),u=r.child,u.memoizedState=Ad(a),u.childLanes=Rd(e,N,a),r.memoizedState=Sd,r=Yo(null,u));else if(Pi(r),oh(q)){if(N=q.nextSibling&&q.nextSibling.dataset,N)var de=N.dgst;N=de,u=Error(i(419)),u.stack="",u.digest=N,Uo({value:u,source:null,stack:null}),r=Td(e,r,a)}else if(yn||Ra(e,r,a,!1),N=(a&e.childLanes)!==0,yn||N){if(N=It,N!==null&&(u=Xt(N,a),u!==0&&u!==J.retryLane))throw J.retryLane=u,xs(e,u),Fn(N,e,u),vd;ah(q)||Mu(),r=Td(e,r,a)}else ah(q)?(r.flags|=192,r.child=e.child,r=null):(e=J.treeContext,Ht=yr(q.nextSibling),An=r,ft=!0,Di=null,pr=!1,e!==null&&mm(r,e),r=xd(r,u.children),r.flags|=4096);return r}return p?(Ki(),q=u.fallback,p=r.mode,J=e.child,de=J.sibling,u=ni(J,{mode:"hidden",children:u.children}),u.subtreeFlags=J.subtreeFlags&65011712,de!==null?q=ni(de,q):(q=Ts(q,p,a,null),q.flags|=2),q.return=r,u.return=r,u.sibling=q,r.child=u,Yo(null,u),u=r.child,q=e.child.memoizedState,q===null?q=Ad(a):(p=q.cachePool,p!==null?(J=pn._currentValue,p=p.parent!==J?{parent:J,pool:J}:p):p=vm(),q={baseLanes:q.baseLanes|a,cachePool:p}),u.memoizedState=q,u.childLanes=Rd(e,N,a),r.memoizedState=Sd,Yo(e.child,u)):(Pi(r),a=e.child,e=a.sibling,a=ni(a,{mode:"visible",children:u.children}),a.return=r,a.sibling=null,e!==null&&(N=r.deletions,N===null?(r.deletions=[e],r.flags|=16):N.push(e)),r.child=a,r.memoizedState=null,a)}function xd(e,r){return r=Ru({mode:"visible",children:r},e.mode),r.return=e,e.child=r}function Ru(e,r){return e=Qn(22,e,null,r),e.lanes=0,e}function Td(e,r,a){return Ms(r,e.child,null,a),e=xd(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function My(e,r,a){e.lanes|=r;var u=e.alternate;u!==null&&(u.lanes|=r),Pf(e.return,r,a)}function Od(e,r,a,u,p,b){var N=e.memoizedState;N===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:p,treeForkCount:b}:(N.isBackwards=r,N.rendering=null,N.renderingStartTime=0,N.last=u,N.tail=a,N.tailMode=p,N.treeForkCount=b)}function Uy(e,r,a){var u=r.pendingProps,p=u.revealOrder,b=u.tail;u=u.children;var N=ln.current,q=(N&2)!==0;if(q?(N=N&1|2,r.flags|=128):N&=1,y(ln,N),xn(e,r,u,a),u=ft?Mo:0,!q&&e!==null&&(e.flags&128)!==0)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&My(e,a,r);else if(e.tag===19)My(e,a,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(p){case"forwards":for(a=r.child,p=null;a!==null;)e=a.alternate,e!==null&&hu(e)===null&&(p=a),a=a.sibling;a=p,a===null?(p=r.child,r.child=null):(p=a.sibling,a.sibling=null),Od(r,!1,p,a,b,u);break;case"backwards":case"unstable_legacy-backwards":for(a=null,p=r.child,r.child=null;p!==null;){if(e=p.alternate,e!==null&&hu(e)===null){r.child=p;break}e=p.sibling,p.sibling=a,a=p,p=e}Od(r,!0,a,null,b,u);break;case"together":Od(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function ci(e,r,a){if(e!==null&&(r.dependencies=e.dependencies),Fi|=r.lanes,(a&r.childLanes)===0)if(e!==null){if(Ra(e,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(e!==null&&r.child!==e.child)throw Error(i(153));if(r.child!==null){for(e=r.child,a=ni(e,e.pendingProps),r.child=a,a.return=r;e.sibling!==null;)e=e.sibling,a=a.sibling=ni(e,e.pendingProps),a.return=r;a.sibling=null}return r.child}function Nd(e,r){return(e.lanes&r)!==0?!0:(e=e.dependencies,!!(e!==null&&su(e)))}function nA(e,r,a){switch(r.tag){case 3:ie(r,r.stateNode.containerInfo),zi(r,pn,e.memoizedState.cache),Os();break;case 27:case 5:Ae(r);break;case 4:ie(r,r.stateNode.containerInfo);break;case 10:zi(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,ed(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Pi(r),r.flags|=128,null):(a&r.child.childLanes)!==0?By(e,r,a):(Pi(r),e=ci(e,r,a),e!==null?e.sibling:null);Pi(r);break;case 19:var p=(e.flags&128)!==0;if(u=(a&r.childLanes)!==0,u||(Ra(e,r,a,!1),u=(a&r.childLanes)!==0),p){if(u)return Uy(e,r,a);r.flags|=128}if(p=r.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),y(ln,ln.current),u)break;return null;case 22:return r.lanes=0,Ty(e,r,a,r.pendingProps);case 24:zi(r,pn,e.memoizedState.cache)}return ci(e,r,a)}function Dy(e,r,a){if(e!==null)if(e.memoizedProps!==r.pendingProps)yn=!0;else{if(!Nd(e,a)&&(r.flags&128)===0)return yn=!1,nA(e,r,a);yn=(e.flags&131072)!==0}else yn=!1,ft&&(r.flags&1048576)!==0&&pm(r,Mo,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(e=Cs(r.elementType),r.type=e,typeof e=="function")Mf(e)?(u=Ds(e,u),r.tag=1,r=Iy(null,r,e,u,a)):(r.tag=0,r=Ed(null,r,e,u,a));else{if(e!=null){var p=e.$$typeof;if(p===$){r.tag=11,r=Ay(null,r,e,u,a);break e}else if(p===se){r.tag=14,r=Ry(null,r,e,u,a);break e}}throw r=h(e)||e,Error(i(306,r,""))}}return r;case 0:return Ed(e,r,r.type,r.pendingProps,a);case 1:return u=r.type,p=Ds(u,r.pendingProps),Iy(e,r,u,p,a);case 3:e:{if(ie(r,r.stateNode.containerInfo),e===null)throw Error(i(387));u=r.pendingProps;var b=r.memoizedState;p=b.element,Xf(e,r),Po(r,u,null,a);var N=r.memoizedState;if(u=N.cache,zi(r,pn,u),u!==b.cache&&Kf(r,[pn],a,!0),qo(),u=N.element,b.isDehydrated)if(b={element:u,isDehydrated:!1,cache:N.cache},r.updateQueue.baseState=b,r.memoizedState=b,r.flags&256){r=Cy(e,r,u,a);break e}else if(u!==p){p=fr(Error(i(424)),r),Uo(p),r=Cy(e,r,u,a);break e}else for(e=r.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ht=yr(e.firstChild),An=r,ft=!0,Di=null,pr=!0,a=Tm(r,null,u,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Os(),u===p){r=ci(e,r,a);break e}xn(e,r,u,a)}r=r.child}return r;case 26:return Au(e,r),e===null?(a=Y1(r.type,null,r.pendingProps,null))?r.memoizedState=a:ft||(a=r.type,e=r.pendingProps,u=qu(Y.current).createElement(a),u[it]=r,u[lt]=e,Tn(u,a,e),sn(u),r.stateNode=u):r.memoizedState=Y1(r.type,e.memoizedProps,r.pendingProps,e.memoizedState),null;case 27:return Ae(r),e===null&&ft&&(u=r.stateNode=V1(r.type,r.pendingProps,Y.current),An=r,pr=!0,p=Ht,$i(r.type)?(ch=p,Ht=yr(u.firstChild)):Ht=p),xn(e,r,r.pendingProps.children,a),Au(e,r),e===null&&(r.flags|=4194304),r.child;case 5:return e===null&&ft&&((p=u=Ht)&&(u=CA(u,r.type,r.pendingProps,pr),u!==null?(r.stateNode=u,An=r,Ht=yr(u.firstChild),pr=!1,p=!0):p=!1),p||Li(r)),Ae(r),p=r.type,b=r.pendingProps,N=e!==null?e.memoizedProps:null,u=b.children,rh(p,b)?u=null:N!==null&&rh(p,N)&&(r.flags|=32),r.memoizedState!==null&&(p=nd(e,r,YS,null,null,a),cc._currentValue=p),Au(e,r),xn(e,r,u,a),r.child;case 6:return e===null&&ft&&((e=a=Ht)&&(a=BA(a,r.pendingProps,pr),a!==null?(r.stateNode=a,An=r,Ht=null,e=!0):e=!1),e||Li(r)),null;case 13:return By(e,r,a);case 4:return ie(r,r.stateNode.containerInfo),u=r.pendingProps,e===null?r.child=Ms(r,null,u,a):xn(e,r,u,a),r.child;case 11:return Ay(e,r,r.type,r.pendingProps,a);case 7:return xn(e,r,r.pendingProps,a),r.child;case 8:return xn(e,r,r.pendingProps.children,a),r.child;case 12:return xn(e,r,r.pendingProps.children,a),r.child;case 10:return u=r.pendingProps,zi(r,r.type,u.value),xn(e,r,u.children,a),r.child;case 9:return p=r.type._context,u=r.pendingProps.children,ks(r),p=Rn(p),u=u(p),r.flags|=1,xn(e,r,u,a),r.child;case 14:return Ry(e,r,r.type,r.pendingProps,a);case 15:return xy(e,r,r.type,r.pendingProps,a);case 19:return Uy(e,r,a);case 31:return tA(e,r,a);case 22:return Ty(e,r,a,r.pendingProps);case 24:return ks(r),u=Rn(pn),e===null?(p=Ff(),p===null&&(p=It,b=Vf(),p.pooledCache=b,b.refCount++,b!==null&&(p.pooledCacheLanes|=a),p=b),r.memoizedState={parent:u,cache:p},Zf(r),zi(r,pn,p)):((e.lanes&a)!==0&&(Xf(e,r),Po(r,null,null,a),qo()),p=e.memoizedState,b=r.memoizedState,p.parent!==u?(p={parent:u,cache:u},r.memoizedState=p,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=p),zi(r,pn,u)):(u=b.cache,zi(r,pn,u),u!==p.cache&&Kf(r,[pn],a,!0))),xn(e,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function ui(e){e.flags|=4}function kd(e,r,a,u,p){if((r=(e.mode&32)!==0)&&(r=!1),r){if(e.flags|=16777216,(p&335544128)===p)if(e.stateNode.complete)e.flags|=8192;else if(u1())e.flags|=8192;else throw Bs=uu,Yf}else e.flags&=-16777217}function Ly(e,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Q1(r))if(u1())e.flags|=8192;else throw Bs=uu,Yf}function xu(e,r){r!==null&&(e.flags|=4),e.flags&16384&&(r=e.tag!==22?Yt():536870912,e.lanes|=r,La|=r)}function Zo(e,r){if(!ft)switch(e.tailMode){case"hidden":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function jt(e){var r=e.alternate!==null&&e.alternate.child===e.child,a=0,u=0;if(r)for(var p=e.child;p!==null;)a|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)a|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=u,e.childLanes=a,r}function rA(e,r,a){var u=r.pendingProps;switch(zf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(r),null;case 1:return jt(r),null;case 3:return a=r.stateNode,u=null,e!==null&&(u=e.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),si(pn),he(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Aa(r)?ui(r):e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,jf())),jt(r),null;case 26:var p=r.type,b=r.memoizedState;return e===null?(ui(r),b!==null?(jt(r),Ly(r,b)):(jt(r),kd(r,p,null,u,a))):b?b!==e.memoizedState?(ui(r),jt(r),Ly(r,b)):(jt(r),r.flags&=-16777217):(e=e.memoizedProps,e!==u&&ui(r),jt(r),kd(r,p,e,u,a)),null;case 27:if(Ie(r),a=Y.current,p=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==u&&ui(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return jt(r),null}e=O.current,Aa(r)?ym(r):(e=V1(p,u,a),r.stateNode=e,ui(r))}return jt(r),null;case 5:if(Ie(r),p=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==u&&ui(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return jt(r),null}if(b=O.current,Aa(r))ym(r);else{var N=qu(Y.current);switch(b){case 1:b=N.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:b=N.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":b=N.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":b=N.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":b=N.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof u.is=="string"?N.createElement("select",{is:u.is}):N.createElement("select"),u.multiple?b.multiple=!0:u.size&&(b.size=u.size);break;default:b=typeof u.is=="string"?N.createElement(p,{is:u.is}):N.createElement(p)}}b[it]=r,b[lt]=u;e:for(N=r.child;N!==null;){if(N.tag===5||N.tag===6)b.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===r)break e;for(;N.sibling===null;){if(N.return===null||N.return===r)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}r.stateNode=b;e:switch(Tn(b,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&ui(r)}}return jt(r),kd(r,r.type,e===null?null:e.memoizedProps,r.pendingProps,a),null;case 6:if(e&&r.stateNode!=null)e.memoizedProps!==u&&ui(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(i(166));if(e=Y.current,Aa(r)){if(e=r.stateNode,a=r.memoizedProps,u=null,p=An,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}e[it]=r,e=!!(e.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||B1(e.nodeValue,a)),e||Li(r,!0)}else e=qu(e).createTextNode(u),e[it]=r,r.stateNode=e}return jt(r),null;case 31:if(a=r.memoizedState,e===null||e.memoizedState!==null){if(u=Aa(r),a!==null){if(e===null){if(!u)throw Error(i(318));if(e=r.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[it]=r}else Os(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;jt(r),e=!1}else a=jf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return r.flags&256?(er(r),r):(er(r),null);if((r.flags&128)!==0)throw Error(i(558))}return jt(r),null;case 13:if(u=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(p=Aa(r),u!==null&&u.dehydrated!==null){if(e===null){if(!p)throw Error(i(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[it]=r}else Os(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;jt(r),p=!1}else p=jf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=p),p=!0;if(!p)return r.flags&256?(er(r),r):(er(r),null)}return er(r),(r.flags&128)!==0?(r.lanes=a,r):(a=u!==null,e=e!==null&&e.memoizedState!==null,a&&(u=r.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),b=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(b=u.memoizedState.cachePool.pool),b!==p&&(u.flags|=2048)),a!==e&&a&&(r.child.flags|=8192),xu(r,r.updateQueue),jt(r),null);case 4:return he(),e===null&&Qd(r.stateNode.containerInfo),jt(r),null;case 10:return si(r.type),jt(r),null;case 19:if(f(ln),u=r.memoizedState,u===null)return jt(r),null;if(p=(r.flags&128)!==0,b=u.rendering,b===null)if(p)Zo(u,!1);else{if(on!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(b=hu(e),b!==null){for(r.flags|=128,Zo(u,!1),e=b.updateQueue,r.updateQueue=e,xu(r,e),r.subtreeFlags=0,e=a,a=r.child;a!==null;)fm(a,e),a=a.sibling;return y(ln,ln.current&1|2),ft&&ri(r,u.treeForkCount),r.child}e=e.sibling}u.tail!==null&&He()>Iu&&(r.flags|=128,p=!0,Zo(u,!1),r.lanes=4194304)}else{if(!p)if(e=hu(b),e!==null){if(r.flags|=128,p=!0,e=e.updateQueue,r.updateQueue=e,xu(r,e),Zo(u,!0),u.tail===null&&u.tailMode==="hidden"&&!b.alternate&&!ft)return jt(r),null}else 2*He()-u.renderingStartTime>Iu&&a!==536870912&&(r.flags|=128,p=!0,Zo(u,!1),r.lanes=4194304);u.isBackwards?(b.sibling=r.child,r.child=b):(e=u.last,e!==null?e.sibling=b:r.child=b,u.last=b)}return u.tail!==null?(e=u.tail,u.rendering=e,u.tail=e.sibling,u.renderingStartTime=He(),e.sibling=null,a=ln.current,y(ln,p?a&1|2:a&1),ft&&ri(r,u.treeForkCount),e):(jt(r),null);case 22:case 23:return er(r),Jf(),u=r.memoizedState!==null,e!==null?e.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(a&536870912)!==0&&(r.flags&128)===0&&(jt(r),r.subtreeFlags&6&&(r.flags|=8192)):jt(r),a=r.updateQueue,a!==null&&xu(r,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==a&&(r.flags|=2048),e!==null&&f(Is),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),si(pn),jt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function iA(e,r){switch(zf(r),r.tag){case 1:return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return si(pn),he(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 26:case 27:case 5:return Ie(r),null;case 31:if(r.memoizedState!==null){if(er(r),r.alternate===null)throw Error(i(340));Os()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 13:if(er(r),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Os()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return f(ln),null;case 4:return he(),null;case 10:return si(r.type),null;case 22:case 23:return er(r),Jf(),e!==null&&f(Is),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 24:return si(pn),null;case 25:return null;default:return null}}function zy(e,r){switch(zf(r),r.tag){case 3:si(pn),he();break;case 26:case 27:case 5:Ie(r);break;case 4:he();break;case 31:r.memoizedState!==null&&er(r);break;case 13:er(r);break;case 19:f(ln);break;case 10:si(r.type);break;case 22:case 23:er(r),Jf(),e!==null&&f(Is);break;case 24:si(pn)}}function Xo(e,r){try{var a=r.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var p=u.next;a=p;do{if((a.tag&e)===e){u=void 0;var b=a.create,N=a.inst;u=b(),N.destroy=u}a=a.next}while(a!==p)}}catch(q){St(r,r.return,q)}}function Vi(e,r,a){try{var u=r.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var b=p.next;u=b;do{if((u.tag&e)===e){var N=u.inst,q=N.destroy;if(q!==void 0){N.destroy=void 0,p=r;var J=a,de=q;try{de()}catch(we){St(p,J,we)}}}u=u.next}while(u!==b)}}catch(we){St(r,r.return,we)}}function Hy(e){var r=e.updateQueue;if(r!==null){var a=e.stateNode;try{Nm(r,a)}catch(u){St(e,e.return,u)}}}function jy(e,r,a){a.props=Ds(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(u){St(e,r,u)}}function Wo(e,r){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var u=e.stateNode;break;case 30:u=e.stateNode;break;default:u=e.stateNode}typeof a=="function"?e.refCleanup=a(u):a.current=u}}catch(p){St(e,r,p)}}function Lr(e,r){var a=e.ref,u=e.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(p){St(e,r,p)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(p){St(e,r,p)}else a.current=null}function qy(e){var r=e.type,a=e.memoizedProps,u=e.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(p){St(e,e.return,p)}}function Id(e,r,a){try{var u=e.stateNode;xA(u,e.type,a,r),u[lt]=r}catch(p){St(e,e.return,p)}}function Py(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&$i(e.type)||e.tag===4}function Cd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Py(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&$i(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bd(e,r,a){var u=e.tag;if(u===5||u===6)e=e.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(e),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=ei));else if(u!==4&&(u===27&&$i(e.type)&&(a=e.stateNode,r=null),e=e.child,e!==null))for(Bd(e,r,a),e=e.sibling;e!==null;)Bd(e,r,a),e=e.sibling}function Tu(e,r,a){var u=e.tag;if(u===5||u===6)e=e.stateNode,r?a.insertBefore(e,r):a.appendChild(e);else if(u!==4&&(u===27&&$i(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Tu(e,r,a),e=e.sibling;e!==null;)Tu(e,r,a),e=e.sibling}function Ky(e){var r=e.stateNode,a=e.memoizedProps;try{for(var u=e.type,p=r.attributes;p.length;)r.removeAttributeNode(p[0]);Tn(r,u,a),r[it]=e,r[lt]=a}catch(b){St(e,e.return,b)}}var li=!1,gn=!1,Md=!1,Vy=typeof WeakSet=="function"?WeakSet:Set,vn=null;function sA(e,r){if(e=e.containerInfo,th=Zu,e=nm(e),Tf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var p=u.anchorOffset,b=u.focusNode;u=u.focusOffset;try{a.nodeType,b.nodeType}catch{a=null;break e}var N=0,q=-1,J=-1,de=0,we=0,Ee=e,me=null;t:for(;;){for(var be;Ee!==a||p!==0&&Ee.nodeType!==3||(q=N+p),Ee!==b||u!==0&&Ee.nodeType!==3||(J=N+u),Ee.nodeType===3&&(N+=Ee.nodeValue.length),(be=Ee.firstChild)!==null;)me=Ee,Ee=be;for(;;){if(Ee===e)break t;if(me===a&&++de===p&&(q=N),me===b&&++we===u&&(J=N),(be=Ee.nextSibling)!==null)break;Ee=me,me=Ee.parentNode}Ee=be}a=q===-1||J===-1?null:{start:q,end:J}}else a=null}a=a||{start:0,end:0}}else a=null;for(nh={focusedElem:e,selectionRange:a},Zu=!1,vn=r;vn!==null;)if(r=vn,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,vn=e;else for(;vn!==null;){switch(r=vn,b=r.alternate,e=r.flags,r.tag){case 0:if((e&4)!==0&&(e=r.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)p=e[a],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&b!==null){e=void 0,a=r,p=b.memoizedProps,b=b.memoizedState,u=a.stateNode;try{var Me=Ds(a.type,p);e=u.getSnapshotBeforeUpdate(Me,b),u.__reactInternalSnapshotBeforeUpdate=e}catch(Ge){St(a,a.return,Ge)}}break;case 3:if((e&1024)!==0){if(e=r.stateNode.containerInfo,a=e.nodeType,a===9)sh(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":sh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=r.sibling,e!==null){e.return=r.return,vn=e;break}vn=r.return}}function Gy(e,r,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:di(e,a),u&4&&Xo(5,a);break;case 1:if(di(e,a),u&4)if(e=a.stateNode,r===null)try{e.componentDidMount()}catch(N){St(a,a.return,N)}else{var p=Ds(a.type,r.memoizedProps);r=r.memoizedState;try{e.componentDidUpdate(p,r,e.__reactInternalSnapshotBeforeUpdate)}catch(N){St(a,a.return,N)}}u&64&&Hy(a),u&512&&Wo(a,a.return);break;case 3:if(di(e,a),u&64&&(e=a.updateQueue,e!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Nm(e,r)}catch(N){St(a,a.return,N)}}break;case 27:r===null&&u&4&&Ky(a);case 26:case 5:di(e,a),r===null&&u&4&&qy(a),u&512&&Wo(a,a.return);break;case 12:di(e,a);break;case 31:di(e,a),u&4&&Zy(e,a);break;case 13:di(e,a),u&4&&Xy(e,a),u&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=pA.bind(null,a),MA(e,a))));break;case 22:if(u=a.memoizedState!==null||li,!u){r=r!==null&&r.memoizedState!==null||gn,p=li;var b=gn;li=u,(gn=r)&&!b?hi(e,a,(a.subtreeFlags&8772)!==0):di(e,a),li=p,gn=b}break;case 30:break;default:di(e,a)}}function Fy(e){var r=e.alternate;r!==null&&(e.alternate=null,Fy(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&Es(r)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Gt=null,Pn=!1;function fi(e,r,a){for(a=a.child;a!==null;)Yy(e,r,a),a=a.sibling}function Yy(e,r,a){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(ge,a)}catch{}switch(a.tag){case 26:gn||Lr(a,r),fi(e,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:gn||Lr(a,r);var u=Gt,p=Pn;$i(a.type)&&(Gt=a.stateNode,Pn=!1),fi(e,r,a),sc(a.stateNode),Gt=u,Pn=p;break;case 5:gn||Lr(a,r);case 6:if(u=Gt,p=Pn,Gt=null,fi(e,r,a),Gt=u,Pn=p,Gt!==null)if(Pn)try{(Gt.nodeType===9?Gt.body:Gt.nodeName==="HTML"?Gt.ownerDocument.body:Gt).removeChild(a.stateNode)}catch(b){St(a,r,b)}else try{Gt.removeChild(a.stateNode)}catch(b){St(a,r,b)}break;case 18:Gt!==null&&(Pn?(e=Gt,H1(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ga(e)):H1(Gt,a.stateNode));break;case 4:u=Gt,p=Pn,Gt=a.stateNode.containerInfo,Pn=!0,fi(e,r,a),Gt=u,Pn=p;break;case 0:case 11:case 14:case 15:Vi(2,a,r),gn||Vi(4,a,r),fi(e,r,a);break;case 1:gn||(Lr(a,r),u=a.stateNode,typeof u.componentWillUnmount=="function"&&jy(a,r,u)),fi(e,r,a);break;case 21:fi(e,r,a);break;case 22:gn=(u=gn)||a.memoizedState!==null,fi(e,r,a),gn=u;break;default:fi(e,r,a)}}function Zy(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ga(e)}catch(a){St(r,r.return,a)}}}function Xy(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ga(e)}catch(a){St(r,r.return,a)}}function aA(e){switch(e.tag){case 31:case 13:case 19:var r=e.stateNode;return r===null&&(r=e.stateNode=new Vy),r;case 22:return e=e.stateNode,r=e._retryCache,r===null&&(r=e._retryCache=new Vy),r;default:throw Error(i(435,e.tag))}}function Ou(e,r){var a=aA(e);r.forEach(function(u){if(!a.has(u)){a.add(u);var p=mA.bind(null,e,u);u.then(p,p)}})}function Kn(e,r){var a=r.deletions;if(a!==null)for(var u=0;u<a.length;u++){var p=a[u],b=e,N=r,q=N;e:for(;q!==null;){switch(q.tag){case 27:if($i(q.type)){Gt=q.stateNode,Pn=!1;break e}break;case 5:Gt=q.stateNode,Pn=!1;break e;case 3:case 4:Gt=q.stateNode.containerInfo,Pn=!0;break e}q=q.return}if(Gt===null)throw Error(i(160));Yy(b,N,p),Gt=null,Pn=!1,b=p.alternate,b!==null&&(b.return=null),p.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Wy(r,e),r=r.sibling}var Ar=null;function Wy(e,r){var a=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Kn(r,e),Vn(e),u&4&&(Vi(3,e,e.return),Xo(3,e),Vi(5,e,e.return));break;case 1:Kn(r,e),Vn(e),u&512&&(gn||a===null||Lr(a,a.return)),u&64&&li&&(e=e.updateQueue,e!==null&&(u=e.callbacks,u!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var p=Ar;if(Kn(r,e),Vn(e),u&512&&(gn||a===null||Lr(a,a.return)),u&4){var b=a!==null?a.memoizedState:null;if(u=e.memoizedState,a===null)if(u===null)if(e.stateNode===null){e:{u=e.type,a=e.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":b=p.getElementsByTagName("title")[0],(!b||b[$r]||b[it]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=p.createElement(u),p.head.insertBefore(b,p.querySelector("head > title"))),Tn(b,u,a),b[it]=e,sn(b),u=b;break e;case"link":var N=W1("link","href",p).get(u+(a.href||""));if(N){for(var q=0;q<N.length;q++)if(b=N[q],b.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&b.getAttribute("rel")===(a.rel==null?null:a.rel)&&b.getAttribute("title")===(a.title==null?null:a.title)&&b.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){N.splice(q,1);break t}}b=p.createElement(u),Tn(b,u,a),p.head.appendChild(b);break;case"meta":if(N=W1("meta","content",p).get(u+(a.content||""))){for(q=0;q<N.length;q++)if(b=N[q],b.getAttribute("content")===(a.content==null?null:""+a.content)&&b.getAttribute("name")===(a.name==null?null:a.name)&&b.getAttribute("property")===(a.property==null?null:a.property)&&b.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&b.getAttribute("charset")===(a.charSet==null?null:a.charSet)){N.splice(q,1);break t}}b=p.createElement(u),Tn(b,u,a),p.head.appendChild(b);break;default:throw Error(i(468,u))}b[it]=e,sn(b),u=b}e.stateNode=u}else $1(p,e.type,e.stateNode);else e.stateNode=X1(p,u,e.memoizedProps);else b!==u?(b===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):b.count--,u===null?$1(p,e.type,e.stateNode):X1(p,u,e.memoizedProps)):u===null&&e.stateNode!==null&&Id(e,e.memoizedProps,a.memoizedProps)}break;case 27:Kn(r,e),Vn(e),u&512&&(gn||a===null||Lr(a,a.return)),a!==null&&u&4&&Id(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Kn(r,e),Vn(e),u&512&&(gn||a===null||Lr(a,a.return)),e.flags&32){p=e.stateNode;try{pa(p,"")}catch(Me){St(e,e.return,Me)}}u&4&&e.stateNode!=null&&(p=e.memoizedProps,Id(e,p,a!==null?a.memoizedProps:p)),u&1024&&(Md=!0);break;case 6:if(Kn(r,e),Vn(e),u&4){if(e.stateNode===null)throw Error(i(162));u=e.memoizedProps,a=e.stateNode;try{a.nodeValue=u}catch(Me){St(e,e.return,Me)}}break;case 3:if(Vu=null,p=Ar,Ar=Pu(r.containerInfo),Kn(r,e),Ar=p,Vn(e),u&4&&a!==null&&a.memoizedState.isDehydrated)try{Ga(r.containerInfo)}catch(Me){St(e,e.return,Me)}Md&&(Md=!1,$y(e));break;case 4:u=Ar,Ar=Pu(e.stateNode.containerInfo),Kn(r,e),Vn(e),Ar=u;break;case 12:Kn(r,e),Vn(e);break;case 31:Kn(r,e),Vn(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,Ou(e,u)));break;case 13:Kn(r,e),Vn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ku=He()),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,Ou(e,u)));break;case 22:p=e.memoizedState!==null;var J=a!==null&&a.memoizedState!==null,de=li,we=gn;if(li=de||p,gn=we||J,Kn(r,e),gn=we,li=de,Vn(e),u&8192)e:for(r=e.stateNode,r._visibility=p?r._visibility&-2:r._visibility|1,p&&(a===null||J||li||gn||Ls(e)),a=null,r=e;;){if(r.tag===5||r.tag===26){if(a===null){J=a=r;try{if(b=J.stateNode,p)N=b.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{q=J.stateNode;var Ee=J.memoizedProps.style,me=Ee!=null&&Ee.hasOwnProperty("display")?Ee.display:null;q.style.display=me==null||typeof me=="boolean"?"":(""+me).trim()}}catch(Me){St(J,J.return,Me)}}}else if(r.tag===6){if(a===null){J=r;try{J.stateNode.nodeValue=p?"":J.memoizedProps}catch(Me){St(J,J.return,Me)}}}else if(r.tag===18){if(a===null){J=r;try{var be=J.stateNode;p?j1(be,!0):j1(J.stateNode,!1)}catch(Me){St(J,J.return,Me)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=e.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,Ou(e,a))));break;case 19:Kn(r,e),Vn(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,Ou(e,u)));break;case 30:break;case 21:break;default:Kn(r,e),Vn(e)}}function Vn(e){var r=e.flags;if(r&2){try{for(var a,u=e.return;u!==null;){if(Py(u)){a=u;break}u=u.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var p=a.stateNode,b=Cd(e);Tu(e,b,p);break;case 5:var N=a.stateNode;a.flags&32&&(pa(N,""),a.flags&=-33);var q=Cd(e);Tu(e,q,N);break;case 3:case 4:var J=a.stateNode.containerInfo,de=Cd(e);Bd(e,de,J);break;default:throw Error(i(161))}}catch(we){St(e,e.return,we)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function $y(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var r=e;$y(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),e=e.sibling}}function di(e,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Gy(e,r.alternate,r),r=r.sibling}function Ls(e){for(e=e.child;e!==null;){var r=e;switch(r.tag){case 0:case 11:case 14:case 15:Vi(4,r,r.return),Ls(r);break;case 1:Lr(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&jy(r,r.return,a),Ls(r);break;case 27:sc(r.stateNode);case 26:case 5:Lr(r,r.return),Ls(r);break;case 22:r.memoizedState===null&&Ls(r);break;case 30:Ls(r);break;default:Ls(r)}e=e.sibling}}function hi(e,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,p=e,b=r,N=b.flags;switch(b.tag){case 0:case 11:case 15:hi(p,b,a),Xo(4,b);break;case 1:if(hi(p,b,a),u=b,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(de){St(u,u.return,de)}if(u=b,p=u.updateQueue,p!==null){var q=u.stateNode;try{var J=p.shared.hiddenCallbacks;if(J!==null)for(p.shared.hiddenCallbacks=null,p=0;p<J.length;p++)Om(J[p],q)}catch(de){St(u,u.return,de)}}a&&N&64&&Hy(b),Wo(b,b.return);break;case 27:Ky(b);case 26:case 5:hi(p,b,a),a&&u===null&&N&4&&qy(b),Wo(b,b.return);break;case 12:hi(p,b,a);break;case 31:hi(p,b,a),a&&N&4&&Zy(p,b);break;case 13:hi(p,b,a),a&&N&4&&Xy(p,b);break;case 22:b.memoizedState===null&&hi(p,b,a),Wo(b,b.return);break;case 30:break;default:hi(p,b,a)}r=r.sibling}}function Ud(e,r){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(e=r.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Do(a))}function Dd(e,r){e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&Do(e))}function Rr(e,r,a,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Qy(e,r,a,u),r=r.sibling}function Qy(e,r,a,u){var p=r.flags;switch(r.tag){case 0:case 11:case 15:Rr(e,r,a,u),p&2048&&Xo(9,r);break;case 1:Rr(e,r,a,u);break;case 3:Rr(e,r,a,u),p&2048&&(e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&Do(e)));break;case 12:if(p&2048){Rr(e,r,a,u),e=r.stateNode;try{var b=r.memoizedProps,N=b.id,q=b.onPostCommit;typeof q=="function"&&q(N,r.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(J){St(r,r.return,J)}}else Rr(e,r,a,u);break;case 31:Rr(e,r,a,u);break;case 13:Rr(e,r,a,u);break;case 23:break;case 22:b=r.stateNode,N=r.alternate,r.memoizedState!==null?b._visibility&2?Rr(e,r,a,u):$o(e,r):b._visibility&2?Rr(e,r,a,u):(b._visibility|=2,Ma(e,r,a,u,(r.subtreeFlags&10256)!==0||!1)),p&2048&&Ud(N,r);break;case 24:Rr(e,r,a,u),p&2048&&Dd(r.alternate,r);break;default:Rr(e,r,a,u)}}function Ma(e,r,a,u,p){for(p=p&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var b=e,N=r,q=a,J=u,de=N.flags;switch(N.tag){case 0:case 11:case 15:Ma(b,N,q,J,p),Xo(8,N);break;case 23:break;case 22:var we=N.stateNode;N.memoizedState!==null?we._visibility&2?Ma(b,N,q,J,p):$o(b,N):(we._visibility|=2,Ma(b,N,q,J,p)),p&&de&2048&&Ud(N.alternate,N);break;case 24:Ma(b,N,q,J,p),p&&de&2048&&Dd(N.alternate,N);break;default:Ma(b,N,q,J,p)}r=r.sibling}}function $o(e,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=e,u=r,p=u.flags;switch(u.tag){case 22:$o(a,u),p&2048&&Ud(u.alternate,u);break;case 24:$o(a,u),p&2048&&Dd(u.alternate,u);break;default:$o(a,u)}r=r.sibling}}var Qo=8192;function Ua(e,r,a){if(e.subtreeFlags&Qo)for(e=e.child;e!==null;)Jy(e,r,a),e=e.sibling}function Jy(e,r,a){switch(e.tag){case 26:Ua(e,r,a),e.flags&Qo&&e.memoizedState!==null&&FA(a,Ar,e.memoizedState,e.memoizedProps);break;case 5:Ua(e,r,a);break;case 3:case 4:var u=Ar;Ar=Pu(e.stateNode.containerInfo),Ua(e,r,a),Ar=u;break;case 22:e.memoizedState===null&&(u=e.alternate,u!==null&&u.memoizedState!==null?(u=Qo,Qo=16777216,Ua(e,r,a),Qo=u):Ua(e,r,a));break;default:Ua(e,r,a)}}function e1(e){var r=e.alternate;if(r!==null&&(e=r.child,e!==null)){r.child=null;do r=e.sibling,e.sibling=null,e=r;while(e!==null)}}function Jo(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];vn=u,n1(u,e)}e1(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)t1(e),e=e.sibling}function t1(e){switch(e.tag){case 0:case 11:case 15:Jo(e),e.flags&2048&&Vi(9,e,e.return);break;case 3:Jo(e);break;case 12:Jo(e);break;case 22:var r=e.stateNode;e.memoizedState!==null&&r._visibility&2&&(e.return===null||e.return.tag!==13)?(r._visibility&=-3,Nu(e)):Jo(e);break;default:Jo(e)}}function Nu(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];vn=u,n1(u,e)}e1(e)}for(e=e.child;e!==null;){switch(r=e,r.tag){case 0:case 11:case 15:Vi(8,r,r.return),Nu(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Nu(r));break;default:Nu(r)}e=e.sibling}}function n1(e,r){for(;vn!==null;){var a=vn;switch(a.tag){case 0:case 11:case 15:Vi(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Do(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,vn=u;else e:for(a=e;vn!==null;){u=vn;var p=u.sibling,b=u.return;if(Fy(u),u===a){vn=null;break e}if(p!==null){p.return=b,vn=p;break e}vn=b}}}var oA={getCacheForType:function(e){var r=Rn(pn),a=r.data.get(e);return a===void 0&&(a=e(),r.data.set(e,a)),a},cacheSignal:function(){return Rn(pn).controller.signal}},cA=typeof WeakMap=="function"?WeakMap:Map,_t=0,It=null,st=null,ct=0,Et=0,tr=null,Gi=!1,Da=!1,Ld=!1,pi=0,on=0,Fi=0,zs=0,zd=0,nr=0,La=0,ec=null,Gn=null,Hd=!1,ku=0,r1=0,Iu=1/0,Cu=null,Yi=null,wn=0,Zi=null,za=null,mi=0,jd=0,qd=null,i1=null,tc=0,Pd=null;function rr(){return(_t&2)!==0&&ct!==0?ct&-ct:S.T!==null?Zd():Wt()}function s1(){if(nr===0)if((ct&536870912)===0||ft){var e=Dt;Dt<<=1,(Dt&3932160)===0&&(Dt=262144),nr=e}else nr=536870912;return e=Jn.current,e!==null&&(e.flags|=32),nr}function Fn(e,r,a){(e===It&&(Et===2||Et===9)||e.cancelPendingCommit!==null)&&(Ha(e,0),Xi(e,ct,nr,!1)),Ii(e,a),((_t&2)===0||e!==It)&&(e===It&&((_t&2)===0&&(zs|=a),on===4&&Xi(e,ct,nr,!1)),zr(e))}function a1(e,r,a){if((_t&6)!==0)throw Error(i(327));var u=!a&&(r&127)===0&&(r&e.expiredLanes)===0||Ct(e,r),p=u?fA(e,r):Vd(e,r,!0),b=u;do{if(p===0){Da&&!u&&Xi(e,r,0,!1);break}else{if(a=e.current.alternate,b&&!uA(a)){p=Vd(e,r,!1),b=!1;continue}if(p===2){if(b=r,e.errorRecoveryDisabledLanes&b)var N=0;else N=e.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){r=N;e:{var q=e;p=ec;var J=q.current.memoizedState.isDehydrated;if(J&&(Ha(q,N).flags|=256),N=Vd(q,N,!1),N!==2){if(Ld&&!J){q.errorRecoveryDisabledLanes|=b,zs|=b,p=4;break e}b=Gn,Gn=p,b!==null&&(Gn===null?Gn=b:Gn.push.apply(Gn,b))}p=N}if(b=!1,p!==2)continue}}if(p===1){Ha(e,0),Xi(e,r,0,!0);break}e:{switch(u=e,b=p,b){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:Xi(u,r,nr,!Gi);break e;case 2:Gn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(p=ku+300-He(),10<p)){if(Xi(u,r,nr,!Gi),zt(u,0,!0)!==0)break e;mi=r,u.timeoutHandle=L1(o1.bind(null,u,a,Gn,Cu,Hd,r,nr,zs,La,Gi,b,"Throttled",-0,0),p);break e}o1(u,a,Gn,Cu,Hd,r,nr,zs,La,Gi,b,null,-0,0)}}break}while(!0);zr(e)}function o1(e,r,a,u,p,b,N,q,J,de,we,Ee,me,be){if(e.timeoutHandle=-1,Ee=r.subtreeFlags,Ee&8192||(Ee&16785408)===16785408){Ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ei},Jy(r,b,Ee);var Me=(b&62914560)===b?ku-He():(b&4194048)===b?r1-He():0;if(Me=YA(Ee,Me),Me!==null){mi=b,e.cancelPendingCommit=Me(m1.bind(null,e,r,b,a,u,p,N,q,J,we,Ee,null,me,be)),Xi(e,b,N,!de);return}}m1(e,r,b,a,u,p,N,q,J)}function uA(e){for(var r=e;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var p=a[u],b=p.getSnapshot;p=p.value;try{if(!$n(b(),p))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Xi(e,r,a,u){r&=~zd,r&=~zs,e.suspendedLanes|=r,e.pingedLanes&=~r,u&&(e.warmLanes|=r),u=e.expirationTimes;for(var p=r;0<p;){var b=31-Ue(p),N=1<<b;u[b]=-1,p&=~N}a!==0&&Zt(e,a,r)}function Bu(){return(_t&6)===0?(nc(0),!1):!0}function Kd(){if(st!==null){if(Et===0)var e=st.return;else e=st,ii=Ns=null,sd(e),Na=null,zo=0,e=st;for(;e!==null;)zy(e.alternate,e),e=e.return;st=null}}function Ha(e,r){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,NA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),mi=0,Kd(),It=e,st=a=ni(e.current,null),ct=r,Et=0,tr=null,Gi=!1,Da=Ct(e,r),Ld=!1,La=nr=zd=zs=Fi=on=0,Gn=ec=null,Hd=!1,(r&8)!==0&&(r|=r&32);var u=e.entangledLanes;if(u!==0)for(e=e.entanglements,u&=r;0<u;){var p=31-Ue(u),b=1<<p;r|=e[p],u&=~b}return pi=r,eu(),a}function c1(e,r){Je=null,S.H=Fo,r===Oa||r===cu?(r=Am(),Et=3):r===Yf?(r=Am(),Et=4):Et=r===vd?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,tr=r,st===null&&(on=1,Eu(e,fr(r,e.current)))}function u1(){var e=Jn.current;return e===null?!0:(ct&4194048)===ct?mr===null:(ct&62914560)===ct||(ct&536870912)!==0?e===mr:!1}function l1(){var e=S.H;return S.H=Fo,e===null?Fo:e}function f1(){var e=S.A;return S.A=oA,e}function Mu(){on=4,Gi||(ct&4194048)!==ct&&Jn.current!==null||(Da=!0),(Fi&134217727)===0&&(zs&134217727)===0||It===null||Xi(It,ct,nr,!1)}function Vd(e,r,a){var u=_t;_t|=2;var p=l1(),b=f1();(It!==e||ct!==r)&&(Cu=null,Ha(e,r)),r=!1;var N=on;e:do try{if(Et!==0&&st!==null){var q=st,J=tr;switch(Et){case 8:Kd(),N=6;break e;case 3:case 2:case 9:case 6:Jn.current===null&&(r=!0);var de=Et;if(Et=0,tr=null,ja(e,q,J,de),a&&Da){N=0;break e}break;default:de=Et,Et=0,tr=null,ja(e,q,J,de)}}lA(),N=on;break}catch(we){c1(e,we)}while(!0);return r&&e.shellSuspendCounter++,ii=Ns=null,_t=u,S.H=p,S.A=b,st===null&&(It=null,ct=0,eu()),N}function lA(){for(;st!==null;)d1(st)}function fA(e,r){var a=_t;_t|=2;var u=l1(),p=f1();It!==e||ct!==r?(Cu=null,Iu=He()+500,Ha(e,r)):Da=Ct(e,r);e:do try{if(Et!==0&&st!==null){r=st;var b=tr;t:switch(Et){case 1:Et=0,tr=null,ja(e,r,b,1);break;case 2:case 9:if(Em(b)){Et=0,tr=null,h1(r);break}r=function(){Et!==2&&Et!==9||It!==e||(Et=7),zr(e)},b.then(r,r);break e;case 3:Et=7;break e;case 4:Et=5;break e;case 7:Em(b)?(Et=0,tr=null,h1(r)):(Et=0,tr=null,ja(e,r,b,7));break;case 5:var N=null;switch(st.tag){case 26:N=st.memoizedState;case 5:case 27:var q=st;if(N?Q1(N):q.stateNode.complete){Et=0,tr=null;var J=q.sibling;if(J!==null)st=J;else{var de=q.return;de!==null?(st=de,Uu(de)):st=null}break t}}Et=0,tr=null,ja(e,r,b,5);break;case 6:Et=0,tr=null,ja(e,r,b,6);break;case 8:Kd(),on=6;break e;default:throw Error(i(462))}}dA();break}catch(we){c1(e,we)}while(!0);return ii=Ns=null,S.H=u,S.A=p,_t=a,st!==null?0:(It=null,ct=0,eu(),on)}function dA(){for(;st!==null&&!Ut();)d1(st)}function d1(e){var r=Dy(e.alternate,e,pi);e.memoizedProps=e.pendingProps,r===null?Uu(e):st=r}function h1(e){var r=e,a=r.alternate;switch(r.tag){case 15:case 0:r=ky(a,r,r.pendingProps,r.type,void 0,ct);break;case 11:r=ky(a,r,r.pendingProps,r.type.render,r.ref,ct);break;case 5:sd(r);default:zy(a,r),r=st=fm(r,pi),r=Dy(a,r,pi)}e.memoizedProps=e.pendingProps,r===null?Uu(e):st=r}function ja(e,r,a,u){ii=Ns=null,sd(r),Na=null,zo=0;var p=r.return;try{if(eA(e,p,r,a,ct)){on=1,Eu(e,fr(a,e.current)),st=null;return}}catch(b){if(p!==null)throw st=p,b;on=1,Eu(e,fr(a,e.current)),st=null;return}r.flags&32768?(ft||u===1?e=!0:Da||(ct&536870912)!==0?e=!1:(Gi=e=!0,(u===2||u===9||u===3||u===6)&&(u=Jn.current,u!==null&&u.tag===13&&(u.flags|=16384))),p1(r,e)):Uu(r)}function Uu(e){var r=e;do{if((r.flags&32768)!==0){p1(r,Gi);return}e=r.return;var a=rA(r.alternate,r,pi);if(a!==null){st=a;return}if(r=r.sibling,r!==null){st=r;return}st=r=e}while(r!==null);on===0&&(on=5)}function p1(e,r){do{var a=iA(e.alternate,e);if(a!==null){a.flags&=32767,st=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(e=e.sibling,e!==null)){st=e;return}st=e=a}while(e!==null);on=6,st=null}function m1(e,r,a,u,p,b,N,q,J){e.cancelPendingCommit=null;do Du();while(wn!==0);if((_t&6)!==0)throw Error(i(327));if(r!==null){if(r===e.current)throw Error(i(177));if(b=r.lanes|r.childLanes,b|=Cf,nn(e,a,b,N,q,J),e===It&&(st=It=null,ct=0),za=r,Zi=e,mi=a,jd=b,qd=p,i1=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,yA(A,function(){return _1(),null})):(e.callbackNode=null,e.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=S.T,S.T=null,p=C.p,C.p=2,N=_t,_t|=4;try{sA(e,r,a)}finally{_t=N,C.p=p,S.T=u}}wn=1,y1(),g1(),b1()}}function y1(){if(wn===1){wn=0;var e=Zi,r=za,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=S.T,S.T=null;var u=C.p;C.p=2;var p=_t;_t|=4;try{Wy(r,e);var b=nh,N=nm(e.containerInfo),q=b.focusedElem,J=b.selectionRange;if(N!==q&&q&&q.ownerDocument&&tm(q.ownerDocument.documentElement,q)){if(J!==null&&Tf(q)){var de=J.start,we=J.end;if(we===void 0&&(we=de),"selectionStart"in q)q.selectionStart=de,q.selectionEnd=Math.min(we,q.value.length);else{var Ee=q.ownerDocument||document,me=Ee&&Ee.defaultView||window;if(me.getSelection){var be=me.getSelection(),Me=q.textContent.length,Ge=Math.min(J.start,Me),Nt=J.end===void 0?Ge:Math.min(J.end,Me);!be.extend&&Ge>Nt&&(N=Nt,Nt=Ge,Ge=N);var ae=em(q,Ge),ee=em(q,Nt);if(ae&&ee&&(be.rangeCount!==1||be.anchorNode!==ae.node||be.anchorOffset!==ae.offset||be.focusNode!==ee.node||be.focusOffset!==ee.offset)){var fe=Ee.createRange();fe.setStart(ae.node,ae.offset),be.removeAllRanges(),Ge>Nt?(be.addRange(fe),be.extend(ee.node,ee.offset)):(fe.setEnd(ee.node,ee.offset),be.addRange(fe))}}}}for(Ee=[],be=q;be=be.parentNode;)be.nodeType===1&&Ee.push({element:be,left:be.scrollLeft,top:be.scrollTop});for(typeof q.focus=="function"&&q.focus(),q=0;q<Ee.length;q++){var _e=Ee[q];_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}Zu=!!th,nh=th=null}finally{_t=p,C.p=u,S.T=a}}e.current=r,wn=2}}function g1(){if(wn===2){wn=0;var e=Zi,r=za,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=S.T,S.T=null;var u=C.p;C.p=2;var p=_t;_t|=4;try{Gy(e,r.alternate,r)}finally{_t=p,C.p=u,S.T=a}}wn=3}}function b1(){if(wn===4||wn===3){wn=0,$e();var e=Zi,r=za,a=mi,u=i1;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?wn=5:(wn=0,za=Zi=null,w1(e,e.pendingLanes));var p=e.pendingLanes;if(p===0&&(Yi=null),oa(a),r=r.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(ge,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=S.T,p=C.p,C.p=2,S.T=null;try{for(var b=e.onRecoverableError,N=0;N<u.length;N++){var q=u[N];b(q.value,{componentStack:q.stack})}}finally{S.T=r,C.p=p}}(mi&3)!==0&&Du(),zr(e),p=e.pendingLanes,(a&261930)!==0&&(p&42)!==0?e===Pd?tc++:(tc=0,Pd=e):tc=0,nc(0)}}function w1(e,r){(e.pooledCacheLanes&=r)===0&&(r=e.pooledCache,r!=null&&(e.pooledCache=null,Do(r)))}function Du(){return y1(),g1(),b1(),_1()}function _1(){if(wn!==5)return!1;var e=Zi,r=jd;jd=0;var a=oa(mi),u=S.T,p=C.p;try{C.p=32>a?32:a,S.T=null,a=qd,qd=null;var b=Zi,N=mi;if(wn=0,za=Zi=null,mi=0,(_t&6)!==0)throw Error(i(331));var q=_t;if(_t|=4,t1(b.current),Qy(b,b.current,N,a),_t=q,nc(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(ge,b)}catch{}return!0}finally{C.p=p,S.T=u,w1(e,r)}}function v1(e,r,a){r=fr(a,r),r=_d(e.stateNode,r,2),e=qi(e,r,2),e!==null&&(Ii(e,2),zr(e))}function St(e,r,a){if(e.tag===3)v1(e,e,a);else for(;r!==null;){if(r.tag===3){v1(r,e,a);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Yi===null||!Yi.has(u))){e=fr(a,e),a=Ey(2),u=qi(r,a,2),u!==null&&(Sy(a,u,r,e),Ii(u,2),zr(u));break}}r=r.return}}function Gd(e,r,a){var u=e.pingCache;if(u===null){u=e.pingCache=new cA;var p=new Set;u.set(r,p)}else p=u.get(r),p===void 0&&(p=new Set,u.set(r,p));p.has(a)||(Ld=!0,p.add(a),e=hA.bind(null,e,r,a),r.then(e,e))}function hA(e,r,a){var u=e.pingCache;u!==null&&u.delete(r),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,It===e&&(ct&a)===a&&(on===4||on===3&&(ct&62914560)===ct&&300>He()-ku?(_t&2)===0&&Ha(e,0):zd|=a,La===ct&&(La=0)),zr(e)}function E1(e,r){r===0&&(r=Yt()),e=xs(e,r),e!==null&&(Ii(e,r),zr(e))}function pA(e){var r=e.memoizedState,a=0;r!==null&&(a=r.retryLane),E1(e,a)}function mA(e,r){var a=0;switch(e.tag){case 31:case 13:var u=e.stateNode,p=e.memoizedState;p!==null&&(a=p.retryLane);break;case 19:u=e.stateNode;break;case 22:u=e.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(r),E1(e,a)}function yA(e,r){return bt(e,r)}var Lu=null,qa=null,Fd=!1,zu=!1,Yd=!1,Wi=0;function zr(e){e!==qa&&e.next===null&&(qa===null?Lu=qa=e:qa=qa.next=e),zu=!0,Fd||(Fd=!0,bA())}function nc(e,r){if(!Yd&&zu){Yd=!0;do for(var a=!1,u=Lu;u!==null;){if(e!==0){var p=u.pendingLanes;if(p===0)var b=0;else{var N=u.suspendedLanes,q=u.pingedLanes;b=(1<<31-Ue(42|e)+1)-1,b&=p&~(N&~q),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(a=!0,x1(u,b))}else b=ct,b=zt(u,u===It?b:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(b&3)===0||Ct(u,b)||(a=!0,x1(u,b));u=u.next}while(a);Yd=!1}}function gA(){S1()}function S1(){zu=Fd=!1;var e=0;Wi!==0&&OA()&&(e=Wi);for(var r=He(),a=null,u=Lu;u!==null;){var p=u.next,b=A1(u,r);b===0?(u.next=null,a===null?Lu=p:a.next=p,p===null&&(qa=a)):(a=u,(e!==0||(b&3)!==0)&&(zu=!0)),u=p}wn!==0&&wn!==5||nc(e),Wi!==0&&(Wi=0)}function A1(e,r){for(var a=e.suspendedLanes,u=e.pingedLanes,p=e.expirationTimes,b=e.pendingLanes&-62914561;0<b;){var N=31-Ue(b),q=1<<N,J=p[N];J===-1?((q&a)===0||(q&u)!==0)&&(p[N]=Vc(q,r)):J<=r&&(e.expiredLanes|=q),b&=~q}if(r=It,a=ct,a=zt(e,e===r?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u=e.callbackNode,a===0||e===r&&(Et===2||Et===9)||e.cancelPendingCommit!==null)return u!==null&&u!==null&&Ye(u),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ct(e,a)){if(r=a&-a,r===e.callbackPriority)return r;switch(u!==null&&Ye(u),oa(a)){case 2:case 8:a=H;break;case 32:a=A;break;case 268435456:a=P;break;default:a=A}return u=R1.bind(null,e),a=bt(a,u),e.callbackPriority=r,e.callbackNode=a,r}return u!==null&&u!==null&&Ye(u),e.callbackPriority=2,e.callbackNode=null,2}function R1(e,r){if(wn!==0&&wn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Du()&&e.callbackNode!==a)return null;var u=ct;return u=zt(e,e===It?u:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u===0?null:(a1(e,u,r),A1(e,He()),e.callbackNode!=null&&e.callbackNode===a?R1.bind(null,e):null)}function x1(e,r){if(Du())return null;a1(e,r,!0)}function bA(){kA(function(){(_t&6)!==0?bt(wt,gA):S1()})}function Zd(){if(Wi===0){var e=xa;e===0&&(e=vs,vs<<=1,(vs&261888)===0&&(vs=256)),Wi=e}return Wi}function T1(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Fc(""+e)}function O1(e,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,e.id&&a.setAttribute("form",e.id),r.parentNode.insertBefore(a,r),e=new FormData(e),a.parentNode.removeChild(a),e}function wA(e,r,a,u,p){if(r==="submit"&&a&&a.stateNode===p){var b=T1((p[lt]||null).action),N=u.submitter;N&&(r=(r=N[lt]||null)?T1(r.formAction):N.getAttribute("formAction"),r!==null&&(b=r,N=null));var q=new Wc("action","action",null,u,p);e.push({event:q,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Wi!==0){var J=N?O1(p,N):new FormData(p);pd(a,{pending:!0,data:J,method:p.method,action:b},null,J)}}else typeof b=="function"&&(q.preventDefault(),J=N?O1(p,N):new FormData(p),pd(a,{pending:!0,data:J,method:p.method,action:b},b,J))},currentTarget:p}]})}}for(var Xd=0;Xd<If.length;Xd++){var Wd=If[Xd],_A=Wd.toLowerCase(),vA=Wd[0].toUpperCase()+Wd.slice(1);Sr(_A,"on"+vA)}Sr(sm,"onAnimationEnd"),Sr(am,"onAnimationIteration"),Sr(om,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(LS,"onTransitionRun"),Sr(zS,"onTransitionStart"),Sr(HS,"onTransitionCancel"),Sr(cm,"onTransitionEnd"),Mr("onMouseEnter",["mouseout","mouseover"]),Mr("onMouseLeave",["mouseout","mouseover"]),Mr("onPointerEnter",["pointerout","pointerover"]),Mr("onPointerLeave",["pointerout","pointerover"]),Er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Er("onBeforeInput",["compositionend","keypress","textInput","paste"]),Er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rc));function N1(e,r){r=(r&4)!==0;for(var a=0;a<e.length;a++){var u=e[a],p=u.event;u=u.listeners;e:{var b=void 0;if(r)for(var N=u.length-1;0<=N;N--){var q=u[N],J=q.instance,de=q.currentTarget;if(q=q.listener,J!==b&&p.isPropagationStopped())break e;b=q,p.currentTarget=de;try{b(p)}catch(we){Jc(we)}p.currentTarget=null,b=J}else for(N=0;N<u.length;N++){if(q=u[N],J=q.instance,de=q.currentTarget,q=q.listener,J!==b&&p.isPropagationStopped())break e;b=q,p.currentTarget=de;try{b(p)}catch(we){Jc(we)}p.currentTarget=null,b=J}}}}function at(e,r){var a=r[Vt];a===void 0&&(a=r[Vt]=new Set);var u=e+"__bubble";a.has(u)||(k1(r,e,2,!1),a.add(u))}function $d(e,r,a){var u=0;r&&(u|=4),k1(a,e,u,r)}var Hu="_reactListening"+Math.random().toString(36).slice(2);function Qd(e){if(!e[Hu]){e[Hu]=!0,ua.forEach(function(a){a!=="selectionchange"&&(EA.has(a)||$d(a,!1,e),$d(a,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[Hu]||(r[Hu]=!0,$d("selectionchange",!1,r))}}function k1(e,r,a,u){switch(sg(r)){case 2:var p=WA;break;case 8:p=$A;break;default:p=hh}a=p.bind(null,r,a,e),p=void 0,!bf||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(p=!0),u?p!==void 0?e.addEventListener(r,a,{capture:!0,passive:p}):e.addEventListener(r,a,!0):p!==void 0?e.addEventListener(r,a,{passive:p}):e.addEventListener(r,a,!1)}function Jd(e,r,a,u,p){var b=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var N=u.tag;if(N===3||N===4){var q=u.stateNode.containerInfo;if(q===p)break;if(N===4)for(N=u.return;N!==null;){var J=N.tag;if((J===3||J===4)&&N.stateNode.containerInfo===p)return;N=N.return}for(;q!==null;){if(N=Ir(q),N===null)return;if(J=N.tag,J===5||J===6||J===26||J===27){u=b=N;continue e}q=q.parentNode}}u=u.return}Up(function(){var de=b,we=yf(a),Ee=[];e:{var me=um.get(e);if(me!==void 0){var be=Wc,Me=e;switch(e){case"keypress":if(Zc(a)===0)break e;case"keydown":case"keyup":be=mS;break;case"focusin":Me="focus",be=Ef;break;case"focusout":Me="blur",be=Ef;break;case"beforeblur":case"afterblur":be=Ef;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":be=zp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":be=rS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":be=bS;break;case sm:case am:case om:be=aS;break;case cm:be=_S;break;case"scroll":case"scrollend":be=tS;break;case"wheel":be=ES;break;case"copy":case"cut":case"paste":be=cS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":be=jp;break;case"toggle":case"beforetoggle":be=AS}var Ge=(r&4)!==0,Nt=!Ge&&(e==="scroll"||e==="scrollend"),ae=Ge?me!==null?me+"Capture":null:me;Ge=[];for(var ee=de,fe;ee!==null;){var _e=ee;if(fe=_e.stateNode,_e=_e.tag,_e!==5&&_e!==26&&_e!==27||fe===null||ae===null||(_e=Ro(ee,ae),_e!=null&&Ge.push(ic(ee,_e,fe))),Nt)break;ee=ee.return}0<Ge.length&&(me=new be(me,Me,null,a,we),Ee.push({event:me,listeners:Ge}))}}if((r&7)===0){e:{if(me=e==="mouseover"||e==="pointerover",be=e==="mouseout"||e==="pointerout",me&&a!==mf&&(Me=a.relatedTarget||a.fromElement)&&(Ir(Me)||Me[Wr]))break e;if((be||me)&&(me=we.window===we?we:(me=we.ownerDocument)?me.defaultView||me.parentWindow:window,be?(Me=a.relatedTarget||a.toElement,be=de,Me=Me?Ir(Me):null,Me!==null&&(Nt=o(Me),Ge=Me.tag,Me!==Nt||Ge!==5&&Ge!==27&&Ge!==6)&&(Me=null)):(be=null,Me=de),be!==Me)){if(Ge=zp,_e="onMouseLeave",ae="onMouseEnter",ee="mouse",(e==="pointerout"||e==="pointerover")&&(Ge=jp,_e="onPointerLeave",ae="onPointerEnter",ee="pointer"),Nt=be==null?me:Qr(be),fe=Me==null?me:Qr(Me),me=new Ge(_e,ee+"leave",be,a,we),me.target=Nt,me.relatedTarget=fe,_e=null,Ir(we)===de&&(Ge=new Ge(ae,ee+"enter",Me,a,we),Ge.target=fe,Ge.relatedTarget=Nt,_e=Ge),Nt=_e,be&&Me)t:{for(Ge=SA,ae=be,ee=Me,fe=0,_e=ae;_e;_e=Ge(_e))fe++;_e=0;for(var je=ee;je;je=Ge(je))_e++;for(;0<fe-_e;)ae=Ge(ae),fe--;for(;0<_e-fe;)ee=Ge(ee),_e--;for(;fe--;){if(ae===ee||ee!==null&&ae===ee.alternate){Ge=ae;break t}ae=Ge(ae),ee=Ge(ee)}Ge=null}else Ge=null;be!==null&&I1(Ee,me,be,Ge,!1),Me!==null&&Nt!==null&&I1(Ee,Nt,Me,Ge,!0)}}e:{if(me=de?Qr(de):window,be=me.nodeName&&me.nodeName.toLowerCase(),be==="select"||be==="input"&&me.type==="file")var mt=Zp;else if(Fp(me))if(Xp)mt=MS;else{mt=CS;var De=IS}else be=me.nodeName,!be||be.toLowerCase()!=="input"||me.type!=="checkbox"&&me.type!=="radio"?de&&pf(de.elementType)&&(mt=Zp):mt=BS;if(mt&&(mt=mt(e,de))){Yp(Ee,mt,a,we);break e}De&&De(e,me,de),e==="focusout"&&de&&me.type==="number"&&de.memoizedProps.value!=null&&hf(me,"number",me.value)}switch(De=de?Qr(de):window,e){case"focusin":(Fp(De)||De.contentEditable==="true")&&(ba=De,Of=de,Bo=null);break;case"focusout":Bo=Of=ba=null;break;case"mousedown":Nf=!0;break;case"contextmenu":case"mouseup":case"dragend":Nf=!1,rm(Ee,a,we);break;case"selectionchange":if(DS)break;case"keydown":case"keyup":rm(Ee,a,we)}var et;if(Af)e:{switch(e){case"compositionstart":var ut="onCompositionStart";break e;case"compositionend":ut="onCompositionEnd";break e;case"compositionupdate":ut="onCompositionUpdate";break e}ut=void 0}else ga?Vp(e,a)&&(ut="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ut="onCompositionStart");ut&&(qp&&a.locale!=="ko"&&(ga||ut!=="onCompositionStart"?ut==="onCompositionEnd"&&ga&&(et=Dp()):(Mi=we,wf="value"in Mi?Mi.value:Mi.textContent,ga=!0)),De=ju(de,ut),0<De.length&&(ut=new Hp(ut,e,null,a,we),Ee.push({event:ut,listeners:De}),et?ut.data=et:(et=Gp(a),et!==null&&(ut.data=et)))),(et=xS?TS(e,a):OS(e,a))&&(ut=ju(de,"onBeforeInput"),0<ut.length&&(De=new Hp("onBeforeInput","beforeinput",null,a,we),Ee.push({event:De,listeners:ut}),De.data=et)),wA(Ee,e,de,a,we)}N1(Ee,r)})}function ic(e,r,a){return{instance:e,listener:r,currentTarget:a}}function ju(e,r){for(var a=r+"Capture",u=[];e!==null;){var p=e,b=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||b===null||(p=Ro(e,a),p!=null&&u.unshift(ic(e,p,b)),p=Ro(e,r),p!=null&&u.push(ic(e,p,b))),e.tag===3)return u;e=e.return}return[]}function SA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function I1(e,r,a,u,p){for(var b=r._reactName,N=[];a!==null&&a!==u;){var q=a,J=q.alternate,de=q.stateNode;if(q=q.tag,J!==null&&J===u)break;q!==5&&q!==26&&q!==27||de===null||(J=de,p?(de=Ro(a,b),de!=null&&N.unshift(ic(a,de,J))):p||(de=Ro(a,b),de!=null&&N.push(ic(a,de,J)))),a=a.return}N.length!==0&&e.push({event:r,listeners:N})}var AA=/\r\n?/g,RA=/\u0000|\uFFFD/g;function C1(e){return(typeof e=="string"?e:""+e).replace(AA,`
`).replace(RA,"")}function B1(e,r){return r=C1(r),C1(e)===r}function Ot(e,r,a,u,p,b){switch(a){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||pa(e,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&pa(e,""+u);break;case"className":Bi(e,"class",u);break;case"tabIndex":Bi(e,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Bi(e,a,u);break;case"style":Bp(e,u,b);break;case"data":if(r!=="object"){Bi(e,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||a!=="href")){e.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(a);break}u=Fc(""+u),e.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(a==="formAction"?(r!=="input"&&Ot(e,r,"name",p.name,p,null),Ot(e,r,"formEncType",p.formEncType,p,null),Ot(e,r,"formMethod",p.formMethod,p,null),Ot(e,r,"formTarget",p.formTarget,p,null)):(Ot(e,r,"encType",p.encType,p,null),Ot(e,r,"method",p.method,p,null),Ot(e,r,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(a);break}u=Fc(""+u),e.setAttribute(a,u);break;case"onClick":u!=null&&(e.onclick=ei);break;case"onScroll":u!=null&&at("scroll",e);break;case"onScrollEnd":u!=null&&at("scrollend",e);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(a=u.__html,a!=null){if(p.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"multiple":e.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":e.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){e.removeAttribute("xlink:href");break}a=Fc(""+u),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(a,""+u):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":u===!0?e.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(a,u):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?e.setAttribute(a,u):e.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?e.removeAttribute(a):e.setAttribute(a,u);break;case"popover":at("beforetoggle",e),at("toggle",e),Ci(e,"popover",u);break;case"xlinkActuate":Jr(e,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Jr(e,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Jr(e,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Jr(e,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Jr(e,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Jr(e,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Jr(e,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Jr(e,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Jr(e,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ci(e,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=JE.get(a)||a,Ci(e,a,u))}}function eh(e,r,a,u,p,b){switch(a){case"style":Bp(e,u,b);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(a=u.__html,a!=null){if(p.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"children":typeof u=="string"?pa(e,u):(typeof u=="number"||typeof u=="bigint")&&pa(e,""+u);break;case"onScroll":u!=null&&at("scroll",e);break;case"onScrollEnd":u!=null&&at("scrollend",e);break;case"onClick":u!=null&&(e.onclick=ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!la.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(p=a.endsWith("Capture"),r=a.slice(2,p?a.length-7:void 0),b=e[lt]||null,b=b!=null?b[a]:null,typeof b=="function"&&e.removeEventListener(r,b,p),typeof u=="function")){typeof b!="function"&&b!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(r,u,p);break e}a in e?e[a]=u:u===!0?e.setAttribute(a,""):Ci(e,a,u)}}}function Tn(e,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":at("error",e),at("load",e);var u=!1,p=!1,b;for(b in a)if(a.hasOwnProperty(b)){var N=a[b];if(N!=null)switch(b){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Ot(e,r,b,N,a,null)}}p&&Ot(e,r,"srcSet",a.srcSet,a,null),u&&Ot(e,r,"src",a.src,a,null);return;case"input":at("invalid",e);var q=b=N=p=null,J=null,de=null;for(u in a)if(a.hasOwnProperty(u)){var we=a[u];if(we!=null)switch(u){case"name":p=we;break;case"type":N=we;break;case"checked":J=we;break;case"defaultChecked":de=we;break;case"value":b=we;break;case"defaultValue":q=we;break;case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(i(137,r));break;default:Ot(e,r,u,we,a,null)}}Np(e,b,q,J,de,N,p,!1);return;case"select":at("invalid",e),u=N=b=null;for(p in a)if(a.hasOwnProperty(p)&&(q=a[p],q!=null))switch(p){case"value":b=q;break;case"defaultValue":N=q;break;case"multiple":u=q;default:Ot(e,r,p,q,a,null)}r=b,a=N,e.multiple=!!u,r!=null?ha(e,!!u,r,!1):a!=null&&ha(e,!!u,a,!0);return;case"textarea":at("invalid",e),b=p=u=null;for(N in a)if(a.hasOwnProperty(N)&&(q=a[N],q!=null))switch(N){case"value":u=q;break;case"defaultValue":p=q;break;case"children":b=q;break;case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(91));break;default:Ot(e,r,N,q,a,null)}Ip(e,u,p,b);return;case"option":for(J in a)a.hasOwnProperty(J)&&(u=a[J],u!=null)&&(J==="selected"?e.selected=u&&typeof u!="function"&&typeof u!="symbol":Ot(e,r,J,u,a,null));return;case"dialog":at("beforetoggle",e),at("toggle",e),at("cancel",e),at("close",e);break;case"iframe":case"object":at("load",e);break;case"video":case"audio":for(u=0;u<rc.length;u++)at(rc[u],e);break;case"image":at("error",e),at("load",e);break;case"details":at("toggle",e);break;case"embed":case"source":case"link":at("error",e),at("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(de in a)if(a.hasOwnProperty(de)&&(u=a[de],u!=null))switch(de){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Ot(e,r,de,u,a,null)}return;default:if(pf(r)){for(we in a)a.hasOwnProperty(we)&&(u=a[we],u!==void 0&&eh(e,r,we,u,a,void 0));return}}for(q in a)a.hasOwnProperty(q)&&(u=a[q],u!=null&&Ot(e,r,q,u,a,null))}function xA(e,r,a,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,b=null,N=null,q=null,J=null,de=null,we=null;for(be in a){var Ee=a[be];if(a.hasOwnProperty(be)&&Ee!=null)switch(be){case"checked":break;case"value":break;case"defaultValue":J=Ee;default:u.hasOwnProperty(be)||Ot(e,r,be,null,u,Ee)}}for(var me in u){var be=u[me];if(Ee=a[me],u.hasOwnProperty(me)&&(be!=null||Ee!=null))switch(me){case"type":b=be;break;case"name":p=be;break;case"checked":de=be;break;case"defaultChecked":we=be;break;case"value":N=be;break;case"defaultValue":q=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(i(137,r));break;default:be!==Ee&&Ot(e,r,me,be,u,Ee)}}df(e,N,q,J,de,we,b,p);return;case"select":be=N=q=me=null;for(b in a)if(J=a[b],a.hasOwnProperty(b)&&J!=null)switch(b){case"value":break;case"multiple":be=J;default:u.hasOwnProperty(b)||Ot(e,r,b,null,u,J)}for(p in u)if(b=u[p],J=a[p],u.hasOwnProperty(p)&&(b!=null||J!=null))switch(p){case"value":me=b;break;case"defaultValue":q=b;break;case"multiple":N=b;default:b!==J&&Ot(e,r,p,b,u,J)}r=q,a=N,u=be,me!=null?ha(e,!!a,me,!1):!!u!=!!a&&(r!=null?ha(e,!!a,r,!0):ha(e,!!a,a?[]:"",!1));return;case"textarea":be=me=null;for(q in a)if(p=a[q],a.hasOwnProperty(q)&&p!=null&&!u.hasOwnProperty(q))switch(q){case"value":break;case"children":break;default:Ot(e,r,q,null,u,p)}for(N in u)if(p=u[N],b=a[N],u.hasOwnProperty(N)&&(p!=null||b!=null))switch(N){case"value":me=p;break;case"defaultValue":be=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==b&&Ot(e,r,N,p,u,b)}kp(e,me,be);return;case"option":for(var Me in a)me=a[Me],a.hasOwnProperty(Me)&&me!=null&&!u.hasOwnProperty(Me)&&(Me==="selected"?e.selected=!1:Ot(e,r,Me,null,u,me));for(J in u)me=u[J],be=a[J],u.hasOwnProperty(J)&&me!==be&&(me!=null||be!=null)&&(J==="selected"?e.selected=me&&typeof me!="function"&&typeof me!="symbol":Ot(e,r,J,me,u,be));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ge in a)me=a[Ge],a.hasOwnProperty(Ge)&&me!=null&&!u.hasOwnProperty(Ge)&&Ot(e,r,Ge,null,u,me);for(de in u)if(me=u[de],be=a[de],u.hasOwnProperty(de)&&me!==be&&(me!=null||be!=null))switch(de){case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(i(137,r));break;default:Ot(e,r,de,me,u,be)}return;default:if(pf(r)){for(var Nt in a)me=a[Nt],a.hasOwnProperty(Nt)&&me!==void 0&&!u.hasOwnProperty(Nt)&&eh(e,r,Nt,void 0,u,me);for(we in u)me=u[we],be=a[we],!u.hasOwnProperty(we)||me===be||me===void 0&&be===void 0||eh(e,r,we,me,u,be);return}}for(var ae in a)me=a[ae],a.hasOwnProperty(ae)&&me!=null&&!u.hasOwnProperty(ae)&&Ot(e,r,ae,null,u,me);for(Ee in u)me=u[Ee],be=a[Ee],!u.hasOwnProperty(Ee)||me===be||me==null&&be==null||Ot(e,r,Ee,me,u,be)}function M1(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function TA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,r=0,a=performance.getEntriesByType("resource"),u=0;u<a.length;u++){var p=a[u],b=p.transferSize,N=p.initiatorType,q=p.duration;if(b&&q&&M1(N)){for(N=0,q=p.responseEnd,u+=1;u<a.length;u++){var J=a[u],de=J.startTime;if(de>q)break;var we=J.transferSize,Ee=J.initiatorType;we&&M1(Ee)&&(J=J.responseEnd,N+=we*(J<q?1:(q-de)/(J-de)))}if(--u,r+=8*(b+N)/(p.duration/1e3),e++,10<e)break}}if(0<e)return r/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var th=null,nh=null;function qu(e){return e.nodeType===9?e:e.ownerDocument}function U1(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function D1(e,r){if(e===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&r==="foreignObject"?0:e}function rh(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var ih=null;function OA(){var e=window.event;return e&&e.type==="popstate"?e===ih?!1:(ih=e,!0):(ih=null,!1)}var L1=typeof setTimeout=="function"?setTimeout:void 0,NA=typeof clearTimeout=="function"?clearTimeout:void 0,z1=typeof Promise=="function"?Promise:void 0,kA=typeof queueMicrotask=="function"?queueMicrotask:typeof z1<"u"?function(e){return z1.resolve(null).then(e).catch(IA)}:L1;function IA(e){setTimeout(function(){throw e})}function $i(e){return e==="head"}function H1(e,r){var a=r,u=0;do{var p=a.nextSibling;if(e.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"||a==="/&"){if(u===0){e.removeChild(p),Ga(r);return}u--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")u++;else if(a==="html")sc(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,sc(a);for(var b=a.firstChild;b;){var N=b.nextSibling,q=b.nodeName;b[$r]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&b.rel.toLowerCase()==="stylesheet"||a.removeChild(b),b=N}}else a==="body"&&sc(e.ownerDocument.body);a=p}while(a);Ga(r)}function j1(e,r){var a=e;e=0;do{var u=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=u}while(a)}function sh(e){var r=e.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":sh(a),Es(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function CA(e,r,a,u){for(;e.nodeType===1;){var p=a;if(e.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(u){if(!e[$r])switch(r){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(b=e.getAttribute("rel"),b==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(b!==p.rel||e.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||e.getAttribute("title")!==(p.title==null?null:p.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(b=e.getAttribute("src"),(b!==(p.src==null?null:p.src)||e.getAttribute("type")!==(p.type==null?null:p.type)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&b&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(r==="input"&&e.type==="hidden"){var b=p.name==null?null:""+p.name;if(p.type==="hidden"&&e.getAttribute("name")===b)return e}else return e;if(e=yr(e.nextSibling),e===null)break}return null}function BA(e,r,a){if(r==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=yr(e.nextSibling),e===null))return null;return e}function q1(e,r){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=yr(e.nextSibling),e===null))return null;return e}function ah(e){return e.data==="$?"||e.data==="$~"}function oh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function MA(e,r){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=r;else if(e.data!=="$?"||a.readyState!=="loading")r();else{var u=function(){r(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),e._reactRetry=u}}function yr(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return e}var ch=null;function P1(e){e=e.nextSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(r===0)return yr(e.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}e=e.nextSibling}return null}function K1(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return e;r--}else a!=="/$"&&a!=="/&"||r++}e=e.previousSibling}return null}function V1(e,r,a){switch(r=qu(a),e){case"html":if(e=r.documentElement,!e)throw Error(i(452));return e;case"head":if(e=r.head,!e)throw Error(i(453));return e;case"body":if(e=r.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function sc(e){for(var r=e.attributes;r.length;)e.removeAttributeNode(r[0]);Es(e)}var gr=new Map,G1=new Set;function Pu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var yi=C.d;C.d={f:UA,r:DA,D:LA,C:zA,L:HA,m:jA,X:PA,S:qA,M:KA};function UA(){var e=yi.f(),r=Bu();return e||r}function DA(e){var r=Cr(e);r!==null&&r.tag===5&&r.type==="form"?cy(r):yi.r(e)}var Pa=typeof document>"u"?null:document;function F1(e,r,a){var u=Pa;if(u&&typeof r=="string"&&r){var p=ur(r);p='link[rel="'+e+'"][href="'+p+'"]',typeof a=="string"&&(p+='[crossorigin="'+a+'"]'),G1.has(p)||(G1.add(p),e={rel:e,crossOrigin:a,href:r},u.querySelector(p)===null&&(r=u.createElement("link"),Tn(r,"link",e),sn(r),u.head.appendChild(r)))}}function LA(e){yi.D(e),F1("dns-prefetch",e,null)}function zA(e,r){yi.C(e,r),F1("preconnect",e,r)}function HA(e,r,a){yi.L(e,r,a);var u=Pa;if(u&&e&&r){var p='link[rel="preload"][as="'+ur(r)+'"]';r==="image"&&a&&a.imageSrcSet?(p+='[imagesrcset="'+ur(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(p+='[imagesizes="'+ur(a.imageSizes)+'"]')):p+='[href="'+ur(e)+'"]';var b=p;switch(r){case"style":b=Ka(e);break;case"script":b=Va(e)}gr.has(b)||(e=I({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:e,as:r},a),gr.set(b,e),u.querySelector(p)!==null||r==="style"&&u.querySelector(ac(b))||r==="script"&&u.querySelector(oc(b))||(r=u.createElement("link"),Tn(r,"link",e),sn(r),u.head.appendChild(r)))}}function jA(e,r){yi.m(e,r);var a=Pa;if(a&&e){var u=r&&typeof r.as=="string"?r.as:"script",p='link[rel="modulepreload"][as="'+ur(u)+'"][href="'+ur(e)+'"]',b=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Va(e)}if(!gr.has(b)&&(e=I({rel:"modulepreload",href:e},r),gr.set(b,e),a.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(oc(b)))return}u=a.createElement("link"),Tn(u,"link",e),sn(u),a.head.appendChild(u)}}}function qA(e,r,a){yi.S(e,r,a);var u=Pa;if(u&&e){var p=Br(u).hoistableStyles,b=Ka(e);r=r||"default";var N=p.get(b);if(!N){var q={loading:0,preload:null};if(N=u.querySelector(ac(b)))q.loading=5;else{e=I({rel:"stylesheet",href:e,"data-precedence":r},a),(a=gr.get(b))&&uh(e,a);var J=N=u.createElement("link");sn(J),Tn(J,"link",e),J._p=new Promise(function(de,we){J.onload=de,J.onerror=we}),J.addEventListener("load",function(){q.loading|=1}),J.addEventListener("error",function(){q.loading|=2}),q.loading|=4,Ku(N,r,u)}N={type:"stylesheet",instance:N,count:1,state:q},p.set(b,N)}}}function PA(e,r){yi.X(e,r);var a=Pa;if(a&&e){var u=Br(a).hoistableScripts,p=Va(e),b=u.get(p);b||(b=a.querySelector(oc(p)),b||(e=I({src:e,async:!0},r),(r=gr.get(p))&&lh(e,r),b=a.createElement("script"),sn(b),Tn(b,"link",e),a.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},u.set(p,b))}}function KA(e,r){yi.M(e,r);var a=Pa;if(a&&e){var u=Br(a).hoistableScripts,p=Va(e),b=u.get(p);b||(b=a.querySelector(oc(p)),b||(e=I({src:e,async:!0,type:"module"},r),(r=gr.get(p))&&lh(e,r),b=a.createElement("script"),sn(b),Tn(b,"link",e),a.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},u.set(p,b))}}function Y1(e,r,a,u){var p=(p=Y.current)?Pu(p):null;if(!p)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Ka(a.href),a=Br(p).hoistableStyles,u=a.get(r),u||(u={type:"style",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ka(a.href);var b=Br(p).hoistableStyles,N=b.get(e);if(N||(p=p.ownerDocument||p,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(e,N),(b=p.querySelector(ac(e)))&&!b._p&&(N.instance=b,N.state.loading=5),gr.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},gr.set(e,a),b||VA(p,e,a,N.state))),r&&u===null)throw Error(i(528,""));return N}if(r&&u!==null)throw Error(i(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Va(a),a=Br(p).hoistableScripts,u=a.get(r),u||(u={type:"script",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Ka(e){return'href="'+ur(e)+'"'}function ac(e){return'link[rel="stylesheet"]['+e+"]"}function Z1(e){return I({},e,{"data-precedence":e.precedence,precedence:null})}function VA(e,r,a,u){e.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=e.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Tn(r,"link",a),sn(r),e.head.appendChild(r))}function Va(e){return'[src="'+ur(e)+'"]'}function oc(e){return"script[async]"+e}function X1(e,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var u=e.querySelector('style[data-href~="'+ur(a.href)+'"]');if(u)return r.instance=u,sn(u),u;var p=I({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(e.ownerDocument||e).createElement("style"),sn(u),Tn(u,"style",p),Ku(u,a.precedence,e),r.instance=u;case"stylesheet":p=Ka(a.href);var b=e.querySelector(ac(p));if(b)return r.state.loading|=4,r.instance=b,sn(b),b;u=Z1(a),(p=gr.get(p))&&uh(u,p),b=(e.ownerDocument||e).createElement("link"),sn(b);var N=b;return N._p=new Promise(function(q,J){N.onload=q,N.onerror=J}),Tn(b,"link",u),r.state.loading|=4,Ku(b,a.precedence,e),r.instance=b;case"script":return b=Va(a.src),(p=e.querySelector(oc(b)))?(r.instance=p,sn(p),p):(u=a,(p=gr.get(b))&&(u=I({},a),lh(u,p)),e=e.ownerDocument||e,p=e.createElement("script"),sn(p),Tn(p,"link",u),e.head.appendChild(p),r.instance=p);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Ku(u,a.precedence,e));return r.instance}function Ku(e,r,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,b=p,N=0;N<u.length;N++){var q=u[N];if(q.dataset.precedence===r)b=q;else if(b!==p)break}b?b.parentNode.insertBefore(e,b.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(e,r.firstChild))}function uh(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.title==null&&(e.title=r.title)}function lh(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.integrity==null&&(e.integrity=r.integrity)}var Vu=null;function W1(e,r,a){if(Vu===null){var u=new Map,p=Vu=new Map;p.set(a,u)}else p=Vu,u=p.get(a),u||(u=new Map,p.set(a,u));if(u.has(e))return u;for(u.set(e,null),a=a.getElementsByTagName(e),p=0;p<a.length;p++){var b=a[p];if(!(b[$r]||b[it]||e==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var N=b.getAttribute(r)||"";N=e+N;var q=u.get(N);q?q.push(b):u.set(N,[b])}}return u}function $1(e,r,a){e=e.ownerDocument||e,e.head.insertBefore(a,r==="title"?e.querySelector("head > title"):null)}function GA(e,r,a){if(a===1||r.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(e=r.disabled,typeof r.precedence=="string"&&e==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Q1(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function FA(e,r,a,u){if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var p=Ka(u.href),b=r.querySelector(ac(p));if(b){r=b._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(e.count++,e=Gu.bind(e),r.then(e,e)),a.state.loading|=4,a.instance=b,sn(b);return}b=r.ownerDocument||r,u=Z1(u),(p=gr.get(p))&&uh(u,p),b=b.createElement("link"),sn(b);var N=b;N._p=new Promise(function(q,J){N.onload=q,N.onerror=J}),Tn(b,"link",u),a.instance=b}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Gu.bind(e),r.addEventListener("load",a),r.addEventListener("error",a))}}var fh=0;function YA(e,r){return e.stylesheets&&e.count===0&&Yu(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var u=setTimeout(function(){if(e.stylesheets&&Yu(e,e.stylesheets),e.unsuspend){var b=e.unsuspend;e.unsuspend=null,b()}},6e4+r);0<e.imgBytes&&fh===0&&(fh=62500*TA());var p=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Yu(e,e.stylesheets),e.unsuspend)){var b=e.unsuspend;e.unsuspend=null,b()}},(e.imgBytes>fh?50:800)+r);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function Gu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Yu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Fu=null;function Yu(e,r){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Fu=new Map,r.forEach(ZA,e),Fu=null,Gu.call(e))}function ZA(e,r){if(!(r.state.loading&4)){var a=Fu.get(e);if(a)var u=a.get(null);else{a=new Map,Fu.set(e,a);for(var p=e.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<p.length;b++){var N=p[b];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(a.set(N.dataset.precedence,N),u=N)}u&&a.set(null,u)}p=r.instance,N=p.getAttribute("data-precedence"),b=a.get(N)||u,b===u&&a.set(null,p),a.set(N,p),this.count++,u=Gu.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),b?b.parentNode.insertBefore(p,b.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(p,e.firstChild)),r.state.loading|=4}}var cc={$$typeof:V,Provider:null,Consumer:null,_currentValue:D,_currentValue2:D,_threadCount:0};function XA(e,r,a,u,p,b,N,q,J){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pt(0),this.hiddenUpdates=Pt(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=b,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=J,this.incompleteTransitions=new Map}function J1(e,r,a,u,p,b,N,q,J,de,we,Ee){return e=new XA(e,r,a,N,J,de,we,Ee,q),r=1,b===!0&&(r|=24),b=Qn(3,null,null,r),e.current=b,b.stateNode=e,r=Vf(),r.refCount++,e.pooledCache=r,r.refCount++,b.memoizedState={element:u,isDehydrated:a,cache:r},Zf(b),e}function eg(e){return e?(e=va,e):va}function tg(e,r,a,u,p,b){p=eg(p),u.context===null?u.context=p:u.pendingContext=p,u=ji(r),u.payload={element:a},b=b===void 0?null:b,b!==null&&(u.callback=b),a=qi(e,u,r),a!==null&&(Fn(a,e,r),jo(a,e,r))}function ng(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<r?a:r}}function dh(e,r){ng(e,r),(e=e.alternate)&&ng(e,r)}function rg(e){if(e.tag===13||e.tag===31){var r=xs(e,67108864);r!==null&&Fn(r,e,67108864),dh(e,67108864)}}function ig(e){if(e.tag===13||e.tag===31){var r=rr();r=Kt(r);var a=xs(e,r);a!==null&&Fn(a,e,r),dh(e,r)}}var Zu=!0;function WA(e,r,a,u){var p=S.T;S.T=null;var b=C.p;try{C.p=2,hh(e,r,a,u)}finally{C.p=b,S.T=p}}function $A(e,r,a,u){var p=S.T;S.T=null;var b=C.p;try{C.p=8,hh(e,r,a,u)}finally{C.p=b,S.T=p}}function hh(e,r,a,u){if(Zu){var p=ph(u);if(p===null)Jd(e,r,u,Xu,a),ag(e,u);else if(JA(p,e,r,a,u))u.stopPropagation();else if(ag(e,u),r&4&&-1<QA.indexOf(e)){for(;p!==null;){var b=Cr(p);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var N=kr(b.pendingLanes);if(N!==0){var q=b;for(q.pendingLanes|=2,q.entangledLanes|=2;N;){var J=1<<31-Ue(N);q.entanglements[1]|=J,N&=~J}zr(b),(_t&6)===0&&(Iu=He()+500,nc(0))}}break;case 31:case 13:q=xs(b,2),q!==null&&Fn(q,b,2),Bu(),dh(b,2)}if(b=ph(u),b===null&&Jd(e,r,u,Xu,a),b===p)break;p=b}p!==null&&u.stopPropagation()}else Jd(e,r,u,null,a)}}function ph(e){return e=yf(e),mh(e)}var Xu=null;function mh(e){if(Xu=null,e=Ir(e),e!==null){var r=o(e);if(r===null)e=null;else{var a=r.tag;if(a===13){if(e=l(r),e!==null)return e;e=null}else if(a===31){if(e=d(r),e!==null)return e;e=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null)}}return Xu=e,null}function sg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qt()){case wt:return 2;case H:return 8;case A:case T:return 32;case P:return 268435456;default:return 32}default:return 32}}var yh=!1,Qi=null,Ji=null,es=null,uc=new Map,lc=new Map,ts=[],QA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ag(e,r){switch(e){case"focusin":case"focusout":Qi=null;break;case"dragenter":case"dragleave":Ji=null;break;case"mouseover":case"mouseout":es=null;break;case"pointerover":case"pointerout":uc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":lc.delete(r.pointerId)}}function fc(e,r,a,u,p,b){return e===null||e.nativeEvent!==b?(e={blockedOn:r,domEventName:a,eventSystemFlags:u,nativeEvent:b,targetContainers:[p]},r!==null&&(r=Cr(r),r!==null&&rg(r)),e):(e.eventSystemFlags|=u,r=e.targetContainers,p!==null&&r.indexOf(p)===-1&&r.push(p),e)}function JA(e,r,a,u,p){switch(r){case"focusin":return Qi=fc(Qi,e,r,a,u,p),!0;case"dragenter":return Ji=fc(Ji,e,r,a,u,p),!0;case"mouseover":return es=fc(es,e,r,a,u,p),!0;case"pointerover":var b=p.pointerId;return uc.set(b,fc(uc.get(b)||null,e,r,a,u,p)),!0;case"gotpointercapture":return b=p.pointerId,lc.set(b,fc(lc.get(b)||null,e,r,a,u,p)),!0}return!1}function og(e){var r=Ir(e.target);if(r!==null){var a=o(r);if(a!==null){if(r=a.tag,r===13){if(r=l(a),r!==null){e.blockedOn=r,$t(e.priority,function(){ig(a)});return}}else if(r===31){if(r=d(a),r!==null){e.blockedOn=r,$t(e.priority,function(){ig(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wu(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var a=ph(e.nativeEvent);if(a===null){a=e.nativeEvent;var u=new a.constructor(a.type,a);mf=u,a.target.dispatchEvent(u),mf=null}else return r=Cr(a),r!==null&&rg(r),e.blockedOn=a,!1;r.shift()}return!0}function cg(e,r,a){Wu(e)&&a.delete(r)}function eR(){yh=!1,Qi!==null&&Wu(Qi)&&(Qi=null),Ji!==null&&Wu(Ji)&&(Ji=null),es!==null&&Wu(es)&&(es=null),uc.forEach(cg),lc.forEach(cg)}function $u(e,r){e.blockedOn===r&&(e.blockedOn=null,yh||(yh=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,eR)))}var Qu=null;function ug(e){Qu!==e&&(Qu=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Qu===e&&(Qu=null);for(var r=0;r<e.length;r+=3){var a=e[r],u=e[r+1],p=e[r+2];if(typeof u!="function"){if(mh(u||a)===null)continue;break}var b=Cr(a);b!==null&&(e.splice(r,3),r-=3,pd(b,{pending:!0,data:p,method:a.method,action:u},u,p))}}))}function Ga(e){function r(J){return $u(J,e)}Qi!==null&&$u(Qi,e),Ji!==null&&$u(Ji,e),es!==null&&$u(es,e),uc.forEach(r),lc.forEach(r);for(var a=0;a<ts.length;a++){var u=ts[a];u.blockedOn===e&&(u.blockedOn=null)}for(;0<ts.length&&(a=ts[0],a.blockedOn===null);)og(a),a.blockedOn===null&&ts.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var p=a[u],b=a[u+1],N=p[lt]||null;if(typeof b=="function")N||ug(a);else if(N){var q=null;if(b&&b.hasAttribute("formAction")){if(p=b,N=b[lt]||null)q=N.formAction;else if(mh(p)!==null)continue}else q=N.action;typeof q=="function"?a[u+1]=q:(a.splice(u,3),u-=3),ug(a)}}}function lg(){function e(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(N){return p=N})},focusReset:"manual",scroll:"manual"})}function r(){p!==null&&(p(),p=null),u||setTimeout(a,20)}function a(){if(!u&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){u=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),p!==null&&(p(),p=null)}}}function gh(e){this._internalRoot=e}Ju.prototype.render=gh.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(i(409));var a=r.current,u=rr();tg(a,u,e,r,null,null)},Ju.prototype.unmount=gh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;tg(e.current,2,null,e,null,null),Bu(),r[Wr]=null}};function Ju(e){this._internalRoot=e}Ju.prototype.unstable_scheduleHydration=function(e){if(e){var r=Wt();e={blockedOn:null,target:e,priority:r};for(var a=0;a<ts.length&&r!==0&&r<ts[a].priority;a++);ts.splice(a,0,e),a===0&&og(e)}};var fg=t.version;if(fg!=="19.2.3")throw Error(i(527,fg,"19.2.3"));C.findDOMNode=function(e){var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=w(r),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var tR={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:S,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var el=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!el.isDisabled&&el.supportsFiber)try{ge=el.inject(tR),ze=el}catch{}}return pc.createRoot=function(e,r){if(!c(e))throw Error(i(299));var a=!1,u="",p=by,b=wy,N=_y;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(b=r.onCaughtError),r.onRecoverableError!==void 0&&(N=r.onRecoverableError)),r=J1(e,1,!1,null,null,a,u,null,p,b,N,lg),e[Wr]=r.current,Qd(e),new gh(r)},pc.hydrateRoot=function(e,r,a){if(!c(e))throw Error(i(299));var u=!1,p="",b=by,N=wy,q=_y,J=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onUncaughtError!==void 0&&(b=a.onUncaughtError),a.onCaughtError!==void 0&&(N=a.onCaughtError),a.onRecoverableError!==void 0&&(q=a.onRecoverableError),a.formState!==void 0&&(J=a.formState)),r=J1(e,1,!0,r,a??null,u,p,J,b,N,q,lg),r.context=eg(null),a=r.current,u=rr(),u=Kt(u),p=ji(u),p.callback=null,qi(a,p,u),a=u,r.current.lanes=a,Ii(r,a),zr(r),e[Wr]=r.current,Qd(e),new Ju(r)},pc.version="19.2.3",pc}var Rg;function gR(){if(Rg)return Eh.exports;Rg=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Eh.exports=yR(),Eh.exports}var bR=gR();const wR=""+new URL("token_logo-Dt5qbkym.png",import.meta.url).href,Fa=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function Bc(s){return s instanceof Uint8Array||ArrayBuffer.isView(s)&&s.constructor.name==="Uint8Array"}function Rc(s){if(!Number.isSafeInteger(s)||s<0)throw new Error("positive integer expected, got "+s)}function Ti(s,...t){if(!Bc(s))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(s.length))throw new Error("Uint8Array expected of length "+t+", got length="+s.length)}function bw(s){if(typeof s!="function"||typeof s.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Rc(s.outputLen),Rc(s.blockLen)}function co(s,t=!0){if(s.destroyed)throw new Error("Hash instance has been destroyed");if(t&&s.finished)throw new Error("Hash#digest() has already been called")}function ww(s,t){Ti(s);const n=t.outputLen;if(s.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function _R(s){return new Uint32Array(s.buffer,s.byteOffset,Math.floor(s.byteLength/4))}function gs(...s){for(let t=0;t<s.length;t++)s[t].fill(0)}function xh(s){return new DataView(s.buffer,s.byteOffset,s.byteLength)}function Hr(s,t){return s<<32-t|s>>>t}const vR=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function ER(s){return s<<24&4278190080|s<<8&16711680|s>>>8&65280|s>>>24&255}function SR(s){for(let t=0;t<s.length;t++)s[t]=ER(s[t]);return s}const xg=vR?s=>s:SR,_w=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",AR=Array.from({length:256},(s,t)=>t.toString(16).padStart(2,"0"));function $s(s){if(Ti(s),_w)return s.toHex();let t="";for(let n=0;n<s.length;n++)t+=AR[s[n]];return t}const gi={_0:48,_9:57,A:65,F:70,a:97,f:102};function Tg(s){if(s>=gi._0&&s<=gi._9)return s-gi._0;if(s>=gi.A&&s<=gi.F)return s-(gi.A-10);if(s>=gi.a&&s<=gi.f)return s-(gi.a-10)}function Tl(s){if(typeof s!="string")throw new Error("hex string expected, got "+typeof s);if(_w)return Uint8Array.fromHex(s);const t=s.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const i=new Uint8Array(n);for(let c=0,o=0;c<n;c++,o+=2){const l=Tg(s.charCodeAt(o)),d=Tg(s.charCodeAt(o+1));if(l===void 0||d===void 0){const g=s[o]+s[o+1];throw new Error('hex string expected, got non-hex character "'+g+'" at index '+o)}i[c]=l*16+d}return i}function RR(s){if(typeof s!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(s))}function Vl(s){return typeof s=="string"&&(s=RR(s)),Ti(s),s}function Pr(...s){let t=0;for(let i=0;i<s.length;i++){const c=s[i];Ti(c),t+=c.length}const n=new Uint8Array(t);for(let i=0,c=0;i<s.length;i++){const o=s[i];n.set(o,c),c+=o.length}return n}class q0{}function P0(s){const t=i=>s().update(Vl(i)).digest(),n=s();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>s(),t}function K0(s=32){if(Fa&&typeof Fa.getRandomValues=="function")return Fa.getRandomValues(new Uint8Array(s));if(Fa&&typeof Fa.randomBytes=="function")return Uint8Array.from(Fa.randomBytes(s));throw new Error("crypto.getRandomValues must be defined")}function xR(s,t,n,i){if(typeof s.setBigUint64=="function")return s.setBigUint64(t,n,i);const c=BigInt(32),o=BigInt(4294967295),l=Number(n>>c&o),d=Number(n&o),g=i?4:0,w=i?0:4;s.setUint32(t+g,l,i),s.setUint32(t+w,d,i)}function TR(s,t,n){return s&t^~s&n}function OR(s,t,n){return s&t^s&n^t&n}class vw extends q0{constructor(t,n,i,c){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=i,this.isLE=c,this.buffer=new Uint8Array(t),this.view=xh(this.buffer)}update(t){co(this),t=Vl(t),Ti(t);const{view:n,buffer:i,blockLen:c}=this,o=t.length;for(let l=0;l<o;){const d=Math.min(c-this.pos,o-l);if(d===c){const g=xh(t);for(;c<=o-l;l+=c)this.process(g,l);continue}i.set(t.subarray(l,l+d),this.pos),this.pos+=d,l+=d,this.pos===c&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){co(this),ww(t,this),this.finished=!0;const{buffer:n,view:i,blockLen:c,isLE:o}=this;let{pos:l}=this;n[l++]=128,gs(this.buffer.subarray(l)),this.padOffset>c-l&&(this.process(i,0),l=0);for(let I=l;I<c;I++)n[I]=0;xR(i,c-8,BigInt(this.length*8),o),this.process(i,0);const d=xh(t),g=this.outputLen;if(g%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const w=g/4,E=this.get();if(w>E.length)throw new Error("_sha2: outputLen bigger than state");for(let I=0;I<w;I++)d.setUint32(4*I,E[I],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const i=t.slice(0,n);return this.destroy(),i}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:i,length:c,finished:o,destroyed:l,pos:d}=this;return t.destroyed=l,t.finished=o,t.length=c,t.pos=d,c%n&&t.buffer.set(i),t}clone(){return this._cloneInto()}}const rs=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Bn=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),nl=BigInt(2**32-1),Og=BigInt(32);function NR(s,t=!1){return t?{h:Number(s&nl),l:Number(s>>Og&nl)}:{h:Number(s>>Og&nl)|0,l:Number(s&nl)|0}}function Ew(s,t=!1){const n=s.length;let i=new Uint32Array(n),c=new Uint32Array(n);for(let o=0;o<n;o++){const{h:l,l:d}=NR(s[o],t);[i[o],c[o]]=[l,d]}return[i,c]}const Ng=(s,t,n)=>s>>>n,kg=(s,t,n)=>s<<32-n|t>>>n,Ya=(s,t,n)=>s>>>n|t<<32-n,Za=(s,t,n)=>s<<32-n|t>>>n,rl=(s,t,n)=>s<<64-n|t>>>n-32,il=(s,t,n)=>s>>>n-32|t<<64-n,kR=(s,t,n)=>s<<n|t>>>32-n,IR=(s,t,n)=>t<<n|s>>>32-n,CR=(s,t,n)=>t<<n-32|s>>>64-n,BR=(s,t,n)=>s<<n-32|t>>>64-n;function bi(s,t,n,i){const c=(t>>>0)+(i>>>0);return{h:s+n+(c/2**32|0)|0,l:c|0}}const MR=(s,t,n)=>(s>>>0)+(t>>>0)+(n>>>0),UR=(s,t,n,i)=>t+n+i+(s/2**32|0)|0,DR=(s,t,n,i)=>(s>>>0)+(t>>>0)+(n>>>0)+(i>>>0),LR=(s,t,n,i,c)=>t+n+i+c+(s/2**32|0)|0,zR=(s,t,n,i,c)=>(s>>>0)+(t>>>0)+(n>>>0)+(i>>>0)+(c>>>0),HR=(s,t,n,i,c,o)=>t+n+i+c+o+(s/2**32|0)|0,jR=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),is=new Uint32Array(64);class qR extends vw{constructor(t=32){super(64,t,8,!1),this.A=rs[0]|0,this.B=rs[1]|0,this.C=rs[2]|0,this.D=rs[3]|0,this.E=rs[4]|0,this.F=rs[5]|0,this.G=rs[6]|0,this.H=rs[7]|0}get(){const{A:t,B:n,C:i,D:c,E:o,F:l,G:d,H:g}=this;return[t,n,i,c,o,l,d,g]}set(t,n,i,c,o,l,d,g){this.A=t|0,this.B=n|0,this.C=i|0,this.D=c|0,this.E=o|0,this.F=l|0,this.G=d|0,this.H=g|0}process(t,n){for(let I=0;I<16;I++,n+=4)is[I]=t.getUint32(n,!1);for(let I=16;I<64;I++){const k=is[I-15],R=is[I-2],M=Hr(k,7)^Hr(k,18)^k>>>3,U=Hr(R,17)^Hr(R,19)^R>>>10;is[I]=U+is[I-7]+M+is[I-16]|0}let{A:i,B:c,C:o,D:l,E:d,F:g,G:w,H:E}=this;for(let I=0;I<64;I++){const k=Hr(d,6)^Hr(d,11)^Hr(d,25),R=E+k+TR(d,g,w)+jR[I]+is[I]|0,U=(Hr(i,2)^Hr(i,13)^Hr(i,22))+OR(i,c,o)|0;E=w,w=g,g=d,d=l+R|0,l=o,o=c,c=i,i=R+U|0}i=i+this.A|0,c=c+this.B|0,o=o+this.C|0,l=l+this.D|0,d=d+this.E|0,g=g+this.F|0,w=w+this.G|0,E=E+this.H|0,this.set(i,c,o,l,d,g,w,E)}roundClean(){gs(is)}destroy(){this.set(0,0,0,0,0,0,0,0),gs(this.buffer)}}const Sw=Ew(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(s=>BigInt(s))),PR=Sw[0],KR=Sw[1],ss=new Uint32Array(80),as=new Uint32Array(80);class VR extends vw{constructor(t=64){super(128,t,16,!1),this.Ah=Bn[0]|0,this.Al=Bn[1]|0,this.Bh=Bn[2]|0,this.Bl=Bn[3]|0,this.Ch=Bn[4]|0,this.Cl=Bn[5]|0,this.Dh=Bn[6]|0,this.Dl=Bn[7]|0,this.Eh=Bn[8]|0,this.El=Bn[9]|0,this.Fh=Bn[10]|0,this.Fl=Bn[11]|0,this.Gh=Bn[12]|0,this.Gl=Bn[13]|0,this.Hh=Bn[14]|0,this.Hl=Bn[15]|0}get(){const{Ah:t,Al:n,Bh:i,Bl:c,Ch:o,Cl:l,Dh:d,Dl:g,Eh:w,El:E,Fh:I,Fl:k,Gh:R,Gl:M,Hh:U,Hl:z}=this;return[t,n,i,c,o,l,d,g,w,E,I,k,R,M,U,z]}set(t,n,i,c,o,l,d,g,w,E,I,k,R,M,U,z){this.Ah=t|0,this.Al=n|0,this.Bh=i|0,this.Bl=c|0,this.Ch=o|0,this.Cl=l|0,this.Dh=d|0,this.Dl=g|0,this.Eh=w|0,this.El=E|0,this.Fh=I|0,this.Fl=k|0,this.Gh=R|0,this.Gl=M|0,this.Hh=U|0,this.Hl=z|0}process(t,n){for(let V=0;V<16;V++,n+=4)ss[V]=t.getUint32(n),as[V]=t.getUint32(n+=4);for(let V=16;V<80;V++){const $=ss[V-15]|0,re=as[V-15]|0,oe=Ya($,re,1)^Ya($,re,8)^Ng($,re,7),se=Za($,re,1)^Za($,re,8)^kg($,re,7),le=ss[V-2]|0,G=as[V-2]|0,Z=Ya(le,G,19)^rl(le,G,61)^Ng(le,G,6),X=Za(le,G,19)^il(le,G,61)^kg(le,G,6),W=DR(se,X,as[V-7],as[V-16]),x=LR(W,oe,Z,ss[V-7],ss[V-16]);ss[V]=x|0,as[V]=W|0}let{Ah:i,Al:c,Bh:o,Bl:l,Ch:d,Cl:g,Dh:w,Dl:E,Eh:I,El:k,Fh:R,Fl:M,Gh:U,Gl:z,Hh:j,Hl:F}=this;for(let V=0;V<80;V++){const $=Ya(I,k,14)^Ya(I,k,18)^rl(I,k,41),re=Za(I,k,14)^Za(I,k,18)^il(I,k,41),oe=I&R^~I&U,se=k&M^~k&z,le=zR(F,re,se,KR[V],as[V]),G=HR(le,j,$,oe,PR[V],ss[V]),Z=le|0,X=Ya(i,c,28)^rl(i,c,34)^rl(i,c,39),W=Za(i,c,28)^il(i,c,34)^il(i,c,39),x=i&o^i&d^o&d,h=c&l^c&g^l&g;j=U|0,F=z|0,U=R|0,z=M|0,R=I|0,M=k|0,{h:I,l:k}=bi(w|0,E|0,G|0,Z|0),w=d|0,E=g|0,d=o|0,g=l|0,o=i|0,l=c|0;const _=MR(Z,W,h);i=UR(_,G,X,x),c=_|0}({h:i,l:c}=bi(this.Ah|0,this.Al|0,i|0,c|0)),{h:o,l}=bi(this.Bh|0,this.Bl|0,o|0,l|0),{h:d,l:g}=bi(this.Ch|0,this.Cl|0,d|0,g|0),{h:w,l:E}=bi(this.Dh|0,this.Dl|0,w|0,E|0),{h:I,l:k}=bi(this.Eh|0,this.El|0,I|0,k|0),{h:R,l:M}=bi(this.Fh|0,this.Fl|0,R|0,M|0),{h:U,l:z}=bi(this.Gh|0,this.Gl|0,U|0,z|0),{h:j,l:F}=bi(this.Hh|0,this.Hl|0,j|0,F|0),this.set(i,c,o,l,d,g,w,E,I,k,R,M,U,z,j,F)}roundClean(){gs(ss,as)}destroy(){gs(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Aw=P0(()=>new qR),GR=P0(()=>new VR);const V0=BigInt(0),g0=BigInt(1);function Qs(s,t=""){if(typeof s!="boolean"){const n=t&&`"${t}"`;throw new Error(n+"expected boolean, got type="+typeof s)}return s}function Tr(s,t,n=""){const i=Bc(s),c=s?.length,o=t!==void 0;if(!i||o&&c!==t){const l=n&&`"${n}" `,d=o?` of length ${t}`:"",g=i?`length=${c}`:`type=${typeof s}`;throw new Error(l+"expected Uint8Array"+d+", got "+g)}return s}function sl(s){const t=s.toString(16);return t.length&1?"0"+t:t}function Rw(s){if(typeof s!="string")throw new Error("hex string expected, got "+typeof s);return s===""?V0:BigInt("0x"+s)}function Gl(s){return Rw($s(s))}function xc(s){return Ti(s),Rw($s(Uint8Array.from(s).reverse()))}function G0(s,t){return Tl(s.toString(16).padStart(t*2,"0"))}function xw(s,t){return G0(s,t).reverse()}function un(s,t,n){let i;if(typeof t=="string")try{i=Tl(t)}catch(o){throw new Error(s+" must be hex string or Uint8Array, cause: "+o)}else if(Bc(t))i=Uint8Array.from(t);else throw new Error(s+" must be hex string or Uint8Array");const c=i.length;if(typeof n=="number"&&c!==n)throw new Error(s+" of length "+n+" expected, got "+c);return i}function Ig(s){return Uint8Array.from(s)}const Th=s=>typeof s=="bigint"&&V0<=s;function FR(s,t,n){return Th(s)&&Th(t)&&Th(n)&&t<=s&&s<n}function b0(s,t,n,i){if(!FR(t,n,i))throw new Error("expected valid "+s+": "+n+" <= n < "+i+", got "+t)}function Tw(s){let t;for(t=0;s>V0;s>>=g0,t+=1);return t}const Mc=s=>(g0<<BigInt(s))-g0;function YR(s,t,n){if(typeof s!="number"||s<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const i=R=>new Uint8Array(R),c=R=>Uint8Array.of(R);let o=i(s),l=i(s),d=0;const g=()=>{o.fill(1),l.fill(0),d=0},w=(...R)=>n(l,o,...R),E=(R=i(0))=>{l=w(c(0),R),o=w(),R.length!==0&&(l=w(c(1),R),o=w())},I=()=>{if(d++>=1e3)throw new Error("drbg: tried 1000 values");let R=0;const M=[];for(;R<t;){o=w();const U=o.slice();M.push(U),R+=o.length}return Pr(...M)};return(R,M)=>{g(),E(R);let U;for(;!(U=M(I()));)E();return g(),U}}function Uc(s,t,n={}){if(!s||typeof s!="object")throw new Error("expected valid options object");function i(c,o,l){const d=s[c];if(l&&d===void 0)return;const g=typeof d;if(g!==o||d===null)throw new Error(`param "${c}" is invalid: expected ${o}, got ${g}`)}Object.entries(t).forEach(([c,o])=>i(c,o,!1)),Object.entries(n).forEach(([c,o])=>i(c,o,!0))}function Ol(s){const t=new WeakMap;return(n,...i)=>{const c=t.get(n);if(c!==void 0)return c;const o=s(n,...i);return t.set(n,o),o}}const Xn=BigInt(0),In=BigInt(1),Gs=BigInt(2),Ow=BigInt(3),Nw=BigInt(4),kw=BigInt(5),ZR=BigInt(7),Iw=BigInt(8),XR=BigInt(9),Cw=BigInt(16);function bn(s,t){const n=s%t;return n>=Xn?n:t+n}function cn(s,t,n){let i=s;for(;t-- >Xn;)i*=i,i%=n;return i}function Cg(s,t){if(s===Xn)throw new Error("invert: expected non-zero number");if(t<=Xn)throw new Error("invert: expected positive modulus, got "+t);let n=bn(s,t),i=t,c=Xn,o=In;for(;n!==Xn;){const d=i/n,g=i%n,w=c-o*d;i=n,n=g,c=o,o=w}if(i!==In)throw new Error("invert: does not exist");return bn(c,t)}function F0(s,t,n){if(!s.eql(s.sqr(t),n))throw new Error("Cannot find square root")}function Bw(s,t){const n=(s.ORDER+In)/Nw,i=s.pow(t,n);return F0(s,i,t),i}function WR(s,t){const n=(s.ORDER-kw)/Iw,i=s.mul(t,Gs),c=s.pow(i,n),o=s.mul(t,c),l=s.mul(s.mul(o,Gs),c),d=s.mul(o,s.sub(l,s.ONE));return F0(s,d,t),d}function $R(s){const t=na(s),n=Mw(s),i=n(t,t.neg(t.ONE)),c=n(t,i),o=n(t,t.neg(i)),l=(s+ZR)/Cw;return(d,g)=>{let w=d.pow(g,l),E=d.mul(w,i);const I=d.mul(w,c),k=d.mul(w,o),R=d.eql(d.sqr(E),g),M=d.eql(d.sqr(I),g);w=d.cmov(w,E,R),E=d.cmov(k,I,M);const U=d.eql(d.sqr(E),g),z=d.cmov(w,E,U);return F0(d,z,g),z}}function Mw(s){if(s<Ow)throw new Error("sqrt is not defined for small field");let t=s-In,n=0;for(;t%Gs===Xn;)t/=Gs,n++;let i=Gs;const c=na(s);for(;Bg(c,i)===1;)if(i++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Bw;let o=c.pow(i,t);const l=(t+In)/Gs;return function(g,w){if(g.is0(w))return w;if(Bg(g,w)!==1)throw new Error("Cannot find square root");let E=n,I=g.mul(g.ONE,o),k=g.pow(w,t),R=g.pow(w,l);for(;!g.eql(k,g.ONE);){if(g.is0(k))return g.ZERO;let M=1,U=g.sqr(k);for(;!g.eql(U,g.ONE);)if(M++,U=g.sqr(U),M===E)throw new Error("Cannot find square root");const z=In<<BigInt(E-M-1),j=g.pow(I,z);E=M,I=g.sqr(j),k=g.mul(k,I),R=g.mul(R,j)}return R}}function QR(s){return s%Nw===Ow?Bw:s%Iw===kw?WR:s%Cw===XR?$R(s):Mw(s)}const JR=(s,t)=>(bn(s,t)&In)===In,e2=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function t2(s){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=e2.reduce((i,c)=>(i[c]="function",i),t);return Uc(s,n),s}function n2(s,t,n){if(n<Xn)throw new Error("invalid exponent, negatives unsupported");if(n===Xn)return s.ONE;if(n===In)return t;let i=s.ONE,c=t;for(;n>Xn;)n&In&&(i=s.mul(i,c)),c=s.sqr(c),n>>=In;return i}function Uw(s,t,n=!1){const i=new Array(t.length).fill(n?s.ZERO:void 0),c=t.reduce((l,d,g)=>s.is0(d)?l:(i[g]=l,s.mul(l,d)),s.ONE),o=s.inv(c);return t.reduceRight((l,d,g)=>s.is0(d)?l:(i[g]=s.mul(l,i[g]),s.mul(l,d)),o),i}function Bg(s,t){const n=(s.ORDER-In)/Gs,i=s.pow(t,n),c=s.eql(i,s.ONE),o=s.eql(i,s.ZERO),l=s.eql(i,s.neg(s.ONE));if(!c&&!o&&!l)throw new Error("invalid Legendre symbol result");return c?1:o?0:-1}function Dw(s,t){t!==void 0&&Rc(t);const n=t!==void 0?t:s.toString(2).length,i=Math.ceil(n/8);return{nBitLength:n,nByteLength:i}}function na(s,t,n=!1,i={}){if(s<=Xn)throw new Error("invalid field: expected ORDER > 0, got "+s);let c,o,l=!1,d;if(typeof t=="object"&&t!=null){if(i.sqrt||n)throw new Error("cannot specify opts in two arguments");const k=t;k.BITS&&(c=k.BITS),k.sqrt&&(o=k.sqrt),typeof k.isLE=="boolean"&&(n=k.isLE),typeof k.modFromBytes=="boolean"&&(l=k.modFromBytes),d=k.allowedLengths}else typeof t=="number"&&(c=t),i.sqrt&&(o=i.sqrt);const{nBitLength:g,nByteLength:w}=Dw(s,c);if(w>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let E;const I=Object.freeze({ORDER:s,isLE:n,BITS:g,BYTES:w,MASK:Mc(g),ZERO:Xn,ONE:In,allowedLengths:d,create:k=>bn(k,s),isValid:k=>{if(typeof k!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof k);return Xn<=k&&k<s},is0:k=>k===Xn,isValidNot0:k=>!I.is0(k)&&I.isValid(k),isOdd:k=>(k&In)===In,neg:k=>bn(-k,s),eql:(k,R)=>k===R,sqr:k=>bn(k*k,s),add:(k,R)=>bn(k+R,s),sub:(k,R)=>bn(k-R,s),mul:(k,R)=>bn(k*R,s),pow:(k,R)=>n2(I,k,R),div:(k,R)=>bn(k*Cg(R,s),s),sqrN:k=>k*k,addN:(k,R)=>k+R,subN:(k,R)=>k-R,mulN:(k,R)=>k*R,inv:k=>Cg(k,s),sqrt:o||(k=>(E||(E=QR(s)),E(I,k))),toBytes:k=>n?xw(k,w):G0(k,w),fromBytes:(k,R=!0)=>{if(d){if(!d.includes(k.length)||k.length>w)throw new Error("Field.fromBytes: expected "+d+" bytes, got "+k.length);const U=new Uint8Array(w);U.set(k,n?0:U.length-k.length),k=U}if(k.length!==w)throw new Error("Field.fromBytes: expected "+w+" bytes, got "+k.length);let M=n?xc(k):Gl(k);if(l&&(M=bn(M,s)),!R&&!I.isValid(M))throw new Error("invalid field element: outside of range 0..ORDER");return M},invertBatch:k=>Uw(I,k),cmov:(k,R,M)=>M?R:k});return Object.freeze(I)}function Lw(s){if(typeof s!="bigint")throw new Error("field order must be bigint");const t=s.toString(2).length;return Math.ceil(t/8)}function zw(s){const t=Lw(s);return t+Math.ceil(t/2)}function r2(s,t,n=!1){const i=s.length,c=Lw(t),o=zw(t);if(i<16||i<o||i>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+i);const l=n?xc(s):Gl(s),d=bn(l,t-In)+In;return n?xw(d,c):G0(d,c)}const uo=BigInt(0),Fs=BigInt(1);function Nl(s,t){const n=t.negate();return s?n:t}function Ys(s,t){const n=Uw(s.Fp,t.map(i=>i.Z));return t.map((i,c)=>s.fromAffine(i.toAffine(n[c])))}function Hw(s,t){if(!Number.isSafeInteger(s)||s<=0||s>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+s)}function Oh(s,t){Hw(s,t);const n=Math.ceil(t/s)+1,i=2**(s-1),c=2**s,o=Mc(s),l=BigInt(s);return{windows:n,windowSize:i,mask:o,maxNumber:c,shiftBy:l}}function Mg(s,t,n){const{windowSize:i,mask:c,maxNumber:o,shiftBy:l}=n;let d=Number(s&c),g=s>>l;d>i&&(d-=o,g+=Fs);const w=t*i,E=w+Math.abs(d)-1,I=d===0,k=d<0,R=t%2!==0;return{nextN:g,offset:E,isZero:I,isNeg:k,isNegF:R,offsetF:w}}function i2(s,t){if(!Array.isArray(s))throw new Error("array expected");s.forEach((n,i)=>{if(!(n instanceof t))throw new Error("invalid point at index "+i)})}function s2(s,t){if(!Array.isArray(s))throw new Error("array of scalars expected");s.forEach((n,i)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+i)})}const Nh=new WeakMap,jw=new WeakMap;function kh(s){return jw.get(s)||1}function Ug(s){if(s!==uo)throw new Error("invalid wNAF")}class qw{constructor(t,n){this.BASE=t.BASE,this.ZERO=t.ZERO,this.Fn=t.Fn,this.bits=n}_unsafeLadder(t,n,i=this.ZERO){let c=t;for(;n>uo;)n&Fs&&(i=i.add(c)),c=c.double(),n>>=Fs;return i}precomputeWindow(t,n){const{windows:i,windowSize:c}=Oh(n,this.bits),o=[];let l=t,d=l;for(let g=0;g<i;g++){d=l,o.push(d);for(let w=1;w<c;w++)d=d.add(l),o.push(d);l=d.double()}return o}wNAF(t,n,i){if(!this.Fn.isValid(i))throw new Error("invalid scalar");let c=this.ZERO,o=this.BASE;const l=Oh(t,this.bits);for(let d=0;d<l.windows;d++){const{nextN:g,offset:w,isZero:E,isNeg:I,isNegF:k,offsetF:R}=Mg(i,d,l);i=g,E?o=o.add(Nl(k,n[R])):c=c.add(Nl(I,n[w]))}return Ug(i),{p:c,f:o}}wNAFUnsafe(t,n,i,c=this.ZERO){const o=Oh(t,this.bits);for(let l=0;l<o.windows&&i!==uo;l++){const{nextN:d,offset:g,isZero:w,isNeg:E}=Mg(i,l,o);if(i=d,!w){const I=n[g];c=c.add(E?I.negate():I)}}return Ug(i),c}getPrecomputes(t,n,i){let c=Nh.get(n);return c||(c=this.precomputeWindow(n,t),t!==1&&(typeof i=="function"&&(c=i(c)),Nh.set(n,c))),c}cached(t,n,i){const c=kh(t);return this.wNAF(c,this.getPrecomputes(c,t,i),n)}unsafe(t,n,i,c){const o=kh(t);return o===1?this._unsafeLadder(t,n,c):this.wNAFUnsafe(o,this.getPrecomputes(o,t,i),n,c)}createCache(t,n){Hw(n,this.bits),jw.set(t,n),Nh.delete(t)}hasCache(t){return kh(t)!==1}}function a2(s,t,n,i){let c=t,o=s.ZERO,l=s.ZERO;for(;n>uo||i>uo;)n&Fs&&(o=o.add(c)),i&Fs&&(l=l.add(c)),c=c.double(),n>>=Fs,i>>=Fs;return{p1:o,p2:l}}function Pw(s,t,n,i){i2(n,s),s2(i,t);const c=n.length,o=i.length;if(c!==o)throw new Error("arrays of points and scalars must have equal length");const l=s.ZERO,d=Tw(BigInt(c));let g=1;d>12?g=d-3:d>4?g=d-2:d>0&&(g=2);const w=Mc(g),E=new Array(Number(w)+1).fill(l),I=Math.floor((t.BITS-1)/g)*g;let k=l;for(let R=I;R>=0;R-=g){E.fill(l);for(let U=0;U<o;U++){const z=i[U],j=Number(z>>BigInt(R)&w);E[j]=E[j].add(n[U])}let M=l;for(let U=E.length-1,z=l;U>0;U--)z=z.add(E[U]),M=M.add(z);if(k=k.add(M),R!==0)for(let U=0;U<g;U++)k=k.double()}return k}function Dg(s,t,n){if(t){if(t.ORDER!==s)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return t2(t),t}else return na(s,{isLE:n})}function Kw(s,t,n={},i){if(i===void 0&&(i=s==="edwards"),!t||typeof t!="object")throw new Error(`expected valid ${s} CURVE object`);for(const g of["p","n","h"]){const w=t[g];if(!(typeof w=="bigint"&&w>uo))throw new Error(`CURVE.${g} must be positive bigint`)}const c=Dg(t.p,n.Fp,i),o=Dg(t.n,n.Fn,i),d=["Gx","Gy","a",s==="weierstrass"?"b":"d"];for(const g of d)if(!c.isValid(t[g]))throw new Error(`CURVE.${g} must be valid field element of CURVE.Fp`);return t=Object.freeze(Object.assign({},t)),{CURVE:t,Fp:c,Fn:o}}const os=BigInt(0),En=BigInt(1),Ih=BigInt(2),o2=BigInt(8);function c2(s,t,n,i){const c=s.sqr(n),o=s.sqr(i),l=s.add(s.mul(t.a,c),o),d=s.add(s.ONE,s.mul(t.d,s.mul(c,o)));return s.eql(l,d)}function u2(s,t={}){const n=Kw("edwards",s,t,t.FpFnLE),{Fp:i,Fn:c}=n;let o=n.CURVE;const{h:l}=o;Uc(t,{},{uvRatio:"function"});const d=Ih<<BigInt(c.BYTES*8)-En,g=z=>i.create(z),w=t.uvRatio||((z,j)=>{try{return{isValid:!0,value:i.sqrt(i.div(z,j))}}catch{return{isValid:!1,value:os}}});if(!c2(i,o,o.Gx,o.Gy))throw new Error("bad curve params: generator point");function E(z,j,F=!1){const V=F?En:os;return b0("coordinate "+z,j,V,d),j}function I(z){if(!(z instanceof M))throw new Error("ExtendedPoint expected")}const k=Ol((z,j)=>{const{X:F,Y:V,Z:$}=z,re=z.is0();j==null&&(j=re?o2:i.inv($));const oe=g(F*j),se=g(V*j),le=i.mul($,j);if(re)return{x:os,y:En};if(le!==En)throw new Error("invZ was invalid");return{x:oe,y:se}}),R=Ol(z=>{const{a:j,d:F}=o;if(z.is0())throw new Error("bad point: ZERO");const{X:V,Y:$,Z:re,T:oe}=z,se=g(V*V),le=g($*$),G=g(re*re),Z=g(G*G),X=g(se*j),W=g(G*g(X+le)),x=g(Z+g(F*g(se*le)));if(W!==x)throw new Error("bad point: equation left != right (1)");const h=g(V*$),_=g(re*oe);if(h!==_)throw new Error("bad point: equation left != right (2)");return!0});class M{constructor(j,F,V,$){this.X=E("x",j),this.Y=E("y",F),this.Z=E("z",V,!0),this.T=E("t",$),Object.freeze(this)}static CURVE(){return o}static fromAffine(j){if(j instanceof M)throw new Error("extended point not allowed");const{x:F,y:V}=j||{};return E("x",F),E("y",V),new M(F,V,En,g(F*V))}static fromBytes(j,F=!1){const V=i.BYTES,{a:$,d:re}=o;j=Ig(Tr(j,V,"point")),Qs(F,"zip215");const oe=Ig(j),se=j[V-1];oe[V-1]=se&-129;const le=xc(oe),G=F?d:i.ORDER;b0("point.y",le,os,G);const Z=g(le*le),X=g(Z-En),W=g(re*Z-$);let{isValid:x,value:h}=w(X,W);if(!x)throw new Error("bad point: invalid y coordinate");const _=(h&En)===En,S=(se&128)!==0;if(!F&&h===os&&S)throw new Error("bad point: x=0 and x_0=1");return S!==_&&(h=g(-h)),M.fromAffine({x:h,y:le})}static fromHex(j,F=!1){return M.fromBytes(un("point",j),F)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(j=8,F=!0){return U.createCache(this,j),F||this.multiply(Ih),this}assertValidity(){R(this)}equals(j){I(j);const{X:F,Y:V,Z:$}=this,{X:re,Y:oe,Z:se}=j,le=g(F*se),G=g(re*$),Z=g(V*se),X=g(oe*$);return le===G&&Z===X}is0(){return this.equals(M.ZERO)}negate(){return new M(g(-this.X),this.Y,this.Z,g(-this.T))}double(){const{a:j}=o,{X:F,Y:V,Z:$}=this,re=g(F*F),oe=g(V*V),se=g(Ih*g($*$)),le=g(j*re),G=F+V,Z=g(g(G*G)-re-oe),X=le+oe,W=X-se,x=le-oe,h=g(Z*W),_=g(X*x),S=g(Z*x),C=g(W*X);return new M(h,_,C,S)}add(j){I(j);const{a:F,d:V}=o,{X:$,Y:re,Z:oe,T:se}=this,{X:le,Y:G,Z,T:X}=j,W=g($*le),x=g(re*G),h=g(se*V*X),_=g(oe*Z),S=g(($+re)*(le+G)-W-x),C=_-h,D=_+h,B=g(x-F*W),v=g(S*C),m=g(D*B),f=g(S*B),y=g(C*D);return new M(v,m,y,f)}subtract(j){return this.add(j.negate())}multiply(j){if(!c.isValidNot0(j))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:F,f:V}=U.cached(this,j,$=>Ys(M,$));return Ys(M,[F,V])[0]}multiplyUnsafe(j,F=M.ZERO){if(!c.isValid(j))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return j===os?M.ZERO:this.is0()||j===En?this:U.unsafe(this,j,V=>Ys(M,V),F)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return U.unsafe(this,o.n).is0()}toAffine(j){return k(this,j)}clearCofactor(){return l===En?this:this.multiplyUnsafe(l)}toBytes(){const{x:j,y:F}=this.toAffine(),V=i.toBytes(F);return V[V.length-1]|=j&En?128:0,V}toHex(){return $s(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(j){return Ys(M,j)}static msm(j,F){return Pw(M,c,j,F)}_setWindowSize(j){this.precompute(j)}toRawBytes(){return this.toBytes()}}M.BASE=new M(o.Gx,o.Gy,En,g(o.Gx*o.Gy)),M.ZERO=new M(os,En,En,os),M.Fp=i,M.Fn=c;const U=new qw(M,c.BITS);return M.BASE.precompute(8),M}function l2(s,t,n={}){if(typeof t!="function")throw new Error('"hash" function param is required');Uc(n,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:i}=n,{BASE:c,Fp:o,Fn:l}=s,d=n.randomBytes||K0,g=n.adjustScalarBytes||(G=>G),w=n.domain||((G,Z,X)=>{if(Qs(X,"phflag"),Z.length||X)throw new Error("Contexts/pre-hash are not supported");return G});function E(G){return l.create(xc(G))}function I(G){const Z=V.secretKey;G=un("private key",G,Z);const X=un("hashed private key",t(G),2*Z),W=g(X.slice(0,Z)),x=X.slice(Z,2*Z),h=E(W);return{head:W,prefix:x,scalar:h}}function k(G){const{head:Z,prefix:X,scalar:W}=I(G),x=c.multiply(W),h=x.toBytes();return{head:Z,prefix:X,scalar:W,point:x,pointBytes:h}}function R(G){return k(G).pointBytes}function M(G=Uint8Array.of(),...Z){const X=Pr(...Z);return E(t(w(X,un("context",G),!!i)))}function U(G,Z,X={}){G=un("message",G),i&&(G=i(G));const{prefix:W,scalar:x,pointBytes:h}=k(Z),_=M(X.context,W,G),S=c.multiply(_).toBytes(),C=M(X.context,S,h,G),D=l.create(_+C*x);if(!l.isValid(D))throw new Error("sign failed: invalid s");const B=Pr(S,l.toBytes(D));return Tr(B,V.signature,"result")}const z={zip215:!0};function j(G,Z,X,W=z){const{context:x,zip215:h}=W,_=V.signature;G=un("signature",G,_),Z=un("message",Z),X=un("publicKey",X,V.publicKey),h!==void 0&&Qs(h,"zip215"),i&&(Z=i(Z));const S=_/2,C=G.subarray(0,S),D=xc(G.subarray(S,_));let B,v,m;try{B=s.fromBytes(X,h),v=s.fromBytes(C,h),m=c.multiplyUnsafe(D)}catch{return!1}if(!h&&B.isSmallOrder())return!1;const f=M(x,v.toBytes(),B.toBytes(),Z);return v.add(B.multiplyUnsafe(f)).subtract(m).clearCofactor().is0()}const F=o.BYTES,V={secretKey:F,publicKey:F,signature:2*F,seed:F};function $(G=d(V.seed)){return Tr(G,V.seed,"seed")}function re(G){const Z=le.randomSecretKey(G);return{secretKey:Z,publicKey:R(Z)}}function oe(G){return Bc(G)&&G.length===l.BYTES}function se(G,Z){try{return!!s.fromBytes(G,Z)}catch{return!1}}const le={getExtendedPublicKey:k,randomSecretKey:$,isValidSecretKey:oe,isValidPublicKey:se,toMontgomery(G){const{y:Z}=s.fromBytes(G),X=V.publicKey,W=X===32;if(!W&&X!==57)throw new Error("only defined for 25519 and 448");const x=W?o.div(En+Z,En-Z):o.div(Z-En,Z+En);return o.toBytes(x)},toMontgomerySecret(G){const Z=V.secretKey;Tr(G,Z);const X=t(G.subarray(0,Z));return g(X).subarray(0,Z)},randomPrivateKey:$,precompute(G=8,Z=s.BASE){return Z.precompute(G,!1)}};return Object.freeze({keygen:re,getPublicKey:R,sign:U,verify:j,utils:le,Point:s,lengths:V})}function f2(s){const t={a:s.a,d:s.d,p:s.Fp.ORDER,n:s.n,h:s.h,Gx:s.Gx,Gy:s.Gy},n=s.Fp,i=na(t.n,s.nBitLength,!0),c={Fp:n,Fn:i,uvRatio:s.uvRatio},o={randomBytes:s.randomBytes,adjustScalarBytes:s.adjustScalarBytes,domain:s.domain,prehash:s.prehash,mapToCurve:s.mapToCurve};return{CURVE:t,curveOpts:c,hash:s.hash,eddsaOpts:o}}function d2(s,t){const n=t.Point;return Object.assign({},t,{ExtendedPoint:n,CURVE:s,nBitLength:n.Fn.BITS,nByteLength:n.Fn.BYTES})}function h2(s){const{CURVE:t,curveOpts:n,hash:i,eddsaOpts:c}=f2(s),o=u2(t,n),l=l2(o,i,c);return d2(s,l)}const p2=BigInt(1),Lg=BigInt(2);BigInt(3);const m2=BigInt(5),y2=BigInt(8),Y0=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),Vw={p:Y0,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:y2,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function g2(s){const t=BigInt(10),n=BigInt(20),i=BigInt(40),c=BigInt(80),o=Y0,d=s*s%o*s%o,g=cn(d,Lg,o)*d%o,w=cn(g,p2,o)*s%o,E=cn(w,m2,o)*w%o,I=cn(E,t,o)*E%o,k=cn(I,n,o)*I%o,R=cn(k,i,o)*k%o,M=cn(R,c,o)*R%o,U=cn(M,c,o)*R%o,z=cn(U,t,o)*E%o;return{pow_p_5_8:cn(z,Lg,o)*s%o,b2:d}}function b2(s){return s[0]&=248,s[31]&=127,s[31]|=64,s}const zg=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function w2(s,t){const n=Y0,i=bn(t*t*t,n),c=bn(i*i*t,n),o=g2(s*c).pow_p_5_8;let l=bn(s*i*o,n);const d=bn(t*l*l,n),g=l,w=bn(l*zg,n),E=d===s,I=d===bn(-s,n),k=d===bn(-s*zg,n);return E&&(l=g),(I||k)&&(l=w),JR(l,n)&&(l=bn(-l,n)),{isValid:E||I,value:l}}const _2=na(Vw.p,{isLE:!0}),v2={...Vw,Fp:_2,hash:GR,adjustScalarBytes:b2,uvRatio:w2},yo=h2(v2);var vl={exports:{}};const E2={},S2=Object.freeze(Object.defineProperty({__proto__:null,default:E2},Symbol.toStringTag,{value:"Module"})),A2=Kl(S2);var R2=vl.exports,Hg;function Z0(){return Hg||(Hg=1,(function(s){(function(t,n){function i(x,h){if(!x)throw new Error(h||"Assertion failed")}function c(x,h){x.super_=h;var _=function(){};_.prototype=h.prototype,x.prototype=new _,x.prototype.constructor=x}function o(x,h,_){if(o.isBN(x))return x;this.negative=0,this.words=null,this.length=0,this.red=null,x!==null&&((h==="le"||h==="be")&&(_=h,h=10),this._init(x||0,h||10,_||"be"))}typeof t=="object"?t.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var l;try{typeof window<"u"&&typeof window.Buffer<"u"?l=window.Buffer:l=A2.Buffer}catch{}o.isBN=function(h){return h instanceof o?!0:h!==null&&typeof h=="object"&&h.constructor.wordSize===o.wordSize&&Array.isArray(h.words)},o.max=function(h,_){return h.cmp(_)>0?h:_},o.min=function(h,_){return h.cmp(_)<0?h:_},o.prototype._init=function(h,_,S){if(typeof h=="number")return this._initNumber(h,_,S);if(typeof h=="object")return this._initArray(h,_,S);_==="hex"&&(_=16),i(_===(_|0)&&_>=2&&_<=36),h=h.toString().replace(/\s+/g,"");var C=0;h[0]==="-"&&(C++,this.negative=1),C<h.length&&(_===16?this._parseHex(h,C,S):(this._parseBase(h,_,C),S==="le"&&this._initArray(this.toArray(),_,S)))},o.prototype._initNumber=function(h,_,S){h<0&&(this.negative=1,h=-h),h<67108864?(this.words=[h&67108863],this.length=1):h<4503599627370496?(this.words=[h&67108863,h/67108864&67108863],this.length=2):(i(h<9007199254740992),this.words=[h&67108863,h/67108864&67108863,1],this.length=3),S==="le"&&this._initArray(this.toArray(),_,S)},o.prototype._initArray=function(h,_,S){if(i(typeof h.length=="number"),h.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(h.length/3),this.words=new Array(this.length);for(var C=0;C<this.length;C++)this.words[C]=0;var D,B,v=0;if(S==="be")for(C=h.length-1,D=0;C>=0;C-=3)B=h[C]|h[C-1]<<8|h[C-2]<<16,this.words[D]|=B<<v&67108863,this.words[D+1]=B>>>26-v&67108863,v+=24,v>=26&&(v-=26,D++);else if(S==="le")for(C=0,D=0;C<h.length;C+=3)B=h[C]|h[C+1]<<8|h[C+2]<<16,this.words[D]|=B<<v&67108863,this.words[D+1]=B>>>26-v&67108863,v+=24,v>=26&&(v-=26,D++);return this._strip()};function d(x,h){var _=x.charCodeAt(h);if(_>=48&&_<=57)return _-48;if(_>=65&&_<=70)return _-55;if(_>=97&&_<=102)return _-87;i(!1,"Invalid character in "+x)}function g(x,h,_){var S=d(x,_);return _-1>=h&&(S|=d(x,_-1)<<4),S}o.prototype._parseHex=function(h,_,S){this.length=Math.ceil((h.length-_)/6),this.words=new Array(this.length);for(var C=0;C<this.length;C++)this.words[C]=0;var D=0,B=0,v;if(S==="be")for(C=h.length-1;C>=_;C-=2)v=g(h,_,C)<<D,this.words[B]|=v&67108863,D>=18?(D-=18,B+=1,this.words[B]|=v>>>26):D+=8;else{var m=h.length-_;for(C=m%2===0?_+1:_;C<h.length;C+=2)v=g(h,_,C)<<D,this.words[B]|=v&67108863,D>=18?(D-=18,B+=1,this.words[B]|=v>>>26):D+=8}this._strip()};function w(x,h,_,S){for(var C=0,D=0,B=Math.min(x.length,_),v=h;v<B;v++){var m=x.charCodeAt(v)-48;C*=S,m>=49?D=m-49+10:m>=17?D=m-17+10:D=m,i(m>=0&&D<S,"Invalid character"),C+=D}return C}o.prototype._parseBase=function(h,_,S){this.words=[0],this.length=1;for(var C=0,D=1;D<=67108863;D*=_)C++;C--,D=D/_|0;for(var B=h.length-S,v=B%C,m=Math.min(B,B-v)+S,f=0,y=S;y<m;y+=C)f=w(h,y,y+C,_),this.imuln(D),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(v!==0){var O=1;for(f=w(h,y,h.length,_),y=0;y<v;y++)O*=_;this.imuln(O),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this._strip()},o.prototype.copy=function(h){h.words=new Array(this.length);for(var _=0;_<this.length;_++)h.words[_]=this.words[_];h.length=this.length,h.negative=this.negative,h.red=this.red};function E(x,h){x.words=h.words,x.length=h.length,x.negative=h.negative,x.red=h.red}if(o.prototype._move=function(h){E(h,this)},o.prototype.clone=function(){var h=new o(null);return this.copy(h),h},o.prototype._expand=function(h){for(;this.length<h;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=I}catch{o.prototype.inspect=I}else o.prototype.inspect=I;function I(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var k=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],R=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(h,_){h=h||10,_=_|0||1;var S;if(h===16||h==="hex"){S="";for(var C=0,D=0,B=0;B<this.length;B++){var v=this.words[B],m=((v<<C|D)&16777215).toString(16);D=v>>>24-C&16777215,C+=2,C>=26&&(C-=26,B--),D!==0||B!==this.length-1?S=k[6-m.length]+m+S:S=m+S}for(D!==0&&(S=D.toString(16)+S);S.length%_!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}if(h===(h|0)&&h>=2&&h<=36){var f=R[h],y=M[h];S="";var O=this.clone();for(O.negative=0;!O.isZero();){var L=O.modrn(y).toString(h);O=O.idivn(y),O.isZero()?S=L+S:S=k[f-L.length]+L+S}for(this.isZero()&&(S="0"+S);S.length%_!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}i(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var h=this.words[0];return this.length===2?h+=this.words[1]*67108864:this.length===3&&this.words[2]===1?h+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-h:h},o.prototype.toJSON=function(){return this.toString(16,2)},l&&(o.prototype.toBuffer=function(h,_){return this.toArrayLike(l,h,_)}),o.prototype.toArray=function(h,_){return this.toArrayLike(Array,h,_)};var U=function(h,_){return h.allocUnsafe?h.allocUnsafe(_):new h(_)};o.prototype.toArrayLike=function(h,_,S){this._strip();var C=this.byteLength(),D=S||Math.max(1,C);i(C<=D,"byte array longer than desired length"),i(D>0,"Requested array length <= 0");var B=U(h,D),v=_==="le"?"LE":"BE";return this["_toArrayLike"+v](B,C),B},o.prototype._toArrayLikeLE=function(h,_){for(var S=0,C=0,D=0,B=0;D<this.length;D++){var v=this.words[D]<<B|C;h[S++]=v&255,S<h.length&&(h[S++]=v>>8&255),S<h.length&&(h[S++]=v>>16&255),B===6?(S<h.length&&(h[S++]=v>>24&255),C=0,B=0):(C=v>>>24,B+=2)}if(S<h.length)for(h[S++]=C;S<h.length;)h[S++]=0},o.prototype._toArrayLikeBE=function(h,_){for(var S=h.length-1,C=0,D=0,B=0;D<this.length;D++){var v=this.words[D]<<B|C;h[S--]=v&255,S>=0&&(h[S--]=v>>8&255),S>=0&&(h[S--]=v>>16&255),B===6?(S>=0&&(h[S--]=v>>24&255),C=0,B=0):(C=v>>>24,B+=2)}if(S>=0)for(h[S--]=C;S>=0;)h[S--]=0},Math.clz32?o.prototype._countBits=function(h){return 32-Math.clz32(h)}:o.prototype._countBits=function(h){var _=h,S=0;return _>=4096&&(S+=13,_>>>=13),_>=64&&(S+=7,_>>>=7),_>=8&&(S+=4,_>>>=4),_>=2&&(S+=2,_>>>=2),S+_},o.prototype._zeroBits=function(h){if(h===0)return 26;var _=h,S=0;return(_&8191)===0&&(S+=13,_>>>=13),(_&127)===0&&(S+=7,_>>>=7),(_&15)===0&&(S+=4,_>>>=4),(_&3)===0&&(S+=2,_>>>=2),(_&1)===0&&S++,S},o.prototype.bitLength=function(){var h=this.words[this.length-1],_=this._countBits(h);return(this.length-1)*26+_};function z(x){for(var h=new Array(x.bitLength()),_=0;_<h.length;_++){var S=_/26|0,C=_%26;h[_]=x.words[S]>>>C&1}return h}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var h=0,_=0;_<this.length;_++){var S=this._zeroBits(this.words[_]);if(h+=S,S!==26)break}return h},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(h){return this.negative!==0?this.abs().inotn(h).iaddn(1):this.clone()},o.prototype.fromTwos=function(h){return this.testn(h-1)?this.notn(h).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(h){for(;this.length<h.length;)this.words[this.length++]=0;for(var _=0;_<h.length;_++)this.words[_]=this.words[_]|h.words[_];return this._strip()},o.prototype.ior=function(h){return i((this.negative|h.negative)===0),this.iuor(h)},o.prototype.or=function(h){return this.length>h.length?this.clone().ior(h):h.clone().ior(this)},o.prototype.uor=function(h){return this.length>h.length?this.clone().iuor(h):h.clone().iuor(this)},o.prototype.iuand=function(h){var _;this.length>h.length?_=h:_=this;for(var S=0;S<_.length;S++)this.words[S]=this.words[S]&h.words[S];return this.length=_.length,this._strip()},o.prototype.iand=function(h){return i((this.negative|h.negative)===0),this.iuand(h)},o.prototype.and=function(h){return this.length>h.length?this.clone().iand(h):h.clone().iand(this)},o.prototype.uand=function(h){return this.length>h.length?this.clone().iuand(h):h.clone().iuand(this)},o.prototype.iuxor=function(h){var _,S;this.length>h.length?(_=this,S=h):(_=h,S=this);for(var C=0;C<S.length;C++)this.words[C]=_.words[C]^S.words[C];if(this!==_)for(;C<_.length;C++)this.words[C]=_.words[C];return this.length=_.length,this._strip()},o.prototype.ixor=function(h){return i((this.negative|h.negative)===0),this.iuxor(h)},o.prototype.xor=function(h){return this.length>h.length?this.clone().ixor(h):h.clone().ixor(this)},o.prototype.uxor=function(h){return this.length>h.length?this.clone().iuxor(h):h.clone().iuxor(this)},o.prototype.inotn=function(h){i(typeof h=="number"&&h>=0);var _=Math.ceil(h/26)|0,S=h%26;this._expand(_),S>0&&_--;for(var C=0;C<_;C++)this.words[C]=~this.words[C]&67108863;return S>0&&(this.words[C]=~this.words[C]&67108863>>26-S),this._strip()},o.prototype.notn=function(h){return this.clone().inotn(h)},o.prototype.setn=function(h,_){i(typeof h=="number"&&h>=0);var S=h/26|0,C=h%26;return this._expand(S+1),_?this.words[S]=this.words[S]|1<<C:this.words[S]=this.words[S]&~(1<<C),this._strip()},o.prototype.iadd=function(h){var _;if(this.negative!==0&&h.negative===0)return this.negative=0,_=this.isub(h),this.negative^=1,this._normSign();if(this.negative===0&&h.negative!==0)return h.negative=0,_=this.isub(h),h.negative=1,_._normSign();var S,C;this.length>h.length?(S=this,C=h):(S=h,C=this);for(var D=0,B=0;B<C.length;B++)_=(S.words[B]|0)+(C.words[B]|0)+D,this.words[B]=_&67108863,D=_>>>26;for(;D!==0&&B<S.length;B++)_=(S.words[B]|0)+D,this.words[B]=_&67108863,D=_>>>26;if(this.length=S.length,D!==0)this.words[this.length]=D,this.length++;else if(S!==this)for(;B<S.length;B++)this.words[B]=S.words[B];return this},o.prototype.add=function(h){var _;return h.negative!==0&&this.negative===0?(h.negative=0,_=this.sub(h),h.negative^=1,_):h.negative===0&&this.negative!==0?(this.negative=0,_=h.sub(this),this.negative=1,_):this.length>h.length?this.clone().iadd(h):h.clone().iadd(this)},o.prototype.isub=function(h){if(h.negative!==0){h.negative=0;var _=this.iadd(h);return h.negative=1,_._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(h),this.negative=1,this._normSign();var S=this.cmp(h);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;var C,D;S>0?(C=this,D=h):(C=h,D=this);for(var B=0,v=0;v<D.length;v++)_=(C.words[v]|0)-(D.words[v]|0)+B,B=_>>26,this.words[v]=_&67108863;for(;B!==0&&v<C.length;v++)_=(C.words[v]|0)+B,B=_>>26,this.words[v]=_&67108863;if(B===0&&v<C.length&&C!==this)for(;v<C.length;v++)this.words[v]=C.words[v];return this.length=Math.max(this.length,v),C!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(h){return this.clone().isub(h)};function j(x,h,_){_.negative=h.negative^x.negative;var S=x.length+h.length|0;_.length=S,S=S-1|0;var C=x.words[0]|0,D=h.words[0]|0,B=C*D,v=B&67108863,m=B/67108864|0;_.words[0]=v;for(var f=1;f<S;f++){for(var y=m>>>26,O=m&67108863,L=Math.min(f,h.length-1),Y=Math.max(0,f-x.length+1);Y<=L;Y++){var ne=f-Y|0;C=x.words[ne]|0,D=h.words[Y]|0,B=C*D+O,y+=B/67108864|0,O=B&67108863}_.words[f]=O|0,m=y|0}return m!==0?_.words[f]=m|0:_.length--,_._strip()}var F=function(h,_,S){var C=h.words,D=_.words,B=S.words,v=0,m,f,y,O=C[0]|0,L=O&8191,Y=O>>>13,ne=C[1]|0,ie=ne&8191,he=ne>>>13,Ae=C[2]|0,Ie=Ae&8191,Ve=Ae>>>13,xt=C[3]|0,qe=xt&8191,Fe=xt>>>13,en=C[4]|0,Xe=en&8191,We=en>>>13,zn=C[5]|0,bt=zn&8191,Ye=zn>>>13,Ut=C[6]|0,$e=Ut&8191,He=Ut>>>13,qt=C[7]|0,wt=qt&8191,H=qt>>>13,A=C[8]|0,T=A&8191,P=A>>>13,te=C[9]|0,ce=te&8191,ge=te>>>13,ze=D[0]|0,Ke=ze&8191,Ue=ze>>>13,kt=D[1]|0,Ze=kt&8191,tn=kt>>>13,vs=D[2]|0,Dt=vs&8191,Lt=vs>>>13,kr=D[3]|0,zt=kr&8191,Ct=kr>>>13,Vc=D[4]|0,Yt=Vc&8191,Pt=Vc>>>13,Ii=D[5]|0,nn=Ii&8191,Zt=Ii>>>13,vo=D[6]|0,Xt=vo&8191,Kt=vo>>>13,oa=D[7]|0,Wt=oa&8191,$t=oa>>>13,vr=D[8]|0,it=vr&8191,lt=vr>>>13,Wr=D[9]|0,Vt=Wr&8191,rn=Wr>>>13;S.negative=h.negative^_.negative,S.length=19,m=Math.imul(L,Ke),f=Math.imul(L,Ue),f=f+Math.imul(Y,Ke)|0,y=Math.imul(Y,Ue);var Eo=(v+m|0)+((f&8191)<<13)|0;v=(y+(f>>>13)|0)+(Eo>>>26)|0,Eo&=67108863,m=Math.imul(ie,Ke),f=Math.imul(ie,Ue),f=f+Math.imul(he,Ke)|0,y=Math.imul(he,Ue),m=m+Math.imul(L,Ze)|0,f=f+Math.imul(L,tn)|0,f=f+Math.imul(Y,Ze)|0,y=y+Math.imul(Y,tn)|0;var ca=(v+m|0)+((f&8191)<<13)|0;v=(y+(f>>>13)|0)+(ca>>>26)|0,ca&=67108863,m=Math.imul(Ie,Ke),f=Math.imul(Ie,Ue),f=f+Math.imul(Ve,Ke)|0,y=Math.imul(Ve,Ue),m=m+Math.imul(ie,Ze)|0,f=f+Math.imul(ie,tn)|0,f=f+Math.imul(he,Ze)|0,y=y+Math.imul(he,tn)|0,m=m+Math.imul(L,Dt)|0,f=f+Math.imul(L,Lt)|0,f=f+Math.imul(Y,Dt)|0,y=y+Math.imul(Y,Lt)|0;var $r=(v+m|0)+((f&8191)<<13)|0;v=(y+(f>>>13)|0)+($r>>>26)|0,$r&=67108863,m=Math.imul(qe,Ke),f=Math.imul(qe,Ue),f=f+Math.imul(Fe,Ke)|0,y=Math.imul(Fe,Ue),m=m+Math.imul(Ie,Ze)|0,f=f+Math.imul(Ie,tn)|0,f=f+Math.imul(Ve,Ze)|0,y=y+Math.imul(Ve,tn)|0,m=m+Math.imul(ie,Dt)|0,f=f+Math.imul(ie,Lt)|0,f=f+Math.imul(he,Dt)|0,y=y+Math.imul(he,Lt)|0,m=m+Math.imul(L,zt)|0,f=f+Math.imul(L,Ct)|0,f=f+Math.imul(Y,zt)|0,y=y+Math.imul(Y,Ct)|0;var Es=(v+m|0)+((f&8191)<<13)|0;v=(y+(f>>>13)|0)+(Es>>>26)|0,Es&=67108863,m=Math.imul(Xe,Ke),f=Math.imul(Xe,Ue),f=f+Math.imul(We,Ke)|0,y=Math.imul(We,Ue),m=m+Math.imul(qe,Ze)|0,f=f+Math.imul(qe,tn)|0,f=f+Math.imul(Fe,Ze)|0,y=y+Math.imul(Fe,tn)|0,m=m+Math.imul(Ie,Dt)|0,f=f+Math.imul(Ie,Lt)|0,f=f+Math.imul(Ve,Dt)|0,y=y+Math.imul(Ve,Lt)|0,m=m+Math.imul(ie,zt)|0,f=f+Math.imul(ie,Ct)|0,f=f+Math.imul(he,zt)|0,y=y+Math.imul(he,Ct)|0,m=m+Math.imul(L,Yt)|0,f=f+Math.imul(L,Pt)|0,f=f+Math.imul(Y,Yt)|0,y=y+Math.imul(Y,Pt)|0;var Ir=(v+m|0)+((f&8191)<<13)|0;v=(y+(f>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,m=Math.imul(bt,Ke),f=Math.imul(bt,Ue),f=f+Math.imul(Ye,Ke)|0,y=Math.imul(Ye,Ue),m=m+Math.imul(Xe,Ze)|0,f=f+Math.imul(Xe,tn)|0,f=f+Math.imul(We,Ze)|0,y=y+Math.imul(We,tn)|0,m=m+Math.imul(qe,Dt)|0,f=f+Math.imul(qe,Lt)|0,f=f+Math.imul(Fe,Dt)|0,y=y+Math.imul(Fe,Lt)|0,m=m+Math.imul(Ie,zt)|0,f=f+Math.imul(Ie,Ct)|0,f=f+Math.imul(Ve,zt)|0,y=y+Math.imul(Ve,Ct)|0,m=m+Math.imul(ie,Yt)|0,f=f+Math.imul(ie,Pt)|0,f=f+Math.imul(he,Yt)|0,y=y+Math.imul(he,Pt)|0,m=m+Math.imul(L,nn)|0,f=f+Math.imul(L,Zt)|0,f=f+Math.imul(Y,nn)|0,y=y+Math.imul(Y,Zt)|0;var Cr=(v+m|0)+((f&8191)<<13)|0;v=(y+(f>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,m=Math.imul($e,Ke),f=Math.imul($e,Ue),f=f+Math.imul(He,Ke)|0,y=Math.imul(He,Ue),m=m+Math.imul(bt,Ze)|0,f=f+Math.imul(bt,tn)|0,f=f+Math.imul(Ye,Ze)|0,y=y+Math.imul(Ye,tn)|0,m=m+Math.imul(Xe,Dt)|0,f=f+Math.imul(Xe,Lt)|0,f=f+Math.imul(We,Dt)|0,y=y+Math.imul(We,Lt)|0,m=m+Math.imul(qe,zt)|0,f=f+Math.imul(qe,Ct)|0,f=f+Math.imul(Fe,zt)|0,y=y+Math.imul(Fe,Ct)|0,m=m+Math.imul(Ie,Yt)|0,f=f+Math.imul(Ie,Pt)|0,f=f+Math.imul(Ve,Yt)|0,y=y+Math.imul(Ve,Pt)|0,m=m+Math.imul(ie,nn)|0,f=f+Math.imul(ie,Zt)|0,f=f+Math.imul(he,nn)|0,y=y+Math.imul(he,Zt)|0,m=m+Math.imul(L,Xt)|0,f=f+Math.imul(L,Kt)|0,f=f+Math.imul(Y,Xt)|0,y=y+Math.imul(Y,Kt)|0;var Qr=(v+m|0)+((f&8191)<<13)|0;v=(y+(f>>>13)|0)+(Qr>>>26)|0,Qr&=67108863,m=Math.imul(wt,Ke),f=Math.imul(wt,Ue),f=f+Math.imul(H,Ke)|0,y=Math.imul(H,Ue),m=m+Math.imul($e,Ze)|0,f=f+Math.imul($e,tn)|0,f=f+Math.imul(He,Ze)|0,y=y+Math.imul(He,tn)|0,m=m+Math.imul(bt,Dt)|0,f=f+Math.imul(bt,Lt)|0,f=f+Math.imul(Ye,Dt)|0,y=y+Math.imul(Ye,Lt)|0,m=m+Math.imul(Xe,zt)|0,f=f+Math.imul(Xe,Ct)|0,f=f+Math.imul(We,zt)|0,y=y+Math.imul(We,Ct)|0,m=m+Math.imul(qe,Yt)|0,f=f+Math.imul(qe,Pt)|0,f=f+Math.imul(Fe,Yt)|0,y=y+Math.imul(Fe,Pt)|0,m=m+Math.imul(Ie,nn)|0,f=f+Math.imul(Ie,Zt)|0,f=f+Math.imul(Ve,nn)|0,y=y+Math.imul(Ve,Zt)|0,m=m+Math.imul(ie,Xt)|0,f=f+Math.imul(ie,Kt)|0,f=f+Math.imul(he,Xt)|0,y=y+Math.imul(he,Kt)|0,m=m+Math.imul(L,Wt)|0,f=f+Math.imul(L,$t)|0,f=f+Math.imul(Y,Wt)|0,y=y+Math.imul(Y,$t)|0;var Br=(v+m|0)+((f&8191)<<13)|0;v=(y+(f>>>13)|0)+(Br>>>26)|0,Br&=67108863,m=Math.imul(T,Ke),f=Math.imul(T,Ue),f=f+Math.imul(P,Ke)|0,y=Math.imul(P,Ue),m=m+Math.imul(wt,Ze)|0,f=f+Math.imul(wt,tn)|0,f=f+Math.imul(H,Ze)|0,y=y+Math.imul(H,tn)|0,m=m+Math.imul($e,Dt)|0,f=f+Math.imul($e,Lt)|0,f=f+Math.imul(He,Dt)|0,y=y+Math.imul(He,Lt)|0,m=m+Math.imul(bt,zt)|0,f=f+Math.imul(bt,Ct)|0,f=f+Math.imul(Ye,zt)|0,y=y+Math.imul(Ye,Ct)|0,m=m+Math.imul(Xe,Yt)|0,f=f+Math.imul(Xe,Pt)|0,f=f+Math.imul(We,Yt)|0,y=y+Math.imul(We,Pt)|0,m=m+Math.imul(qe,nn)|0,f=f+Math.imul(qe,Zt)|0,f=f+Math.imul(Fe,nn)|0,y=y+Math.imul(Fe,Zt)|0,m=m+Math.imul(Ie,Xt)|0,f=f+Math.imul(Ie,Kt)|0,f=f+Math.imul(Ve,Xt)|0,y=y+Math.imul(Ve,Kt)|0,m=m+Math.imul(ie,Wt)|0,f=f+Math.imul(ie,$t)|0,f=f+Math.imul(he,Wt)|0,y=y+Math.imul(he,$t)|0,m=m+Math.imul(L,it)|0,f=f+Math.imul(L,lt)|0,f=f+Math.imul(Y,it)|0,y=y+Math.imul(Y,lt)|0;var sn=(v+m|0)+((f&8191)<<13)|0;v=(y+(f>>>13)|0)+(sn>>>26)|0,sn&=67108863,m=Math.imul(ce,Ke),f=Math.imul(ce,Ue),f=f+Math.imul(ge,Ke)|0,y=Math.imul(ge,Ue),m=m+Math.imul(T,Ze)|0,f=f+Math.imul(T,tn)|0,f=f+Math.imul(P,Ze)|0,y=y+Math.imul(P,tn)|0,m=m+Math.imul(wt,Dt)|0,f=f+Math.imul(wt,Lt)|0,f=f+Math.imul(H,Dt)|0,y=y+Math.imul(H,Lt)|0,m=m+Math.imul($e,zt)|0,f=f+Math.imul($e,Ct)|0,f=f+Math.imul(He,zt)|0,y=y+Math.imul(He,Ct)|0,m=m+Math.imul(bt,Yt)|0,f=f+Math.imul(bt,Pt)|0,f=f+Math.imul(Ye,Yt)|0,y=y+Math.imul(Ye,Pt)|0,m=m+Math.imul(Xe,nn)|0,f=f+Math.imul(Xe,Zt)|0,f=f+Math.imul(We,nn)|0,y=y+Math.imul(We,Zt)|0,m=m+Math.imul(qe,Xt)|0,f=f+Math.imul(qe,Kt)|0,f=f+Math.imul(Fe,Xt)|0,y=y+Math.imul(Fe,Kt)|0,m=m+Math.imul(Ie,Wt)|0,f=f+Math.imul(Ie,$t)|0,f=f+Math.imul(Ve,Wt)|0,y=y+Math.imul(Ve,$t)|0,m=m+Math.imul(ie,it)|0,f=f+Math.imul(ie,lt)|0,f=f+Math.imul(he,it)|0,y=y+Math.imul(he,lt)|0,m=m+Math.imul(L,Vt)|0,f=f+Math.imul(L,rn)|0,f=f+Math.imul(Y,Vt)|0,y=y+Math.imul(Y,rn)|0;var ua=(v+m|0)+((f&8191)<<13)|0;v=(y+(f>>>13)|0)+(ua>>>26)|0,ua&=67108863,m=Math.imul(ce,Ze),f=Math.imul(ce,tn),f=f+Math.imul(ge,Ze)|0,y=Math.imul(ge,tn),m=m+Math.imul(T,Dt)|0,f=f+Math.imul(T,Lt)|0,f=f+Math.imul(P,Dt)|0,y=y+Math.imul(P,Lt)|0,m=m+Math.imul(wt,zt)|0,f=f+Math.imul(wt,Ct)|0,f=f+Math.imul(H,zt)|0,y=y+Math.imul(H,Ct)|0,m=m+Math.imul($e,Yt)|0,f=f+Math.imul($e,Pt)|0,f=f+Math.imul(He,Yt)|0,y=y+Math.imul(He,Pt)|0,m=m+Math.imul(bt,nn)|0,f=f+Math.imul(bt,Zt)|0,f=f+Math.imul(Ye,nn)|0,y=y+Math.imul(Ye,Zt)|0,m=m+Math.imul(Xe,Xt)|0,f=f+Math.imul(Xe,Kt)|0,f=f+Math.imul(We,Xt)|0,y=y+Math.imul(We,Kt)|0,m=m+Math.imul(qe,Wt)|0,f=f+Math.imul(qe,$t)|0,f=f+Math.imul(Fe,Wt)|0,y=y+Math.imul(Fe,$t)|0,m=m+Math.imul(Ie,it)|0,f=f+Math.imul(Ie,lt)|0,f=f+Math.imul(Ve,it)|0,y=y+Math.imul(Ve,lt)|0,m=m+Math.imul(ie,Vt)|0,f=f+Math.imul(ie,rn)|0,f=f+Math.imul(he,Vt)|0,y=y+Math.imul(he,rn)|0;var la=(v+m|0)+((f&8191)<<13)|0;v=(y+(f>>>13)|0)+(la>>>26)|0,la&=67108863,m=Math.imul(ce,Dt),f=Math.imul(ce,Lt),f=f+Math.imul(ge,Dt)|0,y=Math.imul(ge,Lt),m=m+Math.imul(T,zt)|0,f=f+Math.imul(T,Ct)|0,f=f+Math.imul(P,zt)|0,y=y+Math.imul(P,Ct)|0,m=m+Math.imul(wt,Yt)|0,f=f+Math.imul(wt,Pt)|0,f=f+Math.imul(H,Yt)|0,y=y+Math.imul(H,Pt)|0,m=m+Math.imul($e,nn)|0,f=f+Math.imul($e,Zt)|0,f=f+Math.imul(He,nn)|0,y=y+Math.imul(He,Zt)|0,m=m+Math.imul(bt,Xt)|0,f=f+Math.imul(bt,Kt)|0,f=f+Math.imul(Ye,Xt)|0,y=y+Math.imul(Ye,Kt)|0,m=m+Math.imul(Xe,Wt)|0,f=f+Math.imul(Xe,$t)|0,f=f+Math.imul(We,Wt)|0,y=y+Math.imul(We,$t)|0,m=m+Math.imul(qe,it)|0,f=f+Math.imul(qe,lt)|0,f=f+Math.imul(Fe,it)|0,y=y+Math.imul(Fe,lt)|0,m=m+Math.imul(Ie,Vt)|0,f=f+Math.imul(Ie,rn)|0,f=f+Math.imul(Ve,Vt)|0,y=y+Math.imul(Ve,rn)|0;var Er=(v+m|0)+((f&8191)<<13)|0;v=(y+(f>>>13)|0)+(Er>>>26)|0,Er&=67108863,m=Math.imul(ce,zt),f=Math.imul(ce,Ct),f=f+Math.imul(ge,zt)|0,y=Math.imul(ge,Ct),m=m+Math.imul(T,Yt)|0,f=f+Math.imul(T,Pt)|0,f=f+Math.imul(P,Yt)|0,y=y+Math.imul(P,Pt)|0,m=m+Math.imul(wt,nn)|0,f=f+Math.imul(wt,Zt)|0,f=f+Math.imul(H,nn)|0,y=y+Math.imul(H,Zt)|0,m=m+Math.imul($e,Xt)|0,f=f+Math.imul($e,Kt)|0,f=f+Math.imul(He,Xt)|0,y=y+Math.imul(He,Kt)|0,m=m+Math.imul(bt,Wt)|0,f=f+Math.imul(bt,$t)|0,f=f+Math.imul(Ye,Wt)|0,y=y+Math.imul(Ye,$t)|0,m=m+Math.imul(Xe,it)|0,f=f+Math.imul(Xe,lt)|0,f=f+Math.imul(We,it)|0,y=y+Math.imul(We,lt)|0,m=m+Math.imul(qe,Vt)|0,f=f+Math.imul(qe,rn)|0,f=f+Math.imul(Fe,Vt)|0,y=y+Math.imul(Fe,rn)|0;var Mr=(v+m|0)+((f&8191)<<13)|0;v=(y+(f>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,m=Math.imul(ce,Yt),f=Math.imul(ce,Pt),f=f+Math.imul(ge,Yt)|0,y=Math.imul(ge,Pt),m=m+Math.imul(T,nn)|0,f=f+Math.imul(T,Zt)|0,f=f+Math.imul(P,nn)|0,y=y+Math.imul(P,Zt)|0,m=m+Math.imul(wt,Xt)|0,f=f+Math.imul(wt,Kt)|0,f=f+Math.imul(H,Xt)|0,y=y+Math.imul(H,Kt)|0,m=m+Math.imul($e,Wt)|0,f=f+Math.imul($e,$t)|0,f=f+Math.imul(He,Wt)|0,y=y+Math.imul(He,$t)|0,m=m+Math.imul(bt,it)|0,f=f+Math.imul(bt,lt)|0,f=f+Math.imul(Ye,it)|0,y=y+Math.imul(Ye,lt)|0,m=m+Math.imul(Xe,Vt)|0,f=f+Math.imul(Xe,rn)|0,f=f+Math.imul(We,Vt)|0,y=y+Math.imul(We,rn)|0;var So=(v+m|0)+((f&8191)<<13)|0;v=(y+(f>>>13)|0)+(So>>>26)|0,So&=67108863,m=Math.imul(ce,nn),f=Math.imul(ce,Zt),f=f+Math.imul(ge,nn)|0,y=Math.imul(ge,Zt),m=m+Math.imul(T,Xt)|0,f=f+Math.imul(T,Kt)|0,f=f+Math.imul(P,Xt)|0,y=y+Math.imul(P,Kt)|0,m=m+Math.imul(wt,Wt)|0,f=f+Math.imul(wt,$t)|0,f=f+Math.imul(H,Wt)|0,y=y+Math.imul(H,$t)|0,m=m+Math.imul($e,it)|0,f=f+Math.imul($e,lt)|0,f=f+Math.imul(He,it)|0,y=y+Math.imul(He,lt)|0,m=m+Math.imul(bt,Vt)|0,f=f+Math.imul(bt,rn)|0,f=f+Math.imul(Ye,Vt)|0,y=y+Math.imul(Ye,rn)|0;var fa=(v+m|0)+((f&8191)<<13)|0;v=(y+(f>>>13)|0)+(fa>>>26)|0,fa&=67108863,m=Math.imul(ce,Xt),f=Math.imul(ce,Kt),f=f+Math.imul(ge,Xt)|0,y=Math.imul(ge,Kt),m=m+Math.imul(T,Wt)|0,f=f+Math.imul(T,$t)|0,f=f+Math.imul(P,Wt)|0,y=y+Math.imul(P,$t)|0,m=m+Math.imul(wt,it)|0,f=f+Math.imul(wt,lt)|0,f=f+Math.imul(H,it)|0,y=y+Math.imul(H,lt)|0,m=m+Math.imul($e,Vt)|0,f=f+Math.imul($e,rn)|0,f=f+Math.imul(He,Vt)|0,y=y+Math.imul(He,rn)|0;var da=(v+m|0)+((f&8191)<<13)|0;v=(y+(f>>>13)|0)+(da>>>26)|0,da&=67108863,m=Math.imul(ce,Wt),f=Math.imul(ce,$t),f=f+Math.imul(ge,Wt)|0,y=Math.imul(ge,$t),m=m+Math.imul(T,it)|0,f=f+Math.imul(T,lt)|0,f=f+Math.imul(P,it)|0,y=y+Math.imul(P,lt)|0,m=m+Math.imul(wt,Vt)|0,f=f+Math.imul(wt,rn)|0,f=f+Math.imul(H,Vt)|0,y=y+Math.imul(H,rn)|0;var Ao=(v+m|0)+((f&8191)<<13)|0;v=(y+(f>>>13)|0)+(Ao>>>26)|0,Ao&=67108863,m=Math.imul(ce,it),f=Math.imul(ce,lt),f=f+Math.imul(ge,it)|0,y=Math.imul(ge,lt),m=m+Math.imul(T,Vt)|0,f=f+Math.imul(T,rn)|0,f=f+Math.imul(P,Vt)|0,y=y+Math.imul(P,rn)|0;var Ci=(v+m|0)+((f&8191)<<13)|0;v=(y+(f>>>13)|0)+(Ci>>>26)|0,Ci&=67108863,m=Math.imul(ce,Vt),f=Math.imul(ce,rn),f=f+Math.imul(ge,Vt)|0,y=Math.imul(ge,rn);var Bi=(v+m|0)+((f&8191)<<13)|0;return v=(y+(f>>>13)|0)+(Bi>>>26)|0,Bi&=67108863,B[0]=Eo,B[1]=ca,B[2]=$r,B[3]=Es,B[4]=Ir,B[5]=Cr,B[6]=Qr,B[7]=Br,B[8]=sn,B[9]=ua,B[10]=la,B[11]=Er,B[12]=Mr,B[13]=So,B[14]=fa,B[15]=da,B[16]=Ao,B[17]=Ci,B[18]=Bi,v!==0&&(B[19]=v,S.length++),S};Math.imul||(F=j);function V(x,h,_){_.negative=h.negative^x.negative,_.length=x.length+h.length;for(var S=0,C=0,D=0;D<_.length-1;D++){var B=C;C=0;for(var v=S&67108863,m=Math.min(D,h.length-1),f=Math.max(0,D-x.length+1);f<=m;f++){var y=D-f,O=x.words[y]|0,L=h.words[f]|0,Y=O*L,ne=Y&67108863;B=B+(Y/67108864|0)|0,ne=ne+v|0,v=ne&67108863,B=B+(ne>>>26)|0,C+=B>>>26,B&=67108863}_.words[D]=v,S=B,B=C}return S!==0?_.words[D]=S:_.length--,_._strip()}function $(x,h,_){return V(x,h,_)}o.prototype.mulTo=function(h,_){var S,C=this.length+h.length;return this.length===10&&h.length===10?S=F(this,h,_):C<63?S=j(this,h,_):C<1024?S=V(this,h,_):S=$(this,h,_),S},o.prototype.mul=function(h){var _=new o(null);return _.words=new Array(this.length+h.length),this.mulTo(h,_)},o.prototype.mulf=function(h){var _=new o(null);return _.words=new Array(this.length+h.length),$(this,h,_)},o.prototype.imul=function(h){return this.clone().mulTo(h,this)},o.prototype.imuln=function(h){var _=h<0;_&&(h=-h),i(typeof h=="number"),i(h<67108864);for(var S=0,C=0;C<this.length;C++){var D=(this.words[C]|0)*h,B=(D&67108863)+(S&67108863);S>>=26,S+=D/67108864|0,S+=B>>>26,this.words[C]=B&67108863}return S!==0&&(this.words[C]=S,this.length++),this.length=h===0?1:this.length,_?this.ineg():this},o.prototype.muln=function(h){return this.clone().imuln(h)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(h){var _=z(h);if(_.length===0)return new o(1);for(var S=this,C=0;C<_.length&&_[C]===0;C++,S=S.sqr());if(++C<_.length)for(var D=S.sqr();C<_.length;C++,D=D.sqr())_[C]!==0&&(S=S.mul(D));return S},o.prototype.iushln=function(h){i(typeof h=="number"&&h>=0);var _=h%26,S=(h-_)/26,C=67108863>>>26-_<<26-_,D;if(_!==0){var B=0;for(D=0;D<this.length;D++){var v=this.words[D]&C,m=(this.words[D]|0)-v<<_;this.words[D]=m|B,B=v>>>26-_}B&&(this.words[D]=B,this.length++)}if(S!==0){for(D=this.length-1;D>=0;D--)this.words[D+S]=this.words[D];for(D=0;D<S;D++)this.words[D]=0;this.length+=S}return this._strip()},o.prototype.ishln=function(h){return i(this.negative===0),this.iushln(h)},o.prototype.iushrn=function(h,_,S){i(typeof h=="number"&&h>=0);var C;_?C=(_-_%26)/26:C=0;var D=h%26,B=Math.min((h-D)/26,this.length),v=67108863^67108863>>>D<<D,m=S;if(C-=B,C=Math.max(0,C),m){for(var f=0;f<B;f++)m.words[f]=this.words[f];m.length=B}if(B!==0)if(this.length>B)for(this.length-=B,f=0;f<this.length;f++)this.words[f]=this.words[f+B];else this.words[0]=0,this.length=1;var y=0;for(f=this.length-1;f>=0&&(y!==0||f>=C);f--){var O=this.words[f]|0;this.words[f]=y<<26-D|O>>>D,y=O&v}return m&&y!==0&&(m.words[m.length++]=y),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(h,_,S){return i(this.negative===0),this.iushrn(h,_,S)},o.prototype.shln=function(h){return this.clone().ishln(h)},o.prototype.ushln=function(h){return this.clone().iushln(h)},o.prototype.shrn=function(h){return this.clone().ishrn(h)},o.prototype.ushrn=function(h){return this.clone().iushrn(h)},o.prototype.testn=function(h){i(typeof h=="number"&&h>=0);var _=h%26,S=(h-_)/26,C=1<<_;if(this.length<=S)return!1;var D=this.words[S];return!!(D&C)},o.prototype.imaskn=function(h){i(typeof h=="number"&&h>=0);var _=h%26,S=(h-_)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=S)return this;if(_!==0&&S++,this.length=Math.min(S,this.length),_!==0){var C=67108863^67108863>>>_<<_;this.words[this.length-1]&=C}return this._strip()},o.prototype.maskn=function(h){return this.clone().imaskn(h)},o.prototype.iaddn=function(h){return i(typeof h=="number"),i(h<67108864),h<0?this.isubn(-h):this.negative!==0?this.length===1&&(this.words[0]|0)<=h?(this.words[0]=h-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(h),this.negative=1,this):this._iaddn(h)},o.prototype._iaddn=function(h){this.words[0]+=h;for(var _=0;_<this.length&&this.words[_]>=67108864;_++)this.words[_]-=67108864,_===this.length-1?this.words[_+1]=1:this.words[_+1]++;return this.length=Math.max(this.length,_+1),this},o.prototype.isubn=function(h){if(i(typeof h=="number"),i(h<67108864),h<0)return this.iaddn(-h);if(this.negative!==0)return this.negative=0,this.iaddn(h),this.negative=1,this;if(this.words[0]-=h,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var _=0;_<this.length&&this.words[_]<0;_++)this.words[_]+=67108864,this.words[_+1]-=1;return this._strip()},o.prototype.addn=function(h){return this.clone().iaddn(h)},o.prototype.subn=function(h){return this.clone().isubn(h)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(h,_,S){var C=h.length+S,D;this._expand(C);var B,v=0;for(D=0;D<h.length;D++){B=(this.words[D+S]|0)+v;var m=(h.words[D]|0)*_;B-=m&67108863,v=(B>>26)-(m/67108864|0),this.words[D+S]=B&67108863}for(;D<this.length-S;D++)B=(this.words[D+S]|0)+v,v=B>>26,this.words[D+S]=B&67108863;if(v===0)return this._strip();for(i(v===-1),v=0,D=0;D<this.length;D++)B=-(this.words[D]|0)+v,v=B>>26,this.words[D]=B&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(h,_){var S=this.length-h.length,C=this.clone(),D=h,B=D.words[D.length-1]|0,v=this._countBits(B);S=26-v,S!==0&&(D=D.ushln(S),C.iushln(S),B=D.words[D.length-1]|0);var m=C.length-D.length,f;if(_!=="mod"){f=new o(null),f.length=m+1,f.words=new Array(f.length);for(var y=0;y<f.length;y++)f.words[y]=0}var O=C.clone()._ishlnsubmul(D,1,m);O.negative===0&&(C=O,f&&(f.words[m]=1));for(var L=m-1;L>=0;L--){var Y=(C.words[D.length+L]|0)*67108864+(C.words[D.length+L-1]|0);for(Y=Math.min(Y/B|0,67108863),C._ishlnsubmul(D,Y,L);C.negative!==0;)Y--,C.negative=0,C._ishlnsubmul(D,1,L),C.isZero()||(C.negative^=1);f&&(f.words[L]=Y)}return f&&f._strip(),C._strip(),_!=="div"&&S!==0&&C.iushrn(S),{div:f||null,mod:C}},o.prototype.divmod=function(h,_,S){if(i(!h.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var C,D,B;return this.negative!==0&&h.negative===0?(B=this.neg().divmod(h,_),_!=="mod"&&(C=B.div.neg()),_!=="div"&&(D=B.mod.neg(),S&&D.negative!==0&&D.iadd(h)),{div:C,mod:D}):this.negative===0&&h.negative!==0?(B=this.divmod(h.neg(),_),_!=="mod"&&(C=B.div.neg()),{div:C,mod:B.mod}):(this.negative&h.negative)!==0?(B=this.neg().divmod(h.neg(),_),_!=="div"&&(D=B.mod.neg(),S&&D.negative!==0&&D.isub(h)),{div:B.div,mod:D}):h.length>this.length||this.cmp(h)<0?{div:new o(0),mod:this}:h.length===1?_==="div"?{div:this.divn(h.words[0]),mod:null}:_==="mod"?{div:null,mod:new o(this.modrn(h.words[0]))}:{div:this.divn(h.words[0]),mod:new o(this.modrn(h.words[0]))}:this._wordDiv(h,_)},o.prototype.div=function(h){return this.divmod(h,"div",!1).div},o.prototype.mod=function(h){return this.divmod(h,"mod",!1).mod},o.prototype.umod=function(h){return this.divmod(h,"mod",!0).mod},o.prototype.divRound=function(h){var _=this.divmod(h);if(_.mod.isZero())return _.div;var S=_.div.negative!==0?_.mod.isub(h):_.mod,C=h.ushrn(1),D=h.andln(1),B=S.cmp(C);return B<0||D===1&&B===0?_.div:_.div.negative!==0?_.div.isubn(1):_.div.iaddn(1)},o.prototype.modrn=function(h){var _=h<0;_&&(h=-h),i(h<=67108863);for(var S=(1<<26)%h,C=0,D=this.length-1;D>=0;D--)C=(S*C+(this.words[D]|0))%h;return _?-C:C},o.prototype.modn=function(h){return this.modrn(h)},o.prototype.idivn=function(h){var _=h<0;_&&(h=-h),i(h<=67108863);for(var S=0,C=this.length-1;C>=0;C--){var D=(this.words[C]|0)+S*67108864;this.words[C]=D/h|0,S=D%h}return this._strip(),_?this.ineg():this},o.prototype.divn=function(h){return this.clone().idivn(h)},o.prototype.egcd=function(h){i(h.negative===0),i(!h.isZero());var _=this,S=h.clone();_.negative!==0?_=_.umod(h):_=_.clone();for(var C=new o(1),D=new o(0),B=new o(0),v=new o(1),m=0;_.isEven()&&S.isEven();)_.iushrn(1),S.iushrn(1),++m;for(var f=S.clone(),y=_.clone();!_.isZero();){for(var O=0,L=1;(_.words[0]&L)===0&&O<26;++O,L<<=1);if(O>0)for(_.iushrn(O);O-- >0;)(C.isOdd()||D.isOdd())&&(C.iadd(f),D.isub(y)),C.iushrn(1),D.iushrn(1);for(var Y=0,ne=1;(S.words[0]&ne)===0&&Y<26;++Y,ne<<=1);if(Y>0)for(S.iushrn(Y);Y-- >0;)(B.isOdd()||v.isOdd())&&(B.iadd(f),v.isub(y)),B.iushrn(1),v.iushrn(1);_.cmp(S)>=0?(_.isub(S),C.isub(B),D.isub(v)):(S.isub(_),B.isub(C),v.isub(D))}return{a:B,b:v,gcd:S.iushln(m)}},o.prototype._invmp=function(h){i(h.negative===0),i(!h.isZero());var _=this,S=h.clone();_.negative!==0?_=_.umod(h):_=_.clone();for(var C=new o(1),D=new o(0),B=S.clone();_.cmpn(1)>0&&S.cmpn(1)>0;){for(var v=0,m=1;(_.words[0]&m)===0&&v<26;++v,m<<=1);if(v>0)for(_.iushrn(v);v-- >0;)C.isOdd()&&C.iadd(B),C.iushrn(1);for(var f=0,y=1;(S.words[0]&y)===0&&f<26;++f,y<<=1);if(f>0)for(S.iushrn(f);f-- >0;)D.isOdd()&&D.iadd(B),D.iushrn(1);_.cmp(S)>=0?(_.isub(S),C.isub(D)):(S.isub(_),D.isub(C))}var O;return _.cmpn(1)===0?O=C:O=D,O.cmpn(0)<0&&O.iadd(h),O},o.prototype.gcd=function(h){if(this.isZero())return h.abs();if(h.isZero())return this.abs();var _=this.clone(),S=h.clone();_.negative=0,S.negative=0;for(var C=0;_.isEven()&&S.isEven();C++)_.iushrn(1),S.iushrn(1);do{for(;_.isEven();)_.iushrn(1);for(;S.isEven();)S.iushrn(1);var D=_.cmp(S);if(D<0){var B=_;_=S,S=B}else if(D===0||S.cmpn(1)===0)break;_.isub(S)}while(!0);return S.iushln(C)},o.prototype.invm=function(h){return this.egcd(h).a.umod(h)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(h){return this.words[0]&h},o.prototype.bincn=function(h){i(typeof h=="number");var _=h%26,S=(h-_)/26,C=1<<_;if(this.length<=S)return this._expand(S+1),this.words[S]|=C,this;for(var D=C,B=S;D!==0&&B<this.length;B++){var v=this.words[B]|0;v+=D,D=v>>>26,v&=67108863,this.words[B]=v}return D!==0&&(this.words[B]=D,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(h){var _=h<0;if(this.negative!==0&&!_)return-1;if(this.negative===0&&_)return 1;this._strip();var S;if(this.length>1)S=1;else{_&&(h=-h),i(h<=67108863,"Number is too big");var C=this.words[0]|0;S=C===h?0:C<h?-1:1}return this.negative!==0?-S|0:S},o.prototype.cmp=function(h){if(this.negative!==0&&h.negative===0)return-1;if(this.negative===0&&h.negative!==0)return 1;var _=this.ucmp(h);return this.negative!==0?-_|0:_},o.prototype.ucmp=function(h){if(this.length>h.length)return 1;if(this.length<h.length)return-1;for(var _=0,S=this.length-1;S>=0;S--){var C=this.words[S]|0,D=h.words[S]|0;if(C!==D){C<D?_=-1:C>D&&(_=1);break}}return _},o.prototype.gtn=function(h){return this.cmpn(h)===1},o.prototype.gt=function(h){return this.cmp(h)===1},o.prototype.gten=function(h){return this.cmpn(h)>=0},o.prototype.gte=function(h){return this.cmp(h)>=0},o.prototype.ltn=function(h){return this.cmpn(h)===-1},o.prototype.lt=function(h){return this.cmp(h)===-1},o.prototype.lten=function(h){return this.cmpn(h)<=0},o.prototype.lte=function(h){return this.cmp(h)<=0},o.prototype.eqn=function(h){return this.cmpn(h)===0},o.prototype.eq=function(h){return this.cmp(h)===0},o.red=function(h){return new X(h)},o.prototype.toRed=function(h){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),h.convertTo(this)._forceRed(h)},o.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(h){return this.red=h,this},o.prototype.forceRed=function(h){return i(!this.red,"Already a number in reduction context"),this._forceRed(h)},o.prototype.redAdd=function(h){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,h)},o.prototype.redIAdd=function(h){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,h)},o.prototype.redSub=function(h){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,h)},o.prototype.redISub=function(h){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,h)},o.prototype.redShl=function(h){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,h)},o.prototype.redMul=function(h){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.mul(this,h)},o.prototype.redIMul=function(h){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.imul(this,h)},o.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(h){return i(this.red&&!h.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,h)};var re={k256:null,p224:null,p192:null,p25519:null};function oe(x,h){this.name=x,this.p=new o(h,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}oe.prototype._tmp=function(){var h=new o(null);return h.words=new Array(Math.ceil(this.n/13)),h},oe.prototype.ireduce=function(h){var _=h,S;do this.split(_,this.tmp),_=this.imulK(_),_=_.iadd(this.tmp),S=_.bitLength();while(S>this.n);var C=S<this.n?-1:_.ucmp(this.p);return C===0?(_.words[0]=0,_.length=1):C>0?_.isub(this.p):_.strip!==void 0?_.strip():_._strip(),_},oe.prototype.split=function(h,_){h.iushrn(this.n,0,_)},oe.prototype.imulK=function(h){return h.imul(this.k)};function se(){oe.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}c(se,oe),se.prototype.split=function(h,_){for(var S=4194303,C=Math.min(h.length,9),D=0;D<C;D++)_.words[D]=h.words[D];if(_.length=C,h.length<=9){h.words[0]=0,h.length=1;return}var B=h.words[9];for(_.words[_.length++]=B&S,D=10;D<h.length;D++){var v=h.words[D]|0;h.words[D-10]=(v&S)<<4|B>>>22,B=v}B>>>=22,h.words[D-10]=B,B===0&&h.length>10?h.length-=10:h.length-=9},se.prototype.imulK=function(h){h.words[h.length]=0,h.words[h.length+1]=0,h.length+=2;for(var _=0,S=0;S<h.length;S++){var C=h.words[S]|0;_+=C*977,h.words[S]=_&67108863,_=C*64+(_/67108864|0)}return h.words[h.length-1]===0&&(h.length--,h.words[h.length-1]===0&&h.length--),h};function le(){oe.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}c(le,oe);function G(){oe.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}c(G,oe);function Z(){oe.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}c(Z,oe),Z.prototype.imulK=function(h){for(var _=0,S=0;S<h.length;S++){var C=(h.words[S]|0)*19+_,D=C&67108863;C>>>=26,h.words[S]=D,_=C}return _!==0&&(h.words[h.length++]=_),h},o._prime=function(h){if(re[h])return re[h];var _;if(h==="k256")_=new se;else if(h==="p224")_=new le;else if(h==="p192")_=new G;else if(h==="p25519")_=new Z;else throw new Error("Unknown prime "+h);return re[h]=_,_};function X(x){if(typeof x=="string"){var h=o._prime(x);this.m=h.p,this.prime=h}else i(x.gtn(1),"modulus must be greater than 1"),this.m=x,this.prime=null}X.prototype._verify1=function(h){i(h.negative===0,"red works only with positives"),i(h.red,"red works only with red numbers")},X.prototype._verify2=function(h,_){i((h.negative|_.negative)===0,"red works only with positives"),i(h.red&&h.red===_.red,"red works only with red numbers")},X.prototype.imod=function(h){return this.prime?this.prime.ireduce(h)._forceRed(this):(E(h,h.umod(this.m)._forceRed(this)),h)},X.prototype.neg=function(h){return h.isZero()?h.clone():this.m.sub(h)._forceRed(this)},X.prototype.add=function(h,_){this._verify2(h,_);var S=h.add(_);return S.cmp(this.m)>=0&&S.isub(this.m),S._forceRed(this)},X.prototype.iadd=function(h,_){this._verify2(h,_);var S=h.iadd(_);return S.cmp(this.m)>=0&&S.isub(this.m),S},X.prototype.sub=function(h,_){this._verify2(h,_);var S=h.sub(_);return S.cmpn(0)<0&&S.iadd(this.m),S._forceRed(this)},X.prototype.isub=function(h,_){this._verify2(h,_);var S=h.isub(_);return S.cmpn(0)<0&&S.iadd(this.m),S},X.prototype.shl=function(h,_){return this._verify1(h),this.imod(h.ushln(_))},X.prototype.imul=function(h,_){return this._verify2(h,_),this.imod(h.imul(_))},X.prototype.mul=function(h,_){return this._verify2(h,_),this.imod(h.mul(_))},X.prototype.isqr=function(h){return this.imul(h,h.clone())},X.prototype.sqr=function(h){return this.mul(h,h)},X.prototype.sqrt=function(h){if(h.isZero())return h.clone();var _=this.m.andln(3);if(i(_%2===1),_===3){var S=this.m.add(new o(1)).iushrn(2);return this.pow(h,S)}for(var C=this.m.subn(1),D=0;!C.isZero()&&C.andln(1)===0;)D++,C.iushrn(1);i(!C.isZero());var B=new o(1).toRed(this),v=B.redNeg(),m=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);this.pow(f,m).cmp(v)!==0;)f.redIAdd(v);for(var y=this.pow(f,C),O=this.pow(h,C.addn(1).iushrn(1)),L=this.pow(h,C),Y=D;L.cmp(B)!==0;){for(var ne=L,ie=0;ne.cmp(B)!==0;ie++)ne=ne.redSqr();i(ie<Y);var he=this.pow(y,new o(1).iushln(Y-ie-1));O=O.redMul(he),y=he.redSqr(),L=L.redMul(y),Y=ie}return O},X.prototype.invm=function(h){var _=h._invmp(this.m);return _.negative!==0?(_.negative=0,this.imod(_).redNeg()):this.imod(_)},X.prototype.pow=function(h,_){if(_.isZero())return new o(1).toRed(this);if(_.cmpn(1)===0)return h.clone();var S=4,C=new Array(1<<S);C[0]=new o(1).toRed(this),C[1]=h;for(var D=2;D<C.length;D++)C[D]=this.mul(C[D-1],h);var B=C[0],v=0,m=0,f=_.bitLength()%26;for(f===0&&(f=26),D=_.length-1;D>=0;D--){for(var y=_.words[D],O=f-1;O>=0;O--){var L=y>>O&1;if(B!==C[0]&&(B=this.sqr(B)),L===0&&v===0){m=0;continue}v<<=1,v|=L,m++,!(m!==S&&(D!==0||O!==0))&&(B=this.mul(B,C[v]),m=0,v=0)}f=26}return B},X.prototype.convertTo=function(h){var _=h.umod(this.m);return _===h?_.clone():_},X.prototype.convertFrom=function(h){var _=h.clone();return _.red=null,_},o.mont=function(h){return new W(h)};function W(x){X.call(this,x),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}c(W,X),W.prototype.convertTo=function(h){return this.imod(h.ushln(this.shift))},W.prototype.convertFrom=function(h){var _=this.imod(h.mul(this.rinv));return _.red=null,_},W.prototype.imul=function(h,_){if(h.isZero()||_.isZero())return h.words[0]=0,h.length=1,h;var S=h.imul(_),C=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=S.isub(C).iushrn(this.shift),B=D;return D.cmp(this.m)>=0?B=D.isub(this.m):D.cmpn(0)<0&&(B=D.iadd(this.m)),B._forceRed(this)},W.prototype.mul=function(h,_){if(h.isZero()||_.isZero())return new o(0)._forceRed(this);var S=h.mul(_),C=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=S.isub(C).iushrn(this.shift),B=D;return D.cmp(this.m)>=0?B=D.isub(this.m):D.cmpn(0)<0&&(B=D.iadd(this.m)),B._forceRed(this)},W.prototype.invm=function(h){var _=this.imod(h._invmp(this.m).mul(this.r2));return _._forceRed(this)}})(s,R2)})(vl)),vl.exports}var x2=Z0();const Nn=Ni(x2);var al={exports:{}};var jg;function X0(){return jg||(jg=1,(function(s,t){var n=H0(),i=n.Buffer;function c(l,d){for(var g in l)d[g]=l[g]}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?s.exports=n:(c(n,t),t.Buffer=o);function o(l,d,g){return i(l,d,g)}o.prototype=Object.create(i.prototype),c(i,o),o.from=function(l,d,g){if(typeof l=="number")throw new TypeError("Argument must not be a number");return i(l,d,g)},o.alloc=function(l,d,g){if(typeof l!="number")throw new TypeError("Argument must be a number");var w=i(l);return d!==void 0?typeof g=="string"?w.fill(d,g):w.fill(d):w.fill(0),w},o.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return i(l)},o.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(l)}})(al,al.exports)),al.exports}var Ch,qg;function T2(){if(qg)return Ch;qg=1;var s=X0().Buffer;function t(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var i=new Uint8Array(256),c=0;c<i.length;c++)i[c]=255;for(var o=0;o<n.length;o++){var l=n.charAt(o),d=l.charCodeAt(0);if(i[d]!==255)throw new TypeError(l+" is ambiguous");i[d]=o}var g=n.length,w=n.charAt(0),E=Math.log(g)/Math.log(256),I=Math.log(256)/Math.log(g);function k(U){if((Array.isArray(U)||U instanceof Uint8Array)&&(U=s.from(U)),!s.isBuffer(U))throw new TypeError("Expected Buffer");if(U.length===0)return"";for(var z=0,j=0,F=0,V=U.length;F!==V&&U[F]===0;)F++,z++;for(var $=(V-F)*I+1>>>0,re=new Uint8Array($);F!==V;){for(var oe=U[F],se=0,le=$-1;(oe!==0||se<j)&&le!==-1;le--,se++)oe+=256*re[le]>>>0,re[le]=oe%g>>>0,oe=oe/g>>>0;if(oe!==0)throw new Error("Non-zero carry");j=se,F++}for(var G=$-j;G!==$&&re[G]===0;)G++;for(var Z=w.repeat(z);G<$;++G)Z+=n.charAt(re[G]);return Z}function R(U){if(typeof U!="string")throw new TypeError("Expected String");if(U.length===0)return s.alloc(0);for(var z=0,j=0,F=0;U[z]===w;)j++,z++;for(var V=(U.length-z)*E+1>>>0,$=new Uint8Array(V);z<U.length;){var re=U.charCodeAt(z);if(re>255)return;var oe=i[re];if(oe===255)return;for(var se=0,le=V-1;(oe!==0||se<F)&&le!==-1;le--,se++)oe+=g*$[le]>>>0,$[le]=oe%256>>>0,oe=oe/256>>>0;if(oe!==0)throw new Error("Non-zero carry");F=se,z++}for(var G=V-F;G!==V&&$[G]===0;)G++;var Z=s.allocUnsafe(j+(V-G));Z.fill(0,0,j);for(var X=j;G!==V;)Z[X++]=$[G++];return Z}function M(U){var z=R(U);if(z)return z;throw new Error("Non-base"+g+" character")}return{encode:k,decodeUnsafe:R,decode:M}}return Ch=t,Ch}var Bh,Pg;function O2(){if(Pg)return Bh;Pg=1;var s=T2(),t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return Bh=s(t),Bh}var N2=O2();const kn=Ni(N2),kl=Aw;var At={},Mh,Kg;function k2(){if(Kg)return Mh;Kg=1;var s=X0().Buffer;function t(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var i=new Uint8Array(256),c=0;c<i.length;c++)i[c]=255;for(var o=0;o<n.length;o++){var l=n.charAt(o),d=l.charCodeAt(0);if(i[d]!==255)throw new TypeError(l+" is ambiguous");i[d]=o}var g=n.length,w=n.charAt(0),E=Math.log(g)/Math.log(256),I=Math.log(256)/Math.log(g);function k(U){if((Array.isArray(U)||U instanceof Uint8Array)&&(U=s.from(U)),!s.isBuffer(U))throw new TypeError("Expected Buffer");if(U.length===0)return"";for(var z=0,j=0,F=0,V=U.length;F!==V&&U[F]===0;)F++,z++;for(var $=(V-F)*I+1>>>0,re=new Uint8Array($);F!==V;){for(var oe=U[F],se=0,le=$-1;(oe!==0||se<j)&&le!==-1;le--,se++)oe+=256*re[le]>>>0,re[le]=oe%g>>>0,oe=oe/g>>>0;if(oe!==0)throw new Error("Non-zero carry");j=se,F++}for(var G=$-j;G!==$&&re[G]===0;)G++;for(var Z=w.repeat(z);G<$;++G)Z+=n.charAt(re[G]);return Z}function R(U){if(typeof U!="string")throw new TypeError("Expected String");if(U.length===0)return s.alloc(0);for(var z=0,j=0,F=0;U[z]===w;)j++,z++;for(var V=(U.length-z)*E+1>>>0,$=new Uint8Array(V);z<U.length;){var re=U.charCodeAt(z);if(re>255)return;var oe=i[re];if(oe===255)return;for(var se=0,le=V-1;(oe!==0||se<F)&&le!==-1;le--,se++)oe+=g*$[le]>>>0,$[le]=oe%256>>>0,oe=oe/256>>>0;if(oe!==0)throw new Error("Non-zero carry");F=se,z++}for(var G=V-F;G!==V&&$[G]===0;)G++;var Z=s.allocUnsafe(j+(V-G));Z.fill(0,0,j);for(var X=j;G!==V;)Z[X++]=$[G++];return Z}function M(U){var z=R(U);if(z)return z;throw new Error("Non-base"+g+" character")}return{encode:k,decodeUnsafe:R,decode:M}}return Mh=t,Mh}var Uh,Vg;function I2(){if(Vg)return Uh;Vg=1;var s=k2(),t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return Uh=s(t),Uh}function Si(s,t,n){return t<=s&&s<=n}function Fl(s){if(s===void 0)return{};if(s===Object(s))return s;throw TypeError("Could not convert argument to dictionary")}function C2(s){for(var t=String(s),n=t.length,i=0,c=[];i<n;){var o=t.charCodeAt(i);if(o<55296||o>57343)c.push(o);else if(56320<=o&&o<=57343)c.push(65533);else if(55296<=o&&o<=56319)if(i===n-1)c.push(65533);else{var l=s.charCodeAt(i+1);if(56320<=l&&l<=57343){var d=o&1023,g=l&1023;c.push(65536+(d<<10)+g),i+=1}else c.push(65533)}i+=1}return c}function B2(s){for(var t="",n=0;n<s.length;++n){var i=s[n];i<=65535?t+=String.fromCharCode(i):(i-=65536,t+=String.fromCharCode((i>>10)+55296,(i&1023)+56320))}return t}var Il=-1;function W0(s){this.tokens=[].slice.call(s)}W0.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Il},prepend:function(s){if(Array.isArray(s))for(var t=s;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(s)},push:function(s){if(Array.isArray(s))for(var t=s;t.length;)this.tokens.push(t.shift());else this.tokens.push(s)}};var lo=-1;function Dh(s,t){if(s)throw TypeError("Decoder error");return t||65533}var Cl="utf-8";function Bl(s,t){if(!(this instanceof Bl))return new Bl(s,t);if(s=s!==void 0?String(s).toLowerCase():Cl,s!==Cl)throw new Error("Encoding not supported. Only utf-8 is supported");t=Fl(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Bl.prototype={decode:function(t,n){var i;typeof t=="object"&&t instanceof ArrayBuffer?i=new Uint8Array(t):typeof t=="object"&&"buffer"in t&&t.buffer instanceof ArrayBuffer?i=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):i=new Uint8Array(0),n=Fl(n),this._streaming||(this._decoder=new M2({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var c=new W0(i),o=[],l;!c.endOfStream()&&(l=this._decoder.handler(c,c.read()),l!==lo);)l!==null&&(Array.isArray(l)?o.push.apply(o,l):o.push(l));if(!this._streaming){do{if(l=this._decoder.handler(c,c.read()),l===lo)break;l!==null&&(Array.isArray(l)?o.push.apply(o,l):o.push(l))}while(!c.endOfStream());this._decoder=null}return o.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(o[0]===65279?(this._BOMseen=!0,o.shift()):this._BOMseen=!0),B2(o)}};function Ml(s,t){if(!(this instanceof Ml))return new Ml(s,t);if(s=s!==void 0?String(s).toLowerCase():Cl,s!==Cl)throw new Error("Encoding not supported. Only utf-8 is supported");t=Fl(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Ml.prototype={encode:function(t,n){t=t?String(t):"",n=Fl(n),this._streaming||(this._encoder=new U2(this._options)),this._streaming=!!n.stream;for(var i=[],c=new W0(C2(t)),o;!c.endOfStream()&&(o=this._encoder.handler(c,c.read()),o!==lo);)Array.isArray(o)?i.push.apply(i,o):i.push(o);if(!this._streaming){for(;o=this._encoder.handler(c,c.read()),o!==lo;)Array.isArray(o)?i.push.apply(i,o):i.push(o);this._encoder=null}return new Uint8Array(i)}};function M2(s){var t=s.fatal,n=0,i=0,c=0,o=128,l=191;this.handler=function(d,g){if(g===Il&&c!==0)return c=0,Dh(t);if(g===Il)return lo;if(c===0){if(Si(g,0,127))return g;if(Si(g,194,223))c=1,n=g-192;else if(Si(g,224,239))g===224&&(o=160),g===237&&(l=159),c=2,n=g-224;else if(Si(g,240,244))g===240&&(o=144),g===244&&(l=143),c=3,n=g-240;else return Dh(t);return n=n<<6*c,null}if(!Si(g,o,l))return n=c=i=0,o=128,l=191,d.prepend(g),Dh(t);if(o=128,l=191,i+=1,n+=g-128<<6*(c-i),i!==c)return null;var w=n;return n=c=i=0,w}}function U2(s){s.fatal,this.handler=function(t,n){if(n===Il)return lo;if(Si(n,0,127))return n;var i,c;Si(n,128,2047)?(i=1,c=192):Si(n,2048,65535)?(i=2,c=224):Si(n,65536,1114111)&&(i=3,c=240);for(var o=[(n>>6*i)+c];i>0;){var l=n>>6*(i-1);o.push(128|l&63),i-=1}return o}}const D2=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:Bl,TextEncoder:Ml},Symbol.toStringTag,{value:"Module"})),L2=Kl(D2);var Gg;function z2(){if(Gg)return At;Gg=1;var s=At&&At.__createBinding||(Object.create?(function(G,Z,X,W){W===void 0&&(W=X),Object.defineProperty(G,W,{enumerable:!0,get:function(){return Z[X]}})}):(function(G,Z,X,W){W===void 0&&(W=X),G[W]=Z[X]})),t=At&&At.__setModuleDefault||(Object.create?(function(G,Z){Object.defineProperty(G,"default",{enumerable:!0,value:Z})}):function(G,Z){G.default=Z}),n=At&&At.__decorate||function(G,Z,X,W){var x=arguments.length,h=x<3?Z:W===null?W=Object.getOwnPropertyDescriptor(Z,X):W,_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(G,Z,X,W);else for(var S=G.length-1;S>=0;S--)(_=G[S])&&(h=(x<3?_(h):x>3?_(Z,X,h):_(Z,X))||h);return x>3&&h&&Object.defineProperty(Z,X,h),h},i=At&&At.__importStar||function(G){if(G&&G.__esModule)return G;var Z={};if(G!=null)for(var X in G)X!=="default"&&Object.hasOwnProperty.call(G,X)&&s(Z,G,X);return t(Z,G),Z},c=At&&At.__importDefault||function(G){return G&&G.__esModule?G:{default:G}};Object.defineProperty(At,"__esModule",{value:!0}),At.deserializeUnchecked=At.deserialize=At.serialize=At.BinaryReader=At.BinaryWriter=At.BorshError=At.baseDecode=At.baseEncode=void 0;const o=c(Z0()),l=c(I2()),d=i(L2),g=typeof TextDecoder!="function"?d.TextDecoder:TextDecoder,w=new g("utf-8",{fatal:!0});function E(G){return typeof G=="string"&&(G=Buffer.from(G,"utf8")),l.default.encode(Buffer.from(G))}At.baseEncode=E;function I(G){return Buffer.from(l.default.decode(G))}At.baseDecode=I;const k=1024;class R extends Error{constructor(Z){super(Z),this.fieldPath=[],this.originalMessage=Z}addToFieldPath(Z){this.fieldPath.splice(0,0,Z),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}At.BorshError=R;class M{constructor(){this.buf=Buffer.alloc(k),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(k)]))}writeU8(Z){this.maybeResize(),this.buf.writeUInt8(Z,this.length),this.length+=1}writeU16(Z){this.maybeResize(),this.buf.writeUInt16LE(Z,this.length),this.length+=2}writeU32(Z){this.maybeResize(),this.buf.writeUInt32LE(Z,this.length),this.length+=4}writeU64(Z){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(Z).toArray("le",8)))}writeU128(Z){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(Z).toArray("le",16)))}writeU256(Z){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(Z).toArray("le",32)))}writeU512(Z){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(Z).toArray("le",64)))}writeBuffer(Z){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),Z,Buffer.alloc(k)]),this.length+=Z.length}writeString(Z){this.maybeResize();const X=Buffer.from(Z,"utf8");this.writeU32(X.length),this.writeBuffer(X)}writeFixedArray(Z){this.writeBuffer(Buffer.from(Z))}writeArray(Z,X){this.maybeResize(),this.writeU32(Z.length);for(const W of Z)this.maybeResize(),X(W)}toArray(){return this.buf.subarray(0,this.length)}}At.BinaryWriter=M;function U(G,Z,X){const W=X.value;X.value=function(...x){try{return W.apply(this,x)}catch(h){if(h instanceof RangeError){const _=h.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(_)>=0)throw new R("Reached the end of buffer when deserializing")}throw h}}}class z{constructor(Z){this.buf=Z,this.offset=0}readU8(){const Z=this.buf.readUInt8(this.offset);return this.offset+=1,Z}readU16(){const Z=this.buf.readUInt16LE(this.offset);return this.offset+=2,Z}readU32(){const Z=this.buf.readUInt32LE(this.offset);return this.offset+=4,Z}readU64(){const Z=this.readBuffer(8);return new o.default(Z,"le")}readU128(){const Z=this.readBuffer(16);return new o.default(Z,"le")}readU256(){const Z=this.readBuffer(32);return new o.default(Z,"le")}readU512(){const Z=this.readBuffer(64);return new o.default(Z,"le")}readBuffer(Z){if(this.offset+Z>this.buf.length)throw new R(`Expected buffer length ${Z} isn't within bounds`);const X=this.buf.slice(this.offset,this.offset+Z);return this.offset+=Z,X}readString(){const Z=this.readU32(),X=this.readBuffer(Z);try{return w.decode(X)}catch(W){throw new R(`Error decoding UTF-8 string: ${W}`)}}readFixedArray(Z){return new Uint8Array(this.readBuffer(Z))}readArray(Z){const X=this.readU32(),W=Array();for(let x=0;x<X;++x)W.push(Z());return W}}n([U],z.prototype,"readU8",null),n([U],z.prototype,"readU16",null),n([U],z.prototype,"readU32",null),n([U],z.prototype,"readU64",null),n([U],z.prototype,"readU128",null),n([U],z.prototype,"readU256",null),n([U],z.prototype,"readU512",null),n([U],z.prototype,"readString",null),n([U],z.prototype,"readFixedArray",null),n([U],z.prototype,"readArray",null),At.BinaryReader=z;function j(G){return G.charAt(0).toUpperCase()+G.slice(1)}function F(G,Z,X,W,x){try{if(typeof W=="string")x[`write${j(W)}`](X);else if(W instanceof Array)if(typeof W[0]=="number"){if(X.length!==W[0])throw new R(`Expecting byte array of length ${W[0]}, but got ${X.length} bytes`);x.writeFixedArray(X)}else if(W.length===2&&typeof W[1]=="number"){if(X.length!==W[1])throw new R(`Expecting byte array of length ${W[1]}, but got ${X.length} bytes`);for(let h=0;h<W[1];h++)F(G,null,X[h],W[0],x)}else x.writeArray(X,h=>{F(G,Z,h,W[0],x)});else if(W.kind!==void 0)switch(W.kind){case"option":{X==null?x.writeU8(0):(x.writeU8(1),F(G,Z,X,W.type,x));break}case"map":{x.writeU32(X.size),X.forEach((h,_)=>{F(G,Z,_,W.key,x),F(G,Z,h,W.value,x)});break}default:throw new R(`FieldType ${W} unrecognized`)}else V(G,X,x)}catch(h){throw h instanceof R&&h.addToFieldPath(Z),h}}function V(G,Z,X){if(typeof Z.borshSerialize=="function"){Z.borshSerialize(X);return}const W=G.get(Z.constructor);if(!W)throw new R(`Class ${Z.constructor.name} is missing in schema`);if(W.kind==="struct")W.fields.map(([x,h])=>{F(G,x,Z[x],h,X)});else if(W.kind==="enum"){const x=Z[W.field];for(let h=0;h<W.values.length;++h){const[_,S]=W.values[h];if(_===x){X.writeU8(h),F(G,_,Z[_],S,X);break}}}else throw new R(`Unexpected schema kind: ${W.kind} for ${Z.constructor.name}`)}function $(G,Z,X=M){const W=new X;return V(G,Z,W),W.toArray()}At.serialize=$;function re(G,Z,X,W){try{if(typeof X=="string")return W[`read${j(X)}`]();if(X instanceof Array){if(typeof X[0]=="number")return W.readFixedArray(X[0]);if(typeof X[1]=="number"){const x=[];for(let h=0;h<X[1];h++)x.push(re(G,null,X[0],W));return x}else return W.readArray(()=>re(G,Z,X[0],W))}if(X.kind==="option")return W.readU8()?re(G,Z,X.type,W):void 0;if(X.kind==="map"){let x=new Map;const h=W.readU32();for(let _=0;_<h;_++){const S=re(G,Z,X.key,W),C=re(G,Z,X.value,W);x.set(S,C)}return x}return oe(G,X,W)}catch(x){throw x instanceof R&&x.addToFieldPath(Z),x}}function oe(G,Z,X){if(typeof Z.borshDeserialize=="function")return Z.borshDeserialize(X);const W=G.get(Z);if(!W)throw new R(`Class ${Z.name} is missing in schema`);if(W.kind==="struct"){const x={};for(const[h,_]of G.get(Z).fields)x[h]=re(G,h,_,X);return new Z(x)}if(W.kind==="enum"){const x=X.readU8();if(x>=W.values.length)throw new R(`Enum index: ${x} is out of range`);const[h,_]=W.values[x],S=re(G,h,_,X);return new Z({[h]:S})}throw new R(`Unexpected schema kind: ${W.kind} for ${Z.constructor.name}`)}function se(G,Z,X,W=z){const x=new W(X),h=oe(G,Z,x);if(x.offset<X.length)throw new R(`Unexpected ${X.length-x.offset} bytes after deserialized data`);return h}At.deserialize=se;function le(G,Z,X,W=z){const x=new W(X);return oe(G,Z,x)}return At.deserializeUnchecked=le,At}var Lh=z2(),ye={},Fg;function H2(){if(Fg)return ye;Fg=1,Object.defineProperty(ye,"__esModule",{value:!0}),ye.s16=ye.s8=ye.nu64be=ye.u48be=ye.u40be=ye.u32be=ye.u24be=ye.u16be=ye.nu64=ye.u48=ye.u40=ye.u32=ye.u24=ye.u16=ye.u8=ye.offset=ye.greedy=ye.Constant=ye.UTF8=ye.CString=ye.Blob=ye.Boolean=ye.BitField=ye.BitStructure=ye.VariantLayout=ye.Union=ye.UnionLayoutDiscriminator=ye.UnionDiscriminator=ye.Structure=ye.Sequence=ye.DoubleBE=ye.Double=ye.FloatBE=ye.Float=ye.NearInt64BE=ye.NearInt64=ye.NearUInt64BE=ye.NearUInt64=ye.IntBE=ye.Int=ye.UIntBE=ye.UInt=ye.OffsetLayout=ye.GreedyCount=ye.ExternalLayout=ye.bindConstructorLayout=ye.nameWithProperty=ye.Layout=ye.uint8ArrayToBuffer=ye.checkUint8Array=void 0,ye.constant=ye.utf8=ye.cstr=ye.blob=ye.unionLayoutDiscriminator=ye.union=ye.seq=ye.bits=ye.struct=ye.f64be=ye.f64=ye.f32be=ye.f32=ye.ns64be=ye.s48be=ye.s40be=ye.s32be=ye.s24be=ye.s16be=ye.ns64=ye.s48=ye.s40=ye.s32=ye.s24=void 0;const s=H0();function t(f){if(!(f instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}ye.checkUint8Array=t;function n(f){return t(f),s.Buffer.from(f.buffer,f.byteOffset,f.length)}ye.uint8ArrayToBuffer=n;class i{constructor(y,O){if(!Number.isInteger(y))throw new TypeError("span must be an integer");this.span=y,this.property=O}makeDestinationObject(){return{}}getSpan(y,O){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(y){const O=Object.create(this.constructor.prototype);return Object.assign(O,this),O.property=y,O}fromArray(y){}}ye.Layout=i;function c(f,y){return y.property?f+"["+y.property+"]":f}ye.nameWithProperty=c;function o(f,y){if(typeof f!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(f,"layout_"))throw new Error("Class is already bound to a layout");if(!(y&&y instanceof i))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(y,"boundConstructor_"))throw new Error("layout is already bound to a constructor");f.layout_=y,y.boundConstructor_=f,y.makeDestinationObject=(()=>new f),Object.defineProperty(f.prototype,"encode",{value(O,L){return y.encode(this,O,L)},writable:!0}),Object.defineProperty(f,"decode",{value(O,L){return y.decode(O,L)},writable:!0})}ye.bindConstructorLayout=o;class l extends i{isCount(){throw new Error("ExternalLayout is abstract")}}ye.ExternalLayout=l;class d extends l{constructor(y=1,O){if(!Number.isInteger(y)||0>=y)throw new TypeError("elementSpan must be a (positive) integer");super(-1,O),this.elementSpan=y}isCount(){return!0}decode(y,O=0){t(y);const L=y.length-O;return Math.floor(L/this.elementSpan)}encode(y,O,L){return 0}}ye.GreedyCount=d;class g extends l{constructor(y,O=0,L){if(!(y instanceof i))throw new TypeError("layout must be a Layout");if(!Number.isInteger(O))throw new TypeError("offset must be integer or undefined");super(y.span,L||y.property),this.layout=y,this.offset=O}isCount(){return this.layout instanceof w||this.layout instanceof E}decode(y,O=0){return this.layout.decode(y,O+this.offset)}encode(y,O,L=0){return this.layout.encode(y,O,L+this.offset)}}ye.OffsetLayout=g;class w extends i{constructor(y,O){if(super(y,O),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(y,O=0){return n(y).readUIntLE(O,this.span)}encode(y,O,L=0){return n(O).writeUIntLE(y,L,this.span),this.span}}ye.UInt=w;class E extends i{constructor(y,O){if(super(y,O),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(y,O=0){return n(y).readUIntBE(O,this.span)}encode(y,O,L=0){return n(O).writeUIntBE(y,L,this.span),this.span}}ye.UIntBE=E;class I extends i{constructor(y,O){if(super(y,O),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(y,O=0){return n(y).readIntLE(O,this.span)}encode(y,O,L=0){return n(O).writeIntLE(y,L,this.span),this.span}}ye.Int=I;class k extends i{constructor(y,O){if(super(y,O),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(y,O=0){return n(y).readIntBE(O,this.span)}encode(y,O,L=0){return n(O).writeIntBE(y,L,this.span),this.span}}ye.IntBE=k;const R=Math.pow(2,32);function M(f){const y=Math.floor(f/R),O=f-y*R;return{hi32:y,lo32:O}}function U(f,y){return f*R+y}class z extends i{constructor(y){super(8,y)}decode(y,O=0){const L=n(y),Y=L.readUInt32LE(O),ne=L.readUInt32LE(O+4);return U(ne,Y)}encode(y,O,L=0){const Y=M(y),ne=n(O);return ne.writeUInt32LE(Y.lo32,L),ne.writeUInt32LE(Y.hi32,L+4),8}}ye.NearUInt64=z;class j extends i{constructor(y){super(8,y)}decode(y,O=0){const L=n(y),Y=L.readUInt32BE(O),ne=L.readUInt32BE(O+4);return U(Y,ne)}encode(y,O,L=0){const Y=M(y),ne=n(O);return ne.writeUInt32BE(Y.hi32,L),ne.writeUInt32BE(Y.lo32,L+4),8}}ye.NearUInt64BE=j;class F extends i{constructor(y){super(8,y)}decode(y,O=0){const L=n(y),Y=L.readUInt32LE(O),ne=L.readInt32LE(O+4);return U(ne,Y)}encode(y,O,L=0){const Y=M(y),ne=n(O);return ne.writeUInt32LE(Y.lo32,L),ne.writeInt32LE(Y.hi32,L+4),8}}ye.NearInt64=F;class V extends i{constructor(y){super(8,y)}decode(y,O=0){const L=n(y),Y=L.readInt32BE(O),ne=L.readUInt32BE(O+4);return U(Y,ne)}encode(y,O,L=0){const Y=M(y),ne=n(O);return ne.writeInt32BE(Y.hi32,L),ne.writeUInt32BE(Y.lo32,L+4),8}}ye.NearInt64BE=V;class $ extends i{constructor(y){super(4,y)}decode(y,O=0){return n(y).readFloatLE(O)}encode(y,O,L=0){return n(O).writeFloatLE(y,L),4}}ye.Float=$;class re extends i{constructor(y){super(4,y)}decode(y,O=0){return n(y).readFloatBE(O)}encode(y,O,L=0){return n(O).writeFloatBE(y,L),4}}ye.FloatBE=re;class oe extends i{constructor(y){super(8,y)}decode(y,O=0){return n(y).readDoubleLE(O)}encode(y,O,L=0){return n(O).writeDoubleLE(y,L),8}}ye.Double=oe;class se extends i{constructor(y){super(8,y)}decode(y,O=0){return n(y).readDoubleBE(O)}encode(y,O,L=0){return n(O).writeDoubleBE(y,L),8}}ye.DoubleBE=se;class le extends i{constructor(y,O,L){if(!(y instanceof i))throw new TypeError("elementLayout must be a Layout");if(!(O instanceof l&&O.isCount()||Number.isInteger(O)&&0<=O))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let Y=-1;!(O instanceof l)&&0<y.span&&(Y=O*y.span),super(Y,L),this.elementLayout=y,this.count=O}getSpan(y,O=0){if(0<=this.span)return this.span;let L=0,Y=this.count;if(Y instanceof l&&(Y=Y.decode(y,O)),0<this.elementLayout.span)L=Y*this.elementLayout.span;else{let ne=0;for(;ne<Y;)L+=this.elementLayout.getSpan(y,O+L),++ne}return L}decode(y,O=0){const L=[];let Y=0,ne=this.count;for(ne instanceof l&&(ne=ne.decode(y,O));Y<ne;)L.push(this.elementLayout.decode(y,O)),O+=this.elementLayout.getSpan(y,O),Y+=1;return L}encode(y,O,L=0){const Y=this.elementLayout,ne=y.reduce((ie,he)=>ie+Y.encode(he,O,L+ie),0);return this.count instanceof l&&this.count.encode(y.length,O,L),ne}}ye.Sequence=le;class G extends i{constructor(y,O,L){if(!(Array.isArray(y)&&y.reduce((ne,ie)=>ne&&ie instanceof i,!0)))throw new TypeError("fields must be array of Layout instances");typeof O=="boolean"&&L===void 0&&(L=O,O=void 0);for(const ne of y)if(0>ne.span&&ne.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let Y=-1;try{Y=y.reduce((ne,ie)=>ne+ie.getSpan(),0)}catch{}super(Y,O),this.fields=y,this.decodePrefixes=!!L}getSpan(y,O=0){if(0<=this.span)return this.span;let L=0;try{L=this.fields.reduce((Y,ne)=>{const ie=ne.getSpan(y,O);return O+=ie,Y+ie},0)}catch{throw new RangeError("indeterminate span")}return L}decode(y,O=0){t(y);const L=this.makeDestinationObject();for(const Y of this.fields)if(Y.property!==void 0&&(L[Y.property]=Y.decode(y,O)),O+=Y.getSpan(y,O),this.decodePrefixes&&y.length===O)break;return L}encode(y,O,L=0){const Y=L;let ne=0,ie=0;for(const he of this.fields){let Ae=he.span;if(ie=0<Ae?Ae:0,he.property!==void 0){const Ie=y[he.property];Ie!==void 0&&(ie=he.encode(Ie,O,L),0>Ae&&(Ae=he.getSpan(O,L)))}ne=L,L+=Ae}return ne+ie-Y}fromArray(y){const O=this.makeDestinationObject();for(const L of this.fields)L.property!==void 0&&0<y.length&&(O[L.property]=y.shift());return O}layoutFor(y){if(typeof y!="string")throw new TypeError("property must be string");for(const O of this.fields)if(O.property===y)return O}offsetOf(y){if(typeof y!="string")throw new TypeError("property must be string");let O=0;for(const L of this.fields){if(L.property===y)return O;0>L.span?O=-1:0<=O&&(O+=L.span)}}}ye.Structure=G;class Z{constructor(y){this.property=y}decode(y,O){throw new Error("UnionDiscriminator is abstract")}encode(y,O,L){throw new Error("UnionDiscriminator is abstract")}}ye.UnionDiscriminator=Z;class X extends Z{constructor(y,O){if(!(y instanceof l&&y.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(O||y.property||"variant"),this.layout=y}decode(y,O){return this.layout.decode(y,O)}encode(y,O,L){return this.layout.encode(y,O,L)}}ye.UnionLayoutDiscriminator=X;class W extends i{constructor(y,O,L){let Y;if(y instanceof w||y instanceof E)Y=new X(new g(y));else if(y instanceof l&&y.isCount())Y=new X(y);else if(y instanceof Z)Y=y;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(O===void 0&&(O=null),!(O===null||O instanceof i))throw new TypeError("defaultLayout must be null or a Layout");if(O!==null){if(0>O.span)throw new Error("defaultLayout must have constant span");O.property===void 0&&(O=O.replicate("content"))}let ne=-1;O&&(ne=O.span,0<=ne&&(y instanceof w||y instanceof E)&&(ne+=Y.layout.span)),super(ne,L),this.discriminator=Y,this.usesPrefixDiscriminator=y instanceof w||y instanceof E,this.defaultLayout=O,this.registry={};let ie=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(he){return ie(he)},this.configGetSourceVariant=function(he){ie=he.bind(this)}}getSpan(y,O=0){if(0<=this.span)return this.span;const L=this.getVariant(y,O);if(!L)throw new Error("unable to determine span for unrecognized variant");return L.getSpan(y,O)}defaultGetSourceVariant(y){if(Object.prototype.hasOwnProperty.call(y,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(y,this.defaultLayout.property))return;const O=this.registry[y[this.discriminator.property]];if(O&&(!O.layout||O.property&&Object.prototype.hasOwnProperty.call(y,O.property)))return O}else for(const O in this.registry){const L=this.registry[O];if(L.property&&Object.prototype.hasOwnProperty.call(y,L.property))return L}throw new Error("unable to infer src variant")}decode(y,O=0){let L;const Y=this.discriminator,ne=Y.decode(y,O),ie=this.registry[ne];if(ie===void 0){const he=this.defaultLayout;let Ae=0;this.usesPrefixDiscriminator&&(Ae=Y.layout.span),L=this.makeDestinationObject(),L[Y.property]=ne,L[he.property]=he.decode(y,O+Ae)}else L=ie.decode(y,O);return L}encode(y,O,L=0){const Y=this.getSourceVariant(y);if(Y===void 0){const ne=this.discriminator,ie=this.defaultLayout;let he=0;return this.usesPrefixDiscriminator&&(he=ne.layout.span),ne.encode(y[ne.property],O,L),he+ie.encode(y[ie.property],O,L+he)}return Y.encode(y,O,L)}addVariant(y,O,L){const Y=new x(this,y,O,L);return this.registry[y]=Y,Y}getVariant(y,O=0){let L;return y instanceof Uint8Array?L=this.discriminator.decode(y,O):L=y,this.registry[L]}}ye.Union=W;class x extends i{constructor(y,O,L,Y){if(!(y instanceof W))throw new TypeError("union must be a Union");if(!Number.isInteger(O)||0>O)throw new TypeError("variant must be a (non-negative) integer");if(typeof L=="string"&&Y===void 0&&(Y=L,L=null),L){if(!(L instanceof i))throw new TypeError("layout must be a Layout");if(y.defaultLayout!==null&&0<=L.span&&L.span>y.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof Y!="string")throw new TypeError("variant must have a String property")}let ne=y.span;0>y.span&&(ne=L?L.span:0,0<=ne&&y.usesPrefixDiscriminator&&(ne+=y.discriminator.layout.span)),super(ne,Y),this.union=y,this.variant=O,this.layout=L||null}getSpan(y,O=0){if(0<=this.span)return this.span;let L=0;this.union.usesPrefixDiscriminator&&(L=this.union.discriminator.layout.span);let Y=0;return this.layout&&(Y=this.layout.getSpan(y,O+L)),L+Y}decode(y,O=0){const L=this.makeDestinationObject();if(this!==this.union.getVariant(y,O))throw new Error("variant mismatch");let Y=0;return this.union.usesPrefixDiscriminator&&(Y=this.union.discriminator.layout.span),this.layout?L[this.property]=this.layout.decode(y,O+Y):this.property?L[this.property]=!0:this.union.usesPrefixDiscriminator&&(L[this.union.discriminator.property]=this.variant),L}encode(y,O,L=0){let Y=0;if(this.union.usesPrefixDiscriminator&&(Y=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(y,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,O,L);let ne=Y;if(this.layout&&(this.layout.encode(y[this.property],O,L+Y),ne+=this.layout.getSpan(O,L+Y),0<=this.union.span&&ne>this.union.span))throw new Error("encoded variant overruns containing union");return ne}fromArray(y){if(this.layout)return this.layout.fromArray(y)}}ye.VariantLayout=x;function h(f){return 0>f&&(f+=4294967296),f}class _ extends i{constructor(y,O,L){if(!(y instanceof w||y instanceof E))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof O=="string"&&L===void 0&&(L=O,O=!1),4<y.span)throw new RangeError("word cannot exceed 32 bits");super(y.span,L),this.word=y,this.msb=!!O,this.fields=[];let Y=0;this._packedSetValue=function(ne){return Y=h(ne),this},this._packedGetValue=function(){return Y}}decode(y,O=0){const L=this.makeDestinationObject(),Y=this.word.decode(y,O);this._packedSetValue(Y);for(const ne of this.fields)ne.property!==void 0&&(L[ne.property]=ne.decode(y));return L}encode(y,O,L=0){const Y=this.word.decode(O,L);this._packedSetValue(Y);for(const ne of this.fields)if(ne.property!==void 0){const ie=y[ne.property];ie!==void 0&&ne.encode(ie)}return this.word.encode(this._packedGetValue(),O,L)}addField(y,O){const L=new S(this,y,O);return this.fields.push(L),L}addBoolean(y){const O=new C(this,y);return this.fields.push(O),O}fieldFor(y){if(typeof y!="string")throw new TypeError("property must be string");for(const O of this.fields)if(O.property===y)return O}}ye.BitStructure=_;class S{constructor(y,O,L){if(!(y instanceof _))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(O)||0>=O)throw new TypeError("bits must be positive integer");const Y=8*y.span,ne=y.fields.reduce((ie,he)=>ie+he.bits,0);if(O+ne>Y)throw new Error("bits too long for span remainder ("+(Y-ne)+" of "+Y+" remain)");this.container=y,this.bits=O,this.valueMask=(1<<O)-1,O===32&&(this.valueMask=4294967295),this.start=ne,this.container.msb&&(this.start=Y-ne-O),this.wordMask=h(this.valueMask<<this.start),this.property=L}decode(y,O){const L=this.container._packedGetValue();return h(L&this.wordMask)>>>this.start}encode(y){if(typeof y!="number"||!Number.isInteger(y)||y!==h(y&this.valueMask))throw new TypeError(c("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const O=this.container._packedGetValue(),L=h(y<<this.start);this.container._packedSetValue(h(O&~this.wordMask)|L)}}ye.BitField=S;class C extends S{constructor(y,O){super(y,1,O)}decode(y,O){return!!super.decode(y,O)}encode(y){typeof y=="boolean"&&(y=+y),super.encode(y)}}ye.Boolean=C;class D extends i{constructor(y,O){if(!(y instanceof l&&y.isCount()||Number.isInteger(y)&&0<=y))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let L=-1;y instanceof l||(L=y),super(L,O),this.length=y}getSpan(y,O){let L=this.span;return 0>L&&(L=this.length.decode(y,O)),L}decode(y,O=0){let L=this.span;return 0>L&&(L=this.length.decode(y,O)),n(y).slice(O,O+L)}encode(y,O,L){let Y=this.length;if(this.length instanceof l&&(Y=y.length),!(y instanceof Uint8Array&&Y===y.length))throw new TypeError(c("Blob.encode",this)+" requires (length "+Y+") Uint8Array as src");if(L+Y>O.length)throw new RangeError("encoding overruns Uint8Array");const ne=n(y);return n(O).write(ne.toString("hex"),L,Y,"hex"),this.length instanceof l&&this.length.encode(Y,O,L),Y}}ye.Blob=D;class B extends i{constructor(y){super(-1,y)}getSpan(y,O=0){t(y);let L=O;for(;L<y.length&&y[L]!==0;)L+=1;return 1+L-O}decode(y,O=0){const L=this.getSpan(y,O);return n(y).slice(O,O+L-1).toString("utf-8")}encode(y,O,L=0){typeof y!="string"&&(y=String(y));const Y=s.Buffer.from(y,"utf8"),ne=Y.length;if(L+ne>O.length)throw new RangeError("encoding overruns Buffer");const ie=n(O);return Y.copy(ie,L),ie[L+ne]=0,ne+1}}ye.CString=B;class v extends i{constructor(y,O){if(typeof y=="string"&&O===void 0&&(O=y,y=void 0),y===void 0)y=-1;else if(!Number.isInteger(y))throw new TypeError("maxSpan must be an integer");super(-1,O),this.maxSpan=y}getSpan(y,O=0){return t(y),y.length-O}decode(y,O=0){const L=this.getSpan(y,O);if(0<=this.maxSpan&&this.maxSpan<L)throw new RangeError("text length exceeds maxSpan");return n(y).slice(O,O+L).toString("utf-8")}encode(y,O,L=0){typeof y!="string"&&(y=String(y));const Y=s.Buffer.from(y,"utf8"),ne=Y.length;if(0<=this.maxSpan&&this.maxSpan<ne)throw new RangeError("text length exceeds maxSpan");if(L+ne>O.length)throw new RangeError("encoding overruns Buffer");return Y.copy(n(O),L),ne}}ye.UTF8=v;class m extends i{constructor(y,O){super(0,O),this.value=y}decode(y,O){return this.value}encode(y,O,L){return 0}}return ye.Constant=m,ye.greedy=((f,y)=>new d(f,y)),ye.offset=((f,y,O)=>new g(f,y,O)),ye.u8=(f=>new w(1,f)),ye.u16=(f=>new w(2,f)),ye.u24=(f=>new w(3,f)),ye.u32=(f=>new w(4,f)),ye.u40=(f=>new w(5,f)),ye.u48=(f=>new w(6,f)),ye.nu64=(f=>new z(f)),ye.u16be=(f=>new E(2,f)),ye.u24be=(f=>new E(3,f)),ye.u32be=(f=>new E(4,f)),ye.u40be=(f=>new E(5,f)),ye.u48be=(f=>new E(6,f)),ye.nu64be=(f=>new j(f)),ye.s8=(f=>new I(1,f)),ye.s16=(f=>new I(2,f)),ye.s24=(f=>new I(3,f)),ye.s32=(f=>new I(4,f)),ye.s40=(f=>new I(5,f)),ye.s48=(f=>new I(6,f)),ye.ns64=(f=>new F(f)),ye.s16be=(f=>new k(2,f)),ye.s24be=(f=>new k(3,f)),ye.s32be=(f=>new k(4,f)),ye.s40be=(f=>new k(5,f)),ye.s48be=(f=>new k(6,f)),ye.ns64be=(f=>new V(f)),ye.f32=(f=>new $(f)),ye.f32be=(f=>new re(f)),ye.f64=(f=>new oe(f)),ye.f64be=(f=>new se(f)),ye.struct=((f,y,O)=>new G(f,y,O)),ye.bits=((f,y,O)=>new _(f,y,O)),ye.seq=((f,y,O)=>new le(f,y,O)),ye.union=((f,y,O)=>new W(f,y,O)),ye.unionLayoutDiscriminator=((f,y)=>new X(f,y)),ye.blob=((f,y)=>new D(f,y)),ye.cstr=(f=>new B(f)),ye.utf8=((f,y)=>new v(f,y)),ye.constant=((f,y)=>new m(f,y)),ye}var Q=H2(),j2=8078e3,q2=8078001,P2=8078004,K2=8078005,V2=8078006,G2=8078011;function Gw(s){return Array.isArray(s)?"%5B"+s.map(Gw).join("%2C%20")+"%5D":typeof s=="bigint"?`${s}n`:encodeURIComponent(String(s!=null&&Object.getPrototypeOf(s)===null?{...s}:s))}function F2([s,t]){return`${s}=${Gw(t)}`}function Y2(s){const t=Object.entries(s).map(F2).join("&");return btoa(t)}function Z2(s,t={}){{let n=`Solana error #${s}; Decode this error by running \`npx @solana/errors decode -- ${s}`;return Object.keys(t).length&&(n+=` '${Y2(t)}'`),`${n}\``}}var ro=class extends Error{cause=this.cause;context;constructor(...[s,t]){let n,i;if(t){const{cause:o,...l}=t;o&&(i={cause:o}),Object.keys(l).length>0&&(n=l)}const c=Z2(s,n);super(c,i),this.context={__code:s,...n},this.name="SolanaError"}};function X2(s,t){return"fixedSize"in t?t.fixedSize:t.getSizeFromValue(s)}function W2(s){return Object.freeze({...s,encode:t=>{const n=new Uint8Array(X2(t,s));return s.write(t,n,0),n}})}function $2(s){return Object.freeze({...s,decode:(t,n=0)=>s.read(t,n)[0]})}function Xa(s){return"fixedSize"in s&&typeof s.fixedSize=="number"}function Q2(s,t){if(Xa(s)!==Xa(t))throw new ro(P2);if(Xa(s)&&Xa(t)&&s.fixedSize!==t.fixedSize)throw new ro(K2,{decoderFixedSize:t.fixedSize,encoderFixedSize:s.fixedSize});if(!Xa(s)&&!Xa(t)&&s.maxSize!==t.maxSize)throw new ro(V2,{decoderMaxSize:t.maxSize,encoderMaxSize:s.maxSize});return{...t,...s,decode:t.decode,encode:s.encode,read:t.read,write:s.write}}function J2(s,t,n=0){if(t.length-n<=0)throw new ro(j2,{codecDescription:s})}function ex(s,t,n,i=0){const c=n.length-i;if(c<t)throw new ro(q2,{bytesLength:c,codecDescription:s,expected:t})}function tx(s,t,n,i){if(i<t||i>n)throw new ro(G2,{codecDescription:s,max:n,min:t,value:i})}function Fw(s){return s?.endian!==1}function nx(s){return W2({fixedSize:s.size,write(t,n,i){s.range&&tx(s.name,s.range[0],s.range[1],t);const c=new ArrayBuffer(s.size);return s.set(new DataView(c),t,Fw(s.config)),n.set(new Uint8Array(c),i),i+s.size}})}function rx(s){return $2({fixedSize:s.size,read(t,n=0){J2(s.name,t,n),ex(s.name,s.size,t,n);const i=new DataView(ix(t,n,s.size));return[s.get(i,Fw(s.config)),n+s.size]}})}function ix(s,t,n){const i=s.byteOffset+(t??0),c=n??s.byteLength;return s.buffer.slice(i,i+c)}var Yw=(s={})=>nx({config:s,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(t,n,i)=>t.setBigUint64(0,BigInt(n),i),size:8}),sx=(s={})=>rx({config:s,get:(t,n)=>t.getBigUint64(0,n),name:"u64",size:8}),ax=(s={})=>Q2(Yw(s),sx(s));let ox=class extends TypeError{constructor(t,n){let i;const{message:c,explanation:o,...l}=t,{path:d}=t,g=d.length===0?c:`At path: ${d.join(".")} -- ${c}`;super(o??g),o!=null&&(this.cause=g),Object.assign(this,l),this.name=this.constructor.name,this.failures=()=>i??(i=[t,...n()])}};function cx(s){return Dc(s)&&typeof s[Symbol.iterator]=="function"}function Dc(s){return typeof s=="object"&&s!=null}function Ul(s){return Dc(s)&&!Array.isArray(s)}function Or(s){return typeof s=="symbol"?s.toString():typeof s=="string"?JSON.stringify(s):`${s}`}function ux(s){const{done:t,value:n}=s.next();return t?void 0:n}function lx(s,t,n,i){if(s===!0)return;s===!1?s={}:typeof s=="string"&&(s={message:s});const{path:c,branch:o}=t,{type:l}=n,{refinement:d,message:g=`Expected a value of type \`${l}\`${d?` with refinement \`${d}\``:""}, but received: \`${Or(i)}\``}=s;return{value:i,type:l,refinement:d,key:c[c.length-1],path:c,branch:o,...s,message:g}}function*Yg(s,t,n,i){cx(s)||(s=[s]);for(const c of s){const o=lx(c,t,n,i);o&&(yield o)}}function*$0(s,t,n={}){const{path:i=[],branch:c=[s],coerce:o=!1,mask:l=!1}=n,d={path:i,branch:c,mask:l};o&&(s=t.coercer(s,d));let g="valid";for(const w of t.validator(s,d))w.explanation=n.message,g="not_valid",yield[w,void 0];for(let[w,E,I]of t.entries(s,d)){const k=$0(E,I,{path:w===void 0?i:[...i,w],branch:w===void 0?c:[...c,E],coerce:o,mask:l,message:n.message});for(const R of k)R[0]?(g=R[0].refinement!=null?"not_refined":"not_valid",yield[R[0],void 0]):o&&(E=R[1],w===void 0?s=E:s instanceof Map?s.set(w,E):s instanceof Set?s.add(E):Dc(s)&&(E!==void 0||w in s)&&(s[w]=E))}if(g!=="not_valid")for(const w of t.refiner(s,d))w.explanation=n.message,g="not_refined",yield[w,void 0];g==="valid"&&(yield[void 0,s])}let Xr=class{constructor(t){const{type:n,schema:i,validator:c,refiner:o,coercer:l=g=>g,entries:d=function*(){}}=t;this.type=n,this.schema=i,this.entries=d,this.coercer=l,c?this.validator=(g,w)=>{const E=c(g,w);return Yg(E,w,this,g)}:this.validator=()=>[],o?this.refiner=(g,w)=>{const E=o(g,w);return Yg(E,w,this,g)}:this.refiner=()=>[]}assert(t,n){return Zw(t,this,n)}create(t,n){return Te(t,this,n)}is(t){return Xw(t,this)}mask(t,n){return fx(t,this,n)}validate(t,n={}){return Lc(t,this,n)}};function Zw(s,t,n){const i=Lc(s,t,{message:n});if(i[0])throw i[0]}function Te(s,t,n){const i=Lc(s,t,{coerce:!0,message:n});if(i[0])throw i[0];return i[1]}function fx(s,t,n){const i=Lc(s,t,{coerce:!0,mask:!0,message:n});if(i[0])throw i[0];return i[1]}function Xw(s,t){return!Lc(s,t)[0]}function Lc(s,t,n={}){const i=$0(s,t,n),c=ux(i);return c[0]?[new ox(c[0],function*(){for(const l of i)l[0]&&(yield l[0])}),void 0]:[void 0,c[1]]}function ra(s,t){return new Xr({type:s,schema:null,validator:t})}function dx(){return ra("any",()=>!0)}function Ne(s){return new Xr({type:"array",schema:s,*entries(t){if(s&&Array.isArray(t))for(const[n,i]of t.entries())yield[n,i,s]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${Or(t)}`}})}function Zr(){return ra("boolean",s=>typeof s=="boolean")}function Q0(s){return ra("instance",t=>t instanceof s||`Expected a \`${s.name}\` instance, but received: ${Or(t)}`)}function Qt(s){const t=Or(s),n=typeof s;return new Xr({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?s:null,validator(i){return i===s||`Expected the literal \`${t}\`, but received: ${Or(i)}`}})}function hx(){return ra("never",()=>!1)}function ke(s){return new Xr({...s,validator:(t,n)=>t===null||s.validator(t,n),refiner:(t,n)=>t===null||s.refiner(t,n)})}function ue(){return ra("number",s=>typeof s=="number"&&!isNaN(s)||`Expected a number, but received: ${Or(s)}`)}function Pe(s){return new Xr({...s,validator:(t,n)=>t===void 0||s.validator(t,n),refiner:(t,n)=>t===void 0||s.refiner(t,n)})}function Ww(s,t){return new Xr({type:"record",schema:null,*entries(n){if(Dc(n))for(const i in n){const c=n[i];yield[i,i,s],yield[i,c,t]}},validator(n){return Ul(n)||`Expected an object, but received: ${Or(n)}`},coercer(n){return Ul(n)?{...n}:n}})}function xe(){return ra("string",s=>typeof s=="string"||`Expected a string, but received: ${Or(s)}`)}function J0(s){const t=hx();return new Xr({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const i=Math.max(s.length,n.length);for(let c=0;c<i;c++)yield[c,n[c],s[c]||t]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${Or(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function Se(s){const t=Object.keys(s);return new Xr({type:"type",schema:s,*entries(n){if(Dc(n))for(const i of t)yield[i,n[i],s[i]]},validator(n){return Ul(n)||`Expected an object, but received: ${Or(n)}`},coercer(n){return Ul(n)?{...n}:n}})}function jn(s){const t=s.map(n=>n.type).join(" | ");return new Xr({type:"union",schema:null,coercer(n,i){for(const c of s){const[o,l]=c.validate(n,{coerce:!0,mask:i.mask});if(!o)return l}return n},validator(n,i){const c=[];for(const o of s){const[...l]=$0(n,o,i),[d]=l;if(d[0])for(const[g]of l)g&&c.push(g);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${Or(n)}`,...c]}})}function go(){return ra("unknown",()=>!0)}function zc(s,t,n){return new Xr({...s,coercer:(i,c)=>Xw(i,t)?s.coercer(n(i,c),c):s.coercer(i,c)})}var ol,px=new Uint8Array(16);function $w(){if(!ol&&(ol=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!ol))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ol(px)}const mx=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Yl(s){return typeof s=="string"&&mx.test(s)}var On=[];for(var zh=0;zh<256;++zh)On.push((zh+256).toString(16).substr(1));function Zl(s){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(On[s[t+0]]+On[s[t+1]]+On[s[t+2]]+On[s[t+3]]+"-"+On[s[t+4]]+On[s[t+5]]+"-"+On[s[t+6]]+On[s[t+7]]+"-"+On[s[t+8]]+On[s[t+9]]+"-"+On[s[t+10]]+On[s[t+11]]+On[s[t+12]]+On[s[t+13]]+On[s[t+14]]+On[s[t+15]]).toLowerCase();if(!Yl(n))throw TypeError("Stringified UUID is invalid");return n}var Zg,Hh,jh=0,qh=0;function yx(s,t,n){var i=t&&n||0,c=t||new Array(16);s=s||{};var o=s.node||Zg,l=s.clockseq!==void 0?s.clockseq:Hh;if(o==null||l==null){var d=s.random||(s.rng||$w)();o==null&&(o=Zg=[d[0]|1,d[1],d[2],d[3],d[4],d[5]]),l==null&&(l=Hh=(d[6]<<8|d[7])&16383)}var g=s.msecs!==void 0?s.msecs:Date.now(),w=s.nsecs!==void 0?s.nsecs:qh+1,E=g-jh+(w-qh)/1e4;if(E<0&&s.clockseq===void 0&&(l=l+1&16383),(E<0||g>jh)&&s.nsecs===void 0&&(w=0),w>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");jh=g,qh=w,Hh=l,g+=122192928e5;var I=((g&268435455)*1e4+w)%4294967296;c[i++]=I>>>24&255,c[i++]=I>>>16&255,c[i++]=I>>>8&255,c[i++]=I&255;var k=g/4294967296*1e4&268435455;c[i++]=k>>>8&255,c[i++]=k&255,c[i++]=k>>>24&15|16,c[i++]=k>>>16&255,c[i++]=l>>>8|128,c[i++]=l&255;for(var R=0;R<6;++R)c[i+R]=o[R];return t||Zl(c)}function Qw(s){if(!Yl(s))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(s.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=t&255,n[4]=(t=parseInt(s.slice(9,13),16))>>>8,n[5]=t&255,n[6]=(t=parseInt(s.slice(14,18),16))>>>8,n[7]=t&255,n[8]=(t=parseInt(s.slice(19,23),16))>>>8,n[9]=t&255,n[10]=(t=parseInt(s.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=t&255,n}function gx(s){s=unescape(encodeURIComponent(s));for(var t=[],n=0;n<s.length;++n)t.push(s.charCodeAt(n));return t}var bx="6ba7b810-9dad-11d1-80b4-00c04fd430c8",wx="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Jw(s,t,n){function i(c,o,l,d){if(typeof c=="string"&&(c=gx(c)),typeof o=="string"&&(o=Qw(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var g=new Uint8Array(16+c.length);if(g.set(o),g.set(c,o.length),g=n(g),g[6]=g[6]&15|t,g[8]=g[8]&63|128,l){d=d||0;for(var w=0;w<16;++w)l[d+w]=g[w];return l}return Zl(g)}try{i.name=s}catch{}return i.DNS=bx,i.URL=wx,i}function _x(s){if(typeof s=="string"){var t=unescape(encodeURIComponent(s));s=new Uint8Array(t.length);for(var n=0;n<t.length;++n)s[n]=t.charCodeAt(n)}return vx(Ex(Sx(s),s.length*8))}function vx(s){for(var t=[],n=s.length*32,i="0123456789abcdef",c=0;c<n;c+=8){var o=s[c>>5]>>>c%32&255,l=parseInt(i.charAt(o>>>4&15)+i.charAt(o&15),16);t.push(l)}return t}function e_(s){return(s+64>>>9<<4)+14+1}function Ex(s,t){s[t>>5]|=128<<t%32,s[e_(t)-1]=t;for(var n=1732584193,i=-271733879,c=-1732584194,o=271733878,l=0;l<s.length;l+=16){var d=n,g=i,w=c,E=o;n=Mn(n,i,c,o,s[l],7,-680876936),o=Mn(o,n,i,c,s[l+1],12,-389564586),c=Mn(c,o,n,i,s[l+2],17,606105819),i=Mn(i,c,o,n,s[l+3],22,-1044525330),n=Mn(n,i,c,o,s[l+4],7,-176418897),o=Mn(o,n,i,c,s[l+5],12,1200080426),c=Mn(c,o,n,i,s[l+6],17,-1473231341),i=Mn(i,c,o,n,s[l+7],22,-45705983),n=Mn(n,i,c,o,s[l+8],7,1770035416),o=Mn(o,n,i,c,s[l+9],12,-1958414417),c=Mn(c,o,n,i,s[l+10],17,-42063),i=Mn(i,c,o,n,s[l+11],22,-1990404162),n=Mn(n,i,c,o,s[l+12],7,1804603682),o=Mn(o,n,i,c,s[l+13],12,-40341101),c=Mn(c,o,n,i,s[l+14],17,-1502002290),i=Mn(i,c,o,n,s[l+15],22,1236535329),n=Un(n,i,c,o,s[l+1],5,-165796510),o=Un(o,n,i,c,s[l+6],9,-1069501632),c=Un(c,o,n,i,s[l+11],14,643717713),i=Un(i,c,o,n,s[l],20,-373897302),n=Un(n,i,c,o,s[l+5],5,-701558691),o=Un(o,n,i,c,s[l+10],9,38016083),c=Un(c,o,n,i,s[l+15],14,-660478335),i=Un(i,c,o,n,s[l+4],20,-405537848),n=Un(n,i,c,o,s[l+9],5,568446438),o=Un(o,n,i,c,s[l+14],9,-1019803690),c=Un(c,o,n,i,s[l+3],14,-187363961),i=Un(i,c,o,n,s[l+8],20,1163531501),n=Un(n,i,c,o,s[l+13],5,-1444681467),o=Un(o,n,i,c,s[l+2],9,-51403784),c=Un(c,o,n,i,s[l+7],14,1735328473),i=Un(i,c,o,n,s[l+12],20,-1926607734),n=Dn(n,i,c,o,s[l+5],4,-378558),o=Dn(o,n,i,c,s[l+8],11,-2022574463),c=Dn(c,o,n,i,s[l+11],16,1839030562),i=Dn(i,c,o,n,s[l+14],23,-35309556),n=Dn(n,i,c,o,s[l+1],4,-1530992060),o=Dn(o,n,i,c,s[l+4],11,1272893353),c=Dn(c,o,n,i,s[l+7],16,-155497632),i=Dn(i,c,o,n,s[l+10],23,-1094730640),n=Dn(n,i,c,o,s[l+13],4,681279174),o=Dn(o,n,i,c,s[l],11,-358537222),c=Dn(c,o,n,i,s[l+3],16,-722521979),i=Dn(i,c,o,n,s[l+6],23,76029189),n=Dn(n,i,c,o,s[l+9],4,-640364487),o=Dn(o,n,i,c,s[l+12],11,-421815835),c=Dn(c,o,n,i,s[l+15],16,530742520),i=Dn(i,c,o,n,s[l+2],23,-995338651),n=Ln(n,i,c,o,s[l],6,-198630844),o=Ln(o,n,i,c,s[l+7],10,1126891415),c=Ln(c,o,n,i,s[l+14],15,-1416354905),i=Ln(i,c,o,n,s[l+5],21,-57434055),n=Ln(n,i,c,o,s[l+12],6,1700485571),o=Ln(o,n,i,c,s[l+3],10,-1894986606),c=Ln(c,o,n,i,s[l+10],15,-1051523),i=Ln(i,c,o,n,s[l+1],21,-2054922799),n=Ln(n,i,c,o,s[l+8],6,1873313359),o=Ln(o,n,i,c,s[l+15],10,-30611744),c=Ln(c,o,n,i,s[l+6],15,-1560198380),i=Ln(i,c,o,n,s[l+13],21,1309151649),n=Ln(n,i,c,o,s[l+4],6,-145523070),o=Ln(o,n,i,c,s[l+11],10,-1120210379),c=Ln(c,o,n,i,s[l+2],15,718787259),i=Ln(i,c,o,n,s[l+9],21,-343485551),n=hs(n,d),i=hs(i,g),c=hs(c,w),o=hs(o,E)}return[n,i,c,o]}function Sx(s){if(s.length===0)return[];for(var t=s.length*8,n=new Uint32Array(e_(t)),i=0;i<t;i+=8)n[i>>5]|=(s[i/8]&255)<<i%32;return n}function hs(s,t){var n=(s&65535)+(t&65535),i=(s>>16)+(t>>16)+(n>>16);return i<<16|n&65535}function Ax(s,t){return s<<t|s>>>32-t}function Xl(s,t,n,i,c,o){return hs(Ax(hs(hs(t,s),hs(i,o)),c),n)}function Mn(s,t,n,i,c,o,l){return Xl(t&n|~t&i,s,t,c,o,l)}function Un(s,t,n,i,c,o,l){return Xl(t&i|n&~i,s,t,c,o,l)}function Dn(s,t,n,i,c,o,l){return Xl(t^n^i,s,t,c,o,l)}function Ln(s,t,n,i,c,o,l){return Xl(n^(t|~i),s,t,c,o,l)}var Rx=Jw("v3",48,_x);function xx(s,t,n){s=s||{};var i=s.random||(s.rng||$w)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t){n=n||0;for(var c=0;c<16;++c)t[n+c]=i[c];return t}return Zl(i)}function Tx(s,t,n,i){switch(s){case 0:return t&n^~t&i;case 1:return t^n^i;case 2:return t&n^t&i^n&i;case 3:return t^n^i}}function Ph(s,t){return s<<t|s>>>32-t}function Ox(s){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof s=="string"){var i=unescape(encodeURIComponent(s));s=[];for(var c=0;c<i.length;++c)s.push(i.charCodeAt(c))}else Array.isArray(s)||(s=Array.prototype.slice.call(s));s.push(128);for(var o=s.length/4+2,l=Math.ceil(o/16),d=new Array(l),g=0;g<l;++g){for(var w=new Uint32Array(16),E=0;E<16;++E)w[E]=s[g*64+E*4]<<24|s[g*64+E*4+1]<<16|s[g*64+E*4+2]<<8|s[g*64+E*4+3];d[g]=w}d[l-1][14]=(s.length-1)*8/Math.pow(2,32),d[l-1][14]=Math.floor(d[l-1][14]),d[l-1][15]=(s.length-1)*8&4294967295;for(var I=0;I<l;++I){for(var k=new Uint32Array(80),R=0;R<16;++R)k[R]=d[I][R];for(var M=16;M<80;++M)k[M]=Ph(k[M-3]^k[M-8]^k[M-14]^k[M-16],1);for(var U=n[0],z=n[1],j=n[2],F=n[3],V=n[4],$=0;$<80;++$){var re=Math.floor($/20),oe=Ph(U,5)+Tx(re,z,j,F)+V+t[re]+k[$]>>>0;V=F,F=j,j=Ph(z,30)>>>0,z=U,U=oe}n[0]=n[0]+U>>>0,n[1]=n[1]+z>>>0,n[2]=n[2]+j>>>0,n[3]=n[3]+F>>>0,n[4]=n[4]+V>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var Nx=Jw("v5",80,Ox);const kx="00000000-0000-0000-0000-000000000000";function Ix(s){if(!Yl(s))throw TypeError("Invalid UUID");return parseInt(s.substr(14,1),16)}const Cx=Object.freeze(Object.defineProperty({__proto__:null,NIL:kx,parse:Qw,stringify:Zl,v1:yx,v3:Rx,v4:xx,v5:Nx,validate:Yl,version:Ix},Symbol.toStringTag,{value:"Module"})),t_=Kl(Cx);var Kh,Xg;function Bx(){if(Xg)return Kh;Xg=1;const s=t_.v4;return Kh=function(n,i,c,o){if(typeof n!="string")throw new TypeError(n+" must be a string");o=o||{};const l=typeof o.version=="number"?o.version:2;if(l!==1&&l!==2)throw new TypeError(l+" must be 1 or 2");const d={method:n};if(l===2&&(d.jsonrpc="2.0"),i){if(typeof i!="object"&&!Array.isArray(i))throw new TypeError(i+" must be an object, array or omitted");d.params=i}if(typeof c>"u"){const g=typeof o.generator=="function"?o.generator:function(){return s()};d.id=g(d,o)}else l===2&&c===null?o.notificationIdNull&&(d.id=null):d.id=c;return d},Kh}var Vh,Wg;function Mx(){if(Wg)return Vh;Wg=1;const s=t_.v4,t=Bx(),n=function(i,c){if(!(this instanceof n))return new n(i,c);c||(c={}),this.options={reviver:typeof c.reviver<"u"?c.reviver:null,replacer:typeof c.replacer<"u"?c.replacer:null,generator:typeof c.generator<"u"?c.generator:function(){return s()},version:typeof c.version<"u"?c.version:2,notificationIdNull:typeof c.notificationIdNull=="boolean"?c.notificationIdNull:!1},this.callServer=i};return Vh=n,n.prototype.request=function(i,c,o,l){const d=this;let g=null;const w=Array.isArray(i)&&typeof c=="function";if(this.options.version===1&&w)throw new TypeError("JSON-RPC 1.0 does not support batching");if(w||!w&&i&&typeof i=="object"&&typeof c=="function")l=c,g=i;else{typeof o=="function"&&(l=o,o=void 0);const k=typeof l=="function";try{g=t(i,c,o,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(R){if(k){l(R);return}throw R}if(!k)return g}let I;try{I=JSON.stringify(g,this.options.replacer)}catch(k){l(k);return}return this.callServer(I,function(k,R){d._parseResponse(k,R,l)}),g},n.prototype._parseResponse=function(i,c,o){if(i){o(i);return}if(!c){o();return}let l;try{l=JSON.parse(c,this.options.reviver)}catch(d){o(d);return}if(o.length===3)if(Array.isArray(l)){const d=function(w){return typeof w.error<"u"},g=function(w){return!d(w)};o(null,l.filter(d),l.filter(g));return}else{o(null,l.error,l.result);return}o(null,l)},Vh}var Ux=Mx();const Dx=Ni(Ux);var Gh={exports:{}},$g;function Lx(){return $g||($g=1,(function(s){var t=Object.prototype.hasOwnProperty,n="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1));function c(g,w,E){this.fn=g,this.context=w,this.once=E||!1}function o(g,w,E,I,k){if(typeof E!="function")throw new TypeError("The listener must be a function");var R=new c(E,I||g,k),M=n?n+w:w;return g._events[M]?g._events[M].fn?g._events[M]=[g._events[M],R]:g._events[M].push(R):(g._events[M]=R,g._eventsCount++),g}function l(g,w){--g._eventsCount===0?g._events=new i:delete g._events[w]}function d(){this._events=new i,this._eventsCount=0}d.prototype.eventNames=function(){var w=[],E,I;if(this._eventsCount===0)return w;for(I in E=this._events)t.call(E,I)&&w.push(n?I.slice(1):I);return Object.getOwnPropertySymbols?w.concat(Object.getOwnPropertySymbols(E)):w},d.prototype.listeners=function(w){var E=n?n+w:w,I=this._events[E];if(!I)return[];if(I.fn)return[I.fn];for(var k=0,R=I.length,M=new Array(R);k<R;k++)M[k]=I[k].fn;return M},d.prototype.listenerCount=function(w){var E=n?n+w:w,I=this._events[E];return I?I.fn?1:I.length:0},d.prototype.emit=function(w,E,I,k,R,M){var U=n?n+w:w;if(!this._events[U])return!1;var z=this._events[U],j=arguments.length,F,V;if(z.fn){switch(z.once&&this.removeListener(w,z.fn,void 0,!0),j){case 1:return z.fn.call(z.context),!0;case 2:return z.fn.call(z.context,E),!0;case 3:return z.fn.call(z.context,E,I),!0;case 4:return z.fn.call(z.context,E,I,k),!0;case 5:return z.fn.call(z.context,E,I,k,R),!0;case 6:return z.fn.call(z.context,E,I,k,R,M),!0}for(V=1,F=new Array(j-1);V<j;V++)F[V-1]=arguments[V];z.fn.apply(z.context,F)}else{var $=z.length,re;for(V=0;V<$;V++)switch(z[V].once&&this.removeListener(w,z[V].fn,void 0,!0),j){case 1:z[V].fn.call(z[V].context);break;case 2:z[V].fn.call(z[V].context,E);break;case 3:z[V].fn.call(z[V].context,E,I);break;case 4:z[V].fn.call(z[V].context,E,I,k);break;default:if(!F)for(re=1,F=new Array(j-1);re<j;re++)F[re-1]=arguments[re];z[V].fn.apply(z[V].context,F)}}return!0},d.prototype.on=function(w,E,I){return o(this,w,E,I,!1)},d.prototype.once=function(w,E,I){return o(this,w,E,I,!0)},d.prototype.removeListener=function(w,E,I,k){var R=n?n+w:w;if(!this._events[R])return this;if(!E)return l(this,R),this;var M=this._events[R];if(M.fn)M.fn===E&&(!k||M.once)&&(!I||M.context===I)&&l(this,R);else{for(var U=0,z=[],j=M.length;U<j;U++)(M[U].fn!==E||k&&!M[U].once||I&&M[U].context!==I)&&z.push(M[U]);z.length?this._events[R]=z.length===1?z[0]:z:l(this,R)}return this},d.prototype.removeAllListeners=function(w){var E;return w?(E=n?n+w:w,this._events[E]&&l(this,E)):(this._events=new i,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,s.exports=d})(Gh)),Gh.exports}var zx=Lx();const n_=Ni(zx);var Hx=class extends n_{socket;constructor(s,t){super(),this.socket=new window.WebSocket(s,t.protocols),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=n=>this.emit("message",n.data),this.socket.onerror=n=>this.emit("error",n),this.socket.onclose=n=>{this.emit("close",n.code,n.reason)}}send(s,t,n){const i=n||t;try{this.socket.send(s),i()}catch(c){i(c)}}close(s,t){this.socket.close(s,t)}addEventListener(s,t,n){this.socket.addEventListener(s,t,n)}};function jx(s,t){return new Hx(s,t)}var qx=class{encode(s){return JSON.stringify(s)}decode(s){return JSON.parse(s)}},Px=class extends n_{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(s,t="ws://localhost:8080",{autoconnect:n=!0,reconnect:i=!0,reconnect_interval:c=1e3,max_reconnects:o=5,...l}={},d,g){super(),this.webSocketFactory=s,this.queue={},this.rpc_id=0,this.address=t,this.autoconnect=n,this.ready=!1,this.reconnect=i,this.reconnect_timer_id=void 0,this.reconnect_interval=c,this.max_reconnects=o,this.rest_options=l,this.current_reconnects=0,this.generate_request_id=d||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),g?this.dataPack=g:this.dataPack=new qx,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(s,t,n,i){return!i&&typeof n=="object"&&(i=n,n=null),new Promise((c,o)=>{if(!this.ready)return o(new Error("socket not ready"));const l=this.generate_request_id(s,t),d={jsonrpc:"2.0",method:s,params:t||void 0,id:l};this.socket.send(this.dataPack.encode(d),i,g=>{if(g)return o(g);this.queue[l]={promise:[c,o]},n&&(this.queue[l].timeout=setTimeout(()=>{delete this.queue[l],o(new Error("reply timeout"))},n))})})}async login(s){const t=await this.call("rpc.login",s);if(!t)throw new Error("authentication failed");return t}async listMethods(){return await this.call("__listMethods")}notify(s,t){return new Promise((n,i)=>{if(!this.ready)return i(new Error("socket not ready"));const c={jsonrpc:"2.0",method:s,params:t};this.socket.send(this.dataPack.encode(c),o=>{if(o)return i(o);n()})})}async subscribe(s){typeof s=="string"&&(s=[s]);const t=await this.call("rpc.on",s);if(typeof s=="string"&&t[s]!=="ok")throw new Error("Failed subscribing to an event '"+s+"' with: "+t[s]);return t}async unsubscribe(s){typeof s=="string"&&(s=[s]);const t=await this.call("rpc.off",s);if(typeof s=="string"&&t[s]!=="ok")throw new Error("Failed unsubscribing from an event with: "+t);return t}close(s,t){this.socket&&this.socket.close(s||1e3,t)}setAutoReconnect(s){this.reconnect=s}setReconnectInterval(s){this.reconnect_interval=s}setMaxReconnects(s){this.max_reconnects=s}getCurrentReconnects(){return this.current_reconnects}getMaxReconnects(){return this.max_reconnects}isReconnecting(){return this.reconnect_timer_id!==void 0}willReconnect(){return this.reconnect&&(this.max_reconnects===0||this.current_reconnects<this.max_reconnects)}_connect(s,t){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(s,t),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:n})=>{n instanceof ArrayBuffer&&(n=Ce.Buffer.from(n).toString());try{n=this.dataPack.decode(n)}catch{return}if(n.notification&&this.listeners(n.notification).length){if(!Object.keys(n.params).length)return this.emit(n.notification);const i=[n.notification];if(n.params.constructor===Object)i.push(n.params);else for(let c=0;c<n.params.length;c++)i.push(n.params[c]);return Promise.resolve().then(()=>{this.emit.apply(this,i)})}if(!this.queue[n.id])return n.method?Promise.resolve().then(()=>{this.emit(n.method,n?.params)}):void 0;"error"in n=="result"in n&&this.queue[n.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[n.id].timeout&&clearTimeout(this.queue[n.id].timeout),n.error?this.queue[n.id].promise[1](n.error):this.queue[n.id].promise[0](n.result),delete this.queue[n.id]}),this.socket.addEventListener("error",n=>this.emit("error",n)),this.socket.addEventListener("close",({code:n,reason:i})=>{this.ready&&setTimeout(()=>this.emit("close",n,i),0),this.ready=!1,this.socket=void 0,n!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)?this.reconnect_timer_id=setTimeout(()=>this._connect(s,t),this.reconnect_interval):this.reconnect&&this.max_reconnects>0&&this.current_reconnects>=this.max_reconnects&&setTimeout(()=>this.emit("max_reconnects_reached",n,i),1))})}};const Kx=BigInt(0),mc=BigInt(1),Vx=BigInt(2),Gx=BigInt(7),Fx=BigInt(256),Yx=BigInt(113),r_=[],i_=[],s_=[];for(let s=0,t=mc,n=1,i=0;s<24;s++){[n,i]=[i,(2*n+3*i)%5],r_.push(2*(5*i+n)),i_.push((s+1)*(s+2)/2%64);let c=Kx;for(let o=0;o<7;o++)t=(t<<mc^(t>>Gx)*Yx)%Fx,t&Vx&&(c^=mc<<(mc<<BigInt(o))-mc);s_.push(c)}const a_=Ew(s_,!0),Zx=a_[0],Xx=a_[1],Qg=(s,t,n)=>n>32?CR(s,t,n):kR(s,t,n),Jg=(s,t,n)=>n>32?BR(s,t,n):IR(s,t,n);function Wx(s,t=24){const n=new Uint32Array(10);for(let i=24-t;i<24;i++){for(let l=0;l<10;l++)n[l]=s[l]^s[l+10]^s[l+20]^s[l+30]^s[l+40];for(let l=0;l<10;l+=2){const d=(l+8)%10,g=(l+2)%10,w=n[g],E=n[g+1],I=Qg(w,E,1)^n[d],k=Jg(w,E,1)^n[d+1];for(let R=0;R<50;R+=10)s[l+R]^=I,s[l+R+1]^=k}let c=s[2],o=s[3];for(let l=0;l<24;l++){const d=i_[l],g=Qg(c,o,d),w=Jg(c,o,d),E=r_[l];c=s[E],o=s[E+1],s[E]=g,s[E+1]=w}for(let l=0;l<50;l+=10){for(let d=0;d<10;d++)n[d]=s[l+d];for(let d=0;d<10;d++)s[l+d]^=~n[(d+2)%10]&n[(d+4)%10]}s[0]^=Zx[i],s[1]^=Xx[i]}gs(n)}class ep extends q0{constructor(t,n,i,c=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=i,this.enableXOF=c,this.rounds=o,Rc(i),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=_R(this.state)}clone(){return this._cloneInto()}keccak(){xg(this.state32),Wx(this.state32,this.rounds),xg(this.state32),this.posOut=0,this.pos=0}update(t){co(this),t=Vl(t),Ti(t);const{blockLen:n,state:i}=this,c=t.length;for(let o=0;o<c;){const l=Math.min(n-this.pos,c-o);for(let d=0;d<l;d++)i[this.pos++]^=t[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:i,blockLen:c}=this;t[i]^=n,(n&128)!==0&&i===c-1&&this.keccak(),t[c-1]^=128,this.keccak()}writeInto(t){co(this,!1),Ti(t),this.finish();const n=this.state,{blockLen:i}=this;for(let c=0,o=t.length;c<o;){this.posOut>=i&&this.keccak();const l=Math.min(i-this.posOut,o-c);t.set(n.subarray(this.posOut,this.posOut+l),c),this.posOut+=l,c+=l}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Rc(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(ww(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,gs(this.state)}_cloneInto(t){const{blockLen:n,suffix:i,outputLen:c,rounds:o,enableXOF:l}=this;return t||(t=new ep(n,i,c,l,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=i,t.outputLen=c,t.enableXOF=l,t.destroyed=this.destroyed,t}}const $x=(s,t,n)=>P0(()=>new ep(t,s,n)),eb=$x(1,136,256/8);class o_ extends q0{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,bw(t);const i=Vl(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const c=this.blockLen,o=new Uint8Array(c);o.set(i.length>c?t.create().update(i).digest():i);for(let l=0;l<o.length;l++)o[l]^=54;this.iHash.update(o),this.oHash=t.create();for(let l=0;l<o.length;l++)o[l]^=106;this.oHash.update(o),gs(o)}update(t){return co(this),this.iHash.update(t),this}digestInto(t){co(this),Ti(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:i,finished:c,destroyed:o,blockLen:l,outputLen:d}=this;return t=t,t.finished=c,t.destroyed=o,t.blockLen=l,t.outputLen=d,t.oHash=n._cloneInto(t.oHash),t.iHash=i._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const c_=(s,t,n)=>new o_(s,t).update(n).digest();c_.create=(s,t)=>new o_(s,t);const tb=(s,t)=>(s+(s>=0?t:-t)/u_)/t;function Qx(s,t,n){const[[i,c],[o,l]]=t,d=tb(l*s,n),g=tb(-c*s,n);let w=s-d*i-g*o,E=-d*c-g*l;const I=w<xi,k=E<xi;I&&(w=-w),k&&(E=-E);const R=Mc(Math.ceil(Tw(n)/2))+io;if(w<xi||w>=R||E<xi||E>=R)throw new Error("splitScalar (endomorphism): failed, k="+s);return{k1neg:I,k1:w,k2neg:k,k2:E}}function w0(s){if(!["compact","recovered","der"].includes(s))throw new Error('Signature format must be "compact", "recovered", or "der"');return s}function Fh(s,t){const n={};for(let i of Object.keys(t))n[i]=s[i]===void 0?t[i]:s[i];return Qs(n.lowS,"lowS"),Qs(n.prehash,"prehash"),n.format!==void 0&&w0(n.format),n}class Jx extends Error{constructor(t=""){super(t)}}const vi={Err:Jx,_tlv:{encode:(s,t)=>{const{Err:n}=vi;if(s<0||s>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const i=t.length/2,c=sl(i);if(c.length/2&128)throw new n("tlv.encode: long form length too big");const o=i>127?sl(c.length/2|128):"";return sl(s)+o+c+t},decode(s,t){const{Err:n}=vi;let i=0;if(s<0||s>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[i++]!==s)throw new n("tlv.decode: wrong tlv");const c=t[i++],o=!!(c&128);let l=0;if(!o)l=c;else{const g=c&127;if(!g)throw new n("tlv.decode(long): indefinite length not supported");if(g>4)throw new n("tlv.decode(long): byte length is too big");const w=t.subarray(i,i+g);if(w.length!==g)throw new n("tlv.decode: length bytes not complete");if(w[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const E of w)l=l<<8|E;if(i+=g,l<128)throw new n("tlv.decode(long): not minimal encoding")}const d=t.subarray(i,i+l);if(d.length!==l)throw new n("tlv.decode: wrong value length");return{v:d,l:t.subarray(i+l)}}},_int:{encode(s){const{Err:t}=vi;if(s<xi)throw new t("integer: negative integers are not allowed");let n=sl(s);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(s){const{Err:t}=vi;if(s[0]&128)throw new t("invalid signature integer: negative");if(s[0]===0&&!(s[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return Gl(s)}},toSig(s){const{Err:t,_int:n,_tlv:i}=vi,c=un("signature",s),{v:o,l}=i.decode(48,c);if(l.length)throw new t("invalid signature: left bytes after parsing");const{v:d,l:g}=i.decode(2,o),{v:w,l:E}=i.decode(2,g);if(E.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(d),s:n.decode(w)}},hexFromSig(s){const{_tlv:t,_int:n}=vi,i=t.encode(2,n.encode(s.r)),c=t.encode(2,n.encode(s.s)),o=i+c;return t.encode(48,o)}},xi=BigInt(0),io=BigInt(1),u_=BigInt(2),cl=BigInt(3),eT=BigInt(4);function Ja(s,t){const{BYTES:n}=s;let i;if(typeof t=="bigint")i=t;else{let c=un("private key",t);try{i=s.fromBytes(c)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof t}`)}}if(!s.isValidNot0(i))throw new Error("invalid private key: out of range [1..N-1]");return i}function tT(s,t={}){const n=Kw("weierstrass",s,t),{Fp:i,Fn:c}=n;let o=n.CURVE;const{h:l,n:d}=o;Uc(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:g}=t;if(g&&(!i.is0(o.a)||typeof g.beta!="bigint"||!Array.isArray(g.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const w=f_(i,c);function E(){if(!i.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function I(W,x,h){const{x:_,y:S}=x.toAffine(),C=i.toBytes(_);if(Qs(h,"isCompressed"),h){E();const D=!i.isOdd(S);return Pr(l_(D),C)}else return Pr(Uint8Array.of(4),C,i.toBytes(S))}function k(W){Tr(W,void 0,"Point");const{publicKey:x,publicKeyUncompressed:h}=w,_=W.length,S=W[0],C=W.subarray(1);if(_===x&&(S===2||S===3)){const D=i.fromBytes(C);if(!i.isValid(D))throw new Error("bad point: is not on curve, wrong x");const B=U(D);let v;try{v=i.sqrt(B)}catch(y){const O=y instanceof Error?": "+y.message:"";throw new Error("bad point: is not on curve, sqrt error"+O)}E();const m=i.isOdd(v);return(S&1)===1!==m&&(v=i.neg(v)),{x:D,y:v}}else if(_===h&&S===4){const D=i.BYTES,B=i.fromBytes(C.subarray(0,D)),v=i.fromBytes(C.subarray(D,D*2));if(!z(B,v))throw new Error("bad point: is not on curve");return{x:B,y:v}}else throw new Error(`bad point: got length ${_}, expected compressed=${x} or uncompressed=${h}`)}const R=t.toBytes||I,M=t.fromBytes||k;function U(W){const x=i.sqr(W),h=i.mul(x,W);return i.add(i.add(h,i.mul(W,o.a)),o.b)}function z(W,x){const h=i.sqr(x),_=U(W);return i.eql(h,_)}if(!z(o.Gx,o.Gy))throw new Error("bad curve params: generator point");const j=i.mul(i.pow(o.a,cl),eT),F=i.mul(i.sqr(o.b),BigInt(27));if(i.is0(i.add(j,F)))throw new Error("bad curve params: a or b");function V(W,x,h=!1){if(!i.isValid(x)||h&&i.is0(x))throw new Error(`bad point coordinate ${W}`);return x}function $(W){if(!(W instanceof G))throw new Error("ProjectivePoint expected")}function re(W){if(!g||!g.basises)throw new Error("no endo");return Qx(W,g.basises,c.ORDER)}const oe=Ol((W,x)=>{const{X:h,Y:_,Z:S}=W;if(i.eql(S,i.ONE))return{x:h,y:_};const C=W.is0();x==null&&(x=C?i.ONE:i.inv(S));const D=i.mul(h,x),B=i.mul(_,x),v=i.mul(S,x);if(C)return{x:i.ZERO,y:i.ZERO};if(!i.eql(v,i.ONE))throw new Error("invZ was invalid");return{x:D,y:B}}),se=Ol(W=>{if(W.is0()){if(t.allowInfinityPoint&&!i.is0(W.Y))return;throw new Error("bad point: ZERO")}const{x,y:h}=W.toAffine();if(!i.isValid(x)||!i.isValid(h))throw new Error("bad point: x or y not field elements");if(!z(x,h))throw new Error("bad point: equation left != right");if(!W.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function le(W,x,h,_,S){return h=new G(i.mul(h.X,W),h.Y,h.Z),x=Nl(_,x),h=Nl(S,h),x.add(h)}class G{constructor(x,h,_){this.X=V("x",x),this.Y=V("y",h,!0),this.Z=V("z",_),Object.freeze(this)}static CURVE(){return o}static fromAffine(x){const{x:h,y:_}=x||{};if(!x||!i.isValid(h)||!i.isValid(_))throw new Error("invalid affine point");if(x instanceof G)throw new Error("projective point not allowed");return i.is0(h)&&i.is0(_)?G.ZERO:new G(h,_,i.ONE)}static fromBytes(x){const h=G.fromAffine(M(Tr(x,void 0,"point")));return h.assertValidity(),h}static fromHex(x){return G.fromBytes(un("pointHex",x))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(x=8,h=!0){return X.createCache(this,x),h||this.multiply(cl),this}assertValidity(){se(this)}hasEvenY(){const{y:x}=this.toAffine();if(!i.isOdd)throw new Error("Field doesn't support isOdd");return!i.isOdd(x)}equals(x){$(x);const{X:h,Y:_,Z:S}=this,{X:C,Y:D,Z:B}=x,v=i.eql(i.mul(h,B),i.mul(C,S)),m=i.eql(i.mul(_,B),i.mul(D,S));return v&&m}negate(){return new G(this.X,i.neg(this.Y),this.Z)}double(){const{a:x,b:h}=o,_=i.mul(h,cl),{X:S,Y:C,Z:D}=this;let B=i.ZERO,v=i.ZERO,m=i.ZERO,f=i.mul(S,S),y=i.mul(C,C),O=i.mul(D,D),L=i.mul(S,C);return L=i.add(L,L),m=i.mul(S,D),m=i.add(m,m),B=i.mul(x,m),v=i.mul(_,O),v=i.add(B,v),B=i.sub(y,v),v=i.add(y,v),v=i.mul(B,v),B=i.mul(L,B),m=i.mul(_,m),O=i.mul(x,O),L=i.sub(f,O),L=i.mul(x,L),L=i.add(L,m),m=i.add(f,f),f=i.add(m,f),f=i.add(f,O),f=i.mul(f,L),v=i.add(v,f),O=i.mul(C,D),O=i.add(O,O),f=i.mul(O,L),B=i.sub(B,f),m=i.mul(O,y),m=i.add(m,m),m=i.add(m,m),new G(B,v,m)}add(x){$(x);const{X:h,Y:_,Z:S}=this,{X:C,Y:D,Z:B}=x;let v=i.ZERO,m=i.ZERO,f=i.ZERO;const y=o.a,O=i.mul(o.b,cl);let L=i.mul(h,C),Y=i.mul(_,D),ne=i.mul(S,B),ie=i.add(h,_),he=i.add(C,D);ie=i.mul(ie,he),he=i.add(L,Y),ie=i.sub(ie,he),he=i.add(h,S);let Ae=i.add(C,B);return he=i.mul(he,Ae),Ae=i.add(L,ne),he=i.sub(he,Ae),Ae=i.add(_,S),v=i.add(D,B),Ae=i.mul(Ae,v),v=i.add(Y,ne),Ae=i.sub(Ae,v),f=i.mul(y,he),v=i.mul(O,ne),f=i.add(v,f),v=i.sub(Y,f),f=i.add(Y,f),m=i.mul(v,f),Y=i.add(L,L),Y=i.add(Y,L),ne=i.mul(y,ne),he=i.mul(O,he),Y=i.add(Y,ne),ne=i.sub(L,ne),ne=i.mul(y,ne),he=i.add(he,ne),L=i.mul(Y,he),m=i.add(m,L),L=i.mul(Ae,he),v=i.mul(ie,v),v=i.sub(v,L),L=i.mul(ie,Y),f=i.mul(Ae,f),f=i.add(f,L),new G(v,m,f)}subtract(x){return this.add(x.negate())}is0(){return this.equals(G.ZERO)}multiply(x){const{endo:h}=t;if(!c.isValidNot0(x))throw new Error("invalid scalar: out of range");let _,S;const C=D=>X.cached(this,D,B=>Ys(G,B));if(h){const{k1neg:D,k1:B,k2neg:v,k2:m}=re(x),{p:f,f:y}=C(B),{p:O,f:L}=C(m);S=y.add(L),_=le(h.beta,f,O,D,v)}else{const{p:D,f:B}=C(x);_=D,S=B}return Ys(G,[_,S])[0]}multiplyUnsafe(x){const{endo:h}=t,_=this;if(!c.isValid(x))throw new Error("invalid scalar: out of range");if(x===xi||_.is0())return G.ZERO;if(x===io)return _;if(X.hasCache(this))return this.multiply(x);if(h){const{k1neg:S,k1:C,k2neg:D,k2:B}=re(x),{p1:v,p2:m}=a2(G,_,C,B);return le(h.beta,v,m,S,D)}else return X.unsafe(_,x)}multiplyAndAddUnsafe(x,h,_){const S=this.multiplyUnsafe(h).add(x.multiplyUnsafe(_));return S.is0()?void 0:S}toAffine(x){return oe(this,x)}isTorsionFree(){const{isTorsionFree:x}=t;return l===io?!0:x?x(G,this):X.unsafe(this,d).is0()}clearCofactor(){const{clearCofactor:x}=t;return l===io?this:x?x(G,this):this.multiplyUnsafe(l)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}toBytes(x=!0){return Qs(x,"isCompressed"),this.assertValidity(),R(G,this,x)}toHex(x=!0){return $s(this.toBytes(x))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(x=!0){return this.toBytes(x)}_setWindowSize(x){this.precompute(x)}static normalizeZ(x){return Ys(G,x)}static msm(x,h){return Pw(G,c,x,h)}static fromPrivateKey(x){return G.BASE.multiply(Ja(c,x))}}G.BASE=new G(o.Gx,o.Gy,i.ONE),G.ZERO=new G(i.ZERO,i.ONE,i.ZERO),G.Fp=i,G.Fn=c;const Z=c.BITS,X=new qw(G,t.endo?Math.ceil(Z/2):Z);return G.BASE.precompute(8),G}function l_(s){return Uint8Array.of(s?2:3)}function f_(s,t){return{secretKey:t.BYTES,publicKey:1+s.BYTES,publicKeyUncompressed:1+2*s.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}function nT(s,t={}){const{Fn:n}=s,i=t.randomBytes||K0,c=Object.assign(f_(s.Fp,n),{seed:zw(n.ORDER)});function o(R){try{return!!Ja(n,R)}catch{return!1}}function l(R,M){const{publicKey:U,publicKeyUncompressed:z}=c;try{const j=R.length;return M===!0&&j!==U||M===!1&&j!==z?!1:!!s.fromBytes(R)}catch{return!1}}function d(R=i(c.seed)){return r2(Tr(R,c.seed,"seed"),n.ORDER)}function g(R,M=!0){return s.BASE.multiply(Ja(n,R)).toBytes(M)}function w(R){const M=d(R);return{secretKey:M,publicKey:g(M)}}function E(R){if(typeof R=="bigint")return!1;if(R instanceof s)return!0;const{secretKey:M,publicKey:U,publicKeyUncompressed:z}=c;if(n.allowedLengths||M===U)return;const j=un("key",R).length;return j===U||j===z}function I(R,M,U=!0){if(E(R)===!0)throw new Error("first arg must be private key");if(E(M)===!1)throw new Error("second arg must be public key");const z=Ja(n,R);return s.fromHex(M).multiply(z).toBytes(U)}return Object.freeze({getPublicKey:g,getSharedSecret:I,keygen:w,Point:s,utils:{isValidSecretKey:o,isValidPublicKey:l,randomSecretKey:d,isValidPrivateKey:o,randomPrivateKey:d,normPrivateKeyToScalar:R=>Ja(n,R),precompute(R=8,M=s.BASE){return M.precompute(R,!1)}},lengths:c})}function rT(s,t,n={}){bw(t),Uc(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const i=n.randomBytes||K0,c=n.hmac||((h,..._)=>c_(t,h,Pr(..._))),{Fp:o,Fn:l}=s,{ORDER:d,BITS:g}=l,{keygen:w,getPublicKey:E,getSharedSecret:I,utils:k,lengths:R}=nT(s,n),M={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},U="compact";function z(h){const _=d>>io;return h>_}function j(h,_){if(!l.isValidNot0(_))throw new Error(`invalid signature ${h}: out of range 1..Point.Fn.ORDER`);return _}function F(h,_){w0(_);const S=R.signature,C=_==="compact"?S:_==="recovered"?S+1:void 0;return Tr(h,C,`${_} signature`)}class V{constructor(_,S,C){this.r=j("r",_),this.s=j("s",S),C!=null&&(this.recovery=C),Object.freeze(this)}static fromBytes(_,S=U){F(_,S);let C;if(S==="der"){const{r:m,s:f}=vi.toSig(Tr(_));return new V(m,f)}S==="recovered"&&(C=_[0],S="compact",_=_.subarray(1));const D=l.BYTES,B=_.subarray(0,D),v=_.subarray(D,D*2);return new V(l.fromBytes(B),l.fromBytes(v),C)}static fromHex(_,S){return this.fromBytes(Tl(_),S)}addRecoveryBit(_){return new V(this.r,this.s,_)}recoverPublicKey(_){const S=o.ORDER,{r:C,s:D,recovery:B}=this;if(B==null||![0,1,2,3].includes(B))throw new Error("recovery id invalid");if(d*u_<S&&B>1)throw new Error("recovery id is ambiguous for h>1 curve");const m=B===2||B===3?C+d:C;if(!o.isValid(m))throw new Error("recovery id 2 or 3 invalid");const f=o.toBytes(m),y=s.fromBytes(Pr(l_((B&1)===0),f)),O=l.inv(m),L=re(un("msgHash",_)),Y=l.create(-L*O),ne=l.create(D*O),ie=s.BASE.multiplyUnsafe(Y).add(y.multiplyUnsafe(ne));if(ie.is0())throw new Error("point at infinify");return ie.assertValidity(),ie}hasHighS(){return z(this.s)}toBytes(_=U){if(w0(_),_==="der")return Tl(vi.hexFromSig(this));const S=l.toBytes(this.r),C=l.toBytes(this.s);if(_==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return Pr(Uint8Array.of(this.recovery),S,C)}return Pr(S,C)}toHex(_){return $s(this.toBytes(_))}assertValidity(){}static fromCompact(_){return V.fromBytes(un("sig",_),"compact")}static fromDER(_){return V.fromBytes(un("sig",_),"der")}normalizeS(){return this.hasHighS()?new V(this.r,l.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return $s(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return $s(this.toBytes("compact"))}}const $=n.bits2int||function(_){if(_.length>8192)throw new Error("input is too large");const S=Gl(_),C=_.length*8-g;return C>0?S>>BigInt(C):S},re=n.bits2int_modN||function(_){return l.create($(_))},oe=Mc(g);function se(h){return b0("num < 2^"+g,h,xi,oe),l.toBytes(h)}function le(h,_){return Tr(h,void 0,"message"),_?Tr(t(h),void 0,"prehashed message"):h}function G(h,_,S){if(["recovered","canonical"].some(Y=>Y in S))throw new Error("sign() legacy options not supported");const{lowS:C,prehash:D,extraEntropy:B}=Fh(S,M);h=le(h,D);const v=re(h),m=Ja(l,_),f=[se(m),se(v)];if(B!=null&&B!==!1){const Y=B===!0?i(R.secretKey):B;f.push(un("extraEntropy",Y))}const y=Pr(...f),O=v;function L(Y){const ne=$(Y);if(!l.isValidNot0(ne))return;const ie=l.inv(ne),he=s.BASE.multiply(ne).toAffine(),Ae=l.create(he.x);if(Ae===xi)return;const Ie=l.create(ie*l.create(O+Ae*m));if(Ie===xi)return;let Ve=(he.x===Ae?0:2)|Number(he.y&io),xt=Ie;return C&&z(Ie)&&(xt=l.neg(Ie),Ve^=1),new V(Ae,xt,Ve)}return{seed:y,k2sig:L}}function Z(h,_,S={}){h=un("message",h);const{seed:C,k2sig:D}=G(h,_,S);return YR(t.outputLen,l.BYTES,c)(C,D)}function X(h){let _;const S=typeof h=="string"||Bc(h),C=!S&&h!==null&&typeof h=="object"&&typeof h.r=="bigint"&&typeof h.s=="bigint";if(!S&&!C)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(C)_=new V(h.r,h.s);else if(S){try{_=V.fromBytes(un("sig",h),"der")}catch(D){if(!(D instanceof vi.Err))throw D}if(!_)try{_=V.fromBytes(un("sig",h),"compact")}catch{return!1}}return _||!1}function W(h,_,S,C={}){const{lowS:D,prehash:B,format:v}=Fh(C,M);if(S=un("publicKey",S),_=le(un("message",_),B),"strict"in C)throw new Error("options.strict was renamed to lowS");const m=v===void 0?X(h):V.fromBytes(un("sig",h),v);if(m===!1)return!1;try{const f=s.fromBytes(S);if(D&&m.hasHighS())return!1;const{r:y,s:O}=m,L=re(_),Y=l.inv(O),ne=l.create(L*Y),ie=l.create(y*Y),he=s.BASE.multiplyUnsafe(ne).add(f.multiplyUnsafe(ie));return he.is0()?!1:l.create(he.x)===y}catch{return!1}}function x(h,_,S={}){const{prehash:C}=Fh(S,M);return _=le(_,C),V.fromBytes(h,"recovered").recoverPublicKey(_).toBytes()}return Object.freeze({keygen:w,getPublicKey:E,getSharedSecret:I,utils:k,lengths:R,Point:s,sign:Z,verify:W,recoverPublicKey:x,Signature:V,hash:t})}function iT(s){const t={a:s.a,b:s.b,p:s.Fp.ORDER,n:s.n,h:s.h,Gx:s.Gx,Gy:s.Gy},n=s.Fp;let i=s.allowedPrivateKeyLengths?Array.from(new Set(s.allowedPrivateKeyLengths.map(l=>Math.ceil(l/2)))):void 0;const c=na(t.n,{BITS:s.nBitLength,allowedLengths:i,modFromBytes:s.wrapPrivateKey}),o={Fp:n,Fn:c,allowInfinityPoint:s.allowInfinityPoint,endo:s.endo,isTorsionFree:s.isTorsionFree,clearCofactor:s.clearCofactor,fromBytes:s.fromBytes,toBytes:s.toBytes};return{CURVE:t,curveOpts:o}}function sT(s){const{CURVE:t,curveOpts:n}=iT(s),i={hmac:s.hmac,randomBytes:s.randomBytes,lowS:s.lowS,bits2int:s.bits2int,bits2int_modN:s.bits2int_modN};return{CURVE:t,curveOpts:n,hash:s.hash,ecdsaOpts:i}}function aT(s,t){const n=t.Point;return Object.assign({},t,{ProjectivePoint:n,CURVE:Object.assign({},s,Dw(n.Fn.ORDER,n.Fn.BITS))})}function oT(s){const{CURVE:t,curveOpts:n,hash:i,ecdsaOpts:c}=sT(s),o=tT(t,n),l=rT(o,i,c);return aT(s,l)}function cT(s,t){const n=i=>oT({...s,hash:i});return{...n(t),create:n}}const tp={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},uT={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},nb=BigInt(2);function lT(s){const t=tp.p,n=BigInt(3),i=BigInt(6),c=BigInt(11),o=BigInt(22),l=BigInt(23),d=BigInt(44),g=BigInt(88),w=s*s*s%t,E=w*w*s%t,I=cn(E,n,t)*E%t,k=cn(I,n,t)*E%t,R=cn(k,nb,t)*w%t,M=cn(R,c,t)*R%t,U=cn(M,o,t)*M%t,z=cn(U,d,t)*U%t,j=cn(z,g,t)*z%t,F=cn(j,d,t)*U%t,V=cn(F,n,t)*E%t,$=cn(V,l,t)*M%t,re=cn($,i,t)*w%t,oe=cn(re,nb,t);if(!_0.eql(_0.sqr(oe),s))throw new Error("Cannot find square root");return oe}const _0=na(tp.p,{sqrt:lT}),np=cT({...tp,Fp:_0,lowS:!0,endo:uT},Aw),fT=yo.utils.randomPrivateKey,rb=()=>{const s=yo.utils.randomPrivateKey(),t=Dl(s),n=new Uint8Array(64);return n.set(s),n.set(t,32),{publicKey:t,secretKey:n}},Dl=yo.getPublicKey;function ib(s){try{return yo.ExtendedPoint.fromHex(s),!0}catch{return!1}}const rp=(s,t)=>yo.sign(s,t.slice(0,32)),dT=yo.verify,rt=s=>Ce.Buffer.isBuffer(s)?s:s instanceof Uint8Array?Ce.Buffer.from(s.buffer,s.byteOffset,s.byteLength):Ce.Buffer.from(s);let ip=class{constructor(t){Object.assign(this,t)}encode(){return Ce.Buffer.from(Lh.serialize(vc,this))}static decode(t){return Lh.deserialize(vc,this,t)}static decodeUnchecked(t){return Lh.deserializeUnchecked(vc,this,t)}};class hT extends ip{constructor(t){if(super(t),this.enum="",Object.keys(t).length!==1)throw new Error("Enum can only take single value");Object.keys(t).map(n=>{this.enum=n})}}const vc=new Map;var d_;const h_=32,Yr=32;function pT(s){return s._bn!==void 0}let sb=1;class ve extends ip{constructor(t){if(super({}),this._bn=void 0,pT(t))this._bn=t._bn;else{if(typeof t=="string"){const n=kn.decode(t);if(n.length!=Yr)throw new Error("Invalid public key input");this._bn=new Nn(n)}else this._bn=new Nn(t);if(this._bn.byteLength()>Yr)throw new Error("Invalid public key input")}}static unique(){const t=new ve(sb);return sb+=1,new ve(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return kn.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(Ce.Buffer);if(t.length===Yr)return t;const n=Ce.Buffer.alloc(32);return t.copy(n,32-t.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,n,i){const c=Ce.Buffer.concat([t.toBuffer(),Ce.Buffer.from(n),i.toBuffer()]),o=kl(c);return new ve(o)}static createProgramAddressSync(t,n){let i=Ce.Buffer.alloc(0);t.forEach(function(o){if(o.length>h_)throw new TypeError("Max seed length exceeded");i=Ce.Buffer.concat([i,rt(o)])}),i=Ce.Buffer.concat([i,n.toBuffer(),Ce.Buffer.from("ProgramDerivedAddress")]);const c=kl(i);if(ib(c))throw new Error("Invalid seeds, address must fall off the curve");return new ve(c)}static async createProgramAddress(t,n){return this.createProgramAddressSync(t,n)}static findProgramAddressSync(t,n){let i=255,c;for(;i!=0;){try{const o=t.concat(Ce.Buffer.from([i]));c=this.createProgramAddressSync(o,n)}catch(o){if(o instanceof TypeError)throw o;i--;continue}return[c,i]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,n){return this.findProgramAddressSync(t,n)}static isOnCurve(t){const n=new ve(t);return ib(n.toBytes())}}d_=ve;ve.default=new d_("11111111111111111111111111111111");vc.set(ve,{kind:"struct",fields:[["_bn","u256"]]});class mT{constructor(t){if(this._publicKey=void 0,this._secretKey=void 0,t){const n=rt(t);if(t.length!==64)throw new Error("bad secret key size");this._publicKey=n.slice(32,64),this._secretKey=n.slice(0,32)}else this._secretKey=rt(fT()),this._publicKey=rt(Dl(this._secretKey))}get publicKey(){return new ve(this._publicKey)}get secretKey(){return Ce.Buffer.concat([this._secretKey,this._publicKey],64)}}const yT=new ve("BPFLoader1111111111111111111111111111111111"),ps=1232,Wl=127,Tc=64;class sp extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}}Object.defineProperty(sp.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class ap extends Error{constructor(t,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}}Object.defineProperty(ap.prototype,"name",{value:"TransactionExpiredTimeoutError"});class eo extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}}Object.defineProperty(eo.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class Oc{constructor(t,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=n}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const n of this.keySegments()){if(t<n.length)return n[t];t-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const i=new Map;this.keySegments().flat().forEach((o,l)=>{i.set(o.toBase58(),l)});const c=o=>{const l=i.get(o.toBase58());if(l===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return l};return t.map(o=>({programIdIndex:c(o.programId),accountKeyIndexes:o.keys.map(l=>c(l.pubkey)),data:o.data}))}}const ot=(s="publicKey")=>Q.blob(32,s),gT=(s="signature")=>Q.blob(64,s),Zs=(s="string")=>{const t=Q.struct([Q.u32("length"),Q.u32("lengthPadding"),Q.blob(Q.offset(Q.u32(),-8),"chars")],s),n=t.decode.bind(t),i=t.encode.bind(t),c=t;return c.decode=(o,l)=>n(o,l).chars.toString(),c.encode=(o,l,d)=>{const g={chars:Ce.Buffer.from(o,"utf8")};return i(g,l,d)},c.alloc=o=>Q.u32().span+Q.u32().span+Ce.Buffer.from(o,"utf8").length,c},bT=(s="authorized")=>Q.struct([ot("staker"),ot("withdrawer")],s),wT=(s="lockup")=>Q.struct([Q.ns64("unixTimestamp"),Q.ns64("epoch"),ot("custodian")],s),_T=(s="voteInit")=>Q.struct([ot("nodePubkey"),ot("authorizedVoter"),ot("authorizedWithdrawer"),Q.u8("commission")],s),vT=(s="voteAuthorizeWithSeedArgs")=>Q.struct([Q.u32("voteAuthorizationType"),ot("currentAuthorityDerivedKeyOwnerPubkey"),Zs("currentAuthorityDerivedKeySeed"),ot("newAuthorized")],s);function p_(s,t){const n=c=>{if(c.span>=0)return c.span;if(typeof c.alloc=="function")return c.alloc(t[c.property]);if("count"in c&&"elementLayout"in c){const o=t[c.property];if(Array.isArray(o))return o.length*n(c.elementLayout)}else if("fields"in c)return p_({layout:c},t[c.property]);return 0};let i=0;return s.layout.fields.forEach(c=>{i+=n(c)}),i}function Yn(s){let t=0,n=0;for(;;){let i=s.shift();if(t|=(i&127)<<n*7,n+=1,(i&128)===0)break}return t}function ar(s,t){let n=t;for(;;){let i=n&127;if(n>>=7,n==0){s.push(i);break}else i|=128,s.push(i)}}function gt(s,t){if(!s)throw new Error(t||"Assertion failed")}class $l{constructor(t,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=n}static compile(t,n){const i=new Map,c=l=>{const d=l.toBase58();let g=i.get(d);return g===void 0&&(g={isSigner:!1,isWritable:!1,isInvoked:!1},i.set(d,g)),g},o=c(n);o.isSigner=!0,o.isWritable=!0;for(const l of t){c(l.programId).isInvoked=!0;for(const d of l.keys){const g=c(d.pubkey);g.isSigner||=d.isSigner,g.isWritable||=d.isWritable}}return new $l(n,i)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];gt(t.length<=256,"Max static account keys length exceeded");const n=t.filter(([,g])=>g.isSigner&&g.isWritable),i=t.filter(([,g])=>g.isSigner&&!g.isWritable),c=t.filter(([,g])=>!g.isSigner&&g.isWritable),o=t.filter(([,g])=>!g.isSigner&&!g.isWritable),l={numRequiredSignatures:n.length+i.length,numReadonlySignedAccounts:i.length,numReadonlyUnsignedAccounts:o.length};{gt(n.length>0,"Expected at least one writable signer key");const[g]=n[0];gt(g===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const d=[...n.map(([g])=>new ve(g)),...i.map(([g])=>new ve(g)),...c.map(([g])=>new ve(g)),...o.map(([g])=>new ve(g))];return[l,d]}extractTableLookup(t){const[n,i]=this.drainKeysFoundInLookupTable(t.state.addresses,l=>!l.isSigner&&!l.isInvoked&&l.isWritable),[c,o]=this.drainKeysFoundInLookupTable(t.state.addresses,l=>!l.isSigner&&!l.isInvoked&&!l.isWritable);if(!(n.length===0&&c.length===0))return[{accountKey:t.key,writableIndexes:n,readonlyIndexes:c},{writable:i,readonly:o}]}drainKeysFoundInLookupTable(t,n){const i=new Array,c=new Array;for(const[o,l]of this.keyMetaMap.entries())if(n(l)){const d=new ve(o),g=t.findIndex(w=>w.equals(d));g>=0&&(gt(g<256,"Max lookup table index exceeded"),i.push(g),c.push(d),this.keyMetaMap.delete(o))}return[i,c]}}const m_="Reached end of buffer unexpectedly";function Kr(s){if(s.length===0)throw new Error(m_);return s.shift()}function Zn(s,...t){const[n]=t;if(t.length===2?n+(t[1]??0)>s.length:n>=s.length)throw new Error(m_);return s.splice(...t)}class Nr{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(n=>new ve(n)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:kn.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Oc(this.staticAccountKeys)}static compile(t){const n=$l.compile(t.instructions,t.payerKey),[i,c]=n.getMessageComponents(),l=new Oc(c).compileInstructions(t.instructions).map(d=>({programIdIndex:d.programIdIndex,accounts:d.accountKeyIndexes,data:kn.encode(d.data)}));return new Nr({header:i,accountKeys:c,recentBlockhash:t.recentBlockhash,instructions:l})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const n=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){const i=t-n,o=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=n-this.header.numReadonlySignedAccounts;return t<i}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,n)=>!this.isProgramId(n))}serialize(){const t=this.accountKeys.length;let n=[];ar(n,t);const i=this.instructions.map(I=>{const{accounts:k,programIdIndex:R}=I,M=Array.from(kn.decode(I.data));let U=[];ar(U,k.length);let z=[];return ar(z,M.length),{programIdIndex:R,keyIndicesCount:Ce.Buffer.from(U),keyIndices:k,dataLength:Ce.Buffer.from(z),data:M}});let c=[];ar(c,i.length);let o=Ce.Buffer.alloc(ps);Ce.Buffer.from(c).copy(o);let l=c.length;i.forEach(I=>{const R=Q.struct([Q.u8("programIdIndex"),Q.blob(I.keyIndicesCount.length,"keyIndicesCount"),Q.seq(Q.u8("keyIndex"),I.keyIndices.length,"keyIndices"),Q.blob(I.dataLength.length,"dataLength"),Q.seq(Q.u8("userdatum"),I.data.length,"data")]).encode(I,o,l);l+=R}),o=o.slice(0,l);const d=Q.struct([Q.blob(1,"numRequiredSignatures"),Q.blob(1,"numReadonlySignedAccounts"),Q.blob(1,"numReadonlyUnsignedAccounts"),Q.blob(n.length,"keyCount"),Q.seq(ot("key"),t,"keys"),ot("recentBlockhash")]),g={numRequiredSignatures:Ce.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Ce.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Ce.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Ce.Buffer.from(n),keys:this.accountKeys.map(I=>rt(I.toBytes())),recentBlockhash:kn.decode(this.recentBlockhash)};let w=Ce.Buffer.alloc(2048);const E=d.encode(g,w);return o.copy(w,E),w.slice(0,E+o.length)}static from(t){let n=[...t];const i=Kr(n);if(i!==(i&Wl))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const c=Kr(n),o=Kr(n),l=Yn(n);let d=[];for(let k=0;k<l;k++){const R=Zn(n,0,Yr);d.push(new ve(Ce.Buffer.from(R)))}const g=Zn(n,0,Yr),w=Yn(n);let E=[];for(let k=0;k<w;k++){const R=Kr(n),M=Yn(n),U=Zn(n,0,M),z=Yn(n),j=Zn(n,0,z),F=kn.encode(Ce.Buffer.from(j));E.push({programIdIndex:R,accounts:U,data:F})}const I={header:{numRequiredSignatures:i,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:o},recentBlockhash:kn.encode(Ce.Buffer.from(g)),accountKeys:d,instructions:E};return new Nr(I)}}class Js{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const n of this.addressTableLookups)t+=n.readonlyIndexes.length+n.writableIndexes.length;return t}getAccountKeys(t){let n;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)n=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Oc(this.staticAccountKeys,n)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const n=this.header.numRequiredSignatures,i=this.staticAccountKeys.length;if(t>=i){const c=t-i,o=this.addressTableLookups.reduce((l,d)=>l+d.writableIndexes.length,0);return c<o}else if(t>=this.header.numRequiredSignatures){const c=t-n,l=i-n-this.header.numReadonlyUnsignedAccounts;return c<l}else{const c=n-this.header.numReadonlySignedAccounts;return t<c}}resolveAddressTableLookups(t){const n={writable:[],readonly:[]};for(const i of this.addressTableLookups){const c=t.find(o=>o.key.equals(i.accountKey));if(!c)throw new Error(`Failed to find address lookup table account for table key ${i.accountKey.toBase58()}`);for(const o of i.writableIndexes)if(o<c.state.addresses.length)n.writable.push(c.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${i.accountKey.toBase58()}`);for(const o of i.readonlyIndexes)if(o<c.state.addresses.length)n.readonly.push(c.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${i.accountKey.toBase58()}`)}return n}static compile(t){const n=$l.compile(t.instructions,t.payerKey),i=new Array,c={writable:new Array,readonly:new Array},o=t.addressLookupTableAccounts||[];for(const E of o){const I=n.extractTableLookup(E);if(I!==void 0){const[k,{writable:R,readonly:M}]=I;i.push(k),c.writable.push(...R),c.readonly.push(...M)}}const[l,d]=n.getMessageComponents(),w=new Oc(d,c).compileInstructions(t.instructions);return new Js({header:l,staticAccountKeys:d,recentBlockhash:t.recentBlockhash,compiledInstructions:w,addressTableLookups:i})}serialize(){const t=Array();ar(t,this.staticAccountKeys.length);const n=this.serializeInstructions(),i=Array();ar(i,this.compiledInstructions.length);const c=this.serializeAddressTableLookups(),o=Array();ar(o,this.addressTableLookups.length);const l=Q.struct([Q.u8("prefix"),Q.struct([Q.u8("numRequiredSignatures"),Q.u8("numReadonlySignedAccounts"),Q.u8("numReadonlyUnsignedAccounts")],"header"),Q.blob(t.length,"staticAccountKeysLength"),Q.seq(ot(),this.staticAccountKeys.length,"staticAccountKeys"),ot("recentBlockhash"),Q.blob(i.length,"instructionsLength"),Q.blob(n.length,"serializedInstructions"),Q.blob(o.length,"addressTableLookupsLength"),Q.blob(c.length,"serializedAddressTableLookups")]),d=new Uint8Array(ps),w=l.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(E=>E.toBytes()),recentBlockhash:kn.decode(this.recentBlockhash),instructionsLength:new Uint8Array(i),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:c},d);return d.slice(0,w)}serializeInstructions(){let t=0;const n=new Uint8Array(ps);for(const i of this.compiledInstructions){const c=Array();ar(c,i.accountKeyIndexes.length);const o=Array();ar(o,i.data.length);const l=Q.struct([Q.u8("programIdIndex"),Q.blob(c.length,"encodedAccountKeyIndexesLength"),Q.seq(Q.u8(),i.accountKeyIndexes.length,"accountKeyIndexes"),Q.blob(o.length,"encodedDataLength"),Q.blob(i.data.length,"data")]);t+=l.encode({programIdIndex:i.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(c),accountKeyIndexes:i.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:i.data},n,t)}return n.slice(0,t)}serializeAddressTableLookups(){let t=0;const n=new Uint8Array(ps);for(const i of this.addressTableLookups){const c=Array();ar(c,i.writableIndexes.length);const o=Array();ar(o,i.readonlyIndexes.length);const l=Q.struct([ot("accountKey"),Q.blob(c.length,"encodedWritableIndexesLength"),Q.seq(Q.u8(),i.writableIndexes.length,"writableIndexes"),Q.blob(o.length,"encodedReadonlyIndexesLength"),Q.seq(Q.u8(),i.readonlyIndexes.length,"readonlyIndexes")]);t+=l.encode({accountKey:i.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(c),writableIndexes:i.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:i.readonlyIndexes},n,t)}return n.slice(0,t)}static deserialize(t){let n=[...t];const i=Kr(n),c=i&Wl;gt(i!==c,"Expected versioned message but received legacy message");const o=c;gt(o===0,`Expected versioned message with version 0 but found version ${o}`);const l={numRequiredSignatures:Kr(n),numReadonlySignedAccounts:Kr(n),numReadonlyUnsignedAccounts:Kr(n)},d=[],g=Yn(n);for(let M=0;M<g;M++)d.push(new ve(Zn(n,0,Yr)));const w=kn.encode(Zn(n,0,Yr)),E=Yn(n),I=[];for(let M=0;M<E;M++){const U=Kr(n),z=Yn(n),j=Zn(n,0,z),F=Yn(n),V=new Uint8Array(Zn(n,0,F));I.push({programIdIndex:U,accountKeyIndexes:j,data:V})}const k=Yn(n),R=[];for(let M=0;M<k;M++){const U=new ve(Zn(n,0,Yr)),z=Yn(n),j=Zn(n,0,z),F=Yn(n),V=Zn(n,0,F);R.push({accountKey:U,writableIndexes:j,readonlyIndexes:V})}return new Js({header:l,staticAccountKeys:d,recentBlockhash:w,compiledInstructions:I,addressTableLookups:R})}}const op={deserializeMessageVersion(s){const t=s[0],n=t&Wl;return n===t?"legacy":n},deserialize:s=>{const t=op.deserializeMessageVersion(s);if(t==="legacy")return Nr.from(s);if(t===0)return Js.deserialize(s);throw new Error(`Transaction message version ${t} deserialization is not supported`)}};let _i=(function(s){return s[s.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",s[s.PROCESSED=1]="PROCESSED",s[s.TIMED_OUT=2]="TIMED_OUT",s[s.NONCE_INVALID=3]="NONCE_INVALID",s})({});const ET=Ce.Buffer.alloc(Tc).fill(0);class Rt{constructor(t){this.keys=void 0,this.programId=void 0,this.data=Ce.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:n,isWritable:i})=>({pubkey:t.toJSON(),isSigner:n,isWritable:i})),programId:this.programId.toJSON(),data:[...this.data]}}}class pt{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:n,nonceInfo:i}=t;this.minNonceContextSlot=n,this.nonceInfo=i}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:i}=t;this.recentBlockhash=n,this.lastValidBlockHeight=i}else{const{recentBlockhash:n,nonceInfo:i}=t;i&&(this.nonceInfo=i),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new Rt(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,n;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(t=this.recentBlockhash,n=this.instructions),!t)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let i;if(this.feePayer)i=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)i=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let U=0;U<n.length;U++)if(n[U].programId===void 0)throw new Error(`Transaction instruction index ${U} has undefined program id`);const c=[],o=[];n.forEach(U=>{U.keys.forEach(j=>{o.push({...j})});const z=U.programId.toString();c.includes(z)||c.push(z)}),c.forEach(U=>{o.push({pubkey:new ve(U),isSigner:!1,isWritable:!1})});const l=[];o.forEach(U=>{const z=U.pubkey.toString(),j=l.findIndex(F=>F.pubkey.toString()===z);j>-1?(l[j].isWritable=l[j].isWritable||U.isWritable,l[j].isSigner=l[j].isSigner||U.isSigner):l.push(U)}),l.sort(function(U,z){if(U.isSigner!==z.isSigner)return U.isSigner?-1:1;if(U.isWritable!==z.isWritable)return U.isWritable?-1:1;const j={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return U.pubkey.toBase58().localeCompare(z.pubkey.toBase58(),"en",j)});const d=l.findIndex(U=>U.pubkey.equals(i));if(d>-1){const[U]=l.splice(d,1);U.isSigner=!0,U.isWritable=!0,l.unshift(U)}else l.unshift({pubkey:i,isSigner:!0,isWritable:!0});for(const U of this.signatures){const z=l.findIndex(j=>j.pubkey.equals(U.publicKey));if(z>-1)l[z].isSigner||(l[z].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${U.publicKey.toString()}`)}let g=0,w=0,E=0;const I=[],k=[];l.forEach(({pubkey:U,isSigner:z,isWritable:j})=>{z?(I.push(U.toString()),g+=1,j||(w+=1)):(k.push(U.toString()),j||(E+=1))});const R=I.concat(k),M=n.map(U=>{const{data:z,programId:j}=U;return{programIdIndex:R.indexOf(j.toString()),accounts:U.keys.map(F=>R.indexOf(F.pubkey.toString())),data:kn.encode(z)}});return M.forEach(U=>{gt(U.programIdIndex>=0),U.accounts.forEach(z=>gt(z>=0))}),new Nr({header:{numRequiredSignatures:g,numReadonlySignedAccounts:w,numReadonlyUnsignedAccounts:E},accountKeys:R,recentBlockhash:t,instructions:M})}_compile(){const t=this.compileMessage(),n=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((c,o)=>n[o].equals(c.publicKey))||(this.signatures=n.map(i=>({signature:null,publicKey:i}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error("No signers");const n=new Set;this.signatures=t.filter(i=>{const c=i.toString();return n.has(c)?!1:(n.add(c),!0)}).map(i=>({signature:null,publicKey:i}))}sign(...t){if(t.length===0)throw new Error("No signers");const n=new Set,i=[];for(const o of t){const l=o.publicKey.toString();n.has(l)||(n.add(l),i.push(o))}this.signatures=i.map(o=>({signature:null,publicKey:o.publicKey}));const c=this._compile();this._partialSign(c,...i)}partialSign(...t){if(t.length===0)throw new Error("No signers");const n=new Set,i=[];for(const o of t){const l=o.publicKey.toString();n.has(l)||(n.add(l),i.push(o))}const c=this._compile();this._partialSign(c,...i)}_partialSign(t,...n){const i=t.serialize();n.forEach(c=>{const o=rp(i,c.secretKey);this._addSignature(c.publicKey,rt(o))})}addSignature(t,n){this._compile(),this._addSignature(t,n)}_addSignature(t,n){gt(n.length===64);const i=this.signatures.findIndex(c=>t.equals(c.publicKey));if(i<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[i].signature=Ce.Buffer.from(n)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,n){const i={};for(const{signature:c,publicKey:o}of this.signatures)c===null?n&&(i.missing||=[]).push(o):dT(c,t,o.toBytes())||(i.invalid||=[]).push(o);return i.invalid||i.missing?i:void 0}serialize(t){const{requireAllSignatures:n,verifySignatures:i}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),c=this.serializeMessage();if(i){const o=this._getMessageSignednessErrors(c,n);if(o){let l="Signature verification failed.";throw o.invalid&&(l+=`
Invalid signature for public key${o.invalid.length===1?"":"(s)"} [\`${o.invalid.map(d=>d.toBase58()).join("`, `")}\`].`),o.missing&&(l+=`
Missing signature for public key${o.missing.length===1?"":"(s)"} [\`${o.missing.map(d=>d.toBase58()).join("`, `")}\`].`),new Error(l)}}return this._serialize(c)}_serialize(t){const{signatures:n}=this,i=[];ar(i,n.length);const c=i.length+n.length*64+t.length,o=Ce.Buffer.alloc(c);return gt(n.length<256),Ce.Buffer.from(i).copy(o,0),n.forEach(({signature:l},d)=>{l!==null&&(gt(l.length===64,"signature has invalid length"),Ce.Buffer.from(l).copy(o,i.length+d*64))}),t.copy(o,i.length+n.length*64),gt(o.length<=ps,`Transaction too large: ${o.length} > ${ps}`),o}get keys(){return gt(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return gt(this.instructions.length===1),this.instructions[0].programId}get data(){return gt(this.instructions.length===1),this.instructions[0].data}static from(t){let n=[...t];const i=Yn(n);let c=[];for(let o=0;o<i;o++){const l=Zn(n,0,Tc);c.push(kn.encode(Ce.Buffer.from(l)))}return pt.populate(Nr.from(n),c)}static populate(t,n=[]){const i=new pt;return i.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(i.feePayer=t.accountKeys[0]),n.forEach((c,o)=>{const l={signature:c==kn.encode(ET)?null:kn.decode(c),publicKey:t.accountKeys[o]};i.signatures.push(l)}),t.instructions.forEach(c=>{const o=c.accounts.map(l=>{const d=t.accountKeys[l];return{pubkey:d,isSigner:i.signatures.some(g=>g.publicKey.toString()===d.toString())||t.isAccountSigner(l),isWritable:t.isAccountWritable(l)}});i.instructions.push(new Rt({keys:o,programId:t.accountKeys[c.programIdIndex],data:kn.decode(c.data)}))}),i._message=t,i._json=i.toJSON(),i}}class cp{constructor(t){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=t.payerKey,this.instructions=t.instructions,this.recentBlockhash=t.recentBlockhash}static decompile(t,n){const{header:i,compiledInstructions:c,recentBlockhash:o}=t,{numRequiredSignatures:l,numReadonlySignedAccounts:d,numReadonlyUnsignedAccounts:g}=i,w=l-d;gt(w>0,"Message header is invalid");const E=t.staticAccountKeys.length-l-g;gt(E>=0,"Message header is invalid");const I=t.getAccountKeys(n),k=I.get(0);if(k===void 0)throw new Error("Failed to decompile message because no account keys were found");const R=[];for(const M of c){const U=[];for(const j of M.accountKeyIndexes){const F=I.get(j);if(F===void 0)throw new Error(`Failed to find key for account key index ${j}`);const V=j<l;let $;V?$=j<w:j<I.staticAccountKeys.length?$=j-l<E:$=j-I.staticAccountKeys.length<I.accountKeysFromLookups.writable.length,U.push({pubkey:F,isSigner:j<i.numRequiredSignatures,isWritable:$})}const z=I.get(M.programIdIndex);if(z===void 0)throw new Error(`Failed to find program id for program id index ${M.programIdIndex}`);R.push(new Rt({programId:z,data:rt(M.data),keys:U}))}return new cp({payerKey:k,instructions:R,recentBlockhash:o})}compileToLegacyMessage(){return Nr.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(t){return Js.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:t})}}class up{get version(){return this.message.version}constructor(t,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)gt(n.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const i=[];for(let c=0;c<t.header.numRequiredSignatures;c++)i.push(new Uint8Array(Tc));this.signatures=i}this.message=t}serialize(){const t=this.message.serialize(),n=Array();ar(n,this.signatures.length);const i=Q.struct([Q.blob(n.length,"encodedSignaturesLength"),Q.seq(gT(),this.signatures.length,"signatures"),Q.blob(t.length,"serializedMessage")]),c=new Uint8Array(2048),o=i.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:t},c);return c.slice(0,o)}static deserialize(t){let n=[...t];const i=[],c=Yn(n);for(let l=0;l<c;l++)i.push(new Uint8Array(Zn(n,0,Tc)));const o=op.deserialize(new Uint8Array(n));return new up(o,i)}sign(t){const n=this.message.serialize(),i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const c of t){const o=i.findIndex(l=>l.equals(c.publicKey));gt(o>=0,`Cannot sign with non signer key ${c.publicKey.toBase58()}`),this.signatures[o]=rp(n,c.secretKey)}}addSignature(t,n){gt(n.byteLength===64,"Signature must be 64 bytes long");const c=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(o=>o.equals(t));gt(c>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[c]=n}}const ST=160,AT=64,RT=ST/AT,y_=1e3/RT,qr=new ve("SysvarC1ock11111111111111111111111111111111"),xT=new ve("SysvarEpochSchedu1e111111111111111111111111"),TT=new ve("Sysvar1nstructions1111111111111111111111111"),El=new ve("SysvarRecentB1ockHashes11111111111111111111"),fo=new ve("SysvarRent111111111111111111111111111111111"),OT=new ve("SysvarRewards111111111111111111111111111111"),NT=new ve("SysvarS1otHashes111111111111111111111111111"),kT=new ve("SysvarS1otHistory11111111111111111111111111"),Sl=new ve("SysvarStakeHistory1111111111111111111111111");class bs extends Error{constructor({action:t,signature:n,transactionMessage:i,logs:c}){const o=c?`Logs: 
${JSON.stringify(c.slice(-10),null,2)}. `:"",l="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let d;switch(t){case"send":d=`Transaction ${n} resulted in an error. 
${i}. `+o+l;break;case"simulate":d=`Simulation failed. 
Message: ${i}. 
`+o+l;break;default:d=`Unknown action '${(g=>g)(t)}'`}super(d),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=n,this.transactionMessage=i,this.transactionLogs=c||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const t=this.transactionLogs;if(!(t!=null&&typeof t=="object"&&"then"in t))return t}async getLogs(t){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((n,i)=>{t.getTransaction(this.signature).then(c=>{if(c&&c.meta&&c.meta.logMessages){const o=c.meta.logMessages;this.transactionLogs=o,n(o)}else i(new Error("Log messages not found"))}).catch(i)})),await this.transactionLogs}}const IT={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class Le extends Error{constructor({code:t,message:n,data:i},c){super(c!=null?`${c}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=t,this.data=i,this.name="SolanaJSONRPCError"}}async function v0(s,t,n,i){const c=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,maxRetries:i.maxRetries,minContextSlot:i.minContextSlot},o=await s.sendTransaction(t,n,c);let l;if(t.recentBlockhash!=null&&t.lastValidBlockHeight!=null)l=(await s.confirmTransaction({abortSignal:i?.abortSignal,signature:o,blockhash:t.recentBlockhash,lastValidBlockHeight:t.lastValidBlockHeight},i&&i.commitment)).value;else if(t.minNonceContextSlot!=null&&t.nonceInfo!=null){const{nonceInstruction:d}=t.nonceInfo,g=d.keys[0].pubkey;l=(await s.confirmTransaction({abortSignal:i?.abortSignal,minContextSlot:t.minNonceContextSlot,nonceAccountPubkey:g,nonceValue:t.nonceInfo.nonce,signature:o},i&&i.commitment)).value}else i?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),l=(await s.confirmTransaction(o,i&&i.commitment)).value;if(l.err)throw o!=null?new bs({action:"send",signature:o,transactionMessage:`Status: (${JSON.stringify(l)})`}):new Error(`Transaction ${o} failed (${JSON.stringify(l)})`);return o}function Vs(s){return new Promise(t=>setTimeout(t,s))}function ht(s,t){const n=s.layout.span>=0?s.layout.span:p_(s,t),i=Ce.Buffer.alloc(n),c=Object.assign({instruction:s.index},t);return s.layout.encode(c,i),i}function vt(s,t){let n;try{n=s.layout.decode(t)}catch(i){throw new Error("invalid instruction; "+i)}if(n.instruction!==s.index)throw new Error(`invalid instruction; instruction index mismatch ${n.instruction} != ${s.index}`);return n}const g_=Q.nu64("lamportsPerSignature"),b_=Q.struct([Q.u32("version"),Q.u32("state"),ot("authorizedPubkey"),ot("nonce"),Q.struct([g_],"feeCalculator")]),E0=b_.span;class Ql{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){const n=b_.decode(rt(t),0);return new Ql({authorizedPubkey:new ve(n.authorizedPubkey),nonce:new ve(n.nonce).toString(),feeCalculator:n.feeCalculator})}}function ho(s){const t=Q.blob(8,s),n=t.decode.bind(t),i=t.encode.bind(t),c=t,o=ax();return c.decode=(l,d)=>{const g=n(l,d);return o.decode(g)},c.encode=(l,d,g)=>{const w=o.encode(l);return i(w,d,g)},c}class CT{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const i=Q.u32("instruction").decode(t.data);let c;for(const[o,l]of Object.entries(Mt))if(l.index==i){c=o;break}if(!c)throw new Error("Instruction type incorrect; not a SystemInstruction");return c}static decodeCreateAccount(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{lamports:n,space:i,programId:c}=vt(Mt.Create,t.data);return{fromPubkey:t.keys[0].pubkey,newAccountPubkey:t.keys[1].pubkey,lamports:n,space:i,programId:new ve(c)}}static decodeTransfer(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{lamports:n}=vt(Mt.Transfer,t.data);return{fromPubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,lamports:n}}static decodeTransferWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{lamports:n,seed:i,programId:c}=vt(Mt.TransferWithSeed,t.data);return{fromPubkey:t.keys[0].pubkey,basePubkey:t.keys[1].pubkey,toPubkey:t.keys[2].pubkey,lamports:n,seed:i,programId:new ve(c)}}static decodeAllocate(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{space:n}=vt(Mt.Allocate,t.data);return{accountPubkey:t.keys[0].pubkey,space:n}}static decodeAllocateWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{base:n,seed:i,space:c,programId:o}=vt(Mt.AllocateWithSeed,t.data);return{accountPubkey:t.keys[0].pubkey,basePubkey:new ve(n),seed:i,space:c,programId:new ve(o)}}static decodeAssign(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{programId:n}=vt(Mt.Assign,t.data);return{accountPubkey:t.keys[0].pubkey,programId:new ve(n)}}static decodeAssignWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{base:n,seed:i,programId:c}=vt(Mt.AssignWithSeed,t.data);return{accountPubkey:t.keys[0].pubkey,basePubkey:new ve(n),seed:i,programId:new ve(c)}}static decodeCreateWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{base:n,seed:i,lamports:c,space:o,programId:l}=vt(Mt.CreateWithSeed,t.data);return{fromPubkey:t.keys[0].pubkey,newAccountPubkey:t.keys[1].pubkey,basePubkey:new ve(n),seed:i,lamports:c,space:o,programId:new ve(l)}}static decodeNonceInitialize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{authorized:n}=vt(Mt.InitializeNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,authorizedPubkey:new ve(n)}}static decodeNonceAdvance(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),vt(Mt.AdvanceNonceAccount,t.data),{noncePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey}}static decodeNonceWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,5);const{lamports:n}=vt(Mt.WithdrawNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey,lamports:n}}static decodeNonceAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{authorized:n}=vt(Mt.AuthorizeNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[1].pubkey,newAuthorizedPubkey:new ve(n)}}static checkProgramId(t){if(!t.equals(hn.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(t,n){if(t.length<n)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${n}`)}}const Mt=Object.freeze({Create:{index:0,layout:Q.struct([Q.u32("instruction"),Q.ns64("lamports"),Q.ns64("space"),ot("programId")])},Assign:{index:1,layout:Q.struct([Q.u32("instruction"),ot("programId")])},Transfer:{index:2,layout:Q.struct([Q.u32("instruction"),ho("lamports")])},CreateWithSeed:{index:3,layout:Q.struct([Q.u32("instruction"),ot("base"),Zs("seed"),Q.ns64("lamports"),Q.ns64("space"),ot("programId")])},AdvanceNonceAccount:{index:4,layout:Q.struct([Q.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:Q.struct([Q.u32("instruction"),Q.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:Q.struct([Q.u32("instruction"),ot("authorized")])},AuthorizeNonceAccount:{index:7,layout:Q.struct([Q.u32("instruction"),ot("authorized")])},Allocate:{index:8,layout:Q.struct([Q.u32("instruction"),Q.ns64("space")])},AllocateWithSeed:{index:9,layout:Q.struct([Q.u32("instruction"),ot("base"),Zs("seed"),Q.ns64("space"),ot("programId")])},AssignWithSeed:{index:10,layout:Q.struct([Q.u32("instruction"),ot("base"),Zs("seed"),ot("programId")])},TransferWithSeed:{index:11,layout:Q.struct([Q.u32("instruction"),ho("lamports"),Zs("seed"),ot("programId")])},UpgradeNonceAccount:{index:12,layout:Q.struct([Q.u32("instruction")])}});class hn{constructor(){}static createAccount(t){const n=Mt.Create,i=ht(n,{lamports:t.lamports,space:t.space,programId:rt(t.programId.toBuffer())});return new Rt({keys:[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:i})}static transfer(t){let n,i;if("basePubkey"in t){const c=Mt.TransferWithSeed;n=ht(c,{lamports:BigInt(t.lamports),seed:t.seed,programId:rt(t.programId.toBuffer())}),i=[{pubkey:t.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}else{const c=Mt.Transfer;n=ht(c,{lamports:BigInt(t.lamports)}),i=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}return new Rt({keys:i,programId:this.programId,data:n})}static assign(t){let n,i;if("basePubkey"in t){const c=Mt.AssignWithSeed;n=ht(c,{base:rt(t.basePubkey.toBuffer()),seed:t.seed,programId:rt(t.programId.toBuffer())}),i=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{const c=Mt.Assign;n=ht(c,{programId:rt(t.programId.toBuffer())}),i=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new Rt({keys:i,programId:this.programId,data:n})}static createAccountWithSeed(t){const n=Mt.CreateWithSeed,i=ht(n,{base:rt(t.basePubkey.toBuffer()),seed:t.seed,lamports:t.lamports,space:t.space,programId:rt(t.programId.toBuffer())});let c=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!1,isWritable:!0}];return t.basePubkey.equals(t.fromPubkey)||c.push({pubkey:t.basePubkey,isSigner:!0,isWritable:!1}),new Rt({keys:c,programId:this.programId,data:i})}static createNonceAccount(t){const n=new pt;"basePubkey"in t&&"seed"in t?n.add(hn.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:E0,programId:this.programId})):n.add(hn.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:E0,programId:this.programId}));const i={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return n.add(this.nonceInitialize(i)),n}static nonceInitialize(t){const n=Mt.InitializeNonceAccount,i=ht(n,{authorized:rt(t.authorizedPubkey.toBuffer())}),c={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:El,isSigner:!1,isWritable:!1},{pubkey:fo,isSigner:!1,isWritable:!1}],programId:this.programId,data:i};return new Rt(c)}static nonceAdvance(t){const n=Mt.AdvanceNonceAccount,i=ht(n),c={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:El,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new Rt(c)}static nonceWithdraw(t){const n=Mt.WithdrawNonceAccount,i=ht(n,{lamports:t.lamports});return new Rt({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0},{pubkey:El,isSigner:!1,isWritable:!1},{pubkey:fo,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static nonceAuthorize(t){const n=Mt.AuthorizeNonceAccount,i=ht(n,{authorized:rt(t.newAuthorizedPubkey.toBuffer())});return new Rt({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static allocate(t){let n,i;if("basePubkey"in t){const c=Mt.AllocateWithSeed;n=ht(c,{base:rt(t.basePubkey.toBuffer()),seed:t.seed,space:t.space,programId:rt(t.programId.toBuffer())}),i=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{const c=Mt.Allocate;n=ht(c,{space:t.space}),i=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new Rt({keys:i,programId:this.programId,data:n})}}hn.programId=new ve("11111111111111111111111111111111");const BT=ps-300;class ea{constructor(){}static getMinNumSignatures(t){return 2*(Math.ceil(t/ea.chunkSize)+1+1)}static async load(t,n,i,c,o){{const I=await t.getMinimumBalanceForRentExemption(o.length),k=await t.getAccountInfo(i.publicKey,"confirmed");let R=null;if(k!==null){if(k.executable)return console.error("Program load failed, account is already executable"),!1;k.data.length!==o.length&&(R=R||new pt,R.add(hn.allocate({accountPubkey:i.publicKey,space:o.length}))),k.owner.equals(c)||(R=R||new pt,R.add(hn.assign({accountPubkey:i.publicKey,programId:c}))),k.lamports<I&&(R=R||new pt,R.add(hn.transfer({fromPubkey:n.publicKey,toPubkey:i.publicKey,lamports:I-k.lamports})))}else R=new pt().add(hn.createAccount({fromPubkey:n.publicKey,newAccountPubkey:i.publicKey,lamports:I>0?I:1,space:o.length,programId:c}));R!==null&&await v0(t,R,[n,i],{commitment:"confirmed"})}const l=Q.struct([Q.u32("instruction"),Q.u32("offset"),Q.u32("bytesLength"),Q.u32("bytesLengthPadding"),Q.seq(Q.u8("byte"),Q.offset(Q.u32(),-8),"bytes")]),d=ea.chunkSize;let g=0,w=o,E=[];for(;w.length>0;){const I=w.slice(0,d),k=Ce.Buffer.alloc(d+16);l.encode({instruction:0,offset:g,bytes:I,bytesLength:0,bytesLengthPadding:0},k);const R=new pt().add({keys:[{pubkey:i.publicKey,isSigner:!0,isWritable:!0}],programId:c,data:k});E.push(v0(t,R,[n,i],{commitment:"confirmed"})),t._rpcEndpoint.includes("solana.com")&&await Vs(1e3/4),g+=d,w=w.slice(d)}await Promise.all(E);{const I=Q.struct([Q.u32("instruction")]),k=Ce.Buffer.alloc(I.span);I.encode({instruction:1},k);const R=new pt().add({keys:[{pubkey:i.publicKey,isSigner:!0,isWritable:!0},{pubkey:fo,isSigner:!1,isWritable:!1}],programId:c,data:k}),M="processed",U=await t.sendTransaction(R,[n,i],{preflightCommitment:M}),{context:z,value:j}=await t.confirmTransaction({signature:U,lastValidBlockHeight:R.lastValidBlockHeight,blockhash:R.recentBlockhash},M);if(j.err)throw new Error(`Transaction ${U} failed (${JSON.stringify(j)})`);for(;;){try{if(await t.getSlot({commitment:M})>z.slot)break}catch{}await new Promise(F=>setTimeout(F,Math.round(y_/2)))}}return!0}}ea.chunkSize=BT;const MT=new ve("BPFLoader2111111111111111111111111111111111");class UT{static getMinNumSignatures(t){return ea.getMinNumSignatures(t)}static load(t,n,i,c,o){return ea.load(t,n,i,o,c)}}function DT(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Yh,ab;function LT(){if(ab)return Yh;ab=1;var s=Object.prototype.toString,t=Object.keys||function(i){var c=[];for(var o in i)c.push(o);return c};function n(i,c){var o,l,d,g,w,E,I;if(i===!0)return"true";if(i===!1)return"false";switch(typeof i){case"object":if(i===null)return null;if(i.toJSON&&typeof i.toJSON=="function")return n(i.toJSON(),c);if(I=s.call(i),I==="[object Array]"){for(d="[",l=i.length-1,o=0;o<l;o++)d+=n(i[o],!0)+",";return l>-1&&(d+=n(i[o],!0)),d+"]"}else if(I==="[object Object]"){for(g=t(i).sort(),l=g.length,d="",o=0;o<l;)w=g[o],E=n(i[w],!1),E!==void 0&&(d&&(d+=","),d+=JSON.stringify(w)+":"+E),o++;return"{"+d+"}"}else return JSON.stringify(i);case"function":case"undefined":return c?null:void 0;case"string":return JSON.stringify(i);default:return isFinite(i)?i:null}}return Yh=function(i){var c=n(i,!1);if(c!==void 0)return""+c},Yh}var zT=LT(),ob=DT(zT);const yc=32;function Zh(s){let t=0;for(;s>1;)s/=2,t++;return t}function HT(s){return s===0?1:(s--,s|=s>>1,s|=s>>2,s|=s>>4,s|=s>>8,s|=s>>16,s|=s>>32,s+1)}class w_{constructor(t,n,i,c,o){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=n,this.warmup=i,this.firstNormalEpoch=c,this.firstNormalSlot=o}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){const n=Zh(HT(t+yc+1))-Zh(yc)-1,i=this.getSlotsInEpoch(n),c=t-(i-yc);return[n,c]}else{const n=t-this.firstNormalSlot,i=Math.floor(n/this.slotsPerEpoch),c=this.firstNormalEpoch+i,o=n%this.slotsPerEpoch;return[c,o]}}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?(Math.pow(2,t)-1)*yc:(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+Zh(yc)):this.slotsPerEpoch}}var jT=globalThis.fetch;class qT extends Px{constructor(t,n,i){const c=o=>{const l=jx(o,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in l?this.underlyingSocket=l.socket:this.underlyingSocket=l,l};super(c,t,n,i),this.underlyingSocket=void 0}call(...t){const n=this.underlyingSocket?.readyState;return n===1?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...t){const n=this.underlyingSocket?.readyState;return n===1?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}}function PT(s,t){let n;try{n=s.layout.decode(t)}catch(i){throw new Error("invalid instruction; "+i)}if(n.typeIndex!==s.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${s.index}`);return n}const cb=56;class S0{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){const t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){const n=PT(KT,t),i=t.length-cb;gt(i>=0,"lookup table is invalid"),gt(i%32===0,"lookup table is invalid");const c=i/32,{addresses:o}=Q.struct([Q.seq(ot(),c,"addresses")]).decode(t.slice(cb));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new ve(n.authority[0]):void 0,addresses:o.map(l=>new ve(l))}}}const KT={index:1,layout:Q.struct([Q.u32("typeIndex"),ho("deactivationSlot"),Q.nu64("lastExtendedSlot"),Q.u8("lastExtendedStartIndex"),Q.u8(),Q.seq(ot(),Q.offset(Q.u8(),-1),"authority")])},VT=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function GT(s){const t=s.match(VT);if(t==null)throw TypeError(`Failed to validate endpoint URL \`${s}\``);const[n,i,c,o]=t,l=s.startsWith("https:")?"wss:":"ws:",d=c==null?null:parseInt(c.slice(1),10),g=d==null?"":`:${d+1}`;return`${l}//${i}${g}${o}`}const Jt=zc(Q0(ve),xe(),s=>new ve(s)),__=J0([xe(),Qt("base64")]),lp=zc(Q0(Ce.Buffer),__,s=>Ce.Buffer.from(s[0],"base64")),v_=30*1e3;function FT(s){if(/^https?:/.test(s)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return s}function Bt(s){let t,n;if(typeof s=="string")t=s;else if(s){const{commitment:i,...c}=s;t=i,n=c}return{commitment:t,config:n}}function ub(s){return s.map(t=>"memcmp"in t?{...t,memcmp:{...t.memcmp,encoding:t.memcmp.encoding??"base58"}}:t)}function E_(s){return jn([Se({jsonrpc:Qt("2.0"),id:xe(),result:s}),Se({jsonrpc:Qt("2.0"),id:xe(),error:Se({code:go(),message:xe(),data:Pe(dx())})})])}const YT=E_(go());function nt(s){return zc(E_(s),YT,t=>"error"in t?t:{...t,result:Te(t.result,s)})}function dn(s){return nt(Se({context:Se({slot:ue()}),value:s}))}function Jl(s){return Se({context:Se({slot:ue()}),value:s})}function Xh(s,t){return s===0?new Js({header:t.header,staticAccountKeys:t.accountKeys.map(n=>new ve(n)),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:kn.decode(n.data)})),addressTableLookups:t.addressTableLookups}):new Nr(t)}const ZT=Se({foundation:ue(),foundationTerm:ue(),initial:ue(),taper:ue(),terminal:ue()}),XT=nt(Ne(ke(Se({epoch:ue(),effectiveSlot:ue(),amount:ue(),postBalance:ue(),commission:Pe(ke(ue()))})))),WT=Ne(Se({slot:ue(),prioritizationFee:ue()})),$T=Se({total:ue(),validator:ue(),foundation:ue(),epoch:ue()}),QT=Se({epoch:ue(),slotIndex:ue(),slotsInEpoch:ue(),absoluteSlot:ue(),blockHeight:Pe(ue()),transactionCount:Pe(ue())}),JT=Se({slotsPerEpoch:ue(),leaderScheduleSlotOffset:ue(),warmup:Zr(),firstNormalEpoch:ue(),firstNormalSlot:ue()}),eO=Ww(xe(),Ne(ue())),ia=ke(jn([Se({}),xe()])),tO=Se({err:ia}),nO=Qt("receivedSignature"),rO=Se({"solana-core":xe(),"feature-set":Pe(ue())}),iO=Se({program:xe(),programId:Jt,parsed:go()}),sO=Se({programId:Jt,accounts:Ne(Jt),data:xe()}),lb=dn(Se({err:ke(jn([Se({}),xe()])),logs:ke(Ne(xe())),accounts:Pe(ke(Ne(ke(Se({executable:Zr(),owner:xe(),lamports:ue(),data:Ne(xe()),rentEpoch:Pe(ue())}))))),unitsConsumed:Pe(ue()),returnData:Pe(ke(Se({programId:xe(),data:J0([xe(),Qt("base64")])}))),innerInstructions:Pe(ke(Ne(Se({index:ue(),instructions:Ne(jn([iO,sO]))}))))})),aO=dn(Se({byIdentity:Ww(xe(),Ne(ue())),range:Se({firstSlot:ue(),lastSlot:ue()})}));function oO(s,t,n,i,c,o){const l=n||jT;let d;o!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let g;return i&&(g=async(E,I)=>{const k=await new Promise((R,M)=>{try{i(E,I,(U,z)=>R([U,z]))}catch(U){M(U)}});return await l(...k)}),new Dx(async(E,I)=>{const k={method:"POST",body:E,agent:d,headers:Object.assign({"Content-Type":"application/json"},t||{},oN)};try{let R=5,M,U=500;for(;g?M=await g(s,k):M=await l(s,k),!(M.status!==429||c===!0||(R-=1,R===0));)console.error(`Server responded with ${M.status} ${M.statusText}.  Retrying after ${U}ms delay...`),await Vs(U),U*=2;const z=await M.text();M.ok?I(null,z):I(new Error(`${M.status} ${M.statusText}: ${z}`))}catch(R){R instanceof Error&&I(R)}},{})}function cO(s){return(t,n)=>new Promise((i,c)=>{s.request(t,n,(o,l)=>{if(o){c(o);return}i(l)})})}function uO(s){return t=>new Promise((n,i)=>{t.length===0&&n([]);const c=t.map(o=>s.request(o.methodName,o.args));s.request(c,(o,l)=>{if(o){i(o);return}n(l)})})}const lO=nt(ZT),fO=nt($T),dO=nt(WT),hO=nt(QT),pO=nt(JT),mO=nt(eO),yO=nt(ue()),gO=dn(Se({total:ue(),circulating:ue(),nonCirculating:ue(),nonCirculatingAccounts:Ne(Jt)})),A0=Se({amount:xe(),uiAmount:ke(ue()),decimals:ue(),uiAmountString:Pe(xe())}),bO=dn(Ne(Se({address:Jt,amount:xe(),uiAmount:ke(ue()),decimals:ue(),uiAmountString:Pe(xe())}))),wO=dn(Ne(Se({pubkey:Jt,account:Se({executable:Zr(),owner:Jt,lamports:ue(),data:lp,rentEpoch:ue()})}))),R0=Se({program:xe(),parsed:go(),space:ue()}),_O=dn(Ne(Se({pubkey:Jt,account:Se({executable:Zr(),owner:Jt,lamports:ue(),data:R0,rentEpoch:ue()})}))),vO=dn(Ne(Se({lamports:ue(),address:Jt}))),Nc=Se({executable:Zr(),owner:Jt,lamports:ue(),data:lp,rentEpoch:ue()}),EO=Se({pubkey:Jt,account:Nc}),SO=zc(jn([Q0(Ce.Buffer),R0]),jn([__,R0]),s=>Array.isArray(s)?Te(s,lp):s),x0=Se({executable:Zr(),owner:Jt,lamports:ue(),data:SO,rentEpoch:ue()}),AO=Se({pubkey:Jt,account:x0}),RO=Se({state:jn([Qt("active"),Qt("inactive"),Qt("activating"),Qt("deactivating")]),active:ue(),inactive:ue()}),xO=nt(Ne(Se({signature:xe(),slot:ue(),err:ia,memo:ke(xe()),blockTime:Pe(ke(ue()))}))),TO=nt(Ne(Se({signature:xe(),slot:ue(),err:ia,memo:ke(xe()),blockTime:Pe(ke(ue()))}))),OO=Se({subscription:ue(),result:Jl(Nc)}),NO=Se({pubkey:Jt,account:Nc}),kO=Se({subscription:ue(),result:Jl(NO)}),IO=Se({parent:ue(),slot:ue(),root:ue()}),CO=Se({subscription:ue(),result:IO}),BO=jn([Se({type:jn([Qt("firstShredReceived"),Qt("completed"),Qt("optimisticConfirmation"),Qt("root")]),slot:ue(),timestamp:ue()}),Se({type:Qt("createdBank"),parent:ue(),slot:ue(),timestamp:ue()}),Se({type:Qt("frozen"),slot:ue(),timestamp:ue(),stats:Se({numTransactionEntries:ue(),numSuccessfulTransactions:ue(),numFailedTransactions:ue(),maxTransactionsPerEntry:ue()})}),Se({type:Qt("dead"),slot:ue(),timestamp:ue(),err:xe()})]),MO=Se({subscription:ue(),result:BO}),UO=Se({subscription:ue(),result:Jl(jn([tO,nO]))}),DO=Se({subscription:ue(),result:ue()}),LO=Se({pubkey:xe(),gossip:ke(xe()),tpu:ke(xe()),rpc:ke(xe()),version:ke(xe())}),fb=Se({votePubkey:xe(),nodePubkey:xe(),activatedStake:ue(),epochVoteAccount:Zr(),epochCredits:Ne(J0([ue(),ue(),ue()])),commission:ue(),lastVote:ue(),rootSlot:ke(ue())}),zO=nt(Se({current:Ne(fb),delinquent:Ne(fb)})),HO=jn([Qt("processed"),Qt("confirmed"),Qt("finalized")]),jO=Se({slot:ue(),confirmations:ke(ue()),err:ia,confirmationStatus:Pe(HO)}),qO=dn(Ne(ke(jO))),PO=nt(ue()),S_=Se({accountKey:Jt,writableIndexes:Ne(ue()),readonlyIndexes:Ne(ue())}),fp=Se({signatures:Ne(xe()),message:Se({accountKeys:Ne(xe()),header:Se({numRequiredSignatures:ue(),numReadonlySignedAccounts:ue(),numReadonlyUnsignedAccounts:ue()}),instructions:Ne(Se({accounts:Ne(ue()),data:xe(),programIdIndex:ue()})),recentBlockhash:xe(),addressTableLookups:Pe(Ne(S_))})}),A_=Se({pubkey:Jt,signer:Zr(),writable:Zr(),source:Pe(jn([Qt("transaction"),Qt("lookupTable")]))}),R_=Se({accountKeys:Ne(A_),signatures:Ne(xe())}),x_=Se({parsed:go(),program:xe(),programId:Jt}),T_=Se({accounts:Ne(Jt),data:xe(),programId:Jt}),KO=jn([T_,x_]),VO=jn([Se({parsed:go(),program:xe(),programId:xe()}),Se({accounts:Ne(xe()),data:xe(),programId:xe()})]),O_=zc(KO,VO,s=>"accounts"in s?Te(s,T_):Te(s,x_)),N_=Se({signatures:Ne(xe()),message:Se({accountKeys:Ne(A_),instructions:Ne(O_),recentBlockhash:xe(),addressTableLookups:Pe(ke(Ne(S_)))})}),Ll=Se({accountIndex:ue(),mint:xe(),owner:Pe(xe()),programId:Pe(xe()),uiTokenAmount:A0}),k_=Se({writable:Ne(Jt),readonly:Ne(Jt)}),ef=Se({err:ia,fee:ue(),innerInstructions:Pe(ke(Ne(Se({index:ue(),instructions:Ne(Se({accounts:Ne(ue()),data:xe(),programIdIndex:ue()}))})))),preBalances:Ne(ue()),postBalances:Ne(ue()),logMessages:Pe(ke(Ne(xe()))),preTokenBalances:Pe(ke(Ne(Ll))),postTokenBalances:Pe(ke(Ne(Ll))),loadedAddresses:Pe(k_),computeUnitsConsumed:Pe(ue()),costUnits:Pe(ue())}),dp=Se({err:ia,fee:ue(),innerInstructions:Pe(ke(Ne(Se({index:ue(),instructions:Ne(O_)})))),preBalances:Ne(ue()),postBalances:Ne(ue()),logMessages:Pe(ke(Ne(xe()))),preTokenBalances:Pe(ke(Ne(Ll))),postTokenBalances:Pe(ke(Ne(Ll))),loadedAddresses:Pe(k_),computeUnitsConsumed:Pe(ue()),costUnits:Pe(ue())}),bo=jn([Qt(0),Qt("legacy")]),sa=Se({pubkey:xe(),lamports:ue(),postBalance:ke(ue()),rewardType:ke(xe()),commission:Pe(ke(ue()))}),GO=nt(ke(Se({blockhash:xe(),previousBlockhash:xe(),parentSlot:ue(),transactions:Ne(Se({transaction:fp,meta:ke(ef),version:Pe(bo)})),rewards:Pe(Ne(sa)),blockTime:ke(ue()),blockHeight:ke(ue())}))),FO=nt(ke(Se({blockhash:xe(),previousBlockhash:xe(),parentSlot:ue(),rewards:Pe(Ne(sa)),blockTime:ke(ue()),blockHeight:ke(ue())}))),YO=nt(ke(Se({blockhash:xe(),previousBlockhash:xe(),parentSlot:ue(),transactions:Ne(Se({transaction:R_,meta:ke(ef),version:Pe(bo)})),rewards:Pe(Ne(sa)),blockTime:ke(ue()),blockHeight:ke(ue())}))),ZO=nt(ke(Se({blockhash:xe(),previousBlockhash:xe(),parentSlot:ue(),transactions:Ne(Se({transaction:N_,meta:ke(dp),version:Pe(bo)})),rewards:Pe(Ne(sa)),blockTime:ke(ue()),blockHeight:ke(ue())}))),XO=nt(ke(Se({blockhash:xe(),previousBlockhash:xe(),parentSlot:ue(),transactions:Ne(Se({transaction:R_,meta:ke(dp),version:Pe(bo)})),rewards:Pe(Ne(sa)),blockTime:ke(ue()),blockHeight:ke(ue())}))),WO=nt(ke(Se({blockhash:xe(),previousBlockhash:xe(),parentSlot:ue(),rewards:Pe(Ne(sa)),blockTime:ke(ue()),blockHeight:ke(ue())}))),$O=nt(ke(Se({blockhash:xe(),previousBlockhash:xe(),parentSlot:ue(),transactions:Ne(Se({transaction:fp,meta:ke(ef)})),rewards:Pe(Ne(sa)),blockTime:ke(ue())}))),db=nt(ke(Se({blockhash:xe(),previousBlockhash:xe(),parentSlot:ue(),signatures:Ne(xe()),blockTime:ke(ue())}))),Wh=nt(ke(Se({slot:ue(),meta:ke(ef),blockTime:Pe(ke(ue())),transaction:fp,version:Pe(bo)}))),ul=nt(ke(Se({slot:ue(),transaction:N_,meta:ke(dp),blockTime:Pe(ke(ue())),version:Pe(bo)}))),QO=dn(Se({blockhash:xe(),lastValidBlockHeight:ue()})),JO=dn(Zr()),eN=Se({slot:ue(),numTransactions:ue(),numSlots:ue(),samplePeriodSecs:ue()}),tN=nt(Ne(eN)),nN=dn(ke(Se({feeCalculator:Se({lamportsPerSignature:ue()})}))),rN=nt(xe()),iN=nt(xe()),sN=Se({err:ia,logs:Ne(xe()),signature:xe()}),aN=Se({result:Jl(sN),subscription:ue()}),oN={"solana-client":"js/1.0.0-maintenance"};class hp{constructor(t,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const w={};return async E=>{const{commitment:I,config:k}=Bt(E),R=this._buildArgs([],I,void 0,k),M=ob(R);return w[M]=w[M]??(async()=>{try{const U=await this._rpcRequest("getBlockHeight",R),z=Te(U,nt(ue()));if("error"in z)throw new Le(z.error,"failed to get block height information");return z.result}finally{delete w[M]}})(),await w[M]}})();let i,c,o,l,d,g;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,i=n.wsEndpoint,c=n.httpHeaders,o=n.fetch,l=n.fetchMiddleware,d=n.disableRetryOnRateLimit,g=n.httpAgent),this._rpcEndpoint=FT(t),this._rpcWsEndpoint=i||GT(t),this._rpcClient=oO(t,c,o,l,d,g),this._rpcRequest=cO(this._rpcClient),this._rpcBatchRequest=uO(this._rpcClient),this._rpcWebSocket=new qT(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(t,n){const{commitment:i,config:c}=Bt(n),o=this._buildArgs([t.toBase58()],i,void 0,c),l=await this._rpcRequest("getBalance",o),d=Te(l,dn(ue()));if("error"in d)throw new Le(d.error,`failed to get balance for ${t.toBase58()}`);return d.result}async getBalance(t,n){return await this.getBalanceAndContext(t,n).then(i=>i.value).catch(i=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+i)})}async getBlockTime(t){const n=await this._rpcRequest("getBlockTime",[t]),i=Te(n,nt(ke(ue())));if("error"in i)throw new Le(i.error,`failed to get block time for slot ${t}`);return i.result}async getMinimumLedgerSlot(){const t=await this._rpcRequest("minimumLedgerSlot",[]),n=Te(t,nt(ue()));if("error"in n)throw new Le(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const t=await this._rpcRequest("getFirstAvailableBlock",[]),n=Te(t,yO);if("error"in n)throw new Le(n.error,"failed to get first available block");return n.result}async getSupply(t){let n={};typeof t=="string"?n={commitment:t}:t?n={...t,commitment:t&&t.commitment||this.commitment}:n={commitment:this.commitment};const i=await this._rpcRequest("getSupply",[n]),c=Te(i,gO);if("error"in c)throw new Le(c.error,"failed to get supply");return c.result}async getTokenSupply(t,n){const i=this._buildArgs([t.toBase58()],n),c=await this._rpcRequest("getTokenSupply",i),o=Te(c,dn(A0));if("error"in o)throw new Le(o.error,"failed to get token supply");return o.result}async getTokenAccountBalance(t,n){const i=this._buildArgs([t.toBase58()],n),c=await this._rpcRequest("getTokenAccountBalance",i),o=Te(c,dn(A0));if("error"in o)throw new Le(o.error,"failed to get token account balance");return o.result}async getTokenAccountsByOwner(t,n,i){const{commitment:c,config:o}=Bt(i);let l=[t.toBase58()];"mint"in n?l.push({mint:n.mint.toBase58()}):l.push({programId:n.programId.toBase58()});const d=this._buildArgs(l,c,"base64",o),g=await this._rpcRequest("getTokenAccountsByOwner",d),w=Te(g,wO);if("error"in w)throw new Le(w.error,`failed to get token accounts owned by account ${t.toBase58()}`);return w.result}async getParsedTokenAccountsByOwner(t,n,i){let c=[t.toBase58()];"mint"in n?c.push({mint:n.mint.toBase58()}):c.push({programId:n.programId.toBase58()});const o=this._buildArgs(c,i,"jsonParsed"),l=await this._rpcRequest("getTokenAccountsByOwner",o),d=Te(l,_O);if("error"in d)throw new Le(d.error,`failed to get token accounts owned by account ${t.toBase58()}`);return d.result}async getLargestAccounts(t){const n={...t,commitment:t&&t.commitment||this.commitment},i=n.filter||n.commitment?[n]:[],c=await this._rpcRequest("getLargestAccounts",i),o=Te(c,vO);if("error"in o)throw new Le(o.error,"failed to get largest accounts");return o.result}async getTokenLargestAccounts(t,n){const i=this._buildArgs([t.toBase58()],n),c=await this._rpcRequest("getTokenLargestAccounts",i),o=Te(c,bO);if("error"in o)throw new Le(o.error,"failed to get token largest accounts");return o.result}async getAccountInfoAndContext(t,n){const{commitment:i,config:c}=Bt(n),o=this._buildArgs([t.toBase58()],i,"base64",c),l=await this._rpcRequest("getAccountInfo",o),d=Te(l,dn(ke(Nc)));if("error"in d)throw new Le(d.error,`failed to get info about account ${t.toBase58()}`);return d.result}async getParsedAccountInfo(t,n){const{commitment:i,config:c}=Bt(n),o=this._buildArgs([t.toBase58()],i,"jsonParsed",c),l=await this._rpcRequest("getAccountInfo",o),d=Te(l,dn(ke(x0)));if("error"in d)throw new Le(d.error,`failed to get info about account ${t.toBase58()}`);return d.result}async getAccountInfo(t,n){try{return(await this.getAccountInfoAndContext(t,n)).value}catch(i){throw new Error("failed to get info about account "+t.toBase58()+": "+i)}}async getMultipleParsedAccounts(t,n){const{commitment:i,config:c}=Bt(n),o=t.map(w=>w.toBase58()),l=this._buildArgs([o],i,"jsonParsed",c),d=await this._rpcRequest("getMultipleAccounts",l),g=Te(d,dn(Ne(ke(x0))));if("error"in g)throw new Le(g.error,`failed to get info for accounts ${o}`);return g.result}async getMultipleAccountsInfoAndContext(t,n){const{commitment:i,config:c}=Bt(n),o=t.map(w=>w.toBase58()),l=this._buildArgs([o],i,"base64",c),d=await this._rpcRequest("getMultipleAccounts",l),g=Te(d,dn(Ne(ke(Nc))));if("error"in g)throw new Le(g.error,`failed to get info for accounts ${o}`);return g.result}async getMultipleAccountsInfo(t,n){return(await this.getMultipleAccountsInfoAndContext(t,n)).value}async getStakeActivation(t,n,i){const{commitment:c,config:o}=Bt(n),l=this._buildArgs([t.toBase58()],c,void 0,{...o,epoch:i??o?.epoch}),d=await this._rpcRequest("getStakeActivation",l),g=Te(d,nt(RO));if("error"in g)throw new Le(g.error,`failed to get Stake Activation ${t.toBase58()}`);return g.result}async getProgramAccounts(t,n){const{commitment:i,config:c}=Bt(n),{encoding:o,...l}=c||{},d=this._buildArgs([t.toBase58()],i,o||"base64",{...l,...l.filters?{filters:ub(l.filters)}:null}),g=await this._rpcRequest("getProgramAccounts",d),w=Ne(EO),E=l.withContext===!0?Te(g,dn(w)):Te(g,nt(w));if("error"in E)throw new Le(E.error,`failed to get accounts owned by program ${t.toBase58()}`);return E.result}async getParsedProgramAccounts(t,n){const{commitment:i,config:c}=Bt(n),o=this._buildArgs([t.toBase58()],i,"jsonParsed",c),l=await this._rpcRequest("getProgramAccounts",o),d=Te(l,nt(Ne(AO)));if("error"in d)throw new Le(d.error,`failed to get accounts owned by program ${t.toBase58()}`);return d.result}async confirmTransaction(t,n){let i;if(typeof t=="string")i=t;else{const o=t;if(o.abortSignal?.aborted)return Promise.reject(o.abortSignal.reason);i=o.signature}let c;try{c=kn.decode(i)}catch{throw new Error("signature must be base58 encoded: "+i)}return gt(c.length===64,"signature has invalid length"),typeof t=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:i}):"lastValidBlockHeight"in t?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:t}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:t})}getCancellationPromise(t){return new Promise((n,i)=>{t!=null&&(t.aborted?i(t.reason):t.addEventListener("abort",()=>{i(t.reason)}))})}getTransactionConfirmationPromise({commitment:t,signature:n}){let i,c,o=!1;const l=new Promise((g,w)=>{try{i=this.onSignature(n,(I,k)=>{i=void 0;const R={context:k,value:I};g({__type:_i.PROCESSED,response:R})},t);const E=new Promise(I=>{i==null?I():c=this._onSubscriptionStateChange(i,k=>{k==="subscribed"&&I()})});(async()=>{if(await E,o)return;const I=await this.getSignatureStatus(n);if(o||I==null)return;const{context:k,value:R}=I;if(R!=null)if(R?.err)w(R.err);else{switch(t){case"confirmed":case"single":case"singleGossip":{if(R.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(R.confirmationStatus==="processed"||R.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}o=!0,g({__type:_i.PROCESSED,response:{context:k,value:R}})}})()}catch(E){w(E)}});return{abortConfirmation:()=>{c&&(c(),c=void 0),i!=null&&(this.removeSignatureListener(i),i=void 0)},confirmationPromise:l}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:n,lastValidBlockHeight:i,signature:c}}){let o=!1;const l=new Promise(I=>{const k=async()=>{try{return await this.getBlockHeight(t)}catch{return-1}};(async()=>{let R=await k();if(!o){for(;R<=i;)if(await Vs(1e3),o||(R=await k(),o))return;I({__type:_i.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:d,confirmationPromise:g}=this.getTransactionConfirmationPromise({commitment:t,signature:c}),w=this.getCancellationPromise(n);let E;try{const I=await Promise.race([w,g,l]);if(I.__type===_i.PROCESSED)E=I.response;else throw new sp(c)}finally{o=!0,d()}return E}async confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:n,minContextSlot:i,nonceAccountPubkey:c,nonceValue:o,signature:l}}){let d=!1;const g=new Promise(R=>{let M=o,U=null;const z=async()=>{try{const{context:j,value:F}=await this.getNonceAndContext(c,{commitment:t,minContextSlot:i});return U=j.slot,F?.nonce}catch{return M}};(async()=>{if(M=await z(),!d)for(;;){if(o!==M){R({__type:_i.NONCE_INVALID,slotInWhichNonceDidAdvance:U});return}if(await Vs(2e3),d||(M=await z(),d))return}})()}),{abortConfirmation:w,confirmationPromise:E}=this.getTransactionConfirmationPromise({commitment:t,signature:l}),I=this.getCancellationPromise(n);let k;try{const R=await Promise.race([I,E,g]);if(R.__type===_i.PROCESSED)k=R.response;else{let M;for(;;){const U=await this.getSignatureStatus(l);if(U==null)break;if(U.context.slot<(R.slotInWhichNonceDidAdvance??i)){await Vs(400);continue}M=U;break}if(M?.value){const U=t||"finalized",{confirmationStatus:z}=M.value;switch(U){case"processed":case"recent":if(z!=="processed"&&z!=="confirmed"&&z!=="finalized")throw new eo(l);break;case"confirmed":case"single":case"singleGossip":if(z!=="confirmed"&&z!=="finalized")throw new eo(l);break;case"finalized":case"max":case"root":if(z!=="finalized")throw new eo(l);break;default:}k={context:M.context,value:{err:M.value.err}}}else throw new eo(l)}}finally{d=!0,w()}return k}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:n}){let i;const c=new Promise(g=>{let w=this._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{w=this._confirmTransactionInitialTimeout||3e4;break}}i=setTimeout(()=>g({__type:_i.TIMED_OUT,timeoutMs:w}),w)}),{abortConfirmation:o,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:t,signature:n});let d;try{const g=await Promise.race([l,c]);if(g.__type===_i.PROCESSED)d=g.response;else throw new ap(n,g.timeoutMs/1e3)}finally{clearTimeout(i),o()}return d}async getClusterNodes(){const t=await this._rpcRequest("getClusterNodes",[]),n=Te(t,nt(Ne(LO)));if("error"in n)throw new Le(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(t){const n=this._buildArgs([],t),i=await this._rpcRequest("getVoteAccounts",n),c=Te(i,zO);if("error"in c)throw new Le(c.error,"failed to get vote accounts");return c.result}async getSlot(t){const{commitment:n,config:i}=Bt(t),c=this._buildArgs([],n,void 0,i),o=await this._rpcRequest("getSlot",c),l=Te(o,nt(ue()));if("error"in l)throw new Le(l.error,"failed to get slot");return l.result}async getSlotLeader(t){const{commitment:n,config:i}=Bt(t),c=this._buildArgs([],n,void 0,i),o=await this._rpcRequest("getSlotLeader",c),l=Te(o,nt(xe()));if("error"in l)throw new Le(l.error,"failed to get slot leader");return l.result}async getSlotLeaders(t,n){const i=[t,n],c=await this._rpcRequest("getSlotLeaders",i),o=Te(c,nt(Ne(Jt)));if("error"in o)throw new Le(o.error,"failed to get slot leaders");return o.result}async getSignatureStatus(t,n){const{context:i,value:c}=await this.getSignatureStatuses([t],n);gt(c.length===1);const o=c[0];return{context:i,value:o}}async getSignatureStatuses(t,n){const i=[t];n&&i.push(n);const c=await this._rpcRequest("getSignatureStatuses",i),o=Te(c,qO);if("error"in o)throw new Le(o.error,"failed to get signature status");return o.result}async getTransactionCount(t){const{commitment:n,config:i}=Bt(t),c=this._buildArgs([],n,void 0,i),o=await this._rpcRequest("getTransactionCount",c),l=Te(o,nt(ue()));if("error"in l)throw new Le(l.error,"failed to get transaction count");return l.result}async getTotalSupply(t){return(await this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(t){const n=this._buildArgs([],t),i=await this._rpcRequest("getInflationGovernor",n),c=Te(i,lO);if("error"in c)throw new Le(c.error,"failed to get inflation");return c.result}async getInflationReward(t,n,i){const{commitment:c,config:o}=Bt(i),l=this._buildArgs([t.map(w=>w.toBase58())],c,void 0,{...o,epoch:n??o?.epoch}),d=await this._rpcRequest("getInflationReward",l),g=Te(d,XT);if("error"in g)throw new Le(g.error,"failed to get inflation reward");return g.result}async getInflationRate(){const t=await this._rpcRequest("getInflationRate",[]),n=Te(t,fO);if("error"in n)throw new Le(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(t){const{commitment:n,config:i}=Bt(t),c=this._buildArgs([],n,void 0,i),o=await this._rpcRequest("getEpochInfo",c),l=Te(o,hO);if("error"in l)throw new Le(l.error,"failed to get epoch info");return l.result}async getEpochSchedule(){const t=await this._rpcRequest("getEpochSchedule",[]),n=Te(t,pO);if("error"in n)throw new Le(n.error,"failed to get epoch schedule");const i=n.result;return new w_(i.slotsPerEpoch,i.leaderScheduleSlotOffset,i.warmup,i.firstNormalEpoch,i.firstNormalSlot)}async getLeaderSchedule(){const t=await this._rpcRequest("getLeaderSchedule",[]),n=Te(t,mO);if("error"in n)throw new Le(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(t,n){const i=this._buildArgs([t],n),c=await this._rpcRequest("getMinimumBalanceForRentExemption",i),o=Te(c,PO);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(t){const{context:n,value:{blockhash:i}}=await this.getLatestBlockhashAndContext(t);return{context:n,value:{blockhash:i,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(t){const n=await this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),i=Te(n,tN);if("error"in i)throw new Le(i.error,"failed to get recent performance samples");return i.result}async getFeeCalculatorForBlockhash(t,n){const i=this._buildArgs([t],n),c=await this._rpcRequest("getFeeCalculatorForBlockhash",i),o=Te(c,nN);if("error"in o)throw new Le(o.error,"failed to get fee calculator");const{context:l,value:d}=o.result;return{context:l,value:d!==null?d.feeCalculator:null}}async getFeeForMessage(t,n){const i=rt(t.serialize()).toString("base64"),c=this._buildArgs([i],n),o=await this._rpcRequest("getFeeForMessage",c),l=Te(o,dn(ke(ue())));if("error"in l)throw new Le(l.error,"failed to get fee for message");if(l.result===null)throw new Error("invalid blockhash");return l.result}async getRecentPrioritizationFees(t){const n=t?.lockedWritableAccounts?.map(l=>l.toBase58()),i=n?.length?[n]:[],c=await this._rpcRequest("getRecentPrioritizationFees",i),o=Te(c,dO);if("error"in o)throw new Le(o.error,"failed to get recent prioritization fees");return o.result}async getRecentBlockhash(t){try{return(await this.getRecentBlockhashAndContext(t)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(t){try{return(await this.getLatestBlockhashAndContext(t)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(t){const{commitment:n,config:i}=Bt(t),c=this._buildArgs([],n,void 0,i),o=await this._rpcRequest("getLatestBlockhash",c),l=Te(o,QO);if("error"in l)throw new Le(l.error,"failed to get latest blockhash");return l.result}async isBlockhashValid(t,n){const{commitment:i,config:c}=Bt(n),o=this._buildArgs([t],i,void 0,c),l=await this._rpcRequest("isBlockhashValid",o),d=Te(l,JO);if("error"in d)throw new Le(d.error,"failed to determine if the blockhash `"+t+"`is valid");return d.result}async getVersion(){const t=await this._rpcRequest("getVersion",[]),n=Te(t,nt(rO));if("error"in n)throw new Le(n.error,"failed to get version");return n.result}async getGenesisHash(){const t=await this._rpcRequest("getGenesisHash",[]),n=Te(t,nt(xe()));if("error"in n)throw new Le(n.error,"failed to get genesis hash");return n.result}async getBlock(t,n){const{commitment:i,config:c}=Bt(n),o=this._buildArgsAtLeastConfirmed([t],i,void 0,c),l=await this._rpcRequest("getBlock",o);try{switch(c?.transactionDetails){case"accounts":{const d=Te(l,YO);if("error"in d)throw d.error;return d.result}case"none":{const d=Te(l,FO);if("error"in d)throw d.error;return d.result}default:{const d=Te(l,GO);if("error"in d)throw d.error;const{result:g}=d;return g?{...g,transactions:g.transactions.map(({transaction:w,meta:E,version:I})=>({meta:E,transaction:{...w,message:Xh(I,w.message)},version:I}))}:null}}}catch(d){throw new Le(d,"failed to get confirmed block")}}async getParsedBlock(t,n){const{commitment:i,config:c}=Bt(n),o=this._buildArgsAtLeastConfirmed([t],i,"jsonParsed",c),l=await this._rpcRequest("getBlock",o);try{switch(c?.transactionDetails){case"accounts":{const d=Te(l,XO);if("error"in d)throw d.error;return d.result}case"none":{const d=Te(l,WO);if("error"in d)throw d.error;return d.result}default:{const d=Te(l,ZO);if("error"in d)throw d.error;return d.result}}}catch(d){throw new Le(d,"failed to get block")}}async getBlockProduction(t){let n,i;if(typeof t=="string")i=t;else if(t){const{commitment:d,...g}=t;i=d,n=g}const c=this._buildArgs([],i,"base64",n),o=await this._rpcRequest("getBlockProduction",c),l=Te(o,aO);if("error"in l)throw new Le(l.error,"failed to get block production information");return l.result}async getTransaction(t,n){const{commitment:i,config:c}=Bt(n),o=this._buildArgsAtLeastConfirmed([t],i,void 0,c),l=await this._rpcRequest("getTransaction",o),d=Te(l,Wh);if("error"in d)throw new Le(d.error,"failed to get transaction");const g=d.result;return g&&{...g,transaction:{...g.transaction,message:Xh(g.version,g.transaction.message)}}}async getParsedTransaction(t,n){const{commitment:i,config:c}=Bt(n),o=this._buildArgsAtLeastConfirmed([t],i,"jsonParsed",c),l=await this._rpcRequest("getTransaction",o),d=Te(l,ul);if("error"in d)throw new Le(d.error,"failed to get transaction");return d.result}async getParsedTransactions(t,n){const{commitment:i,config:c}=Bt(n),o=t.map(g=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([g],i,"jsonParsed",c)}));return(await this._rpcBatchRequest(o)).map(g=>{const w=Te(g,ul);if("error"in w)throw new Le(w.error,"failed to get transactions");return w.result})}async getTransactions(t,n){const{commitment:i,config:c}=Bt(n),o=t.map(g=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([g],i,void 0,c)}));return(await this._rpcBatchRequest(o)).map(g=>{const w=Te(g,Wh);if("error"in w)throw new Le(w.error,"failed to get transactions");const E=w.result;return E&&{...E,transaction:{...E.transaction,message:Xh(E.version,E.transaction.message)}}})}async getConfirmedBlock(t,n){const i=this._buildArgsAtLeastConfirmed([t],n),c=await this._rpcRequest("getBlock",i),o=Te(c,$O);if("error"in o)throw new Le(o.error,"failed to get confirmed block");const l=o.result;if(!l)throw new Error("Confirmed block "+t+" not found");const d={...l,transactions:l.transactions.map(({transaction:g,meta:w})=>{const E=new Nr(g.message);return{meta:w,transaction:{...g,message:E}}})};return{...d,transactions:d.transactions.map(({transaction:g,meta:w})=>({meta:w,transaction:pt.populate(g.message,g.signatures)}))}}async getBlocks(t,n,i){const c=this._buildArgsAtLeastConfirmed(n!==void 0?[t,n]:[t],i),o=await this._rpcRequest("getBlocks",c),l=Te(o,nt(Ne(ue())));if("error"in l)throw new Le(l.error,"failed to get blocks");return l.result}async getBlockSignatures(t,n){const i=this._buildArgsAtLeastConfirmed([t],n,void 0,{transactionDetails:"signatures",rewards:!1}),c=await this._rpcRequest("getBlock",i),o=Te(c,db);if("error"in o)throw new Le(o.error,"failed to get block");const l=o.result;if(!l)throw new Error("Block "+t+" not found");return l}async getConfirmedBlockSignatures(t,n){const i=this._buildArgsAtLeastConfirmed([t],n,void 0,{transactionDetails:"signatures",rewards:!1}),c=await this._rpcRequest("getBlock",i),o=Te(c,db);if("error"in o)throw new Le(o.error,"failed to get confirmed block");const l=o.result;if(!l)throw new Error("Confirmed block "+t+" not found");return l}async getConfirmedTransaction(t,n){const i=this._buildArgsAtLeastConfirmed([t],n),c=await this._rpcRequest("getTransaction",i),o=Te(c,Wh);if("error"in o)throw new Le(o.error,"failed to get transaction");const l=o.result;if(!l)return l;const d=new Nr(l.transaction.message),g=l.transaction.signatures;return{...l,transaction:pt.populate(d,g)}}async getParsedConfirmedTransaction(t,n){const i=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed"),c=await this._rpcRequest("getTransaction",i),o=Te(c,ul);if("error"in o)throw new Le(o.error,"failed to get confirmed transaction");return o.result}async getParsedConfirmedTransactions(t,n){const i=t.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],n,"jsonParsed")}));return(await this._rpcBatchRequest(i)).map(l=>{const d=Te(l,ul);if("error"in d)throw new Le(d.error,"failed to get confirmed transactions");return d.result})}async getConfirmedSignaturesForAddress(t,n,i){let c={},o=await this.getFirstAvailableBlock();for(;!("until"in c)&&(n--,!(n<=0||n<o));)try{const g=await this.getConfirmedBlockSignatures(n,"finalized");g.signatures.length>0&&(c.until=g.signatures[g.signatures.length-1].toString())}catch(g){if(g instanceof Error&&g.message.includes("skipped"))continue;throw g}let l=await this.getSlot("finalized");for(;!("before"in c)&&(i++,!(i>l));)try{const g=await this.getConfirmedBlockSignatures(i);g.signatures.length>0&&(c.before=g.signatures[g.signatures.length-1].toString())}catch(g){if(g instanceof Error&&g.message.includes("skipped"))continue;throw g}return(await this.getConfirmedSignaturesForAddress2(t,c)).map(g=>g.signature)}async getConfirmedSignaturesForAddress2(t,n,i){const c=this._buildArgsAtLeastConfirmed([t.toBase58()],i,void 0,n),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",c),l=Te(o,xO);if("error"in l)throw new Le(l.error,"failed to get confirmed signatures for address");return l.result}async getSignaturesForAddress(t,n,i){const c=this._buildArgsAtLeastConfirmed([t.toBase58()],i,void 0,n),o=await this._rpcRequest("getSignaturesForAddress",c),l=Te(o,TO);if("error"in l)throw new Le(l.error,"failed to get signatures for address");return l.result}async getAddressLookupTable(t,n){const{context:i,value:c}=await this.getAccountInfoAndContext(t,n);let o=null;return c!==null&&(o=new S0({key:t,state:S0.deserialize(c.data)})),{context:i,value:o}}async getNonceAndContext(t,n){const{context:i,value:c}=await this.getAccountInfoAndContext(t,n);let o=null;return c!==null&&(o=Ql.fromAccountData(c.data)),{context:i,value:o}}async getNonce(t,n){return await this.getNonceAndContext(t,n).then(i=>i.value).catch(i=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+i)})}async requestAirdrop(t,n){const i=await this._rpcRequest("requestAirdrop",[t.toBase58(),n]),c=Te(i,rN);if("error"in c)throw new Le(c.error,`airdrop to ${t.toBase58()} failed`);return c.result}async _blockhashWithExpiryBlockHeight(t){if(!t){for(;this._pollingBlockhash;)await Vs(100);const i=Date.now()-this._blockhashInfo.lastFetch>=v_;if(this._blockhashInfo.latestBlockhash!==null&&!i)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const t=Date.now(),n=this._blockhashInfo.latestBlockhash,i=n?n.blockhash:null;for(let c=0;c<50;c++){const o=await this.getLatestBlockhash("finalized");if(i!==o.blockhash)return this._blockhashInfo={latestBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;await Vs(y_/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(t){const{commitment:n,config:i}=Bt(t),c=this._buildArgs([],n,"base64",i),o=await this._rpcRequest("getStakeMinimumDelegation",c),l=Te(o,dn(ue()));if("error"in l)throw new Le(l.error,"failed to get stake minimum delegation");return l.result}async simulateTransaction(t,n,i){if("message"in t){const U=t.serialize(),z=Ce.Buffer.from(U).toString("base64");if(Array.isArray(n)||i!==void 0)throw new Error("Invalid arguments");const j=n||{};j.encoding="base64","commitment"in j||(j.commitment=this.commitment),n&&typeof n=="object"&&"innerInstructions"in n&&(j.innerInstructions=n.innerInstructions);const F=[z,j],V=await this._rpcRequest("simulateTransaction",F),$=Te(V,lb);if("error"in $)throw new Error("failed to simulate transaction: "+$.error.message);return $.result}let c;if(t instanceof pt){let M=t;c=new pt,c.feePayer=M.feePayer,c.instructions=t.instructions,c.nonceInfo=M.nonceInfo,c.signatures=M.signatures}else c=pt.populate(t),c._message=c._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const o=n;if(c.nonceInfo&&o)c.sign(...o);else{let M=this._disableBlockhashCaching;for(;;){const U=await this._blockhashWithExpiryBlockHeight(M);if(c.lastValidBlockHeight=U.lastValidBlockHeight,c.recentBlockhash=U.blockhash,!o)break;if(c.sign(...o),!c.signature)throw new Error("!signature");const z=c.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(z)&&!this._blockhashInfo.transactionSignatures.includes(z)){this._blockhashInfo.simulatedSignatures.push(z);break}else M=!0}}const l=c._compile(),d=l.serialize(),w=c._serialize(d).toString("base64"),E={encoding:"base64",commitment:this.commitment};if(i){const M=(Array.isArray(i)?i:l.nonProgramIds()).map(U=>U.toBase58());E.accounts={encoding:"base64",addresses:M}}o&&(E.sigVerify=!0),n&&typeof n=="object"&&"innerInstructions"in n&&(E.innerInstructions=n.innerInstructions);const I=[w,E],k=await this._rpcRequest("simulateTransaction",I),R=Te(k,lb);if("error"in R){let M;if("data"in R.error&&(M=R.error.data.logs,M&&Array.isArray(M))){const U=`
    `,z=U+M.join(U);console.error(R.error.message,z)}throw new bs({action:"simulate",signature:"",transactionMessage:R.error.message,logs:M})}return R.result}async sendTransaction(t,n,i){if("version"in t){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const l=t.serialize();return await this.sendRawTransaction(l,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const c=n;if(t.nonceInfo)t.sign(...c);else{let l=this._disableBlockhashCaching;for(;;){const d=await this._blockhashWithExpiryBlockHeight(l);if(t.lastValidBlockHeight=d.lastValidBlockHeight,t.recentBlockhash=d.blockhash,t.sign(...c),!t.signature)throw new Error("!signature");const g=t.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(g))l=!0;else{this._blockhashInfo.transactionSignatures.push(g);break}}}const o=t.serialize();return await this.sendRawTransaction(o,i)}async sendRawTransaction(t,n){const i=rt(t).toString("base64");return await this.sendEncodedTransaction(i,n)}async sendEncodedTransaction(t,n){const i={encoding:"base64"},c=n&&n.skipPreflight,o=c===!0?"processed":n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(i.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(i.minContextSlot=n.minContextSlot),c&&(i.skipPreflight=c),o&&(i.preflightCommitment=o);const l=[t,i],d=await this._rpcRequest("sendTransaction",l),g=Te(d,iN);if("error"in g){let w;throw"data"in g.error&&(w=g.error.data.logs),new bs({action:c?"send":"simulate",signature:"",transactionMessage:g.error.message,logs:w})}return g.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1,console.error("ws error:",t.message)}_wsOnClose(t){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),t===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,i])=>{this._setSubscription(n,{...i,state:"pending"})})}_setSubscription(t,n){const i=this._subscriptionsByHash[t]?.state;if(this._subscriptionsByHash[t]=n,i!==n.state){const c=this._subscriptionStateChangeCallbacksByHash[t];c&&c.forEach(o=>{try{o(n.state)}catch{}})}}_onSubscriptionStateChange(t,n){const i=this._subscriptionHashByClientSubscriptionId[t];if(i==null)return()=>{};const c=this._subscriptionStateChangeCallbacksByHash[i]||=new Set;return c.add(n),()=>{c.delete(n),c.size===0&&delete this._subscriptionStateChangeCallbacksByHash[i]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(i){i instanceof Error&&console.log(`Error when closing socket connection: ${i.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const t=this._rpcWebSocketGeneration,n=()=>t===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async i=>{const c=this._subscriptionsByHash[i];if(c!==void 0)switch(c.state){case"pending":case"unsubscribed":if(c.callbacks.size===0){delete this._subscriptionsByHash[i],c.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[c.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:o,method:l}=c;try{this._setSubscription(i,{...c,state:"subscribing"});const d=await this._rpcWebSocket.call(l,o);this._setSubscription(i,{...c,serverSubscriptionId:d,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[d]=c.callbacks,await this._updateSubscriptions()}catch(d){if(console.error(`Received ${d instanceof Error?"":"JSON-RPC "}error calling \`${l}\``,{args:o,error:d}),!n())return;this._setSubscription(i,{...c,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":c.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:o,unsubscribeMethod:l}=c;if(this._subscriptionsAutoDisposedByRpc.has(o))this._subscriptionsAutoDisposedByRpc.delete(o);else{this._setSubscription(i,{...c,state:"unsubscribing"}),this._setSubscription(i,{...c,state:"unsubscribing"});try{await this._rpcWebSocket.call(l,[o])}catch(d){if(d instanceof Error&&console.error(`${l} error:`,d.message),!n())return;this._setSubscription(i,{...c,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(i,{...c,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(t,n){const i=this._subscriptionCallbacksByServerSubscriptionId[t];i!==void 0&&i.forEach(c=>{try{c(...n)}catch(o){console.error(o)}})}_wsOnAccountNotification(t){const{result:n,subscription:i}=Te(t,OO);this._handleServerNotification(i,[n.value,n.context])}_makeSubscription(t,n){const i=this._nextClientSubscriptionId++,c=ob([t.method,n]),o=this._subscriptionsByHash[c];return o===void 0?this._subscriptionsByHash[c]={...t,args:n,callbacks:new Set([t.callback]),state:"pending"}:o.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[i]=c,this._subscriptionDisposeFunctionsByClientSubscriptionId[i]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[i],delete this._subscriptionHashByClientSubscriptionId[i];const l=this._subscriptionsByHash[c];gt(l!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${i}`),l.callbacks.delete(t.callback),await this._updateSubscriptions()},this._updateSubscriptions(),i}onAccountChange(t,n,i){const{commitment:c,config:o}=Bt(i),l=this._buildArgs([t.toBase58()],c||this._commitment||"finalized","base64",o);return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},l)}async removeAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"account change")}_wsOnProgramAccountNotification(t){const{result:n,subscription:i}=Te(t,kO);this._handleServerNotification(i,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(t,n,i,c){const{commitment:o,config:l}=Bt(i),d=this._buildArgs([t.toBase58()],o||this._commitment||"finalized","base64",l||(c?{filters:ub(c)}:void 0));return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},d)}async removeProgramAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"program account change")}onLogs(t,n,i){const c=this._buildArgs([typeof t=="object"?{mentions:[t.toString()]}:t],i||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},c)}async removeOnLogsListener(t){await this._unsubscribeClientSubscription(t,"logs")}_wsOnLogsNotification(t){const{result:n,subscription:i}=Te(t,aN);this._handleServerNotification(i,[n.value,n.context])}_wsOnSlotNotification(t){const{result:n,subscription:i}=Te(t,CO);this._handleServerNotification(i,[n])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(t){await this._unsubscribeClientSubscription(t,"slot change")}_wsOnSlotUpdatesNotification(t){const{result:n,subscription:i}=Te(t,MO);this._handleServerNotification(i,[n])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(t){await this._unsubscribeClientSubscription(t,"slot update")}async _unsubscribeClientSubscription(t,n){const i=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];i?await i():console.warn(`Ignored unsubscribe request because an active subscription with id \`${t}\` for '${n}' events could not be found.`)}_buildArgs(t,n,i,c){const o=n||this._commitment;if(o||i||c){let l={};i&&(l.encoding=i),o&&(l.commitment=o),c&&(l=Object.assign(l,c)),t.push(l)}return t}_buildArgsAtLeastConfirmed(t,n,i,c){const o=n||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,n,i,c)}_wsOnSignatureNotification(t){const{result:n,subscription:i}=Te(t,UO);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(i),this._handleServerNotification(i,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(t,n,i){const c=this._buildArgs([t],i||this._commitment||"finalized"),o=this._makeSubscription({callback:(l,d)=>{if(l.type==="status"){n(l.result,d);try{this.removeSignatureListener(o)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},c);return o}onSignatureWithOptions(t,n,i){const{commitment:c,...o}={...i,commitment:i&&i.commitment||this._commitment||"finalized"},l=this._buildArgs([t],c,void 0,o),d=this._makeSubscription({callback:(g,w)=>{n(g,w);try{this.removeSignatureListener(d)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},l);return d}async removeSignatureListener(t){await this._unsubscribeClientSubscription(t,"signature result")}_wsOnRootNotification(t){const{result:n,subscription:i}=Te(t,DO);this._handleServerNotification(i,[n])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(t){await this._unsubscribeClientSubscription(t,"root change")}}class so{constructor(t){this._keypair=void 0,this._keypair=t??rb()}static generate(){return new so(rb())}static fromSecretKey(t,n){if(t.byteLength!==64)throw new Error("bad secret key size");const i=t.slice(32,64);if(!n||!n.skipValidation){const c=t.slice(0,32),o=Dl(c);for(let l=0;l<32;l++)if(i[l]!==o[l])throw new Error("provided secretKey is invalid")}return new so({publicKey:i,secretKey:t})}static fromSeed(t){const n=Dl(t),i=new Uint8Array(64);return i.set(t),i.set(n,32),new so({publicKey:n,secretKey:i})}get publicKey(){return new ve(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Ai=Object.freeze({CreateLookupTable:{index:0,layout:Q.struct([Q.u32("instruction"),ho("recentSlot"),Q.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:Q.struct([Q.u32("instruction")])},ExtendLookupTable:{index:2,layout:Q.struct([Q.u32("instruction"),ho(),Q.seq(ot(),Q.offset(Q.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Q.struct([Q.u32("instruction")])},CloseLookupTable:{index:4,layout:Q.struct([Q.u32("instruction")])}});class cN{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const i=Q.u32("instruction").decode(t.data);let c;for(const[o,l]of Object.entries(Ai))if(l.index==i){c=o;break}if(!c)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return c}static decodeCreateLookupTable(t){this.checkProgramId(t.programId),this.checkKeysLength(t.keys,4);const{recentSlot:n}=vt(Ai.CreateLookupTable,t.data);return{authority:t.keys[1].pubkey,payer:t.keys[2].pubkey,recentSlot:Number(n)}}static decodeExtendLookupTable(t){if(this.checkProgramId(t.programId),t.keys.length<2)throw new Error(`invalid instruction; found ${t.keys.length} keys, expected at least 2`);const{addresses:n}=vt(Ai.ExtendLookupTable,t.data);return{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey,payer:t.keys.length>2?t.keys[2].pubkey:void 0,addresses:n.map(i=>new ve(i))}}static decodeCloseLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,3),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey,recipient:t.keys[2].pubkey}}static decodeFreezeLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,2),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey}}static decodeDeactivateLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,2),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey}}static checkProgramId(t){if(!t.equals(pp.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(t,n){if(t.length<n)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${n}`)}}class pp{constructor(){}static createLookupTable(t){const[n,i]=ve.findProgramAddressSync([t.authority.toBuffer(),Yw().encode(t.recentSlot)],this.programId),c=Ai.CreateLookupTable,o=ht(c,{recentSlot:BigInt(t.recentSlot),bumpSeed:i}),l=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:hn.programId,isSigner:!1,isWritable:!1}];return[new Rt({programId:this.programId,keys:l,data:o}),n]}static freezeLookupTable(t){const n=Ai.FreezeLookupTable,i=ht(n),c=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new Rt({programId:this.programId,keys:c,data:i})}static extendLookupTable(t){const n=Ai.ExtendLookupTable,i=ht(n,{addresses:t.addresses.map(o=>o.toBytes())}),c=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return t.payer&&c.push({pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:hn.programId,isSigner:!1,isWritable:!1}),new Rt({programId:this.programId,keys:c,data:i})}static deactivateLookupTable(t){const n=Ai.DeactivateLookupTable,i=ht(n),c=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new Rt({programId:this.programId,keys:c,data:i})}static closeLookupTable(t){const n=Ai.CloseLookupTable,i=ht(n),c=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.recipient,isSigner:!1,isWritable:!0}];return new Rt({programId:this.programId,keys:c,data:i})}}pp.programId=new ve("AddressLookupTab1e1111111111111111111111111");class uN{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const i=Q.u8("instruction").decode(t.data);let c;for(const[o,l]of Object.entries(Vr))if(l.index==i){c=o;break}if(!c)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return c}static decodeRequestUnits(t){this.checkProgramId(t.programId);const{units:n,additionalFee:i}=vt(Vr.RequestUnits,t.data);return{units:n,additionalFee:i}}static decodeRequestHeapFrame(t){this.checkProgramId(t.programId);const{bytes:n}=vt(Vr.RequestHeapFrame,t.data);return{bytes:n}}static decodeSetComputeUnitLimit(t){this.checkProgramId(t.programId);const{units:n}=vt(Vr.SetComputeUnitLimit,t.data);return{units:n}}static decodeSetComputeUnitPrice(t){this.checkProgramId(t.programId);const{microLamports:n}=vt(Vr.SetComputeUnitPrice,t.data);return{microLamports:n}}static checkProgramId(t){if(!t.equals(mp.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const Vr=Object.freeze({RequestUnits:{index:0,layout:Q.struct([Q.u8("instruction"),Q.u32("units"),Q.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:Q.struct([Q.u8("instruction"),Q.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:Q.struct([Q.u8("instruction"),Q.u32("units")])},SetComputeUnitPrice:{index:3,layout:Q.struct([Q.u8("instruction"),ho("microLamports")])}});class mp{constructor(){}static requestUnits(t){const n=Vr.RequestUnits,i=ht(n,t);return new Rt({keys:[],programId:this.programId,data:i})}static requestHeapFrame(t){const n=Vr.RequestHeapFrame,i=ht(n,t);return new Rt({keys:[],programId:this.programId,data:i})}static setComputeUnitLimit(t){const n=Vr.SetComputeUnitLimit,i=ht(n,t);return new Rt({keys:[],programId:this.programId,data:i})}static setComputeUnitPrice(t){const n=Vr.SetComputeUnitPrice,i=ht(n,{microLamports:BigInt(t.microLamports)});return new Rt({keys:[],programId:this.programId,data:i})}}mp.programId=new ve("ComputeBudget111111111111111111111111111111");const hb=64,pb=32,mb=64,yb=Q.struct([Q.u8("numSignatures"),Q.u8("padding"),Q.u16("signatureOffset"),Q.u16("signatureInstructionIndex"),Q.u16("publicKeyOffset"),Q.u16("publicKeyInstructionIndex"),Q.u16("messageDataOffset"),Q.u16("messageDataSize"),Q.u16("messageInstructionIndex")]);class tf{constructor(){}static createInstructionWithPublicKey(t){const{publicKey:n,message:i,signature:c,instructionIndex:o}=t;gt(n.length===pb,`Public Key must be ${pb} bytes but received ${n.length} bytes`),gt(c.length===mb,`Signature must be ${mb} bytes but received ${c.length} bytes`);const l=yb.span,d=l+n.length,g=d+c.length,w=1,E=Ce.Buffer.alloc(g+i.length),I=o??65535;return yb.encode({numSignatures:w,padding:0,signatureOffset:d,signatureInstructionIndex:I,publicKeyOffset:l,publicKeyInstructionIndex:I,messageDataOffset:g,messageDataSize:i.length,messageInstructionIndex:I},E),E.fill(n,l),E.fill(c,d),E.fill(i,g),new Rt({keys:[],programId:tf.programId,data:E})}static createInstructionWithPrivateKey(t){const{privateKey:n,message:i,instructionIndex:c}=t;gt(n.length===hb,`Private key must be ${hb} bytes but received ${n.length} bytes`);try{const o=so.fromSecretKey(n),l=o.publicKey.toBytes(),d=rp(i,o.secretKey);return this.createInstructionWithPublicKey({publicKey:l,message:i,signature:d,instructionIndex:c})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}}tf.programId=new ve("Ed25519SigVerify111111111111111111111111111");const lN=(s,t)=>{const n=np.sign(s,t);return[n.toCompactRawBytes(),n.recovery]};np.utils.isValidPrivateKey;const fN=np.getPublicKey,gb=32,$h=20,bb=64,dN=11,Qh=Q.struct([Q.u8("numSignatures"),Q.u16("signatureOffset"),Q.u8("signatureInstructionIndex"),Q.u16("ethAddressOffset"),Q.u8("ethAddressInstructionIndex"),Q.u16("messageDataOffset"),Q.u16("messageDataSize"),Q.u8("messageInstructionIndex"),Q.blob(20,"ethAddress"),Q.blob(64,"signature"),Q.u8("recoveryId")]);class ao{constructor(){}static publicKeyToEthAddress(t){gt(t.length===bb,`Public key must be ${bb} bytes but received ${t.length} bytes`);try{return Ce.Buffer.from(eb(rt(t))).slice(-$h)}catch(n){throw new Error(`Error constructing Ethereum address: ${n}`)}}static createInstructionWithPublicKey(t){const{publicKey:n,message:i,signature:c,recoveryId:o,instructionIndex:l}=t;return ao.createInstructionWithEthAddress({ethAddress:ao.publicKeyToEthAddress(n),message:i,signature:c,recoveryId:o,instructionIndex:l})}static createInstructionWithEthAddress(t){const{ethAddress:n,message:i,signature:c,recoveryId:o,instructionIndex:l=0}=t;let d;typeof n=="string"?n.startsWith("0x")?d=Ce.Buffer.from(n.substr(2),"hex"):d=Ce.Buffer.from(n,"hex"):d=n,gt(d.length===$h,`Address must be ${$h} bytes but received ${d.length} bytes`);const g=1+dN,w=g,E=g+d.length,I=E+c.length+1,k=1,R=Ce.Buffer.alloc(Qh.span+i.length);return Qh.encode({numSignatures:k,signatureOffset:E,signatureInstructionIndex:l,ethAddressOffset:w,ethAddressInstructionIndex:l,messageDataOffset:I,messageDataSize:i.length,messageInstructionIndex:l,signature:rt(c),ethAddress:rt(d),recoveryId:o},R),R.fill(rt(i),Qh.span),new Rt({keys:[],programId:ao.programId,data:R})}static createInstructionWithPrivateKey(t){const{privateKey:n,message:i,instructionIndex:c}=t;gt(n.length===gb,`Private key must be ${gb} bytes but received ${n.length} bytes`);try{const o=rt(n),l=fN(o,!1).slice(1),d=Ce.Buffer.from(eb(rt(i))),[g,w]=lN(d,o);return this.createInstructionWithPublicKey({publicKey:l,message:i,signature:g,recoveryId:w,instructionIndex:c})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}}ao.programId=new ve("KeccakSecp256k11111111111111111111111111111");var I_;const C_=new ve("StakeConfig11111111111111111111111111111111");class B_{constructor(t,n){this.staker=void 0,this.withdrawer=void 0,this.staker=t,this.withdrawer=n}}class Hc{constructor(t,n,i){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=n,this.custodian=i}}I_=Hc;Hc.default=new I_(0,0,ve.default);class hN{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const i=Q.u32("instruction").decode(t.data);let c;for(const[o,l]of Object.entries(Sn))if(l.index==i){c=o;break}if(!c)throw new Error("Instruction type incorrect; not a StakeInstruction");return c}static decodeInitialize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{authorized:n,lockup:i}=vt(Sn.Initialize,t.data);return{stakePubkey:t.keys[0].pubkey,authorized:new B_(new ve(n.staker),new ve(n.withdrawer)),lockup:new Hc(i.unixTimestamp,i.epoch,new ve(i.custodian))}}static decodeDelegate(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,6),vt(Sn.Delegate,t.data),{stakePubkey:t.keys[0].pubkey,votePubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[5].pubkey}}static decodeAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{newAuthorized:n,stakeAuthorizationType:i}=vt(Sn.Authorize,t.data),c={stakePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey,newAuthorizedPubkey:new ve(n),stakeAuthorizationType:{index:i}};return t.keys.length>3&&(c.custodianPubkey=t.keys[3].pubkey),c}static decodeAuthorizeWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{newAuthorized:n,stakeAuthorizationType:i,authoritySeed:c,authorityOwner:o}=vt(Sn.AuthorizeWithSeed,t.data),l={stakePubkey:t.keys[0].pubkey,authorityBase:t.keys[1].pubkey,authoritySeed:c,authorityOwner:new ve(o),newAuthorizedPubkey:new ve(n),stakeAuthorizationType:{index:i}};return t.keys.length>3&&(l.custodianPubkey=t.keys[3].pubkey),l}static decodeSplit(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{lamports:n}=vt(Sn.Split,t.data);return{stakePubkey:t.keys[0].pubkey,splitStakePubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[2].pubkey,lamports:n}}static decodeMerge(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),vt(Sn.Merge,t.data),{stakePubkey:t.keys[0].pubkey,sourceStakePubKey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey}}static decodeWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,5);const{lamports:n}=vt(Sn.Withdraw,t.data),i={stakePubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey,lamports:n};return t.keys.length>5&&(i.custodianPubkey=t.keys[5].pubkey),i}static decodeDeactivate(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),vt(Sn.Deactivate,t.data),{stakePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey}}static checkProgramId(t){if(!t.equals(nf.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(t,n){if(t.length<n)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${n}`)}}const Sn=Object.freeze({Initialize:{index:0,layout:Q.struct([Q.u32("instruction"),bT(),wT()])},Authorize:{index:1,layout:Q.struct([Q.u32("instruction"),ot("newAuthorized"),Q.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:Q.struct([Q.u32("instruction")])},Split:{index:3,layout:Q.struct([Q.u32("instruction"),Q.ns64("lamports")])},Withdraw:{index:4,layout:Q.struct([Q.u32("instruction"),Q.ns64("lamports")])},Deactivate:{index:5,layout:Q.struct([Q.u32("instruction")])},Merge:{index:7,layout:Q.struct([Q.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:Q.struct([Q.u32("instruction"),ot("newAuthorized"),Q.u32("stakeAuthorizationType"),Zs("authoritySeed"),ot("authorityOwner")])}}),pN=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class nf{constructor(){}static initialize(t){const{stakePubkey:n,authorized:i,lockup:c}=t,o=c||Hc.default,l=Sn.Initialize,d=ht(l,{authorized:{staker:rt(i.staker.toBuffer()),withdrawer:rt(i.withdrawer.toBuffer())},lockup:{unixTimestamp:o.unixTimestamp,epoch:o.epoch,custodian:rt(o.custodian.toBuffer())}}),g={keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:fo,isSigner:!1,isWritable:!1}],programId:this.programId,data:d};return new Rt(g)}static createAccountWithSeed(t){const n=new pt;n.add(hn.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:this.space,programId:this.programId}));const{stakePubkey:i,authorized:c,lockup:o}=t;return n.add(this.initialize({stakePubkey:i,authorized:c,lockup:o}))}static createAccount(t){const n=new pt;n.add(hn.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,lamports:t.lamports,space:this.space,programId:this.programId}));const{stakePubkey:i,authorized:c,lockup:o}=t;return n.add(this.initialize({stakePubkey:i,authorized:c,lockup:o}))}static delegate(t){const{stakePubkey:n,authorizedPubkey:i,votePubkey:c}=t,o=Sn.Delegate,l=ht(o);return new pt().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:qr,isSigner:!1,isWritable:!1},{pubkey:Sl,isSigner:!1,isWritable:!1},{pubkey:C_,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:l})}static authorize(t){const{stakePubkey:n,authorizedPubkey:i,newAuthorizedPubkey:c,stakeAuthorizationType:o,custodianPubkey:l}=t,d=Sn.Authorize,g=ht(d,{newAuthorized:rt(c.toBuffer()),stakeAuthorizationType:o.index}),w=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:qr,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1}];return l&&w.push({pubkey:l,isSigner:!0,isWritable:!1}),new pt().add({keys:w,programId:this.programId,data:g})}static authorizeWithSeed(t){const{stakePubkey:n,authorityBase:i,authoritySeed:c,authorityOwner:o,newAuthorizedPubkey:l,stakeAuthorizationType:d,custodianPubkey:g}=t,w=Sn.AuthorizeWithSeed,E=ht(w,{newAuthorized:rt(l.toBuffer()),stakeAuthorizationType:d.index,authoritySeed:c,authorityOwner:rt(o.toBuffer())}),I=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:qr,isSigner:!1,isWritable:!1}];return g&&I.push({pubkey:g,isSigner:!0,isWritable:!1}),new pt().add({keys:I,programId:this.programId,data:E})}static splitInstruction(t){const{stakePubkey:n,authorizedPubkey:i,splitStakePubkey:c,lamports:o}=t,l=Sn.Split,d=ht(l,{lamports:o});return new Rt({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:d})}static split(t,n){const i=new pt;return i.add(hn.createAccount({fromPubkey:t.authorizedPubkey,newAccountPubkey:t.splitStakePubkey,lamports:n,space:this.space,programId:this.programId})),i.add(this.splitInstruction(t))}static splitWithSeed(t,n){const{stakePubkey:i,authorizedPubkey:c,splitStakePubkey:o,basePubkey:l,seed:d,lamports:g}=t,w=new pt;return w.add(hn.allocate({accountPubkey:o,basePubkey:l,seed:d,space:this.space,programId:this.programId})),n&&n>0&&w.add(hn.transfer({fromPubkey:t.authorizedPubkey,toPubkey:o,lamports:n})),w.add(this.splitInstruction({stakePubkey:i,authorizedPubkey:c,splitStakePubkey:o,lamports:g}))}static merge(t){const{stakePubkey:n,sourceStakePubKey:i,authorizedPubkey:c}=t,o=Sn.Merge,l=ht(o);return new pt().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:qr,isSigner:!1,isWritable:!1},{pubkey:Sl,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!0,isWritable:!1}],programId:this.programId,data:l})}static withdraw(t){const{stakePubkey:n,authorizedPubkey:i,toPubkey:c,lamports:o,custodianPubkey:l}=t,d=Sn.Withdraw,g=ht(d,{lamports:o}),w=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:qr,isSigner:!1,isWritable:!1},{pubkey:Sl,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}];return l&&w.push({pubkey:l,isSigner:!0,isWritable:!1}),new pt().add({keys:w,programId:this.programId,data:g})}static deactivate(t){const{stakePubkey:n,authorizedPubkey:i}=t,c=Sn.Deactivate,o=ht(c);return new pt().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:qr,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}}nf.programId=new ve("Stake11111111111111111111111111111111111111");nf.space=200;class M_{constructor(t,n,i,c){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=t,this.authorizedVoter=n,this.authorizedWithdrawer=i,this.commission=c}}class mN{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const i=Q.u32("instruction").decode(t.data);let c;for(const[o,l]of Object.entries(Gr))if(l.index==i){c=o;break}if(!c)throw new Error("Instruction type incorrect; not a VoteInstruction");return c}static decodeInitializeAccount(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,4);const{voteInit:n}=vt(Gr.InitializeAccount,t.data);return{votePubkey:t.keys[0].pubkey,nodePubkey:t.keys[3].pubkey,voteInit:new M_(new ve(n.nodePubkey),new ve(n.authorizedVoter),new ve(n.authorizedWithdrawer),n.commission)}}static decodeAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{newAuthorized:n,voteAuthorizationType:i}=vt(Gr.Authorize,t.data);return{votePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey,newAuthorizedPubkey:new ve(n),voteAuthorizationType:{index:i}}}static decodeAuthorizeWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:i,newAuthorized:c,voteAuthorizationType:o}}=vt(Gr.AuthorizeWithSeed,t.data);return{currentAuthorityDerivedKeyBasePubkey:t.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new ve(n),currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:new ve(c),voteAuthorizationType:{index:o},votePubkey:t.keys[0].pubkey}}static decodeWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{lamports:n}=vt(Gr.Withdraw,t.data);return{votePubkey:t.keys[0].pubkey,authorizedWithdrawerPubkey:t.keys[2].pubkey,lamports:n,toPubkey:t.keys[1].pubkey}}static checkProgramId(t){if(!t.equals(wo.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(t,n){if(t.length<n)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${n}`)}}const Gr=Object.freeze({InitializeAccount:{index:0,layout:Q.struct([Q.u32("instruction"),_T()])},Authorize:{index:1,layout:Q.struct([Q.u32("instruction"),ot("newAuthorized"),Q.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:Q.struct([Q.u32("instruction"),Q.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:Q.struct([Q.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:Q.struct([Q.u32("instruction"),vT()])}}),yN=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class wo{constructor(){}static initializeAccount(t){const{votePubkey:n,nodePubkey:i,voteInit:c}=t,o=Gr.InitializeAccount,l=ht(o,{voteInit:{nodePubkey:rt(c.nodePubkey.toBuffer()),authorizedVoter:rt(c.authorizedVoter.toBuffer()),authorizedWithdrawer:rt(c.authorizedWithdrawer.toBuffer()),commission:c.commission}}),d={keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:fo,isSigner:!1,isWritable:!1},{pubkey:qr,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:l};return new Rt(d)}static createAccount(t){const n=new pt;return n.add(hn.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.votePubkey,lamports:t.lamports,space:this.space,programId:this.programId})),n.add(this.initializeAccount({votePubkey:t.votePubkey,nodePubkey:t.voteInit.nodePubkey,voteInit:t.voteInit}))}static authorize(t){const{votePubkey:n,authorizedPubkey:i,newAuthorizedPubkey:c,voteAuthorizationType:o}=t,l=Gr.Authorize,d=ht(l,{newAuthorized:rt(c.toBuffer()),voteAuthorizationType:o.index}),g=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:qr,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}];return new pt().add({keys:g,programId:this.programId,data:d})}static authorizeWithSeed(t){const{currentAuthorityDerivedKeyBasePubkey:n,currentAuthorityDerivedKeyOwnerPubkey:i,currentAuthorityDerivedKeySeed:c,newAuthorizedPubkey:o,voteAuthorizationType:l,votePubkey:d}=t,g=Gr.AuthorizeWithSeed,w=ht(g,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:rt(i.toBuffer()),currentAuthorityDerivedKeySeed:c,newAuthorized:rt(o.toBuffer()),voteAuthorizationType:l.index}}),E=[{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:qr,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new pt().add({keys:E,programId:this.programId,data:w})}static withdraw(t){const{votePubkey:n,authorizedWithdrawerPubkey:i,lamports:c,toPubkey:o}=t,l=Gr.Withdraw,d=ht(l,{lamports:c}),g=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1}];return new pt().add({keys:g,programId:this.programId,data:d})}static safeWithdraw(t,n,i){if(t.lamports>n-i)throw new Error("Withdraw will leave vote account with insufficient funds.");return wo.withdraw(t)}static updateValidatorIdentity(t){const{votePubkey:n,authorizedWithdrawerPubkey:i,nodePubkey:c}=t,o=Gr.UpdateValidatorIdentity,l=ht(o),d=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!0,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}];return new pt().add({keys:d,programId:this.programId,data:l})}}wo.programId=new ve("Vote111111111111111111111111111111111111111");wo.space=3762;const U_=new ve("Va1idator1nfo111111111111111111111111111111"),gN=Se({name:xe(),website:Pe(xe()),details:Pe(xe()),iconUrl:Pe(xe()),keybaseUsername:Pe(xe())});class yp{constructor(t,n){this.key=void 0,this.info=void 0,this.key=t,this.info=n}static fromConfigData(t){let n=[...t];if(Yn(n)!==2)return null;const c=[];for(let o=0;o<2;o++){const l=new ve(Zn(n,0,Yr)),d=Kr(n)===1;c.push({publicKey:l,isSigner:d})}if(c[0].publicKey.equals(U_)&&c[1].isSigner){const o=Zs().decode(Ce.Buffer.from(n)),l=JSON.parse(o);return Zw(l,gN),new yp(c[1].publicKey,l)}return null}}const bN=new ve("Vote111111111111111111111111111111111111111"),wN=Q.struct([ot("nodePubkey"),ot("authorizedWithdrawer"),Q.u8("commission"),Q.nu64(),Q.seq(Q.struct([Q.nu64("slot"),Q.u32("confirmationCount")]),Q.offset(Q.u32(),-8),"votes"),Q.u8("rootSlotValid"),Q.nu64("rootSlot"),Q.nu64(),Q.seq(Q.struct([Q.nu64("epoch"),ot("authorizedVoter")]),Q.offset(Q.u32(),-8),"authorizedVoters"),Q.struct([Q.seq(Q.struct([ot("authorizedPubkey"),Q.nu64("epochOfLastAuthorizedSwitch"),Q.nu64("targetEpoch")]),32,"buf"),Q.nu64("idx"),Q.u8("isEmpty")],"priorVoters"),Q.nu64(),Q.seq(Q.struct([Q.nu64("epoch"),Q.nu64("credits"),Q.nu64("prevCredits")]),Q.offset(Q.u32(),-8),"epochCredits"),Q.struct([Q.nu64("slot"),Q.nu64("timestamp")],"lastTimestamp")]);class gp{constructor(t){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=t.nodePubkey,this.authorizedWithdrawer=t.authorizedWithdrawer,this.commission=t.commission,this.rootSlot=t.rootSlot,this.votes=t.votes,this.authorizedVoters=t.authorizedVoters,this.priorVoters=t.priorVoters,this.epochCredits=t.epochCredits,this.lastTimestamp=t.lastTimestamp}static fromAccountData(t){const i=wN.decode(rt(t),4);let c=i.rootSlot;return i.rootSlotValid||(c=null),new gp({nodePubkey:new ve(i.nodePubkey),authorizedWithdrawer:new ve(i.authorizedWithdrawer),commission:i.commission,votes:i.votes,rootSlot:c,authorizedVoters:i.authorizedVoters.map(_N),priorVoters:vN(i.priorVoters),epochCredits:i.epochCredits,lastTimestamp:i.lastTimestamp})}}function _N({authorizedVoter:s,epoch:t}){return{epoch:t,authorizedVoter:new ve(s)}}function wb({authorizedPubkey:s,epochOfLastAuthorizedSwitch:t,targetEpoch:n}){return{authorizedPubkey:new ve(s),epochOfLastAuthorizedSwitch:t,targetEpoch:n}}function vN({buf:s,idx:t,isEmpty:n}){return n?[]:[...s.slice(t+1).map(wb),...s.slice(0,t).map(wb)]}const _b={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function D_(s,t){const n=t===!1?"http":"https";if(!s)return _b[n].devnet;const i=_b[n][s];if(!i)throw new Error(`Unknown ${n} cluster: ${s}`);return i}async function EN(s,t,n,i){let c,o;n&&Object.prototype.hasOwnProperty.call(n,"lastValidBlockHeight")||n&&Object.prototype.hasOwnProperty.call(n,"nonceValue")?(c=n,o=i):o=n;const l=o&&{skipPreflight:o.skipPreflight,preflightCommitment:o.preflightCommitment||o.commitment,minContextSlot:o.minContextSlot},d=await s.sendRawTransaction(t,l),g=o&&o.commitment,E=(await(c?s.confirmTransaction(c,g):s.confirmTransaction(d,g))).value;if(E.err)throw d!=null?new bs({action:l?.skipPreflight?"send":"simulate",signature:d,transactionMessage:`Status: (${JSON.stringify(E)})`}):new Error(`Raw transaction ${d} failed (${JSON.stringify(E)})`);return d}const T0=1e9,SN=Object.freeze(Object.defineProperty({__proto__:null,Account:mT,AddressLookupTableAccount:S0,AddressLookupTableInstruction:cN,AddressLookupTableProgram:pp,Authorized:B_,BLOCKHASH_CACHE_TIMEOUT_MS:v_,BPF_LOADER_DEPRECATED_PROGRAM_ID:yT,BPF_LOADER_PROGRAM_ID:MT,BpfLoader:UT,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:Vr,ComputeBudgetInstruction:uN,ComputeBudgetProgram:mp,Connection:hp,Ed25519Program:tf,Enum:hT,EpochSchedule:w_,FeeCalculatorLayout:g_,Keypair:so,LAMPORTS_PER_SOL:T0,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Ai,Loader:ea,Lockup:Hc,MAX_SEED_LENGTH:h_,Message:Nr,MessageAccountKeys:Oc,MessageV0:Js,NONCE_ACCOUNT_LENGTH:E0,NonceAccount:Ql,PACKET_DATA_SIZE:ps,PUBLIC_KEY_LENGTH:Yr,PublicKey:ve,SIGNATURE_LENGTH_IN_BYTES:Tc,SOLANA_SCHEMA:vc,STAKE_CONFIG_ID:C_,STAKE_INSTRUCTION_LAYOUTS:Sn,SYSTEM_INSTRUCTION_LAYOUTS:Mt,SYSVAR_CLOCK_PUBKEY:qr,SYSVAR_EPOCH_SCHEDULE_PUBKEY:xT,SYSVAR_INSTRUCTIONS_PUBKEY:TT,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:El,SYSVAR_RENT_PUBKEY:fo,SYSVAR_REWARDS_PUBKEY:OT,SYSVAR_SLOT_HASHES_PUBKEY:NT,SYSVAR_SLOT_HISTORY_PUBKEY:kT,SYSVAR_STAKE_HISTORY_PUBKEY:Sl,Secp256k1Program:ao,SendTransactionError:bs,SolanaJSONRPCError:Le,SolanaJSONRPCErrorCode:IT,StakeAuthorizationLayout:pN,StakeInstruction:hN,StakeProgram:nf,Struct:ip,SystemInstruction:CT,SystemProgram:hn,Transaction:pt,TransactionExpiredBlockheightExceededError:sp,TransactionExpiredNonceInvalidError:eo,TransactionExpiredTimeoutError:ap,TransactionInstruction:Rt,TransactionMessage:cp,TransactionStatus:_i,VALIDATOR_INFO_KEY:U_,VERSION_PREFIX_MASK:Wl,VOTE_PROGRAM_ID:bN,ValidatorInfo:yp,VersionedMessage:op,VersionedTransaction:up,VoteAccount:gp,VoteAuthorizationLayout:yN,VoteInit:M_,VoteInstruction:mN,VoteProgram:wo,clusterApiUrl:D_,sendAndConfirmRawTransaction:EN,sendAndConfirmTransaction:v0},Symbol.toStringTag,{value:"Module"}));function AN(s){if(s.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let w=0;w<t.length;w++)t[w]=255;for(let w=0;w<s.length;w++){const E=s.charAt(w),I=E.charCodeAt(0);if(t[I]!==255)throw new TypeError(E+" is ambiguous");t[I]=w}const n=s.length,i=s.charAt(0),c=Math.log(n)/Math.log(256),o=Math.log(256)/Math.log(n);function l(w){if(w instanceof Uint8Array||(ArrayBuffer.isView(w)?w=new Uint8Array(w.buffer,w.byteOffset,w.byteLength):Array.isArray(w)&&(w=Uint8Array.from(w))),!(w instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(w.length===0)return"";let E=0,I=0,k=0;const R=w.length;for(;k!==R&&w[k]===0;)k++,E++;const M=(R-k)*o+1>>>0,U=new Uint8Array(M);for(;k!==R;){let F=w[k],V=0;for(let $=M-1;(F!==0||V<I)&&$!==-1;$--,V++)F+=256*U[$]>>>0,U[$]=F%n>>>0,F=F/n>>>0;if(F!==0)throw new Error("Non-zero carry");I=V,k++}let z=M-I;for(;z!==M&&U[z]===0;)z++;let j=i.repeat(E);for(;z<M;++z)j+=s.charAt(U[z]);return j}function d(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return new Uint8Array;let E=0,I=0,k=0;for(;w[E]===i;)I++,E++;const R=(w.length-E)*c+1>>>0,M=new Uint8Array(R);for(;E<w.length;){const F=w.charCodeAt(E);if(F>255)return;let V=t[F];if(V===255)return;let $=0;for(let re=R-1;(V!==0||$<k)&&re!==-1;re--,$++)V+=n*M[re]>>>0,M[re]=V%256>>>0,V=V/256>>>0;if(V!==0)throw new Error("Non-zero carry");k=$,E++}let U=R-k;for(;U!==R&&M[U]===0;)U++;const z=new Uint8Array(I+(R-U));let j=I;for(;U!==R;)z[j++]=M[U++];return z}function g(w){const E=d(w);if(E)return E;throw new Error("Non-base"+n+" character")}return{encode:l,decodeUnsafe:d,decode:g}}var RN="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const xN=AN(RN);var Jh,vb;function TN(){if(vb)return Jh;vb=1;var s=X0().Buffer;function t(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var i=new Uint8Array(256),c=0;c<i.length;c++)i[c]=255;for(var o=0;o<n.length;o++){var l=n.charAt(o),d=l.charCodeAt(0);if(i[d]!==255)throw new TypeError(l+" is ambiguous");i[d]=o}var g=n.length,w=n.charAt(0),E=Math.log(g)/Math.log(256),I=Math.log(256)/Math.log(g);function k(U){if((Array.isArray(U)||U instanceof Uint8Array)&&(U=s.from(U)),!s.isBuffer(U))throw new TypeError("Expected Buffer");if(U.length===0)return"";for(var z=0,j=0,F=0,V=U.length;F!==V&&U[F]===0;)F++,z++;for(var $=(V-F)*I+1>>>0,re=new Uint8Array($);F!==V;){for(var oe=U[F],se=0,le=$-1;(oe!==0||se<j)&&le!==-1;le--,se++)oe+=256*re[le]>>>0,re[le]=oe%g>>>0,oe=oe/g>>>0;if(oe!==0)throw new Error("Non-zero carry");j=se,F++}for(var G=$-j;G!==$&&re[G]===0;)G++;for(var Z=w.repeat(z);G<$;++G)Z+=n.charAt(re[G]);return Z}function R(U){if(typeof U!="string")throw new TypeError("Expected String");if(U.length===0)return s.alloc(0);for(var z=0,j=0,F=0;U[z]===w;)j++,z++;for(var V=(U.length-z)*E+1>>>0,$=new Uint8Array(V);z<U.length;){var re=U.charCodeAt(z);if(re>255)return;var oe=i[re];if(oe===255)return;for(var se=0,le=V-1;(oe!==0||se<F)&&le!==-1;le--,se++)oe+=g*$[le]>>>0,$[le]=oe%256>>>0,oe=oe/256>>>0;if(oe!==0)throw new Error("Non-zero carry");F=se,z++}for(var G=V-F;G!==V&&$[G]===0;)G++;var Z=s.allocUnsafe(j+(V-G));Z.fill(0,0,j);for(var X=j;G!==V;)Z[X++]=$[G++];return Z}function M(U){var z=R(U);if(z)return z;throw new Error("Non-base"+g+" character")}return{encode:k,decodeUnsafe:R,decode:M}}return Jh=t,Jh}var e0,Eb;function ON(){if(Eb)return e0;Eb=1;var s=TN(),t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return e0=s(t),e0}var NN=ON();const rf=Ni(NN);var ll={exports:{}},Sb;function kN(){if(Sb)return ll.exports;Sb=1;const s=/[\p{Lu}]/u,t=/[\p{Ll}]/u,n=/^[\p{Lu}](?![\p{Lu}])/gu,i=/([\p{Alpha}\p{N}_]|$)/u,c=/[_.\- ]+/,o=new RegExp("^"+c.source),l=new RegExp(c.source+i.source,"gu"),d=new RegExp("\\d+"+i.source,"gu"),g=(k,R,M)=>{let U=!1,z=!1,j=!1;for(let F=0;F<k.length;F++){const V=k[F];U&&s.test(V)?(k=k.slice(0,F)+"-"+k.slice(F),U=!1,j=z,z=!0,F++):z&&j&&t.test(V)?(k=k.slice(0,F-1)+"-"+k.slice(F-1),j=z,z=!1,U=!0):(U=R(V)===V&&M(V)!==V,j=z,z=M(V)===V&&R(V)!==V)}return k},w=(k,R)=>(n.lastIndex=0,k.replace(n,M=>R(M))),E=(k,R)=>(l.lastIndex=0,d.lastIndex=0,k.replace(l,(M,U)=>R(U)).replace(d,M=>R(M))),I=(k,R)=>{if(!(typeof k=="string"||Array.isArray(k)))throw new TypeError("Expected the input to be `string | string[]`");if(R={pascalCase:!1,preserveConsecutiveUppercase:!1,...R},Array.isArray(k)?k=k.map(j=>j.trim()).filter(j=>j.length).join("-"):k=k.trim(),k.length===0)return"";const M=R.locale===!1?j=>j.toLowerCase():j=>j.toLocaleLowerCase(R.locale),U=R.locale===!1?j=>j.toUpperCase():j=>j.toLocaleUpperCase(R.locale);return k.length===1?R.pascalCase?U(k):M(k):(k!==M(k)&&(k=g(k,M,U)),k=k.replace(o,""),R.preserveConsecutiveUppercase?k=w(k,M):k=M(k),R.pascalCase&&(k=U(k.charAt(0))+k.slice(1)),E(k,U))};return ll.exports=I,ll.exports.default=I,ll.exports}var IN=kN();const CN=Ni(IN);var gc={},Be={},Ab;function Rb(){if(Ab)return Be;Ab=1;class s{constructor(v,m){if(!Number.isInteger(v))throw new TypeError("span must be an integer");this.span=v,this.property=m}makeDestinationObject(){return{}}decode(v,m){throw new Error("Layout is abstract")}encode(v,m,f){throw new Error("Layout is abstract")}getSpan(v,m){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(v){const m=Object.create(this.constructor.prototype);return Object.assign(m,this),m.property=v,m}fromArray(v){}}Be.Layout=s;function t(B,v){return v.property?B+"["+v.property+"]":B}Be.nameWithProperty=t;function n(B,v){if(typeof B!="function")throw new TypeError("Class must be constructor");if(B.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(v&&v instanceof s))throw new TypeError("layout must be a Layout");if(v.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");B.layout_=v,v.boundConstructor_=B,v.makeDestinationObject=(()=>new B),Object.defineProperty(B.prototype,"encode",{value:function(m,f){return v.encode(this,m,f)},writable:!0}),Object.defineProperty(B,"decode",{value:function(m,f){return v.decode(m,f)},writable:!0})}Be.bindConstructorLayout=n;class i extends s{isCount(){throw new Error("ExternalLayout is abstract")}}class c extends i{constructor(v,m){if(v===void 0&&(v=1),!Number.isInteger(v)||0>=v)throw new TypeError("elementSpan must be a (positive) integer");super(-1,m),this.elementSpan=v}isCount(){return!0}decode(v,m){m===void 0&&(m=0);const f=v.length-m;return Math.floor(f/this.elementSpan)}encode(v,m,f){return 0}}class o extends i{constructor(v,m,f){if(!(v instanceof s))throw new TypeError("layout must be a Layout");if(m===void 0)m=0;else if(!Number.isInteger(m))throw new TypeError("offset must be integer or undefined");super(v.span,f||v.property),this.layout=v,this.offset=m}isCount(){return this.layout instanceof l||this.layout instanceof d}decode(v,m){return m===void 0&&(m=0),this.layout.decode(v,m+this.offset)}encode(v,m,f){return f===void 0&&(f=0),this.layout.encode(v,m,f+this.offset)}}class l extends s{constructor(v,m){if(super(v,m),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(v,m){return m===void 0&&(m=0),v.readUIntLE(m,this.span)}encode(v,m,f){return f===void 0&&(f=0),m.writeUIntLE(v,f,this.span),this.span}}class d extends s{constructor(v,m){if(super(v,m),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(v,m){return m===void 0&&(m=0),v.readUIntBE(m,this.span)}encode(v,m,f){return f===void 0&&(f=0),m.writeUIntBE(v,f,this.span),this.span}}class g extends s{constructor(v,m){if(super(v,m),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(v,m){return m===void 0&&(m=0),v.readIntLE(m,this.span)}encode(v,m,f){return f===void 0&&(f=0),m.writeIntLE(v,f,this.span),this.span}}class w extends s{constructor(v,m){if(super(v,m),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(v,m){return m===void 0&&(m=0),v.readIntBE(m,this.span)}encode(v,m,f){return f===void 0&&(f=0),m.writeIntBE(v,f,this.span),this.span}}const E=Math.pow(2,32);function I(B){const v=Math.floor(B/E),m=B-v*E;return{hi32:v,lo32:m}}function k(B,v){return B*E+v}class R extends s{constructor(v){super(8,v)}decode(v,m){m===void 0&&(m=0);const f=v.readUInt32LE(m),y=v.readUInt32LE(m+4);return k(y,f)}encode(v,m,f){f===void 0&&(f=0);const y=I(v);return m.writeUInt32LE(y.lo32,f),m.writeUInt32LE(y.hi32,f+4),8}}class M extends s{constructor(v){super(8,v)}decode(v,m){m===void 0&&(m=0);const f=v.readUInt32BE(m),y=v.readUInt32BE(m+4);return k(f,y)}encode(v,m,f){f===void 0&&(f=0);const y=I(v);return m.writeUInt32BE(y.hi32,f),m.writeUInt32BE(y.lo32,f+4),8}}class U extends s{constructor(v){super(8,v)}decode(v,m){m===void 0&&(m=0);const f=v.readUInt32LE(m),y=v.readInt32LE(m+4);return k(y,f)}encode(v,m,f){f===void 0&&(f=0);const y=I(v);return m.writeUInt32LE(y.lo32,f),m.writeInt32LE(y.hi32,f+4),8}}class z extends s{constructor(v){super(8,v)}decode(v,m){m===void 0&&(m=0);const f=v.readInt32BE(m),y=v.readUInt32BE(m+4);return k(f,y)}encode(v,m,f){f===void 0&&(f=0);const y=I(v);return m.writeInt32BE(y.hi32,f),m.writeUInt32BE(y.lo32,f+4),8}}class j extends s{constructor(v){super(4,v)}decode(v,m){return m===void 0&&(m=0),v.readFloatLE(m)}encode(v,m,f){return f===void 0&&(f=0),m.writeFloatLE(v,f),4}}class F extends s{constructor(v){super(4,v)}decode(v,m){return m===void 0&&(m=0),v.readFloatBE(m)}encode(v,m,f){return f===void 0&&(f=0),m.writeFloatBE(v,f),4}}class V extends s{constructor(v){super(8,v)}decode(v,m){return m===void 0&&(m=0),v.readDoubleLE(m)}encode(v,m,f){return f===void 0&&(f=0),m.writeDoubleLE(v,f),8}}class $ extends s{constructor(v){super(8,v)}decode(v,m){return m===void 0&&(m=0),v.readDoubleBE(m)}encode(v,m,f){return f===void 0&&(f=0),m.writeDoubleBE(v,f),8}}class re extends s{constructor(v,m,f){if(!(v instanceof s))throw new TypeError("elementLayout must be a Layout");if(!(m instanceof i&&m.isCount()||Number.isInteger(m)&&0<=m))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let y=-1;!(m instanceof i)&&0<v.span&&(y=m*v.span),super(y,f),this.elementLayout=v,this.count=m}getSpan(v,m){if(0<=this.span)return this.span;m===void 0&&(m=0);let f=0,y=this.count;if(y instanceof i&&(y=y.decode(v,m)),0<this.elementLayout.span)f=y*this.elementLayout.span;else{let O=0;for(;O<y;)f+=this.elementLayout.getSpan(v,m+f),++O}return f}decode(v,m){m===void 0&&(m=0);const f=[];let y=0,O=this.count;for(O instanceof i&&(O=O.decode(v,m));y<O;)f.push(this.elementLayout.decode(v,m)),m+=this.elementLayout.getSpan(v,m),y+=1;return f}encode(v,m,f){f===void 0&&(f=0);const y=this.elementLayout,O=v.reduce((L,Y)=>L+y.encode(Y,m,f+L),0);return this.count instanceof i&&this.count.encode(v.length,m,f),O}}class oe extends s{constructor(v,m,f){if(!(Array.isArray(v)&&v.reduce((O,L)=>O&&L instanceof s,!0)))throw new TypeError("fields must be array of Layout instances");typeof m=="boolean"&&f===void 0&&(f=m,m=void 0);for(const O of v)if(0>O.span&&O.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let y=-1;try{y=v.reduce((O,L)=>O+L.getSpan(),0)}catch{}super(y,m),this.fields=v,this.decodePrefixes=!!f}getSpan(v,m){if(0<=this.span)return this.span;m===void 0&&(m=0);let f=0;try{f=this.fields.reduce((y,O)=>{const L=O.getSpan(v,m);return m+=L,y+L},0)}catch{throw new RangeError("indeterminate span")}return f}decode(v,m){m===void 0&&(m=0);const f=this.makeDestinationObject();for(const y of this.fields)if(y.property!==void 0&&(f[y.property]=y.decode(v,m)),m+=y.getSpan(v,m),this.decodePrefixes&&v.length===m)break;return f}encode(v,m,f){f===void 0&&(f=0);const y=f;let O=0,L=0;for(const Y of this.fields){let ne=Y.span;if(L=0<ne?ne:0,Y.property!==void 0){const ie=v[Y.property];ie!==void 0&&(L=Y.encode(ie,m,f),0>ne&&(ne=Y.getSpan(m,f)))}O=f,f+=ne}return O+L-y}fromArray(v){const m=this.makeDestinationObject();for(const f of this.fields)f.property!==void 0&&0<v.length&&(m[f.property]=v.shift());return m}layoutFor(v){if(typeof v!="string")throw new TypeError("property must be string");for(const m of this.fields)if(m.property===v)return m}offsetOf(v){if(typeof v!="string")throw new TypeError("property must be string");let m=0;for(const f of this.fields){if(f.property===v)return m;0>f.span?m=-1:0<=m&&(m+=f.span)}}}class se{constructor(v){this.property=v}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class le extends se{constructor(v,m){if(!(v instanceof i&&v.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(m||v.property||"variant"),this.layout=v}decode(v,m){return this.layout.decode(v,m)}encode(v,m,f){return this.layout.encode(v,m,f)}}class G extends s{constructor(v,m,f){const y=v instanceof l||v instanceof d;if(y)v=new le(new o(v));else if(v instanceof i&&v.isCount())v=new le(v);else if(!(v instanceof se))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(m===void 0&&(m=null),!(m===null||m instanceof s))throw new TypeError("defaultLayout must be null or a Layout");if(m!==null){if(0>m.span)throw new Error("defaultLayout must have constant span");m.property===void 0&&(m=m.replicate("content"))}let O=-1;m&&(O=m.span,0<=O&&y&&(O+=v.layout.span)),super(O,f),this.discriminator=v,this.usesPrefixDiscriminator=y,this.defaultLayout=m,this.registry={};let L=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(Y){return L(Y)},this.configGetSourceVariant=function(Y){L=Y.bind(this)}}getSpan(v,m){if(0<=this.span)return this.span;m===void 0&&(m=0);const f=this.getVariant(v,m);if(!f)throw new Error("unable to determine span for unrecognized variant");return f.getSpan(v,m)}defaultGetSourceVariant(v){if(v.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&v.hasOwnProperty(this.defaultLayout.property))return;const m=this.registry[v[this.discriminator.property]];if(m&&(!m.layout||v.hasOwnProperty(m.property)))return m}else for(const m in this.registry){const f=this.registry[m];if(v.hasOwnProperty(f.property))return f}throw new Error("unable to infer src variant")}decode(v,m){m===void 0&&(m=0);let f;const y=this.discriminator,O=y.decode(v,m);let L=this.registry[O];if(L===void 0){let Y=0;L=this.defaultLayout,this.usesPrefixDiscriminator&&(Y=y.layout.span),f=this.makeDestinationObject(),f[y.property]=O,f[L.property]=this.defaultLayout.decode(v,m+Y)}else f=L.decode(v,m);return f}encode(v,m,f){f===void 0&&(f=0);const y=this.getSourceVariant(v);if(y===void 0){const O=this.discriminator,L=this.defaultLayout;let Y=0;return this.usesPrefixDiscriminator&&(Y=O.layout.span),O.encode(v[O.property],m,f),Y+L.encode(v[L.property],m,f+Y)}return y.encode(v,m,f)}addVariant(v,m,f){const y=new Z(this,v,m,f);return this.registry[v]=y,y}getVariant(v,m){let f=v;return Buffer.isBuffer(v)&&(m===void 0&&(m=0),f=this.discriminator.decode(v,m)),this.registry[f]}}class Z extends s{constructor(v,m,f,y){if(!(v instanceof G))throw new TypeError("union must be a Union");if(!Number.isInteger(m)||0>m)throw new TypeError("variant must be a (non-negative) integer");if(typeof f=="string"&&y===void 0&&(y=f,f=null),f){if(!(f instanceof s))throw new TypeError("layout must be a Layout");if(v.defaultLayout!==null&&0<=f.span&&f.span>v.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof y!="string")throw new TypeError("variant must have a String property")}let O=v.span;0>v.span&&(O=f?f.span:0,0<=O&&v.usesPrefixDiscriminator&&(O+=v.discriminator.layout.span)),super(O,y),this.union=v,this.variant=m,this.layout=f||null}getSpan(v,m){if(0<=this.span)return this.span;m===void 0&&(m=0);let f=0;return this.union.usesPrefixDiscriminator&&(f=this.union.discriminator.layout.span),f+this.layout.getSpan(v,m+f)}decode(v,m){const f=this.makeDestinationObject();if(m===void 0&&(m=0),this!==this.union.getVariant(v,m))throw new Error("variant mismatch");let y=0;return this.union.usesPrefixDiscriminator&&(y=this.union.discriminator.layout.span),this.layout?f[this.property]=this.layout.decode(v,m+y):this.property?f[this.property]=!0:this.union.usesPrefixDiscriminator&&(f[this.union.discriminator.property]=this.variant),f}encode(v,m,f){f===void 0&&(f=0);let y=0;if(this.union.usesPrefixDiscriminator&&(y=this.union.discriminator.layout.span),this.layout&&!v.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,m,f);let O=y;if(this.layout&&(this.layout.encode(v[this.property],m,f+y),O+=this.layout.getSpan(m,f+y),0<=this.union.span&&O>this.union.span))throw new Error("encoded variant overruns containing union");return O}fromArray(v){if(this.layout)return this.layout.fromArray(v)}}function X(B){return 0>B&&(B+=4294967296),B}class W extends s{constructor(v,m,f){if(!(v instanceof l||v instanceof d))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof m=="string"&&f===void 0&&(f=m,m=void 0),4<v.span)throw new RangeError("word cannot exceed 32 bits");super(v.span,f),this.word=v,this.msb=!!m,this.fields=[];let y=0;this._packedSetValue=function(O){return y=X(O),this},this._packedGetValue=function(){return y}}decode(v,m){const f=this.makeDestinationObject();m===void 0&&(m=0);const y=this.word.decode(v,m);this._packedSetValue(y);for(const O of this.fields)O.property!==void 0&&(f[O.property]=O.decode(y));return f}encode(v,m,f){f===void 0&&(f=0);const y=this.word.decode(m,f);this._packedSetValue(y);for(const O of this.fields)if(O.property!==void 0){const L=v[O.property];L!==void 0&&O.encode(L)}return this.word.encode(this._packedGetValue(),m,f)}addField(v,m){const f=new x(this,v,m);return this.fields.push(f),f}addBoolean(v){const m=new h(this,v);return this.fields.push(m),m}fieldFor(v){if(typeof v!="string")throw new TypeError("property must be string");for(const m of this.fields)if(m.property===v)return m}}class x{constructor(v,m,f){if(!(v instanceof W))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(m)||0>=m)throw new TypeError("bits must be positive integer");const y=8*v.span,O=v.fields.reduce((L,Y)=>L+Y.bits,0);if(m+O>y)throw new Error("bits too long for span remainder ("+(y-O)+" of "+y+" remain)");this.container=v,this.bits=m,this.valueMask=(1<<m)-1,m===32&&(this.valueMask=4294967295),this.start=O,this.container.msb&&(this.start=y-O-m),this.wordMask=X(this.valueMask<<this.start),this.property=f}decode(){const v=this.container._packedGetValue();return X(v&this.wordMask)>>>this.start}encode(v){if(!Number.isInteger(v)||v!==X(v&this.valueMask))throw new TypeError(t("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const m=this.container._packedGetValue(),f=X(v<<this.start);this.container._packedSetValue(X(m&~this.wordMask)|f)}}class h extends x{constructor(v,m){super(v,1,m)}decode(v,m){return!!x.prototype.decode.call(this,v,m)}encode(v){return typeof v=="boolean"&&(v=+v),x.prototype.encode.call(this,v)}}class _ extends s{constructor(v,m){if(!(v instanceof i&&v.isCount()||Number.isInteger(v)&&0<=v))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let f=-1;v instanceof i||(f=v),super(f,m),this.length=v}getSpan(v,m){let f=this.span;return 0>f&&(f=this.length.decode(v,m)),f}decode(v,m){m===void 0&&(m=0);let f=this.span;return 0>f&&(f=this.length.decode(v,m)),v.slice(m,m+f)}encode(v,m,f){let y=this.length;if(this.length instanceof i&&(y=v.length),!(Buffer.isBuffer(v)&&y===v.length))throw new TypeError(t("Blob.encode",this)+" requires (length "+y+") Buffer as src");if(f+y>m.length)throw new RangeError("encoding overruns Buffer");return m.write(v.toString("hex"),f,y,"hex"),this.length instanceof i&&this.length.encode(y,m,f),y}}class S extends s{constructor(v){super(-1,v)}getSpan(v,m){if(!Buffer.isBuffer(v))throw new TypeError("b must be a Buffer");m===void 0&&(m=0);let f=m;for(;f<v.length&&v[f]!==0;)f+=1;return 1+f-m}decode(v,m,f){m===void 0&&(m=0);let y=this.getSpan(v,m);return v.slice(m,m+y-1).toString("utf-8")}encode(v,m,f){f===void 0&&(f=0),typeof v!="string"&&(v=v.toString());const y=new Buffer(v,"utf8"),O=y.length;if(f+O>m.length)throw new RangeError("encoding overruns Buffer");return y.copy(m,f),m[f+O]=0,O+1}}class C extends s{constructor(v,m){if(typeof v=="string"&&m===void 0&&(m=v,v=void 0),v===void 0)v=-1;else if(!Number.isInteger(v))throw new TypeError("maxSpan must be an integer");super(-1,m),this.maxSpan=v}getSpan(v,m){if(!Buffer.isBuffer(v))throw new TypeError("b must be a Buffer");return m===void 0&&(m=0),v.length-m}decode(v,m,f){m===void 0&&(m=0);let y=this.getSpan(v,m);if(0<=this.maxSpan&&this.maxSpan<y)throw new RangeError("text length exceeds maxSpan");return v.slice(m,m+y).toString("utf-8")}encode(v,m,f){f===void 0&&(f=0),typeof v!="string"&&(v=v.toString());const y=new Buffer(v,"utf8"),O=y.length;if(0<=this.maxSpan&&this.maxSpan<O)throw new RangeError("text length exceeds maxSpan");if(f+O>m.length)throw new RangeError("encoding overruns Buffer");return y.copy(m,f),O}}class D extends s{constructor(v,m){super(0,m),this.value=v}decode(v,m,f){return this.value}encode(v,m,f){return 0}}return Be.ExternalLayout=i,Be.GreedyCount=c,Be.OffsetLayout=o,Be.UInt=l,Be.UIntBE=d,Be.Int=g,Be.IntBE=w,Be.Float=j,Be.FloatBE=F,Be.Double=V,Be.DoubleBE=$,Be.Sequence=re,Be.Structure=oe,Be.UnionDiscriminator=se,Be.UnionLayoutDiscriminator=le,Be.Union=G,Be.VariantLayout=Z,Be.BitStructure=W,Be.BitField=x,Be.Boolean=h,Be.Blob=_,Be.CString=S,Be.UTF8=C,Be.Constant=D,Be.greedy=((B,v)=>new c(B,v)),Be.offset=((B,v,m)=>new o(B,v,m)),Be.u8=(B=>new l(1,B)),Be.u16=(B=>new l(2,B)),Be.u24=(B=>new l(3,B)),Be.u32=(B=>new l(4,B)),Be.u40=(B=>new l(5,B)),Be.u48=(B=>new l(6,B)),Be.nu64=(B=>new R(B)),Be.u16be=(B=>new d(2,B)),Be.u24be=(B=>new d(3,B)),Be.u32be=(B=>new d(4,B)),Be.u40be=(B=>new d(5,B)),Be.u48be=(B=>new d(6,B)),Be.nu64be=(B=>new M(B)),Be.s8=(B=>new g(1,B)),Be.s16=(B=>new g(2,B)),Be.s24=(B=>new g(3,B)),Be.s32=(B=>new g(4,B)),Be.s40=(B=>new g(5,B)),Be.s48=(B=>new g(6,B)),Be.ns64=(B=>new U(B)),Be.s16be=(B=>new w(2,B)),Be.s24be=(B=>new w(3,B)),Be.s32be=(B=>new w(4,B)),Be.s40be=(B=>new w(5,B)),Be.s48be=(B=>new w(6,B)),Be.ns64be=(B=>new z(B)),Be.f32=(B=>new j(B)),Be.f32be=(B=>new F(B)),Be.f64=(B=>new V(B)),Be.f64be=(B=>new $(B)),Be.struct=((B,v,m)=>new oe(B,v,m)),Be.bits=((B,v,m)=>new W(B,v,m)),Be.seq=((B,v,m)=>new re(B,v,m)),Be.union=((B,v,m)=>new G(B,v,m)),Be.unionLayoutDiscriminator=((B,v)=>new le(B,v)),Be.blob=((B,v)=>new _(B,v)),Be.cstr=(B=>new S(B)),Be.utf8=((B,v)=>new C(B,v)),Be.const=((B,v)=>new D(B,v)),Be}const BN=Kl(SN);var xb;function MN(){return xb||(xb=1,(function(s){var t=gc&&gc.__importDefault||function(W){return W&&W.__esModule?W:{default:W}};Object.defineProperty(s,"__esModule",{value:!0}),s.struct=s.f64=s.f32=s.i32=s.u32=s.i16=s.u16=s.i8=s.u8=void 0,s.u64=d,s.i64=g,s.u128=w,s.i128=E,s.u256=I,s.i256=k,s.publicKey=M,s.option=z,s.bool=j,s.vec=$,s.tagged=re,s.vecU8=oe,s.str=se,s.rustEnum=le,s.array=G,s.map=X;const n=Rb(),i=BN,c=t(Z0());var o=Rb();Object.defineProperty(s,"u8",{enumerable:!0,get:function(){return o.u8}}),Object.defineProperty(s,"i8",{enumerable:!0,get:function(){return o.s8}}),Object.defineProperty(s,"u16",{enumerable:!0,get:function(){return o.u16}}),Object.defineProperty(s,"i16",{enumerable:!0,get:function(){return o.s16}}),Object.defineProperty(s,"u32",{enumerable:!0,get:function(){return o.u32}}),Object.defineProperty(s,"i32",{enumerable:!0,get:function(){return o.s32}}),Object.defineProperty(s,"f32",{enumerable:!0,get:function(){return o.f32}}),Object.defineProperty(s,"f64",{enumerable:!0,get:function(){return o.f64}}),Object.defineProperty(s,"struct",{enumerable:!0,get:function(){return o.struct}});class l extends n.Layout{constructor(x,h,_){super(x,_),this.blob=(0,n.blob)(x),this.signed=h}decode(x,h=0){const _=new c.default(this.blob.decode(x,h),10,"le");return this.signed?_.fromTwos(this.span*8).clone():_}encode(x,h,_=0){return this.signed&&(x=x.toTwos(this.span*8)),this.blob.encode(x.toArrayLike(Buffer,"le",this.span),h,_)}}function d(W){return new l(8,!1,W)}function g(W){return new l(8,!0,W)}function w(W){return new l(16,!1,W)}function E(W){return new l(16,!0,W)}function I(W){return new l(32,!1,W)}function k(W){return new l(32,!0,W)}class R extends n.Layout{constructor(x,h,_,S){super(x.span,S),this.layout=x,this.decoder=h,this.encoder=_}decode(x,h){return this.decoder(this.layout.decode(x,h))}encode(x,h,_){return this.layout.encode(this.encoder(x),h,_)}getSpan(x,h){return this.layout.getSpan(x,h)}}function M(W){return new R((0,n.blob)(32),x=>new i.PublicKey(x),x=>x.toBuffer(),W)}class U extends n.Layout{constructor(x,h){super(-1,h),this.layout=x,this.discriminator=(0,n.u8)()}encode(x,h,_=0){return x==null?this.discriminator.encode(0,h,_):(this.discriminator.encode(1,h,_),this.layout.encode(x,h,_+1)+1)}decode(x,h=0){const _=this.discriminator.decode(x,h);if(_===0)return null;if(_===1)return this.layout.decode(x,h+1);throw new Error("Invalid option "+this.property)}getSpan(x,h=0){const _=this.discriminator.decode(x,h);if(_===0)return 1;if(_===1)return this.layout.getSpan(x,h+1)+1;throw new Error("Invalid option "+this.property)}}function z(W,x){return new U(W,x)}function j(W){return new R((0,n.u8)(),F,V,W)}function F(W){if(W===0)return!1;if(W===1)return!0;throw new Error("Invalid bool: "+W)}function V(W){return W?1:0}function $(W,x){const h=(0,n.u32)("length"),_=(0,n.struct)([h,(0,n.seq)(W,(0,n.offset)(h,-h.span),"values")]);return new R(_,({values:S})=>S,S=>({values:S}),x)}function re(W,x,h){const _=(0,n.struct)([d("tag"),x.replicate("data")]);function S({tag:C,data:D}){if(!C.eq(W))throw new Error("Invalid tag, expected: "+W.toString("hex")+", got: "+C.toString("hex"));return D}return new R(_,S,C=>({tag:W,data:C}),h)}function oe(W){const x=(0,n.u32)("length"),h=(0,n.struct)([x,(0,n.blob)((0,n.offset)(x,-x.span),"data")]);return new R(h,({data:_})=>_,_=>({data:_}),W)}function se(W){return new R(oe(),x=>x.toString("utf-8"),x=>Buffer.from(x,"utf-8"),W)}function le(W,x,h){const _=(0,n.union)(h??(0,n.u8)(),x);return W.forEach((S,C)=>_.addVariant(C,S,S.property)),_}function G(W,x,h){const _=(0,n.struct)([(0,n.seq)(W,x,"values")]);return new R(_,({values:S})=>S,S=>({values:S}),h)}class Z extends n.Layout{constructor(x,h,_){super(x.span+h.span,_),this.keyLayout=x,this.valueLayout=h}decode(x,h){h=h||0;const _=this.keyLayout.decode(x,h),S=this.valueLayout.decode(x,h+this.keyLayout.getSpan(x,h));return[_,S]}encode(x,h,_){_=_||0;const S=this.keyLayout.encode(x[0],h,_),C=this.valueLayout.encode(x[1],h,_+S);return S+C}getSpan(x,h){return this.keyLayout.getSpan(x,h)+this.valueLayout.getSpan(x,h)}}function X(W,x,h){const _=(0,n.u32)("length"),S=(0,n.struct)([_,(0,n.seq)(new Z(W,x),(0,n.offset)(_,-_.span),"values")]);return new R(S,({values:C})=>new Map(C),C=>({values:Array.from(C.entries())}),h)}})(gc)),gc}var tt=MN();function _o(s){let t=s.length;for(;--t>=0;)s[t]=0}const UN=3,DN=258,L_=29,LN=256,zN=LN+1+L_,z_=30,HN=512,jN=new Array((zN+2)*2);_o(jN);const qN=new Array(z_*2);_o(qN);const PN=new Array(HN);_o(PN);const KN=new Array(DN-UN+1);_o(KN);const VN=new Array(L_);_o(VN);const GN=new Array(z_);_o(GN);const FN=(s,t,n,i)=>{let c=s&65535|0,o=s>>>16&65535|0,l=0;for(;n!==0;){l=n>2e3?2e3:n,n-=l;do c=c+t[i++]|0,o=o+c|0;while(--l);c%=65521,o%=65521}return c|o<<16|0};var O0=FN;const YN=()=>{let s,t=[];for(var n=0;n<256;n++){s=n;for(var i=0;i<8;i++)s=s&1?3988292384^s>>>1:s>>>1;t[n]=s}return t},ZN=new Uint32Array(YN()),XN=(s,t,n,i)=>{const c=ZN,o=i+n;s^=-1;for(let l=i;l<o;l++)s=s>>>8^c[(s^t[l])&255];return s^-1};var jr=XN,N0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},H_={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const WN=(s,t)=>Object.prototype.hasOwnProperty.call(s,t);var $N=function(s){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const i in n)WN(n,i)&&(s[i]=n[i])}}return s},QN=s=>{let t=0;for(let i=0,c=s.length;i<c;i++)t+=s[i].length;const n=new Uint8Array(t);for(let i=0,c=0,o=s.length;i<o;i++){let l=s[i];n.set(l,c),c+=l.length}return n},j_={assign:$N,flattenChunks:QN};let q_=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{q_=!1}const kc=new Uint8Array(256);for(let s=0;s<256;s++)kc[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;kc[254]=kc[254]=1;var JN=s=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(s);let t,n,i,c,o,l=s.length,d=0;for(c=0;c<l;c++)n=s.charCodeAt(c),(n&64512)===55296&&c+1<l&&(i=s.charCodeAt(c+1),(i&64512)===56320&&(n=65536+(n-55296<<10)+(i-56320),c++)),d+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(d),o=0,c=0;o<d;c++)n=s.charCodeAt(c),(n&64512)===55296&&c+1<l&&(i=s.charCodeAt(c+1),(i&64512)===56320&&(n=65536+(n-55296<<10)+(i-56320),c++)),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|n&63):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|n&63):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|n&63);return t};const ek=(s,t)=>{if(t<65534&&s.subarray&&q_)return String.fromCharCode.apply(null,s.length===t?s:s.subarray(0,t));let n="";for(let i=0;i<t;i++)n+=String.fromCharCode(s[i]);return n};var tk=(s,t)=>{const n=t||s.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(s.subarray(0,t));let i,c;const o=new Array(n*2);for(c=0,i=0;i<n;){let l=s[i++];if(l<128){o[c++]=l;continue}let d=kc[l];if(d>4){o[c++]=65533,i+=d-1;continue}for(l&=d===2?31:d===3?15:7;d>1&&i<n;)l=l<<6|s[i++]&63,d--;if(d>1){o[c++]=65533;continue}l<65536?o[c++]=l:(l-=65536,o[c++]=55296|l>>10&1023,o[c++]=56320|l&1023)}return ek(o,c)},nk=(s,t)=>{t=t||s.length,t>s.length&&(t=s.length);let n=t-1;for(;n>=0&&(s[n]&192)===128;)n--;return n<0||n===0?t:n+kc[s[n]]>t?n:t},k0={string2buf:JN,buf2string:tk,utf8border:nk};function rk(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var ik=rk;const fl=16209,sk=16191;var ak=function(t,n){let i,c,o,l,d,g,w,E,I,k,R,M,U,z,j,F,V,$,re,oe,se,le,G,Z;const X=t.state;i=t.next_in,G=t.input,c=i+(t.avail_in-5),o=t.next_out,Z=t.output,l=o-(n-t.avail_out),d=o+(t.avail_out-257),g=X.dmax,w=X.wsize,E=X.whave,I=X.wnext,k=X.window,R=X.hold,M=X.bits,U=X.lencode,z=X.distcode,j=(1<<X.lenbits)-1,F=(1<<X.distbits)-1;e:do{M<15&&(R+=G[i++]<<M,M+=8,R+=G[i++]<<M,M+=8),V=U[R&j];t:for(;;){if($=V>>>24,R>>>=$,M-=$,$=V>>>16&255,$===0)Z[o++]=V&65535;else if($&16){re=V&65535,$&=15,$&&(M<$&&(R+=G[i++]<<M,M+=8),re+=R&(1<<$)-1,R>>>=$,M-=$),M<15&&(R+=G[i++]<<M,M+=8,R+=G[i++]<<M,M+=8),V=z[R&F];n:for(;;){if($=V>>>24,R>>>=$,M-=$,$=V>>>16&255,$&16){if(oe=V&65535,$&=15,M<$&&(R+=G[i++]<<M,M+=8,M<$&&(R+=G[i++]<<M,M+=8)),oe+=R&(1<<$)-1,oe>g){t.msg="invalid distance too far back",X.mode=fl;break e}if(R>>>=$,M-=$,$=o-l,oe>$){if($=oe-$,$>E&&X.sane){t.msg="invalid distance too far back",X.mode=fl;break e}if(se=0,le=k,I===0){if(se+=w-$,$<re){re-=$;do Z[o++]=k[se++];while(--$);se=o-oe,le=Z}}else if(I<$){if(se+=w+I-$,$-=I,$<re){re-=$;do Z[o++]=k[se++];while(--$);if(se=0,I<re){$=I,re-=$;do Z[o++]=k[se++];while(--$);se=o-oe,le=Z}}}else if(se+=I-$,$<re){re-=$;do Z[o++]=k[se++];while(--$);se=o-oe,le=Z}for(;re>2;)Z[o++]=le[se++],Z[o++]=le[se++],Z[o++]=le[se++],re-=3;re&&(Z[o++]=le[se++],re>1&&(Z[o++]=le[se++]))}else{se=o-oe;do Z[o++]=Z[se++],Z[o++]=Z[se++],Z[o++]=Z[se++],re-=3;while(re>2);re&&(Z[o++]=Z[se++],re>1&&(Z[o++]=Z[se++]))}}else if(($&64)===0){V=z[(V&65535)+(R&(1<<$)-1)];continue n}else{t.msg="invalid distance code",X.mode=fl;break e}break}}else if(($&64)===0){V=U[(V&65535)+(R&(1<<$)-1)];continue t}else if($&32){X.mode=sk;break e}else{t.msg="invalid literal/length code",X.mode=fl;break e}break}}while(i<c&&o<d);re=M>>3,i-=re,M-=re<<3,R&=(1<<M)-1,t.next_in=i,t.next_out=o,t.avail_in=i<c?5+(c-i):5-(i-c),t.avail_out=o<d?257+(d-o):257-(o-d),X.hold=R,X.bits=M};const Wa=15,Tb=852,Ob=592,Nb=0,t0=1,kb=2,ok=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ck=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),uk=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),lk=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),fk=(s,t,n,i,c,o,l,d)=>{const g=d.bits;let w=0,E=0,I=0,k=0,R=0,M=0,U=0,z=0,j=0,F=0,V,$,re,oe,se,le=null,G;const Z=new Uint16Array(Wa+1),X=new Uint16Array(Wa+1);let W=null,x,h,_;for(w=0;w<=Wa;w++)Z[w]=0;for(E=0;E<i;E++)Z[t[n+E]]++;for(R=g,k=Wa;k>=1&&Z[k]===0;k--);if(R>k&&(R=k),k===0)return c[o++]=1<<24|64<<16|0,c[o++]=1<<24|64<<16|0,d.bits=1,0;for(I=1;I<k&&Z[I]===0;I++);for(R<I&&(R=I),z=1,w=1;w<=Wa;w++)if(z<<=1,z-=Z[w],z<0)return-1;if(z>0&&(s===Nb||k!==1))return-1;for(X[1]=0,w=1;w<Wa;w++)X[w+1]=X[w]+Z[w];for(E=0;E<i;E++)t[n+E]!==0&&(l[X[t[n+E]]++]=E);if(s===Nb?(le=W=l,G=20):s===t0?(le=ok,W=ck,G=257):(le=uk,W=lk,G=0),F=0,E=0,w=I,se=o,M=R,U=0,re=-1,j=1<<R,oe=j-1,s===t0&&j>Tb||s===kb&&j>Ob)return 1;for(;;){x=w-U,l[E]+1<G?(h=0,_=l[E]):l[E]>=G?(h=W[l[E]-G],_=le[l[E]-G]):(h=96,_=0),V=1<<w-U,$=1<<M,I=$;do $-=V,c[se+(F>>U)+$]=x<<24|h<<16|_|0;while($!==0);for(V=1<<w-1;F&V;)V>>=1;if(V!==0?(F&=V-1,F+=V):F=0,E++,--Z[w]===0){if(w===k)break;w=t[n+l[E]]}if(w>R&&(F&oe)!==re){for(U===0&&(U=R),se+=I,M=w-U,z=1<<M;M+U<k&&(z-=Z[M+U],!(z<=0));)M++,z<<=1;if(j+=1<<M,s===t0&&j>Tb||s===kb&&j>Ob)return 1;re=F&oe,c[re]=R<<24|M<<16|se-o|0}}return F!==0&&(c[se+F]=w-U<<24|64<<16|0),d.bits=R,0};var Ec=fk;const dk=0,P_=1,K_=2,{Z_FINISH:Ib,Z_BLOCK:hk,Z_TREES:dl,Z_OK:ta,Z_STREAM_END:pk,Z_NEED_DICT:mk,Z_STREAM_ERROR:wr,Z_DATA_ERROR:V_,Z_MEM_ERROR:G_,Z_BUF_ERROR:yk,Z_DEFLATED:Cb}=H_,sf=16180,Bb=16181,Mb=16182,Ub=16183,Db=16184,Lb=16185,zb=16186,Hb=16187,jb=16188,qb=16189,zl=16190,wi=16191,n0=16192,Pb=16193,r0=16194,Kb=16195,Vb=16196,Gb=16197,Fb=16198,hl=16199,pl=16200,Yb=16201,Zb=16202,Xb=16203,Wb=16204,$b=16205,i0=16206,Qb=16207,Jb=16208,Ft=16209,F_=16210,Y_=16211,gk=852,bk=592,wk=15,_k=wk,ew=s=>(s>>>24&255)+(s>>>8&65280)+((s&65280)<<8)+((s&255)<<24);function vk(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const aa=s=>{if(!s)return 1;const t=s.state;return!t||t.strm!==s||t.mode<sf||t.mode>Y_?1:0},Z_=s=>{if(aa(s))return wr;const t=s.state;return s.total_in=s.total_out=t.total=0,s.msg="",t.wrap&&(s.adler=t.wrap&1),t.mode=sf,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(gk),t.distcode=t.distdyn=new Int32Array(bk),t.sane=1,t.back=-1,ta},X_=s=>{if(aa(s))return wr;const t=s.state;return t.wsize=0,t.whave=0,t.wnext=0,Z_(s)},W_=(s,t)=>{let n;if(aa(s))return wr;const i=s.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?wr:(i.window!==null&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,X_(s))},$_=(s,t)=>{if(!s)return wr;const n=new vk;s.state=n,n.strm=s,n.window=null,n.mode=sf;const i=W_(s,t);return i!==ta&&(s.state=null),i},Ek=s=>$_(s,_k);let tw=!0,s0,a0;const Sk=s=>{if(tw){s0=new Int32Array(512),a0=new Int32Array(32);let t=0;for(;t<144;)s.lens[t++]=8;for(;t<256;)s.lens[t++]=9;for(;t<280;)s.lens[t++]=7;for(;t<288;)s.lens[t++]=8;for(Ec(P_,s.lens,0,288,s0,0,s.work,{bits:9}),t=0;t<32;)s.lens[t++]=5;Ec(K_,s.lens,0,32,a0,0,s.work,{bits:5}),tw=!1}s.lencode=s0,s.lenbits=9,s.distcode=a0,s.distbits=5},Q_=(s,t,n,i)=>{let c;const o=s.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),i>=o.wsize?(o.window.set(t.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(c=o.wsize-o.wnext,c>i&&(c=i),o.window.set(t.subarray(n-i,n-i+c),o.wnext),i-=c,i?(o.window.set(t.subarray(n-i,n),0),o.wnext=i,o.whave=o.wsize):(o.wnext+=c,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=c))),0},Ak=(s,t)=>{let n,i,c,o,l,d,g,w,E,I,k,R,M,U,z=0,j,F,V,$,re,oe,se,le;const G=new Uint8Array(4);let Z,X;const W=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(aa(s)||!s.output||!s.input&&s.avail_in!==0)return wr;n=s.state,n.mode===wi&&(n.mode=n0),l=s.next_out,c=s.output,g=s.avail_out,o=s.next_in,i=s.input,d=s.avail_in,w=n.hold,E=n.bits,I=d,k=g,le=ta;e:for(;;)switch(n.mode){case sf:if(n.wrap===0){n.mode=n0;break}for(;E<16;){if(d===0)break e;d--,w+=i[o++]<<E,E+=8}if(n.wrap&2&&w===35615){n.wbits===0&&(n.wbits=15),n.check=0,G[0]=w&255,G[1]=w>>>8&255,n.check=jr(n.check,G,2,0),w=0,E=0,n.mode=Bb;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((w&255)<<8)+(w>>8))%31){s.msg="incorrect header check",n.mode=Ft;break}if((w&15)!==Cb){s.msg="unknown compression method",n.mode=Ft;break}if(w>>>=4,E-=4,se=(w&15)+8,n.wbits===0&&(n.wbits=se),se>15||se>n.wbits){s.msg="invalid window size",n.mode=Ft;break}n.dmax=1<<n.wbits,n.flags=0,s.adler=n.check=1,n.mode=w&512?qb:wi,w=0,E=0;break;case Bb:for(;E<16;){if(d===0)break e;d--,w+=i[o++]<<E,E+=8}if(n.flags=w,(n.flags&255)!==Cb){s.msg="unknown compression method",n.mode=Ft;break}if(n.flags&57344){s.msg="unknown header flags set",n.mode=Ft;break}n.head&&(n.head.text=w>>8&1),n.flags&512&&n.wrap&4&&(G[0]=w&255,G[1]=w>>>8&255,n.check=jr(n.check,G,2,0)),w=0,E=0,n.mode=Mb;case Mb:for(;E<32;){if(d===0)break e;d--,w+=i[o++]<<E,E+=8}n.head&&(n.head.time=w),n.flags&512&&n.wrap&4&&(G[0]=w&255,G[1]=w>>>8&255,G[2]=w>>>16&255,G[3]=w>>>24&255,n.check=jr(n.check,G,4,0)),w=0,E=0,n.mode=Ub;case Ub:for(;E<16;){if(d===0)break e;d--,w+=i[o++]<<E,E+=8}n.head&&(n.head.xflags=w&255,n.head.os=w>>8),n.flags&512&&n.wrap&4&&(G[0]=w&255,G[1]=w>>>8&255,n.check=jr(n.check,G,2,0)),w=0,E=0,n.mode=Db;case Db:if(n.flags&1024){for(;E<16;){if(d===0)break e;d--,w+=i[o++]<<E,E+=8}n.length=w,n.head&&(n.head.extra_len=w),n.flags&512&&n.wrap&4&&(G[0]=w&255,G[1]=w>>>8&255,n.check=jr(n.check,G,2,0)),w=0,E=0}else n.head&&(n.head.extra=null);n.mode=Lb;case Lb:if(n.flags&1024&&(R=n.length,R>d&&(R=d),R&&(n.head&&(se=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(o,o+R),se)),n.flags&512&&n.wrap&4&&(n.check=jr(n.check,i,R,o)),d-=R,o+=R,n.length-=R),n.length))break e;n.length=0,n.mode=zb;case zb:if(n.flags&2048){if(d===0)break e;R=0;do se=i[o+R++],n.head&&se&&n.length<65536&&(n.head.name+=String.fromCharCode(se));while(se&&R<d);if(n.flags&512&&n.wrap&4&&(n.check=jr(n.check,i,R,o)),d-=R,o+=R,se)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=Hb;case Hb:if(n.flags&4096){if(d===0)break e;R=0;do se=i[o+R++],n.head&&se&&n.length<65536&&(n.head.comment+=String.fromCharCode(se));while(se&&R<d);if(n.flags&512&&n.wrap&4&&(n.check=jr(n.check,i,R,o)),d-=R,o+=R,se)break e}else n.head&&(n.head.comment=null);n.mode=jb;case jb:if(n.flags&512){for(;E<16;){if(d===0)break e;d--,w+=i[o++]<<E,E+=8}if(n.wrap&4&&w!==(n.check&65535)){s.msg="header crc mismatch",n.mode=Ft;break}w=0,E=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),s.adler=n.check=0,n.mode=wi;break;case qb:for(;E<32;){if(d===0)break e;d--,w+=i[o++]<<E,E+=8}s.adler=n.check=ew(w),w=0,E=0,n.mode=zl;case zl:if(n.havedict===0)return s.next_out=l,s.avail_out=g,s.next_in=o,s.avail_in=d,n.hold=w,n.bits=E,mk;s.adler=n.check=1,n.mode=wi;case wi:if(t===hk||t===dl)break e;case n0:if(n.last){w>>>=E&7,E-=E&7,n.mode=i0;break}for(;E<3;){if(d===0)break e;d--,w+=i[o++]<<E,E+=8}switch(n.last=w&1,w>>>=1,E-=1,w&3){case 0:n.mode=Pb;break;case 1:if(Sk(n),n.mode=hl,t===dl){w>>>=2,E-=2;break e}break;case 2:n.mode=Vb;break;case 3:s.msg="invalid block type",n.mode=Ft}w>>>=2,E-=2;break;case Pb:for(w>>>=E&7,E-=E&7;E<32;){if(d===0)break e;d--,w+=i[o++]<<E,E+=8}if((w&65535)!==(w>>>16^65535)){s.msg="invalid stored block lengths",n.mode=Ft;break}if(n.length=w&65535,w=0,E=0,n.mode=r0,t===dl)break e;case r0:n.mode=Kb;case Kb:if(R=n.length,R){if(R>d&&(R=d),R>g&&(R=g),R===0)break e;c.set(i.subarray(o,o+R),l),d-=R,o+=R,g-=R,l+=R,n.length-=R;break}n.mode=wi;break;case Vb:for(;E<14;){if(d===0)break e;d--,w+=i[o++]<<E,E+=8}if(n.nlen=(w&31)+257,w>>>=5,E-=5,n.ndist=(w&31)+1,w>>>=5,E-=5,n.ncode=(w&15)+4,w>>>=4,E-=4,n.nlen>286||n.ndist>30){s.msg="too many length or distance symbols",n.mode=Ft;break}n.have=0,n.mode=Gb;case Gb:for(;n.have<n.ncode;){for(;E<3;){if(d===0)break e;d--,w+=i[o++]<<E,E+=8}n.lens[W[n.have++]]=w&7,w>>>=3,E-=3}for(;n.have<19;)n.lens[W[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Z={bits:n.lenbits},le=Ec(dk,n.lens,0,19,n.lencode,0,n.work,Z),n.lenbits=Z.bits,le){s.msg="invalid code lengths set",n.mode=Ft;break}n.have=0,n.mode=Fb;case Fb:for(;n.have<n.nlen+n.ndist;){for(;z=n.lencode[w&(1<<n.lenbits)-1],j=z>>>24,F=z>>>16&255,V=z&65535,!(j<=E);){if(d===0)break e;d--,w+=i[o++]<<E,E+=8}if(V<16)w>>>=j,E-=j,n.lens[n.have++]=V;else{if(V===16){for(X=j+2;E<X;){if(d===0)break e;d--,w+=i[o++]<<E,E+=8}if(w>>>=j,E-=j,n.have===0){s.msg="invalid bit length repeat",n.mode=Ft;break}se=n.lens[n.have-1],R=3+(w&3),w>>>=2,E-=2}else if(V===17){for(X=j+3;E<X;){if(d===0)break e;d--,w+=i[o++]<<E,E+=8}w>>>=j,E-=j,se=0,R=3+(w&7),w>>>=3,E-=3}else{for(X=j+7;E<X;){if(d===0)break e;d--,w+=i[o++]<<E,E+=8}w>>>=j,E-=j,se=0,R=11+(w&127),w>>>=7,E-=7}if(n.have+R>n.nlen+n.ndist){s.msg="invalid bit length repeat",n.mode=Ft;break}for(;R--;)n.lens[n.have++]=se}}if(n.mode===Ft)break;if(n.lens[256]===0){s.msg="invalid code -- missing end-of-block",n.mode=Ft;break}if(n.lenbits=9,Z={bits:n.lenbits},le=Ec(P_,n.lens,0,n.nlen,n.lencode,0,n.work,Z),n.lenbits=Z.bits,le){s.msg="invalid literal/lengths set",n.mode=Ft;break}if(n.distbits=6,n.distcode=n.distdyn,Z={bits:n.distbits},le=Ec(K_,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Z),n.distbits=Z.bits,le){s.msg="invalid distances set",n.mode=Ft;break}if(n.mode=hl,t===dl)break e;case hl:n.mode=pl;case pl:if(d>=6&&g>=258){s.next_out=l,s.avail_out=g,s.next_in=o,s.avail_in=d,n.hold=w,n.bits=E,ak(s,k),l=s.next_out,c=s.output,g=s.avail_out,o=s.next_in,i=s.input,d=s.avail_in,w=n.hold,E=n.bits,n.mode===wi&&(n.back=-1);break}for(n.back=0;z=n.lencode[w&(1<<n.lenbits)-1],j=z>>>24,F=z>>>16&255,V=z&65535,!(j<=E);){if(d===0)break e;d--,w+=i[o++]<<E,E+=8}if(F&&(F&240)===0){for($=j,re=F,oe=V;z=n.lencode[oe+((w&(1<<$+re)-1)>>$)],j=z>>>24,F=z>>>16&255,V=z&65535,!($+j<=E);){if(d===0)break e;d--,w+=i[o++]<<E,E+=8}w>>>=$,E-=$,n.back+=$}if(w>>>=j,E-=j,n.back+=j,n.length=V,F===0){n.mode=$b;break}if(F&32){n.back=-1,n.mode=wi;break}if(F&64){s.msg="invalid literal/length code",n.mode=Ft;break}n.extra=F&15,n.mode=Yb;case Yb:if(n.extra){for(X=n.extra;E<X;){if(d===0)break e;d--,w+=i[o++]<<E,E+=8}n.length+=w&(1<<n.extra)-1,w>>>=n.extra,E-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Zb;case Zb:for(;z=n.distcode[w&(1<<n.distbits)-1],j=z>>>24,F=z>>>16&255,V=z&65535,!(j<=E);){if(d===0)break e;d--,w+=i[o++]<<E,E+=8}if((F&240)===0){for($=j,re=F,oe=V;z=n.distcode[oe+((w&(1<<$+re)-1)>>$)],j=z>>>24,F=z>>>16&255,V=z&65535,!($+j<=E);){if(d===0)break e;d--,w+=i[o++]<<E,E+=8}w>>>=$,E-=$,n.back+=$}if(w>>>=j,E-=j,n.back+=j,F&64){s.msg="invalid distance code",n.mode=Ft;break}n.offset=V,n.extra=F&15,n.mode=Xb;case Xb:if(n.extra){for(X=n.extra;E<X;){if(d===0)break e;d--,w+=i[o++]<<E,E+=8}n.offset+=w&(1<<n.extra)-1,w>>>=n.extra,E-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){s.msg="invalid distance too far back",n.mode=Ft;break}n.mode=Wb;case Wb:if(g===0)break e;if(R=k-g,n.offset>R){if(R=n.offset-R,R>n.whave&&n.sane){s.msg="invalid distance too far back",n.mode=Ft;break}R>n.wnext?(R-=n.wnext,M=n.wsize-R):M=n.wnext-R,R>n.length&&(R=n.length),U=n.window}else U=c,M=l-n.offset,R=n.length;R>g&&(R=g),g-=R,n.length-=R;do c[l++]=U[M++];while(--R);n.length===0&&(n.mode=pl);break;case $b:if(g===0)break e;c[l++]=n.length,g--,n.mode=pl;break;case i0:if(n.wrap){for(;E<32;){if(d===0)break e;d--,w|=i[o++]<<E,E+=8}if(k-=g,s.total_out+=k,n.total+=k,n.wrap&4&&k&&(s.adler=n.check=n.flags?jr(n.check,c,k,l-k):O0(n.check,c,k,l-k)),k=g,n.wrap&4&&(n.flags?w:ew(w))!==n.check){s.msg="incorrect data check",n.mode=Ft;break}w=0,E=0}n.mode=Qb;case Qb:if(n.wrap&&n.flags){for(;E<32;){if(d===0)break e;d--,w+=i[o++]<<E,E+=8}if(n.wrap&4&&w!==(n.total&4294967295)){s.msg="incorrect length check",n.mode=Ft;break}w=0,E=0}n.mode=Jb;case Jb:le=pk;break e;case Ft:le=V_;break e;case F_:return G_;case Y_:default:return wr}return s.next_out=l,s.avail_out=g,s.next_in=o,s.avail_in=d,n.hold=w,n.bits=E,(n.wsize||k!==s.avail_out&&n.mode<Ft&&(n.mode<i0||t!==Ib))&&Q_(s,s.output,s.next_out,k-s.avail_out),I-=s.avail_in,k-=s.avail_out,s.total_in+=I,s.total_out+=k,n.total+=k,n.wrap&4&&k&&(s.adler=n.check=n.flags?jr(n.check,c,k,s.next_out-k):O0(n.check,c,k,s.next_out-k)),s.data_type=n.bits+(n.last?64:0)+(n.mode===wi?128:0)+(n.mode===hl||n.mode===r0?256:0),(I===0&&k===0||t===Ib)&&le===ta&&(le=yk),le},Rk=s=>{if(aa(s))return wr;let t=s.state;return t.window&&(t.window=null),s.state=null,ta},xk=(s,t)=>{if(aa(s))return wr;const n=s.state;return(n.wrap&2)===0?wr:(n.head=t,t.done=!1,ta)},Tk=(s,t)=>{const n=t.length;let i,c,o;return aa(s)||(i=s.state,i.wrap!==0&&i.mode!==zl)?wr:i.mode===zl&&(c=1,c=O0(c,t,n,0),c!==i.check)?V_:(o=Q_(s,t,n,n),o?(i.mode=F_,G_):(i.havedict=1,ta))};var Ok=X_,Nk=W_,kk=Z_,Ik=Ek,Ck=$_,Bk=Ak,Mk=Rk,Uk=xk,Dk=Tk,Lk="pako inflate (from Nodeca project)",Ei={inflateReset:Ok,inflateReset2:Nk,inflateResetKeep:kk,inflateInit:Ik,inflateInit2:Ck,inflate:Bk,inflateEnd:Mk,inflateGetHeader:Uk,inflateSetDictionary:Dk,inflateInfo:Lk};function zk(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Hk=zk;const J_=Object.prototype.toString,{Z_NO_FLUSH:jk,Z_FINISH:qk,Z_OK:Ic,Z_STREAM_END:o0,Z_NEED_DICT:c0,Z_STREAM_ERROR:Pk,Z_DATA_ERROR:nw,Z_MEM_ERROR:Kk}=H_;function af(s){this.options=j_.assign({chunkSize:1024*64,windowBits:15,to:""},s||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(s&&s.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ik,this.strm.avail_out=0;let n=Ei.inflateInit2(this.strm,t.windowBits);if(n!==Ic)throw new Error(N0[n]);if(this.header=new Hk,Ei.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=k0.string2buf(t.dictionary):J_.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=Ei.inflateSetDictionary(this.strm,t.dictionary),n!==Ic)))throw new Error(N0[n])}af.prototype.push=function(s,t){const n=this.strm,i=this.options.chunkSize,c=this.options.dictionary;let o,l,d;if(this.ended)return!1;for(t===~~t?l=t:l=t===!0?qk:jk,J_.call(s)==="[object ArrayBuffer]"?n.input=new Uint8Array(s):n.input=s,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),o=Ei.inflate(n,l),o===c0&&c&&(o=Ei.inflateSetDictionary(n,c),o===Ic?o=Ei.inflate(n,l):o===nw&&(o=c0));n.avail_in>0&&o===o0&&n.state.wrap>0&&s[n.next_in]!==0;)Ei.inflateReset(n),o=Ei.inflate(n,l);switch(o){case Pk:case nw:case c0:case Kk:return this.onEnd(o),this.ended=!0,!1}if(d=n.avail_out,n.next_out&&(n.avail_out===0||o===o0))if(this.options.to==="string"){let g=k0.utf8border(n.output,n.next_out),w=n.next_out-g,E=k0.buf2string(n.output,g);n.next_out=w,n.avail_out=i-w,w&&n.output.set(n.output.subarray(g,g+w),0),this.onData(E)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(o===Ic&&d===0)){if(o===o0)return o=Ei.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};af.prototype.onData=function(s){this.chunks.push(s)};af.prototype.onEnd=function(s){s===Ic&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=j_.flattenChunks(this.chunks)),this.chunks=[],this.err=s,this.msg=this.strm.msg};function Vk(s,t){const n=new af(t);if(n.push(s),n.err)throw n.msg||N0[n.err];return n.result}var Gk=Vk,Fk={inflate:Gk};const{inflate:Yk}=Fk;var Zk=Yk,u0={exports:{}},rw;function Xk(){return rw||(rw=1,(function(s){var t=Object.prototype.hasOwnProperty,n="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1));function c(g,w,E){this.fn=g,this.context=w,this.once=E||!1}function o(g,w,E,I,k){if(typeof E!="function")throw new TypeError("The listener must be a function");var R=new c(E,I||g,k),M=n?n+w:w;return g._events[M]?g._events[M].fn?g._events[M]=[g._events[M],R]:g._events[M].push(R):(g._events[M]=R,g._eventsCount++),g}function l(g,w){--g._eventsCount===0?g._events=new i:delete g._events[w]}function d(){this._events=new i,this._eventsCount=0}d.prototype.eventNames=function(){var w=[],E,I;if(this._eventsCount===0)return w;for(I in E=this._events)t.call(E,I)&&w.push(n?I.slice(1):I);return Object.getOwnPropertySymbols?w.concat(Object.getOwnPropertySymbols(E)):w},d.prototype.listeners=function(w){var E=n?n+w:w,I=this._events[E];if(!I)return[];if(I.fn)return[I.fn];for(var k=0,R=I.length,M=new Array(R);k<R;k++)M[k]=I[k].fn;return M},d.prototype.listenerCount=function(w){var E=n?n+w:w,I=this._events[E];return I?I.fn?1:I.length:0},d.prototype.emit=function(w,E,I,k,R,M){var U=n?n+w:w;if(!this._events[U])return!1;var z=this._events[U],j=arguments.length,F,V;if(z.fn){switch(z.once&&this.removeListener(w,z.fn,void 0,!0),j){case 1:return z.fn.call(z.context),!0;case 2:return z.fn.call(z.context,E),!0;case 3:return z.fn.call(z.context,E,I),!0;case 4:return z.fn.call(z.context,E,I,k),!0;case 5:return z.fn.call(z.context,E,I,k,R),!0;case 6:return z.fn.call(z.context,E,I,k,R,M),!0}for(V=1,F=new Array(j-1);V<j;V++)F[V-1]=arguments[V];z.fn.apply(z.context,F)}else{var $=z.length,re;for(V=0;V<$;V++)switch(z[V].once&&this.removeListener(w,z[V].fn,void 0,!0),j){case 1:z[V].fn.call(z[V].context);break;case 2:z[V].fn.call(z[V].context,E);break;case 3:z[V].fn.call(z[V].context,E,I);break;case 4:z[V].fn.call(z[V].context,E,I,k);break;default:if(!F)for(re=1,F=new Array(j-1);re<j;re++)F[re-1]=arguments[re];z[V].fn.apply(z[V].context,F)}}return!0},d.prototype.on=function(w,E,I){return o(this,w,E,I,!1)},d.prototype.once=function(w,E,I){return o(this,w,E,I,!0)},d.prototype.removeListener=function(w,E,I,k){var R=n?n+w:w;if(!this._events[R])return this;if(!E)return l(this,R),this;var M=this._events[R];if(M.fn)M.fn===E&&(!k||M.once)&&(!I||M.context===I)&&l(this,R);else{for(var U=0,z=[],j=M.length;U<j;U++)(M[U].fn!==E||k&&!M[U].once||I&&M[U].context!==I)&&z.push(M[U]);z.length?this._events[R]=z.length===1?z[0]:z:l(this,R)}return this},d.prototype.removeAllListeners=function(w){var E;return w?(E=n?n+w:w,this._events[E]&&l(this,E)):(this._events=new i,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,s.exports=d})(u0)),u0.exports}var Wk=Xk();const $k=Ni(Wk);function Qk(s,t){return Array.apply(0,new Array(Math.ceil(s.length/t))).map((n,i)=>s.slice(i*t,(i+1)*t))}const Hs=s=>"version"in s;function Jk(s){return s.reduce((t,n)=>t+n.toString(16).padStart(2,"0"),"0x")}function eI(s){s.indexOf("0x")===0&&(s=s.substr(2)),s.length%2===1&&(s="0"+s);let t=s.match(/.{2}/g);return t===null?Ce.Buffer.from([]):Ce.Buffer.from(t.map(n=>parseInt(n,16)))}var tI=Object.freeze({__proto__:null,encode:Jk,decode:eI});function ev(s){return new TextDecoder("utf-8").decode(s)}function nI(s){return new TextEncoder().encode(s)}var rI=Object.freeze({__proto__:null,decode:ev,encode:nI});function I0(s){return rf.encode(s)}function iI(s){return rf.decode(s)}var sI=Object.freeze({__proto__:null,encode:I0,decode:iI});function aI(s){return s.toString("base64")}function bp(s){return Ce.Buffer.from(s,"base64")}var oI=Object.freeze({__proto__:null,encode:aI,decode:bp}),cI=Object.freeze({__proto__:null,hex:tI,utf8:rI,bs58:sI,base64:oI});function ls(s){return"accounts"in s}async function uI(s){const t=(await ve.findProgramAddress([],s))[0];return await ve.createWithSeed(t,lI(),s)}function lI(){return"anchor:idl"}const fI=tt.struct([tt.publicKey("authority"),tt.vecU8("data")]);function dI(s){return fI.decode(s)}function hI(s){const t=["name","path","account","relations","generic"],n=o=>o.split(".").map(l=>CN(l,{locale:!1})).join("."),i=o=>{for(const l in o){const d=o[l];t.includes(l)?o[l]=Array.isArray(d)?d.map(n):n(d):typeof d=="object"&&i(d)}},c=structuredClone(s);return i(c),c}function to(s,t,n,i){return s?.length?s[0].name?n(s):i(s):t()}function pI(s){const t=new Map;return s.errors&&s.errors.forEach(n=>{var i;let c=(i=n.msg)!==null&&i!==void 0?i:n.name;t.set(n.code,c)}),t}function mI(s,...t){if(s.args.length!=t.length)throw new Error("Invalid argument length");const n={};let i=0;return s.args.forEach(c=>{n[c.name]=t[i],i+=1}),n}function tv(s,t={}){s.forEach(n=>{if(ls(n))tv(n.accounts,t[n.name]);else if(!t[n.name])throw new Error(`Account \`${n.name}\` not provided.`)})}function br(s){return s instanceof ve?s:new ve(s)}class yI extends TypeError{constructor(t,n){let i;const{message:c,...o}=t,{path:l}=t,d=l.length===0?c:"At path: "+l.join(".")+" -- "+c;super(d),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>{var g;return(g=i)!=null?g:i=[t,...n()]}}}function gI(s){return oo(s)&&typeof s[Symbol.iterator]=="function"}function oo(s){return typeof s=="object"&&s!=null}function ws(s){return typeof s=="string"?JSON.stringify(s):""+s}function bI(s){const{done:t,value:n}=s.next();return t?void 0:n}function wI(s,t,n,i){if(s===!0)return;s===!1?s={}:typeof s=="string"&&(s={message:s});const{path:c,branch:o}=t,{type:l}=n,{refinement:d,message:g="Expected a value of type `"+l+"`"+(d?" with refinement `"+d+"`":"")+", but received: `"+ws(i)+"`"}=s;return{value:i,type:l,refinement:d,key:c[c.length-1],path:c,branch:o,...s,message:g}}function*iw(s,t,n,i){gI(s)||(s=[s]);for(const c of s){const o=wI(c,t,n,i);o&&(yield o)}}function*wp(s,t,n){n===void 0&&(n={});const{path:i=[],branch:c=[s],coerce:o=!1,mask:l=!1}=n,d={path:i,branch:c};if(o&&(s=t.coercer(s,d),l&&t.type!=="type"&&oo(t.schema)&&oo(s)&&!Array.isArray(s)))for(const w in s)t.schema[w]===void 0&&delete s[w];let g=!0;for(const w of t.validator(s,d))g=!1,yield[w,void 0];for(let[w,E,I]of t.entries(s,d)){const k=wp(E,I,{path:w===void 0?i:[...i,w],branch:w===void 0?c:[...c,E],coerce:o,mask:l});for(const R of k)R[0]?(g=!1,yield[R[0],void 0]):o&&(E=R[1],w===void 0?s=E:s instanceof Map?s.set(w,E):s instanceof Set?s.add(E):oo(s)&&(s[w]=E))}if(g)for(const w of t.refiner(s,d))g=!1,yield[w,void 0];g&&(yield[void 0,s])}class _s{constructor(t){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:n,schema:i,validator:c,refiner:o,coercer:l=g=>g,entries:d=function*(){}}=t;this.type=n,this.schema=i,this.entries=d,this.coercer=l,c?this.validator=(g,w)=>{const E=c(g,w);return iw(E,w,this,g)}:this.validator=()=>[],o?this.refiner=(g,w)=>{const E=o(g,w);return iw(E,w,this,g)}:this.refiner=()=>[]}assert(t){return _I(t,this)}create(t){return _p(t,this)}is(t){return nv(t,this)}mask(t){return vI(t,this)}validate(t,n){return n===void 0&&(n={}),jc(t,this,n)}}function _I(s,t){const n=jc(s,t);if(n[0])throw n[0]}function _p(s,t){const n=jc(s,t,{coerce:!0});if(n[0])throw n[0];return n[1]}function vI(s,t){const n=jc(s,t,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}function nv(s,t){return!jc(s,t)[0]}function jc(s,t,n){n===void 0&&(n={});const i=wp(s,t,n),c=bI(i);return c[0]?[new yI(c[0],function*(){for(const l of i)l[0]&&(yield l[0])}),void 0]:[void 0,c[1]]}function qc(s,t){return new _s({type:s,schema:null,validator:t})}function EI(){return qc("any",()=>!0)}function l0(s){return new _s({type:"array",schema:s,*entries(t){if(s&&Array.isArray(t))for(const[n,i]of t.entries())yield[n,i,s]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||"Expected an array value, but received: "+ws(t)}})}function SI(){return qc("boolean",s=>typeof s=="boolean")}function sw(s){const t=ws(s);return new _s({type:"literal",schema:s,validator(n){return n===s||"Expected the literal `"+t+"`, but received: "+ws(n)}})}function ml(s){return new _s({...s,validator:(t,n)=>t===null||s.validator(t,n),refiner:(t,n)=>t===null||s.refiner(t,n)})}function Al(){return qc("number",s=>typeof s=="number"&&!isNaN(s)||"Expected a number, but received: "+ws(s))}function Rl(s){return new _s({...s,validator:(t,n)=>t===void 0||s.validator(t,n),refiner:(t,n)=>t===void 0||s.refiner(t,n)})}function Xs(){return qc("string",s=>typeof s=="string"||"Expected a string, but received: "+ws(s))}function ms(s){const t=Object.keys(s);return new _s({type:"type",schema:s,*entries(n){if(oo(n))for(const i of t)yield[i,n[i],s[i]]},validator(n){return oo(n)||"Expected an object, but received: "+ws(n)}})}function rv(s){const t=s.map(n=>n.type).join(" | ");return new _s({type:"union",schema:null,coercer(n,i){return(s.find(o=>{const[l]=o.validate(n,{coerce:!0});return!l})||vp()).coercer(n,i)},validator(n,i){const c=[];for(const o of s){const[...l]=wp(n,o,i),[d]=l;if(d[0])for(const[g]of l)g&&c.push(g);else return[]}return["Expected the value to satisfy a union of `"+t+"`, but received: "+ws(n),...c]}})}function vp(){return qc("unknown",()=>!0)}function AI(s,t,n){return new _s({...s,coercer:(i,c)=>nv(i,t)?s.coercer(n(i,c),c):s.coercer(i,c)})}async function RI(s,t,n,i){s=br(s),i||(i=Hl());const c=new pt;if(c.add(new Rt({programId:s,keys:t??[],data:n})),i.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");return await i.sendAndConfirm(c,[])}const aw=99;async function xI(s,t,n){return(await Ep(s,t,n)).map(c=>c?{publicKey:c.publicKey,account:c.account}:null)}async function Ep(s,t,n){if(t.length<=aw)return await ow(s,t,n);{const i=Qk(t,aw);return(await Promise.all(i.map(o=>ow(s,o,n)))).flat()}}async function ow(s,t,n){const i=n??s.commitment,{value:c,context:o}=await s.getMultipleAccountsInfoAndContext(t,i);return c.map((d,g)=>d===null?null:{publicKey:t[g],account:d,context:o})}async function iv(s,t,n,i,c){var o;n&&n.length>0&&t.sign(...n);const l=t._compile(),d=l.serialize(),w=t._serialize(d).toString("base64"),E={encoding:"base64",commitment:i??s.commitment};if(c){const M=(Array.isArray(c)?c:l.nonProgramIds()).map(U=>U.toBase58());E.accounts={encoding:"base64",addresses:M}}n&&n.length>0&&(E.sigVerify=!0);const I=[w,E],k=await s._rpcRequest("simulateTransaction",I),R=_p(k,kI);if("error"in R){let M;if("data"in R.error&&(M=(o=R.error.data)===null||o===void 0?void 0:o.logs,M&&Array.isArray(M))){const U=`
    `,z=U+M.join(U);console.error(R.error.message,z)}throw new bs("failed to simulate transaction: "+R.error.message,M)}return R.result}function TI(s){return AI(sv(s),OI,t=>"error"in t?t:{...t,result:_p(t.result,s)})}const OI=sv(vp());function sv(s){return rv([ms({jsonrpc:sw("2.0"),id:Xs(),result:s}),ms({jsonrpc:sw("2.0"),id:Xs(),error:ms({code:vp(),message:Xs(),data:Rl(EI())})})])}function NI(s){return TI(ms({context:ms({slot:Al()}),value:s}))}const kI=NI(ms({err:ml(rv([ms({}),Xs()])),logs:ml(l0(Xs())),accounts:Rl(ml(l0(ml(ms({executable:SI(),owner:Xs(),lamports:Al(),data:l0(Xs()),rentEpoch:Rl(Al())}))))),unitsConsumed:Rl(Al())}));var II=Object.freeze({__proto__:null,invoke:RI,getMultipleAccounts:xI,getMultipleAccountsAndContext:Ep,simulateTransaction:iv});class Cc{constructor(t,n,i=Cc.defaultOptions()){this.connection=t,this.wallet=n,this.opts=i,this.publicKey=n?.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(t,n=Cc.defaultOptions()){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(t,n,i){var c,o,l,d;if(i===void 0&&(i=this.opts),Hs(t))n&&t.sign(n);else if(t.feePayer=(c=t.feePayer)!==null&&c!==void 0?c:this.wallet.publicKey,t.recentBlockhash=(await this.connection.getLatestBlockhash(i.preflightCommitment)).blockhash,n)for(const w of n)t.partialSign(w);t=await this.wallet.signTransaction(t);const g=t.serialize();try{return await cw(this.connection,g,i)}catch(w){if(w instanceof C0){const E=I0(Hs(t)?((o=t.signatures)===null||o===void 0?void 0:o[0])||new Uint8Array:(l=t.signature)!==null&&l!==void 0?l:new Uint8Array),I=Hs(t)?0:void 0,k=await this.connection.getTransaction(E,{commitment:"confirmed",maxSupportedTransactionVersion:I});if(k){const R=(d=k.meta)===null||d===void 0?void 0:d.logMessages;throw R?new bs(w.message,R):w}else throw w}else throw w}}async sendAll(t,n){var i,c,o;n===void 0&&(n=this.opts);const l=(await this.connection.getLatestBlockhash(n.preflightCommitment)).blockhash;let d=t.map(E=>{var I,k;if(Hs(E.tx)){let R=E.tx;return E.signers&&R.sign(E.signers),R}else{let R=E.tx,M=(I=E.signers)!==null&&I!==void 0?I:[];return R.feePayer=(k=R.feePayer)!==null&&k!==void 0?k:this.wallet.publicKey,R.recentBlockhash=l,M.forEach(U=>{R.partialSign(U)}),R}});const g=await this.wallet.signAllTransactions(d),w=[];for(let E=0;E<d.length;E+=1){const I=g[E],k=I.serialize();try{w.push(await cw(this.connection,k,n))}catch(R){if(R instanceof C0){const M=I0(Hs(I)?((i=I.signatures)===null||i===void 0?void 0:i[0])||new Uint8Array:(c=I.signature)!==null&&c!==void 0?c:new Uint8Array),U=Hs(I)?0:void 0,z=await this.connection.getTransaction(M,{commitment:"confirmed",maxSupportedTransactionVersion:U});if(z){const j=(o=z.meta)===null||o===void 0?void 0:o.logMessages;throw j?new bs(R.message,j):R}else throw R}else throw R}}return w}async simulate(t,n,i,c){let o=(await this.connection.getLatestBlockhash(i??this.connection.commitment)).blockhash,l;if(Hs(t)?(n&&n.length>0&&(t.sign(n),t=await this.wallet.signTransaction(t)),l=await this.connection.simulateTransaction(t,{commitment:i})):(t.feePayer=t.feePayer||this.wallet.publicKey,t.recentBlockhash=o,n&&n.length>0&&(t=await this.wallet.signTransaction(t)),l=await iv(this.connection,t,n,i,c)),l.value.err)throw new CI(l.value);return l.value}}class CI extends Error{constructor(t,n){super(n),this.simulationResponse=t}}async function cw(s,t,n){const i=n?{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot}:{};let c;const o=Date.now();for(;Date.now()-o<6e4;)try{const l=await s.sendRawTransaction(t,i);if(n?.blockhash)if(i.maxRetries===0){const d=AbortSignal.timeout(15e3);c=(await s.confirmTransaction({abortSignal:d,signature:l,...n.blockhash},n&&n.commitment)).value}else c=(await s.confirmTransaction({signature:l,...n.blockhash},n&&n.commitment)).value;else c=(await s.confirmTransaction(l,n&&n.commitment)).value;if(c.err)throw new C0(`Raw transaction ${l} failed (${JSON.stringify(c)})`);return l}catch(l){if(l.name==="TimeoutError")continue;throw l}throw Error("Transaction failed to confirm in 60s")}class C0 extends Error{constructor(t){super(t)}}function Hl(){return Cc.local()}var BI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function MI(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var pe={};Object.defineProperty(pe,"__esModule",{value:!0});var av=pe.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=nE=pe.ANCHOR_ERROR__REQUIRE_VIOLATED=tE=pe.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=eE=pe.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=Jv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=Qv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=$v=pe.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=Wv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=Xv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=Zv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=Yv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=Fv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=Gv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=Vv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=Kv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=Pv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=qv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=jv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=Hv=pe.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=zv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=Lv=pe.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=Dv=pe.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=Uv=pe.ANCHOR_ERROR__CONSTRAINT_SPACE=Mv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=Bv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=Cv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=Iv=pe.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=kv=pe.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=Nv=pe.ANCHOR_ERROR__CONSTRAINT_ZERO=Ov=pe.ANCHOR_ERROR__CONSTRAINT_ADDRESS=Tv=pe.ANCHOR_ERROR__CONSTRAINT_CLOSE=xv=pe.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=Rv=pe.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=Av=pe.ANCHOR_ERROR__CONSTRAINT_STATE=Sv=pe.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=Ev=pe.ANCHOR_ERROR__CONSTRAINT_SEEDS=vv=pe.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=_v=pe.ANCHOR_ERROR__CONSTRAINT_OWNER=wv=pe.ANCHOR_ERROR__CONSTRAINT_RAW=bv=pe.ANCHOR_ERROR__CONSTRAINT_SIGNER=gv=pe.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=yv=pe.ANCHOR_ERROR__CONSTRAINT_MUT=mv=pe.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=pv=pe.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=hv=pe.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=dv=pe.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=fv=pe.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=lv=pe.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=uv=pe.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=cv=pe.ANCHOR_ERROR__INSTRUCTION_MISSING=void 0,ov=pe.ANCHOR_ERROR__DEPRECATED=OE=pe.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=TE=pe.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=xE=pe.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=RE=pe.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=AE=pe.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=SE=pe.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=EE=pe.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=vE=pe.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=_E=pe.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=wE=pe.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=bE=pe.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=gE=pe.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=yE=pe.ANCHOR_ERROR__INVALID_PROGRAM_ID=mE=pe.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=pE=pe.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=hE=pe.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=dE=pe.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=fE=pe.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=lE=pe.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=uE=pe.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=cE=pe.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=oE=pe.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=aE=pe.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=sE=pe.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=iE=pe.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=rE=pe.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=void 0,cv=pe.ANCHOR_ERROR__INSTRUCTION_MISSING=100,uv=pe.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=101,lv=pe.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=102,fv=pe.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=103,dv=pe.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=1e3,hv=pe.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=1001,pv=pe.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=1002,mv=pe.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=1500,yv=pe.ANCHOR_ERROR__CONSTRAINT_MUT=2e3,gv=pe.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=2001,bv=pe.ANCHOR_ERROR__CONSTRAINT_SIGNER=2002,wv=pe.ANCHOR_ERROR__CONSTRAINT_RAW=2003,_v=pe.ANCHOR_ERROR__CONSTRAINT_OWNER=2004,vv=pe.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=2005,Ev=pe.ANCHOR_ERROR__CONSTRAINT_SEEDS=2006,Sv=pe.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=2007,Av=pe.ANCHOR_ERROR__CONSTRAINT_STATE=2008,Rv=pe.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=2009,xv=pe.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=2010,Tv=pe.ANCHOR_ERROR__CONSTRAINT_CLOSE=2011,Ov=pe.ANCHOR_ERROR__CONSTRAINT_ADDRESS=2012,Nv=pe.ANCHOR_ERROR__CONSTRAINT_ZERO=2013,kv=pe.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=2014,Iv=pe.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=2015,Cv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=2016,Bv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=2017,Mv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=2018,Uv=pe.ANCHOR_ERROR__CONSTRAINT_SPACE=2019,Dv=pe.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=2020,Lv=pe.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=2021,zv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=2022,Hv=pe.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=2023,jv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=2024,qv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=2025,Pv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=2026,Kv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=2027,Vv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=2028,Gv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=2029,Fv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=2030,Yv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=2031,Zv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=2032,Xv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=2033,Wv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=2034,$v=pe.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=2035,Qv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=2036,Jv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=2037,eE=pe.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=2038,tE=pe.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=2039,nE=pe.ANCHOR_ERROR__REQUIRE_VIOLATED=2500;av=pe.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=2501;var rE=pe.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=2502,iE=pe.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=2503,sE=pe.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=2504,aE=pe.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=2505,oE=pe.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=2506,cE=pe.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=3e3,uE=pe.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=3001,lE=pe.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=3002,fE=pe.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=3003,dE=pe.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=3004,hE=pe.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=3005,pE=pe.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=3006,mE=pe.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=3007,yE=pe.ANCHOR_ERROR__INVALID_PROGRAM_ID=3008,gE=pe.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=3009,bE=pe.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=3010,wE=pe.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=3011,_E=pe.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=3012,vE=pe.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=3013,EE=pe.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=3014,SE=pe.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=3015,AE=pe.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=3016,RE=pe.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=3017,xE=pe.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=4100,TE=pe.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=4101,OE=pe.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=4102;ov=pe.ANCHOR_ERROR__DEPRECATED=5e3;const UI=new Set(["debug-logs"]),NE=new Map;function DI(s){if(!UI.has(s))throw new Error("Invalid feature");NE.set(s,!0)}function Sp(s){return NE.get(s)!==void 0}var LI=Object.freeze({__proto__:null,set:DI,isSet:Sp});class us extends Error{constructor(t){super(t),this.name="IdlError"}}class Pc{constructor(t){this.stack=t}static parse(t){var n;const i=/^Program (\w*) invoke/,c=/^Program \w* success/,o=[];for(let l=0;l<t.length;l++){if(c.exec(t[l])){o.pop();continue}const d=(n=i.exec(t[l]))===null||n===void 0?void 0:n[1];d&&o.push(new ve(d))}return new Pc(o)}}class Sc extends Error{constructor(t,n,i,c,o,l){super(i.join(`
`).replace("Program log: ","")),this.errorLogs=i,this.logs=c,this.error={errorCode:t,errorMessage:n,comparedValues:l,origin:o},this._programErrorStack=Pc.parse(c)}static parse(t){if(!t)return null;const n=t.findIndex(k=>k.startsWith("Program log: AnchorError"));if(n===-1)return null;const i=t[n],c=[i];let o;if(n+1<t.length){if(t[n+1]==="Program log: Left:"){const k=/^Program log: (.*)$/,R=k.exec(t[n+2])[1],M=k.exec(t[n+4])[1];o=[new ve(R),new ve(M)],c.push(...t.slice(n+1,n+5))}else if(t[n+1].startsWith("Program log: Left:")){const k=/^Program log: (Left|Right): (.*)$/,R=k.exec(t[n+1])[2],M=k.exec(t[n+2])[2];c.push(...t.slice(n+1,n+3)),o=[R,M]}}const d=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(i),w=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(i),I=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(i);if(d){const[k,R,M]=d.slice(1,4),U={code:k,number:parseInt(R)};return new Sc(U,M,c,t,void 0,o)}else if(w){const[k,R,M,U,z]=w.slice(1,6),j={code:M,number:parseInt(U)},F={file:k,line:parseInt(R)};return new Sc(j,z,c,t,F,o)}else if(I){const[k,R,M,U]=I.slice(1,5),z=k,j={code:R,number:parseInt(M)};return new Sc(j,U,c,t,z,o)}else return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class jl extends Error{constructor(t,n,i){super(),this.code=t,this.msg=n,this.logs=i,i&&(this._programErrorStack=Pc.parse(i))}static parse(t,n){const i=t.toString();let c;if(i.includes("custom program error:")){let d=i.split("custom program error: ");if(d.length!==2)return null;c=d[1]}else{const d=i.match(/"Custom":([0-9]+)}/g);if(!d||d.length>1)return null;c=d[0].match(/([0-9]+)/g)[0]}let o;try{o=parseInt(c)}catch{return null}let l=n.get(o);return l!==void 0?new jl(o,l,t.logs):(l=zI.get(o),l!==void 0?new jl(o,l,t.logs):null)}get program(){var t;return(t=this._programErrorStack)===null||t===void 0?void 0:t.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var t;return(t=this._programErrorStack)===null||t===void 0?void 0:t.stack}toString(){return this.msg}}function kE(s,t){Sp("debug-logs")&&console.log("Translating error:",s);const n=Sc.parse(s.logs);if(n)return n;const i=jl.parse(s,t);if(i)return i;if(s.logs){const c={get:function(o,l){return l==="programErrorStack"?o.programErrorStack.stack:l==="program"?o.programErrorStack.stack[s.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return s.programErrorStack=Pc.parse(s.logs),new Proxy(s,c)}return s}const Oe={InstructionMissing:cv,InstructionFallbackNotFound:uv,InstructionDidNotDeserialize:lv,InstructionDidNotSerialize:fv,IdlInstructionStub:dv,IdlInstructionInvalidProgram:hv,IdlAccountNotEmpty:pv,EventInstructionStub:mv,ConstraintMut:yv,ConstraintHasOne:gv,ConstraintSigner:bv,ConstraintRaw:wv,ConstraintOwner:_v,ConstraintRentExempt:vv,ConstraintSeeds:Ev,ConstraintExecutable:Sv,ConstraintState:Av,ConstraintAssociated:Rv,ConstraintAssociatedInit:xv,ConstraintClose:Tv,ConstraintAddress:Ov,ConstraintZero:Nv,ConstraintTokenMint:kv,ConstraintTokenOwner:Iv,ConstraintMintMintAuthority:Cv,ConstraintMintFreezeAuthority:Bv,ConstraintMintDecimals:Mv,ConstraintSpace:Uv,ConstraintAccountIsNone:Dv,ConstraintTokenTokenProgram:Lv,ConstraintMintTokenProgram:zv,ConstraintAssociatedTokenTokenProgram:Hv,ConstraintMintGroupPointerExtension:jv,ConstraintMintGroupPointerExtensionAuthority:qv,ConstraintMintGroupPointerExtensionGroupAddress:Pv,ConstraintMintGroupMemberPointerExtension:Kv,ConstraintMintGroupMemberPointerExtensionAuthority:Vv,ConstraintMintGroupMemberPointerExtensionMemberAddress:Gv,ConstraintMintMetadataPointerExtension:Fv,ConstraintMintMetadataPointerExtensionAuthority:Yv,ConstraintMintMetadataPointerExtensionMetadataAddress:Zv,ConstraintMintCloseAuthorityExtension:Xv,ConstraintMintCloseAuthorityExtensionAuthority:Wv,ConstraintMintPermanentDelegateExtension:$v,ConstraintMintPermanentDelegateExtensionDelegate:Qv,ConstraintMintTransferHookExtension:Jv,ConstraintMintTransferHookExtensionAuthority:eE,ConstraintMintTransferHookExtensionProgramId:tE,RequireViolated:nE,RequireEqViolated:av,RequireKeysEqViolated:rE,RequireNeqViolated:iE,RequireKeysNeqViolated:sE,RequireGtViolated:aE,RequireGteViolated:oE,AccountDiscriminatorAlreadySet:cE,AccountDiscriminatorNotFound:uE,AccountDiscriminatorMismatch:lE,AccountDidNotDeserialize:fE,AccountDidNotSerialize:dE,AccountNotEnoughKeys:hE,AccountNotMutable:pE,AccountOwnedByWrongProgram:mE,InvalidProgramId:yE,InvalidProgramExecutable:gE,AccountNotSigner:bE,AccountNotSystemOwned:wE,AccountNotInitialized:_E,AccountNotProgramData:vE,AccountNotAssociatedTokenAccount:EE,AccountSysvarMismatch:SE,AccountReallocExceedsLimit:AE,AccountDuplicateReallocs:RE,DeclaredProgramIdMismatch:xE,TryingToInitPayerAsProgramAccount:TE,InvalidNumericConversion:OE,Deprecated:ov},zI=new Map([[Oe.InstructionMissing,"Instruction discriminator not provided"],[Oe.InstructionFallbackNotFound,"Fallback functions are not supported"],[Oe.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[Oe.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[Oe.IdlInstructionStub,"The program was compiled without idl instructions"],[Oe.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[Oe.IdlAccountNotEmpty,"IDL account must be empty in order to resize, try closing first"],[Oe.EventInstructionStub,"The program was compiled without `event-cpi` feature"],[Oe.ConstraintMut,"A mut constraint was violated"],[Oe.ConstraintHasOne,"A has one constraint was violated"],[Oe.ConstraintSigner,"A signer constraint was violated"],[Oe.ConstraintRaw,"A raw constraint was violated"],[Oe.ConstraintOwner,"An owner constraint was violated"],[Oe.ConstraintRentExempt,"A rent exemption constraint was violated"],[Oe.ConstraintSeeds,"A seeds constraint was violated"],[Oe.ConstraintExecutable,"An executable constraint was violated"],[Oe.ConstraintState,"Deprecated Error, feel free to replace with something else"],[Oe.ConstraintAssociated,"An associated constraint was violated"],[Oe.ConstraintAssociatedInit,"An associated init constraint was violated"],[Oe.ConstraintClose,"A close constraint was violated"],[Oe.ConstraintAddress,"An address constraint was violated"],[Oe.ConstraintZero,"Expected zero account discriminant"],[Oe.ConstraintTokenMint,"A token mint constraint was violated"],[Oe.ConstraintTokenOwner,"A token owner constraint was violated"],[Oe.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[Oe.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[Oe.ConstraintMintDecimals,"A mint decimals constraint was violated"],[Oe.ConstraintSpace,"A space constraint was violated"],[Oe.ConstraintAccountIsNone,"A required account for the constraint is None"],[Oe.ConstraintTokenTokenProgram,"A token account token program constraint was violated"],[Oe.ConstraintMintTokenProgram,"A mint token program constraint was violated"],[Oe.ConstraintAssociatedTokenTokenProgram,"An associated token account token program constraint was violated"],[Oe.ConstraintMintGroupPointerExtension,"A group pointer extension constraint was violated"],[Oe.ConstraintMintGroupPointerExtensionAuthority,"A group pointer extension authority constraint was violated"],[Oe.ConstraintMintGroupPointerExtensionGroupAddress,"A group pointer extension group address constraint was violated"],[Oe.ConstraintMintGroupMemberPointerExtension,"A group member pointer extension constraint was violated"],[Oe.ConstraintMintGroupMemberPointerExtensionAuthority,"A group member pointer extension authority constraint was violated"],[Oe.ConstraintMintGroupMemberPointerExtensionMemberAddress,"A group member pointer extension group address constraint was violated"],[Oe.ConstraintMintMetadataPointerExtension,"A metadata pointer extension constraint was violated"],[Oe.ConstraintMintMetadataPointerExtensionAuthority,"A metadata pointer extension authority constraint was violated"],[Oe.ConstraintMintMetadataPointerExtensionMetadataAddress,"A metadata pointer extension metadata address constraint was violated"],[Oe.ConstraintMintCloseAuthorityExtension,"A close authority constraint was violated"],[Oe.ConstraintMintCloseAuthorityExtensionAuthority,"A close authority extension authority constraint was violated"],[Oe.ConstraintMintPermanentDelegateExtension,"A permanent delegate extension constraint was violated"],[Oe.ConstraintMintPermanentDelegateExtensionDelegate,"A permanent delegate extension delegate constraint was violated"],[Oe.ConstraintMintTransferHookExtension,"A transfer hook extension constraint was violated"],[Oe.ConstraintMintTransferHookExtensionAuthority,"A transfer hook extension authority constraint was violated"],[Oe.ConstraintMintTransferHookExtensionProgramId,"A transfer hook extension transfer hook program id constraint was violated"],[Oe.RequireViolated,"A require expression was violated"],[Oe.RequireEqViolated,"A require_eq expression was violated"],[Oe.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[Oe.RequireNeqViolated,"A require_neq expression was violated"],[Oe.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[Oe.RequireGtViolated,"A require_gt expression was violated"],[Oe.RequireGteViolated,"A require_gte expression was violated"],[Oe.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[Oe.AccountDiscriminatorNotFound,"No discriminator was found on the account"],[Oe.AccountDiscriminatorMismatch,"Account discriminator did not match what was expected"],[Oe.AccountDidNotDeserialize,"Failed to deserialize the account"],[Oe.AccountDidNotSerialize,"Failed to serialize the account"],[Oe.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[Oe.AccountNotMutable,"The given account is not mutable"],[Oe.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[Oe.InvalidProgramId,"Program ID was not as expected"],[Oe.InvalidProgramExecutable,"Program account is not executable"],[Oe.AccountNotSigner,"The given account did not sign"],[Oe.AccountNotSystemOwned,"The given account is not owned by the system program"],[Oe.AccountNotInitialized,"The program expected this account to be already initialized"],[Oe.AccountNotProgramData,"The given account is not a program data account"],[Oe.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[Oe.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[Oe.AccountReallocExceedsLimit,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[Oe.AccountDuplicateReallocs,"The account was duplicated for more than one reallocation"],[Oe.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[Oe.TryingToInitPayerAsProgramAccount,"You cannot/should not initialize the payer account as a program account"],[Oe.InvalidNumericConversion,"The program could not perform the numeric conversion, out of range integral type conversion attempted"],[Oe.Deprecated,"The API being used is deprecated and should no longer be used"]]);class dt{static fieldLayout(t,n=[],i){const c=t.name;switch(t.type){case"bool":return tt.bool(c);case"u8":return tt.u8(c);case"i8":return tt.i8(c);case"u16":return tt.u16(c);case"i16":return tt.i16(c);case"u32":return tt.u32(c);case"i32":return tt.i32(c);case"f32":return tt.f32(c);case"u64":return tt.u64(c);case"i64":return tt.i64(c);case"f64":return tt.f64(c);case"u128":return tt.u128(c);case"i128":return tt.i128(c);case"u256":return tt.u256(c);case"i256":return tt.i256(c);case"bytes":return tt.vecU8(c);case"string":return tt.str(c);case"pubkey":return tt.publicKey(c);default:{if("option"in t.type)return tt.option(dt.fieldLayout({type:t.type.option},n,i),c);if("vec"in t.type)return tt.vec(dt.fieldLayout({type:t.type.vec},n,i),c);if("array"in t.type){let[o,l]=t.type.array;return l=dt.resolveArrayLen(l,i),tt.array(dt.fieldLayout({type:o},n,i),l,c)}if("defined"in t.type){if(!n)throw new us("User defined types not provided");const o=t.type.defined.name,l=n.find(d=>d.name===o);if(!l)throw new us(`Type not found: ${t.name}`);return dt.typeDefLayout({typeDef:l,types:n,genericArgs:i??t.type.defined.generics,name:c})}if("generic"in t.type){const o=i?.at(0);if(o?.kind!=="type")throw new us(`Invalid generic field: ${t.name}`);return dt.fieldLayout({...t,type:o.type},n)}throw new us(`Not yet implemented: ${JSON.stringify(t.type)}`)}}}static typeDefLayout({typeDef:t,types:n,name:i,genericArgs:c}){switch(t.type.kind){case"struct":{const o=to(t.type.fields,()=>[],l=>l.map(d=>{const g=c&&dt.resolveGenericArgs({type:d.type,typeDef:t,genericArgs:c});return dt.fieldLayout(d,n,g)}),l=>l.map((d,g)=>{const w=c&&dt.resolveGenericArgs({type:d,typeDef:t,genericArgs:c});return dt.fieldLayout({name:g.toString(),type:d},n,w)}));return tt.struct(o,i)}case"enum":{const o=t.type.variants.map(l=>{const d=to(l.fields,()=>[],g=>g.map(w=>{const E=c&&dt.resolveGenericArgs({type:w.type,typeDef:t,genericArgs:c});return dt.fieldLayout(w,n,E)}),g=>g.map((w,E)=>{const I=c&&dt.resolveGenericArgs({type:w,typeDef:t,genericArgs:c});return dt.fieldLayout({name:E.toString(),type:w},n,I)}));return tt.struct(d,l.name)});return i!==void 0?tt.rustEnum(o).replicate(i):tt.rustEnum(o,i)}case"type":return dt.fieldLayout({type:t.type.alias,name:i},n)}}static typeSize(t,n,i){var c;switch(t){case"bool":return 1;case"u8":return 1;case"i8":return 1;case"i16":return 2;case"u16":return 2;case"u32":return 4;case"i32":return 4;case"f32":return 4;case"u64":return 8;case"i64":return 8;case"f64":return 8;case"u128":return 16;case"i128":return 16;case"u256":return 32;case"i256":return 32;case"bytes":return 1;case"string":return 1;case"pubkey":return 32;default:if("option"in t)return 1+dt.typeSize(t.option,n,i);if("coption"in t)return 4+dt.typeSize(t.coption,n,i);if("vec"in t)return 1;if("array"in t){let[o,l]=t.array;return l=dt.resolveArrayLen(l,i),dt.typeSize(o,n,i)*l}if("defined"in t){const o=(c=n.types)===null||c===void 0?void 0:c.find(d=>d.name===t.defined.name);if(!o)throw new us(`Type not found: ${JSON.stringify(t)}`);const l=d=>{const g=i??t.defined.generics,w=g&&dt.resolveGenericArgs({type:d,typeDef:o,genericArgs:g});return dt.typeSize(d,n,w)};switch(o.type.kind){case"struct":return to(o.type.fields,()=>[0],d=>d.map(g=>l(g.type)),d=>d.map(g=>l(g))).reduce((d,g)=>d+g,0);case"enum":{const d=o.type.variants.map(g=>to(g.fields,()=>[0],w=>w.map(E=>l(E.type)),w=>w.map(E=>l(E))).reduce((w,E)=>w+E,0));return Math.max(...d)+1}case"type":return dt.typeSize(o.type.alias,n,i)}}if("generic"in t){const o=i?.at(0);if(o?.kind!=="type")throw new us(`Invalid generic: ${t.generic}`);return dt.typeSize(o.type,n,i)}throw new Error(`Invalid type ${JSON.stringify(t)}`)}}static resolveArrayLen(t,n){if(typeof t=="number")return t;if(n){const i=n.find(c=>c.kind==="const");i?.kind==="const"&&(t=+i.value)}if(typeof t!="number")throw new us("Generic array length did not resolve");return t}static resolveGenericArgs({type:t,typeDef:n,genericArgs:i,isDefined:c}){if(typeof t!="object")return null;for(const o in n.generics){const l=n.generics[o];if("generic"in t&&l.name===t.generic)return[i[o]];if("option"in t){const d=dt.resolveGenericArgs({type:t.option,typeDef:n,genericArgs:i,isDefined:c});if(!d||!c)return d;if(d[0].kind==="type")return[{kind:"type",type:{option:d[0].type}}]}if("vec"in t){const d=dt.resolveGenericArgs({type:t.vec,typeDef:n,genericArgs:i,isDefined:c});if(!d||!c)return d;if(d[0].kind==="type")return[{kind:"type",type:{vec:d[0].type}}]}if("array"in t){const[d,g]=t.array,w=typeof g=="object",E=dt.resolveGenericArgs({type:d,typeDef:n,genericArgs:i,isDefined:c})||[];if(w){const I=n.generics.findIndex(k=>k.name===g.generic);I!==-1&&E.push(i[I])}if(E.length>0){if(!c)return E;if(E[0].kind==="type"&&E[1].kind==="const")return[{kind:"type",type:{array:[E[0].type,+E[1].value]}}]}if(w&&l.name===g.generic){const I=i[o];return c?[{kind:"type",type:{array:[d,+I.value]}}]:[I]}return null}if("defined"in t)return t.defined.generics?t.defined.generics.flatMap(d=>{switch(d.kind){case"type":return dt.resolveGenericArgs({type:d.type,typeDef:n,genericArgs:i,isDefined:!0});case"const":return[d]}}).filter(d=>d!==null):null}return null}}class HI{constructor(t){this.idl=t;const n=t.instructions.map(i=>{const c=i.name,o=i.args.map(d=>dt.fieldLayout(d,t.types)),l=tt.struct(o,c);return[c,{discriminator:i.discriminator,layout:l}]});this.ixLayouts=new Map(n)}encode(t,n){const i=Ce.Buffer.alloc(1e3),c=this.ixLayouts.get(t);if(!c)throw new Error(`Unknown method: ${t}`);const o=c.layout.encode(n,i),l=i.slice(0,o);return Ce.Buffer.concat([Ce.Buffer.from(c.discriminator),l])}decode(t,n="hex"){typeof t=="string"&&(t=n==="hex"?Ce.Buffer.from(t,"hex"):rf.decode(t));for(const[i,c]of this.ixLayouts){const o=t.subarray(0,c.discriminator.length);if(o.equals(Ce.Buffer.from(c.discriminator)))return{name:i,data:c.layout.decode(t.subarray(o.length))}}return null}format(t,n){return ir.format(t,n,this.idl)}}class ir{static format(t,n,i){const c=i.instructions.find(g=>t.name===g.name);if(!c)return console.error("Invalid instruction given"),null;const o=c.args.map(g=>({name:g.name,type:ir.formatIdlType(g.type),data:ir.formatIdlData(g,t.data[g.name],i.types)})),l=ir.flattenIdlAccounts(c.accounts),d=n.map((g,w)=>w<l.length?{name:l[w].name,...g}:{name:void 0,...g});return{args:o,accounts:d}}static formatIdlType(t){if(typeof t=="string")return t;if("option"in t)return`Option<${this.formatIdlType(t.option)}>`;if("coption"in t)return`COption<${this.formatIdlType(t.coption)}>`;if("vec"in t)return`Vec<${this.formatIdlType(t.vec)}>`;if("array"in t)return`Array<${t.array[0]}; ${t.array[1]}>`;if("defined"in t){const n=t.defined.name;if(t.defined.generics){const i=t.defined.generics.map(c=>{switch(c.kind){case"type":return ir.formatIdlType(c.type);case"const":return c.value}}).join(", ");return`${n}<${i}>`}return n}throw new Error(`Unknown IDL type: ${t}`)}static formatIdlData(t,n,i){if(typeof t.type=="string")return n.toString();if("vec"in t.type)return"["+n.map(c=>this.formatIdlData({name:"",type:t.type.vec},c,i)).join(", ")+"]";if("option"in t.type)return n===null?"null":this.formatIdlData({name:"",type:t.type.option},n,i);if("defined"in t.type){if(!i)throw new Error("User defined types not provided");const c=t.type.defined.name,o=i.find(l=>l.name===c);if(!o)throw new Error(`Type not found: ${c}`);return ir.formatIdlDataDefined(o,n,i)}return"unknown"}static formatIdlDataDefined(t,n,i){switch(t.type.kind){case"struct":return"{ "+to(t.type.fields,()=>"",c=>Object.entries(n).map(([o,l])=>{const d=c.find(g=>g.name===o);if(!d)throw new Error(`Field not found: ${o}`);return o+": "+ir.formatIdlData(d,l,i)}).join(", "),c=>Object.entries(n).map(([o,l])=>o+": "+ir.formatIdlData({name:"",type:c[o]},l,i)).join(", "))+" }";case"enum":{const c=Object.keys(n)[0],o=t.type.variants.find(d=>d.name===c);if(!o)throw new Error(`Unable to find variant: ${c}`);const l=n[c];return to(o.fields,()=>c,d=>{const g=Object.keys(l).map(w=>{const E=l[w],I=d.find(k=>k.name===w);if(!I)throw new Error(`Field not found: ${w}`);return w+": "+ir.formatIdlData(I,E,i)}).join(", ");return`${c} { ${g} }`},d=>{const g=Object.entries(l).map(([w,E])=>w+": "+ir.formatIdlData({name:"",type:d[w]},E,i)).join(", ");return`${c} { ${g} }`})}case"type":return ir.formatIdlType(t.type.alias)}}static flattenIdlAccounts(t,n){return t.map(i=>{const c=jI(i.name);if(i.hasOwnProperty("accounts")){const o=n?`${n} > ${c}`:c;return ir.flattenIdlAccounts(i.accounts,o)}else return{...i,name:n?`${n} > ${c}`:c}}).flat()}}function jI(s){const t=s.replace(/([A-Z])/g," $1");return t.charAt(0).toUpperCase()+t.slice(1)}class Ap{constructor(t){if(this.idl=t,!t.accounts){this.accountLayouts=new Map;return}const n=t.types;if(!n)throw new Error("Accounts require `idl.types`");const i=t.accounts.map(c=>{const o=n.find(l=>l.name===c.name);if(!o)throw new Error(`Account not found: ${c.name}`);return[c.name,{discriminator:c.discriminator,layout:dt.typeDefLayout({typeDef:o,types:n})}]});this.accountLayouts=new Map(i)}async encode(t,n){const i=Ce.Buffer.alloc(1e3),c=this.accountLayouts.get(t);if(!c)throw new Error(`Unknown account: ${t}`);const o=c.layout.encode(n,i),l=i.slice(0,o),d=this.accountDiscriminator(t);return Ce.Buffer.concat([d,l])}decode(t,n){const i=this.accountDiscriminator(t);if(i.compare(n.slice(0,i.length)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(t,n)}decodeAny(t){for(const[n,i]of this.accountLayouts)if(t.subarray(0,i.discriminator.length).equals(Ce.Buffer.from(i.discriminator)))return this.decodeUnchecked(n,t);throw new Error("Account not found")}decodeUnchecked(t,n){const i=this.accountDiscriminator(t),c=n.subarray(i.length),o=this.accountLayouts.get(t);if(!o)throw new Error(`Unknown account: ${t}`);return o.layout.decode(c)}memcmp(t,n){const i=this.accountDiscriminator(t);return{offset:0,bytes:rf.encode(n?Ce.Buffer.concat([i,n]):i)}}size(t){return this.accountDiscriminator(t).length+dt.typeSize({defined:{name:t}},this.idl)}accountDiscriminator(t){var n;const i=(n=this.idl.accounts)===null||n===void 0?void 0:n.find(c=>c.name===t);if(!i)throw new Error(`Account not found: ${t}`);return Ce.Buffer.from(i.discriminator)}}class qI{constructor(t){if(!t.events){this.layouts=new Map;return}const n=t.types;if(!n)throw new Error("Events require `idl.types`");const i=t.events.map(c=>{const o=n.find(l=>l.name===c.name);if(!o)throw new Error(`Event not found: ${c.name}`);return[c.name,{discriminator:c.discriminator,layout:dt.typeDefLayout({typeDef:o,types:n})}]});this.layouts=new Map(i)}decode(t){let n;try{n=bp(t)}catch{return null}for(const[i,c]of this.layouts){const o=n.subarray(0,c.discriminator.length);if(o.equals(Ce.Buffer.from(c.discriminator)))return{name:i,data:c.layout.decode(n.subarray(o.length))}}return null}}class PI{constructor(t){const n=t.types;if(!n){this.typeLayouts=new Map;return}const i=n.filter(c=>!c.generics).map(c=>[c.name,dt.typeDefLayout({typeDef:c,types:n})]);this.typeLayouts=new Map(i)}encode(t,n){const i=Ce.Buffer.alloc(1e3),c=this.typeLayouts.get(t);if(!c)throw new Error(`Unknown type: ${t}`);const o=c.encode(n,i);return i.slice(0,o)}decode(t,n){const i=this.typeLayouts.get(t);if(!i)throw new Error(`Unknown type: ${t}`);return i.decode(n)}}class IE{constructor(t){this.instruction=new HI(t),this.accounts=new Ap(t),this.events=new qI(t),this.types=new PI(t)}}class Wn{constructor(t,n){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=n}makeDestinationObject(){return{}}decode(t,n){throw new Error("Layout is abstract")}encode(t,n,i){throw new Error("Layout is abstract")}getSpan(t,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=t,n}fromArray(t){}}var of=Wn;function KI(s,t){return t.property?s+"["+t.property+"]":s}class Ws extends Wn{isCount(){throw new Error("ExternalLayout is abstract")}}class CE extends Ws{constructor(t,n,i){if(!(t instanceof Wn))throw new TypeError("layout must be a Layout");if(n===void 0)n=0;else if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(t.span,i||t.property),this.layout=t,this.offset=n}isCount(){return this.layout instanceof cf||this.layout instanceof BE}decode(t,n){return n===void 0&&(n=0),this.layout.decode(t,n+this.offset)}encode(t,n,i){return i===void 0&&(i=0),this.layout.encode(t,n,i+this.offset)}}class cf extends Wn{constructor(t,n){if(super(t,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,n){return n===void 0&&(n=0),t.readUIntLE(n,this.span)}encode(t,n,i){return i===void 0&&(i=0),n.writeUIntLE(t,i,this.span),this.span}}class BE extends Wn{constructor(t,n){if(super(t,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,n){return n===void 0&&(n=0),t.readUIntBE(n,this.span)}encode(t,n,i){return i===void 0&&(i=0),n.writeUIntBE(t,i,this.span),this.span}}const B0=Math.pow(2,32);function ME(s){const t=Math.floor(s/B0),n=s-t*B0;return{hi32:t,lo32:n}}function UE(s,t){return s*B0+t}class VI extends Wn{constructor(t){super(8,t)}decode(t,n){n===void 0&&(n=0);const i=t.readUInt32LE(n),c=t.readUInt32LE(n+4);return UE(c,i)}encode(t,n,i){i===void 0&&(i=0);const c=ME(t);return n.writeUInt32LE(c.lo32,i),n.writeUInt32LE(c.hi32,i+4),8}}class GI extends Wn{constructor(t){super(8,t)}decode(t,n){n===void 0&&(n=0);const i=t.readUInt32LE(n),c=t.readInt32LE(n+4);return UE(c,i)}encode(t,n,i){i===void 0&&(i=0);const c=ME(t);return n.writeUInt32LE(c.lo32,i),n.writeInt32LE(c.hi32,i+4),8}}class FI extends Wn{constructor(t,n,i){if(!(Array.isArray(t)&&t.reduce((o,l)=>o&&l instanceof Wn,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&i===void 0&&(i=n,n=void 0);for(const o of t)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let c=-1;try{c=t.reduce((o,l)=>o+l.getSpan(),0)}catch{}super(c,n),this.fields=t,this.decodePrefixes=!!i}getSpan(t,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let i=0;try{i=this.fields.reduce((c,o)=>{const l=o.getSpan(t,n);return n+=l,c+l},0)}catch{throw new RangeError("indeterminate span")}return i}decode(t,n){n===void 0&&(n=0);const i=this.makeDestinationObject();for(const c of this.fields)if(c.property!==void 0&&(i[c.property]=c.decode(t,n)),n+=c.getSpan(t,n),this.decodePrefixes&&t.length===n)break;return i}encode(t,n,i){i===void 0&&(i=0);const c=i;let o=0,l=0;for(const d of this.fields){let g=d.span;if(l=0<g?g:0,d.property!==void 0){const w=t[d.property];w!==void 0&&(l=d.encode(w,n,i),0>g&&(g=d.getSpan(n,i)))}o=i,i+=g}return o+l-c}fromArray(t){const n=this.makeDestinationObject();for(const i of this.fields)i.property!==void 0&&0<t.length&&(n[i.property]=t.shift());return n}layoutFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===t)return n}offsetOf(t){if(typeof t!="string")throw new TypeError("property must be string");let n=0;for(const i of this.fields){if(i.property===t)return n;0>i.span?n=-1:0<=n&&(n+=i.span)}}}class DE{constructor(t){this.property=t}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class uw extends DE{constructor(t,n){if(!(t instanceof Ws&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||t.property||"variant"),this.layout=t}decode(t,n){return this.layout.decode(t,n)}encode(t,n,i){return this.layout.encode(t,n,i)}}class LE extends Wn{constructor(t,n,i){const c=t instanceof cf||t instanceof BE;if(c)t=new uw(new CE(t));else if(t instanceof Ws&&t.isCount())t=new uw(t);else if(!(t instanceof DE))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof Wn))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let o=-1;n&&(o=n.span,0<=o&&c&&(o+=t.layout.span)),super(o,i),this.discriminator=t,this.usesPrefixDiscriminator=c,this.defaultLayout=n,this.registry={};let l=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(d){return l(d)},this.configGetSourceVariant=function(d){l=d.bind(this)}}getSpan(t,n){if(0<=this.span)return this.span;n===void 0&&(n=0);const i=this.getVariant(t,n);if(!i)throw new Error("unable to determine span for unrecognized variant");return i.getSpan(t,n)}defaultGetSourceVariant(t){if(t.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&t.hasOwnProperty(this.defaultLayout.property))return;const n=this.registry[t[this.discriminator.property]];if(n&&(!n.layout||t.hasOwnProperty(n.property)))return n}else for(const n in this.registry){const i=this.registry[n];if(t.hasOwnProperty(i.property))return i}throw new Error("unable to infer src variant")}decode(t,n){n===void 0&&(n=0);let i;const c=this.discriminator,o=c.decode(t,n);let l=this.registry[o];if(l===void 0){let d=0;l=this.defaultLayout,this.usesPrefixDiscriminator&&(d=c.layout.span),i=this.makeDestinationObject(),i[c.property]=o,i[l.property]=this.defaultLayout.decode(t,n+d)}else i=l.decode(t,n);return i}encode(t,n,i){i===void 0&&(i=0);const c=this.getSourceVariant(t);if(c===void 0){const o=this.discriminator,l=this.defaultLayout;let d=0;return this.usesPrefixDiscriminator&&(d=o.layout.span),o.encode(t[o.property],n,i),d+l.encode(t[l.property],n,i+d)}return c.encode(t,n,i)}addVariant(t,n,i){const c=new YI(this,t,n,i);return this.registry[t]=c,c}getVariant(t,n){let i=t;return Buffer.isBuffer(t)&&(n===void 0&&(n=0),i=this.discriminator.decode(t,n)),this.registry[i]}}class YI extends Wn{constructor(t,n,i,c){if(!(t instanceof LE))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof i=="string"&&c===void 0&&(c=i,i=null),i){if(!(i instanceof Wn))throw new TypeError("layout must be a Layout");if(t.defaultLayout!==null&&0<=i.span&&i.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof c!="string")throw new TypeError("variant must have a String property")}let o=t.span;0>t.span&&(o=i?i.span:0,0<=o&&t.usesPrefixDiscriminator&&(o+=t.discriminator.layout.span)),super(o,c),this.union=t,this.variant=n,this.layout=i||null}getSpan(t,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),i+this.layout.getSpan(t,n+i)}decode(t,n){const i=this.makeDestinationObject();if(n===void 0&&(n=0),this!==this.union.getVariant(t,n))throw new Error("variant mismatch");let c=0;return this.union.usesPrefixDiscriminator&&(c=this.union.discriminator.layout.span),this.layout?i[this.property]=this.layout.decode(t,n+c):this.property?i[this.property]=!0:this.union.usesPrefixDiscriminator&&(i[this.union.discriminator.property]=this.variant),i}encode(t,n,i){i===void 0&&(i=0);let c=0;if(this.union.usesPrefixDiscriminator&&(c=this.union.discriminator.layout.span),this.layout&&!t.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,i);let o=c;if(this.layout&&(this.layout.encode(t[this.property],n,i+c),o+=this.layout.getSpan(n,i+c),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}class ZI extends Wn{constructor(t,n){if(!(t instanceof Ws&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let i=-1;t instanceof Ws||(i=t),super(i,n),this.length=t}getSpan(t,n){let i=this.span;return 0>i&&(i=this.length.decode(t,n)),i}decode(t,n){n===void 0&&(n=0);let i=this.span;return 0>i&&(i=this.length.decode(t,n)),t.slice(n,n+i)}encode(t,n,i){let c=this.length;if(this.length instanceof Ws&&(c=t.length),!(Buffer.isBuffer(t)&&c===t.length))throw new TypeError(KI("Blob.encode",this)+" requires (length "+c+") Buffer as src");if(i+c>n.length)throw new RangeError("encoding overruns Buffer");return n.write(t.toString("hex"),i,c,"hex"),this.length instanceof Ws&&this.length.encode(c,n,i),c}}var XI=((s,t,n)=>new CE(s,t,n)),WI=(s=>new cf(1,s)),Ri=(s=>new cf(4,s)),$I=(s=>new VI(s)),Oi=(s=>new GI(s)),_n=((s,t,n)=>new FI(s,t,n)),zE=((s,t,n)=>new LE(s,t,n)),Kc=((s,t)=>new ZI(s,t));class QI extends of{constructor(t){super(-1,t),this.property=t,this.layout=_n([Ri("length"),Ri("lengthPadding"),Kc(XI(Ri(),-8),"chars")],this.property)}encode(t,n,i=0){if(t==null)return this.layout.span;const c={chars:Buffer.from(t,"utf8")};return this.layout.encode(c,n,i)}decode(t,n=0){return this.layout.decode(t,n).chars.toString()}getSpan(t,n=0){return Ri().span+Ri().span+new Nn(new Uint8Array(t).slice(n,n+4),10,"le").toNumber()}}function uf(s){return new QI(s)}function _r(s){return Kc(32,s)}const or=zE(Ri("instruction"));or.addVariant(0,_n([Oi("lamports"),Oi("space"),_r("owner")]),"createAccount");or.addVariant(1,_n([_r("owner")]),"assign");or.addVariant(2,_n([Oi("lamports")]),"transfer");or.addVariant(3,_n([_r("base"),uf("seed"),Oi("lamports"),Oi("space"),_r("owner")]),"createAccountWithSeed");or.addVariant(4,_n([_r("authorized")]),"advanceNonceAccount");or.addVariant(5,_n([Oi("lamports")]),"withdrawNonceAccount");or.addVariant(6,_n([_r("authorized")]),"initializeNonceAccount");or.addVariant(7,_n([_r("authorized")]),"authorizeNonceAccount");or.addVariant(8,_n([Oi("space")]),"allocate");or.addVariant(9,_n([_r("base"),uf("seed"),Oi("space"),_r("owner")]),"allocateWithSeed");or.addVariant(10,_n([_r("base"),uf("seed"),_r("owner")]),"assignWithSeed");or.addVariant(11,_n([Oi("lamports"),uf("seed"),_r("owner")]),"transferWithSeed");Math.max(...Object.values(or.registry).map(s=>s.span));class JI extends of{constructor(t,n,i,c){super(t.span,c),this.layout=t,this.decoder=n,this.encoder=i}decode(t,n){return this.decoder(this.layout.decode(t,n))}encode(t,n,i){return this.layout.encode(this.encoder(t),n,i)}getSpan(t,n){return this.layout.getSpan(t,n)}}function lw(s){return new JI(Kc(32),t=>new ve(t),t=>t.toBuffer(),s)}_n([Ri("version"),Ri("state"),lw("authorizedPubkey"),lw("nonce"),_n([$I("lamportsPerSignature")],"feeCalculator")]);function eC(s){return new TextDecoder().decode(kl(s))}var tC=Object.freeze({__proto__:null,hash:eC});function nC(s,t,n){const i=Ce.Buffer.concat([s.toBuffer(),Ce.Buffer.from(t),n.toBuffer()]);return new ve(kl(i))}var rC=Object.freeze({__proto__:null,createWithSeedSync:nC});const HE=new ve("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),jE=new ve("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");function iC({mint:s,owner:t}){return ve.findProgramAddressSync([t.toBuffer(),HE.toBuffer(),s.toBuffer()],jE)[0]}var sC=Object.freeze({__proto__:null,TOKEN_PROGRAM_ID:HE,ASSOCIATED_PROGRAM_ID:jE,associatedAddress:iC}),M0={exports:{}};(function(s,t){var n=typeof self<"u"?self:BI,i=(function(){function o(){this.fetch=!1,this.DOMException=n.DOMException}return o.prototype=n,new o})();(function(o){(function(l){var d={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function g(h){return h&&DataView.prototype.isPrototypeOf(h)}if(d.arrayBuffer)var w=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],E=ArrayBuffer.isView||function(h){return h&&w.indexOf(Object.prototype.toString.call(h))>-1};function I(h){if(typeof h!="string"&&(h=String(h)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(h))throw new TypeError("Invalid character in header field name");return h.toLowerCase()}function k(h){return typeof h!="string"&&(h=String(h)),h}function R(h){var _={next:function(){var S=h.shift();return{done:S===void 0,value:S}}};return d.iterable&&(_[Symbol.iterator]=function(){return _}),_}function M(h){this.map={},h instanceof M?h.forEach(function(_,S){this.append(S,_)},this):Array.isArray(h)?h.forEach(function(_){this.append(_[0],_[1])},this):h&&Object.getOwnPropertyNames(h).forEach(function(_){this.append(_,h[_])},this)}M.prototype.append=function(h,_){h=I(h),_=k(_);var S=this.map[h];this.map[h]=S?S+", "+_:_},M.prototype.delete=function(h){delete this.map[I(h)]},M.prototype.get=function(h){return h=I(h),this.has(h)?this.map[h]:null},M.prototype.has=function(h){return this.map.hasOwnProperty(I(h))},M.prototype.set=function(h,_){this.map[I(h)]=k(_)},M.prototype.forEach=function(h,_){for(var S in this.map)this.map.hasOwnProperty(S)&&h.call(_,this.map[S],S,this)},M.prototype.keys=function(){var h=[];return this.forEach(function(_,S){h.push(S)}),R(h)},M.prototype.values=function(){var h=[];return this.forEach(function(_){h.push(_)}),R(h)},M.prototype.entries=function(){var h=[];return this.forEach(function(_,S){h.push([S,_])}),R(h)},d.iterable&&(M.prototype[Symbol.iterator]=M.prototype.entries);function U(h){if(h.bodyUsed)return Promise.reject(new TypeError("Already read"));h.bodyUsed=!0}function z(h){return new Promise(function(_,S){h.onload=function(){_(h.result)},h.onerror=function(){S(h.error)}})}function j(h){var _=new FileReader,S=z(_);return _.readAsArrayBuffer(h),S}function F(h){var _=new FileReader,S=z(_);return _.readAsText(h),S}function V(h){for(var _=new Uint8Array(h),S=new Array(_.length),C=0;C<_.length;C++)S[C]=String.fromCharCode(_[C]);return S.join("")}function $(h){if(h.slice)return h.slice(0);var _=new Uint8Array(h.byteLength);return _.set(new Uint8Array(h)),_.buffer}function re(){return this.bodyUsed=!1,this._initBody=function(h){this._bodyInit=h,h?typeof h=="string"?this._bodyText=h:d.blob&&Blob.prototype.isPrototypeOf(h)?this._bodyBlob=h:d.formData&&FormData.prototype.isPrototypeOf(h)?this._bodyFormData=h:d.searchParams&&URLSearchParams.prototype.isPrototypeOf(h)?this._bodyText=h.toString():d.arrayBuffer&&d.blob&&g(h)?(this._bodyArrayBuffer=$(h.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):d.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(h)||E(h))?this._bodyArrayBuffer=$(h):this._bodyText=h=Object.prototype.toString.call(h):this._bodyText="",this.headers.get("content-type")||(typeof h=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):d.searchParams&&URLSearchParams.prototype.isPrototypeOf(h)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},d.blob&&(this.blob=function(){var h=U(this);if(h)return h;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?U(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(j)}),this.text=function(){var h=U(this);if(h)return h;if(this._bodyBlob)return F(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(V(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},d.formData&&(this.formData=function(){return this.text().then(G)}),this.json=function(){return this.text().then(JSON.parse)},this}var oe=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function se(h){var _=h.toUpperCase();return oe.indexOf(_)>-1?_:h}function le(h,_){_=_||{};var S=_.body;if(h instanceof le){if(h.bodyUsed)throw new TypeError("Already read");this.url=h.url,this.credentials=h.credentials,_.headers||(this.headers=new M(h.headers)),this.method=h.method,this.mode=h.mode,this.signal=h.signal,!S&&h._bodyInit!=null&&(S=h._bodyInit,h.bodyUsed=!0)}else this.url=String(h);if(this.credentials=_.credentials||this.credentials||"same-origin",(_.headers||!this.headers)&&(this.headers=new M(_.headers)),this.method=se(_.method||this.method||"GET"),this.mode=_.mode||this.mode||null,this.signal=_.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&S)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(S)}le.prototype.clone=function(){return new le(this,{body:this._bodyInit})};function G(h){var _=new FormData;return h.trim().split("&").forEach(function(S){if(S){var C=S.split("="),D=C.shift().replace(/\+/g," "),B=C.join("=").replace(/\+/g," ");_.append(decodeURIComponent(D),decodeURIComponent(B))}}),_}function Z(h){var _=new M,S=h.replace(/\r?\n[\t ]+/g," ");return S.split(/\r?\n/).forEach(function(C){var D=C.split(":"),B=D.shift().trim();if(B){var v=D.join(":").trim();_.append(B,v)}}),_}re.call(le.prototype);function X(h,_){_||(_={}),this.type="default",this.status=_.status===void 0?200:_.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in _?_.statusText:"OK",this.headers=new M(_.headers),this.url=_.url||"",this._initBody(h)}re.call(X.prototype),X.prototype.clone=function(){return new X(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new M(this.headers),url:this.url})},X.error=function(){var h=new X(null,{status:0,statusText:""});return h.type="error",h};var W=[301,302,303,307,308];X.redirect=function(h,_){if(W.indexOf(_)===-1)throw new RangeError("Invalid status code");return new X(null,{status:_,headers:{location:h}})},l.DOMException=o.DOMException;try{new l.DOMException}catch{l.DOMException=function(_,S){this.message=_,this.name=S;var C=Error(_);this.stack=C.stack},l.DOMException.prototype=Object.create(Error.prototype),l.DOMException.prototype.constructor=l.DOMException}function x(h,_){return new Promise(function(S,C){var D=new le(h,_);if(D.signal&&D.signal.aborted)return C(new l.DOMException("Aborted","AbortError"));var B=new XMLHttpRequest;function v(){B.abort()}B.onload=function(){var m={status:B.status,statusText:B.statusText,headers:Z(B.getAllResponseHeaders()||"")};m.url="responseURL"in B?B.responseURL:m.headers.get("X-Request-URL");var f="response"in B?B.response:B.responseText;S(new X(f,m))},B.onerror=function(){C(new TypeError("Network request failed"))},B.ontimeout=function(){C(new TypeError("Network request failed"))},B.onabort=function(){C(new l.DOMException("Aborted","AbortError"))},B.open(D.method,D.url,!0),D.credentials==="include"?B.withCredentials=!0:D.credentials==="omit"&&(B.withCredentials=!1),"responseType"in B&&d.blob&&(B.responseType="blob"),D.headers.forEach(function(m,f){B.setRequestHeader(f,m)}),D.signal&&(D.signal.addEventListener("abort",v),B.onreadystatechange=function(){B.readyState===4&&D.signal.removeEventListener("abort",v)}),B.send(typeof D._bodyInit>"u"?null:D._bodyInit)})}return x.polyfill=!0,o.fetch||(o.fetch=x,o.Headers=M,o.Request=le,o.Response=X),l.Headers=M,l.Request=le,l.Response=X,l.fetch=x,Object.defineProperty(l,"__esModule",{value:!0}),l})({})})(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var c=i;t=c.fetch,t.default=c.fetch,t.fetch=c.fetch,t.Headers=c.Headers,t.Request=c.Request,t.Response=c.Response,s.exports=t})(M0,M0.exports);var aC=MI(M0.exports);async function oC(s,t,n=5){const i=`https://api.apr.dev/api/v0/program/${t.toString()}/latest?limit=${n}`,[c,o]=await Promise.all([qE(s,t),aC(i)]),l=(await o.json()).filter(g=>!g.aborted&&g.state==="Built"&&g.verified==="Verified");if(l.length===0)return null;const d=l[0];return c.slot.toNumber()!==d.verified_slot?null:d}async function qE(s,t){const n=await s.getAccountInfo(t);if(n===null)throw new Error("program account not found");const{program:i}=U0(n.data),c=await s.getAccountInfo(i.programdataAddress);if(c===null)throw new Error("program data account not found");const{programData:o}=U0(c.data);return o}const cC=tt.rustEnum([tt.struct([],"uninitialized"),tt.struct([tt.option(tt.publicKey(),"authorityAddress")],"buffer"),tt.struct([tt.publicKey("programdataAddress")],"program"),tt.struct([tt.u64("slot"),tt.option(tt.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,tt.u32());function U0(s){return cC.decode(s)}var uC=Object.freeze({__proto__:null,verifiedBuild:oC,fetchData:qE,decodeUpgradeableLoaderState:U0}),Ks=Object.freeze({__proto__:null,sha256:tC,rpc:II,publicKey:rC,bytes:cI,token:sC,features:LI,registry:uC});const D0="Program log: ",PE="Program data: ",lC=D0.length,fC=PE.length;class dC{constructor(t,n,i){this._programId=t,this._provider=n,this._eventParser=new ys(t,i),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(t,n,i){var c;let o=this._listenerIdCount;return this._listenerIdCount+=1,this._eventListeners.has(t)||this._eventListeners.set(t,[]),this._eventListeners.set(t,((c=this._eventListeners.get(t))!==null&&c!==void 0?c:[]).concat(o)),this._eventCallbacks.set(o,[t,n]),this._onLogsSubscriptionId!==void 0||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,(l,d)=>{if(!l.err)for(const g of this._eventParser.parseLogs(l.logs)){const w=this._eventListeners.get(g.name);w&&w.forEach(E=>{const I=this._eventCallbacks.get(E);if(I){const[,k]=I;k(g.data,d.slot,l.signature)}})}},i)),o}async removeEventListener(t){const n=this._eventCallbacks.get(t);if(!n)throw new Error(`Event listener ${t} doesn't exist!`);const[i]=n;let c=this._eventListeners.get(i);if(!c)throw new Error(`Event listeners don't exist for ${i}!`);if(this._eventCallbacks.delete(t),c=c.filter(o=>o!==t),this._eventListeners.set(i,c),c.length===0&&this._eventListeners.delete(i),this._eventCallbacks.size===0){if(this._eventListeners.size!==0)throw new Error(`Expected event listeners size to be 0 but got ${this._eventListeners.size}`);this._onLogsSubscriptionId!==void 0&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0)}}}class ys{constructor(t,n){this.coder=n,this.programId=t}*parseLogs(t,n=!1){const i=new pC([...t]),c=new hC,o=i.next();if(o===null)return;const l=ys.INVOKE_RE.exec(o);if(!l||l[2]!==ys.ROOT_DEPTH)throw new Error(`Unexpected first log line: ${o}`);for(c.push(l[1]);i.peek()!==null;){const d=i.next();if(d===null)break;let[g,w,E]=this.handleLog(c,d,n);if(g&&(yield g),w&&c.push(w),E){c.pop();const I=i.peek();if(I&&I.endsWith("invoke [1]")){const k=ys.INVOKE_RE.exec(I);k&&c.push(k[1])}}}}handleLog(t,n,i){return t.stack.length>0&&t.program()===this.programId.toString()?this.handleProgramLog(n,i):[null,...this.handleSystemLog(n)]}handleProgramLog(t,n){if(t.startsWith(D0)||t.startsWith(PE)){const i=t.startsWith(D0)?t.slice(lC):t.slice(fC),c=this.coder.events.decode(i);if(n&&c===null)throw new Error(`Unable to decode event ${i}`);return[c,null,!1]}else return[null,...this.handleSystemLog(t)]}handleSystemLog(t){return t.startsWith(`Program ${this.programId.toString()} log:`)?[this.programId.toString(),!1]:t.includes("invoke")&&!t.endsWith("[1]")?["cpi",!1]:/^Program ([1-9A-HJ-NP-Za-km-z]+) success$/.test(t)?[null,!0]:[null,!1]}}ys.INVOKE_RE=/^Program ([1-9A-HJ-NP-Za-km-z]+) invoke \[(\d+)\]$/;ys.ROOT_DEPTH="1";class hC{constructor(){this.stack=[]}program(){if(!this.stack.length)throw new Error("Expected the stack to have elements");return this.stack[this.stack.length-1]}push(t){this.stack.push(t)}pop(){if(!this.stack.length)throw new Error("Expected the stack to have elements");this.stack.pop()}}class pC{constructor(t){this.logs=t,this.logs=this.logs.filter(n=>n.startsWith("Program "))}next(){if(this.logs.length===0)return null;let t=this.logs[0];return this.logs=this.logs.slice(1),t}peek(){return this.logs.length>0?this.logs[0]:null}}function lf(s,t){var n,i;let c={};const o=s.args?s.args.length:0;if(t.length>o){if(t.length!==o+1)throw new Error(`provided too many arguments ${t} to instruction ${s?.name} expecting: ${(i=(n=s.args)===null||n===void 0?void 0:n.map(l=>l.name))!==null&&i!==void 0?i:[]}`);c=t.pop()}return[t,c]}class ql{static build(t,n,i){if(t.name==="_inner")throw new us("the _inner name is reserved");const c=(...o)=>{const[l,d]=lf(t,[...o]);tv(t.accounts,d.accounts),mC(t,...o);const g=c.accounts(d.accounts);return d.remainingAccounts!==void 0&&g.push(...d.remainingAccounts),Sp("debug-logs")&&console.log("Outgoing account metas:",g),new Rt({keys:g,programId:i,data:n(t.name,mI(t,...l))})};return c.accounts=o=>ql.accountsArray(o,t.accounts,i,t.name),c}static accountsArray(t,n,i,c){return t?n.map(o=>{if(ls(o)){const E=t[o.name];return ql.accountsArray(E,o.accounts,i,c).flat()}let l;try{l=br(t[o.name])}catch{throw new Error(`Wrong input type for account "${o.name}" in the instruction accounts object${c!==void 0?' for instruction "'+c+'"':""}. Expected PublicKey or string.`)}const d=o.optional&&l.equals(i),g=!!(o.writable&&!d),w=!!(o.signer&&!d);return{pubkey:l,isWritable:g,isSigner:w}}).flat():[]}}function mC(s,...t){}class yC{static build(t,n){return(...c)=>{var o,l,d;const[,g]=lf(t,[...c]),w=new pt;if(g.preInstructions&&g.instructions)throw new Error("instructions is deprecated, use preInstructions");return(o=g.preInstructions)===null||o===void 0||o.forEach(E=>w.add(E)),(l=g.instructions)===null||l===void 0||l.forEach(E=>w.add(E)),w.add(n(...c)),(d=g.postInstructions)===null||d===void 0||d.forEach(E=>w.add(E)),w}}}class gC{static build(t,n,i,c){return async(...l)=>{var d;const g=n(...l),[,w]=lf(t,[...l]);if(c.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await c.sendAndConfirm(g,(d=w.signers)!==null&&d!==void 0?d:[],w.options)}catch(E){throw kE(E,i)}}}}class bC{static build(t,n,i,c){var o;return((o=t.accounts)!==null&&o!==void 0?o:[]).reduce((l,d)=>(l[d.name]=new wC(t,d,i,c,n),l),{})}}class wC{get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}constructor(t,n,i,c,o){this._idlAccount=n,this._programId=i,this._provider=c??Hl(),this._coder=o??new IE(t),this._size=this._coder.accounts.size(n.name)}async fetchNullable(t,n){const{data:i}=await this.fetchNullableAndContext(t,n);return i}async fetchNullableAndContext(t,n){const i=await this.getAccountInfoAndContext(t,n),{value:c,context:o}=i;return{data:c&&c.data.length!==0?this._coder.accounts.decode(this._idlAccount.name,c.data):null,context:o}}async fetch(t,n){const{data:i}=await this.fetchNullableAndContext(t,n);if(i===null)throw new Error(`Account does not exist or has no data ${t.toString()}`);return i}async fetchAndContext(t,n){const{data:i,context:c}=await this.fetchNullableAndContext(t,n);if(i===null)throw new Error(`Account does not exist ${t.toString()}`);return{data:i,context:c}}async fetchMultiple(t,n){return(await this.fetchMultipleAndContext(t,n)).map(c=>c?c.data:null)}async fetchMultipleAndContext(t,n){return(await Ep(this._provider.connection,t.map(c=>br(c)),n)).map(c=>{if(c==null)return null;const{account:o,context:l}=c;return{data:this._coder.accounts.decode(this._idlAccount.name,o.data),context:l}})}async all(t){const n=this.coder.accounts.memcmp(this._idlAccount.name,t instanceof Buffer?t:void 0),i=[];return n?.offset!=null&&n?.bytes!=null&&i.push({memcmp:{offset:n.offset,bytes:n.bytes}}),n?.dataSize!=null&&i.push({dataSize:n.dataSize}),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[...i,...Array.isArray(t)?t:[]]})).map(({pubkey:o,account:l})=>({publicKey:o,account:this._coder.accounts.decode(this._idlAccount.name,l.data)}))}subscribe(t,n){const i=bc.get(t.toString());if(i)return i.ee;const c=new $k;t=br(t);const o=this._provider.connection.onAccountChange(t,l=>{const d=this._coder.accounts.decode(this._idlAccount.name,l.data);c.emit("change",d)},n);return bc.set(t.toString(),{ee:c,listener:o}),c}async unsubscribe(t){let n=bc.get(t.toString());if(!n){console.warn("Address is not subscribed");return}bc&&await this._provider.connection.removeAccountChangeListener(n.listener).then(()=>{bc.delete(t.toString())}).catch(console.error)}async createInstruction(t,n){const i=this.size;if(this._provider.publicKey===void 0)throw new Error("This function requires the Provider interface implementor to have a 'publicKey' field.");return hn.createAccount({fromPubkey:this._provider.publicKey,newAccountPubkey:t.publicKey,space:n??i,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(n??i),programId:this._programId})}async getAccountInfo(t,n){return await this._provider.connection.getAccountInfo(br(t),n)}async getAccountInfoAndContext(t,n){return await this._provider.connection.getAccountInfoAndContext(br(t),n)}}const bc=new Map;class _C{static build(t,n,i,c,o,l,d){return async(...w)=>{var E;const I=n(...w),[,k]=lf(t,[...w]);let R;if(c.simulate===void 0)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{R=await c.simulate(I,k.signers,(E=k.options)===null||E===void 0?void 0:E.commitment)}catch(z){throw kE(z,i)}if(R===void 0)throw new Error("Unable to simulate transaction");const M=R.logs;if(!M)throw new Error("Simulated logs not found");const U=[];if(d.events){let z=new ys(l,o);for(const j of z.parseLogs(M))U.push(j)}return{events:U,raw:M}}}}function f0(s){return new KE(Kc(8),t=>Rp.fromBuffer(t),t=>t.toBuffer(),s)}function yl(s){return new KE(Kc(32),t=>new ve(t),t=>t.toBuffer(),s)}function d0(s,t){return new vC(s,t)}class KE extends of{constructor(t,n,i,c){super(t.span,c),this.layout=t,this.decoder=n,this.encoder=i}decode(t,n){return this.decoder(this.layout.decode(t,n))}encode(t,n,i){return this.layout.encode(this.encoder(t),n,i)}getSpan(t,n){return this.layout.getSpan(t,n)}}class vC extends of{constructor(t,n){super(-1,n),this.layout=t,this.discriminator=Ri()}encode(t,n,i=0){return t==null?this.layout.span+this.discriminator.encode(0,n,i):(this.discriminator.encode(1,n,i),this.layout.encode(t,n,i+4)+4)}decode(t,n=0){const i=this.discriminator.decode(t,n);if(i===0)return null;if(i===1)return this.layout.decode(t,n+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(t,n=0){return this.layout.getSpan(t,n+4)+4}}class Rp extends Nn{toBuffer(){const t=super.toArray().reverse(),n=Buffer.from(t);if(n.length===8)return n;if(n.length>=8)throw new Error("u64 too large");const i=Buffer.alloc(8);return n.copy(i),i}static fromBuffer(t){if(t.length!==8)throw new Error(`Invalid buffer length: ${t.length}`);return new Rp([...t].reverse().map(n=>`00${n.toString(16)}`.slice(-2)).join(""),16)}}const EC=_n([yl("mint"),yl("owner"),f0("amount"),d0(yl(),"delegate"),(s=>{const t=zE(WI("discriminator"),null,s);return t.addVariant(0,_n([]),"uninitialized"),t.addVariant(1,_n([]),"initialized"),t.addVariant(2,_n([]),"frozen"),t})("state"),d0(f0(),"isNative"),f0("delegatedAmount"),d0(yl(),"closeAuthority")]);function SC(s){return EC.decode(s)}class AC{constructor(t,n,i,c,o,l,d,g){this._args=t,this._accounts=n,this._provider=i,this._programId=c,this._idlIx=o,this._idlTypes=d,this._customResolver=g,this._accountStore=new RC(i,l,c)}args(t){this._args=t}async resolve(){this.resolveEventCpi(this._idlIx.accounts),this.resolveConst(this._idlIx.accounts);let t=0;for(;await this.resolvePdasAndRelations(this._idlIx.accounts)+await this.resolveCustom()>0;)if(t++,t===16){const n=l=>ls(l)?l.accounts.some(n):!!(l.address||l.pda||l.relations),i=(l,d=[],g=[])=>{for(const w of l)ls(w)?g.push(...i(w.accounts,[...d,w.name])):g.push([...d,w.name]);return g},c=this._idlIx.accounts.filter(n),o=i(c).filter(l=>!this.get(l)).map(l=>l.reduce((d,g)=>d+"."+g)).map(l=>`\`${l}\``).join(", ");throw new Error(["Reached maximum depth for account resolution.",`Unresolved accounts: ${o}`].join(" "))}}resolveOptionals(t){Object.assign(this._accounts,this.resolveOptionalsHelper(t,this._idlIx.accounts))}get(t){const n=t.reduce((i,c)=>i&&i[c],this._accounts);if(n&&n.toBase58)return n}set(t,n){let i=this._accounts;t.forEach((c,o)=>{var l;o===t.length-1&&(i[c]=n),i[c]=(l=i[c])!==null&&l!==void 0?l:{},i=i[c]})}resolveOptionalsHelper(t,n){const i={};for(const c of n){const o=c.name,l=t[o];l!==void 0&&(VE(l)?ls(c)?i[o]=this.resolveOptionalsHelper(l,c.accounts):i[o]=GE(l):l!==null?i[o]=br(l):c.optional&&(i[o]=this._programId))}return i}async resolveCustom(){if(this._customResolver){const{accounts:t,resolved:n}=await this._customResolver({args:this._args,accounts:this._accounts,provider:this._provider,programId:this._programId,idlIx:this._idlIx});return this._accounts=t,n}return 0}resolveEventCpi(t,n=[]){for(const i in t){const c=t[i];ls(c)&&this.resolveEventCpi(c.accounts,[...n,c.name]);const o=+i+1;if(o===t.length)return;const l=t[i].name,d=t[o].name;if(l==="eventAuthority"&&d==="program"){const g=[...n,l],w=[...n,d];this.get(g)||this.set(g,ve.findProgramAddressSync([Buffer.from("__event_authority")],this._programId)[0]),this.get(w)||this.set(w,this._programId);return}}}resolveConst(t,n=[]){for(const i of t){const c=i.name;if(ls(i))this.resolveConst(i.accounts,[...n,c]);else{const o=i;if((o.signer||o.address)&&!this.get([...n,c])){if(o.signer){if(!this._provider.publicKey)throw new Error("This function requires the `Provider` interface implementor to have a `publicKey` field.");this.set([...n,c],this._provider.publicKey)}o.address&&this.set([...n,c],br(o.address))}}}}async resolvePdasAndRelations(t,n=[]){let i=0;for(const c of t){const o=c.name;if(ls(c))i+=await this.resolvePdasAndRelations(c.accounts,[...n,o]);else{const l=c;if((l.pda||l.relations)&&!this.get([...n,o])){i++;try{if(l.pda){const d=await Promise.all(l.pda.seeds.map(E=>this.toBuffer(E,n)));if(d.some(E=>!E))continue;const g=await this.parseProgramId(l,n),[w]=ve.findProgramAddressSync(d,g);this.set([...n,o],w)}}catch{}try{if(l.relations){const d=this.get([...n,l.relations[0]]);if(d){const g=await this._accountStore.fetchAccount({publicKey:d});this.set([...n,o],g[o])}}}catch{}}}}return i}async parseProgramId(t,n=[]){var i;if(!(!((i=t.pda)===null||i===void 0)&&i.program))return this._programId;const c=await this.toBuffer(t.pda.program,n);if(!c)throw new Error(`Program seed not resolved: ${t.name}`);return new ve(c)}async toBuffer(t,n=[]){switch(t.kind){case"const":return this.toBufferConst(t);case"arg":return await this.toBufferArg(t);case"account":return await this.toBufferAccount(t,n);default:throw new Error(`Unexpected seed: ${t}`)}}toBufferConst(t){return this.toBufferValue("bytes",t.value)}async toBufferArg(t){const[n,...i]=t.path.split("."),c=this._idlIx.args.findIndex(d=>d.name===n);if(c===-1)throw new Error(`Unable to find argument for seed: ${n}`);const o=i.reduce((d,g)=>(d??{})[g],this._args[c]);if(o===void 0)return;const l=this.getType(this._idlIx.args[c].type,i);return this.toBufferValue(l,o)}async toBufferAccount(t,n=[]){const[i,...c]=t.path.split("."),o=this.get([...n,i]);if(!o)return;if(!c.length)return this.toBufferValue("pubkey",o);if(!t.account)throw new Error(`Seed account is required in order to resolve type: ${t.path}`);let d=await this._accountStore.fetchAccount({publicKey:o,name:t.account}),g=c;for(;g.length>0;)d=d[g[0]],g=g.slice(1);if(d===void 0)return;const w=this.getType({defined:{name:t.account}},c);return this.toBufferValue(w,d)}toBufferValue(t,n){switch(t){case"u8":case"i8":return Buffer.from([n]);case"u16":case"i16":return new Nn(n).toArrayLike(Buffer,"le",2);case"u32":case"i32":return new Nn(n).toArrayLike(Buffer,"le",4);case"u64":case"i64":return new Nn(n).toArrayLike(Buffer,"le",8);case"u128":case"i128":return new Nn(n).toArrayLike(Buffer,"le",16);case"u256":case"i256":return new Nn(n).toArrayLike(Buffer,"le",32);case"string":return Buffer.from(n);case"pubkey":return n.toBuffer();case"bytes":return Buffer.from(n);default:if(t?.array)return Buffer.from(n);throw new Error(`Unexpected seed type: ${t}`)}}getType(t,n=[]){var i;const c=(i=t?.defined)===null||i===void 0?void 0:i.name;if(c){if(c==="tokenAccount")switch(n.at(0)){case"mint":case"owner":return"pubkey";case"amount":case"delagatedAmount":return"u64";default:throw new Error(`Unknown token account path: ${n}`)}const o=this._idlTypes.find(E=>E.name===c);if(!o)throw new Error(`Type not found: ${c}`);const[l,...d]=n,w=o.type.fields.find(E=>E.name===l);if(!w)throw new Error(`Field not found: ${l}`);return this.getType(w.type,d)}return t}}class RC{constructor(t,n,i){this._provider=t,this._cache=new Map,this._idls={},this._idls[i.toBase58()]=n}async fetchAccount({publicKey:t,name:n}){const i=t.toBase58();if(!this._cache.has(i)){const c=await this._provider.connection.getAccountInfo(t);if(c===null)throw new Error(`Account not found: ${i}`);if(n==="tokenAccount"){const o=SC(c.data);this._cache.set(i,o)}else{const o=await this.getAccountsNs(c.owner);if(o){const l=Object.values(o)[0];if(l){const d=l.coder.accounts.decodeAny(c.data);this._cache.set(i,d)}}}}return this._cache.get(i)}async getAccountsNs(t){const n=t.toBase58();if(!this._idls[n]){const i=await po.fetchIdl(t,this._provider);if(i){const c=new po(i,this._provider);this._idls[n]=c.account}}return this._idls[n]}}class xC{static build(t,n,i,c,o,l,d,g,w,E,I){return(...k)=>new TC(k,c,o,l,d,g,t,n,i,w,E,I)}}function VE(s){return typeof s=="object"&&s!==null&&!("_bn"in s)}function GE(s,t){const n={};for(const i in s){const c=s[i];if(c===null)throw new Error("Failed to resolve optionals due to IDL type mismatch with input accounts!");n[i]=VE(c)?GE(c):br(c)}return n}class TC{constructor(t,n,i,c,o,l,d,g,w,E,I,k){this._args=t,this._ixFn=n,this._txFn=i,this._rpcFn=c,this._simulateFn=o,this._viewFn=l,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._resolveAccounts=!0,this._accountsResolver=new AC(t,this._accounts,d,g,w,E,I,k)}args(t){this._args=t,this._accountsResolver.args(t)}accounts(t){return this.accountsPartial(t)}accountsPartial(t){return this._resolveAccounts=!0,this._accountsResolver.resolveOptionals(t),this}accountsStrict(t){return this._resolveAccounts=!1,this._accountsResolver.resolveOptionals(t),this}signers(t){return this._signers=this._signers.concat(t),this}remainingAccounts(t){return this._remainingAccounts=this._remainingAccounts.concat(t),this}preInstructions(t,n=!1){return n?this._preInstructions=t.concat(this._preInstructions):this._preInstructions=this._preInstructions.concat(t),this}postInstructions(t){return this._postInstructions=this._postInstructions.concat(t),this}async pubkeys(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._accounts}async instruction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async transaction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async simulate(t){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async view(t){if(this._resolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw new Error(["Method does not support views.","The instruction should return a value, and its accounts must be read-only"].join(" "));return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async rpc(t){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async rpcAndKeys(t){return{signature:await this.rpc(t),pubkeys:await this.pubkeys()}}async prepare(){return{instruction:await this.instruction(),signers:this._signers,pubkeys:await this.pubkeys()}}}class OC{static build(t,n,i,c){const o=n.accounts.find(g=>g.writable),l=!!n.returns;return o||!l?void 0:async(...g)=>{let w=await i(...g);const E=`Program return: ${t} `;let I=w.raw.find(U=>U.startsWith(E));if(!I)throw new Error("View expected return log");let k=bp(I.slice(E.length)),R=n.returns;if(!R)throw new Error("View expected return type");return dt.fieldLayout({type:R},c.types).decode(k)}}}class NC{static build(t,n,i,c,o){const l={},d={},g={},w={},E={},I={},k=pI(t),R=t.accounts?bC.build(t,n,i,c):{};return t.instructions.forEach(M=>{const U=ql.build(M,(oe,se)=>n.instruction.encode(oe,se),i),z=yC.build(M,U),j=gC.build(M,z,k,c),F=_C.build(M,z,k,c,n,i,t),V=OC.build(i,M,F,t),$=xC.build(c,i,M,U,z,j,F,V,R,t.types||[],o?.(M)),re=M.name;d[re]=U,g[re]=z,l[re]=j,w[re]=F,E[re]=$,V&&(I[re]=V)}),[l,d,g,R,w,E,I]}}class po{get programId(){return this._programId}get idl(){return this._idl}get rawIdl(){return this._rawIdl}get coder(){return this._coder}get provider(){return this._provider}constructor(t,n=Hl(),i,c){this._idl=hI(t),this._rawIdl=t,this._provider=n,this._programId=br(t.address),this._coder=i??new IE(this._idl),this._events=new dC(this._programId,n,this._coder);const[o,l,d,g,w,E,I]=NC.build(this._idl,this._coder,this._programId,n,c);this.rpc=o,this.instruction=l,this.transaction=d,this.account=g,this.simulate=w,this.methods=E,this.views=I}static async at(t,n){const i=br(t),c=await po.fetchIdl(i,n);if(!c)throw new Error(`IDL not found for program: ${t.toString()}`);return new po(c,n)}static async fetchIdl(t,n){n=n??Hl();const i=br(t),c=await uI(i),o=await n.connection.getAccountInfo(c);if(!o)return null;let l=dI(o.data.slice(8));const d=Zk(l.data);return JSON.parse(ev(d))}addEventListener(t,n,i){return this._events.addEventListener(t,n,i)}async removeEventListener(t){return await this._events.removeEventListener(t)}}new ve("11111111111111111111111111111111");const h0=[{id:"simple_1",label:"Simple: 1 ticket (recommended)",description:"Normal user flow: commit 1 ticket  reveal  claim (if winner)."},{id:"wrong_reveal",label:"Robustness: wrong reveal (should fail)",description:"Commits normally, then reveals with an intentionally wrong salt.",reveal:{wrongSalt:!0},disabled:!1},{id:"batch_2",label:"Batch: 2 tickets (coming soon)",description:"Commit/reveal 2 tickets with commit_batch/reveal_batch.",disabled:!0},{id:"multi_round",label:"Multi-round (coming soon)",description:"Repeat the same strategy across multiple rounds.",disabled:!0}];function mo(s){const t=typeof s=="bigint"?s:BigInt(s),n=new Uint8Array(8);let i=t;for(let c=0;c<8;c++)n[c]=Number(i&0xffn),i>>=8n;return n}function kC(...s){const t=s.reduce((c,o)=>c+o.length,0),n=new Uint8Array(t);let i=0;for(const c of s)n.set(c,i),i+=c.length;return n}async function IC(s){if(!globalThis.crypto?.subtle)throw new Error("WebCrypto not available (crypto.subtle missing)");const t=await globalThis.crypto.subtle.digest("SHA-256",s);return new Uint8Array(t)}async function CC(s,t,n,i,c){const o=t instanceof ve?t:new ve(t),l=new TextEncoder().encode("commit"),d=kC(l,mo(s),o.toBytes(),mo(n),Uint8Array.from([i&255]),c);return IC(d)}function BC(){const s=new Uint8Array(32);return globalThis.crypto.getRandomValues(s),s}function fw(s){return[...s].map(t=>t.toString(16).padStart(2,"0")).join("")}function MC(s){const t=(s||"").trim();if(t.length%2!==0)throw new Error("Invalid hex length");const n=new Uint8Array(t.length/2);for(let i=0;i<n.length;i++)n[i]=parseInt(t.slice(i*2,i*2+2),16);return n}function ki(s){return new TextEncoder().encode(s)}function no(s){const[t]=ve.findProgramAddressSync([ki("config")],s);return t}function FE(s,t){const[n]=ve.findProgramAddressSync([ki("round_registry"),t.toBytes()],s);return n}function Fr(s,t){const[n]=ve.findProgramAddressSync([ki("round"),mo(t)],s);return n}function Ac(s,t){const[n]=ve.findProgramAddressSync([ki("chrono_vault"),mo(t)],s);return n}function L0(s,t,n,i){const c=n instanceof ve?n:new ve(n),[o]=ve.findProgramAddressSync([ki("ticket"),mo(t),c.toBytes(),mo(i)],s);return o}function Pl(s,t){const[n]=ve.findProgramAddressSync([ki("tokenomics"),t.toBytes()],s);return n}function YE(s,t){const[n]=ve.findProgramAddressSync([ki("reward_fee_pool"),t.toBytes()],s);return n}function UC(s,t){const[n]=ve.findProgramAddressSync([ki("replication_pool"),t.toBytes()],s);return n}function DC(s){const[t]=ve.findProgramAddressSync([ki("treasury")],s);return t}async function LC(s,t,n){const i=await s.getParsedTokenAccountsByOwner(t,{mint:n},"confirmed");return i.value.length?new ve(i.value[0].pubkey):null}function xp(s,t){return`timlg_play_v1:${s}:round:${t}`}function zC(s,t){if(!s)return null;try{const n=localStorage.getItem(xp(s,t));if(!n)return null;const i=JSON.parse(n);return Array.isArray(i)?i.length>0?i[i.length-1]:null:i}catch{return null}}function HC(s,t){if(!s)return[];try{const n=localStorage.getItem(xp(s,t));if(!n)return[];const i=JSON.parse(n);return Array.isArray(i)?i:[i]}catch{return[]}}function jC(s,t,n){if(!s)return;const i=xp(s,t);try{const c=localStorage.getItem(i);let o=[];if(c){const d=JSON.parse(c);Array.isArray(d)?o=d:o=[d]}const l=o.findIndex(d=>d.ticketPda===n.ticketPda);l>=0?o[l]=n:o.push(n),localStorage.setItem(i,JSON.stringify(o))}catch(c){console.error("Failed to save local state",c)}}function qC(s){if(!s)return[];const t=`timlg_play_v1:${s}:round:`,n=[];try{for(let i=0;i<localStorage.length;i++){const c=localStorage.key(i);if(c&&c.startsWith(t)){const o=localStorage.getItem(c);if(o){const l=JSON.parse(o);Array.isArray(l)?n.push(...l):n.push(l)}}}}catch(i){console.error("Failed to scan local storage",i)}return n}function PC(s,t){return zC(s,t)}function xl(s,t){return HC(s,t)}function KC(s){return qC(s)}function fs(s,t,n){jC(s,t,n)}function VC(s){const t=typeof s=="string"?s:s?.toBase58?.()??"";return t.length>10?`${t.slice(0,4)}${t.slice(-4)}`:t}function GC(s){return`https://explorer.solana.com/address/${typeof s=="string"?s:s?.toBase58?.()??""}?cluster=devnet`}function FC(s){return(s?.error?.errorMessage||s?.message||String(s)).replace(/\s+/g," ").trim()}function YC({logs:s=[],onClear:t,title:n="Activity log",defaultOpen:i=!1,maxHeight:c=220}){const o=Re.useMemo(()=>s?.length?s.join(`
`):"",[s]);return K.jsxs("details",{className:"beta-log",open:i,children:[K.jsx("summary",{className:"beta-log__summary",children:K.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[K.jsx("b",{children:n}),K.jsx("span",{className:"beta-log__meta",children:s?.length?`${s.length} lines`:"empty"})]})}),K.jsxs("div",{className:"beta-log__toolbar",children:[K.jsx("button",{className:"beta-btn",onClick:()=>navigator.clipboard?.writeText(o),disabled:!s?.length,title:"Copy to clipboard",type:"button",children:"Copy"}),K.jsx("button",{className:"beta-btn",onClick:()=>t?.(),disabled:!s?.length,type:"button",children:"Clear"})]}),K.jsx("pre",{className:"beta-log__pre",style:{maxHeight:c},children:s?.length?o:""})]})}function ZC({rpcUrl:s,connection:t,program:n,walletReady:i,programPk:c,chronoMint:o,pubkey:l,appendLog:d,chainState:g,refreshProtocolState:w,statusLine:E,onActionComplete:I,nist:k,logs:R,onClearLog:M}){const U=typeof d=="function"?d:()=>{},z=Re.useMemo(()=>new ve(String(o).trim()),[o]),j=l?.toBase58?.()??null,[F,V]=Re.useState("simple_1"),[$,re]=Re.useState(-1),[oe,se]=Re.useState(!1),[le,G]=Re.useState(""),[Z,X]=Re.useState(null);Re.useMemo(()=>h0.find(m=>m.id===F)??h0[0],[F]),Re.useEffect(()=>{if(!j||g?.roundId==null)return;const m=PC(j,g.roundId);X(m||null)},[j,g?.roundId]);function W(m,f,y={}){const O=Object.entries(f).filter(([,L])=>L==null).map(([L])=>L);if(O.length)throw console.error(`${m}: missing accounts`,{missing:O,accounts:f,chainState:g,...y}),new Error(`${m}: missing accounts: ${O.join(", ")}`)}async function x(){if(!l)return U("Commit: connect wallet first.");if(!i||!n)return U("Commit: wallet/program not ready yet.");if(!g?.roundPda||g.roundId==null)return U("Commit: round not loaded yet.");const m=g?.currentSlot,f=g?.round?.commitDeadlineSlot;if(m!=null&&f!=null&&BigInt(m)>=f)return U(`Commit: commit window closed (slot=${m} >= commit_deadline_slot=${f.toString()}).`);if(g.round?.pulseSet)return U("Commit: commit window closed (pulseSet=true).");se(!0),G("");try{const y=g.roundId,O=l;let L=$;L===-1&&(L=Math.floor(Math.random()*2),U(`Randomly picked: ${L===1?"Bull (1)":"Bear (0)"} `));const Y=await LC(t,O,z);if(!Y)throw new Error("You don't have CHRONO yet. Use the faucet first.");const ne=Math.floor(Math.random()*1e9),ie=BC(),he=await CC(y,O,ne,L,ie),Ae=g.configPda??no(c),Ie=g.roundRegistryPda??g.rrPda??FE(c,Ae),Ve=g.chronoVaultPda??Ac(c,y),xt=L0(c,y,O,ne),qe={config:Ae,roundRegistry:Ie,round:g.roundPda,ticket:xt,user:O,chronoMint:z,chronoVault:Ve,userChronoAta:Y,systemProgram:hn.programId,tokenProgram:Ks.token.TOKEN_PROGRAM_ID};W("Commit",qe,{roundId:y,nonce:ne,guess:L}),U(`Commit: sending tx (round=${y}, guess=${L}, nonce=${ne})`);const Fe={version:1,roundId:y,guess:L,nonce:ne,saltHex:fw(ie),commitmentHex:fw(he),ticketPda:xt.toBase58(),committedAt:Date.now(),commitTx:"pending"};fs(j,y,Fe),X(Fe);let en="";try{en=await n.methods.commitTicket(new Nn(y),new Nn(ne),Array.from(he)).accounts(qe).rpc(),G(en),U(`Commit OK  tx=${en}`)}catch(Xe){const We=Xe.message||Xe.toString();if(We.includes("already processed")||We.includes("0x0"))console.warn("Transaction already processed (treating as success):",We),U("Commit likely success (already processed) "),en="recovered-from-error";else throw Xe}Fe.commitTx=en,fs(j,y,Fe),X({...Fe}),await w?.(),I?.()}catch(y){U(`Commit failed: ${FC(y)}`),console.error("Commit error:",y)}finally{se(!1)}}const[h,_]=Re.useState(null);Re.useEffect(()=>{const m=g?.round?.commitDeadlineSlot,f=g?.currentSlot;if(m==null||f==null){_(null);return}const y=Number(m-10n-BigInt(f));if(y<=0){_(0);return}let O=Math.max(0,Math.floor(y*.4));_(O);const L=setInterval(()=>{_(Y=>Y!=null&&Y>0?Y-1:0)},1e3);return()=>clearInterval(L)},[g?.currentSlot,g?.round?.commitDeadlineSlot]);const S=g?.currentSlot,C=g?.round?.commitDeadlineSlot,D=g?.round?.revealDeadlineSlot,B=!!(l&&g?.round&&S!=null&&C!=null&&BigInt(S)<C-10n&&!g.round.pulseSet);oe||console.log("PROTOCOL_DEBUG: canCommit logic",{pubkeyConnected:!!l,hasRound:!!g?.round,curSlot:S,commitDl:C?.toString(),isBeforeDeadline:S!=null&&C!=null&&BigInt(S)<C,pulseSet:g?.round?.pulseSet,canCommitResult:B});const v=B;return l&&g?.round&&Z&&g.round.pulseSet&&S!=null&&D!=null&&BigInt(S)<=D,l&&g?.round&&g.round.tokenSettled,K.jsxs("div",{className:"beta-card",children:[K.jsx("div",{className:"beta-card__head",style:{paddingBottom:0,borderBottom:"none"},children:K.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[K.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:2},children:[K.jsx("div",{style:{display:"flex",alignItems:"center",gap:8},children:K.jsxs("span",{className:"beta-card__title",style:{fontSize:18,fontWeight:"900"},children:["Round #",g?.roundId??""]})}),K.jsxs("div",{style:{fontSize:11,opacity:.6,display:"flex",gap:8},children:[K.jsxs("span",{children:["Target: #",g?.round?.pulseIndexTarget?.toString()??""]}),K.jsx("span",{children:"|"}),K.jsxs("span",{children:["Current:"," ",K.jsxs("a",{href:k?.pulseUrl??"#",target:"_blank",rel:"noreferrer",style:{color:"inherit",textDecoration:"underline"},children:["#",k?.pulse?.pulseIndex??""]})," ","(",k?.pulseTimeMs?new Date(k.pulseTimeMs).toLocaleTimeString([],{hour12:!1}):"",")"]})]})]}),K.jsx("div",{style:{textAlign:"right"},children:g?.round?B?K.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[K.jsx("span",{style:{color:"#4caf50",fontWeight:"bold",fontSize:14},children:" OPEN"}),h!=null&&h>0&&K.jsxs("span",{style:{fontSize:12,opacity:.8},children:["Closing in ",h,"s"]})]}):K.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[K.jsx("span",{style:{color:"#aaa",fontWeight:"bold",fontSize:14},children:" CLOSED"}),K.jsx("span",{style:{fontSize:12,opacity:.5},children:"Next round soon..."})]}):K.jsx("span",{style:{opacity:.5},children:"Loading..."})})]})}),K.jsxs("div",{className:"beta-card__body",children:[K.jsx("div",{style:{height:16}}),K.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr",gap:12,alignItems:"end",marginBottom:16},children:[K.jsxs("div",{className:"beta-field",children:[K.jsx("span",{className:"beta-field__label",children:"Flow / Strategy"}),K.jsx("select",{className:"beta-input",value:F,onChange:m=>V(m.target.value),disabled:oe,style:{height:42},children:h0.map(m=>K.jsx("option",{value:m.id,children:m.label},m.id))})]}),K.jsxs("div",{className:"beta-field",children:[K.jsx("span",{className:"beta-field__label",children:"Prediction"}),K.jsxs("select",{className:"beta-input",value:$,onChange:m=>re(Number(m.target.value)),disabled:oe,style:{height:42},children:[K.jsx("option",{value:0,children:"0 (Bear)"}),K.jsx("option",{value:1,children:"1 (Bull)"}),K.jsx("option",{value:-1,children:"Random "})]})]}),K.jsxs("div",{className:"beta-field",children:[K.jsx("span",{className:"beta-field__label",style:{fontWeight:"normal",opacity:.7,textAlign:"left"},children:"Cost: 1.00 CHRONO + Fee"}),K.jsx("button",{className:"beta-play-btn",onClick:x,disabled:!v||oe,style:{height:42,padding:"0 12px",fontSize:13,display:"flex",alignItems:"center",justifyContent:"center"},children:oe?"...":"BUY TICKET"})]})]}),K.jsx("div",{style:{marginTop:24},children:K.jsx(YC,{logs:R,onClear:M,title:"Terminal Output",defaultOpen:!1,maxHeight:160})})]})]})}const cs=(s,t=4)=>{if(!s)return"";const n=s.toString();return n.slice(0,t)+".."+n.slice(-t)},js="https://explorer.solana.com",qs="?cluster=devnet",XC=({ticket:s,connection:t,programPk:n,claimGraceSlots:i,onClose:c,currentSlot:o})=>{const[l,d]=Re.useState([]),[g,w]=Re.useState(!1),[E,I]=Re.useState(null),[k,R]=Re.useState(!1),{roundId:M,ticketPk:U,receipt:z,ticket:j,round:F}=s||{};if(Re.useEffect(()=>{!U||!t||(w(!0),t.getSignaturesForAddress(U,{limit:10}).then(C=>d(C)).catch(C=>console.error("Err fetching sigs:",C)).finally(()=>w(!1)))},[U,t]),Re.useEffect(()=>{if(!F||!t||!n||!M)return;const C=F?.pulseSetSlot||F?.pulse_set_slot;if(!C)return;(async()=>{try{const B=await Fr(n,Number(M)),v=await t.getSignaturesForAddress(B,{limit:50}),m=Number(C),f=v.find(y=>Math.abs(y.slot-m)<=1);f&&I(f.signature)}catch(B){console.error("Err fetching round sigs:",B)}})()},[F,t,n,M]),!s)return null;const V=j?.revealed?j.guess:z?.guess??j?.guess,$=V===1,re=V===0,se=(()=>{if(z?.refunded===!0)return"REFUNDED";const C=!!j?.revealed,D=!!j?.win,B=!!j?.claimed,v=!!(j?.processed||j?.tokenSettled);if(B)return"CLAIMED";if(D){if(v){if(o&&F&&i!=null)try{const m=BigInt(F.revealDeadlineSlot||F.reveal_deadline_slot||0),f=BigInt(i),y=BigInt(o);if(m>0n&&y>m+f)return"SWEPT"}catch(m){console.warn("Error calculating swept status:",m)}return"CLAIM PRIZE"}return"WIN"}if(C&&!D)return"LOSS";if(!C&&!D){if(!F||F.finalized)return"EXPIRED";const m=Number(o||0),f=F.revealDeadlineSlot||F.reveal_deadline_slot;if(f&&m>0){const y=Number(f);if(m>y+150)return"REFUND AVAILABLE";if(m>y)return"EXPIRED";if(!!(F?.pulseSet||F?.pulse_set)&&m<=y)return"REVEAL NOW"}}return"PENDING"})(),G=(C=>C==="CLAIM PRIZE"||C==="READY TO CLAIM"||C==="WINNER"||C==="CLAIMED"||C==="REFUNDED"?"#4caf50":C==="LOSS"||C==="REFUND AVAILABLE"||C==="SWEPT"?"#f44336":C==="REVEAL NOW"?"#ff9800":"#9e9e9e")(se),Z=C=>{if(!C)return null;const D=C.toString();return l.find(B=>{const v=B.slot.toString();return v===D||Math.abs(Number(v)-Number(D))<=1})},X=Z(j?.createdSlot||j?.created_slot),W=Z(j?.revealedSlot||j?.revealed_slot),x=Z(j?.claimedSlot||j?.claimed_slot),h=F?.pulseIndexTarget??F?.pulse_index_target,_=h?`https://beacon.nist.gov/beacon/2.0/chain/1/pulse/${h}`:"#",S=n&&M!=null?Fr(n,Number(M)):null;return K.jsx("div",{className:"beta-modal-overlay",onClick:c,children:K.jsxs("div",{className:"beta-modal",onClick:C=>C.stopPropagation(),children:[K.jsxs("div",{className:"beta-modal__head",style:{alignItems:"flex-start",paddingBottom:16},children:[K.jsxs("div",{children:[K.jsx("h3",{className:"beta-modal__title",style:{marginBottom:4,lineHeight:1},children:"Ticket Details"}),K.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[K.jsx("span",{style:{fontSize:11,opacity:.5},children:"Ticket:"}),K.jsxs("a",{href:`${js}/address/${U?.toString()}${qs}`,target:"_blank",rel:"noreferrer",className:"beta-link",style:{fontSize:11,fontFamily:"monospace"},children:[cs(U,6)," "]})]})]}),K.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[K.jsx("button",{className:"beta-btn",onClick:C=>{C.stopPropagation();try{const D=y=>{if(!y)return null;const O=y.toString();return O==="0"?null:O},B={snapshot:{timestamp:new Date().toISOString(),slot:D(o)},address:U?U.toString():"unknown",roundId:Number(M),nonce:Number(j?.nonce??z?.nonce??0),bitIndex:j?.bitIndex??j?.bit_index??null,status:se,prediction:$?"Bull":re?"Bear":"Unknown",outcome:j?.win?"Win":j?.revealed?"Loss":se==="REFUND AVAILABLE"?"Refundable":se==="SWEPT"?"Swept":se==="EXPIRED"?"Expired":se==="REFUNDED"?"Refunded":"Pending",cryptography:{commitmentHash:j?.commitment?Buffer.from(j.commitment).toString("hex"):z?.commitment||null,localSalt:z?.saltHex||(z?.salt?Array.isArray(z.salt)?Buffer.from(z.salt).toString("hex"):z.salt:null),isValid:!0},transactions:{commit:X?X.signature:null,reveal:W?W.signature:null,claim:x?x.signature:null,refund:z?.refundedTx||null}},v=new Blob([JSON.stringify(B,null,2)],{type:"application/json"}),m=URL.createObjectURL(v),f=document.createElement("a");f.href=m,f.download=`chronos_ticket_${M}_${U?U.toString().slice(0,8):"data"}.json`,document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(m)}catch(D){console.error("Download failed:",D),alert("Download failed. See console.")}},style:{fontSize:11,padding:"6px 12px",height:28,background:"rgba(255,255,255,0.08)",border:"1px solid rgba(255,255,255,0.25)",borderRadius:4,cursor:"pointer",color:"#ffffff",fontWeight:500,transition:"all 0.2s"},onMouseEnter:C=>{C.target.style.background="rgba(255,255,255,0.15)",C.target.style.borderColor="rgba(255,255,255,0.5)"},onMouseLeave:C=>{C.target.style.background="rgba(255,255,255,0.08)",C.target.style.borderColor="rgba(255,255,255,0.25)"},title:"Download Receipt JSON",children:" Download JSON"}),K.jsx("button",{className:"beta-modal__close",onClick:c,style:{marginLeft:0},children:""})]})]}),K.jsxs("div",{className:"beta-modal__body",children:[K.jsxs("div",{style:{background:`linear-gradient(to right, ${G}22, transparent)`,borderLeft:`3px solid ${G}`,padding:"10px 14px",marginBottom:20,borderRadius:"0 8px 8px 0"},children:[K.jsx("div",{style:{fontSize:11,textTransform:"uppercase",color:G,fontWeight:"bold",letterSpacing:1},children:"Status"}),K.jsx("div",{style:{fontSize:24,fontWeight:800,color:"#fff"},children:se})]}),K.jsxs("div",{className:"beta-detail-grid",children:[K.jsxs("div",{className:"beta-detail-row",children:[K.jsx("span",{className:"beta-detail-label",children:"Round ID"}),K.jsx("span",{className:"beta-detail-value",children:S?K.jsxs("a",{href:`${js}/address/${S.toString()}${qs}`,target:"_blank",rel:"noreferrer",className:"beta-link",children:["#",String(M)," "]}):`#${String(M)}`})]}),K.jsxs("div",{className:"beta-detail-row",children:[K.jsx("span",{className:"beta-detail-label",children:"Target Pulse"}),K.jsx("span",{className:"beta-detail-value",children:h?K.jsxs("a",{href:_,target:"_blank",rel:"noreferrer",className:"beta-link",children:["#",String(h)," "]}):""})]}),K.jsxs("div",{className:"beta-detail-row",children:[K.jsx("span",{className:"beta-detail-label",children:"Prediction"}),K.jsx("span",{className:"beta-detail-value",style:{color:$?"#4caf50":re?"#f44336":"#ddd"},children:$?" Bull (1)":re?" Bear (0)":""})]}),j?.bit_index!==void 0&&K.jsxs("div",{className:"beta-detail-row",children:[K.jsx("span",{className:"beta-detail-label",children:"Bit Index"}),K.jsx("span",{className:"beta-detail-value",children:j.bit_index})]}),K.jsxs("div",{className:"beta-detail-row",children:[K.jsx("span",{className:"beta-detail-label",children:"Nonce"}),K.jsx("span",{className:"beta-detail-value",children:String(j?.nonce??z?.nonce??"")})]}),K.jsx("div",{style:{marginTop:20,marginBottom:8,fontSize:11,fontWeight:"bold",opacity:.5},children:"ON-CHAIN TRANSACTIONS"}),K.jsxs("div",{className:"beta-detail-row",children:[K.jsx("span",{className:"beta-detail-label",children:"Commit (Buy)"}),K.jsx("span",{className:"beta-detail-value",children:X?K.jsxs("a",{href:`${js}/tx/${X.signature}${qs}`,target:"_blank",rel:"noreferrer",className:"beta-link",children:[cs(X.signature)," "]}):g?K.jsx("span",{style:{opacity:.5},children:"Searching..."}):""})]}),K.jsxs("div",{className:"beta-detail-row",children:[K.jsx("span",{className:"beta-detail-label",children:"Reveal"}),K.jsx("span",{className:"beta-detail-value",children:W?K.jsxs("a",{href:`${js}/tx/${W.signature}${qs}`,target:"_blank",rel:"noreferrer",className:"beta-link",children:[cs(W.signature)," "]}):g?K.jsx("span",{style:{opacity:.5},children:"Searching..."}):j?.revealed?"":"Pending"})]}),j?.win&&K.jsxs("div",{className:"beta-detail-row",children:[K.jsx("span",{className:"beta-detail-label",children:"Claim Reward"}),K.jsx("span",{className:"beta-detail-value",children:x?K.jsxs("a",{href:`${js}/tx/${x.signature}${qs}`,target:"_blank",rel:"noreferrer",className:"beta-link",children:[cs(x.signature)," "]}):j?.claimed?"":"Unclaimed"})]}),K.jsxs("div",{className:"beta-detail-row",children:[K.jsx("span",{className:"beta-detail-label",children:"Refund txn"}),K.jsx("span",{className:"beta-detail-value beta-detail-value--long",children:z?.refunded?z.refundedTx?K.jsxs("a",{href:`${js}/tx/${z.refundedTx}${qs}`,target:"_blank",rel:"noreferrer",className:"beta-link",children:[cs(z.refundedTx,8)," "]}):"Refunded (Local Record)":K.jsx("span",{style:{opacity:.5},children:""})})]}),K.jsxs("div",{className:"beta-detail-row",children:[K.jsx("span",{className:"beta-detail-label",children:"Commitment Hash"}),K.jsx("span",{className:"beta-detail-value",children:j?.commitment?X?K.jsxs("a",{href:`${js}/tx/${X.signature}${qs}`,target:"_blank",rel:"noreferrer",className:"beta-link",title:Buffer.from(j.commitment).toString("hex"),children:[cs(Buffer.from(j.commitment).toString("hex"),10)," "]}):K.jsx("span",{title:Buffer.from(j.commitment).toString("hex"),children:cs(Buffer.from(j.commitment).toString("hex"),10)}):z?.commitment?K.jsx("span",{title:z.commitment,children:cs(z.commitment,10)}):K.jsx("span",{style:{opacity:.5},children:"Pending / Not Found"})})]}),K.jsxs("div",{className:"beta-detail-row",children:[K.jsx("span",{className:"beta-detail-label",children:"Revealed Data"}),K.jsx("span",{className:"beta-detail-value beta-detail-value--long",children:j?.revealed?K.jsx("div",{style:{display:"flex",flexDirection:"column",gap:4,textAlign:"right"},children:K.jsxs("div",{children:["Guess: ",j.guess]})}):K.jsx("span",{style:{opacity:.5},children:"Not Revealed"})})]}),K.jsx("div",{style:{marginTop:24,textAlign:"center"},children:K.jsx("button",{onClick:()=>R(!k),className:"beta-btn",style:{fontSize:12,padding:"6px 12px",background:"rgba(255, 50, 50, 0.1)",border:"1px solid rgba(255, 50, 50, 0.3)",color:"#ff8888"},children:k?"Hide Private Key ":"Show Private Key (Local Salt) "})}),k&&K.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px dashed rgba(255, 50, 50, 0.3)",animation:"fadeIn 0.3s"},children:[K.jsx("div",{style:{marginBottom:12,fontSize:11,fontWeight:"bold",opacity:.8,color:"#ff8888",textTransform:"uppercase"},children:" SENSITIVE DATA - DO NOT SHARE"}),K.jsxs("div",{className:"beta-detail-row",children:[K.jsx("span",{className:"beta-detail-label",style:{color:"#ff8888"},children:"Local Salt (Secret)"}),K.jsx("span",{className:"beta-detail-value",style:{wordBreak:"break-all",fontSize:10,lineHeight:"1.4em"},children:z?.saltHex||z?.salt?z.saltHex||(Array.isArray(z.salt)?Buffer.from(z.salt).toString("hex"):z.salt):K.jsx("span",{style:{opacity:.5},children:""})})]})]})]})]})]})})};function Qa(s){if(!s)return null;const t=s.toString();return t==="0"?null:t}const z0=s=>s?Array.from(new Uint8Array(s)).map(t=>t.toString(16).padStart(2,"0")).join(""):"";function WC(s){const{ticketPk:t,roundId:n,onChainTicket:i,receipt:c,status:o,currentSlot:l,createdTx:d,revealedTx:g,claimedTx:w}=s,E=i?.guess===1||c?.guess===1,I=i?.guess===0||c?.guess===0;return{snapshot:{timestamp:new Date().toISOString(),slot:Qa(l)},address:t?t.toString():"unknown",roundId:Number(n),nonce:Number(i?.nonce??c?.nonce??0),bitIndex:i?.bitIndex??i?.bit_index??null,status:o,prediction:E?"Bull":I?"Bear":"Unknown",outcome:i?.win?"Win":i?.revealed?"Loss":o==="REFUND AVAILABLE"?"Refundable":o==="SWEPT"?"Swept":o==="EXPIRED"?"Expired":o==="REFUNDED"?"Refunded":"Pending",cryptography:{commitmentHash:i?.commitment?z0(i.commitment):c?.commitment||null,localSalt:c?.saltHex||(c?.salt?Array.isArray(c.salt)?z0(c.salt):c.salt:null),isValid:!0},transactions:{commit:d?d.signature:null,reveal:g?g.signature:null,claim:w?w.signature:null,refund:c?.refundedTx||null}}}function $C(s,t,n,i,c,o){return{snapshot:{type:"ROUND_BATCH_EXPORT",version:"1.0",timestamp:new Date().toISOString(),wallet:o},round:{id:Number(s),address:t?.toString()||null,status:n,slots:{commitOpen:Qa(i?.createdSlot||i?.created_slot),commitClose:Qa(i?.commitDeadlineSlot||i?.commit_deadline_slot),pulse:Qa(i?.pulseSetSlot||i?.pulse_set_slot),revealDeadline:Qa(i?.revealDeadlineSlot||i?.reveal_deadline_slot),settled:Qa(i?.tokenSettledSlot||i?.token_settled_slot)},oracle:{pulseHash:i?.pulse?z0(i.pulse):null}},tickets:c}}function dw(s,t){try{const n=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),i=URL.createObjectURL(n),c=document.createElement("a");c.href=i,c.download=s,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(i)}catch(n){console.error("Download error:",n),alert("Error preparing download: "+n.message)}}const Ps=s=>s!=null&&s.toString()!=="0"?s.toString():"null",QC=s=>s?Array.from(new Uint8Array(s)).map(t=>t.toString(16).padStart(2,"0")).join(""):"";function JC({round:s,roundId:t,rPda:n,onClose:i,currentSlot:c,programPk:o,claimGraceSlots:l,connection:d}){console.log("RoundDetailModal mounted",{roundId:t,programPk:o,rPda:n,hasRound:!!s});const[g,w]=Re.useState(null),[E,I]=Re.useState(null);return Re.useEffect(()=>{if(!n&&o&&t)try{const k=new ve(o),R=BigInt(t),M=Fr(k,R);w(M)}catch(k){console.error("Failed to derive PDA",k)}},[n,o,t]),Re.useEffect(()=>{const k=n||g;!s&&k&&d&&(I("checking"),d.getAccountInfo(k).then(R=>{I(R?"exists":"closed")}).catch(R=>{console.error("Err fetching round acc",R),I("unknown")}))},[s,n,g,d]),K.jsx("div",{className:"beta-modal-overlay",onClick:i,children:K.jsxs("div",{className:"beta-modal",onClick:k=>k.stopPropagation(),style:{maxWidth:500},children:[K.jsxs("div",{className:"beta-modal__head",children:[K.jsxs("div",{className:"beta-modal__title",children:["Round Details #",t]}),K.jsx("button",{className:"beta-btn-close",onClick:i,style:{color:"white"},children:""})]}),K.jsxs("div",{className:"beta-modal__body",children:[E==="closed"&&K.jsxs("div",{style:{background:"rgba(239, 68, 68, 0.1)",color:"#ef4444",padding:"8px 12px",borderRadius:6,fontSize:12,marginBottom:16,border:"1px solid rgba(239, 68, 68, 0.2)"},children:[K.jsx("strong",{children:" Round Closed On-Chain"}),K.jsx("br",{}),"This round has been settled and the rent reclaimed (swept). Most data is no longer available on the blockchain."]}),K.jsxs("div",{style:{marginBottom:16},children:[K.jsx("div",{style:{fontSize:12,opacity:.5,marginBottom:4},children:"ROUND ADDRESS (PDA)"}),K.jsx("div",{className:"beta-code-block",style:{fontSize:11,wordBreak:"break-all"},children:K.jsxs("a",{href:`https://explorer.solana.com/address/${n||g?(n||g).toString():""}?cluster=devnet`,target:"_blank",rel:"noopener noreferrer",style:{color:"inherit",textDecoration:"underline",textUnderlineOffset:3},children:[n||g?(n||g).toString():"Loading..."," "]})})]}),K.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12,marginBottom:16},children:[K.jsxs("div",{children:[K.jsx("div",{style:{fontSize:11,opacity:.5},children:"Target Pulse"}),K.jsx("div",{style:{fontWeight:"bold"},children:s?.pulseIndexTarget||s?.pulse_index_target?`#${s.pulseIndexTarget||s.pulse_index_target}`:""})]}),K.jsxs("div",{children:[K.jsx("div",{style:{fontSize:11,opacity:.5},children:"Finalized"}),K.jsx("div",{style:{fontWeight:"bold"},children:s?.finalized||E==="closed"?"YES":"NO"})]})]}),K.jsxs("div",{className:"beta-card",style:{padding:12,background:"rgba(0,0,0,0.02)",border:"1px solid rgba(0,0,0,0.05)"},children:[K.jsx("div",{style:{fontSize:12,fontWeight:"bold",marginBottom:8,opacity:.7},children:"TIMELINE (SLOTS)"}),K.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",rowGap:6,fontSize:12},children:[K.jsx("span",{style:{opacity:.6},children:"Current Slot:"}),K.jsx("span",{style:{textAlign:"right",fontWeight:"bold",color:"#2D68EA"},children:Ps(c)}),K.jsx("div",{style:{height:1,background:"rgba(0,0,0,0.1)",gridColumn:"1/-1",margin:"4px 0"}}),K.jsx("span",{style:{opacity:.6},children:"Created:"}),K.jsx("span",{style:{textAlign:"right"},children:Ps(s?.createdSlot||s?.created_slot)}),K.jsx("span",{style:{opacity:.6},children:"Commit Deadline:"}),K.jsx("span",{style:{textAlign:"right"},children:Ps(s?.commitDeadlineSlot||s?.commit_deadline_slot)}),K.jsx("span",{style:{opacity:.6},children:"Pulse Set at:"}),K.jsx("span",{style:{textAlign:"right"},children:Ps(s?.pulseSetSlot||s?.pulse_set_slot)}),K.jsx("span",{style:{opacity:.6},children:"Reveal Deadline:"}),K.jsx("span",{style:{textAlign:"right"},children:Ps(s?.revealDeadlineSlot||s?.reveal_deadline_slot)}),K.jsx("span",{style:{opacity:.6},children:"Sweep at:"}),K.jsx("span",{style:{textAlign:"right"},children:Ps((s?.revealDeadlineSlot||s?.reveal_deadline_slot)&&l?BigInt(s?.revealDeadlineSlot||s?.reveal_deadline_slot)+BigInt(l):null)}),K.jsx("span",{style:{opacity:.6},children:"Settled at:"}),K.jsx("span",{style:{textAlign:"right"},children:Ps(s?.tokenSettledSlot||s?.token_settled_slot)})]})]}),K.jsxs("div",{style:{marginTop:16},children:[K.jsx("div",{style:{fontSize:12,opacity:.5,marginBottom:4},children:"ORACLE PULSE HASH (SHA3-512)"}),E==="closed"?K.jsx("div",{className:"beta-code-block",style:{fontSize:11,background:"rgba(0,0,0,0.03)",color:"#888",border:"1px solid rgba(0,0,0,0.05)",textAlign:"center"},children:" Data cleared (Round Swept)"}):!s?.pulse||Object.values(s.pulse).every(k=>k===0)?K.jsx("div",{className:"beta-code-block",style:{fontSize:11,background:"rgba(234, 179, 8, 0.1)",color:"#ca8a04",border:"1px solid rgba(234, 179, 8, 0.2)",textAlign:"center"},children:" Waiting for external oracle pulse..."}):K.jsx("div",{className:"beta-code-block",style:{fontSize:10,wordBreak:"break-all",background:"#f0fdf4",color:"#166534",border:"1px solid #bbf7d0"},children:K.jsxs("a",{href:`https://explorer.solana.com/block/${s?.pulseSetSlot||s?.pulse_set_slot||0}?cluster=devnet`,target:"_blank",rel:"noopener noreferrer",style:{color:"inherit",textDecoration:"none"},children:[QC(s.pulse)," "]})})]})]}),K.jsx("div",{className:"beta-modal__footer",children:K.jsx("button",{className:"beta-btn beta-btn--soft",onClick:i,style:{width:"100%",color:"white",background:"rgba(255,255,255,0.1)"},children:" Close "})})]})})}const e6="DrsJxZRNuEFHVyj3Sz5CzpVeacpAGHBoZrg9NtRH9JqR",t6={name:"chronos_mvp",version:"0.1.0",spec:"0.1.0",description:"Created with Anchor"},n6=JSON.parse('[{"name":"add_oracle","discriminator":[185,165,165,167,208,207,55,35],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"oracle_set","writable":true,"pda":{"seeds":[{"kind":"const","value":[111,114,97,99,108,101,95,115,101,116]},{"kind":"account","path":"config"}]}},{"name":"admin","signer":true}],"args":[{"name":"oracle","type":"pubkey"}]},{"name":"claim_reward","discriminator":[149,95,181,242,94,90,158,162],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"tokenomics","pda":{"seeds":[{"kind":"const","value":[116,111,107,101,110,111,109,105,99,115]},{"kind":"account","path":"config"}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"ticket","writable":true,"pda":{"seeds":[{"kind":"const","value":[116,105,99,107,101,116]},{"kind":"arg","path":"round_id"},{"kind":"account","path":"user"},{"kind":"arg","path":"nonce"}]}},{"name":"user","writable":true,"signer":true},{"name":"chrono_mint","writable":true},{"name":"chrono_vault","writable":true},{"name":"user_chrono_ata","writable":true},{"name":"reward_fee_pool","writable":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}],"args":[{"name":"round_id","type":"u64"},{"name":"nonce","type":"u64"}]},{"name":"commit_batch","discriminator":[27,234,100,224,134,31,168,142],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"chrono_mint"},{"name":"chrono_vault","writable":true},{"name":"user","writable":true,"signer":true},{"name":"user_chrono_ata","writable":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"round_id","type":"u64"},{"name":"entries","type":{"vec":{"defined":{"name":"CommitEntry"}}}}]},{"name":"commit_batch_signed","discriminator":[114,249,180,103,248,14,43,173],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"chrono_mint"},{"name":"chrono_vault","writable":true},{"name":"payer","docs":["Relayer (paga fees)"],"writable":true,"signer":true},{"name":"user_escrow","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,95,101,115,99,114,111,119]},{"kind":"account","path":"user"}]}},{"name":"user_escrow_ata","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,95,101,115,99,114,111,119,95,118,97,117,108,116]},{"kind":"account","path":"user"}]}},{"name":"user"},{"name":"instructions"},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"round_id","type":"u64"},{"name":"entries","type":{"vec":{"defined":{"name":"CommitSignedEntry"}}}}]},{"name":"commit_ticket","discriminator":[15,97,55,56,38,249,88,220],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"chrono_mint"},{"name":"chrono_vault","writable":true},{"name":"ticket","writable":true,"pda":{"seeds":[{"kind":"const","value":[116,105,99,107,101,116]},{"kind":"arg","path":"round_id"},{"kind":"account","path":"user"},{"kind":"arg","path":"nonce"}]}},{"name":"user","writable":true,"signer":true},{"name":"user_chrono_ata","writable":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"round_id","type":"u64"},{"name":"nonce","type":"u64"},{"name":"commitment","type":{"array":["u8",32]}}]},{"name":"create_round","discriminator":[229,218,236,169,231,80,134,112],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"chrono_mint"},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"vault","writable":true,"pda":{"seeds":[{"kind":"const","value":[118,97,117,108,116]},{"kind":"arg","path":"round_id"}]}},{"name":"chrono_vault","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,104,114,111,110,111,95,118,97,117,108,116]},{"kind":"arg","path":"round_id"}]}},{"name":"admin","writable":true,"signer":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[{"name":"round_id","type":"u64"},{"name":"pulse_index_target","type":"u64"},{"name":"commit_deadline_slot","type":"u64"},{"name":"reveal_deadline_slot","type":"u64"}]},{"name":"create_round_auto","discriminator":[203,214,64,8,185,82,116,71],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"chrono_mint"},{"name":"round_registry","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100,95,114,101,103,105,115,116,114,121]},{"kind":"account","path":"config"}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"account","path":"round_registry.next_round_id","account":"RoundRegistry"}]}},{"name":"vault","writable":true,"pda":{"seeds":[{"kind":"const","value":[118,97,117,108,116]},{"kind":"account","path":"round_registry.next_round_id","account":"RoundRegistry"}]}},{"name":"chrono_vault","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,104,114,111,110,111,95,118,97,117,108,116]},{"kind":"account","path":"round_registry.next_round_id","account":"RoundRegistry"}]}},{"name":"admin","writable":true,"signer":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[{"name":"pulse_index_target","type":"u64"},{"name":"commit_deadline_slot","type":"u64"},{"name":"reveal_deadline_slot","type":"u64"}]},{"name":"deposit_escrow","discriminator":[226,112,158,176,178,118,153,128],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"chrono_mint","writable":true},{"name":"user_escrow","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,95,101,115,99,114,111,119]},{"kind":"account","path":"user"}]}},{"name":"user_escrow_ata","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,95,101,115,99,114,111,119,95,118,97,117,108,116]},{"kind":"account","path":"user"}]}},{"name":"user","writable":true,"signer":true},{"name":"user_chrono_ata","writable":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}],"args":[{"name":"amount","type":"u64"}]},{"name":"finalize_round","discriminator":[239,160,254,11,254,144,53,148],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"admin","signer":true}],"args":[{"name":"round_id","type":"u64"}]},{"name":"fund_vault","discriminator":[26,33,207,242,119,108,134,73],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"vault","writable":true,"pda":{"seeds":[{"kind":"const","value":[118,97,117,108,116]},{"kind":"arg","path":"round_id"}]}},{"name":"funder","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"round_id","type":"u64"},{"name":"amount","type":"u64"}]},{"name":"init_user_escrow","discriminator":[122,51,129,53,23,2,205,146],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"chrono_mint","writable":true},{"name":"user_escrow","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,95,101,115,99,114,111,119]},{"kind":"account","path":"user"}]}},{"name":"user_escrow_ata","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,95,101,115,99,114,111,119,95,118,97,117,108,116]},{"kind":"account","path":"user"}]}},{"name":"user","writable":true,"signer":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[]},{"name":"initialize_config","discriminator":[208,127,21,1,194,190,196,70],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"chrono_mint","docs":["Mint SPL del token CHRONO (ya creado off-chain en tests o en deploy script)"],"writable":true},{"name":"treasury_sol","docs":[" NUEVO: Treasury SOL (lamports) como system-owned PDA (igual que vault)"],"writable":true,"pda":{"seeds":[{"kind":"const","value":[116,114,101,97,115,117,114,121,95,115,111,108]}]}},{"name":"treasury","docs":["Treasury SPL = TokenAccount PDA controlado por el programa (authority = config PDA)"],"writable":true,"pda":{"seeds":[{"kind":"const","value":[116,114,101,97,115,117,114,121]}]}},{"name":"admin","writable":true,"signer":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[{"name":"stake_amount","type":"u64"},{"name":"commit_window_slots","type":"u64"},{"name":"reveal_window_slots","type":"u64"}]},{"name":"initialize_oracle_set","discriminator":[130,190,220,106,237,202,154,216],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"oracle_set","writable":true,"pda":{"seeds":[{"kind":"const","value":[111,114,97,99,108,101,95,115,101,116]},{"kind":"account","path":"config"}]}},{"name":"admin","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[{"name":"threshold","type":"u8"},{"name":"initial_oracles","type":{"vec":"pubkey"}}]},{"name":"initialize_round_registry","discriminator":[168,224,102,212,197,199,124,55],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round_registry","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100,95,114,101,103,105,115,116,114,121]},{"kind":"account","path":"config"}]}},{"name":"admin","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[{"name":"start_round_id","type":"u64"}]},{"name":"initialize_tokenomics","discriminator":[212,84,141,244,21,193,39,208],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"chrono_mint"},{"name":"tokenomics","writable":true,"pda":{"seeds":[{"kind":"const","value":[116,111,107,101,110,111,109,105,99,115]},{"kind":"account","path":"config"}]}},{"name":"reward_fee_pool","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,101,119,97,114,100,95,102,101,101,95,112,111,111,108]},{"kind":"account","path":"tokenomics"}]}},{"name":"replication_pool","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,101,112,108,105,99,97,116,105,111,110,95,112,111,111,108]},{"kind":"account","path":"tokenomics"}]}},{"name":"admin","writable":true,"signer":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[{"name":"reward_fee_bps","type":"u16"}]},{"name":"remove_oracle","discriminator":[60,93,51,197,182,42,170,26],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"oracle_set","writable":true,"pda":{"seeds":[{"kind":"const","value":[111,114,97,99,108,101,95,115,101,116]},{"kind":"account","path":"config"}]}},{"name":"admin","signer":true}],"args":[{"name":"oracle","type":"pubkey"}]},{"name":"reveal_batch","discriminator":[42,176,196,168,123,47,195,121],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"user","signer":true}],"args":[{"name":"round_id","type":"u64"},{"name":"entries","type":{"vec":{"defined":{"name":"RevealEntry"}}}}]},{"name":"reveal_batch_signed","discriminator":[157,126,204,244,23,210,88,121],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"payer","docs":["Relayer paying tx fees (must sign tx)"],"signer":true},{"name":"instructions","address":"Sysvar1nstructions1111111111111111111111111"}],"args":[{"name":"round_id","type":"u64"},{"name":"entries","type":{"vec":{"defined":{"name":"RevealSignedEntry"}}}}]},{"name":"reveal_ticket","discriminator":[223,24,70,21,181,13,151,239],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"ticket","writable":true,"pda":{"seeds":[{"kind":"const","value":[116,105,99,107,101,116]},{"kind":"arg","path":"round_id"},{"kind":"account","path":"user"},{"kind":"arg","path":"nonce"}]}},{"name":"user","signer":true}],"args":[{"name":"round_id","type":"u64"},{"name":"nonce","type":"u64"},{"name":"guess","type":"u8"},{"name":"salt","type":{"array":["u8",32]}}]},{"name":"set_claim_grace_slots","discriminator":[186,199,198,137,128,29,135,49],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"admin","signer":true}],"args":[{"name":"claim_grace_slots","type":"u64"}]},{"name":"set_oracle_pubkey","discriminator":[90,135,153,229,200,95,163,243],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"admin","signer":true}],"args":[{"name":"oracle_pubkey","type":"pubkey"}]},{"name":"set_oracle_threshold","discriminator":[181,85,21,30,120,168,37,233],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"oracle_set","writable":true,"pda":{"seeds":[{"kind":"const","value":[111,114,97,99,108,101,95,115,101,116]},{"kind":"account","path":"config"}]}},{"name":"admin","signer":true}],"args":[{"name":"threshold","type":"u8"}]},{"name":"set_pause","discriminator":[63,32,154,2,56,103,79,45],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"admin","signer":true}],"args":[{"name":"paused","type":"bool"}]},{"name":"set_pulse_signed","discriminator":[50,221,54,125,25,40,123,89],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"instructions","address":"Sysvar1nstructions1111111111111111111111111"}],"args":[{"name":"round_id","type":"u64"},{"name":"pulse","type":{"array":["u8",64]}}]},{"name":"settle_round_tokens","discriminator":[237,209,221,2,7,78,113,158],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"tokenomics","pda":{"seeds":[{"kind":"const","value":[116,111,107,101,110,111,109,105,99,115]},{"kind":"account","path":"config"}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"chrono_mint","writable":true},{"name":"chrono_vault","writable":true},{"name":"treasury","writable":true},{"name":"replication_pool","writable":true},{"name":"admin","writable":true,"signer":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}],"args":[{"name":"round_id","type":"u64"}]},{"name":"sweep_unclaimed","discriminator":[64,168,221,224,42,216,138,144],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"vault","writable":true,"pda":{"seeds":[{"kind":"const","value":[118,97,117,108,116]},{"kind":"arg","path":"round_id"}]}},{"name":"treasury_sol","docs":[" NUEVO: destino del sweep = treasury SOL PDA (lamports)"],"writable":true,"pda":{"seeds":[{"kind":"const","value":[116,114,101,97,115,117,114,121,95,115,111,108]}]}},{"name":"admin","signer":true},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"round_id","type":"u64"}]},{"name":"withdraw_escrow","discriminator":[81,84,226,128,245,47,96,104],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"chrono_mint","writable":true},{"name":"user_escrow","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,95,101,115,99,114,111,119]},{"kind":"account","path":"user"}]}},{"name":"user_escrow_ata","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,95,101,115,99,114,111,119,95,118,97,117,108,116]},{"kind":"account","path":"user"}]}},{"name":"user","writable":true,"signer":true},{"name":"user_chrono_ata","writable":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}],"args":[{"name":"amount","type":"u64"}]}]'),r6=[{name:"Config",discriminator:[155,12,170,224,30,250,204,130]},{name:"OracleSet",discriminator:[128,26,73,134,218,90,126,42]},{name:"Round",discriminator:[87,127,165,51,73,78,116,174]},{name:"RoundRegistry",discriminator:[89,3,13,175,73,80,211,206]},{name:"Ticket",discriminator:[41,228,24,165,78,90,235,200]},{name:"Tokenomics",discriminator:[252,176,228,183,130,36,15,194]},{name:"UserEscrow",discriminator:[242,233,85,38,26,5,142,109]}],i6=[{code:6e3,name:"Unauthorized",msg:"Unauthorized"},{code:6001,name:"Paused",msg:"Protocol paused"},{code:6002,name:"InvalidDeadlines",msg:"Invalid deadlines"},{code:6003,name:"CommitClosed",msg:"Commit window closed"},{code:6004,name:"RevealClosed",msg:"Reveal window closed"},{code:6005,name:"PulseNotSet",msg:"Pulse not set"},{code:6006,name:"PulseAlreadySet",msg:"Round pulse already set"},{code:6007,name:"AlreadyFinalized",msg:"Round already finalized"},{code:6008,name:"NotFinalized",msg:"Round not finalized"},{code:6009,name:"CannotFinalizeYet",msg:"Cannot finalize yet"},{code:6010,name:"AlreadyRevealed",msg:"Already revealed"},{code:6011,name:"CommitmentMismatch",msg:"Commitment mismatch"},{code:6012,name:"InvalidGuess",msg:"Invalid guess (must be 0/1)"},{code:6013,name:"TooManyEntries",msg:"Too many entries"},{code:6014,name:"TicketPdaMismatch",msg:"Ticket PDA mismatch"},{code:6015,name:"TicketAlreadyExists",msg:"Ticket already exists"},{code:6016,name:"TicketNotOwnedByProgram",msg:"Ticket not owned by program"},{code:6017,name:"VaultPdaMismatch",msg:"Vault PDA mismatch"},{code:6018,name:"InsufficientVaultFunds",msg:"Insufficient vault funds"},{code:6019,name:"MissingOrInvalidEd25519Ix",msg:"Missing or invalid ed25519 verify instruction"},{code:6020,name:"Ed25519PubkeyMismatch",msg:"Ed25519 pubkey mismatch"},{code:6021,name:"Ed25519MessageMismatch",msg:"Ed25519 message mismatch"},{code:6022,name:"OracleNotSet",msg:"Oracle pubkey not set"},{code:6023,name:"BitIndexMismatch",msg:"Bit index mismatch"},{code:6024,name:"AccountBorrowFailed",msg:"Failed to borrow account data"},{code:6025,name:"RoundFinalized",msg:"Round is finalized"},{code:6026,name:"CommitAfterPulseSet",msg:"Commit not allowed after pulse is set"},{code:6027,name:"SweepTooEarly",msg:"Sweep not allowed yet (grace period not elapsed)"},{code:6028,name:"AlreadySwept",msg:"Vault already swept for this round"},{code:6029,name:"ClaimAfterSweep",msg:"Cannot claim after vault sweep"},{code:6030,name:"InvalidStakeAmount",msg:"Invalid stake amount"},{code:6031,name:"InvalidWindow",msg:"Invalid window"},{code:6032,name:"MissingBump",msg:"Missing bump"},{code:6033,name:"MathOverflow",msg:"Math overflow"},{code:6034,name:"ChronoMintMismatch",msg:"chrono_mint does not match config"},{code:6035,name:"InvalidUserChronoAta",msg:"Invalid user CHRONO token account"},{code:6036,name:"TicketNotRevealed",msg:"Ticket not revealed"},{code:6037,name:"NotWinner",msg:"Not a winner"},{code:6038,name:"AlreadyClaimed",msg:"Already claimed"},{code:6039,name:"StakeNotPaid",msg:"Stake not paid for this ticket"},{code:6040,name:"InsufficientEscrow",msg:"Insufficient escrow funds"},{code:6041,name:"SignedBatchMixedUsers",msg:"Signed batch contains mixed users"},{code:6042,name:"RoundNotSettled",msg:"Round tokens not settled yet"},{code:6043,name:"SettleTooEarly",msg:"Too early to settle round tokens"},{code:6044,name:"RoundTokensAlreadySettled",msg:"Round tokens already settled"},{code:6045,name:"OracleSetFull",msg:"OracleSet is full"},{code:6046,name:"OracleAlreadyExists",msg:"Oracle already exists in allowlist"},{code:6047,name:"OracleNotFound",msg:"Oracle not found in allowlist"},{code:6048,name:"InvalidThreshold",msg:"Invalid threshold"},{code:6049,name:"ThresholdExceedsOracleCount",msg:"Threshold exceeds current oracle count"},{code:6050,name:"InvalidFeeBps",msg:"Invalid fee bps (must be 0..=10_000)."},{code:6051,name:"InvalidBps",msg:"Invalid basis points (must be <= 10000)"},{code:6052,name:"TokenomicsNotInitialized",msg:"Tokenomics not initialized"}],s6=[{name:"CommitEntry",type:{kind:"struct",fields:[{name:"nonce",type:"u64"},{name:"commitment",type:{array:["u8",32]}}]}},{name:"CommitSignedEntry",type:{kind:"struct",fields:[{name:"user",type:"pubkey"},{name:"nonce",type:"u64"},{name:"commitment",type:{array:["u8",32]}}]}},{name:"Config",type:{kind:"struct",fields:[{name:"admin",type:"pubkey"},{name:"bump",type:"u8"},{name:"stake_amount",type:"u64"},{name:"commit_window_slots",type:"u64"},{name:"reveal_window_slots",type:"u64"},{name:"claim_grace_slots",type:"u64"},{name:"oracle_pubkey",type:"pubkey"},{name:"paused",type:"bool"},{name:"version",type:"u16"},{name:"chrono_mint",type:"pubkey"},{name:"treasury",type:"pubkey"},{name:"treasury_bump",type:"u8"},{name:"treasury_sol",type:"pubkey"},{name:"treasury_sol_bump",type:"u8"}]}},{name:"OracleSet",type:{kind:"struct",fields:[{name:"admin",type:"pubkey"},{name:"bump",type:"u8"},{name:"threshold",docs:["Minimum number of oracle attestations required (PR2 will consume this)."],type:"u8"},{name:"oracles",docs:["Allowlisted oracle pubkeys.","NOTE: fixed max_len to keep account size deterministic."],type:{vec:"pubkey"}},{name:"version",type:"u16"}]}},{name:"RevealEntry",type:{kind:"struct",fields:[{name:"nonce",type:"u64"},{name:"guess",type:"u8"},{name:"salt",type:{array:["u8",32]}}]}},{name:"RevealSignedEntry",type:{kind:"struct",fields:[{name:"user",type:"pubkey"},{name:"nonce",type:"u64"},{name:"guess",type:"u8"},{name:"salt",type:{array:["u8",32]}}]}},{name:"Round",type:{kind:"struct",fields:[{name:"round_id",type:"u64"},{name:"bump",type:"u8"},{name:"state",type:"u8"},{name:"vault",type:"pubkey"},{name:"vault_bump",type:"u8"},{name:"pulse_index_target",type:"u64"},{name:"commit_deadline_slot",type:"u64"},{name:"reveal_deadline_slot",type:"u64"},{name:"created_slot",type:"u64"},{name:"pulse_set",type:"bool"},{name:"pulse",type:{array:["u8",64]}},{name:"pulse_set_slot",type:"u64"},{name:"finalized",type:"bool"},{name:"finalized_slot",type:"u64"},{name:"swept",type:"bool"},{name:"swept_slot",type:"u64"},{name:"chrono_vault",type:"pubkey"},{name:"chrono_vault_bump",type:"u8"},{name:"committed_count",type:"u64"},{name:"revealed_count",type:"u64"},{name:"win_count",type:"u64"},{name:"settled_count",type:"u64"},{name:"token_settled",type:"bool"},{name:"token_settled_slot",type:"u64"}]}},{name:"RoundRegistry",type:{kind:"struct",fields:[{name:"admin",type:"pubkey"},{name:"bump",type:"u8"},{name:"next_round_id",type:"u64"},{name:"version",type:"u16"}]}},{name:"Ticket",type:{kind:"struct",fields:[{name:"round_id",type:"u64"},{name:"user",type:"pubkey"},{name:"nonce",type:"u64"},{name:"bump",type:"u8"},{name:"commitment",type:{array:["u8",32]}},{name:"stake_paid",type:"bool"},{name:"stake_slashed",type:"bool"},{name:"processed",type:"bool"},{name:"revealed",type:"bool"},{name:"guess",type:"u8"},{name:"win",type:"bool"},{name:"bit_index",type:"u16"},{name:"claimed",type:"bool"},{name:"claimed_slot",type:"u64"},{name:"created_slot",type:"u64"},{name:"revealed_slot",type:"u64"}]}},{name:"Tokenomics",type:{kind:"struct",fields:[{name:"admin",type:"pubkey"},{name:"bump",type:"u8"},{name:"reward_fee_bps",docs:["Fee charged on minted rewards (basis points). 100 = 1%."],type:"u16"},{name:"reward_fee_pool",docs:["SPL TokenAccount PDAs (CHRONO mint)"],type:"pubkey"},{name:"reward_fee_pool_bump",type:"u8"},{name:"replication_pool",type:"pubkey"},{name:"replication_pool_bump",type:"u8"},{name:"version",type:"u16"}]}},{name:"UserEscrow",type:{kind:"struct",fields:[{name:"user",type:"pubkey"},{name:"bump",type:"u8"},{name:"created_slot",type:"u64"},{name:"updated_slot",type:"u64"}]}}],ZE={address:e6,metadata:t6,instructions:n6,accounts:r6,errors:i6,types:s6},hw=122,a6=16,gl=5e3,o6=3e4;function p0(s,t=0){try{return s==null?t:typeof s=="number"?s:typeof s?.toNumber=="function"?s.toNumber():typeof s?.toString=="function"?Number(s.toString()):t}catch{return t}}function sr(s,t,n=void 0){for(const i of t)if(s&&s[i]!==void 0)return s[i];return n}function c6({ticket:s,round:t}){const n=!!sr(s,["revealed"],!1),i=!!sr(s,["win"],!1);return sr(s,["claimed"],!1)?"CLAIMED":n?i?!!sr(t,["tokenSettled","token_settled"],!1)?"CLAIM":"WIN":"LOSE":"PENDING"}function u6(s){const t=String(s?.message||s||"");return t.includes("429")||t.toLowerCase().includes("too many requests")}function bl(s){if(!s)return"Unknown error";const t=typeof s=="string"?s:s?.message||s?.toString?.()||"Unknown error";return t.toLowerCase().includes("user rejected")?"User rejected":t.toLowerCase().includes("declined")?"User declined":t}function wl(s){const t=s?.logs||s?.error?.logs||s?.data?.logs;return Array.isArray(t)&&t.length?t:null}function l6({program:s,connection:t,programPk:n,userPubkey:i,mintPk:c,appendLog:o,onAfterAction:l,setLastTx:d,limit:g=20}){const w=Re.useMemo(()=>new Ap(ZE),[]),[E,I]=Re.useState([]),[k,R]=Re.useState(!1),[M,U]=Re.useState(null),[z,j]=Re.useState(null),[F,V]=Re.useState(0),$=Re.useRef(!1),re=Re.useRef(gl),oe=Re.useRef(0),se=Re.useRef(null),le=Re.useCallback(async(x="manual")=>{if(!t||!n||!i){j(Date.now());return}const h=Date.now();if(x==="action"&&(oe.current=0),!(h<oe.current)&&!$.current)try{$.current=!0,R(!0),U(null),V(0);const _=i.toBase58(),C=(await t.getProgramAccounts(n,{commitment:"confirmed",filters:[{dataSize:hw},{memcmp:{offset:a6,bytes:_}}]})).map(L=>{try{const Y=w.decode("Ticket",Ce.Buffer.from(L.account.data)),ne=p0(sr(Y,["roundId","round_id"],0),0),ie=p0(sr(Y,["createdSlot","created_slot"],0),0),he=p0(sr(Y,["nonce"],0),0),Ie=xl(_,ne).find(Ve=>Ve.ticketPda===L.pubkey.toBase58())||null;return{ticketPk:L.pubkey,ticket:Y,roundId:ne,createdSlot:ie,nonce:he,receipt:Ie}}catch{return null}}).filter(Boolean),D=new Set(C.map(L=>L.ticketPk.toBase58())),v=KC(_).filter(L=>L.refunded&&!D.has(L.ticketPda)).map(L=>({ticketPk:new ve(L.ticketPda),ticket:null,roundId:L.roundId,createdSlot:L.createdSlot||0,nonce:L.nonce,receipt:L})),m=[...C,...v].sort((L,Y)=>(Y.createdSlot??0)-(L.createdSlot??0)).slice(0,Math.max(1,g)),f=Array.from(new Set(m.map(L=>L.roundId))).filter(L=>L!=null),y=new Map;if(f.length){const L=await Promise.all(f.map(ie=>Fr(n,ie))),Y=[],ne=100;for(let ie=0;ie<L.length;ie+=ne){const he=L.slice(ie,ie+ne),Ae=await t.getMultipleAccountsInfo(he,"confirmed");Y.push(...Ae)}for(let ie=0;ie<f.length;ie++){const he=Y[ie];if(he?.data)try{y.set(f[ie],w.decode("Round",Ce.Buffer.from(he.data)))}catch{}}}const O=m.map(L=>{const Y=y.get(L.roundId)||null,ne=!!sr(L.ticket,["revealed"],!1),ie=sr(L.ticket,["guess"],null),he=ne?ie:L.receipt?.guess??null,Ae=!!sr(L.ticket,["win"],!1),Ie=!!sr(L.ticket,["claimed"],!1),Ve=!!sr(Y,["pulseSet","pulse_set"],!1),xt=!!sr(Y,["tokenSettled","token_settled"],!1),qe=c6({ticket:L.ticket,round:Y});return{...L,round:Y,guess:he,win:Ae,revealed:ne,claimed:Ie,pulseSet:Ve,tokenSettled:xt,uiStatus:qe}});I(O),j(Date.now()),re.current=gl,oe.current=0}catch(_){const S=_?.message||String(_);if(U(S),j(Date.now()),u6(_)){const C=Math.min(re.current*2,o6),D=Math.floor(500+Math.random()*1500);re.current=C;const B=C+D,v=Date.now()+B;oe.current=v,V(Math.ceil(B/1e3)),se.current&&clearInterval(se.current),se.current=setInterval(()=>{const m=Math.max(0,Math.ceil((oe.current-Date.now())/1e3));V(m),m<=0&&(clearInterval(se.current),se.current=null)},500)}else x!=="poll"&&o?.(`Tickets refresh error: ${S}`)}finally{$.current=!1,R(!1)}},[t,n,i,w,g,o]);Re.useEffect(()=>{let x=null,h=!1;const _=async()=>{h||(document.visibilityState==="visible"&&await le("poll"),x=setTimeout(_,gl))},S=800+Math.floor(Math.random()*1200);x=setTimeout(()=>le("init"),S);const C=setTimeout(_,gl);return()=>{h=!0,x&&clearTimeout(x),C&&clearTimeout(C),se.current&&clearInterval(se.current),se.current=null}},[le]);const G=Re.useCallback(async x=>{if(!s||!i)throw new Error("Wallet not connected");if(!x?.receipt?.saltHex)throw new Error("Missing local receipt for this ticket (salt).");const h=await no(n),_=await Fr(n,x.roundId),S=MC(x.receipt.saltHex);o?.(`Reveal: sending tx (round=${x.roundId}, nonce=${x.nonce})`);try{const C=await s.methods.revealTicket(new Nn(x.roundId),new Nn(x.nonce),Number(x.receipt.guess),Array.from(S)).accounts({config:h,round:_,user:i,ticket:x.ticketPk}).rpc();o?.(`Reveal OK  tx=${C}`);try{if(x.receipt){const D={...x.receipt,revealTx:C,revealedAt:Date.now()};fs(i.toBase58(),x.roundId,D)}}catch(D){console.error("Failed to save reveal receipt",D)}return d?.(C),l?.(),await le("action"),C}catch(C){const D=bl(C);if(D.includes("already processed")||D.includes("0x0")){if(o?.("Reveal success (already processed) "),x.receipt){const v={...x.receipt,revealTx:"already-processed",revealedAt:Date.now()};fs(i.toBase58(),x.roundId,v)}return await le("action"),"already-processed"}o?.(`Reveal failed: ${D}`);const B=wl(C);return B?.length&&B.slice(0,12).forEach(v=>o?.(`  ${v}`)),null}},[s,n,i,o,d,l,le]),Z=Re.useCallback(async x=>{if(!s||!i)throw new Error("Wallet not connected");if(!c)throw new Error("Mint not set");const h=await no(n),_=await Fr(n,x.roundId),S=await Pl(n,h),C=await YE(n,S),D=await Ac(n,x.roundId),B=await Ks.token.associatedAddress({mint:c,owner:i});o?.(`Claim: sending tx (round=${x.roundId}, nonce=${x.nonce})`);try{const v=await s.methods.claimReward(new Nn(x.roundId),new Nn(x.nonce)).accounts({config:h,tokenomics:S,round:_,ticket:x.ticketPk,user:i,chronoMint:c,chronoVault:D,userChronoAta:B,rewardFeePool:C,tokenProgram:Ks.token.TOKEN_PROGRAM_ID}).rpc();o?.(`Claim OK  tx=${v}`);try{if(x.receipt){const m={...x.receipt,claimTx:v,claimedAt:Date.now()};fs(i.toBase58(),x.roundId,m)}}catch(m){console.error("Failed to save claim receipt",m)}return d?.(v),l?.(),await le("action"),v}catch(v){const m=bl(v);if(m.includes("already processed")||m.includes("0x0")){if(o?.("Claim success (already processed) "),x.receipt){const y={...x.receipt,claimTx:"already-processed",claimedAt:Date.now()};fs(i.toBase58(),x.roundId,y)}return await le("action"),"already-processed"}o?.(`Claim failed: ${m}`);const f=wl(v);return f?.length&&f.slice(0,12).forEach(y=>o?.(`  ${y}`)),null}},[s,n,i,c,o,d,l,le]),X=Re.useCallback(async x=>{if(!s||!i)throw new Error("Wallet not connected");if(!c)throw new Error("Mint not set");const h=await no(n),_=await Fr(n,x.roundId),S=await Ac(n,x.roundId),C=await Ks.token.associatedAddress({mint:c,owner:i});o?.(`Refund: recovering funds (round=${x.roundId})`);try{const D=await s.methods.recoverFunds(new Nn(x.roundId)).accounts({config:h,round:_,ticket:x.ticketPk,user:i,userTokenAccount:C,chronoVault:S,chronoMint:c,tokenProgram:Ks.token.TOKEN_PROGRAM_ID,systemProgram:hn.programId}).rpc();o?.(`Refund OK  tx=${D}`);try{const B=i.toBase58();let m=xl(B,x.roundId).find(f=>f.ticketPda===x.ticketPk.toBase58());m?(m.refunded=!0,m.refundedTx=D,x.createdSlot&&(m.createdSlot=x.createdSlot)):m={ticketPda:x.ticketPk.toBase58(),roundId:x.roundId,nonce:x.nonce,commitment:null,timestamp:Date.now(),createdSlot:x.createdSlot,refunded:!0,refundedTx:D},fs(B,x.roundId,m)}catch(B){console.error("Failed to update receipt for refund:",B)}return console.log("Receipt saved/updated successfully for",x.ticketPk.toBase58()),d?.(D),l?.(),await le("action"),D}catch(D){console.error("Refund RPC Failed:",D),o?.(`Refund failed: ${bl(D)}`);const B=wl(D);return B?.length&&B.slice(0,12).forEach(v=>o?.(`  ${v}`)),null}},[s,n,i,c,o,d,l,le]),W=Re.useCallback(async x=>{if(!s||!i)throw new Error("Wallet not connected");if(!c)throw new Error("Mint not set");o?.(`Settle: discovering tickets for round ${x.roundId}...`);const h=await no(n),_=await Fr(n,x.roundId),S=await Pl(n,h),C=await Ac(n,x.roundId),D=await DC(n),B=await UC(n,S),v=new Nn(x.roundId),m=v.toArrayLike(Ce.Buffer,"le",8),f=await t.getProgramAccounts(n,{commitment:"confirmed",filters:[{dataSize:hw},{memcmp:{offset:8,bytes:Ks.bytes.bs58.encode(m)}}]}),y=[];for(const O of f)try{w.decode("Ticket",O.account.data).processed===!1&&y.push({pubkey:O.pubkey,isSigner:!1,isWritable:!0})}catch{}if(y.length===0)return o?.("Settle: No unprocessed tickets found."),null;o?.(`Settle: found ${y.length} tickets to process.`);try{const O=await s.methods.settleRoundTokens(v).accounts({config:h,tokenomics:S,round:_,chronoMint:c,chronoVault:C,treasury:D,replicationPool:B,payer:i,tokenProgram:Ks.token.TOKEN_PROGRAM_ID}).remainingAccounts(y).rpc();o?.(`Settle OK  tx=${O}`);try{const L=i.toBase58(),Y=xl(L,x.roundId),ne=new Set(Y.map(ie=>ie.ticketPda));for(const ie of y){const he=ie.pubkey.toBase58();if(ne.has(he)){const Ae=Y.find(Ie=>Ie.ticketPda===he);Ae&&(Ae.claimTx=O,Ae.claimedAt=Date.now(),fs(L,x.roundId,Ae))}}}catch(L){console.error("Failed to save settle receipts",L)}return d?.(O),l?.(),await le("action"),O}catch(O){o?.(`Settle failed: ${bl(O)}`);const L=wl(O);return L?.length&&L.slice(0,12).forEach(Y=>o?.(`  ${Y}`)),null}},[s,n,i,c,t,w,o,d,l,le]);return{rows:E,loading:k,error:M,lastUpdatedAt:z,retryInSec:F,forceRefresh:()=>le("manual"),doRevealTicket:G,doClaimTicket:Z,doRefundTicket:X,doSettleRound:W}}const pw=({size:s=14})=>K.jsxs("svg",{width:s,height:s,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"block"},children:[K.jsx("path",{d:"M12 16L7 11H10V4H14V11H17L12 16Z",fill:"currentColor"}),K.jsx("path",{d:"M4 18C4 19.1 4.9 20 6 20H18C19.1 20 20 19.1 20 18V14H18V18H6V14H4V18Z",fill:"currentColor"})]}),mw=({size:s=15})=>K.jsxs("svg",{width:s,height:s,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"block"},children:[K.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2.5"}),K.jsx("path",{d:"M12 12V17",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round"}),K.jsx("circle",{cx:"12",cy:"7.5",r:"1.5",fill:"currentColor"})]});function wc(s){if(s<=0)return"0s";const t=Math.floor(s/60),n=Math.floor(s%60);return t>0?`${t}m ${n}s`:`${n}s`}function _c(s){try{return s==null?null:typeof s=="bigint"?s:typeof s=="number"||typeof s=="string"?BigInt(s):typeof s?.toString=="function"?BigInt(s.toString()):null}catch{return null}}function f6({program:s,connection:t,programPk:n,pubkey:i,mintPk:c,appendLog:o,onAfterAction:l,setLastTx:d,actionsEnabled:g=!0,refreshNonce:w=0,limit:E=20,currentSlot:I,activeRoundId:k,nist:R,claimGraceSlots:M}){const U=Re.useMemo(()=>i?i instanceof ve?i:new ve(i):null,[i]),{rows:z=[],loading:j,error:F,doRevealTicket:V,doClaimTicket:$,doRefundTicket:re,doSettleRound:oe}=l6?.({program:s,connection:t,programPk:n,userPubkey:U,mintPk:c,appendLog:o,onAfterAction:l,setLastTx:d,refreshNonce:w,limit:E})||{},se=z??[],[le,G]=Re.useState(null),[Z,X]=Re.useState(null),[W,x]=Re.useState("ALL");function h(ie,he){const Ae=!!ie.revealed,Ie=!!ie.win,Ve=!!ie.claimed,xt=!!ie.tokenSettled;if(ie.receipt?.refunded===!0)return"REFUNDED";if(Ve)return"CLAIMED";if(Ie){if(xt){if(he&&ie.round&&M!=null){const qe=_c(ie.round.revealDeadlineSlot||ie.round.reveal_deadline_slot);if(qe){const Fe=qe+BigInt(M);if(BigInt(he)>Fe)return"SWEPT"}}return"CLAIM PRIZE"}return"WIN"}if(Ae&&!Ie)return"LOSS";if(!Ae&&!Ie){if(!ie.round||ie.round.finalized)return"EXPIRED";const qe=_c(ie.round.revealDeadlineSlot||ie.round.reveal_deadline_slot),Fe=!!ie.round.finalized,en=!!(ie.round.pulseSet||ie.round.pulse_set);if(qe&&he){const Xe=BigInt(he);if(!Fe&&Xe>qe+150n)return"REFUND AVAILABLE";if(!Fe&&!en&&Xe>qe)return"WAITING PULSE";if(Xe>qe)return"EXPIRED";if(en&&Xe<=qe)return"REVEAL NOW"}}return"PENDING"}const _=Re.useMemo(()=>[...se].sort((ie,he)=>ie.roundId!==he.roundId?Number(ie.roundId)-Number(he.roundId):Number(ie.nonce)-Number(he.nonce)).map((ie,he)=>({...ie,absoluteIndex:he+1})),[se]),S=Re.useMemo(()=>W==="ALL"?_:_.filter(ie=>{const he=h(ie,I);return W==="ACTION"?["REVEAL NOW","CLAIM PRIZE","REFUND AVAILABLE"].includes(he):W==="WIN"?he==="CLAIM PRIZE"||he==="WIN":he===W}),[se,W,I,M]),C=Re.useMemo(()=>{const ie={};for(const he of S){const Ae=Number(he.roundId);ie[Ae]||(ie[Ae]={roundId:Ae,tickets:[],round:he.round}),ie[Ae].tickets.push(he)}return Object.values(ie).sort((he,Ae)=>Ae.roundId-he.roundId)},[S]),[D,B]=Re.useState(1),[v,m]=Re.useState(5),f=Math.ceil(C.length/v)||1;Re.useEffect(()=>{D>f&&B(f)},[f,D]);const y=C.slice((D-1)*v,D*v),O=ie=>ie==="WIN"?"WINNER":ie==="LOSE"||ie==="LOSS"?"LOSS":ie==="CLAIM"||ie==="CLAIM PRIZE"?"READY TO CLAIM":ie,L=async(ie,he,Ae)=>{try{console.log("Downloading batch for round",ie);const Ie=he[0]?.ticket?.user?.toString()||"unknown",Ve=await Fr(n,Number(ie)),xt=xl(Ie,ie.toString())||[],qe=[],Fe=5;for(let We=0;We<he.length;We+=Fe){const zn=he.slice(We,We+Fe),bt=await Promise.all(zn.map(async Ye=>{const Ut=Ye.ticket,$e=xt.find(A=>A.nonce!=null&&Ut?.nonce&&Number(A.nonce)===Number(Ut.nonce)||A.nonce!=null&&Ye.nonce!=null&&Number(A.nonce)===Number(Ye.nonce));let He=$e?{...$e}:Ye.receipt?{...Ye.receipt}:{};const qt=h(Ye,I),wt=qt==="LOSS"||qt==="WIN"||qt==="CLAIM PRIZE"||qt==="CLAIMED"||Ye.revealed,H=qt==="CLAIMED"||Ye.claimed;return(!He.commitTx||!He.revealTx&&wt||!He.claimTx&&H)&&Ye.ticketPk,{address:Ye.ticketPk?.toString(),nonce:Number(Ye.nonce??Ut?.nonce??0),bitIndex:Ut?.bitIndex??Ut?.bit_index??null,status:qt,prediction:Ye.guess===1?"Bull":Ye.guess===0?"Bear":"Unknown",transactions:{commit:Ye.createdTx||He?.commitTx||null,reveal:Ye.revealedTx||He?.revealTx||null,claim:Ye.claimedTx||He?.claimTx||null}}}));qe.push(...bt)}const en=he.map(We=>{const zn=h(We,I);return{address:We.ticketPk?.toString(),nonce:Number(We.nonce??We.ticket?.nonce??0),bitIndex:We.ticket?.bitIndex??null,status:zn,prediction:We.guess===1?"Bull":"Bear",receipt:We.receipt,transactions:{commit:We.createdTx,reveal:We.revealedTx,claim:We.claimedTx}}}),Xe=$C(ie,Ve,"EXPORTED",Ae,en,Ie);dw(`chronos_round_${ie}_batch.json`,Xe)}catch(Ie){console.error(Ie),alert("Export error: "+Ie.message)}},Y=(ie,he)=>{const Ae=h(ie,I),Ie={ticketPk:ie.ticketPk,roundId:he,onChainTicket:ie.ticket,receipt:ie.receipt,status:Ae,currentSlot:I,createdTx:{signature:ie.createdTx},revealedTx:{signature:ie.revealedTx},claimedTx:{signature:ie.claimedTx}},Ve=WC(Ie);dw(`chronos_ticket_${ie.nonce}.json`,Ve)},ne=ie=>K.jsxs("div",{style:{marginTop:0,padding:"4px 16px",borderTop:ie?"none":"1px solid rgba(0,0,0,0.05)",borderBottom:ie?"1px solid rgba(0,0,0,0.05)":"none",display:"flex",justifyContent:"center",alignItems:"center",gap:6,background:"#fafafa",borderBottomLeftRadius:ie?0:8,borderBottomRightRadius:ie?0:8},children:[K.jsx("button",{className:"beta-btn beta-btn--soft",disabled:D<=1,onClick:()=>B(he=>he-1),style:{padding:"6px 12px",opacity:D<=1?.3:1},children:"Previous"}),(()=>{let Ae=[];return f<=11?Ae=Array.from({length:f},(Ie,Ve)=>Ve+1):D<=6?Ae=[1,2,3,4,5,6,7,8,9,"...",f]:D>=f-5?Ae=[1,"...",f-8,f-7,f-6,f-5,f-4,f-3,f-2,f-1,f]:Ae=[1,"...",D-3,D-2,D-1,D,D+1,D+2,D+3,"...",f],Ae.map((Ie,Ve)=>Ie==="..."?K.jsx("span",{style:{padding:"6px 10px",opacity:.5},children:"..."},`ell-${Ve}`):K.jsx("button",{className:`beta-btn ${Ie===D?"beta-btn--primary":"beta-btn--soft"}`,onClick:()=>B(Ie),style:{minWidth:32,padding:"6px 0",textAlign:"center",fontWeight:Ie===D?700:400,background:Ie===D?"#3B82F6":"rgba(0,0,0,0.05)",color:Ie===D?"white":"inherit",border:"none",borderRadius:4},children:Ie},Ie))})(),K.jsx("button",{className:"beta-btn beta-btn--soft",disabled:D>=f,onClick:()=>B(he=>he+1),style:{padding:"6px 12px",opacity:D>=f?.3:1},children:"Next"})]});return K.jsxs("div",{className:"beta-card",style:{padding:0,overflow:"hidden",background:"transparent",boxShadow:"none",border:"none"},children:[K.jsx("div",{className:"beta-card",style:{marginBottom:0,borderBottomLeftRadius:0,borderBottomRightRadius:0,borderBottom:"1px solid rgba(0,0,0,0.05)"},children:K.jsx("div",{className:"beta-card__head",style:{padding:"8px 24px"},children:K.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[K.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:8},children:[K.jsx("div",{className:"beta-card__title",style:{fontWeight:700,fontSize:18,whiteSpace:"nowrap"},children:"Order History"}),K.jsxs("span",{style:{fontSize:10,color:"#6B7280",fontWeight:600,opacity:j?.3:1,textTransform:"uppercase",letterSpacing:"0.02em"},children:[S.length," TICKETS / ",C.length," ROUNDS"]})]}),K.jsxs("div",{style:{display:"flex",gap:12},children:[K.jsxs("select",{className:"beta-input",value:W,onChange:ie=>x(ie.target.value),style:{padding:"6px 12px",fontSize:13,cursor:"pointer",minWidth:120},children:[K.jsx("option",{value:"ALL",children:"All Status"}),K.jsx("option",{value:"ACTION",children:"Action Required"}),K.jsx("option",{value:"WIN",children:"Wins"}),K.jsx("option",{value:"LOSS",children:"Loss"}),K.jsx("option",{value:"CLAIMED",children:"Claimed"}),K.jsx("option",{value:"REFUNDED",children:"Refunded"}),K.jsx("option",{value:"SWEPT",children:"Swept"}),K.jsx("option",{value:"EXPIRED",children:"Expired"}),K.jsx("option",{value:"PENDING",children:"Pending"})]}),K.jsxs("select",{className:"beta-input",value:v,onChange:ie=>m(Number(ie.target.value)),style:{padding:"6px 12px",fontSize:13,cursor:"pointer",minWidth:150},children:[K.jsx("option",{value:5,children:"5 Rounds / pg"}),K.jsx("option",{value:10,children:"10 Rounds / pg"}),K.jsx("option",{value:20,children:"20 Rounds / pg"}),K.jsx("option",{value:50,children:"50 Rounds / pg"}),K.jsx("option",{value:100,children:"100 Rounds / pg"})]})]})]})})}),y.length>0?K.jsxs("div",{className:"beta-card",style:{padding:0,overflow:"hidden",marginTop:0,borderTopLeftRadius:0,borderTopRightRadius:0,borderTop:"none"},children:[ne(!0),K.jsx("div",{className:"beta-table-container",children:K.jsxs("table",{className:"beta-table",children:[K.jsx("thead",{children:K.jsxs("tr",{children:[K.jsx("th",{style:{paddingLeft:24,width:"38%"},children:"Identifier"}),K.jsx("th",{style:{width:"20%"},children:"Status"}),K.jsx("th",{style:{textAlign:"center",width:75},children:"Info"}),K.jsx("th",{style:{textAlign:"center",width:85},children:"Export"}),K.jsx("th",{style:{textAlign:"right",paddingRight:24,width:"22%"},children:"Action"})]})}),K.jsx("tbody",{children:y.map(({roundId:ie,tickets:he,round:Ae})=>{const Ie=Ae?.commitDeadlineSlot??Ae?.commit_deadline_slot,Ve=Ae?.revealDeadlineSlot??Ae?.reveal_deadline_slot,xt=Ae?.pulseIndexTarget??Ae?.pulse_index_target,qe=_c(Ie)??0n,Fe=_c(Ve)??0n,en=_c(xt)??0n,Xe=I?BigInt(I):0n,We=!!Ae?.finalized,zn=!!(Ae?.pulseSet||Ae?.pulse_set),bt=!!(Ae?.tokenSettled||Ae?.token_settled),Ye=Fe>0n&&M?Fe+BigInt(M):0n,Ut=Fe>0n?Fe+150n:0n;let $e="ARCHIVED",He=K.jsx("span",{style:{opacity:.5},children:""});if(Ae)if(We)if(Ye>0n&&Xe<Ye){$e="CLAIM WINDOW";const P=Number(Ye-Xe);He=K.jsxs("span",{style:{opacity:.5},children:["Sweep risk in: ",K.jsx("b",{children:wc(P*.45)})]})}else $e="ARCHIVED",He=K.jsx("span",{style:{opacity:.5},children:"Done"});else if(qe>0n&&Xe<qe){$e="OPEN";const P=Number(qe-Xe);He=K.jsxs("span",{style:{opacity:.5},children:["Commit ends: ",K.jsx("b",{children:wc(P*.45)})]})}else if(Ut>0n&&Xe>Ut)$e="REFUND MODE",He=K.jsx("span",{style:{opacity:.6,fontWeight:"bold"},children:"Escape Hatch Active"});else if(zn)if(Xe<=Fe){$e="REVEAL OPEN";const P=Number(Fe-Xe);He=K.jsxs("span",{style:{opacity:.5},children:["Reveal ends: ",K.jsx("b",{children:wc(P*.45)})]})}else $e="AWAITING SETTLE",He=K.jsx("span",{style:{color:"#888",fontWeight:400},children:"Auto-Settling..."});else if($e="WAITING PULSE",Xe>Fe){const P=Number(Ut-Xe);P>0?He=K.jsxs("span",{style:{opacity:.5},children:["Refunds in: ",K.jsx("b",{children:wc(P*.45)})]}):He=K.jsx("span",{style:{opacity:.5},children:"Pulse Delayed"})}else{let P=!1;if(en&&R?.pulse?.pulseIndex){const te=Number(R.pulse.pulseIndex),ce=Number(en);if(ce>te){const ge=new Date(R.pulse.timeStamp).getTime(),ze=ce-te,Ue=ge+ze*6e4+12e4-Date.now();Ue>0&&(He=K.jsxs("span",{style:{opacity:.5},children:["Pulse in ~",K.jsx("b",{children:wc(Ue/1e3)})]}),P=!0)}}P||(He=K.jsx("span",{style:{opacity:.5},children:"Waiting for Pulse..."}))}const qt=he.filter(P=>h(P,I)==="REVEAL NOW"&&!P.revealed),wt=he.filter(P=>h(P,I)==="CLAIM PRIZE"&&!P.claimed),H=he.filter(P=>h(P,I)==="REFUND AVAILABLE"&&!P.receipt?.refunded),A=Ae&&!We&&Fe>0n&&Xe>Fe&&zn&&!bt;let T="rgba(0, 0, 0, 0.02)";return($e==="OPEN"||$e==="CLAIM WINDOW")&&(T="rgba(76, 175, 80, 0.08)"),$e==="REVEAL OPEN"&&(T="rgba(33, 150, 243, 0.08)"),($e==="WAITING PULSE"||$e==="AWAITING SETTLE")&&(T="rgba(255, 193, 7, 0.06)"),$e==="REFUND MODE"&&(T="rgba(244, 67, 54, 0.05)"),K.jsxs(K.Fragment,{children:[K.jsxs("tr",{style:{background:T},children:[K.jsx("td",{style:{paddingLeft:24,borderBottom:"1px solid rgba(0,0,0,0.05)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:K.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,overflow:"hidden"},children:[K.jsxs("span",{style:{fontWeight:800,fontSize:15,whiteSpace:"nowrap"},children:["Round #",ie]}),K.jsx("div",{style:{fontSize:13,opacity:.8,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:He})]})}),K.jsx("td",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:K.jsx("span",{style:{whiteSpace:"nowrap",fontWeight:600,fontSize:13,opacity:.8},children:$e})}),K.jsx("td",{style:{textAlign:"center"},children:K.jsx("button",{className:"beta-btn--ghost beta-btn--mini",title:"Round Details",onClick:()=>X({round:Ae,roundId:ie,currentSlot:I}),children:K.jsx(mw,{})})}),K.jsx("td",{style:{textAlign:"center"},children:K.jsx("button",{className:"beta-btn--ghost",title:"Download Batch",onClick:()=>L(ie,he,Ae),children:K.jsx(pw,{})})}),K.jsx("td",{style:{textAlign:"right",paddingRight:24},children:qt.length>0?K.jsxs("button",{className:"beta-btn beta-btn--sm",onClick:()=>qt.forEach(P=>V(P)),children:["Reveal All (",qt.length,")"]}):wt.length>0?K.jsxs("button",{className:"beta-btn beta-btn--sm",onClick:()=>wt.forEach(P=>$(P)),children:["Claim All (",wt.length,")"]}):H.length>0?K.jsxs("button",{className:"beta-btn beta-btn--sm",onClick:()=>H.forEach(P=>re(P)),children:["Refund All (",H.length,")"]}):A?K.jsx("button",{className:"beta-btn beta-btn--sm",onClick:()=>oe({roundId:ie}),children:"Manual Settle"}):K.jsx("span",{style:{opacity:.3,fontSize:12},children:""})})]},`round-${ie}`),he.map(P=>{const te=h(P,I),ce=P.guess===1?"Bull ":P.guess===0?"Bear ":"";let ge=K.jsx("span",{style:{opacity:.2},children:""});return te==="REVEAL NOW"&&(ge=K.jsx("button",{className:"beta-btn beta-btn--icon",onClick:()=>V(P),children:" Reveal"})),te==="CLAIM PRIZE"&&(ge=K.jsx("button",{className:"beta-btn beta-btn--icon",onClick:()=>$(P),children:" Claim"})),te==="REFUND AVAILABLE"&&(ge=K.jsx("button",{className:"beta-btn beta-btn--icon",onClick:()=>re(P),children:" Refund"})),K.jsxs("tr",{children:[K.jsx("td",{style:{paddingLeft:48,borderBottom:"1px solid rgba(0,0,0,0.03)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:K.jsxs("div",{style:{fontSize:13,display:"flex",alignItems:"center",gap:8,overflow:"hidden"},children:[K.jsx("span",{style:{opacity:.4},children:""}),K.jsxs("span",{style:{whiteSpace:"nowrap"},children:["Ticket #",P.absoluteIndex]}),K.jsx("b",{style:{whiteSpace:"nowrap"},children:ce})]})}),K.jsx("td",{children:K.jsx("span",{style:{fontSize:13,fontWeight:500,opacity:.7},children:O(te)})}),K.jsx("td",{style:{textAlign:"center"},children:K.jsx("button",{className:"beta-btn--ghost beta-btn--mini",onClick:()=>G(P),children:K.jsx(mw,{})})}),K.jsx("td",{style:{textAlign:"center"},children:K.jsx("button",{className:"beta-btn--ghost",onClick:()=>Y(P,ie),children:K.jsx(pw,{})})}),K.jsx("td",{style:{textAlign:"right",paddingRight:24},children:ge})]},P.ticketPk?.toString())})]})})})]})}),ne(!1)]}):K.jsx("div",{className:"beta-card",style:{padding:40,textAlign:"center",opacity:.5},children:"No history found."}),K.jsx(XC,{ticket:le,connection:t,programPk:n,claimGraceSlots:M,onClose:()=>G(null),currentSlot:I}),Z&&K.jsx(JC,{round:Z.round,roundId:Z.roundId,programPk:n,rPda:null,currentSlot:I,claimGraceSlots:M,connection:t,onClose:()=>X(null)})]})}function d6(){return typeof window>"u"?null:window?.phantom?.solana??window?.solana??null}function h6(s,t){return!s?.isPhantom||!t?null:{publicKey:t,signTransaction:s.signTransaction.bind(s),signAllTransactions:s.signAllTransactions.bind(s)}}function p6({rpcUrl:s,programId:t,pubkey:n}){const i=Re.useMemo(()=>d6(),[]),c=Re.useMemo(()=>new hp(s,"confirmed"),[s]),[o,l]=Re.useState(null),[d,g]=Re.useState(!1);return Re.useEffect(()=>{let w=!0;async function E(){try{if(!i||!n){w&&(l(null),g(!1));return}const I=h6(i,n);if(!I){w&&(l(null),g(!1));return}const k=new Cc(c,I,{commitment:"confirmed"}),R=await po.at(t,k);w&&(l(R),g(!0))}catch{w&&(l(null),g(!1))}}return E(),()=>{w=!1}},[i,n,t,c]),{program:o,connection:c,walletReady:d}}function m6({chainId:s=2}={}){const n="https://beacon.nist.gov/beacon/2.0",i=Re.useMemo(()=>[`${n}/chain/${s}/pulse/last`,`${n}/pulse/last`],[n,s]),[c,o]=Re.useState(null),[l,d]=Re.useState(""),[g,w]=Re.useState(Date.now());async function E(){d("");for(const U of i)try{const z=await fetch(U,{cache:"no-store"});if(!z.ok)throw new Error(`HTTP ${z.status}`);const j=await z.json(),F=j?.pulse||j;if(!F?.pulseIndex||!F?.timeStamp)throw new Error("Unexpected NIST response");o({pulseIndex:Number(F.pulseIndex),timeStamp:String(F.timeStamp)});return}catch(z){d(z?.message??String(z))}}Re.useEffect(()=>{E();const U=setInterval(()=>w(Date.now()),1e3),z=setInterval(()=>E(),15e3);return()=>{clearInterval(U),clearInterval(z)}},[]);let I=null,k=null,R=null;if(c?.timeStamp){const U=Date.parse(c.timeStamp);if(!Number.isNaN(U)){I=U;const z=Math.max(0,g-U);k=Math.floor(z/1e3);const j=6e4-z%6e4;R=Math.max(0,Math.ceil(j/1e3)),R>60&&(R=60)}}const M=c?.pulseIndex!=null?`${n}/chain/${s}/pulse/${c.pulseIndex}`:`${n}/chain/${s}/pulse/last`;return{pulse:c,pulseTimeMs:I,elapsedSec:k,nextInSec:R,err:l,pulseUrl:M}}function xr(s,...t){for(const n of t)if(s&&Object.prototype.hasOwnProperty.call(s,n))return s[n]}function $a(s){return s==null?null:typeof s=="bigint"?s:typeof s=="number"||typeof s=="string"?BigInt(s):typeof s=="object"&&typeof s.toString=="function"?BigInt(s.toString()):null}function y6({rpcUrl:s,connection:t,programId:n,pubkey:i}){const c=Re.useMemo(()=>t||new hp(s,"processed"),[t,s]),o=Re.useMemo(()=>new Ap(ZE),[]),[l,d]=Re.useState(null),[g,w]=Re.useState(""),E=Re.useCallback(async()=>{if(!i){d(null),w("");return}try{const I=no(n),k=FE(n,I),R=await c.getAccountInfo(k,"processed"),M=await c.getAccountInfo(I,"processed");if(!R?.data||!M?.data){const D=Pl(n,I);d({configPda:I,config:null,roundRegistryPda:k,rrPda:k,roundId:null,roundPda:null,chronoVaultPda:null,round:null,tokenomicsPda:D,tokenomicsExists:!1,rewardFeePoolPda:null,deriveTicketPda:()=>null}),w("Protocol not fully initialized (Config or RR missing).");return}const U=o.decode("Config",M.data),z={claimGraceSlots:$a(xr(U,"claimGraceSlots","claim_grace_slots")),paused:!!xr(U,"paused")},j=o.decode("RoundRegistry",R.data),F=xr(j,"nextRoundId","next_round_id"),V=$a(F)??0n,$=V>0n?Number(V-1n):0,re=await c.getSlot("processed"),oe=Fr(n,$),se=await c.getAccountInfo(oe,"processed"),le=Ac(n,$),G=Pl(n,I),X=!!(await c.getAccountInfo(G,"processed"))?.data,W=X?YE(n,G):null;if(!se?.data){d({configPda:I,config:z,roundRegistryPda:k,rrPda:k,roundId:$,roundPda:oe,chronoVaultPda:le,currentSlot:re,round:null,tokenomicsPda:G,tokenomicsExists:X,rewardFeePoolPda:W,deriveTicketPda:(D,B,v)=>L0(n,D,B,v)}),w("Round account not found yet (operator hasn't created it).");return}const x=o.decode("Round",se.data);console.log("PROTOCOL_DEBUG: roundId",$,"raw decoded:",x);const h={pulseSet:!!xr(x,"pulseSet","pulse_set"),finalized:!!xr(x,"finalized"),tokenSettled:!!xr(x,"tokenSettled","token_settled"),commitDeadlineSlot:$a(xr(x,"commitDeadlineSlot","commit_deadline_slot")),revealDeadlineSlot:$a(xr(x,"revealDeadlineSlot","reveal_deadline_slot")),pulseIndexTarget:$a(xr(x,"pulseIndexTarget","pulse_index_target")),pulse:xr(x,"pulse"),pulseSetSlot:$a(xr(x,"pulseSetSlot","pulse_set_slot"))},S=14e11+(Number(h.pulseIndexTarget)-1)*6e4;console.log("PROTOCOL_DEBUG: finalized round object",h),d({configPda:I,config:z,roundRegistryPda:k,rrPda:k,rrPda:k,roundId:$,roundPda:oe,chronoVaultPda:le,currentSlot:re,round:h,tokenomicsPda:G,tokenomicsExists:X,rewardFeePoolPda:W,deriveTicketPda:(D,B,v)=>L0(n,D,B,v)});const C=h.pulseIndexTarget?.toString();w(`Targeting NIST Pulse: ${h.pulseIndexTarget}`)}catch(I){d(null),w("Play: could not load protocol state"),console.error("useProtocolState refresh error:",I)}},[o,c,n,i]);return Re.useEffect(()=>{if(!i)return;let I=!1;const k=async()=>{I||document.visibilityState==="visible"&&await E()},R=l?.round&&l?.currentSlot!=null&&l.round.commitDeadlineSlot!=null&&BigInt(l.currentSlot)<l.round.commitDeadlineSlot,U=l?.round&&(R||!l.round.pulseSet||!l.round.finalized)?2e3:8e3;k();const z=setInterval(k,U);return()=>{I=!0,clearInterval(z)}},[i,E,l?.round?.pulseSet,l?.round?.finalized]),{chainState:l,statusLine:g,refreshNow:E}}D_("devnet");const _l="https://api.devnet.solana.com",g6="BETA2026",yw="DrsJxZRNuEFHVyj3Sz5CzpVeacpAGHBoZrg9NtRH9JqR",gw="https://timlg-faucet.vercel.app/api/faucet",m0="7nJ9vaCpjo3zDY1fzZv1KicjoZ6yPpzHFcKq3HDh8cEf",b6=+"0.05",w6=1;function y0(){return typeof window>"u"?null:window?.phantom?.solana??window?.solana??null}function _6(){const s=new Date,t=n=>String(n).padStart(2,"0");return`${t(s.getUTCHours())}:${t(s.getUTCMinutes())}:${t(s.getUTCSeconds())}Z`}function v6(){const s=Re.useMemo(()=>new ve(yw),[]),t=Re.useMemo(()=>new ve(m0),[]),[n,i]=Re.useState(!0),[c,o]=Re.useState(null),[l,d]=Re.useState(null),[g,w]=Re.useState(null),[E,I]=Re.useState(g6),[k,R]=Re.useState(""),[M,U]=Re.useState(""),[z,j]=Re.useState([]),F=Re.useCallback(y=>{const O=String(y??"").trim();O&&j(L=>{const Y=[...L,`[${_6()}] ${O}`];return Y.length>400?Y.slice(-400):Y})},[]),V=Re.useCallback(()=>j([]),[]),$=c?.toBase58?.()??null,{program:re,connection:oe,walletReady:se}=p6({rpcUrl:_l,programId:s,pubkey:c}),le=m6({chainId:2}),{chainState:G,statusLine:Z,refreshNow:X}=y6({rpcUrl:_l,connection:oe,programId:s,pubkey:c}),W=Re.useCallback(async y=>{try{const L=await oe.getBalance(y,"confirmed")/T0;return d(L),L}catch{return d(null),null}},[oe]),x=Re.useCallback(async y=>{try{const L=(await oe.getParsedTokenAccountsByOwner(y,{mint:t},"confirmed"))?.value?.[0]?.account?.data?.parsed?.info?.tokenAmount?.uiAmount??0;return w(L),L}catch{return w(null),null}},[oe,t]),[h,_]=Re.useState(0),S=Re.useCallback(()=>{_(y=>y+1),setTimeout(()=>_(y=>y+1),1e3),setTimeout(()=>_(y=>y+1),3e3)},[]);Re.useCallback(async()=>{c&&(await Promise.all([W(c),x(c),X()]),S())},[c,W,x,X,S]);async function C(){try{let y=window?.solana;if(y?.isPhantom||(y=window?.phantom?.solana),!y){i(!1),R("Phantom not detected."),F("Connect: Phantom not detected.");return}i(!!y?.isPhantom),R("Connecting");const O={isPhantom:y?.isPhantom,isSolflare:y?.isSolflare,source:y===window?.solana?"window.solana":"window.phantom.solana",isConnected:y?.isConnected,pubkey:y?.publicKey?.toBase58?.()};if(F(`Connect: provider state: ${JSON.stringify(O)}`),y?.isConnected&&y?.publicKey){o(y.publicKey),R("Wallet connected (researched) "),F(`Connected (cached): ${y.publicKey.toBase58()}`),await Promise.all([W(y.publicKey),x(y.publicKey),X()]);return}let L;try{L=await y.connect()}catch(Y){console.warn("Standard connect failed, retrying with onlyIfTrusted:false",Y),F(`Connect: retry forced (${Y.message})`),await new Promise(ne=>setTimeout(ne,200)),L=await y.connect({onlyIfTrusted:!1})}L?.publicKey&&(o(L.publicKey),F(`Connected: ${L.publicKey.toBase58()}`),R("Wallet connected "),await Promise.all([W(L.publicKey),x(L.publicKey),X()]))}catch(y){console.error("Phantom connect error:",y);let O=y?.message??String(y);y?.code===-32603&&(O="Wallet Error (-32603). The Phantom extension is stuck. PLEASE RESTART YOUR BROWSER entirely.");const L=JSON.stringify(y,Object.getOwnPropertyNames(y));R(`Error: ${O}`),F(`Connect error details: ${L}`)}}async function D(){try{const y=y0();F("Disconnect: wallet requested."),await y?.disconnect?.()}catch{}o(null),d(null),w(null),U(""),R("Disconnected.")}async function B(){if(!c){R("Connect your wallet first."),F("Airdrop SOL: connect wallet first.");return}try{R("Requesting 1 SOL airdrop (devnet)..."),F("Airdrop SOL: requesting 1 SOL");const y=await oe.requestAirdrop(c,1*T0);if(U(y),F(`Airdrop SOL: submitted tx=${y}`),(await oe.confirmTransaction(y,"confirmed"))?.value?.err){R("Airdrop failed."),F("Airdrop SOL: failed (confirm err).");return}await W(c),R("Airdrop OK "),F("Airdrop SOL: OK ")}catch(y){R(`Airdrop error: ${y?.message??String(y)}`),F(`Airdrop SOL error: ${y?.message??String(y)}`)}}async function v(){if(!c){R("Connect your wallet first."),F("CHRONO faucet: connect wallet first.");return}const y=y0();if(!y?.isPhantom){R("Phantom not detected."),F("CHRONO faucet: Phantom not detected.");return}const O=c.toBase58(),L=E?.trim()||"";R("Requesting CHRONO from faucet..."),F("CHRONO faucet: preparing request"),U("");try{const Y=`Recipient: ${O}
Timestamp: ${Date.now()}
Domain: timlg.org`;let ne;if(y.signMessage){R("Waiting for Phantom signature approval..."),F("CHRONO faucet: waiting Phantom signature");const Ie=new TextEncoder().encode(Y),Ve=await y.signMessage(Ie,"utf8"),xt=Ve?.signature??Ve;ne=xN.encode(xt)}R("Sending request to faucet..."),F("CHRONO faucet: sending request");const ie=await fetch(gw,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({recipient:O,inviteCode:L,message:Y,signature:ne})}),he=await ie.json().catch(()=>({}));if(!(ie.ok&&(he?.ok===void 0||he?.ok===!0))){const Ie=he?.error||`HTTP ${ie.status}`;R(`Faucet error: ${Ie}`),F(`CHRONO faucet error: ${Ie}`);return}he?.signature&&(U(he.signature),F(`CHRONO faucet: tx=${he.signature}`)),await x(c),R("CHRONO sent "),F("CHRONO faucet: OK ")}catch(Y){const ne=Y?.message??String(Y);R(`Faucet error: ${ne}`),F(`CHRONO faucet error: ${ne}`)}}Re.useEffect(()=>{const y=y0();i(!!y?.isPhantom);const O=Y=>Y&&o(Y),L=()=>{o(null),d(null),w(null)};return y?.on?.("connect",O),y?.on?.("disconnect",L),(async()=>{try{y?.isPhantom&&y?.publicKey&&(o(y.publicKey),await Promise.all([W(y.publicKey),x(y.publicKey)]))}catch{}})(),()=>{y?.off?.("connect",O),y?.off?.("disconnect",L)}},[W,x]),Re.useMemo(()=>$?l!=null&&l<b6?{label:"Needs SOL",tone:"warn"}:g!=null&&g<w6?{label:"Needs CHRONO",tone:"warn"}:{label:"Ready",tone:"ok"}:{label:"Connect wallet",tone:"muted"},[$,l,g]);const[m,f]=Re.useState(!1);return K.jsxs("div",{className:"beta-app",children:[!n&&K.jsxs("div",{className:"beta-card beta-card--warn",children:[K.jsx("b",{children:"Phantom not detected."}),K.jsxs("div",{style:{marginTop:6},children:["Install Phantom:"," ",K.jsx("a",{href:"https://phantom.app/",target:"_blank",rel:"noreferrer",children:"https://phantom.app/"})]})]}),K.jsx("header",{className:"beta-header",children:K.jsxs("div",{className:"beta-walletbar",children:[K.jsx("img",{src:wR,className:"beta-walletbar__watermark",alt:"","aria-hidden":"true"}),K.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",position:"relative",zIndex:1},children:[K.jsx("div",{className:"beta-walletbar__title",children:"Wallet"}),K.jsx("button",{className:"beta-tooltip",onClick:()=>f(!m),type:"button",style:{cursor:"pointer",border:"1px solid #aaa",color:"#666",background:m?"rgba(0,0,0,0.1)":"transparent"},children:m?"":"i"})]}),m&&K.jsxs("div",{className:"beta-info-panel",style:{marginTop:4,marginBottom:8},children:[K.jsxs("div",{children:[K.jsx("b",{children:"RPC:"})," ",_l]}),K.jsxs("div",{children:[K.jsx("b",{children:"Program:"})," ",yw]}),K.jsxs("div",{children:[K.jsx("b",{children:"Mint:"})," ",m0]}),K.jsxs("div",{children:[K.jsx("b",{children:"Faucet:"})," ",gw]}),K.jsx("div",{style:{marginTop:6},children:"Version: 0.1.0-beta"})]}),K.jsxs("div",{className:"beta-walletbar__grid",children:[K.jsxs("div",{className:"beta-walletbar__row",children:[K.jsx("div",{className:"beta-walletbar__label",children:"Address"}),K.jsx("div",{className:"beta-walletbar__cell-info",children:$?K.jsx("a",{className:"beta-link",href:GC($),target:"_blank",rel:"noreferrer",style:{fontSize:14,fontWeight:700,textDecoration:"none"},children:VC($)}):K.jsx("span",{className:"beta-muted",style:{fontSize:14,fontWeight:700},children:"Not connected"})}),K.jsx("div",{className:"beta-walletbar__cell-action",children:K.jsx("button",{className:"beta-btn beta-walletbar__btn-main",onClick:$?D:C,type:"button",children:$?"Disconnect":"Connect"})})]}),K.jsxs("div",{className:"beta-walletbar__row",children:[K.jsx("div",{className:"beta-walletbar__label",children:"SOL Balance"}),K.jsx("div",{className:"beta-walletbar__cell-info",children:K.jsxs("span",{style:{fontSize:15,fontWeight:700},children:[l==null?"":l.toFixed(3)," SOL"]})}),K.jsx("div",{className:"beta-walletbar__cell-action",children:K.jsx("button",{className:"beta-btn",onClick:B,disabled:!$,type:"button",children:"Airdrop SOL"})})]}),K.jsxs("div",{className:"beta-walletbar__row",children:[K.jsx("div",{className:"beta-walletbar__label",children:"CHRONO Balance"}),K.jsx("div",{className:"beta-walletbar__cell-info",children:K.jsxs("span",{style:{fontSize:15,fontWeight:700},children:[g==null?"":Number(g).toFixed(2)," CHRONO"]})}),K.jsx("div",{className:"beta-walletbar__cell-action",children:K.jsx("button",{className:"beta-btn",style:{background:"#2D68EA",color:"white",border:"none"},onClick:v,disabled:!$,type:"button",children:"Get CHRONO"})})]})]}),K.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginTop:8,borderTop:"1px solid rgba(0,0,0,0.05)",paddingTop:8,position:"relative",zIndex:1},children:[K.jsx("span",{className:"beta-muted",style:{fontSize:12,whiteSpace:"nowrap"},children:"Invite Code:"}),K.jsx("input",{className:"beta-input",style:{padding:"6px 10px",fontSize:13,background:"rgba(0,0,0,0.1)",border:"1px solid #777"},value:E,onChange:y=>I(y.target.value),placeholder:"Beta Code..."}),K.jsxs("div",{className:"beta-tooltip",style:{width:14,height:14,fontSize:10,cursor:"help"},children:["?",K.jsxs("div",{className:"beta-tooltip__content",style:{width:180,bottom:"125%",right:-5,left:"auto",transform:"none"},children:["Optional code for tracking referrals.",K.jsx("span",{style:{position:"absolute",top:"100%",right:8,borderWidth:5,borderStyle:"solid",borderColor:"#222 transparent transparent transparent"}})]})]})]})]})}),K.jsxs("main",{className:"beta-main",children:[K.jsx(ZC,{rpcUrl:_l,connection:oe,program:re,walletReady:se,programPk:s,chronoMint:m0,pubkey:c,appendLog:F,chainState:G,refreshProtocolState:X,statusLine:Z,onActionComplete:S,nist:le,logs:z,onClearLog:V}),K.jsx("div",{style:{marginTop:24},children:K.jsx(f6,{program:re,connection:oe,programPk:s,pubkey:c,mintPk:t,appendLog:F,actionsEnabled:!0,limit:1e3,currentSlot:G?.currentSlot,claimGraceSlots:G?.config?.claimGraceSlots,activeRoundId:G?.roundId??null,nist:le,refreshNonce:h,onAfterAction:S})})]})]})}class E6 extends fR.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("ErrorBoundary caught an error",t,n),this.setState({errorInfo:n})}render(){return this.state.hasError?K.jsxs("div",{style:{padding:20,color:"red",border:"1px solid red",margin:20},children:[K.jsx("h2",{children:"Something went wrong."}),K.jsxs("details",{style:{whiteSpace:"pre-wrap"},children:[this.state.error&&this.state.error.toString(),K.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]})]}):this.props.children}}let ds=null;function XE(){const s=document.getElementById("beta-root")||document.getElementById("root");if(s){if(ds){try{ds.unmount()}catch{}ds=null}ds=bR.createRoot(s),ds.render(K.jsx(Re.StrictMode,{children:K.jsx(E6,{children:K.jsx(v6,{})})}))}}function S6(){if(ds){try{ds.unmount()}catch{}ds=null}}typeof window<"u"&&(window.__mountBetaApp=XE,window.__unmountBetaApp=S6);XE();
