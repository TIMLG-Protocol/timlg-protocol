(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function Ii(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function Ku(s){if(Object.prototype.hasOwnProperty.call(s,"__esModule"))return s;var t=s.default;if(typeof t=="function"){var n=function i(){var o=!1;try{o=this instanceof i}catch{}return o?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(s).forEach(function(i){var o=Object.getOwnPropertyDescriptor(s,i);Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:function(){return s[i]}})}),n}var bh={exports:{}},dc={};var fg;function sR(){if(fg)return dc;fg=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,o,c){var u=null;if(c!==void 0&&(u=""+c),o.key!==void 0&&(u=""+o.key),"key"in o){c={};for(var d in o)d!=="key"&&(c[d]=o[d])}else c=o;return o=c.ref,{$$typeof:s,type:i,key:u,ref:o!==void 0?o:null,props:c}}return dc.Fragment=t,dc.jsx=n,dc.jsxs=n,dc}var dg;function aR(){return dg||(dg=1,bh.exports=sR()),bh.exports}var K=aR(),wh={},hc={},hg;function oR(){if(hg)return hc;hg=1,hc.byteLength=d,hc.toByteArray=w,hc.fromByteArray=k;for(var s=[],t=[],n=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,c=i.length;o<c;++o)s[o]=i[o],t[i.charCodeAt(o)]=o;t[45]=62,t[95]=63;function u(R){var M=R.length;if(M%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var U=R.indexOf("=");U===-1&&(U=M);var z=U===M?0:4-U%4;return[U,z]}function d(R){var M=u(R),U=M[0],z=M[1];return(U+z)*3/4-z}function g(R,M,U){return(M+U)*3/4-U}function w(R){var M,U=u(R),z=U[0],j=U[1],F=new n(g(R,z,j)),V=0,$=j>0?z-4:z,ne;for(ne=0;ne<$;ne+=4)M=t[R.charCodeAt(ne)]<<18|t[R.charCodeAt(ne+1)]<<12|t[R.charCodeAt(ne+2)]<<6|t[R.charCodeAt(ne+3)],F[V++]=M>>16&255,F[V++]=M>>8&255,F[V++]=M&255;return j===2&&(M=t[R.charCodeAt(ne)]<<2|t[R.charCodeAt(ne+1)]>>4,F[V++]=M&255),j===1&&(M=t[R.charCodeAt(ne)]<<10|t[R.charCodeAt(ne+1)]<<4|t[R.charCodeAt(ne+2)]>>2,F[V++]=M>>8&255,F[V++]=M&255),F}function E(R){return s[R>>18&63]+s[R>>12&63]+s[R>>6&63]+s[R&63]}function I(R,M,U){for(var z,j=[],F=M;F<U;F+=3)z=(R[F]<<16&16711680)+(R[F+1]<<8&65280)+(R[F+2]&255),j.push(E(z));return j.join("")}function k(R){for(var M,U=R.length,z=U%3,j=[],F=16383,V=0,$=U-z;V<$;V+=F)j.push(I(R,V,V+F>$?$:V+F));return z===1?(M=R[U-1],j.push(s[M>>2]+s[M<<4&63]+"==")):z===2&&(M=(R[U-2]<<8)+R[U-1],j.push(s[M>>10]+s[M>>4&63]+s[M<<2&63]+"=")),j.join("")}return hc}var nu={};var pg;function cR(){return pg||(pg=1,nu.read=function(s,t,n,i,o){var c,u,d=o*8-i-1,g=(1<<d)-1,w=g>>1,E=-7,I=n?o-1:0,k=n?-1:1,R=s[t+I];for(I+=k,c=R&(1<<-E)-1,R>>=-E,E+=d;E>0;c=c*256+s[t+I],I+=k,E-=8);for(u=c&(1<<-E)-1,c>>=-E,E+=i;E>0;u=u*256+s[t+I],I+=k,E-=8);if(c===0)c=1-w;else{if(c===g)return u?NaN:(R?-1:1)*(1/0);u=u+Math.pow(2,i),c=c-w}return(R?-1:1)*u*Math.pow(2,c-i)},nu.write=function(s,t,n,i,o,c){var u,d,g,w=c*8-o-1,E=(1<<w)-1,I=E>>1,k=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,R=i?0:c-1,M=i?1:-1,U=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(d=isNaN(t)?1:0,u=E):(u=Math.floor(Math.log(t)/Math.LN2),t*(g=Math.pow(2,-u))<1&&(u--,g*=2),u+I>=1?t+=k/g:t+=k*Math.pow(2,1-I),t*g>=2&&(u++,g/=2),u+I>=E?(d=0,u=E):u+I>=1?(d=(t*g-1)*Math.pow(2,o),u=u+I):(d=t*Math.pow(2,I-1)*Math.pow(2,o),u=0));o>=8;s[n+R]=d&255,R+=M,d/=256,o-=8);for(u=u<<o|d,w+=o;w>0;s[n+R]=u&255,R+=M,u/=256,w-=8);s[n+R-M]|=U*128}),nu}var mg;function z0(){return mg||(mg=1,(function(s){const t=oR(),n=cR(),i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;s.Buffer=d,s.SlowBuffer=F,s.INSPECT_MAX_BYTES=50;const o=2147483647;s.kMaxLength=o,d.TYPED_ARRAY_SUPPORT=c(),!d.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{const H=new Uint8Array(1),S={foo:function(){return 42}};return Object.setPrototypeOf(S,Uint8Array.prototype),Object.setPrototypeOf(H,S),H.foo()===42}catch{return!1}}Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}});function u(H){if(H>o)throw new RangeError('The value "'+H+'" is invalid for option "size"');const S=new Uint8Array(H);return Object.setPrototypeOf(S,d.prototype),S}function d(H,S,x){if(typeof H=="number"){if(typeof S=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return I(H)}return g(H,S,x)}d.poolSize=8192;function g(H,S,x){if(typeof H=="string")return k(H,S);if(ArrayBuffer.isView(H))return M(H);if(H==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H);if(Tt(H,ArrayBuffer)||H&&Tt(H.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Tt(H,SharedArrayBuffer)||H&&Tt(H.buffer,SharedArrayBuffer)))return U(H,S,x);if(typeof H=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const P=H.valueOf&&H.valueOf();if(P!=null&&P!==H)return d.from(P,S,x);const ee=z(H);if(ee)return ee;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof H[Symbol.toPrimitive]=="function")return d.from(H[Symbol.toPrimitive]("string"),S,x);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H)}d.from=function(H,S,x){return g(H,S,x)},Object.setPrototypeOf(d.prototype,Uint8Array.prototype),Object.setPrototypeOf(d,Uint8Array);function w(H){if(typeof H!="number")throw new TypeError('"size" argument must be of type number');if(H<0)throw new RangeError('The value "'+H+'" is invalid for option "size"')}function E(H,S,x){return w(H),H<=0?u(H):S!==void 0?typeof x=="string"?u(H).fill(S,x):u(H).fill(S):u(H)}d.alloc=function(H,S,x){return E(H,S,x)};function I(H){return w(H),u(H<0?0:j(H)|0)}d.allocUnsafe=function(H){return I(H)},d.allocUnsafeSlow=function(H){return I(H)};function k(H,S){if((typeof S!="string"||S==="")&&(S="utf8"),!d.isEncoding(S))throw new TypeError("Unknown encoding: "+S);const x=V(H,S)|0;let P=u(x);const ee=P.write(H,S);return ee!==x&&(P=P.slice(0,ee)),P}function R(H){const S=H.length<0?0:j(H.length)|0,x=u(S);for(let P=0;P<S;P+=1)x[P]=H[P]&255;return x}function M(H){if(Tt(H,Uint8Array)){const S=new Uint8Array(H);return U(S.buffer,S.byteOffset,S.byteLength)}return R(H)}function U(H,S,x){if(S<0||H.byteLength<S)throw new RangeError('"offset" is outside of buffer bounds');if(H.byteLength<S+(x||0))throw new RangeError('"length" is outside of buffer bounds');let P;return S===void 0&&x===void 0?P=new Uint8Array(H):x===void 0?P=new Uint8Array(H,S):P=new Uint8Array(H,S,x),Object.setPrototypeOf(P,d.prototype),P}function z(H){if(d.isBuffer(H)){const S=j(H.length)|0,x=u(S);return x.length===0||H.copy(x,0,0,S),x}if(H.length!==void 0)return typeof H.length!="number"||We(H.length)?u(0):R(H);if(H.type==="Buffer"&&Array.isArray(H.data))return R(H.data)}function j(H){if(H>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return H|0}function F(H){return+H!=H&&(H=0),d.alloc(+H)}d.isBuffer=function(S){return S!=null&&S._isBuffer===!0&&S!==d.prototype},d.compare=function(S,x){if(Tt(S,Uint8Array)&&(S=d.from(S,S.offset,S.byteLength)),Tt(x,Uint8Array)&&(x=d.from(x,x.offset,x.byteLength)),!d.isBuffer(S)||!d.isBuffer(x))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(S===x)return 0;let P=S.length,ee=x.length;for(let ae=0,me=Math.min(P,ee);ae<me;++ae)if(S[ae]!==x[ae]){P=S[ae],ee=x[ae];break}return P<ee?-1:ee<P?1:0},d.isEncoding=function(S){switch(String(S).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(S,x){if(!Array.isArray(S))throw new TypeError('"list" argument must be an Array of Buffers');if(S.length===0)return d.alloc(0);let P;if(x===void 0)for(x=0,P=0;P<S.length;++P)x+=S[P].length;const ee=d.allocUnsafe(x);let ae=0;for(P=0;P<S.length;++P){let me=S[P];if(Tt(me,Uint8Array))ae+me.length>ee.length?(d.isBuffer(me)||(me=d.from(me)),me.copy(ee,ae)):Uint8Array.prototype.set.call(ee,me,ae);else if(d.isBuffer(me))me.copy(ee,ae);else throw new TypeError('"list" argument must be an Array of Buffers');ae+=me.length}return ee};function V(H,S){if(d.isBuffer(H))return H.length;if(ArrayBuffer.isView(H)||Tt(H,ArrayBuffer))return H.byteLength;if(typeof H!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof H);const x=H.length,P=arguments.length>2&&arguments[2]===!0;if(!P&&x===0)return 0;let ee=!1;for(;;)switch(S){case"ascii":case"latin1":case"binary":return x;case"utf8":case"utf-8":return Ze(H).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x*2;case"hex":return x>>>1;case"base64":return ht(H).length;default:if(ee)return P?-1:Ze(H).length;S=(""+S).toLowerCase(),ee=!0}}d.byteLength=V;function $(H,S,x){let P=!1;if((S===void 0||S<0)&&(S=0),S>this.length||((x===void 0||x>this.length)&&(x=this.length),x<=0)||(x>>>=0,S>>>=0,x<=S))return"";for(H||(H="utf8");;)switch(H){case"hex":return B(this,S,x);case"utf8":case"utf-8":return h(this,S,x);case"ascii":return C(this,S,x);case"latin1":case"binary":return L(this,S,x);case"base64":return T(this,S,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v(this,S,x);default:if(P)throw new TypeError("Unknown encoding: "+H);H=(H+"").toLowerCase(),P=!0}}d.prototype._isBuffer=!0;function ne(H,S,x){const P=H[S];H[S]=H[x],H[x]=P}d.prototype.swap16=function(){const S=this.length;if(S%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let x=0;x<S;x+=2)ne(this,x,x+1);return this},d.prototype.swap32=function(){const S=this.length;if(S%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let x=0;x<S;x+=4)ne(this,x,x+3),ne(this,x+1,x+2);return this},d.prototype.swap64=function(){const S=this.length;if(S%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let x=0;x<S;x+=8)ne(this,x,x+7),ne(this,x+1,x+6),ne(this,x+2,x+5),ne(this,x+3,x+4);return this},d.prototype.toString=function(){const S=this.length;return S===0?"":arguments.length===0?h(this,0,S):$.apply(this,arguments)},d.prototype.toLocaleString=d.prototype.toString,d.prototype.equals=function(S){if(!d.isBuffer(S))throw new TypeError("Argument must be a Buffer");return this===S?!0:d.compare(this,S)===0},d.prototype.inspect=function(){let S="";const x=s.INSPECT_MAX_BYTES;return S=this.toString("hex",0,x).replace(/(.{2})/g,"$1 ").trim(),this.length>x&&(S+=" ... "),"<Buffer "+S+">"},i&&(d.prototype[i]=d.prototype.inspect),d.prototype.compare=function(S,x,P,ee,ae){if(Tt(S,Uint8Array)&&(S=d.from(S,S.offset,S.byteLength)),!d.isBuffer(S))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof S);if(x===void 0&&(x=0),P===void 0&&(P=S?S.length:0),ee===void 0&&(ee=0),ae===void 0&&(ae=this.length),x<0||P>S.length||ee<0||ae>this.length)throw new RangeError("out of range index");if(ee>=ae&&x>=P)return 0;if(ee>=ae)return-1;if(x>=P)return 1;if(x>>>=0,P>>>=0,ee>>>=0,ae>>>=0,this===S)return 0;let me=ae-ee,ze=P-x;const Pe=Math.min(me,ze),Ue=this.slice(ee,ae),_t=S.slice(x,P);for(let Xe=0;Xe<Pe;++Xe)if(Ue[Xe]!==_t[Xe]){me=Ue[Xe],ze=_t[Xe];break}return me<ze?-1:ze<me?1:0};function ce(H,S,x,P,ee){if(H.length===0)return-1;if(typeof x=="string"?(P=x,x=0):x>2147483647?x=2147483647:x<-2147483648&&(x=-2147483648),x=+x,We(x)&&(x=ee?0:H.length-1),x<0&&(x=H.length+x),x>=H.length){if(ee)return-1;x=H.length-1}else if(x<0)if(ee)x=0;else return-1;if(typeof S=="string"&&(S=d.from(S,P)),d.isBuffer(S))return S.length===0?-1:ie(H,S,x,P,ee);if(typeof S=="number")return S=S&255,typeof Uint8Array.prototype.indexOf=="function"?ee?Uint8Array.prototype.indexOf.call(H,S,x):Uint8Array.prototype.lastIndexOf.call(H,S,x):ie(H,[S],x,P,ee);throw new TypeError("val must be string, number or Buffer")}function ie(H,S,x,P,ee){let ae=1,me=H.length,ze=S.length;if(P!==void 0&&(P=String(P).toLowerCase(),P==="ucs2"||P==="ucs-2"||P==="utf16le"||P==="utf-16le")){if(H.length<2||S.length<2)return-1;ae=2,me/=2,ze/=2,x/=2}function Pe(_t,Xe){return ae===1?_t[Xe]:_t.readUInt16BE(Xe*ae)}let Ue;if(ee){let _t=-1;for(Ue=x;Ue<me;Ue++)if(Pe(H,Ue)===Pe(S,_t===-1?0:Ue-_t)){if(_t===-1&&(_t=Ue),Ue-_t+1===ze)return _t*ae}else _t!==-1&&(Ue-=Ue-_t),_t=-1}else for(x+ze>me&&(x=me-ze),Ue=x;Ue>=0;Ue--){let _t=!0;for(let Xe=0;Xe<ze;Xe++)if(Pe(H,Ue+Xe)!==Pe(S,Xe)){_t=!1;break}if(_t)return Ue}return-1}d.prototype.includes=function(S,x,P){return this.indexOf(S,x,P)!==-1},d.prototype.indexOf=function(S,x,P){return ce(this,S,x,P,!0)},d.prototype.lastIndexOf=function(S,x,P){return ce(this,S,x,P,!1)};function ue(H,S,x,P){x=Number(x)||0;const ee=H.length-x;P?(P=Number(P),P>ee&&(P=ee)):P=ee;const ae=S.length;P>ae/2&&(P=ae/2);let me;for(me=0;me<P;++me){const ze=parseInt(S.substr(me*2,2),16);if(We(ze))return me;H[x+me]=ze}return me}function G(H,S,x,P){return Fe(Ze(S,H.length-x),H,x,P)}function Y(H,S,x,P){return Fe(Qe(S),H,x,P)}function X(H,S,x,P){return Fe(ht(S),H,x,P)}function W(H,S,x,P){return Fe(_n(S,H.length-x),H,x,P)}d.prototype.write=function(S,x,P,ee){if(x===void 0)ee="utf8",P=this.length,x=0;else if(P===void 0&&typeof x=="string")ee=x,P=this.length,x=0;else if(isFinite(x))x=x>>>0,isFinite(P)?(P=P>>>0,ee===void 0&&(ee="utf8")):(ee=P,P=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ae=this.length-x;if((P===void 0||P>ae)&&(P=ae),S.length>0&&(P<0||x<0)||x>this.length)throw new RangeError("Attempt to write outside buffer bounds");ee||(ee="utf8");let me=!1;for(;;)switch(ee){case"hex":return ue(this,S,x,P);case"utf8":case"utf-8":return G(this,S,x,P);case"ascii":case"latin1":case"binary":return Y(this,S,x,P);case"base64":return X(this,S,x,P);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,S,x,P);default:if(me)throw new TypeError("Unknown encoding: "+ee);ee=(""+ee).toLowerCase(),me=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function T(H,S,x){return S===0&&x===H.length?t.fromByteArray(H):t.fromByteArray(H.slice(S,x))}function h(H,S,x){x=Math.min(H.length,x);const P=[];let ee=S;for(;ee<x;){const ae=H[ee];let me=null,ze=ae>239?4:ae>223?3:ae>191?2:1;if(ee+ze<=x){let Pe,Ue,_t,Xe;switch(ze){case 1:ae<128&&(me=ae);break;case 2:Pe=H[ee+1],(Pe&192)===128&&(Xe=(ae&31)<<6|Pe&63,Xe>127&&(me=Xe));break;case 3:Pe=H[ee+1],Ue=H[ee+2],(Pe&192)===128&&(Ue&192)===128&&(Xe=(ae&15)<<12|(Pe&63)<<6|Ue&63,Xe>2047&&(Xe<55296||Xe>57343)&&(me=Xe));break;case 4:Pe=H[ee+1],Ue=H[ee+2],_t=H[ee+3],(Pe&192)===128&&(Ue&192)===128&&(_t&192)===128&&(Xe=(ae&15)<<18|(Pe&63)<<12|(Ue&63)<<6|_t&63,Xe>65535&&Xe<1114112&&(me=Xe))}}me===null?(me=65533,ze=1):me>65535&&(me-=65536,P.push(me>>>10&1023|55296),me=56320|me&1023),P.push(me),ee+=ze}return A(P)}const _=4096;function A(H){const S=H.length;if(S<=_)return String.fromCharCode.apply(String,H);let x="",P=0;for(;P<S;)x+=String.fromCharCode.apply(String,H.slice(P,P+=_));return x}function C(H,S,x){let P="";x=Math.min(H.length,x);for(let ee=S;ee<x;++ee)P+=String.fromCharCode(H[ee]&127);return P}function L(H,S,x){let P="";x=Math.min(H.length,x);for(let ee=S;ee<x;++ee)P+=String.fromCharCode(H[ee]);return P}function B(H,S,x){const P=H.length;(!S||S<0)&&(S=0),(!x||x<0||x>P)&&(x=P);let ee="";for(let ae=S;ae<x;++ae)ee+=je[H[ae]];return ee}function v(H,S,x){const P=H.slice(S,x);let ee="";for(let ae=0;ae<P.length-1;ae+=2)ee+=String.fromCharCode(P[ae]+P[ae+1]*256);return ee}d.prototype.slice=function(S,x){const P=this.length;S=~~S,x=x===void 0?P:~~x,S<0?(S+=P,S<0&&(S=0)):S>P&&(S=P),x<0?(x+=P,x<0&&(x=0)):x>P&&(x=P),x<S&&(x=S);const ee=this.subarray(S,x);return Object.setPrototypeOf(ee,d.prototype),ee};function m(H,S,x){if(H%1!==0||H<0)throw new RangeError("offset is not uint");if(H+S>x)throw new RangeError("Trying to access beyond buffer length")}d.prototype.readUintLE=d.prototype.readUIntLE=function(S,x,P){S=S>>>0,x=x>>>0,P||m(S,x,this.length);let ee=this[S],ae=1,me=0;for(;++me<x&&(ae*=256);)ee+=this[S+me]*ae;return ee},d.prototype.readUintBE=d.prototype.readUIntBE=function(S,x,P){S=S>>>0,x=x>>>0,P||m(S,x,this.length);let ee=this[S+--x],ae=1;for(;x>0&&(ae*=256);)ee+=this[S+--x]*ae;return ee},d.prototype.readUint8=d.prototype.readUInt8=function(S,x){return S=S>>>0,x||m(S,1,this.length),this[S]},d.prototype.readUint16LE=d.prototype.readUInt16LE=function(S,x){return S=S>>>0,x||m(S,2,this.length),this[S]|this[S+1]<<8},d.prototype.readUint16BE=d.prototype.readUInt16BE=function(S,x){return S=S>>>0,x||m(S,2,this.length),this[S]<<8|this[S+1]},d.prototype.readUint32LE=d.prototype.readUInt32LE=function(S,x){return S=S>>>0,x||m(S,4,this.length),(this[S]|this[S+1]<<8|this[S+2]<<16)+this[S+3]*16777216},d.prototype.readUint32BE=d.prototype.readUInt32BE=function(S,x){return S=S>>>0,x||m(S,4,this.length),this[S]*16777216+(this[S+1]<<16|this[S+2]<<8|this[S+3])},d.prototype.readBigUInt64LE=Ct(function(S){S=S>>>0,It(S,"offset");const x=this[S],P=this[S+7];(x===void 0||P===void 0)&&Ge(S,this.length-8);const ee=x+this[++S]*2**8+this[++S]*2**16+this[++S]*2**24,ae=this[++S]+this[++S]*2**8+this[++S]*2**16+P*2**24;return BigInt(ee)+(BigInt(ae)<<BigInt(32))}),d.prototype.readBigUInt64BE=Ct(function(S){S=S>>>0,It(S,"offset");const x=this[S],P=this[S+7];(x===void 0||P===void 0)&&Ge(S,this.length-8);const ee=x*2**24+this[++S]*2**16+this[++S]*2**8+this[++S],ae=this[++S]*2**24+this[++S]*2**16+this[++S]*2**8+P;return(BigInt(ee)<<BigInt(32))+BigInt(ae)}),d.prototype.readIntLE=function(S,x,P){S=S>>>0,x=x>>>0,P||m(S,x,this.length);let ee=this[S],ae=1,me=0;for(;++me<x&&(ae*=256);)ee+=this[S+me]*ae;return ae*=128,ee>=ae&&(ee-=Math.pow(2,8*x)),ee},d.prototype.readIntBE=function(S,x,P){S=S>>>0,x=x>>>0,P||m(S,x,this.length);let ee=x,ae=1,me=this[S+--ee];for(;ee>0&&(ae*=256);)me+=this[S+--ee]*ae;return ae*=128,me>=ae&&(me-=Math.pow(2,8*x)),me},d.prototype.readInt8=function(S,x){return S=S>>>0,x||m(S,1,this.length),this[S]&128?(255-this[S]+1)*-1:this[S]},d.prototype.readInt16LE=function(S,x){S=S>>>0,x||m(S,2,this.length);const P=this[S]|this[S+1]<<8;return P&32768?P|4294901760:P},d.prototype.readInt16BE=function(S,x){S=S>>>0,x||m(S,2,this.length);const P=this[S+1]|this[S]<<8;return P&32768?P|4294901760:P},d.prototype.readInt32LE=function(S,x){return S=S>>>0,x||m(S,4,this.length),this[S]|this[S+1]<<8|this[S+2]<<16|this[S+3]<<24},d.prototype.readInt32BE=function(S,x){return S=S>>>0,x||m(S,4,this.length),this[S]<<24|this[S+1]<<16|this[S+2]<<8|this[S+3]},d.prototype.readBigInt64LE=Ct(function(S){S=S>>>0,It(S,"offset");const x=this[S],P=this[S+7];(x===void 0||P===void 0)&&Ge(S,this.length-8);const ee=this[S+4]+this[S+5]*2**8+this[S+6]*2**16+(P<<24);return(BigInt(ee)<<BigInt(32))+BigInt(x+this[++S]*2**8+this[++S]*2**16+this[++S]*2**24)}),d.prototype.readBigInt64BE=Ct(function(S){S=S>>>0,It(S,"offset");const x=this[S],P=this[S+7];(x===void 0||P===void 0)&&Ge(S,this.length-8);const ee=(x<<24)+this[++S]*2**16+this[++S]*2**8+this[++S];return(BigInt(ee)<<BigInt(32))+BigInt(this[++S]*2**24+this[++S]*2**16+this[++S]*2**8+P)}),d.prototype.readFloatLE=function(S,x){return S=S>>>0,x||m(S,4,this.length),n.read(this,S,!0,23,4)},d.prototype.readFloatBE=function(S,x){return S=S>>>0,x||m(S,4,this.length),n.read(this,S,!1,23,4)},d.prototype.readDoubleLE=function(S,x){return S=S>>>0,x||m(S,8,this.length),n.read(this,S,!0,52,8)},d.prototype.readDoubleBE=function(S,x){return S=S>>>0,x||m(S,8,this.length),n.read(this,S,!1,52,8)};function f(H,S,x,P,ee,ae){if(!d.isBuffer(H))throw new TypeError('"buffer" argument must be a Buffer instance');if(S>ee||S<ae)throw new RangeError('"value" argument is out of bounds');if(x+P>H.length)throw new RangeError("Index out of range")}d.prototype.writeUintLE=d.prototype.writeUIntLE=function(S,x,P,ee){if(S=+S,x=x>>>0,P=P>>>0,!ee){const ze=Math.pow(2,8*P)-1;f(this,S,x,P,ze,0)}let ae=1,me=0;for(this[x]=S&255;++me<P&&(ae*=256);)this[x+me]=S/ae&255;return x+P},d.prototype.writeUintBE=d.prototype.writeUIntBE=function(S,x,P,ee){if(S=+S,x=x>>>0,P=P>>>0,!ee){const ze=Math.pow(2,8*P)-1;f(this,S,x,P,ze,0)}let ae=P-1,me=1;for(this[x+ae]=S&255;--ae>=0&&(me*=256);)this[x+ae]=S/me&255;return x+P},d.prototype.writeUint8=d.prototype.writeUInt8=function(S,x,P){return S=+S,x=x>>>0,P||f(this,S,x,1,255,0),this[x]=S&255,x+1},d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(S,x,P){return S=+S,x=x>>>0,P||f(this,S,x,2,65535,0),this[x]=S&255,this[x+1]=S>>>8,x+2},d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(S,x,P){return S=+S,x=x>>>0,P||f(this,S,x,2,65535,0),this[x]=S>>>8,this[x+1]=S&255,x+2},d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(S,x,P){return S=+S,x=x>>>0,P||f(this,S,x,4,4294967295,0),this[x+3]=S>>>24,this[x+2]=S>>>16,this[x+1]=S>>>8,this[x]=S&255,x+4},d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(S,x,P){return S=+S,x=x>>>0,P||f(this,S,x,4,4294967295,0),this[x]=S>>>24,this[x+1]=S>>>16,this[x+2]=S>>>8,this[x+3]=S&255,x+4};function y(H,S,x,P,ee){Ve(S,P,ee,H,x,7);let ae=Number(S&BigInt(4294967295));H[x++]=ae,ae=ae>>8,H[x++]=ae,ae=ae>>8,H[x++]=ae,ae=ae>>8,H[x++]=ae;let me=Number(S>>BigInt(32)&BigInt(4294967295));return H[x++]=me,me=me>>8,H[x++]=me,me=me>>8,H[x++]=me,me=me>>8,H[x++]=me,x}function O(H,S,x,P,ee){Ve(S,P,ee,H,x,7);let ae=Number(S&BigInt(4294967295));H[x+7]=ae,ae=ae>>8,H[x+6]=ae,ae=ae>>8,H[x+5]=ae,ae=ae>>8,H[x+4]=ae;let me=Number(S>>BigInt(32)&BigInt(4294967295));return H[x+3]=me,me=me>>8,H[x+2]=me,me=me>>8,H[x+1]=me,me=me>>8,H[x]=me,x+8}d.prototype.writeBigUInt64LE=Ct(function(S,x=0){return y(this,S,x,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeBigUInt64BE=Ct(function(S,x=0){return O(this,S,x,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeIntLE=function(S,x,P,ee){if(S=+S,x=x>>>0,!ee){const Pe=Math.pow(2,8*P-1);f(this,S,x,P,Pe-1,-Pe)}let ae=0,me=1,ze=0;for(this[x]=S&255;++ae<P&&(me*=256);)S<0&&ze===0&&this[x+ae-1]!==0&&(ze=1),this[x+ae]=(S/me>>0)-ze&255;return x+P},d.prototype.writeIntBE=function(S,x,P,ee){if(S=+S,x=x>>>0,!ee){const Pe=Math.pow(2,8*P-1);f(this,S,x,P,Pe-1,-Pe)}let ae=P-1,me=1,ze=0;for(this[x+ae]=S&255;--ae>=0&&(me*=256);)S<0&&ze===0&&this[x+ae+1]!==0&&(ze=1),this[x+ae]=(S/me>>0)-ze&255;return x+P},d.prototype.writeInt8=function(S,x,P){return S=+S,x=x>>>0,P||f(this,S,x,1,127,-128),S<0&&(S=255+S+1),this[x]=S&255,x+1},d.prototype.writeInt16LE=function(S,x,P){return S=+S,x=x>>>0,P||f(this,S,x,2,32767,-32768),this[x]=S&255,this[x+1]=S>>>8,x+2},d.prototype.writeInt16BE=function(S,x,P){return S=+S,x=x>>>0,P||f(this,S,x,2,32767,-32768),this[x]=S>>>8,this[x+1]=S&255,x+2},d.prototype.writeInt32LE=function(S,x,P){return S=+S,x=x>>>0,P||f(this,S,x,4,2147483647,-2147483648),this[x]=S&255,this[x+1]=S>>>8,this[x+2]=S>>>16,this[x+3]=S>>>24,x+4},d.prototype.writeInt32BE=function(S,x,P){return S=+S,x=x>>>0,P||f(this,S,x,4,2147483647,-2147483648),S<0&&(S=4294967295+S+1),this[x]=S>>>24,this[x+1]=S>>>16,this[x+2]=S>>>8,this[x+3]=S&255,x+4},d.prototype.writeBigInt64LE=Ct(function(S,x=0){return y(this,S,x,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),d.prototype.writeBigInt64BE=Ct(function(S,x=0){return O(this,S,x,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function D(H,S,x,P,ee,ae){if(x+P>H.length)throw new RangeError("Index out of range");if(x<0)throw new RangeError("Index out of range")}function Z(H,S,x,P,ee){return S=+S,x=x>>>0,ee||D(H,S,x,4),n.write(H,S,x,P,23,4),x+4}d.prototype.writeFloatLE=function(S,x,P){return Z(this,S,x,!0,P)},d.prototype.writeFloatBE=function(S,x,P){return Z(this,S,x,!1,P)};function se(H,S,x,P,ee){return S=+S,x=x>>>0,ee||D(H,S,x,8),n.write(H,S,x,P,52,8),x+8}d.prototype.writeDoubleLE=function(S,x,P){return se(this,S,x,!0,P)},d.prototype.writeDoubleBE=function(S,x,P){return se(this,S,x,!1,P)},d.prototype.copy=function(S,x,P,ee){if(!d.isBuffer(S))throw new TypeError("argument should be a Buffer");if(P||(P=0),!ee&&ee!==0&&(ee=this.length),x>=S.length&&(x=S.length),x||(x=0),ee>0&&ee<P&&(ee=P),ee===P||S.length===0||this.length===0)return 0;if(x<0)throw new RangeError("targetStart out of bounds");if(P<0||P>=this.length)throw new RangeError("Index out of range");if(ee<0)throw new RangeError("sourceEnd out of bounds");ee>this.length&&(ee=this.length),S.length-x<ee-P&&(ee=S.length-x+P);const ae=ee-P;return this===S&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(x,P,ee):Uint8Array.prototype.set.call(S,this.subarray(P,ee),x),ae},d.prototype.fill=function(S,x,P,ee){if(typeof S=="string"){if(typeof x=="string"?(ee=x,x=0,P=this.length):typeof P=="string"&&(ee=P,P=this.length),ee!==void 0&&typeof ee!="string")throw new TypeError("encoding must be a string");if(typeof ee=="string"&&!d.isEncoding(ee))throw new TypeError("Unknown encoding: "+ee);if(S.length===1){const me=S.charCodeAt(0);(ee==="utf8"&&me<128||ee==="latin1")&&(S=me)}}else typeof S=="number"?S=S&255:typeof S=="boolean"&&(S=Number(S));if(x<0||this.length<x||this.length<P)throw new RangeError("Out of range index");if(P<=x)return this;x=x>>>0,P=P===void 0?this.length:P>>>0,S||(S=0);let ae;if(typeof S=="number")for(ae=x;ae<P;++ae)this[ae]=S;else{const me=d.isBuffer(S)?S:d.from(S,ee),ze=me.length;if(ze===0)throw new TypeError('The value "'+S+'" is invalid for argument "value"');for(ae=0;ae<P-x;++ae)this[ae+x]=me[ae%ze]}return this};const re={};function le(H,S,x){re[H]=class extends x{constructor(){super(),Object.defineProperty(this,"message",{value:S.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${H}]`,this.stack,delete this.name}get code(){return H}set code(ee){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ee,writable:!0})}toString(){return`${this.name} [${H}]: ${this.message}`}}}le("ERR_BUFFER_OUT_OF_BOUNDS",function(H){return H?`${H} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),le("ERR_INVALID_ARG_TYPE",function(H,S){return`The "${H}" argument must be of type number. Received type ${typeof S}`},TypeError),le("ERR_OUT_OF_RANGE",function(H,S,x){let P=`The value of "${H}" is out of range.`,ee=x;return Number.isInteger(x)&&Math.abs(x)>2**32?ee=Ae(String(x)):typeof x=="bigint"&&(ee=String(x),(x>BigInt(2)**BigInt(32)||x<-(BigInt(2)**BigInt(32)))&&(ee=Ae(ee)),ee+="n"),P+=` It must be ${S}. Received ${ee}`,P},RangeError);function Ae(H){let S="",x=H.length;const P=H[0]==="-"?1:0;for(;x>=P+4;x-=3)S=`_${H.slice(x-3,x)}${S}`;return`${H.slice(0,x)}${S}`}function Ie(H,S,x){It(S,"offset"),(H[S]===void 0||H[S+x]===void 0)&&Ge(S,H.length-(x+1))}function Ve(H,S,x,P,ee,ae){if(H>x||H<S){const me=typeof S=="bigint"?"n":"";let ze;throw S===0||S===BigInt(0)?ze=`>= 0${me} and < 2${me} ** ${(ae+1)*8}${me}`:ze=`>= -(2${me} ** ${(ae+1)*8-1}${me}) and < 2 ** ${(ae+1)*8-1}${me}`,new re.ERR_OUT_OF_RANGE("value",ze,H)}Ie(P,ee,ae)}function It(H,S){if(typeof H!="number")throw new re.ERR_INVALID_ARG_TYPE(S,"number",H)}function Ge(H,S,x){throw Math.floor(H)!==H?(It(H,x),new re.ERR_OUT_OF_RANGE("offset","an integer",H)):S<0?new re.ERR_BUFFER_OUT_OF_BOUNDS:new re.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${S}`,H)}const $e=/[^+/0-9A-Za-z-_]/g;function Yt(H){if(H=H.split("=")[0],H=H.trim().replace($e,""),H.length<2)return"";for(;H.length%4!==0;)H=H+"=";return H}function Ze(H,S){S=S||1/0;let x;const P=H.length;let ee=null;const ae=[];for(let me=0;me<P;++me){if(x=H.charCodeAt(me),x>55295&&x<57344){if(!ee){if(x>56319){(S-=3)>-1&&ae.push(239,191,189);continue}else if(me+1===P){(S-=3)>-1&&ae.push(239,191,189);continue}ee=x;continue}if(x<56320){(S-=3)>-1&&ae.push(239,191,189),ee=x;continue}x=(ee-55296<<10|x-56320)+65536}else ee&&(S-=3)>-1&&ae.push(239,191,189);if(ee=null,x<128){if((S-=1)<0)break;ae.push(x)}else if(x<2048){if((S-=2)<0)break;ae.push(x>>6|192,x&63|128)}else if(x<65536){if((S-=3)<0)break;ae.push(x>>12|224,x>>6&63|128,x&63|128)}else if(x<1114112){if((S-=4)<0)break;ae.push(x>>18|240,x>>12&63|128,x>>6&63|128,x&63|128)}else throw new Error("Invalid code point")}return ae}function Qe(H){const S=[];for(let x=0;x<H.length;++x)S.push(H.charCodeAt(x)&255);return S}function _n(H,S){let x,P,ee;const ae=[];for(let me=0;me<H.length&&!((S-=2)<0);++me)x=H.charCodeAt(me),P=x>>8,ee=x%256,ae.push(ee),ae.push(P);return ae}function ht(H){return t.toByteArray(Yt(H))}function Fe(H,S,x,P){let ee;for(ee=0;ee<P&&!(ee+x>=S.length||ee>=H.length);++ee)S[ee+x]=H[ee];return ee}function Tt(H,S){return H instanceof S||H!=null&&H.constructor!=null&&H.constructor.name!=null&&H.constructor.name===S.name}function We(H){return H!==H}const je=(function(){const H="0123456789abcdef",S=new Array(256);for(let x=0;x<16;++x){const P=x*16;for(let ee=0;ee<16;++ee)S[P+ee]=H[x]+H[ee]}return S})();function Ct(H){return typeof BigInt>"u"?Ce:H}function Ce(){throw new Error("BigInt not supported")}})(wh)),wh}var Be=z0(),_h={exports:{}},yg;function lR(){if(yg)return _h.exports;yg=1;var s=_h.exports={},t,n;function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?t=setTimeout:t=i}catch{t=i}try{typeof clearTimeout=="function"?n=clearTimeout:n=o}catch{n=o}})();function c(U){if(t===setTimeout)return setTimeout(U,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(U,0);try{return t(U,0)}catch{try{return t.call(null,U,0)}catch{return t.call(this,U,0)}}}function u(U){if(n===clearTimeout)return clearTimeout(U);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(U);try{return n(U)}catch{try{return n.call(null,U)}catch{return n.call(this,U)}}}var d=[],g=!1,w,E=-1;function I(){!g||!w||(g=!1,w.length?d=w.concat(d):E=-1,d.length&&k())}function k(){if(!g){var U=c(I);g=!0;for(var z=d.length;z;){for(w=d,d=[];++E<z;)w&&w[E].run();E=-1,z=d.length}w=null,g=!1,u(U)}}s.nextTick=function(U){var z=new Array(arguments.length-1);if(arguments.length>1)for(var j=1;j<arguments.length;j++)z[j-1]=arguments[j];d.push(new R(U,z)),d.length===1&&!g&&c(k)};function R(U,z){this.fun=U,this.array=z}R.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={};function M(){}return s.on=M,s.addListener=M,s.once=M,s.off=M,s.removeListener=M,s.removeAllListeners=M,s.emit=M,s.prependListener=M,s.prependOnceListener=M,s.listeners=function(U){return[]},s.binding=function(U){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(U){throw new Error("process.chdir is not supported")},s.umask=function(){return 0},_h.exports}var uR=lR();const fR=Ii(uR);globalThis.Buffer||(globalThis.Buffer=Be.Buffer);globalThis.process||(globalThis.process=fR);var vh={exports:{}},Je={};var gg;function dR(){if(gg)return Je;gg=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),k=Symbol.iterator;function R(m){return m===null||typeof m!="object"?null:(m=k&&m[k]||m["@@iterator"],typeof m=="function"?m:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,z={};function j(m,f,y){this.props=m,this.context=f,this.refs=z,this.updater=y||M}j.prototype.isReactComponent={},j.prototype.setState=function(m,f){if(typeof m!="object"&&typeof m!="function"&&m!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,m,f,"setState")},j.prototype.forceUpdate=function(m){this.updater.enqueueForceUpdate(this,m,"forceUpdate")};function F(){}F.prototype=j.prototype;function V(m,f,y){this.props=m,this.context=f,this.refs=z,this.updater=y||M}var $=V.prototype=new F;$.constructor=V,U($,j.prototype),$.isPureReactComponent=!0;var ne=Array.isArray;function ce(){}var ie={H:null,A:null,T:null,S:null},ue=Object.prototype.hasOwnProperty;function G(m,f,y){var O=y.ref;return{$$typeof:s,type:m,key:f,ref:O!==void 0?O:null,props:y}}function Y(m,f){return G(m.type,f,m.props)}function X(m){return typeof m=="object"&&m!==null&&m.$$typeof===s}function W(m){var f={"=":"=0",":":"=2"};return"$"+m.replace(/[=:]/g,function(y){return f[y]})}var T=/\/+/g;function h(m,f){return typeof m=="object"&&m!==null&&m.key!=null?W(""+m.key):f.toString(36)}function _(m){switch(m.status){case"fulfilled":return m.value;case"rejected":throw m.reason;default:switch(typeof m.status=="string"?m.then(ce,ce):(m.status="pending",m.then(function(f){m.status==="pending"&&(m.status="fulfilled",m.value=f)},function(f){m.status==="pending"&&(m.status="rejected",m.reason=f)})),m.status){case"fulfilled":return m.value;case"rejected":throw m.reason}}throw m}function A(m,f,y,O,D){var Z=typeof m;(Z==="undefined"||Z==="boolean")&&(m=null);var se=!1;if(m===null)se=!0;else switch(Z){case"bigint":case"string":case"number":se=!0;break;case"object":switch(m.$$typeof){case s:case t:se=!0;break;case E:return se=m._init,A(se(m._payload),f,y,O,D)}}if(se)return D=D(m),se=O===""?"."+h(m,0):O,ne(D)?(y="",se!=null&&(y=se.replace(T,"$&/")+"/"),A(D,f,y,"",function(Ae){return Ae})):D!=null&&(X(D)&&(D=Y(D,y+(D.key==null||m&&m.key===D.key?"":(""+D.key).replace(T,"$&/")+"/")+se)),f.push(D)),1;se=0;var re=O===""?".":O+":";if(ne(m))for(var le=0;le<m.length;le++)O=m[le],Z=re+h(O,le),se+=A(O,f,y,Z,D);else if(le=R(m),typeof le=="function")for(m=le.call(m),le=0;!(O=m.next()).done;)O=O.value,Z=re+h(O,le++),se+=A(O,f,y,Z,D);else if(Z==="object"){if(typeof m.then=="function")return A(_(m),f,y,O,D);throw f=String(m),Error("Objects are not valid as a React child (found: "+(f==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":f)+"). If you meant to render a collection of children, use an array instead.")}return se}function C(m,f,y){if(m==null)return m;var O=[],D=0;return A(m,O,"","",function(Z){return f.call(y,Z,D++)}),O}function L(m){if(m._status===-1){var f=m._result;f=f(),f.then(function(y){(m._status===0||m._status===-1)&&(m._status=1,m._result=y)},function(y){(m._status===0||m._status===-1)&&(m._status=2,m._result=y)}),m._status===-1&&(m._status=0,m._result=f)}if(m._status===1)return m._result.default;throw m._result}var B=typeof reportError=="function"?reportError:function(m){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof m=="object"&&m!==null&&typeof m.message=="string"?String(m.message):String(m),error:m});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",m);return}console.error(m)},v={map:C,forEach:function(m,f,y){C(m,function(){f.apply(this,arguments)},y)},count:function(m){var f=0;return C(m,function(){f++}),f},toArray:function(m){return C(m,function(f){return f})||[]},only:function(m){if(!X(m))throw Error("React.Children.only expected to receive a single React element child.");return m}};return Je.Activity=I,Je.Children=v,Je.Component=j,Je.Fragment=n,Je.Profiler=o,Je.PureComponent=V,Je.StrictMode=i,Je.Suspense=g,Je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ie,Je.__COMPILER_RUNTIME={__proto__:null,c:function(m){return ie.H.useMemoCache(m)}},Je.cache=function(m){return function(){return m.apply(null,arguments)}},Je.cacheSignal=function(){return null},Je.cloneElement=function(m,f,y){if(m==null)throw Error("The argument must be a React element, but you passed "+m+".");var O=U({},m.props),D=m.key;if(f!=null)for(Z in f.key!==void 0&&(D=""+f.key),f)!ue.call(f,Z)||Z==="key"||Z==="__self"||Z==="__source"||Z==="ref"&&f.ref===void 0||(O[Z]=f[Z]);var Z=arguments.length-2;if(Z===1)O.children=y;else if(1<Z){for(var se=Array(Z),re=0;re<Z;re++)se[re]=arguments[re+2];O.children=se}return G(m.type,D,O)},Je.createContext=function(m){return m={$$typeof:u,_currentValue:m,_currentValue2:m,_threadCount:0,Provider:null,Consumer:null},m.Provider=m,m.Consumer={$$typeof:c,_context:m},m},Je.createElement=function(m,f,y){var O,D={},Z=null;if(f!=null)for(O in f.key!==void 0&&(Z=""+f.key),f)ue.call(f,O)&&O!=="key"&&O!=="__self"&&O!=="__source"&&(D[O]=f[O]);var se=arguments.length-2;if(se===1)D.children=y;else if(1<se){for(var re=Array(se),le=0;le<se;le++)re[le]=arguments[le+2];D.children=re}if(m&&m.defaultProps)for(O in se=m.defaultProps,se)D[O]===void 0&&(D[O]=se[O]);return G(m,Z,D)},Je.createRef=function(){return{current:null}},Je.forwardRef=function(m){return{$$typeof:d,render:m}},Je.isValidElement=X,Je.lazy=function(m){return{$$typeof:E,_payload:{_status:-1,_result:m},_init:L}},Je.memo=function(m,f){return{$$typeof:w,type:m,compare:f===void 0?null:f}},Je.startTransition=function(m){var f=ie.T,y={};ie.T=y;try{var O=m(),D=ie.S;D!==null&&D(y,O),typeof O=="object"&&O!==null&&typeof O.then=="function"&&O.then(ce,B)}catch(Z){B(Z)}finally{f!==null&&y.types!==null&&(f.types=y.types),ie.T=f}},Je.unstable_useCacheRefresh=function(){return ie.H.useCacheRefresh()},Je.use=function(m){return ie.H.use(m)},Je.useActionState=function(m,f,y){return ie.H.useActionState(m,f,y)},Je.useCallback=function(m,f){return ie.H.useCallback(m,f)},Je.useContext=function(m){return ie.H.useContext(m)},Je.useDebugValue=function(){},Je.useDeferredValue=function(m,f){return ie.H.useDeferredValue(m,f)},Je.useEffect=function(m,f){return ie.H.useEffect(m,f)},Je.useEffectEvent=function(m){return ie.H.useEffectEvent(m)},Je.useId=function(){return ie.H.useId()},Je.useImperativeHandle=function(m,f,y){return ie.H.useImperativeHandle(m,f,y)},Je.useInsertionEffect=function(m,f){return ie.H.useInsertionEffect(m,f)},Je.useLayoutEffect=function(m,f){return ie.H.useLayoutEffect(m,f)},Je.useMemo=function(m,f){return ie.H.useMemo(m,f)},Je.useOptimistic=function(m,f){return ie.H.useOptimistic(m,f)},Je.useReducer=function(m,f,y){return ie.H.useReducer(m,f,y)},Je.useRef=function(m){return ie.H.useRef(m)},Je.useState=function(m){return ie.H.useState(m)},Je.useSyncExternalStore=function(m,f,y){return ie.H.useSyncExternalStore(m,f,y)},Je.useTransition=function(){return ie.H.useTransition()},Je.version="19.2.3",Je}var bg;function H0(){return bg||(bg=1,vh.exports=dR()),vh.exports}var Re=H0();const hR=Ii(Re);var Eh={exports:{}},pc={},Sh={exports:{}},Ah={};var wg;function pR(){return wg||(wg=1,(function(s){function t(A,C){var L=A.length;A.push(C);e:for(;0<L;){var B=L-1>>>1,v=A[B];if(0<o(v,C))A[B]=C,A[L]=v,L=B;else break e}}function n(A){return A.length===0?null:A[0]}function i(A){if(A.length===0)return null;var C=A[0],L=A.pop();if(L!==C){A[0]=L;e:for(var B=0,v=A.length,m=v>>>1;B<m;){var f=2*(B+1)-1,y=A[f],O=f+1,D=A[O];if(0>o(y,L))O<v&&0>o(D,y)?(A[B]=D,A[O]=L,B=O):(A[B]=y,A[f]=L,B=f);else if(O<v&&0>o(D,L))A[B]=D,A[O]=L,B=O;else break e}}return C}function o(A,C){var L=A.sortIndex-C.sortIndex;return L!==0?L:A.id-C.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var u=Date,d=u.now();s.unstable_now=function(){return u.now()-d}}var g=[],w=[],E=1,I=null,k=3,R=!1,M=!1,U=!1,z=!1,j=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function $(A){for(var C=n(w);C!==null;){if(C.callback===null)i(w);else if(C.startTime<=A)i(w),C.sortIndex=C.expirationTime,t(g,C);else break;C=n(w)}}function ne(A){if(U=!1,$(A),!M)if(n(g)!==null)M=!0,ce||(ce=!0,W());else{var C=n(w);C!==null&&_(ne,C.startTime-A)}}var ce=!1,ie=-1,ue=5,G=-1;function Y(){return z?!0:!(s.unstable_now()-G<ue)}function X(){if(z=!1,ce){var A=s.unstable_now();G=A;var C=!0;try{e:{M=!1,U&&(U=!1,F(ie),ie=-1),R=!0;var L=k;try{t:{for($(A),I=n(g);I!==null&&!(I.expirationTime>A&&Y());){var B=I.callback;if(typeof B=="function"){I.callback=null,k=I.priorityLevel;var v=B(I.expirationTime<=A);if(A=s.unstable_now(),typeof v=="function"){I.callback=v,$(A),C=!0;break t}I===n(g)&&i(g),$(A)}else i(g);I=n(g)}if(I!==null)C=!0;else{var m=n(w);m!==null&&_(ne,m.startTime-A),C=!1}}break e}finally{I=null,k=L,R=!1}C=void 0}}finally{C?W():ce=!1}}}var W;if(typeof V=="function")W=function(){V(X)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,h=T.port2;T.port1.onmessage=X,W=function(){h.postMessage(null)}}else W=function(){j(X,0)};function _(A,C){ie=j(function(){A(s.unstable_now())},C)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(A){A.callback=null},s.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<A?Math.floor(1e3/A):5},s.unstable_getCurrentPriorityLevel=function(){return k},s.unstable_next=function(A){switch(k){case 1:case 2:case 3:var C=3;break;default:C=k}var L=k;k=C;try{return A()}finally{k=L}},s.unstable_requestPaint=function(){z=!0},s.unstable_runWithPriority=function(A,C){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var L=k;k=A;try{return C()}finally{k=L}},s.unstable_scheduleCallback=function(A,C,L){var B=s.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?B+L:B):L=B,A){case 1:var v=-1;break;case 2:v=250;break;case 5:v=1073741823;break;case 4:v=1e4;break;default:v=5e3}return v=L+v,A={id:E++,callback:C,priorityLevel:A,startTime:L,expirationTime:v,sortIndex:-1},L>B?(A.sortIndex=L,t(w,A),n(g)===null&&A===n(w)&&(U?(F(ie),ie=-1):U=!0,_(ne,L-B))):(A.sortIndex=v,t(g,A),M||R||(M=!0,ce||(ce=!0,W()))),A},s.unstable_shouldYield=Y,s.unstable_wrapCallback=function(A){var C=k;return function(){var L=k;k=C;try{return A.apply(this,arguments)}finally{k=L}}}})(Ah)),Ah}var _g;function mR(){return _g||(_g=1,Sh.exports=pR()),Sh.exports}var Rh={exports:{}},Bn={};var vg;function yR(){if(vg)return Bn;vg=1;var s=H0();function t(g){var w="https://react.dev/errors/"+g;if(1<arguments.length){w+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)w+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+w+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,w,E){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:I==null?null:""+I,children:g,containerInfo:w,implementation:E}}var u=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(g,w){if(g==="font")return"";if(typeof w=="string")return w==="use-credentials"?w:""}return Bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Bn.createPortal=function(g,w){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!w||w.nodeType!==1&&w.nodeType!==9&&w.nodeType!==11)throw Error(t(299));return c(g,w,null,E)},Bn.flushSync=function(g){var w=u.T,E=i.p;try{if(u.T=null,i.p=2,g)return g()}finally{u.T=w,i.p=E,i.d.f()}},Bn.preconnect=function(g,w){typeof g=="string"&&(w?(w=w.crossOrigin,w=typeof w=="string"?w==="use-credentials"?w:"":void 0):w=null,i.d.C(g,w))},Bn.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},Bn.preinit=function(g,w){if(typeof g=="string"&&w&&typeof w.as=="string"){var E=w.as,I=d(E,w.crossOrigin),k=typeof w.integrity=="string"?w.integrity:void 0,R=typeof w.fetchPriority=="string"?w.fetchPriority:void 0;E==="style"?i.d.S(g,typeof w.precedence=="string"?w.precedence:void 0,{crossOrigin:I,integrity:k,fetchPriority:R}):E==="script"&&i.d.X(g,{crossOrigin:I,integrity:k,fetchPriority:R,nonce:typeof w.nonce=="string"?w.nonce:void 0})}},Bn.preinitModule=function(g,w){if(typeof g=="string")if(typeof w=="object"&&w!==null){if(w.as==null||w.as==="script"){var E=d(w.as,w.crossOrigin);i.d.M(g,{crossOrigin:E,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0})}}else w==null&&i.d.M(g)},Bn.preload=function(g,w){if(typeof g=="string"&&typeof w=="object"&&w!==null&&typeof w.as=="string"){var E=w.as,I=d(E,w.crossOrigin);i.d.L(g,E,{crossOrigin:I,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0,type:typeof w.type=="string"?w.type:void 0,fetchPriority:typeof w.fetchPriority=="string"?w.fetchPriority:void 0,referrerPolicy:typeof w.referrerPolicy=="string"?w.referrerPolicy:void 0,imageSrcSet:typeof w.imageSrcSet=="string"?w.imageSrcSet:void 0,imageSizes:typeof w.imageSizes=="string"?w.imageSizes:void 0,media:typeof w.media=="string"?w.media:void 0})}},Bn.preloadModule=function(g,w){if(typeof g=="string")if(w){var E=d(w.as,w.crossOrigin);i.d.m(g,{as:typeof w.as=="string"&&w.as!=="script"?w.as:void 0,crossOrigin:E,integrity:typeof w.integrity=="string"?w.integrity:void 0})}else i.d.m(g)},Bn.requestFormReset=function(g){i.d.r(g)},Bn.unstable_batchedUpdates=function(g,w){return g(w)},Bn.useFormState=function(g,w,E){return u.H.useFormState(g,w,E)},Bn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Bn.version="19.2.3",Bn}var Eg;function gR(){if(Eg)return Rh.exports;Eg=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Rh.exports=yR(),Rh.exports}var Sg;function bR(){if(Sg)return pc;Sg=1;var s=mR(),t=H0(),n=gR();function i(e){var r="https://react.dev/errors/"+e;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var r=e,a=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(a=r.return),e=r.return;while(e)}return r.tag===3?a:null}function u(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function d(e){if(e.tag===31){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(i(188))}function w(e){var r=e.alternate;if(!r){if(r=c(e),r===null)throw Error(i(188));return r!==e?null:e}for(var a=e,l=r;;){var p=a.return;if(p===null)break;var b=p.alternate;if(b===null){if(l=p.return,l!==null){a=l;continue}break}if(p.child===b.child){for(b=p.child;b;){if(b===a)return g(p),e;if(b===l)return g(p),r;b=b.sibling}throw Error(i(188))}if(a.return!==l.return)a=p,l=b;else{for(var N=!1,q=p.child;q;){if(q===a){N=!0,a=p,l=b;break}if(q===l){N=!0,l=p,a=b;break}q=q.sibling}if(!N){for(q=b.child;q;){if(q===a){N=!0,a=b,l=p;break}if(q===l){N=!0,l=b,a=p;break}q=q.sibling}if(!N)throw Error(i(189))}}if(a.alternate!==l)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?e:r}function E(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e;for(e=e.child;e!==null;){if(r=E(e),r!==null)return r;e=e.sibling}return null}var I=Object.assign,k=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),V=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),G=Symbol.for("react.activity"),Y=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function W(e){return e===null||typeof e!="object"?null:(e=X&&e[X]||e["@@iterator"],typeof e=="function"?e:null)}var T=Symbol.for("react.client.reference");function h(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===T?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case U:return"Fragment";case j:return"Profiler";case z:return"StrictMode";case ne:return"Suspense";case ce:return"SuspenseList";case G:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case M:return"Portal";case V:return e.displayName||"Context";case F:return(e._context.displayName||"Context")+".Consumer";case $:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ie:return r=e.displayName||null,r!==null?r:h(e.type)||"Memo";case ue:r=e._payload,e=e._init;try{return h(e(r))}catch{}}return null}var _=Array.isArray,A=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,C=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},B=[],v=-1;function m(e){return{current:e}}function f(e){0>v||(e.current=B[v],B[v]=null,v--)}function y(e,r){v++,B[v]=e.current,e.current=r}var O=m(null),D=m(null),Z=m(null),se=m(null);function re(e,r){switch(y(Z,r),y(D,e),y(O,null),r.nodeType){case 9:case 11:e=(e=r.documentElement)&&(e=e.namespaceURI)?M1(e):0;break;default:if(e=r.tagName,r=r.namespaceURI)r=M1(r),e=U1(r,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}f(O),y(O,e)}function le(){f(O),f(D),f(Z)}function Ae(e){e.memoizedState!==null&&y(se,e);var r=O.current,a=U1(r,e.type);r!==a&&(y(D,e),y(O,a))}function Ie(e){D.current===e&&(f(O),f(D)),se.current===e&&(f(se),cc._currentValue=L)}var Ve,It;function Ge(e){if(Ve===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Ve=r&&r[1]||"",It=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ve+e+It}var $e=!1;function Yt(e,r){if(!e||$e)return"";$e=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var Ee=function(){throw Error()};if(Object.defineProperty(Ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ee,[])}catch(be){var ye=be}Reflect.construct(e,[],Ee)}else{try{Ee.call()}catch(be){ye=be}e.call(Ee.prototype)}}else{try{throw Error()}catch(be){ye=be}(Ee=e())&&typeof Ee.catch=="function"&&Ee.catch(function(){})}}catch(be){if(be&&ye&&typeof be.stack=="string")return[be.stack,ye.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=l.DetermineComponentFrameRoot(),N=b[0],q=b[1];if(N&&q){var J=N.split(`
`),he=q.split(`
`);for(p=l=0;l<J.length&&!J[l].includes("DetermineComponentFrameRoot");)l++;for(;p<he.length&&!he[p].includes("DetermineComponentFrameRoot");)p++;if(l===J.length||p===he.length)for(l=J.length-1,p=he.length-1;1<=l&&0<=p&&J[l]!==he[p];)p--;for(;1<=l&&0<=p;l--,p--)if(J[l]!==he[p]){if(l!==1||p!==1)do if(l--,p--,0>p||J[l]!==he[p]){var we=`
`+J[l].replace(" at new "," at ");return e.displayName&&we.includes("<anonymous>")&&(we=we.replace("<anonymous>",e.displayName)),we}while(1<=l&&0<=p);break}}}finally{$e=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ge(a):""}function Ze(e,r){switch(e.tag){case 26:case 27:case 5:return Ge(e.type);case 16:return Ge("Lazy");case 13:return e.child!==r&&r!==null?Ge("Suspense Fallback"):Ge("Suspense");case 19:return Ge("SuspenseList");case 0:case 15:return Yt(e.type,!1);case 11:return Yt(e.type.render,!1);case 1:return Yt(e.type,!0);case 31:return Ge("Activity");default:return""}}function Qe(e){try{var r="",a=null;do r+=Ze(e,a),a=e,e=e.return;while(e);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _n=Object.prototype.hasOwnProperty,ht=s.unstable_scheduleCallback,Fe=s.unstable_cancelCallback,Tt=s.unstable_shouldYield,We=s.unstable_requestPaint,je=s.unstable_now,Ct=s.unstable_getCurrentPriorityLevel,Ce=s.unstable_ImmediatePriority,H=s.unstable_UserBlockingPriority,S=s.unstable_NormalPriority,x=s.unstable_LowPriority,P=s.unstable_IdlePriority,ee=s.log,ae=s.unstable_setDisableYieldValue,me=null,ze=null;function Pe(e){if(typeof ee=="function"&&ae(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(me,e)}catch{}}var Ue=Math.clz32?Math.clz32:tn,_t=Math.log,Xe=Math.LN2;function tn(e){return e>>>=0,e===0?32:31-(_t(e)/Xe|0)|0}var Ss=256,Lt=262144,zt=4194304;function Ir(e){var r=e&42;if(r!==0)return r;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ht(e,r,a){var l=e.pendingLanes;if(l===0)return 0;var p=0,b=e.suspendedLanes,N=e.pingedLanes;e=e.warmLanes;var q=l&134217727;return q!==0?(l=q&~b,l!==0?p=Ir(l):(N&=q,N!==0?p=Ir(N):a||(a=q&~e,a!==0&&(p=Ir(a))))):(q=l&~b,q!==0?p=Ir(q):N!==0?p=Ir(N):a||(a=l&~e,a!==0&&(p=Ir(a)))),p===0?0:r!==0&&r!==p&&(r&b)===0&&(b=p&-p,a=r&-r,b>=a||b===32&&(a&4194048)!==0)?r:p}function Mt(e,r){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&r)===0}function Gc(e,r){switch(e){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zt(){var e=zt;return zt<<=1,(zt&62914560)===0&&(zt=4194304),e}function qt(e){for(var r=[],a=0;31>a;a++)r.push(e);return r}function Bi(e,r){e.pendingLanes|=r,r!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function nn(e,r,a,l,p,b){var N=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var q=e.entanglements,J=e.expirationTimes,he=e.hiddenUpdates;for(a=N&~a;0<a;){var we=31-Ue(a),Ee=1<<we;q[we]=0,J[we]=-1;var ye=he[we];if(ye!==null)for(he[we]=null,we=0;we<ye.length;we++){var be=ye[we];be!==null&&(be.lane&=-536870913)}a&=~Ee}l!==0&&Xt(e,l,0),b!==0&&p===0&&e.tag!==0&&(e.suspendedLanes|=b&~(N&~r))}function Xt(e,r,a){e.pendingLanes|=r,e.suspendedLanes&=~r;var l=31-Ue(r);e.entangledLanes|=r,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function vo(e,r){var a=e.entangledLanes|=r;for(e=e.entanglements;a;){var l=31-Ue(a),p=1<<l;p&r|e[l]&r&&(e[l]|=r),a&=~p}}function Wt(e,r){var a=r&-r;return a=(a&42)!==0?1:Kt(a),(a&(e.suspendedLanes|r))!==0?0:a}function Kt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ca(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function $t(){var e=C.p;return e!==0?e:(e=window.event,e===void 0?32:ig(e.type))}function Qt(e,r){var a=C.p;try{return C.p=e,r()}finally{C.p=a}}var Er=Math.random().toString(36).slice(2),st="__reactFiber$"+Er,ft="__reactProps$"+Er,$r="__reactContainer$"+Er,Vt="__reactEvents$"+Er,rn="__reactListeners$"+Er,Eo="__reactHandles$"+Er,la="__reactResources$"+Er,Qr="__reactMarker$"+Er;function As(e){delete e[st],delete e[ft],delete e[Vt],delete e[rn],delete e[Eo]}function Cr(e){var r=e[st];if(r)return r;for(var a=e.parentNode;a;){if(r=a[$r]||a[st]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(e=q1(e);e!==null;){if(a=e[st])return a;e=q1(e)}return r}e=a,a=e.parentNode}return null}function Br(e){if(e=e[st]||e[$r]){var r=e.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return e}return null}function Jr(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e.stateNode;throw Error(i(33))}function Mr(e){var r=e[la];return r||(r=e[la]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function sn(e){e[Qr]=!0}var ua=new Set,fa={};function Sr(e,r){Ur(e,r),Ur(e+"Capture",r)}function Ur(e,r){for(fa[e]=r,e=0;e<r.length;e++)ua.add(r[e])}var So=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),da={},ha={};function Ao(e){return _n.call(ha,e)?!0:_n.call(da,e)?!1:So.test(e)?ha[e]=!0:(da[e]=!0,!1)}function Mi(e,r,a){if(Ao(r))if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(r);return}}e.setAttribute(r,""+a)}}function Ui(e,r,a){if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttribute(r,""+a)}}function ei(e,r,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(r,a,""+l)}}function cr(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xp(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function QE(e,r,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,r);if(!e.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,b=l.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return p.call(this)},set:function(N){a=""+N,b.call(this,N)}}),Object.defineProperty(e,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(N){a=""+N},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function ff(e){if(!e._valueTracker){var r=xp(e)?"checked":"value";e._valueTracker=QE(e,r,""+e[r])}}function Tp(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return e&&(l=xp(e)?e.checked?"true":"false":e.value),e=l,e!==a?(r.setValue(e),!0):!1}function Fc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var JE=/[\n"\\]/g;function lr(e){return e.replace(JE,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function df(e,r,a,l,p,b,N,q){e.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?e.type=N:e.removeAttribute("type"),r!=null?N==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+cr(r)):e.value!==""+cr(r)&&(e.value=""+cr(r)):N!=="submit"&&N!=="reset"||e.removeAttribute("value"),r!=null?hf(e,N,cr(r)):a!=null?hf(e,N,cr(a)):l!=null&&e.removeAttribute("value"),p==null&&b!=null&&(e.defaultChecked=!!b),p!=null&&(e.checked=p&&typeof p!="function"&&typeof p!="symbol"),q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?e.name=""+cr(q):e.removeAttribute("name")}function Op(e,r,a,l,p,b,N,q){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.type=b),r!=null||a!=null){if(!(b!=="submit"&&b!=="reset"||r!=null)){ff(e);return}a=a!=null?""+cr(a):"",r=r!=null?""+cr(r):a,q||r===e.value||(e.value=r),e.defaultValue=r}l=l??p,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=q?e.checked:!!l,e.defaultChecked=!!l,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(e.name=N),ff(e)}function hf(e,r,a){r==="number"&&Fc(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function pa(e,r,a,l){if(e=e.options,r){r={};for(var p=0;p<a.length;p++)r["$"+a[p]]=!0;for(a=0;a<e.length;a++)p=r.hasOwnProperty("$"+e[a].value),e[a].selected!==p&&(e[a].selected=p),p&&l&&(e[a].defaultSelected=!0)}else{for(a=""+cr(a),r=null,p=0;p<e.length;p++){if(e[p].value===a){e[p].selected=!0,l&&(e[p].defaultSelected=!0);return}r!==null||e[p].disabled||(r=e[p])}r!==null&&(r.selected=!0)}}function Np(e,r,a){if(r!=null&&(r=""+cr(r),r!==e.value&&(e.value=r),a==null)){e.defaultValue!==r&&(e.defaultValue=r);return}e.defaultValue=a!=null?""+cr(a):""}function kp(e,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(i(92));if(_(l)){if(1<l.length)throw Error(i(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=cr(r),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),ff(e)}function ma(e,r){if(r){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=r;return}}e.textContent=r}var eS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ip(e,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="":l?e.setProperty(r,a):typeof a!="number"||a===0||eS.has(r)?r==="float"?e.cssFloat=a:e[r]=(""+a).trim():e[r]=a+"px"}function Cp(e,r,a){if(r!=null&&typeof r!="object")throw Error(i(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var p in r)l=r[p],r.hasOwnProperty(p)&&a[p]!==l&&Ip(e,p,l)}else for(var b in r)r.hasOwnProperty(b)&&Ip(e,b,r[b])}function pf(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yc(e){return nS.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ti(){}var mf=null;function yf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ya=null,ga=null;function Bp(e){var r=Br(e);if(r&&(e=r.stateNode)){var a=e[ft]||null;e:switch(e=r.stateNode,r.type){case"input":if(df(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+lr(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==e&&l.form===e.form){var p=l[ft]||null;if(!p)throw Error(i(90));df(l,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===e.form&&Tp(l)}break e;case"textarea":Np(e,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&pa(e,!!a.multiple,r,!1)}}}var gf=!1;function Mp(e,r,a){if(gf)return e(r,a);gf=!0;try{var l=e(r);return l}finally{if(gf=!1,(ya!==null||ga!==null)&&(Ml(),ya&&(r=ya,e=ga,ga=ya=null,Bp(r),e)))for(r=0;r<e.length;r++)Bp(e[r])}}function Ro(e,r){var a=e.stateNode;if(a===null)return null;var l=a[ft]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(i(231,r,typeof a));return a}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bf=!1;if(ni)try{var xo={};Object.defineProperty(xo,"passive",{get:function(){bf=!0}}),window.addEventListener("test",xo,xo),window.removeEventListener("test",xo,xo)}catch{bf=!1}var Di=null,wf=null,Zc=null;function Up(){if(Zc)return Zc;var e,r=wf,a=r.length,l,p="value"in Di?Di.value:Di.textContent,b=p.length;for(e=0;e<a&&r[e]===p[e];e++);var N=a-e;for(l=1;l<=N&&r[a-l]===p[b-l];l++);return Zc=p.slice(e,1<l?1-l:void 0)}function Xc(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function Wc(){return!0}function Dp(){return!1}function Pn(e){function r(a,l,p,b,N){this._reactName=a,this._targetInst=p,this.type=l,this.nativeEvent=b,this.target=N,this.currentTarget=null;for(var q in e)e.hasOwnProperty(q)&&(a=e[q],this[q]=a?a(b):b[q]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Wc:Dp,this.isPropagationStopped=Dp,this}return I(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Wc)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Wc)},persist:function(){},isPersistent:Wc}),r}var Rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$c=Pn(Rs),To=I({},Rs,{view:0,detail:0}),rS=Pn(To),_f,vf,Oo,Qc=I({},To,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Oo&&(Oo&&e.type==="mousemove"?(_f=e.screenX-Oo.screenX,vf=e.screenY-Oo.screenY):vf=_f=0,Oo=e),_f)},movementY:function(e){return"movementY"in e?e.movementY:vf}}),Lp=Pn(Qc),iS=I({},Qc,{dataTransfer:0}),sS=Pn(iS),aS=I({},To,{relatedTarget:0}),Ef=Pn(aS),oS=I({},Rs,{animationName:0,elapsedTime:0,pseudoElement:0}),cS=Pn(oS),lS=I({},Rs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uS=Pn(lS),fS=I({},Rs,{data:0}),zp=Pn(fS),dS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mS(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=pS[e])?!!r[e]:!1}function Sf(){return mS}var yS=I({},To,{key:function(e){if(e.key){var r=dS[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=Xc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sf,charCode:function(e){return e.type==="keypress"?Xc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gS=Pn(yS),bS=I({},Qc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hp=Pn(bS),wS=I({},To,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sf}),_S=Pn(wS),vS=I({},Rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),ES=Pn(vS),SS=I({},Qc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),AS=Pn(SS),RS=I({},Rs,{newState:0,oldState:0}),xS=Pn(RS),TS=[9,13,27,32],Af=ni&&"CompositionEvent"in window,No=null;ni&&"documentMode"in document&&(No=document.documentMode);var OS=ni&&"TextEvent"in window&&!No,jp=ni&&(!Af||No&&8<No&&11>=No),Pp=" ",qp=!1;function Kp(e,r){switch(e){case"keyup":return TS.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ba=!1;function NS(e,r){switch(e){case"compositionend":return Vp(r);case"keypress":return r.which!==32?null:(qp=!0,Pp);case"textInput":return e=r.data,e===Pp&&qp?null:e;default:return null}}function kS(e,r){if(ba)return e==="compositionend"||!Af&&Kp(e,r)?(e=Up(),Zc=wf=Di=null,ba=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return jp&&r.locale!=="ko"?null:r.data;default:return null}}var IS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gp(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!IS[e.type]:r==="textarea"}function Fp(e,r,a,l){ya?ga?ga.push(l):ga=[l]:ya=l,r=Pl(r,"onChange"),0<r.length&&(a=new $c("onChange","change",null,a,l),e.push({event:a,listeners:r}))}var ko=null,Io=null;function CS(e){O1(e,0)}function Jc(e){var r=Jr(e);if(Tp(r))return e}function Yp(e,r){if(e==="change")return r}var Zp=!1;if(ni){var Rf;if(ni){var xf="oninput"in document;if(!xf){var Xp=document.createElement("div");Xp.setAttribute("oninput","return;"),xf=typeof Xp.oninput=="function"}Rf=xf}else Rf=!1;Zp=Rf&&(!document.documentMode||9<document.documentMode)}function Wp(){ko&&(ko.detachEvent("onpropertychange",$p),Io=ko=null)}function $p(e){if(e.propertyName==="value"&&Jc(Io)){var r=[];Fp(r,Io,e,yf(e)),Mp(CS,r)}}function BS(e,r,a){e==="focusin"?(Wp(),ko=r,Io=a,ko.attachEvent("onpropertychange",$p)):e==="focusout"&&Wp()}function MS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Jc(Io)}function US(e,r){if(e==="click")return Jc(r)}function DS(e,r){if(e==="input"||e==="change")return Jc(r)}function LS(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var $n=typeof Object.is=="function"?Object.is:LS;function Co(e,r){if($n(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var a=Object.keys(e),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var p=a[l];if(!_n.call(r,p)||!$n(e[p],r[p]))return!1}return!0}function Qp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jp(e,r){var a=Qp(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=r&&l>=r)return{node:a,offset:r-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Qp(a)}}function em(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?em(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function tm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var r=Fc(e.document);r instanceof e.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)e=r.contentWindow;else break;r=Fc(e.document)}return r}function Tf(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}var zS=ni&&"documentMode"in document&&11>=document.documentMode,wa=null,Of=null,Bo=null,Nf=!1;function nm(e,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Nf||wa==null||wa!==Fc(l)||(l=wa,"selectionStart"in l&&Tf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Bo&&Co(Bo,l)||(Bo=l,l=Pl(Of,"onSelect"),0<l.length&&(r=new $c("onSelect","select",null,r,a),e.push({event:r,listeners:l}),r.target=wa)))}function xs(e,r){var a={};return a[e.toLowerCase()]=r.toLowerCase(),a["Webkit"+e]="webkit"+r,a["Moz"+e]="moz"+r,a}var _a={animationend:xs("Animation","AnimationEnd"),animationiteration:xs("Animation","AnimationIteration"),animationstart:xs("Animation","AnimationStart"),transitionrun:xs("Transition","TransitionRun"),transitionstart:xs("Transition","TransitionStart"),transitioncancel:xs("Transition","TransitionCancel"),transitionend:xs("Transition","TransitionEnd")},kf={},rm={};ni&&(rm=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function Ts(e){if(kf[e])return kf[e];if(!_a[e])return e;var r=_a[e],a;for(a in r)if(r.hasOwnProperty(a)&&a in rm)return kf[e]=r[a];return e}var im=Ts("animationend"),sm=Ts("animationiteration"),am=Ts("animationstart"),HS=Ts("transitionrun"),jS=Ts("transitionstart"),PS=Ts("transitioncancel"),om=Ts("transitionend"),cm=new Map,If="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");If.push("scrollEnd");function Ar(e,r){cm.set(e,r),Sr(r,[e])}var el=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ur=[],va=0,Cf=0;function tl(){for(var e=va,r=Cf=va=0;r<e;){var a=ur[r];ur[r++]=null;var l=ur[r];ur[r++]=null;var p=ur[r];ur[r++]=null;var b=ur[r];if(ur[r++]=null,l!==null&&p!==null){var N=l.pending;N===null?p.next=p:(p.next=N.next,N.next=p),l.pending=p}b!==0&&lm(a,p,b)}}function nl(e,r,a,l){ur[va++]=e,ur[va++]=r,ur[va++]=a,ur[va++]=l,Cf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Bf(e,r,a,l){return nl(e,r,a,l),rl(e)}function Os(e,r){return nl(e,null,null,r),rl(e)}function lm(e,r,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var p=!1,b=e.return;b!==null;)b.childLanes|=a,l=b.alternate,l!==null&&(l.childLanes|=a),b.tag===22&&(e=b.stateNode,e===null||e._visibility&1||(p=!0)),e=b,b=b.return;return e.tag===3?(b=e.stateNode,p&&r!==null&&(p=31-Ue(a),e=b.hiddenUpdates,l=e[p],l===null?e[p]=[r]:l.push(r),r.lane=a|536870912),b):null}function rl(e){if(50<tc)throw tc=0,qd=null,Error(i(185));for(var r=e.return;r!==null;)e=r,r=e.return;return e.tag===3?e.stateNode:null}var Ea={};function qS(e,r,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(e,r,a,l){return new qS(e,r,a,l)}function Mf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ri(e,r){var a=e.alternate;return a===null?(a=Qn(e.tag,r,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=r,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,r=e.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function um(e,r){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=r,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,r=a.dependencies,e.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),e}function il(e,r,a,l,p,b){var N=0;if(l=e,typeof e=="function")Mf(e)&&(N=1);else if(typeof e=="string")N=YA(e,a,O.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case G:return e=Qn(31,a,r,p),e.elementType=G,e.lanes=b,e;case U:return Ns(a.children,p,b,r);case z:N=8,p|=24;break;case j:return e=Qn(12,a,r,p|2),e.elementType=j,e.lanes=b,e;case ne:return e=Qn(13,a,r,p),e.elementType=ne,e.lanes=b,e;case ce:return e=Qn(19,a,r,p),e.elementType=ce,e.lanes=b,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case V:N=10;break e;case F:N=9;break e;case $:N=11;break e;case ie:N=14;break e;case ue:N=16,l=null;break e}N=29,a=Error(i(130,e===null?"null":typeof e,"")),l=null}return r=Qn(N,a,r,p),r.elementType=e,r.type=l,r.lanes=b,r}function Ns(e,r,a,l){return e=Qn(7,e,l,r),e.lanes=a,e}function Uf(e,r,a){return e=Qn(6,e,null,r),e.lanes=a,e}function fm(e){var r=Qn(18,null,null,0);return r.stateNode=e,r}function Df(e,r,a){return r=Qn(4,e.children!==null?e.children:[],e.key,r),r.lanes=a,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}var dm=new WeakMap;function fr(e,r){if(typeof e=="object"&&e!==null){var a=dm.get(e);return a!==void 0?a:(r={value:e,source:r,stack:Qe(r)},dm.set(e,r),r)}return{value:e,source:r,stack:Qe(r)}}var Sa=[],Aa=0,sl=null,Mo=0,dr=[],hr=0,Li=null,Dr=1,Lr="";function ii(e,r){Sa[Aa++]=Mo,Sa[Aa++]=sl,sl=e,Mo=r}function hm(e,r,a){dr[hr++]=Dr,dr[hr++]=Lr,dr[hr++]=Li,Li=e;var l=Dr;e=Lr;var p=32-Ue(l)-1;l&=~(1<<p),a+=1;var b=32-Ue(r)+p;if(30<b){var N=p-p%5;b=(l&(1<<N)-1).toString(32),l>>=N,p-=N,Dr=1<<32-Ue(r)+p|a<<p|l,Lr=b+e}else Dr=1<<b|a<<p|l,Lr=e}function Lf(e){e.return!==null&&(ii(e,1),hm(e,1,0))}function zf(e){for(;e===sl;)sl=Sa[--Aa],Sa[Aa]=null,Mo=Sa[--Aa],Sa[Aa]=null;for(;e===Li;)Li=dr[--hr],dr[hr]=null,Lr=dr[--hr],dr[hr]=null,Dr=dr[--hr],dr[hr]=null}function pm(e,r){dr[hr++]=Dr,dr[hr++]=Lr,dr[hr++]=Li,Dr=r.id,Lr=r.overflow,Li=e}var xn=null,jt=null,dt=!1,zi=null,pr=!1,Hf=Error(i(519));function Hi(e){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Uo(fr(r,e)),Hf}function mm(e){var r=e.stateNode,a=e.type,l=e.memoizedProps;switch(r[st]=e,r[ft]=l,a){case"dialog":ot("cancel",r),ot("close",r);break;case"iframe":case"object":case"embed":ot("load",r);break;case"video":case"audio":for(a=0;a<rc.length;a++)ot(rc[a],r);break;case"source":ot("error",r);break;case"img":case"image":case"link":ot("error",r),ot("load",r);break;case"details":ot("toggle",r);break;case"input":ot("invalid",r),Op(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ot("invalid",r);break;case"textarea":ot("invalid",r),kp(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||C1(r.textContent,a)?(l.popover!=null&&(ot("beforetoggle",r),ot("toggle",r)),l.onScroll!=null&&ot("scroll",r),l.onScrollEnd!=null&&ot("scrollend",r),l.onClick!=null&&(r.onclick=ti),r=!0):r=!1,r||Hi(e,!0)}function ym(e){for(xn=e.return;xn;)switch(xn.tag){case 5:case 31:case 13:pr=!1;return;case 27:case 3:pr=!0;return;default:xn=xn.return}}function Ra(e){if(e!==xn)return!1;if(!dt)return ym(e),dt=!0,!1;var r=e.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||rh(e.type,e.memoizedProps)),a=!a),a&&jt&&Hi(e),ym(e),r===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));jt=P1(e)}else if(r===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));jt=P1(e)}else r===27?(r=jt,Ji(e.type)?(e=ch,ch=null,jt=e):jt=r):jt=xn?yr(e.stateNode.nextSibling):null;return!0}function ks(){jt=xn=null,dt=!1}function jf(){var e=zi;return e!==null&&(Gn===null?Gn=e:Gn.push.apply(Gn,e),zi=null),e}function Uo(e){zi===null?zi=[e]:zi.push(e)}var Pf=m(null),Is=null,si=null;function ji(e,r,a){y(Pf,r._currentValue),r._currentValue=a}function ai(e){e._currentValue=Pf.current,f(Pf)}function qf(e,r,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),e===a)break;e=e.return}}function Kf(e,r,a,l){var p=e.child;for(p!==null&&(p.return=e);p!==null;){var b=p.dependencies;if(b!==null){var N=p.child;b=b.firstContext;e:for(;b!==null;){var q=b;b=p;for(var J=0;J<r.length;J++)if(q.context===r[J]){b.lanes|=a,q=b.alternate,q!==null&&(q.lanes|=a),qf(b.return,a,e),l||(N=null);break e}b=q.next}}else if(p.tag===18){if(N=p.return,N===null)throw Error(i(341));N.lanes|=a,b=N.alternate,b!==null&&(b.lanes|=a),qf(N,a,e),N=null}else N=p.child;if(N!==null)N.return=p;else for(N=p;N!==null;){if(N===e){N=null;break}if(p=N.sibling,p!==null){p.return=N.return,N=p;break}N=N.return}p=N}}function xa(e,r,a,l){e=null;for(var p=r,b=!1;p!==null;){if(!b){if((p.flags&524288)!==0)b=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var N=p.alternate;if(N===null)throw Error(i(387));if(N=N.memoizedProps,N!==null){var q=p.type;$n(p.pendingProps.value,N.value)||(e!==null?e.push(q):e=[q])}}else if(p===se.current){if(N=p.alternate,N===null)throw Error(i(387));N.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(e!==null?e.push(cc):e=[cc])}p=p.return}e!==null&&Kf(r,e,a,l),r.flags|=262144}function al(e){for(e=e.firstContext;e!==null;){if(!$n(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Cs(e){Is=e,si=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Tn(e){return gm(Is,e)}function ol(e,r){return Is===null&&Cs(e),gm(e,r)}function gm(e,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},si===null){if(e===null)throw Error(i(308));si=r,e.dependencies={lanes:0,firstContext:r},e.flags|=524288}else si=si.next=r;return a}var KS=typeof AbortController<"u"?AbortController:function(){var e=[],r=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){r.aborted=!0,e.forEach(function(a){return a()})}},VS=s.unstable_scheduleCallback,GS=s.unstable_NormalPriority,mn={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vf(){return{controller:new KS,data:new Map,refCount:0}}function Do(e){e.refCount--,e.refCount===0&&VS(GS,function(){e.controller.abort()})}var Lo=null,Gf=0,Ta=0,Oa=null;function FS(e,r){if(Lo===null){var a=Lo=[];Gf=0,Ta=Zd(),Oa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Gf++,r.then(bm,bm),r}function bm(){if(--Gf===0&&Lo!==null){Oa!==null&&(Oa.status="fulfilled");var e=Lo;Lo=null,Ta=0,Oa=null;for(var r=0;r<e.length;r++)(0,e[r])()}}function YS(e,r){var a=[],l={status:"pending",value:null,reason:null,then:function(p){a.push(p)}};return e.then(function(){l.status="fulfilled",l.value=r;for(var p=0;p<a.length;p++)(0,a[p])(r)},function(p){for(l.status="rejected",l.reason=p,p=0;p<a.length;p++)(0,a[p])(void 0)}),l}var wm=A.S;A.S=function(e,r){n1=je(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&FS(e,r),wm!==null&&wm(e,r)};var Bs=m(null);function Ff(){var e=Bs.current;return e!==null?e:Bt.pooledCache}function cl(e,r){r===null?y(Bs,Bs.current):y(Bs,r.pool)}function _m(){var e=Ff();return e===null?null:{parent:mn._currentValue,pool:e}}var Na=Error(i(460)),Yf=Error(i(474)),ll=Error(i(542)),ul={then:function(){}};function vm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Em(e,r,a){switch(a=e[a],a===void 0?e.push(r):a!==r&&(r.then(ti,ti),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,Am(e),e;default:if(typeof r.status=="string")r.then(ti,ti);else{if(e=Bt,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=r,e.status="pending",e.then(function(l){if(r.status==="pending"){var p=r;p.status="fulfilled",p.value=l}},function(l){if(r.status==="pending"){var p=r;p.status="rejected",p.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,Am(e),e}throw Us=r,Na}}function Ms(e){try{var r=e._init;return r(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Us=a,Na):a}}var Us=null;function Sm(){if(Us===null)throw Error(i(459));var e=Us;return Us=null,e}function Am(e){if(e===Na||e===ll)throw Error(i(483))}var ka=null,zo=0;function fl(e){var r=zo;return zo+=1,ka===null&&(ka=[]),Em(ka,e,r)}function Ho(e,r){r=r.props.ref,e.ref=r!==void 0?r:null}function dl(e,r){throw r.$$typeof===k?Error(i(525)):(e=Object.prototype.toString.call(r),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)))}function Rm(e){function r(oe,te){if(e){var de=oe.deletions;de===null?(oe.deletions=[te],oe.flags|=16):de.push(te)}}function a(oe,te){if(!e)return null;for(;te!==null;)r(oe,te),te=te.sibling;return null}function l(oe){for(var te=new Map;oe!==null;)oe.key!==null?te.set(oe.key,oe):te.set(oe.index,oe),oe=oe.sibling;return te}function p(oe,te){return oe=ri(oe,te),oe.index=0,oe.sibling=null,oe}function b(oe,te,de){return oe.index=de,e?(de=oe.alternate,de!==null?(de=de.index,de<te?(oe.flags|=67108866,te):de):(oe.flags|=67108866,te)):(oe.flags|=1048576,te)}function N(oe){return e&&oe.alternate===null&&(oe.flags|=67108866),oe}function q(oe,te,de,ve){return te===null||te.tag!==6?(te=Uf(de,oe.mode,ve),te.return=oe,te):(te=p(te,de),te.return=oe,te)}function J(oe,te,de,ve){var qe=de.type;return qe===U?we(oe,te,de.props.children,ve,de.key):te!==null&&(te.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===ue&&Ms(qe)===te.type)?(te=p(te,de.props),Ho(te,de),te.return=oe,te):(te=il(de.type,de.key,de.props,null,oe.mode,ve),Ho(te,de),te.return=oe,te)}function he(oe,te,de,ve){return te===null||te.tag!==4||te.stateNode.containerInfo!==de.containerInfo||te.stateNode.implementation!==de.implementation?(te=Df(de,oe.mode,ve),te.return=oe,te):(te=p(te,de.children||[]),te.return=oe,te)}function we(oe,te,de,ve,qe){return te===null||te.tag!==7?(te=Ns(de,oe.mode,ve,qe),te.return=oe,te):(te=p(te,de),te.return=oe,te)}function Ee(oe,te,de){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return te=Uf(""+te,oe.mode,de),te.return=oe,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case R:return de=il(te.type,te.key,te.props,null,oe.mode,de),Ho(de,te),de.return=oe,de;case M:return te=Df(te,oe.mode,de),te.return=oe,te;case ue:return te=Ms(te),Ee(oe,te,de)}if(_(te)||W(te))return te=Ns(te,oe.mode,de,null),te.return=oe,te;if(typeof te.then=="function")return Ee(oe,fl(te),de);if(te.$$typeof===V)return Ee(oe,ol(oe,te),de);dl(oe,te)}return null}function ye(oe,te,de,ve){var qe=te!==null?te.key:null;if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return qe!==null?null:q(oe,te,""+de,ve);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case R:return de.key===qe?J(oe,te,de,ve):null;case M:return de.key===qe?he(oe,te,de,ve):null;case ue:return de=Ms(de),ye(oe,te,de,ve)}if(_(de)||W(de))return qe!==null?null:we(oe,te,de,ve,null);if(typeof de.then=="function")return ye(oe,te,fl(de),ve);if(de.$$typeof===V)return ye(oe,te,ol(oe,de),ve);dl(oe,de)}return null}function be(oe,te,de,ve,qe){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return oe=oe.get(de)||null,q(te,oe,""+ve,qe);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case R:return oe=oe.get(ve.key===null?de:ve.key)||null,J(te,oe,ve,qe);case M:return oe=oe.get(ve.key===null?de:ve.key)||null,he(te,oe,ve,qe);case ue:return ve=Ms(ve),be(oe,te,de,ve,qe)}if(_(ve)||W(ve))return oe=oe.get(de)||null,we(te,oe,ve,qe,null);if(typeof ve.then=="function")return be(oe,te,de,fl(ve),qe);if(ve.$$typeof===V)return be(oe,te,de,ol(te,ve),qe);dl(te,ve)}return null}function De(oe,te,de,ve){for(var qe=null,gt=null,Le=te,tt=te=0,ut=null;Le!==null&&tt<de.length;tt++){Le.index>tt?(ut=Le,Le=null):ut=Le.sibling;var bt=ye(oe,Le,de[tt],ve);if(bt===null){Le===null&&(Le=ut);break}e&&Le&&bt.alternate===null&&r(oe,Le),te=b(bt,te,tt),gt===null?qe=bt:gt.sibling=bt,gt=bt,Le=ut}if(tt===de.length)return a(oe,Le),dt&&ii(oe,tt),qe;if(Le===null){for(;tt<de.length;tt++)Le=Ee(oe,de[tt],ve),Le!==null&&(te=b(Le,te,tt),gt===null?qe=Le:gt.sibling=Le,gt=Le);return dt&&ii(oe,tt),qe}for(Le=l(Le);tt<de.length;tt++)ut=be(Le,oe,tt,de[tt],ve),ut!==null&&(e&&ut.alternate!==null&&Le.delete(ut.key===null?tt:ut.key),te=b(ut,te,tt),gt===null?qe=ut:gt.sibling=ut,gt=ut);return e&&Le.forEach(function(is){return r(oe,is)}),dt&&ii(oe,tt),qe}function Ye(oe,te,de,ve){if(de==null)throw Error(i(151));for(var qe=null,gt=null,Le=te,tt=te=0,ut=null,bt=de.next();Le!==null&&!bt.done;tt++,bt=de.next()){Le.index>tt?(ut=Le,Le=null):ut=Le.sibling;var is=ye(oe,Le,bt.value,ve);if(is===null){Le===null&&(Le=ut);break}e&&Le&&is.alternate===null&&r(oe,Le),te=b(is,te,tt),gt===null?qe=is:gt.sibling=is,gt=is,Le=ut}if(bt.done)return a(oe,Le),dt&&ii(oe,tt),qe;if(Le===null){for(;!bt.done;tt++,bt=de.next())bt=Ee(oe,bt.value,ve),bt!==null&&(te=b(bt,te,tt),gt===null?qe=bt:gt.sibling=bt,gt=bt);return dt&&ii(oe,tt),qe}for(Le=l(Le);!bt.done;tt++,bt=de.next())bt=be(Le,oe,tt,bt.value,ve),bt!==null&&(e&&bt.alternate!==null&&Le.delete(bt.key===null?tt:bt.key),te=b(bt,te,tt),gt===null?qe=bt:gt.sibling=bt,gt=bt);return e&&Le.forEach(function(iR){return r(oe,iR)}),dt&&ii(oe,tt),qe}function kt(oe,te,de,ve){if(typeof de=="object"&&de!==null&&de.type===U&&de.key===null&&(de=de.props.children),typeof de=="object"&&de!==null){switch(de.$$typeof){case R:e:{for(var qe=de.key;te!==null;){if(te.key===qe){if(qe=de.type,qe===U){if(te.tag===7){a(oe,te.sibling),ve=p(te,de.props.children),ve.return=oe,oe=ve;break e}}else if(te.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===ue&&Ms(qe)===te.type){a(oe,te.sibling),ve=p(te,de.props),Ho(ve,de),ve.return=oe,oe=ve;break e}a(oe,te);break}else r(oe,te);te=te.sibling}de.type===U?(ve=Ns(de.props.children,oe.mode,ve,de.key),ve.return=oe,oe=ve):(ve=il(de.type,de.key,de.props,null,oe.mode,ve),Ho(ve,de),ve.return=oe,oe=ve)}return N(oe);case M:e:{for(qe=de.key;te!==null;){if(te.key===qe)if(te.tag===4&&te.stateNode.containerInfo===de.containerInfo&&te.stateNode.implementation===de.implementation){a(oe,te.sibling),ve=p(te,de.children||[]),ve.return=oe,oe=ve;break e}else{a(oe,te);break}else r(oe,te);te=te.sibling}ve=Df(de,oe.mode,ve),ve.return=oe,oe=ve}return N(oe);case ue:return de=Ms(de),kt(oe,te,de,ve)}if(_(de))return De(oe,te,de,ve);if(W(de)){if(qe=W(de),typeof qe!="function")throw Error(i(150));return de=qe.call(de),Ye(oe,te,de,ve)}if(typeof de.then=="function")return kt(oe,te,fl(de),ve);if(de.$$typeof===V)return kt(oe,te,ol(oe,de),ve);dl(oe,de)}return typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint"?(de=""+de,te!==null&&te.tag===6?(a(oe,te.sibling),ve=p(te,de),ve.return=oe,oe=ve):(a(oe,te),ve=Uf(de,oe.mode,ve),ve.return=oe,oe=ve),N(oe)):a(oe,te)}return function(oe,te,de,ve){try{zo=0;var qe=kt(oe,te,de,ve);return ka=null,qe}catch(Le){if(Le===Na||Le===ll)throw Le;var gt=Qn(29,Le,null,oe.mode);return gt.lanes=ve,gt.return=oe,gt}}}var Ds=Rm(!0),xm=Rm(!1),Pi=!1;function Zf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xf(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function qi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ki(e,r,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(vt&2)!==0){var p=l.pending;return p===null?r.next=r:(r.next=p.next,p.next=r),l.pending=r,r=rl(e),lm(e,null,a),r}return nl(e,l,r,a),rl(e)}function jo(e,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=e.pendingLanes,a|=l,r.lanes=a,vo(e,a)}}function Wf(e,r){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var p=null,b=null;if(a=a.firstBaseUpdate,a!==null){do{var N={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};b===null?p=b=N:b=b.next=N,a=a.next}while(a!==null);b===null?p=b=r:b=b.next=r}else p=b=r;a={baseState:l.baseState,firstBaseUpdate:p,lastBaseUpdate:b,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=r:e.next=r,a.lastBaseUpdate=r}var $f=!1;function Po(){if($f){var e=Oa;if(e!==null)throw e}}function qo(e,r,a,l){$f=!1;var p=e.updateQueue;Pi=!1;var b=p.firstBaseUpdate,N=p.lastBaseUpdate,q=p.shared.pending;if(q!==null){p.shared.pending=null;var J=q,he=J.next;J.next=null,N===null?b=he:N.next=he,N=J;var we=e.alternate;we!==null&&(we=we.updateQueue,q=we.lastBaseUpdate,q!==N&&(q===null?we.firstBaseUpdate=he:q.next=he,we.lastBaseUpdate=J))}if(b!==null){var Ee=p.baseState;N=0,we=he=J=null,q=b;do{var ye=q.lane&-536870913,be=ye!==q.lane;if(be?(lt&ye)===ye:(l&ye)===ye){ye!==0&&ye===Ta&&($f=!0),we!==null&&(we=we.next={lane:0,tag:q.tag,payload:q.payload,callback:null,next:null});e:{var De=e,Ye=q;ye=r;var kt=a;switch(Ye.tag){case 1:if(De=Ye.payload,typeof De=="function"){Ee=De.call(kt,Ee,ye);break e}Ee=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=Ye.payload,ye=typeof De=="function"?De.call(kt,Ee,ye):De,ye==null)break e;Ee=I({},Ee,ye);break e;case 2:Pi=!0}}ye=q.callback,ye!==null&&(e.flags|=64,be&&(e.flags|=8192),be=p.callbacks,be===null?p.callbacks=[ye]:be.push(ye))}else be={lane:ye,tag:q.tag,payload:q.payload,callback:q.callback,next:null},we===null?(he=we=be,J=Ee):we=we.next=be,N|=ye;if(q=q.next,q===null){if(q=p.shared.pending,q===null)break;be=q,q=be.next,be.next=null,p.lastBaseUpdate=be,p.shared.pending=null}}while(!0);we===null&&(J=Ee),p.baseState=J,p.firstBaseUpdate=he,p.lastBaseUpdate=we,b===null&&(p.shared.lanes=0),Zi|=N,e.lanes=N,e.memoizedState=Ee}}function Tm(e,r){if(typeof e!="function")throw Error(i(191,e));e.call(r)}function Om(e,r){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Tm(a[e],r)}var Ia=m(null),hl=m(0);function Nm(e,r){e=mi,y(hl,e),y(Ia,r),mi=e|r.baseLanes}function Qf(){y(hl,mi),y(Ia,Ia.current)}function Jf(){mi=hl.current,f(Ia),f(hl)}var Jn=m(null),mr=null;function Vi(e){var r=e.alternate;y(un,un.current&1),y(Jn,e),mr===null&&(r===null||Ia.current!==null||r.memoizedState!==null)&&(mr=e)}function ed(e){y(un,un.current),y(Jn,e),mr===null&&(mr=e)}function km(e){e.tag===22?(y(un,un.current),y(Jn,e),mr===null&&(mr=e)):Gi()}function Gi(){y(un,un.current),y(Jn,Jn.current)}function er(e){f(Jn),mr===e&&(mr=null),f(un)}var un=m(0);function pl(e){for(var r=e;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||ah(a)||oh(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var oi=0,et=null,Ot=null,yn=null,ml=!1,Ca=!1,Ls=!1,yl=0,Ko=0,Ba=null,ZS=0;function an(){throw Error(i(321))}function td(e,r){if(r===null)return!1;for(var a=0;a<r.length&&a<e.length;a++)if(!$n(e[a],r[a]))return!1;return!0}function nd(e,r,a,l,p,b){return oi=b,et=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,A.H=e===null||e.memoizedState===null?hy:gd,Ls=!1,b=a(l,p),Ls=!1,Ca&&(b=Cm(r,a,l,p)),Im(e),b}function Im(e){A.H=Fo;var r=Ot!==null&&Ot.next!==null;if(oi=0,yn=Ot=et=null,ml=!1,Ko=0,Ba=null,r)throw Error(i(300));e===null||gn||(e=e.dependencies,e!==null&&al(e)&&(gn=!0))}function Cm(e,r,a,l){et=e;var p=0;do{if(Ca&&(Ba=null),Ko=0,Ca=!1,25<=p)throw Error(i(301));if(p+=1,yn=Ot=null,e.updateQueue!=null){var b=e.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}A.H=py,b=r(a,l)}while(Ca);return b}function XS(){var e=A.H,r=e.useState()[0];return r=typeof r.then=="function"?Vo(r):r,e=e.useState()[0],(Ot!==null?Ot.memoizedState:null)!==e&&(et.flags|=1024),r}function rd(){var e=yl!==0;return yl=0,e}function id(e,r,a){r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~a}function sd(e){if(ml){for(e=e.memoizedState;e!==null;){var r=e.queue;r!==null&&(r.pending=null),e=e.next}ml=!1}oi=0,yn=Ot=et=null,Ca=!1,Ko=yl=0,Ba=null}function Hn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yn===null?et.memoizedState=yn=e:yn=yn.next=e,yn}function fn(){if(Ot===null){var e=et.alternate;e=e!==null?e.memoizedState:null}else e=Ot.next;var r=yn===null?et.memoizedState:yn.next;if(r!==null)yn=r,Ot=e;else{if(e===null)throw et.alternate===null?Error(i(467)):Error(i(310));Ot=e,e={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},yn===null?et.memoizedState=yn=e:yn=yn.next=e}return yn}function gl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vo(e){var r=Ko;return Ko+=1,Ba===null&&(Ba=[]),e=Em(Ba,e,r),r=et,(yn===null?r.memoizedState:yn.next)===null&&(r=r.alternate,A.H=r===null||r.memoizedState===null?hy:gd),e}function bl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Vo(e);if(e.$$typeof===V)return Tn(e)}throw Error(i(438,String(e)))}function ad(e){var r=null,a=et.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=et.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(p){return p.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=gl(),et.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(e),l=0;l<e;l++)a[l]=Y;return r.index++,a}function ci(e,r){return typeof r=="function"?r(e):r}function wl(e){var r=fn();return od(r,Ot,e)}function od(e,r,a){var l=e.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=a;var p=e.baseQueue,b=l.pending;if(b!==null){if(p!==null){var N=p.next;p.next=b.next,b.next=N}r.baseQueue=p=b,l.pending=null}if(b=e.baseState,p===null)e.memoizedState=b;else{r=p.next;var q=N=null,J=null,he=r,we=!1;do{var Ee=he.lane&-536870913;if(Ee!==he.lane?(lt&Ee)===Ee:(oi&Ee)===Ee){var ye=he.revertLane;if(ye===0)J!==null&&(J=J.next={lane:0,revertLane:0,gesture:null,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),Ee===Ta&&(we=!0);else if((oi&ye)===ye){he=he.next,ye===Ta&&(we=!0);continue}else Ee={lane:0,revertLane:he.revertLane,gesture:null,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},J===null?(q=J=Ee,N=b):J=J.next=Ee,et.lanes|=ye,Zi|=ye;Ee=he.action,Ls&&a(b,Ee),b=he.hasEagerState?he.eagerState:a(b,Ee)}else ye={lane:Ee,revertLane:he.revertLane,gesture:he.gesture,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},J===null?(q=J=ye,N=b):J=J.next=ye,et.lanes|=Ee,Zi|=Ee;he=he.next}while(he!==null&&he!==r);if(J===null?N=b:J.next=q,!$n(b,e.memoizedState)&&(gn=!0,we&&(a=Oa,a!==null)))throw a;e.memoizedState=b,e.baseState=N,e.baseQueue=J,l.lastRenderedState=b}return p===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function cd(e){var r=fn(),a=r.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=e;var l=a.dispatch,p=a.pending,b=r.memoizedState;if(p!==null){a.pending=null;var N=p=p.next;do b=e(b,N.action),N=N.next;while(N!==p);$n(b,r.memoizedState)||(gn=!0),r.memoizedState=b,r.baseQueue===null&&(r.baseState=b),a.lastRenderedState=b}return[b,l]}function Bm(e,r,a){var l=et,p=fn(),b=dt;if(b){if(a===void 0)throw Error(i(407));a=a()}else a=r();var N=!$n((Ot||p).memoizedState,a);if(N&&(p.memoizedState=a,gn=!0),p=p.queue,fd(Dm.bind(null,l,p,e),[e]),p.getSnapshot!==r||N||yn!==null&&yn.memoizedState.tag&1){if(l.flags|=2048,Ma(9,{destroy:void 0},Um.bind(null,l,p,a,r),null),Bt===null)throw Error(i(349));b||(oi&127)!==0||Mm(l,r,a)}return a}function Mm(e,r,a){e.flags|=16384,e={getSnapshot:r,value:a},r=et.updateQueue,r===null?(r=gl(),et.updateQueue=r,r.stores=[e]):(a=r.stores,a===null?r.stores=[e]:a.push(e))}function Um(e,r,a,l){r.value=a,r.getSnapshot=l,Lm(r)&&zm(e)}function Dm(e,r,a){return a(function(){Lm(r)&&zm(e)})}function Lm(e){var r=e.getSnapshot;e=e.value;try{var a=r();return!$n(e,a)}catch{return!0}}function zm(e){var r=Os(e,2);r!==null&&Fn(r,e,2)}function ld(e){var r=Hn();if(typeof e=="function"){var a=e;if(e=a(),Ls){Pe(!0);try{a()}finally{Pe(!1)}}}return r.memoizedState=r.baseState=e,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:e},r}function Hm(e,r,a,l){return e.baseState=a,od(e,Ot,typeof l=="function"?l:ci)}function WS(e,r,a,l,p){if(El(e))throw Error(i(485));if(e=r.action,e!==null){var b={payload:p,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){b.listeners.push(N)}};A.T!==null?a(!0):b.isTransition=!1,l(b),a=r.pending,a===null?(b.next=r.pending=b,jm(r,b)):(b.next=a.next,r.pending=a.next=b)}}function jm(e,r){var a=r.action,l=r.payload,p=e.state;if(r.isTransition){var b=A.T,N={};A.T=N;try{var q=a(p,l),J=A.S;J!==null&&J(N,q),Pm(e,r,q)}catch(he){ud(e,r,he)}finally{b!==null&&N.types!==null&&(b.types=N.types),A.T=b}}else try{b=a(p,l),Pm(e,r,b)}catch(he){ud(e,r,he)}}function Pm(e,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){qm(e,r,l)},function(l){return ud(e,r,l)}):qm(e,r,a)}function qm(e,r,a){r.status="fulfilled",r.value=a,Km(r),e.state=a,r=e.pending,r!==null&&(a=r.next,a===r?e.pending=null:(a=a.next,r.next=a,jm(e,a)))}function ud(e,r,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Km(r),r=r.next;while(r!==l)}e.action=null}function Km(e){e=e.listeners;for(var r=0;r<e.length;r++)(0,e[r])()}function Vm(e,r){return r}function Gm(e,r){if(dt){var a=Bt.formState;if(a!==null){e:{var l=et;if(dt){if(jt){t:{for(var p=jt,b=pr;p.nodeType!==8;){if(!b){p=null;break t}if(p=yr(p.nextSibling),p===null){p=null;break t}}b=p.data,p=b==="F!"||b==="F"?p:null}if(p){jt=yr(p.nextSibling),l=p.data==="F!";break e}}Hi(l)}l=!1}l&&(r=a[0])}}return a=Hn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vm,lastRenderedState:r},a.queue=l,a=uy.bind(null,et,l),l.dispatch=a,l=ld(!1),b=yd.bind(null,et,!1,l.queue),l=Hn(),p={state:r,dispatch:null,action:e,pending:null},l.queue=p,a=WS.bind(null,et,p,b,a),p.dispatch=a,l.memoizedState=e,[r,a,!1]}function Fm(e){var r=fn();return Ym(r,Ot,e)}function Ym(e,r,a){if(r=od(e,r,Vm)[0],e=wl(ci)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Vo(r)}catch(N){throw N===Na?ll:N}else l=r;r=fn();var p=r.queue,b=p.dispatch;return a!==r.memoizedState&&(et.flags|=2048,Ma(9,{destroy:void 0},$S.bind(null,p,a),null)),[l,b,e]}function $S(e,r){e.action=r}function Zm(e){var r=fn(),a=Ot;if(a!==null)return Ym(r,a,e);fn(),r=r.memoizedState,a=fn();var l=a.queue.dispatch;return a.memoizedState=e,[r,l,!1]}function Ma(e,r,a,l){return e={tag:e,create:a,deps:l,inst:r,next:null},r=et.updateQueue,r===null&&(r=gl(),et.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,r.lastEffect=e),e}function Xm(){return fn().memoizedState}function _l(e,r,a,l){var p=Hn();et.flags|=e,p.memoizedState=Ma(1|r,{destroy:void 0},a,l===void 0?null:l)}function vl(e,r,a,l){var p=fn();l=l===void 0?null:l;var b=p.memoizedState.inst;Ot!==null&&l!==null&&td(l,Ot.memoizedState.deps)?p.memoizedState=Ma(r,b,a,l):(et.flags|=e,p.memoizedState=Ma(1|r,b,a,l))}function Wm(e,r){_l(8390656,8,e,r)}function fd(e,r){vl(2048,8,e,r)}function QS(e){et.flags|=4;var r=et.updateQueue;if(r===null)r=gl(),et.updateQueue=r,r.events=[e];else{var a=r.events;a===null?r.events=[e]:a.push(e)}}function $m(e){var r=fn().memoizedState;return QS({ref:r,nextImpl:e}),function(){if((vt&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function Qm(e,r){return vl(4,2,e,r)}function Jm(e,r){return vl(4,4,e,r)}function ey(e,r){if(typeof r=="function"){e=e();var a=r(e);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function ty(e,r,a){a=a!=null?a.concat([e]):null,vl(4,4,ey.bind(null,r,e),a)}function dd(){}function ny(e,r){var a=fn();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&td(r,l[1])?l[0]:(a.memoizedState=[e,r],e)}function ry(e,r){var a=fn();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&td(r,l[1]))return l[0];if(l=e(),Ls){Pe(!0);try{e()}finally{Pe(!1)}}return a.memoizedState=[l,r],l}function hd(e,r,a){return a===void 0||(oi&1073741824)!==0&&(lt&261930)===0?e.memoizedState=r:(e.memoizedState=a,e=i1(),et.lanes|=e,Zi|=e,a)}function iy(e,r,a,l){return $n(a,r)?a:Ia.current!==null?(e=hd(e,a,l),$n(e,r)||(gn=!0),e):(oi&42)===0||(oi&1073741824)!==0&&(lt&261930)===0?(gn=!0,e.memoizedState=a):(e=i1(),et.lanes|=e,Zi|=e,r)}function sy(e,r,a,l,p){var b=C.p;C.p=b!==0&&8>b?b:8;var N=A.T,q={};A.T=q,yd(e,!1,r,a);try{var J=p(),he=A.S;if(he!==null&&he(q,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var we=YS(J,l);Go(e,r,we,rr(e))}else Go(e,r,l,rr(e))}catch(Ee){Go(e,r,{then:function(){},status:"rejected",reason:Ee},rr())}finally{C.p=b,N!==null&&q.types!==null&&(N.types=q.types),A.T=N}}function JS(){}function pd(e,r,a,l){if(e.tag!==5)throw Error(i(476));var p=ay(e).queue;sy(e,p,r,L,a===null?JS:function(){return oy(e),a(l)})}function ay(e){var r=e.memoizedState;if(r!==null)return r;r={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:L},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:a},next:null},e.memoizedState=r,e=e.alternate,e!==null&&(e.memoizedState=r),r}function oy(e){var r=ay(e);r.next===null&&(r=e.alternate.memoizedState),Go(e,r.next.queue,{},rr())}function md(){return Tn(cc)}function cy(){return fn().memoizedState}function ly(){return fn().memoizedState}function eA(e){for(var r=e.return;r!==null;){switch(r.tag){case 24:case 3:var a=rr();e=qi(a);var l=Ki(r,e,a);l!==null&&(Fn(l,r,a),jo(l,r,a)),r={cache:Vf()},e.payload=r;return}r=r.return}}function tA(e,r,a){var l=rr();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},El(e)?fy(r,a):(a=Bf(e,r,a,l),a!==null&&(Fn(a,e,l),dy(a,r,l)))}function uy(e,r,a){var l=rr();Go(e,r,a,l)}function Go(e,r,a,l){var p={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(El(e))fy(r,p);else{var b=e.alternate;if(e.lanes===0&&(b===null||b.lanes===0)&&(b=r.lastRenderedReducer,b!==null))try{var N=r.lastRenderedState,q=b(N,a);if(p.hasEagerState=!0,p.eagerState=q,$n(q,N))return nl(e,r,p,0),Bt===null&&tl(),!1}catch{}if(a=Bf(e,r,p,l),a!==null)return Fn(a,e,l),dy(a,r,l),!0}return!1}function yd(e,r,a,l){if(l={lane:2,revertLane:Zd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},El(e)){if(r)throw Error(i(479))}else r=Bf(e,a,l,2),r!==null&&Fn(r,e,2)}function El(e){var r=e.alternate;return e===et||r!==null&&r===et}function fy(e,r){Ca=ml=!0;var a=e.pending;a===null?r.next=r:(r.next=a.next,a.next=r),e.pending=r}function dy(e,r,a){if((a&4194048)!==0){var l=r.lanes;l&=e.pendingLanes,a|=l,r.lanes=a,vo(e,a)}}var Fo={readContext:Tn,use:bl,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useLayoutEffect:an,useInsertionEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useSyncExternalStore:an,useId:an,useHostTransitionStatus:an,useFormState:an,useActionState:an,useOptimistic:an,useMemoCache:an,useCacheRefresh:an};Fo.useEffectEvent=an;var hy={readContext:Tn,use:bl,useCallback:function(e,r){return Hn().memoizedState=[e,r===void 0?null:r],e},useContext:Tn,useEffect:Wm,useImperativeHandle:function(e,r,a){a=a!=null?a.concat([e]):null,_l(4194308,4,ey.bind(null,r,e),a)},useLayoutEffect:function(e,r){return _l(4194308,4,e,r)},useInsertionEffect:function(e,r){_l(4,2,e,r)},useMemo:function(e,r){var a=Hn();r=r===void 0?null:r;var l=e();if(Ls){Pe(!0);try{e()}finally{Pe(!1)}}return a.memoizedState=[l,r],l},useReducer:function(e,r,a){var l=Hn();if(a!==void 0){var p=a(r);if(Ls){Pe(!0);try{a(r)}finally{Pe(!1)}}}else p=r;return l.memoizedState=l.baseState=p,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:p},l.queue=e,e=e.dispatch=tA.bind(null,et,e),[l.memoizedState,e]},useRef:function(e){var r=Hn();return e={current:e},r.memoizedState=e},useState:function(e){e=ld(e);var r=e.queue,a=uy.bind(null,et,r);return r.dispatch=a,[e.memoizedState,a]},useDebugValue:dd,useDeferredValue:function(e,r){var a=Hn();return hd(a,e,r)},useTransition:function(){var e=ld(!1);return e=sy.bind(null,et,e.queue,!0,!1),Hn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,r,a){var l=et,p=Hn();if(dt){if(a===void 0)throw Error(i(407));a=a()}else{if(a=r(),Bt===null)throw Error(i(349));(lt&127)!==0||Mm(l,r,a)}p.memoizedState=a;var b={value:a,getSnapshot:r};return p.queue=b,Wm(Dm.bind(null,l,b,e),[e]),l.flags|=2048,Ma(9,{destroy:void 0},Um.bind(null,l,b,a,r),null),a},useId:function(){var e=Hn(),r=Bt.identifierPrefix;if(dt){var a=Lr,l=Dr;a=(l&~(1<<32-Ue(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=yl++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=ZS++,r="_"+r+"r_"+a.toString(32)+"_";return e.memoizedState=r},useHostTransitionStatus:md,useFormState:Gm,useActionState:Gm,useOptimistic:function(e){var r=Hn();r.memoizedState=r.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=yd.bind(null,et,!0,a),a.dispatch=r,[e,r]},useMemoCache:ad,useCacheRefresh:function(){return Hn().memoizedState=eA.bind(null,et)},useEffectEvent:function(e){var r=Hn(),a={impl:e};return r.memoizedState=a,function(){if((vt&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},gd={readContext:Tn,use:bl,useCallback:ny,useContext:Tn,useEffect:fd,useImperativeHandle:ty,useInsertionEffect:Qm,useLayoutEffect:Jm,useMemo:ry,useReducer:wl,useRef:Xm,useState:function(){return wl(ci)},useDebugValue:dd,useDeferredValue:function(e,r){var a=fn();return iy(a,Ot.memoizedState,e,r)},useTransition:function(){var e=wl(ci)[0],r=fn().memoizedState;return[typeof e=="boolean"?e:Vo(e),r]},useSyncExternalStore:Bm,useId:cy,useHostTransitionStatus:md,useFormState:Fm,useActionState:Fm,useOptimistic:function(e,r){var a=fn();return Hm(a,Ot,e,r)},useMemoCache:ad,useCacheRefresh:ly};gd.useEffectEvent=$m;var py={readContext:Tn,use:bl,useCallback:ny,useContext:Tn,useEffect:fd,useImperativeHandle:ty,useInsertionEffect:Qm,useLayoutEffect:Jm,useMemo:ry,useReducer:cd,useRef:Xm,useState:function(){return cd(ci)},useDebugValue:dd,useDeferredValue:function(e,r){var a=fn();return Ot===null?hd(a,e,r):iy(a,Ot.memoizedState,e,r)},useTransition:function(){var e=cd(ci)[0],r=fn().memoizedState;return[typeof e=="boolean"?e:Vo(e),r]},useSyncExternalStore:Bm,useId:cy,useHostTransitionStatus:md,useFormState:Zm,useActionState:Zm,useOptimistic:function(e,r){var a=fn();return Ot!==null?Hm(a,Ot,e,r):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:ad,useCacheRefresh:ly};py.useEffectEvent=$m;function bd(e,r,a,l){r=e.memoizedState,a=a(l,r),a=a==null?r:I({},r,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var wd={enqueueSetState:function(e,r,a){e=e._reactInternals;var l=rr(),p=qi(l);p.payload=r,a!=null&&(p.callback=a),r=Ki(e,p,l),r!==null&&(Fn(r,e,l),jo(r,e,l))},enqueueReplaceState:function(e,r,a){e=e._reactInternals;var l=rr(),p=qi(l);p.tag=1,p.payload=r,a!=null&&(p.callback=a),r=Ki(e,p,l),r!==null&&(Fn(r,e,l),jo(r,e,l))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var a=rr(),l=qi(a);l.tag=2,r!=null&&(l.callback=r),r=Ki(e,l,a),r!==null&&(Fn(r,e,a),jo(r,e,a))}};function my(e,r,a,l,p,b,N){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,b,N):r.prototype&&r.prototype.isPureReactComponent?!Co(a,l)||!Co(p,b):!0}function yy(e,r,a,l){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==e&&wd.enqueueReplaceState(r,r.state,null)}function zs(e,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(e=e.defaultProps){a===r&&(a=I({},a));for(var p in e)a[p]===void 0&&(a[p]=e[p])}return a}function gy(e){el(e)}function by(e){console.error(e)}function wy(e){el(e)}function Sl(e,r){try{var a=e.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function _y(e,r,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function _d(e,r,a){return a=qi(a),a.tag=3,a.payload={element:null},a.callback=function(){Sl(e,r)},a}function vy(e){return e=qi(e),e.tag=3,e}function Ey(e,r,a,l){var p=a.type.getDerivedStateFromError;if(typeof p=="function"){var b=l.value;e.payload=function(){return p(b)},e.callback=function(){_y(r,a,l)}}var N=a.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(e.callback=function(){_y(r,a,l),typeof p!="function"&&(Xi===null?Xi=new Set([this]):Xi.add(this));var q=l.stack;this.componentDidCatch(l.value,{componentStack:q!==null?q:""})})}function nA(e,r,a,l,p){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&xa(r,a,p,!0),a=Jn.current,a!==null){switch(a.tag){case 31:case 13:return mr===null?Ul():a.alternate===null&&on===0&&(on=3),a.flags&=-257,a.flags|=65536,a.lanes=p,l===ul?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Gd(e,l,p)),!1;case 22:return a.flags|=65536,l===ul?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Gd(e,l,p)),!1}throw Error(i(435,a.tag))}return Gd(e,l,p),Ul(),!1}if(dt)return r=Jn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=p,l!==Hf&&(e=Error(i(422),{cause:l}),Uo(fr(e,a)))):(l!==Hf&&(r=Error(i(423),{cause:l}),Uo(fr(r,a))),e=e.current.alternate,e.flags|=65536,p&=-p,e.lanes|=p,l=fr(l,a),p=_d(e.stateNode,l,p),Wf(e,p),on!==4&&(on=2)),!1;var b=Error(i(520),{cause:l});if(b=fr(b,a),ec===null?ec=[b]:ec.push(b),on!==4&&(on=2),r===null)return!0;l=fr(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,e=p&-p,a.lanes|=e,e=_d(a.stateNode,l,e),Wf(a,e),!1;case 1:if(r=a.type,b=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Xi===null||!Xi.has(b))))return a.flags|=65536,p&=-p,a.lanes|=p,p=vy(p),Ey(p,e,a,l),Wf(a,p),!1}a=a.return}while(a!==null);return!1}var vd=Error(i(461)),gn=!1;function On(e,r,a,l){r.child=e===null?xm(r,null,a,l):Ds(r,e.child,a,l)}function Sy(e,r,a,l,p){a=a.render;var b=r.ref;if("ref"in l){var N={};for(var q in l)q!=="ref"&&(N[q]=l[q])}else N=l;return Cs(r),l=nd(e,r,a,N,b,p),q=rd(),e!==null&&!gn?(id(e,r,p),li(e,r,p)):(dt&&q&&Lf(r),r.flags|=1,On(e,r,l,p),r.child)}function Ay(e,r,a,l,p){if(e===null){var b=a.type;return typeof b=="function"&&!Mf(b)&&b.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=b,Ry(e,r,b,l,p)):(e=il(a.type,null,l,r,r.mode,p),e.ref=r.ref,e.return=r,r.child=e)}if(b=e.child,!Nd(e,p)){var N=b.memoizedProps;if(a=a.compare,a=a!==null?a:Co,a(N,l)&&e.ref===r.ref)return li(e,r,p)}return r.flags|=1,e=ri(b,l),e.ref=r.ref,e.return=r,r.child=e}function Ry(e,r,a,l,p){if(e!==null){var b=e.memoizedProps;if(Co(b,l)&&e.ref===r.ref)if(gn=!1,r.pendingProps=l=b,Nd(e,p))(e.flags&131072)!==0&&(gn=!0);else return r.lanes=e.lanes,li(e,r,p)}return Ed(e,r,a,l,p)}function xy(e,r,a,l){var p=l.children,b=e!==null?e.memoizedState:null;if(e===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(b=b!==null?b.baseLanes|a:a,e!==null){for(l=r.child=e.child,p=0;l!==null;)p=p|l.lanes|l.childLanes,l=l.sibling;l=p&~b}else l=0,r.child=null;return Ty(e,r,b,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},e!==null&&cl(r,b!==null?b.cachePool:null),b!==null?Nm(r,b):Qf(),km(r);else return l=r.lanes=536870912,Ty(e,r,b!==null?b.baseLanes|a:a,a,l)}else b!==null?(cl(r,b.cachePool),Nm(r,b),Gi(),r.memoizedState=null):(e!==null&&cl(r,null),Qf(),Gi());return On(e,r,p,a),r.child}function Yo(e,r){return e!==null&&e.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Ty(e,r,a,l,p){var b=Ff();return b=b===null?null:{parent:mn._currentValue,pool:b},r.memoizedState={baseLanes:a,cachePool:b},e!==null&&cl(r,null),Qf(),km(r),e!==null&&xa(e,r,l,!0),r.childLanes=p,null}function Al(e,r){return r=xl({mode:r.mode,children:r.children},e.mode),r.ref=e.ref,e.child=r,r.return=e,r}function Oy(e,r,a){return Ds(r,e.child,null,a),e=Al(r,r.pendingProps),e.flags|=2,er(r),r.memoizedState=null,e}function rA(e,r,a){var l=r.pendingProps,p=(r.flags&128)!==0;if(r.flags&=-129,e===null){if(dt){if(l.mode==="hidden")return e=Al(r,l),r.lanes=536870912,Yo(null,e);if(ed(r),(e=jt)?(e=j1(e,pr),e=e!==null&&e.data==="&"?e:null,e!==null&&(r.memoizedState={dehydrated:e,treeContext:Li!==null?{id:Dr,overflow:Lr}:null,retryLane:536870912,hydrationErrors:null},a=fm(e),a.return=r,r.child=a,xn=r,jt=null)):e=null,e===null)throw Hi(r);return r.lanes=536870912,null}return Al(r,l)}var b=e.memoizedState;if(b!==null){var N=b.dehydrated;if(ed(r),p)if(r.flags&256)r.flags&=-257,r=Oy(e,r,a);else if(r.memoizedState!==null)r.child=e.child,r.flags|=128,r=null;else throw Error(i(558));else if(gn||xa(e,r,a,!1),p=(a&e.childLanes)!==0,gn||p){if(l=Bt,l!==null&&(N=Wt(l,a),N!==0&&N!==b.retryLane))throw b.retryLane=N,Os(e,N),Fn(l,e,N),vd;Ul(),r=Oy(e,r,a)}else e=b.treeContext,jt=yr(N.nextSibling),xn=r,dt=!0,zi=null,pr=!1,e!==null&&pm(r,e),r=Al(r,l),r.flags|=4096;return r}return e=ri(e.child,{mode:l.mode,children:l.children}),e.ref=r.ref,r.child=e,e.return=r,e}function Rl(e,r){var a=r.ref;if(a===null)e!==null&&e.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(e===null||e.ref!==a)&&(r.flags|=4194816)}}function Ed(e,r,a,l,p){return Cs(r),a=nd(e,r,a,l,void 0,p),l=rd(),e!==null&&!gn?(id(e,r,p),li(e,r,p)):(dt&&l&&Lf(r),r.flags|=1,On(e,r,a,p),r.child)}function Ny(e,r,a,l,p,b){return Cs(r),r.updateQueue=null,a=Cm(r,l,a,p),Im(e),l=rd(),e!==null&&!gn?(id(e,r,b),li(e,r,b)):(dt&&l&&Lf(r),r.flags|=1,On(e,r,a,b),r.child)}function ky(e,r,a,l,p){if(Cs(r),r.stateNode===null){var b=Ea,N=a.contextType;typeof N=="object"&&N!==null&&(b=Tn(N)),b=new a(l,b),r.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=wd,r.stateNode=b,b._reactInternals=r,b=r.stateNode,b.props=l,b.state=r.memoizedState,b.refs={},Zf(r),N=a.contextType,b.context=typeof N=="object"&&N!==null?Tn(N):Ea,b.state=r.memoizedState,N=a.getDerivedStateFromProps,typeof N=="function"&&(bd(r,a,N,l),b.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(N=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),N!==b.state&&wd.enqueueReplaceState(b,b.state,null),qo(r,l,b,p),Po(),b.state=r.memoizedState),typeof b.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(e===null){b=r.stateNode;var q=r.memoizedProps,J=zs(a,q);b.props=J;var he=b.context,we=a.contextType;N=Ea,typeof we=="object"&&we!==null&&(N=Tn(we));var Ee=a.getDerivedStateFromProps;we=typeof Ee=="function"||typeof b.getSnapshotBeforeUpdate=="function",q=r.pendingProps!==q,we||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(q||he!==N)&&yy(r,b,l,N),Pi=!1;var ye=r.memoizedState;b.state=ye,qo(r,l,b,p),Po(),he=r.memoizedState,q||ye!==he||Pi?(typeof Ee=="function"&&(bd(r,a,Ee,l),he=r.memoizedState),(J=Pi||my(r,a,J,l,ye,he,N))?(we||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(r.flags|=4194308)):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=he),b.props=l,b.state=he,b.context=N,l=J):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{b=r.stateNode,Xf(e,r),N=r.memoizedProps,we=zs(a,N),b.props=we,Ee=r.pendingProps,ye=b.context,he=a.contextType,J=Ea,typeof he=="object"&&he!==null&&(J=Tn(he)),q=a.getDerivedStateFromProps,(he=typeof q=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(N!==Ee||ye!==J)&&yy(r,b,l,J),Pi=!1,ye=r.memoizedState,b.state=ye,qo(r,l,b,p),Po();var be=r.memoizedState;N!==Ee||ye!==be||Pi||e!==null&&e.dependencies!==null&&al(e.dependencies)?(typeof q=="function"&&(bd(r,a,q,l),be=r.memoizedState),(we=Pi||my(r,a,we,l,ye,be,J)||e!==null&&e.dependencies!==null&&al(e.dependencies))?(he||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(l,be,J),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(l,be,J)),typeof b.componentDidUpdate=="function"&&(r.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof b.componentDidUpdate!="function"||N===e.memoizedProps&&ye===e.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&ye===e.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=be),b.props=l,b.state=be,b.context=J,l=we):(typeof b.componentDidUpdate!="function"||N===e.memoizedProps&&ye===e.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&ye===e.memoizedState||(r.flags|=1024),l=!1)}return b=l,Rl(e,r),l=(r.flags&128)!==0,b||l?(b=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:b.render(),r.flags|=1,e!==null&&l?(r.child=Ds(r,e.child,null,p),r.child=Ds(r,null,a,p)):On(e,r,a,p),r.memoizedState=b.state,e=r.child):e=li(e,r,p),e}function Iy(e,r,a,l){return ks(),r.flags|=256,On(e,r,a,l),r.child}var Sd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ad(e){return{baseLanes:e,cachePool:_m()}}function Rd(e,r,a){return e=e!==null?e.childLanes&~a:0,r&&(e|=nr),e}function Cy(e,r,a){var l=r.pendingProps,p=!1,b=(r.flags&128)!==0,N;if((N=b)||(N=e!==null&&e.memoizedState===null?!1:(un.current&2)!==0),N&&(p=!0,r.flags&=-129),N=(r.flags&32)!==0,r.flags&=-33,e===null){if(dt){if(p?Vi(r):Gi(),(e=jt)?(e=j1(e,pr),e=e!==null&&e.data!=="&"?e:null,e!==null&&(r.memoizedState={dehydrated:e,treeContext:Li!==null?{id:Dr,overflow:Lr}:null,retryLane:536870912,hydrationErrors:null},a=fm(e),a.return=r,r.child=a,xn=r,jt=null)):e=null,e===null)throw Hi(r);return oh(e)?r.lanes=32:r.lanes=536870912,null}var q=l.children;return l=l.fallback,p?(Gi(),p=r.mode,q=xl({mode:"hidden",children:q},p),l=Ns(l,p,a,null),q.return=r,l.return=r,q.sibling=l,r.child=q,l=r.child,l.memoizedState=Ad(a),l.childLanes=Rd(e,N,a),r.memoizedState=Sd,Yo(null,l)):(Vi(r),xd(r,q))}var J=e.memoizedState;if(J!==null&&(q=J.dehydrated,q!==null)){if(b)r.flags&256?(Vi(r),r.flags&=-257,r=Td(e,r,a)):r.memoizedState!==null?(Gi(),r.child=e.child,r.flags|=128,r=null):(Gi(),q=l.fallback,p=r.mode,l=xl({mode:"visible",children:l.children},p),q=Ns(q,p,a,null),q.flags|=2,l.return=r,q.return=r,l.sibling=q,r.child=l,Ds(r,e.child,null,a),l=r.child,l.memoizedState=Ad(a),l.childLanes=Rd(e,N,a),r.memoizedState=Sd,r=Yo(null,l));else if(Vi(r),oh(q)){if(N=q.nextSibling&&q.nextSibling.dataset,N)var he=N.dgst;N=he,l=Error(i(419)),l.stack="",l.digest=N,Uo({value:l,source:null,stack:null}),r=Td(e,r,a)}else if(gn||xa(e,r,a,!1),N=(a&e.childLanes)!==0,gn||N){if(N=Bt,N!==null&&(l=Wt(N,a),l!==0&&l!==J.retryLane))throw J.retryLane=l,Os(e,l),Fn(N,e,l),vd;ah(q)||Ul(),r=Td(e,r,a)}else ah(q)?(r.flags|=192,r.child=e.child,r=null):(e=J.treeContext,jt=yr(q.nextSibling),xn=r,dt=!0,zi=null,pr=!1,e!==null&&pm(r,e),r=xd(r,l.children),r.flags|=4096);return r}return p?(Gi(),q=l.fallback,p=r.mode,J=e.child,he=J.sibling,l=ri(J,{mode:"hidden",children:l.children}),l.subtreeFlags=J.subtreeFlags&65011712,he!==null?q=ri(he,q):(q=Ns(q,p,a,null),q.flags|=2),q.return=r,l.return=r,l.sibling=q,r.child=l,Yo(null,l),l=r.child,q=e.child.memoizedState,q===null?q=Ad(a):(p=q.cachePool,p!==null?(J=mn._currentValue,p=p.parent!==J?{parent:J,pool:J}:p):p=_m(),q={baseLanes:q.baseLanes|a,cachePool:p}),l.memoizedState=q,l.childLanes=Rd(e,N,a),r.memoizedState=Sd,Yo(e.child,l)):(Vi(r),a=e.child,e=a.sibling,a=ri(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,e!==null&&(N=r.deletions,N===null?(r.deletions=[e],r.flags|=16):N.push(e)),r.child=a,r.memoizedState=null,a)}function xd(e,r){return r=xl({mode:"visible",children:r},e.mode),r.return=e,e.child=r}function xl(e,r){return e=Qn(22,e,null,r),e.lanes=0,e}function Td(e,r,a){return Ds(r,e.child,null,a),e=xd(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function By(e,r,a){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r),qf(e.return,r,a)}function Od(e,r,a,l,p,b){var N=e.memoizedState;N===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:p,treeForkCount:b}:(N.isBackwards=r,N.rendering=null,N.renderingStartTime=0,N.last=l,N.tail=a,N.tailMode=p,N.treeForkCount=b)}function My(e,r,a){var l=r.pendingProps,p=l.revealOrder,b=l.tail;l=l.children;var N=un.current,q=(N&2)!==0;if(q?(N=N&1|2,r.flags|=128):N&=1,y(un,N),On(e,r,l,a),l=dt?Mo:0,!q&&e!==null&&(e.flags&128)!==0)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&By(e,a,r);else if(e.tag===19)By(e,a,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(p){case"forwards":for(a=r.child,p=null;a!==null;)e=a.alternate,e!==null&&pl(e)===null&&(p=a),a=a.sibling;a=p,a===null?(p=r.child,r.child=null):(p=a.sibling,a.sibling=null),Od(r,!1,p,a,b,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,p=r.child,r.child=null;p!==null;){if(e=p.alternate,e!==null&&pl(e)===null){r.child=p;break}e=p.sibling,p.sibling=a,a=p,p=e}Od(r,!0,a,null,b,l);break;case"together":Od(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function li(e,r,a){if(e!==null&&(r.dependencies=e.dependencies),Zi|=r.lanes,(a&r.childLanes)===0)if(e!==null){if(xa(e,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(e!==null&&r.child!==e.child)throw Error(i(153));if(r.child!==null){for(e=r.child,a=ri(e,e.pendingProps),r.child=a,a.return=r;e.sibling!==null;)e=e.sibling,a=a.sibling=ri(e,e.pendingProps),a.return=r;a.sibling=null}return r.child}function Nd(e,r){return(e.lanes&r)!==0?!0:(e=e.dependencies,!!(e!==null&&al(e)))}function iA(e,r,a){switch(r.tag){case 3:re(r,r.stateNode.containerInfo),ji(r,mn,e.memoizedState.cache),ks();break;case 27:case 5:Ae(r);break;case 4:re(r,r.stateNode.containerInfo);break;case 10:ji(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,ed(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Vi(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Cy(e,r,a):(Vi(r),e=li(e,r,a),e!==null?e.sibling:null);Vi(r);break;case 19:var p=(e.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(xa(e,r,a,!1),l=(a&r.childLanes)!==0),p){if(l)return My(e,r,a);r.flags|=128}if(p=r.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),y(un,un.current),l)break;return null;case 22:return r.lanes=0,xy(e,r,a,r.pendingProps);case 24:ji(r,mn,e.memoizedState.cache)}return li(e,r,a)}function Uy(e,r,a){if(e!==null)if(e.memoizedProps!==r.pendingProps)gn=!0;else{if(!Nd(e,a)&&(r.flags&128)===0)return gn=!1,iA(e,r,a);gn=(e.flags&131072)!==0}else gn=!1,dt&&(r.flags&1048576)!==0&&hm(r,Mo,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(e=Ms(r.elementType),r.type=e,typeof e=="function")Mf(e)?(l=zs(e,l),r.tag=1,r=ky(null,r,e,l,a)):(r.tag=0,r=Ed(null,r,e,l,a));else{if(e!=null){var p=e.$$typeof;if(p===$){r.tag=11,r=Sy(null,r,e,l,a);break e}else if(p===ie){r.tag=14,r=Ay(null,r,e,l,a);break e}}throw r=h(e)||e,Error(i(306,r,""))}}return r;case 0:return Ed(e,r,r.type,r.pendingProps,a);case 1:return l=r.type,p=zs(l,r.pendingProps),ky(e,r,l,p,a);case 3:e:{if(re(r,r.stateNode.containerInfo),e===null)throw Error(i(387));l=r.pendingProps;var b=r.memoizedState;p=b.element,Xf(e,r),qo(r,l,null,a);var N=r.memoizedState;if(l=N.cache,ji(r,mn,l),l!==b.cache&&Kf(r,[mn],a,!0),Po(),l=N.element,b.isDehydrated)if(b={element:l,isDehydrated:!1,cache:N.cache},r.updateQueue.baseState=b,r.memoizedState=b,r.flags&256){r=Iy(e,r,l,a);break e}else if(l!==p){p=fr(Error(i(424)),r),Uo(p),r=Iy(e,r,l,a);break e}else for(e=r.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,jt=yr(e.firstChild),xn=r,dt=!0,zi=null,pr=!0,a=xm(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ks(),l===p){r=li(e,r,a);break e}On(e,r,l,a)}r=r.child}return r;case 26:return Rl(e,r),e===null?(a=F1(r.type,null,r.pendingProps,null))?r.memoizedState=a:dt||(a=r.type,e=r.pendingProps,l=ql(Z.current).createElement(a),l[st]=r,l[ft]=e,Nn(l,a,e),sn(l),r.stateNode=l):r.memoizedState=F1(r.type,e.memoizedProps,r.pendingProps,e.memoizedState),null;case 27:return Ae(r),e===null&&dt&&(l=r.stateNode=K1(r.type,r.pendingProps,Z.current),xn=r,pr=!0,p=jt,Ji(r.type)?(ch=p,jt=yr(l.firstChild)):jt=p),On(e,r,r.pendingProps.children,a),Rl(e,r),e===null&&(r.flags|=4194304),r.child;case 5:return e===null&&dt&&((p=l=jt)&&(l=MA(l,r.type,r.pendingProps,pr),l!==null?(r.stateNode=l,xn=r,jt=yr(l.firstChild),pr=!1,p=!0):p=!1),p||Hi(r)),Ae(r),p=r.type,b=r.pendingProps,N=e!==null?e.memoizedProps:null,l=b.children,rh(p,b)?l=null:N!==null&&rh(p,N)&&(r.flags|=32),r.memoizedState!==null&&(p=nd(e,r,XS,null,null,a),cc._currentValue=p),Rl(e,r),On(e,r,l,a),r.child;case 6:return e===null&&dt&&((e=a=jt)&&(a=UA(a,r.pendingProps,pr),a!==null?(r.stateNode=a,xn=r,jt=null,e=!0):e=!1),e||Hi(r)),null;case 13:return Cy(e,r,a);case 4:return re(r,r.stateNode.containerInfo),l=r.pendingProps,e===null?r.child=Ds(r,null,l,a):On(e,r,l,a),r.child;case 11:return Sy(e,r,r.type,r.pendingProps,a);case 7:return On(e,r,r.pendingProps,a),r.child;case 8:return On(e,r,r.pendingProps.children,a),r.child;case 12:return On(e,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,ji(r,r.type,l.value),On(e,r,l.children,a),r.child;case 9:return p=r.type._context,l=r.pendingProps.children,Cs(r),p=Tn(p),l=l(p),r.flags|=1,On(e,r,l,a),r.child;case 14:return Ay(e,r,r.type,r.pendingProps,a);case 15:return Ry(e,r,r.type,r.pendingProps,a);case 19:return My(e,r,a);case 31:return rA(e,r,a);case 22:return xy(e,r,a,r.pendingProps);case 24:return Cs(r),l=Tn(mn),e===null?(p=Ff(),p===null&&(p=Bt,b=Vf(),p.pooledCache=b,b.refCount++,b!==null&&(p.pooledCacheLanes|=a),p=b),r.memoizedState={parent:l,cache:p},Zf(r),ji(r,mn,p)):((e.lanes&a)!==0&&(Xf(e,r),qo(r,null,null,a),Po()),p=e.memoizedState,b=r.memoizedState,p.parent!==l?(p={parent:l,cache:l},r.memoizedState=p,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=p),ji(r,mn,l)):(l=b.cache,ji(r,mn,l),l!==p.cache&&Kf(r,[mn],a,!0))),On(e,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function ui(e){e.flags|=4}function kd(e,r,a,l,p){if((r=(e.mode&32)!==0)&&(r=!1),r){if(e.flags|=16777216,(p&335544128)===p)if(e.stateNode.complete)e.flags|=8192;else if(c1())e.flags|=8192;else throw Us=ul,Yf}else e.flags&=-16777217}function Dy(e,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!$1(r))if(c1())e.flags|=8192;else throw Us=ul,Yf}function Tl(e,r){r!==null&&(e.flags|=4),e.flags&16384&&(r=e.tag!==22?Zt():536870912,e.lanes|=r,za|=r)}function Zo(e,r){if(!dt)switch(e.tailMode){case"hidden":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Pt(e){var r=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(r)for(var p=e.child;p!==null;)a|=p.lanes|p.childLanes,l|=p.subtreeFlags&65011712,l|=p.flags&65011712,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)a|=p.lanes|p.childLanes,l|=p.subtreeFlags,l|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=l,e.childLanes=a,r}function sA(e,r,a){var l=r.pendingProps;switch(zf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(r),null;case 1:return Pt(r),null;case 3:return a=r.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ai(mn),le(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ra(r)?ui(r):e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,jf())),Pt(r),null;case 26:var p=r.type,b=r.memoizedState;return e===null?(ui(r),b!==null?(Pt(r),Dy(r,b)):(Pt(r),kd(r,p,null,l,a))):b?b!==e.memoizedState?(ui(r),Pt(r),Dy(r,b)):(Pt(r),r.flags&=-16777217):(e=e.memoizedProps,e!==l&&ui(r),Pt(r),kd(r,p,e,l,a)),null;case 27:if(Ie(r),a=Z.current,p=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==l&&ui(r);else{if(!l){if(r.stateNode===null)throw Error(i(166));return Pt(r),null}e=O.current,Ra(r)?mm(r):(e=K1(p,l,a),r.stateNode=e,ui(r))}return Pt(r),null;case 5:if(Ie(r),p=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==l&&ui(r);else{if(!l){if(r.stateNode===null)throw Error(i(166));return Pt(r),null}if(b=O.current,Ra(r))mm(r);else{var N=ql(Z.current);switch(b){case 1:b=N.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:b=N.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":b=N.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":b=N.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":b=N.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof l.is=="string"?N.createElement("select",{is:l.is}):N.createElement("select"),l.multiple?b.multiple=!0:l.size&&(b.size=l.size);break;default:b=typeof l.is=="string"?N.createElement(p,{is:l.is}):N.createElement(p)}}b[st]=r,b[ft]=l;e:for(N=r.child;N!==null;){if(N.tag===5||N.tag===6)b.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===r)break e;for(;N.sibling===null;){if(N.return===null||N.return===r)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}r.stateNode=b;e:switch(Nn(b,p,l),p){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ui(r)}}return Pt(r),kd(r,r.type,e===null?null:e.memoizedProps,r.pendingProps,a),null;case 6:if(e&&r.stateNode!=null)e.memoizedProps!==l&&ui(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(i(166));if(e=Z.current,Ra(r)){if(e=r.stateNode,a=r.memoizedProps,l=null,p=xn,p!==null)switch(p.tag){case 27:case 5:l=p.memoizedProps}e[st]=r,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||C1(e.nodeValue,a)),e||Hi(r,!0)}else e=ql(e).createTextNode(l),e[st]=r,r.stateNode=e}return Pt(r),null;case 31:if(a=r.memoizedState,e===null||e.memoizedState!==null){if(l=Ra(r),a!==null){if(e===null){if(!l)throw Error(i(318));if(e=r.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[st]=r}else ks(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Pt(r),e=!1}else a=jf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return r.flags&256?(er(r),r):(er(r),null);if((r.flags&128)!==0)throw Error(i(558))}return Pt(r),null;case 13:if(l=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(p=Ra(r),l!==null&&l.dehydrated!==null){if(e===null){if(!p)throw Error(i(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[st]=r}else ks(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Pt(r),p=!1}else p=jf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=p),p=!0;if(!p)return r.flags&256?(er(r),r):(er(r),null)}return er(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=r.child,p=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(p=l.alternate.memoizedState.cachePool.pool),b=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(b=l.memoizedState.cachePool.pool),b!==p&&(l.flags|=2048)),a!==e&&a&&(r.child.flags|=8192),Tl(r,r.updateQueue),Pt(r),null);case 4:return le(),e===null&&Qd(r.stateNode.containerInfo),Pt(r),null;case 10:return ai(r.type),Pt(r),null;case 19:if(f(un),l=r.memoizedState,l===null)return Pt(r),null;if(p=(r.flags&128)!==0,b=l.rendering,b===null)if(p)Zo(l,!1);else{if(on!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(b=pl(e),b!==null){for(r.flags|=128,Zo(l,!1),e=b.updateQueue,r.updateQueue=e,Tl(r,e),r.subtreeFlags=0,e=a,a=r.child;a!==null;)um(a,e),a=a.sibling;return y(un,un.current&1|2),dt&&ii(r,l.treeForkCount),r.child}e=e.sibling}l.tail!==null&&je()>Cl&&(r.flags|=128,p=!0,Zo(l,!1),r.lanes=4194304)}else{if(!p)if(e=pl(b),e!==null){if(r.flags|=128,p=!0,e=e.updateQueue,r.updateQueue=e,Tl(r,e),Zo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!b.alternate&&!dt)return Pt(r),null}else 2*je()-l.renderingStartTime>Cl&&a!==536870912&&(r.flags|=128,p=!0,Zo(l,!1),r.lanes=4194304);l.isBackwards?(b.sibling=r.child,r.child=b):(e=l.last,e!==null?e.sibling=b:r.child=b,l.last=b)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=je(),e.sibling=null,a=un.current,y(un,p?a&1|2:a&1),dt&&ii(r,l.treeForkCount),e):(Pt(r),null);case 22:case 23:return er(r),Jf(),l=r.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(Pt(r),r.subtreeFlags&6&&(r.flags|=8192)):Pt(r),a=r.updateQueue,a!==null&&Tl(r,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),e!==null&&f(Bs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),ai(mn),Pt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function aA(e,r){switch(zf(r),r.tag){case 1:return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return ai(mn),le(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 26:case 27:case 5:return Ie(r),null;case 31:if(r.memoizedState!==null){if(er(r),r.alternate===null)throw Error(i(340));ks()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 13:if(er(r),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(i(340));ks()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return f(un),null;case 4:return le(),null;case 10:return ai(r.type),null;case 22:case 23:return er(r),Jf(),e!==null&&f(Bs),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 24:return ai(mn),null;case 25:return null;default:return null}}function Ly(e,r){switch(zf(r),r.tag){case 3:ai(mn),le();break;case 26:case 27:case 5:Ie(r);break;case 4:le();break;case 31:r.memoizedState!==null&&er(r);break;case 13:er(r);break;case 19:f(un);break;case 10:ai(r.type);break;case 22:case 23:er(r),Jf(),e!==null&&f(Bs);break;case 24:ai(mn)}}function Xo(e,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var p=l.next;a=p;do{if((a.tag&e)===e){l=void 0;var b=a.create,N=a.inst;l=b(),N.destroy=l}a=a.next}while(a!==p)}}catch(q){At(r,r.return,q)}}function Fi(e,r,a){try{var l=r.updateQueue,p=l!==null?l.lastEffect:null;if(p!==null){var b=p.next;l=b;do{if((l.tag&e)===e){var N=l.inst,q=N.destroy;if(q!==void 0){N.destroy=void 0,p=r;var J=a,he=q;try{he()}catch(we){At(p,J,we)}}}l=l.next}while(l!==b)}}catch(we){At(r,r.return,we)}}function zy(e){var r=e.updateQueue;if(r!==null){var a=e.stateNode;try{Om(r,a)}catch(l){At(e,e.return,l)}}}function Hy(e,r,a){a.props=zs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){At(e,r,l)}}function Wo(e,r){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(p){At(e,r,p)}}function zr(e,r){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(p){At(e,r,p)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(p){At(e,r,p)}else a.current=null}function jy(e){var r=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(p){At(e,e.return,p)}}function Id(e,r,a){try{var l=e.stateNode;OA(l,e.type,a,r),l[ft]=r}catch(p){At(e,e.return,p)}}function Py(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ji(e.type)||e.tag===4}function Cd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Py(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ji(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bd(e,r,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(e),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=ti));else if(l!==4&&(l===27&&Ji(e.type)&&(a=e.stateNode,r=null),e=e.child,e!==null))for(Bd(e,r,a),e=e.sibling;e!==null;)Bd(e,r,a),e=e.sibling}function Ol(e,r,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?a.insertBefore(e,r):a.appendChild(e);else if(l!==4&&(l===27&&Ji(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ol(e,r,a),e=e.sibling;e!==null;)Ol(e,r,a),e=e.sibling}function qy(e){var r=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,p=r.attributes;p.length;)r.removeAttributeNode(p[0]);Nn(r,l,a),r[st]=e,r[ft]=a}catch(b){At(e,e.return,b)}}var fi=!1,bn=!1,Md=!1,Ky=typeof WeakSet=="function"?WeakSet:Set,Sn=null;function oA(e,r){if(e=e.containerInfo,th=Xl,e=tm(e),Tf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var p=l.anchorOffset,b=l.focusNode;l=l.focusOffset;try{a.nodeType,b.nodeType}catch{a=null;break e}var N=0,q=-1,J=-1,he=0,we=0,Ee=e,ye=null;t:for(;;){for(var be;Ee!==a||p!==0&&Ee.nodeType!==3||(q=N+p),Ee!==b||l!==0&&Ee.nodeType!==3||(J=N+l),Ee.nodeType===3&&(N+=Ee.nodeValue.length),(be=Ee.firstChild)!==null;)ye=Ee,Ee=be;for(;;){if(Ee===e)break t;if(ye===a&&++he===p&&(q=N),ye===b&&++we===l&&(J=N),(be=Ee.nextSibling)!==null)break;Ee=ye,ye=Ee.parentNode}Ee=be}a=q===-1||J===-1?null:{start:q,end:J}}else a=null}a=a||{start:0,end:0}}else a=null;for(nh={focusedElem:e,selectionRange:a},Xl=!1,Sn=r;Sn!==null;)if(r=Sn,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,Sn=e;else for(;Sn!==null;){switch(r=Sn,b=r.alternate,e=r.flags,r.tag){case 0:if((e&4)!==0&&(e=r.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)p=e[a],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&b!==null){e=void 0,a=r,p=b.memoizedProps,b=b.memoizedState,l=a.stateNode;try{var De=zs(a.type,p);e=l.getSnapshotBeforeUpdate(De,b),l.__reactInternalSnapshotBeforeUpdate=e}catch(Ye){At(a,a.return,Ye)}}break;case 3:if((e&1024)!==0){if(e=r.stateNode.containerInfo,a=e.nodeType,a===9)sh(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":sh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=r.sibling,e!==null){e.return=r.return,Sn=e;break}Sn=r.return}}function Vy(e,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:hi(e,a),l&4&&Xo(5,a);break;case 1:if(hi(e,a),l&4)if(e=a.stateNode,r===null)try{e.componentDidMount()}catch(N){At(a,a.return,N)}else{var p=zs(a.type,r.memoizedProps);r=r.memoizedState;try{e.componentDidUpdate(p,r,e.__reactInternalSnapshotBeforeUpdate)}catch(N){At(a,a.return,N)}}l&64&&zy(a),l&512&&Wo(a,a.return);break;case 3:if(hi(e,a),l&64&&(e=a.updateQueue,e!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Om(e,r)}catch(N){At(a,a.return,N)}}break;case 27:r===null&&l&4&&qy(a);case 26:case 5:hi(e,a),r===null&&l&4&&jy(a),l&512&&Wo(a,a.return);break;case 12:hi(e,a);break;case 31:hi(e,a),l&4&&Yy(e,a);break;case 13:hi(e,a),l&4&&Zy(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=yA.bind(null,a),DA(e,a))));break;case 22:if(l=a.memoizedState!==null||fi,!l){r=r!==null&&r.memoizedState!==null||bn,p=fi;var b=bn;fi=l,(bn=r)&&!b?pi(e,a,(a.subtreeFlags&8772)!==0):hi(e,a),fi=p,bn=b}break;case 30:break;default:hi(e,a)}}function Gy(e){var r=e.alternate;r!==null&&(e.alternate=null,Gy(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&As(r)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Gt=null,qn=!1;function di(e,r,a){for(a=a.child;a!==null;)Fy(e,r,a),a=a.sibling}function Fy(e,r,a){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(me,a)}catch{}switch(a.tag){case 26:bn||zr(a,r),di(e,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:bn||zr(a,r);var l=Gt,p=qn;Ji(a.type)&&(Gt=a.stateNode,qn=!1),di(e,r,a),sc(a.stateNode),Gt=l,qn=p;break;case 5:bn||zr(a,r);case 6:if(l=Gt,p=qn,Gt=null,di(e,r,a),Gt=l,qn=p,Gt!==null)if(qn)try{(Gt.nodeType===9?Gt.body:Gt.nodeName==="HTML"?Gt.ownerDocument.body:Gt).removeChild(a.stateNode)}catch(b){At(a,r,b)}else try{Gt.removeChild(a.stateNode)}catch(b){At(a,r,b)}break;case 18:Gt!==null&&(qn?(e=Gt,z1(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Fa(e)):z1(Gt,a.stateNode));break;case 4:l=Gt,p=qn,Gt=a.stateNode.containerInfo,qn=!0,di(e,r,a),Gt=l,qn=p;break;case 0:case 11:case 14:case 15:Fi(2,a,r),bn||Fi(4,a,r),di(e,r,a);break;case 1:bn||(zr(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Hy(a,r,l)),di(e,r,a);break;case 21:di(e,r,a);break;case 22:bn=(l=bn)||a.memoizedState!==null,di(e,r,a),bn=l;break;default:di(e,r,a)}}function Yy(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Fa(e)}catch(a){At(r,r.return,a)}}}function Zy(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Fa(e)}catch(a){At(r,r.return,a)}}function cA(e){switch(e.tag){case 31:case 13:case 19:var r=e.stateNode;return r===null&&(r=e.stateNode=new Ky),r;case 22:return e=e.stateNode,r=e._retryCache,r===null&&(r=e._retryCache=new Ky),r;default:throw Error(i(435,e.tag))}}function Nl(e,r){var a=cA(e);r.forEach(function(l){if(!a.has(l)){a.add(l);var p=gA.bind(null,e,l);l.then(p,p)}})}function Kn(e,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var p=a[l],b=e,N=r,q=N;e:for(;q!==null;){switch(q.tag){case 27:if(Ji(q.type)){Gt=q.stateNode,qn=!1;break e}break;case 5:Gt=q.stateNode,qn=!1;break e;case 3:case 4:Gt=q.stateNode.containerInfo,qn=!0;break e}q=q.return}if(Gt===null)throw Error(i(160));Fy(b,N,p),Gt=null,qn=!1,b=p.alternate,b!==null&&(b.return=null),p.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Xy(r,e),r=r.sibling}var Rr=null;function Xy(e,r){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Kn(r,e),Vn(e),l&4&&(Fi(3,e,e.return),Xo(3,e),Fi(5,e,e.return));break;case 1:Kn(r,e),Vn(e),l&512&&(bn||a===null||zr(a,a.return)),l&64&&fi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var p=Rr;if(Kn(r,e),Vn(e),l&512&&(bn||a===null||zr(a,a.return)),l&4){var b=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,p=p.ownerDocument||p;t:switch(l){case"title":b=p.getElementsByTagName("title")[0],(!b||b[Qr]||b[st]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=p.createElement(l),p.head.insertBefore(b,p.querySelector("head > title"))),Nn(b,l,a),b[st]=e,sn(b),l=b;break e;case"link":var N=X1("link","href",p).get(l+(a.href||""));if(N){for(var q=0;q<N.length;q++)if(b=N[q],b.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&b.getAttribute("rel")===(a.rel==null?null:a.rel)&&b.getAttribute("title")===(a.title==null?null:a.title)&&b.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){N.splice(q,1);break t}}b=p.createElement(l),Nn(b,l,a),p.head.appendChild(b);break;case"meta":if(N=X1("meta","content",p).get(l+(a.content||""))){for(q=0;q<N.length;q++)if(b=N[q],b.getAttribute("content")===(a.content==null?null:""+a.content)&&b.getAttribute("name")===(a.name==null?null:a.name)&&b.getAttribute("property")===(a.property==null?null:a.property)&&b.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&b.getAttribute("charset")===(a.charSet==null?null:a.charSet)){N.splice(q,1);break t}}b=p.createElement(l),Nn(b,l,a),p.head.appendChild(b);break;default:throw Error(i(468,l))}b[st]=e,sn(b),l=b}e.stateNode=l}else W1(p,e.type,e.stateNode);else e.stateNode=Z1(p,l,e.memoizedProps);else b!==l?(b===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):b.count--,l===null?W1(p,e.type,e.stateNode):Z1(p,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Id(e,e.memoizedProps,a.memoizedProps)}break;case 27:Kn(r,e),Vn(e),l&512&&(bn||a===null||zr(a,a.return)),a!==null&&l&4&&Id(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Kn(r,e),Vn(e),l&512&&(bn||a===null||zr(a,a.return)),e.flags&32){p=e.stateNode;try{ma(p,"")}catch(De){At(e,e.return,De)}}l&4&&e.stateNode!=null&&(p=e.memoizedProps,Id(e,p,a!==null?a.memoizedProps:p)),l&1024&&(Md=!0);break;case 6:if(Kn(r,e),Vn(e),l&4){if(e.stateNode===null)throw Error(i(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(De){At(e,e.return,De)}}break;case 3:if(Gl=null,p=Rr,Rr=Kl(r.containerInfo),Kn(r,e),Rr=p,Vn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Fa(r.containerInfo)}catch(De){At(e,e.return,De)}Md&&(Md=!1,Wy(e));break;case 4:l=Rr,Rr=Kl(e.stateNode.containerInfo),Kn(r,e),Vn(e),Rr=l;break;case 12:Kn(r,e),Vn(e);break;case 31:Kn(r,e),Vn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Nl(e,l)));break;case 13:Kn(r,e),Vn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Il=je()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Nl(e,l)));break;case 22:p=e.memoizedState!==null;var J=a!==null&&a.memoizedState!==null,he=fi,we=bn;if(fi=he||p,bn=we||J,Kn(r,e),bn=we,fi=he,Vn(e),l&8192)e:for(r=e.stateNode,r._visibility=p?r._visibility&-2:r._visibility|1,p&&(a===null||J||fi||bn||Hs(e)),a=null,r=e;;){if(r.tag===5||r.tag===26){if(a===null){J=a=r;try{if(b=J.stateNode,p)N=b.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{q=J.stateNode;var Ee=J.memoizedProps.style,ye=Ee!=null&&Ee.hasOwnProperty("display")?Ee.display:null;q.style.display=ye==null||typeof ye=="boolean"?"":(""+ye).trim()}}catch(De){At(J,J.return,De)}}}else if(r.tag===6){if(a===null){J=r;try{J.stateNode.nodeValue=p?"":J.memoizedProps}catch(De){At(J,J.return,De)}}}else if(r.tag===18){if(a===null){J=r;try{var be=J.stateNode;p?H1(be,!0):H1(J.stateNode,!1)}catch(De){At(J,J.return,De)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Nl(e,a))));break;case 19:Kn(r,e),Vn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Nl(e,l)));break;case 30:break;case 21:break;default:Kn(r,e),Vn(e)}}function Vn(e){var r=e.flags;if(r&2){try{for(var a,l=e.return;l!==null;){if(Py(l)){a=l;break}l=l.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var p=a.stateNode,b=Cd(e);Ol(e,b,p);break;case 5:var N=a.stateNode;a.flags&32&&(ma(N,""),a.flags&=-33);var q=Cd(e);Ol(e,q,N);break;case 3:case 4:var J=a.stateNode.containerInfo,he=Cd(e);Bd(e,he,J);break;default:throw Error(i(161))}}catch(we){At(e,e.return,we)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function Wy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var r=e;Wy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),e=e.sibling}}function hi(e,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Vy(e,r.alternate,r),r=r.sibling}function Hs(e){for(e=e.child;e!==null;){var r=e;switch(r.tag){case 0:case 11:case 14:case 15:Fi(4,r,r.return),Hs(r);break;case 1:zr(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Hy(r,r.return,a),Hs(r);break;case 27:sc(r.stateNode);case 26:case 5:zr(r,r.return),Hs(r);break;case 22:r.memoizedState===null&&Hs(r);break;case 30:Hs(r);break;default:Hs(r)}e=e.sibling}}function pi(e,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,p=e,b=r,N=b.flags;switch(b.tag){case 0:case 11:case 15:pi(p,b,a),Xo(4,b);break;case 1:if(pi(p,b,a),l=b,p=l.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(he){At(l,l.return,he)}if(l=b,p=l.updateQueue,p!==null){var q=l.stateNode;try{var J=p.shared.hiddenCallbacks;if(J!==null)for(p.shared.hiddenCallbacks=null,p=0;p<J.length;p++)Tm(J[p],q)}catch(he){At(l,l.return,he)}}a&&N&64&&zy(b),Wo(b,b.return);break;case 27:qy(b);case 26:case 5:pi(p,b,a),a&&l===null&&N&4&&jy(b),Wo(b,b.return);break;case 12:pi(p,b,a);break;case 31:pi(p,b,a),a&&N&4&&Yy(p,b);break;case 13:pi(p,b,a),a&&N&4&&Zy(p,b);break;case 22:b.memoizedState===null&&pi(p,b,a),Wo(b,b.return);break;case 30:break;default:pi(p,b,a)}r=r.sibling}}function Ud(e,r){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(e=r.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Do(a))}function Dd(e,r){e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&Do(e))}function xr(e,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)$y(e,r,a,l),r=r.sibling}function $y(e,r,a,l){var p=r.flags;switch(r.tag){case 0:case 11:case 15:xr(e,r,a,l),p&2048&&Xo(9,r);break;case 1:xr(e,r,a,l);break;case 3:xr(e,r,a,l),p&2048&&(e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&Do(e)));break;case 12:if(p&2048){xr(e,r,a,l),e=r.stateNode;try{var b=r.memoizedProps,N=b.id,q=b.onPostCommit;typeof q=="function"&&q(N,r.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(J){At(r,r.return,J)}}else xr(e,r,a,l);break;case 31:xr(e,r,a,l);break;case 13:xr(e,r,a,l);break;case 23:break;case 22:b=r.stateNode,N=r.alternate,r.memoizedState!==null?b._visibility&2?xr(e,r,a,l):$o(e,r):b._visibility&2?xr(e,r,a,l):(b._visibility|=2,Ua(e,r,a,l,(r.subtreeFlags&10256)!==0||!1)),p&2048&&Ud(N,r);break;case 24:xr(e,r,a,l),p&2048&&Dd(r.alternate,r);break;default:xr(e,r,a,l)}}function Ua(e,r,a,l,p){for(p=p&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var b=e,N=r,q=a,J=l,he=N.flags;switch(N.tag){case 0:case 11:case 15:Ua(b,N,q,J,p),Xo(8,N);break;case 23:break;case 22:var we=N.stateNode;N.memoizedState!==null?we._visibility&2?Ua(b,N,q,J,p):$o(b,N):(we._visibility|=2,Ua(b,N,q,J,p)),p&&he&2048&&Ud(N.alternate,N);break;case 24:Ua(b,N,q,J,p),p&&he&2048&&Dd(N.alternate,N);break;default:Ua(b,N,q,J,p)}r=r.sibling}}function $o(e,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=e,l=r,p=l.flags;switch(l.tag){case 22:$o(a,l),p&2048&&Ud(l.alternate,l);break;case 24:$o(a,l),p&2048&&Dd(l.alternate,l);break;default:$o(a,l)}r=r.sibling}}var Qo=8192;function Da(e,r,a){if(e.subtreeFlags&Qo)for(e=e.child;e!==null;)Qy(e,r,a),e=e.sibling}function Qy(e,r,a){switch(e.tag){case 26:Da(e,r,a),e.flags&Qo&&e.memoizedState!==null&&ZA(a,Rr,e.memoizedState,e.memoizedProps);break;case 5:Da(e,r,a);break;case 3:case 4:var l=Rr;Rr=Kl(e.stateNode.containerInfo),Da(e,r,a),Rr=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Qo,Qo=16777216,Da(e,r,a),Qo=l):Da(e,r,a));break;default:Da(e,r,a)}}function Jy(e){var r=e.alternate;if(r!==null&&(e=r.child,e!==null)){r.child=null;do r=e.sibling,e.sibling=null,e=r;while(e!==null)}}function Jo(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Sn=l,t1(l,e)}Jy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)e1(e),e=e.sibling}function e1(e){switch(e.tag){case 0:case 11:case 15:Jo(e),e.flags&2048&&Fi(9,e,e.return);break;case 3:Jo(e);break;case 12:Jo(e);break;case 22:var r=e.stateNode;e.memoizedState!==null&&r._visibility&2&&(e.return===null||e.return.tag!==13)?(r._visibility&=-3,kl(e)):Jo(e);break;default:Jo(e)}}function kl(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Sn=l,t1(l,e)}Jy(e)}for(e=e.child;e!==null;){switch(r=e,r.tag){case 0:case 11:case 15:Fi(8,r,r.return),kl(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,kl(r));break;default:kl(r)}e=e.sibling}}function t1(e,r){for(;Sn!==null;){var a=Sn;switch(a.tag){case 0:case 11:case 15:Fi(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Do(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Sn=l;else e:for(a=e;Sn!==null;){l=Sn;var p=l.sibling,b=l.return;if(Gy(l),l===a){Sn=null;break e}if(p!==null){p.return=b,Sn=p;break e}Sn=b}}}var lA={getCacheForType:function(e){var r=Tn(mn),a=r.data.get(e);return a===void 0&&(a=e(),r.data.set(e,a)),a},cacheSignal:function(){return Tn(mn).controller.signal}},uA=typeof WeakMap=="function"?WeakMap:Map,vt=0,Bt=null,at=null,lt=0,St=0,tr=null,Yi=!1,La=!1,Ld=!1,mi=0,on=0,Zi=0,js=0,zd=0,nr=0,za=0,ec=null,Gn=null,Hd=!1,Il=0,n1=0,Cl=1/0,Bl=null,Xi=null,vn=0,Wi=null,Ha=null,yi=0,jd=0,Pd=null,r1=null,tc=0,qd=null;function rr(){return(vt&2)!==0&&lt!==0?lt&-lt:A.T!==null?Zd():$t()}function i1(){if(nr===0)if((lt&536870912)===0||dt){var e=Lt;Lt<<=1,(Lt&3932160)===0&&(Lt=262144),nr=e}else nr=536870912;return e=Jn.current,e!==null&&(e.flags|=32),nr}function Fn(e,r,a){(e===Bt&&(St===2||St===9)||e.cancelPendingCommit!==null)&&(ja(e,0),$i(e,lt,nr,!1)),Bi(e,a),((vt&2)===0||e!==Bt)&&(e===Bt&&((vt&2)===0&&(js|=a),on===4&&$i(e,lt,nr,!1)),Hr(e))}function s1(e,r,a){if((vt&6)!==0)throw Error(i(327));var l=!a&&(r&127)===0&&(r&e.expiredLanes)===0||Mt(e,r),p=l?hA(e,r):Vd(e,r,!0),b=l;do{if(p===0){La&&!l&&$i(e,r,0,!1);break}else{if(a=e.current.alternate,b&&!fA(a)){p=Vd(e,r,!1),b=!1;continue}if(p===2){if(b=r,e.errorRecoveryDisabledLanes&b)var N=0;else N=e.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){r=N;e:{var q=e;p=ec;var J=q.current.memoizedState.isDehydrated;if(J&&(ja(q,N).flags|=256),N=Vd(q,N,!1),N!==2){if(Ld&&!J){q.errorRecoveryDisabledLanes|=b,js|=b,p=4;break e}b=Gn,Gn=p,b!==null&&(Gn===null?Gn=b:Gn.push.apply(Gn,b))}p=N}if(b=!1,p!==2)continue}}if(p===1){ja(e,0),$i(e,r,0,!0);break}e:{switch(l=e,b=p,b){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:$i(l,r,nr,!Yi);break e;case 2:Gn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(p=Il+300-je(),10<p)){if($i(l,r,nr,!Yi),Ht(l,0,!0)!==0)break e;yi=r,l.timeoutHandle=D1(a1.bind(null,l,a,Gn,Bl,Hd,r,nr,js,za,Yi,b,"Throttled",-0,0),p);break e}a1(l,a,Gn,Bl,Hd,r,nr,js,za,Yi,b,null,-0,0)}}break}while(!0);Hr(e)}function a1(e,r,a,l,p,b,N,q,J,he,we,Ee,ye,be){if(e.timeoutHandle=-1,Ee=r.subtreeFlags,Ee&8192||(Ee&16785408)===16785408){Ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},Qy(r,b,Ee);var De=(b&62914560)===b?Il-je():(b&4194048)===b?n1-je():0;if(De=XA(Ee,De),De!==null){yi=b,e.cancelPendingCommit=De(p1.bind(null,e,r,b,a,l,p,N,q,J,we,Ee,null,ye,be)),$i(e,b,N,!he);return}}p1(e,r,b,a,l,p,N,q,J)}function fA(e){for(var r=e;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var p=a[l],b=p.getSnapshot;p=p.value;try{if(!$n(b(),p))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function $i(e,r,a,l){r&=~zd,r&=~js,e.suspendedLanes|=r,e.pingedLanes&=~r,l&&(e.warmLanes|=r),l=e.expirationTimes;for(var p=r;0<p;){var b=31-Ue(p),N=1<<b;l[b]=-1,p&=~N}a!==0&&Xt(e,a,r)}function Ml(){return(vt&6)===0?(nc(0),!1):!0}function Kd(){if(at!==null){if(St===0)var e=at.return;else e=at,si=Is=null,sd(e),ka=null,zo=0,e=at;for(;e!==null;)Ly(e.alternate,e),e=e.return;at=null}}function ja(e,r){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,IA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),yi=0,Kd(),Bt=e,at=a=ri(e.current,null),lt=r,St=0,tr=null,Yi=!1,La=Mt(e,r),Ld=!1,za=nr=zd=js=Zi=on=0,Gn=ec=null,Hd=!1,(r&8)!==0&&(r|=r&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=r;0<l;){var p=31-Ue(l),b=1<<p;r|=e[p],l&=~b}return mi=r,tl(),a}function o1(e,r){et=null,A.H=Fo,r===Na||r===ll?(r=Sm(),St=3):r===Yf?(r=Sm(),St=4):St=r===vd?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,tr=r,at===null&&(on=1,Sl(e,fr(r,e.current)))}function c1(){var e=Jn.current;return e===null?!0:(lt&4194048)===lt?mr===null:(lt&62914560)===lt||(lt&536870912)!==0?e===mr:!1}function l1(){var e=A.H;return A.H=Fo,e===null?Fo:e}function u1(){var e=A.A;return A.A=lA,e}function Ul(){on=4,Yi||(lt&4194048)!==lt&&Jn.current!==null||(La=!0),(Zi&134217727)===0&&(js&134217727)===0||Bt===null||$i(Bt,lt,nr,!1)}function Vd(e,r,a){var l=vt;vt|=2;var p=l1(),b=u1();(Bt!==e||lt!==r)&&(Bl=null,ja(e,r)),r=!1;var N=on;e:do try{if(St!==0&&at!==null){var q=at,J=tr;switch(St){case 8:Kd(),N=6;break e;case 3:case 2:case 9:case 6:Jn.current===null&&(r=!0);var he=St;if(St=0,tr=null,Pa(e,q,J,he),a&&La){N=0;break e}break;default:he=St,St=0,tr=null,Pa(e,q,J,he)}}dA(),N=on;break}catch(we){o1(e,we)}while(!0);return r&&e.shellSuspendCounter++,si=Is=null,vt=l,A.H=p,A.A=b,at===null&&(Bt=null,lt=0,tl()),N}function dA(){for(;at!==null;)f1(at)}function hA(e,r){var a=vt;vt|=2;var l=l1(),p=u1();Bt!==e||lt!==r?(Bl=null,Cl=je()+500,ja(e,r)):La=Mt(e,r);e:do try{if(St!==0&&at!==null){r=at;var b=tr;t:switch(St){case 1:St=0,tr=null,Pa(e,r,b,1);break;case 2:case 9:if(vm(b)){St=0,tr=null,d1(r);break}r=function(){St!==2&&St!==9||Bt!==e||(St=7),Hr(e)},b.then(r,r);break e;case 3:St=7;break e;case 4:St=5;break e;case 7:vm(b)?(St=0,tr=null,d1(r)):(St=0,tr=null,Pa(e,r,b,7));break;case 5:var N=null;switch(at.tag){case 26:N=at.memoizedState;case 5:case 27:var q=at;if(N?$1(N):q.stateNode.complete){St=0,tr=null;var J=q.sibling;if(J!==null)at=J;else{var he=q.return;he!==null?(at=he,Dl(he)):at=null}break t}}St=0,tr=null,Pa(e,r,b,5);break;case 6:St=0,tr=null,Pa(e,r,b,6);break;case 8:Kd(),on=6;break e;default:throw Error(i(462))}}pA();break}catch(we){o1(e,we)}while(!0);return si=Is=null,A.H=l,A.A=p,vt=a,at!==null?0:(Bt=null,lt=0,tl(),on)}function pA(){for(;at!==null&&!Tt();)f1(at)}function f1(e){var r=Uy(e.alternate,e,mi);e.memoizedProps=e.pendingProps,r===null?Dl(e):at=r}function d1(e){var r=e,a=r.alternate;switch(r.tag){case 15:case 0:r=Ny(a,r,r.pendingProps,r.type,void 0,lt);break;case 11:r=Ny(a,r,r.pendingProps,r.type.render,r.ref,lt);break;case 5:sd(r);default:Ly(a,r),r=at=um(r,mi),r=Uy(a,r,mi)}e.memoizedProps=e.pendingProps,r===null?Dl(e):at=r}function Pa(e,r,a,l){si=Is=null,sd(r),ka=null,zo=0;var p=r.return;try{if(nA(e,p,r,a,lt)){on=1,Sl(e,fr(a,e.current)),at=null;return}}catch(b){if(p!==null)throw at=p,b;on=1,Sl(e,fr(a,e.current)),at=null;return}r.flags&32768?(dt||l===1?e=!0:La||(lt&536870912)!==0?e=!1:(Yi=e=!0,(l===2||l===9||l===3||l===6)&&(l=Jn.current,l!==null&&l.tag===13&&(l.flags|=16384))),h1(r,e)):Dl(r)}function Dl(e){var r=e;do{if((r.flags&32768)!==0){h1(r,Yi);return}e=r.return;var a=sA(r.alternate,r,mi);if(a!==null){at=a;return}if(r=r.sibling,r!==null){at=r;return}at=r=e}while(r!==null);on===0&&(on=5)}function h1(e,r){do{var a=aA(e.alternate,e);if(a!==null){a.flags&=32767,at=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(e=e.sibling,e!==null)){at=e;return}at=e=a}while(e!==null);on=6,at=null}function p1(e,r,a,l,p,b,N,q,J){e.cancelPendingCommit=null;do Ll();while(vn!==0);if((vt&6)!==0)throw Error(i(327));if(r!==null){if(r===e.current)throw Error(i(177));if(b=r.lanes|r.childLanes,b|=Cf,nn(e,a,b,N,q,J),e===Bt&&(at=Bt=null,lt=0),Ha=r,Wi=e,yi=a,jd=b,Pd=p,r1=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,bA(S,function(){return w1(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=A.T,A.T=null,p=C.p,C.p=2,N=vt,vt|=4;try{oA(e,r,a)}finally{vt=N,C.p=p,A.T=l}}vn=1,m1(),y1(),g1()}}function m1(){if(vn===1){vn=0;var e=Wi,r=Ha,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=A.T,A.T=null;var l=C.p;C.p=2;var p=vt;vt|=4;try{Xy(r,e);var b=nh,N=tm(e.containerInfo),q=b.focusedElem,J=b.selectionRange;if(N!==q&&q&&q.ownerDocument&&em(q.ownerDocument.documentElement,q)){if(J!==null&&Tf(q)){var he=J.start,we=J.end;if(we===void 0&&(we=he),"selectionStart"in q)q.selectionStart=he,q.selectionEnd=Math.min(we,q.value.length);else{var Ee=q.ownerDocument||document,ye=Ee&&Ee.defaultView||window;if(ye.getSelection){var be=ye.getSelection(),De=q.textContent.length,Ye=Math.min(J.start,De),kt=J.end===void 0?Ye:Math.min(J.end,De);!be.extend&&Ye>kt&&(N=kt,kt=Ye,Ye=N);var oe=Jp(q,Ye),te=Jp(q,kt);if(oe&&te&&(be.rangeCount!==1||be.anchorNode!==oe.node||be.anchorOffset!==oe.offset||be.focusNode!==te.node||be.focusOffset!==te.offset)){var de=Ee.createRange();de.setStart(oe.node,oe.offset),be.removeAllRanges(),Ye>kt?(be.addRange(de),be.extend(te.node,te.offset)):(de.setEnd(te.node,te.offset),be.addRange(de))}}}}for(Ee=[],be=q;be=be.parentNode;)be.nodeType===1&&Ee.push({element:be,left:be.scrollLeft,top:be.scrollTop});for(typeof q.focus=="function"&&q.focus(),q=0;q<Ee.length;q++){var ve=Ee[q];ve.element.scrollLeft=ve.left,ve.element.scrollTop=ve.top}}Xl=!!th,nh=th=null}finally{vt=p,C.p=l,A.T=a}}e.current=r,vn=2}}function y1(){if(vn===2){vn=0;var e=Wi,r=Ha,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=A.T,A.T=null;var l=C.p;C.p=2;var p=vt;vt|=4;try{Vy(e,r.alternate,r)}finally{vt=p,C.p=l,A.T=a}}vn=3}}function g1(){if(vn===4||vn===3){vn=0,We();var e=Wi,r=Ha,a=yi,l=r1;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?vn=5:(vn=0,Ha=Wi=null,b1(e,e.pendingLanes));var p=e.pendingLanes;if(p===0&&(Xi=null),ca(a),r=r.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(me,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=A.T,p=C.p,C.p=2,A.T=null;try{for(var b=e.onRecoverableError,N=0;N<l.length;N++){var q=l[N];b(q.value,{componentStack:q.stack})}}finally{A.T=r,C.p=p}}(yi&3)!==0&&Ll(),Hr(e),p=e.pendingLanes,(a&261930)!==0&&(p&42)!==0?e===qd?tc++:(tc=0,qd=e):tc=0,nc(0)}}function b1(e,r){(e.pooledCacheLanes&=r)===0&&(r=e.pooledCache,r!=null&&(e.pooledCache=null,Do(r)))}function Ll(){return m1(),y1(),g1(),w1()}function w1(){if(vn!==5)return!1;var e=Wi,r=jd;jd=0;var a=ca(yi),l=A.T,p=C.p;try{C.p=32>a?32:a,A.T=null,a=Pd,Pd=null;var b=Wi,N=yi;if(vn=0,Ha=Wi=null,yi=0,(vt&6)!==0)throw Error(i(331));var q=vt;if(vt|=4,e1(b.current),$y(b,b.current,N,a),vt=q,nc(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(me,b)}catch{}return!0}finally{C.p=p,A.T=l,b1(e,r)}}function _1(e,r,a){r=fr(a,r),r=_d(e.stateNode,r,2),e=Ki(e,r,2),e!==null&&(Bi(e,2),Hr(e))}function At(e,r,a){if(e.tag===3)_1(e,e,a);else for(;r!==null;){if(r.tag===3){_1(r,e,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Xi===null||!Xi.has(l))){e=fr(a,e),a=vy(2),l=Ki(r,a,2),l!==null&&(Ey(a,l,r,e),Bi(l,2),Hr(l));break}}r=r.return}}function Gd(e,r,a){var l=e.pingCache;if(l===null){l=e.pingCache=new uA;var p=new Set;l.set(r,p)}else p=l.get(r),p===void 0&&(p=new Set,l.set(r,p));p.has(a)||(Ld=!0,p.add(a),e=mA.bind(null,e,r,a),r.then(e,e))}function mA(e,r,a){var l=e.pingCache;l!==null&&l.delete(r),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Bt===e&&(lt&a)===a&&(on===4||on===3&&(lt&62914560)===lt&&300>je()-Il?(vt&2)===0&&ja(e,0):zd|=a,za===lt&&(za=0)),Hr(e)}function v1(e,r){r===0&&(r=Zt()),e=Os(e,r),e!==null&&(Bi(e,r),Hr(e))}function yA(e){var r=e.memoizedState,a=0;r!==null&&(a=r.retryLane),v1(e,a)}function gA(e,r){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,p=e.memoizedState;p!==null&&(a=p.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(r),v1(e,a)}function bA(e,r){return ht(e,r)}var zl=null,qa=null,Fd=!1,Hl=!1,Yd=!1,Qi=0;function Hr(e){e!==qa&&e.next===null&&(qa===null?zl=qa=e:qa=qa.next=e),Hl=!0,Fd||(Fd=!0,_A())}function nc(e,r){if(!Yd&&Hl){Yd=!0;do for(var a=!1,l=zl;l!==null;){if(e!==0){var p=l.pendingLanes;if(p===0)var b=0;else{var N=l.suspendedLanes,q=l.pingedLanes;b=(1<<31-Ue(42|e)+1)-1,b&=p&~(N&~q),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(a=!0,R1(l,b))}else b=lt,b=Ht(l,l===Bt?b:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(b&3)===0||Mt(l,b)||(a=!0,R1(l,b));l=l.next}while(a);Yd=!1}}function wA(){E1()}function E1(){Hl=Fd=!1;var e=0;Qi!==0&&kA()&&(e=Qi);for(var r=je(),a=null,l=zl;l!==null;){var p=l.next,b=S1(l,r);b===0?(l.next=null,a===null?zl=p:a.next=p,p===null&&(qa=a)):(a=l,(e!==0||(b&3)!==0)&&(Hl=!0)),l=p}vn!==0&&vn!==5||nc(e),Qi!==0&&(Qi=0)}function S1(e,r){for(var a=e.suspendedLanes,l=e.pingedLanes,p=e.expirationTimes,b=e.pendingLanes&-62914561;0<b;){var N=31-Ue(b),q=1<<N,J=p[N];J===-1?((q&a)===0||(q&l)!==0)&&(p[N]=Gc(q,r)):J<=r&&(e.expiredLanes|=q),b&=~q}if(r=Bt,a=lt,a=Ht(e,e===r?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===r&&(St===2||St===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Fe(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Mt(e,a)){if(r=a&-a,r===e.callbackPriority)return r;switch(l!==null&&Fe(l),ca(a)){case 2:case 8:a=H;break;case 32:a=S;break;case 268435456:a=P;break;default:a=S}return l=A1.bind(null,e),a=ht(a,l),e.callbackPriority=r,e.callbackNode=a,r}return l!==null&&l!==null&&Fe(l),e.callbackPriority=2,e.callbackNode=null,2}function A1(e,r){if(vn!==0&&vn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ll()&&e.callbackNode!==a)return null;var l=lt;return l=Ht(e,e===Bt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(s1(e,l,r),S1(e,je()),e.callbackNode!=null&&e.callbackNode===a?A1.bind(null,e):null)}function R1(e,r){if(Ll())return null;s1(e,r,!0)}function _A(){CA(function(){(vt&6)!==0?ht(Ce,wA):E1()})}function Zd(){if(Qi===0){var e=Ta;e===0&&(e=Ss,Ss<<=1,(Ss&261888)===0&&(Ss=256)),Qi=e}return Qi}function x1(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Yc(""+e)}function T1(e,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,e.id&&a.setAttribute("form",e.id),r.parentNode.insertBefore(a,r),e=new FormData(e),a.parentNode.removeChild(a),e}function vA(e,r,a,l,p){if(r==="submit"&&a&&a.stateNode===p){var b=x1((p[ft]||null).action),N=l.submitter;N&&(r=(r=N[ft]||null)?x1(r.formAction):N.getAttribute("formAction"),r!==null&&(b=r,N=null));var q=new $c("action","action",null,l,p);e.push({event:q,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Qi!==0){var J=N?T1(p,N):new FormData(p);pd(a,{pending:!0,data:J,method:p.method,action:b},null,J)}}else typeof b=="function"&&(q.preventDefault(),J=N?T1(p,N):new FormData(p),pd(a,{pending:!0,data:J,method:p.method,action:b},b,J))},currentTarget:p}]})}}for(var Xd=0;Xd<If.length;Xd++){var Wd=If[Xd],EA=Wd.toLowerCase(),SA=Wd[0].toUpperCase()+Wd.slice(1);Ar(EA,"on"+SA)}Ar(im,"onAnimationEnd"),Ar(sm,"onAnimationIteration"),Ar(am,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(HS,"onTransitionRun"),Ar(jS,"onTransitionStart"),Ar(PS,"onTransitionCancel"),Ar(om,"onTransitionEnd"),Ur("onMouseEnter",["mouseout","mouseover"]),Ur("onMouseLeave",["mouseout","mouseover"]),Ur("onPointerEnter",["pointerout","pointerover"]),Ur("onPointerLeave",["pointerout","pointerover"]),Sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Sr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rc));function O1(e,r){r=(r&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],p=l.event;l=l.listeners;e:{var b=void 0;if(r)for(var N=l.length-1;0<=N;N--){var q=l[N],J=q.instance,he=q.currentTarget;if(q=q.listener,J!==b&&p.isPropagationStopped())break e;b=q,p.currentTarget=he;try{b(p)}catch(we){el(we)}p.currentTarget=null,b=J}else for(N=0;N<l.length;N++){if(q=l[N],J=q.instance,he=q.currentTarget,q=q.listener,J!==b&&p.isPropagationStopped())break e;b=q,p.currentTarget=he;try{b(p)}catch(we){el(we)}p.currentTarget=null,b=J}}}}function ot(e,r){var a=r[Vt];a===void 0&&(a=r[Vt]=new Set);var l=e+"__bubble";a.has(l)||(N1(r,e,2,!1),a.add(l))}function $d(e,r,a){var l=0;r&&(l|=4),N1(a,e,l,r)}var jl="_reactListening"+Math.random().toString(36).slice(2);function Qd(e){if(!e[jl]){e[jl]=!0,ua.forEach(function(a){a!=="selectionchange"&&(AA.has(a)||$d(a,!1,e),$d(a,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[jl]||(r[jl]=!0,$d("selectionchange",!1,r))}}function N1(e,r,a,l){switch(ig(r)){case 2:var p=QA;break;case 8:p=JA;break;default:p=hh}a=p.bind(null,r,a,e),p=void 0,!bf||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(p=!0),l?p!==void 0?e.addEventListener(r,a,{capture:!0,passive:p}):e.addEventListener(r,a,!0):p!==void 0?e.addEventListener(r,a,{passive:p}):e.addEventListener(r,a,!1)}function Jd(e,r,a,l,p){var b=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var N=l.tag;if(N===3||N===4){var q=l.stateNode.containerInfo;if(q===p)break;if(N===4)for(N=l.return;N!==null;){var J=N.tag;if((J===3||J===4)&&N.stateNode.containerInfo===p)return;N=N.return}for(;q!==null;){if(N=Cr(q),N===null)return;if(J=N.tag,J===5||J===6||J===26||J===27){l=b=N;continue e}q=q.parentNode}}l=l.return}Mp(function(){var he=b,we=yf(a),Ee=[];e:{var ye=cm.get(e);if(ye!==void 0){var be=$c,De=e;switch(e){case"keypress":if(Xc(a)===0)break e;case"keydown":case"keyup":be=gS;break;case"focusin":De="focus",be=Ef;break;case"focusout":De="blur",be=Ef;break;case"beforeblur":case"afterblur":be=Ef;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":be=Lp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":be=sS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":be=_S;break;case im:case sm:case am:be=cS;break;case om:be=ES;break;case"scroll":case"scrollend":be=rS;break;case"wheel":be=AS;break;case"copy":case"cut":case"paste":be=uS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":be=Hp;break;case"toggle":case"beforetoggle":be=xS}var Ye=(r&4)!==0,kt=!Ye&&(e==="scroll"||e==="scrollend"),oe=Ye?ye!==null?ye+"Capture":null:ye;Ye=[];for(var te=he,de;te!==null;){var ve=te;if(de=ve.stateNode,ve=ve.tag,ve!==5&&ve!==26&&ve!==27||de===null||oe===null||(ve=Ro(te,oe),ve!=null&&Ye.push(ic(te,ve,de))),kt)break;te=te.return}0<Ye.length&&(ye=new be(ye,De,null,a,we),Ee.push({event:ye,listeners:Ye}))}}if((r&7)===0){e:{if(ye=e==="mouseover"||e==="pointerover",be=e==="mouseout"||e==="pointerout",ye&&a!==mf&&(De=a.relatedTarget||a.fromElement)&&(Cr(De)||De[$r]))break e;if((be||ye)&&(ye=we.window===we?we:(ye=we.ownerDocument)?ye.defaultView||ye.parentWindow:window,be?(De=a.relatedTarget||a.toElement,be=he,De=De?Cr(De):null,De!==null&&(kt=c(De),Ye=De.tag,De!==kt||Ye!==5&&Ye!==27&&Ye!==6)&&(De=null)):(be=null,De=he),be!==De)){if(Ye=Lp,ve="onMouseLeave",oe="onMouseEnter",te="mouse",(e==="pointerout"||e==="pointerover")&&(Ye=Hp,ve="onPointerLeave",oe="onPointerEnter",te="pointer"),kt=be==null?ye:Jr(be),de=De==null?ye:Jr(De),ye=new Ye(ve,te+"leave",be,a,we),ye.target=kt,ye.relatedTarget=de,ve=null,Cr(we)===he&&(Ye=new Ye(oe,te+"enter",De,a,we),Ye.target=de,Ye.relatedTarget=kt,ve=Ye),kt=ve,be&&De)t:{for(Ye=RA,oe=be,te=De,de=0,ve=oe;ve;ve=Ye(ve))de++;ve=0;for(var qe=te;qe;qe=Ye(qe))ve++;for(;0<de-ve;)oe=Ye(oe),de--;for(;0<ve-de;)te=Ye(te),ve--;for(;de--;){if(oe===te||te!==null&&oe===te.alternate){Ye=oe;break t}oe=Ye(oe),te=Ye(te)}Ye=null}else Ye=null;be!==null&&k1(Ee,ye,be,Ye,!1),De!==null&&kt!==null&&k1(Ee,kt,De,Ye,!0)}}e:{if(ye=he?Jr(he):window,be=ye.nodeName&&ye.nodeName.toLowerCase(),be==="select"||be==="input"&&ye.type==="file")var gt=Yp;else if(Gp(ye))if(Zp)gt=DS;else{gt=MS;var Le=BS}else be=ye.nodeName,!be||be.toLowerCase()!=="input"||ye.type!=="checkbox"&&ye.type!=="radio"?he&&pf(he.elementType)&&(gt=Yp):gt=US;if(gt&&(gt=gt(e,he))){Fp(Ee,gt,a,we);break e}Le&&Le(e,ye,he),e==="focusout"&&he&&ye.type==="number"&&he.memoizedProps.value!=null&&hf(ye,"number",ye.value)}switch(Le=he?Jr(he):window,e){case"focusin":(Gp(Le)||Le.contentEditable==="true")&&(wa=Le,Of=he,Bo=null);break;case"focusout":Bo=Of=wa=null;break;case"mousedown":Nf=!0;break;case"contextmenu":case"mouseup":case"dragend":Nf=!1,nm(Ee,a,we);break;case"selectionchange":if(zS)break;case"keydown":case"keyup":nm(Ee,a,we)}var tt;if(Af)e:{switch(e){case"compositionstart":var ut="onCompositionStart";break e;case"compositionend":ut="onCompositionEnd";break e;case"compositionupdate":ut="onCompositionUpdate";break e}ut=void 0}else ba?Kp(e,a)&&(ut="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ut="onCompositionStart");ut&&(jp&&a.locale!=="ko"&&(ba||ut!=="onCompositionStart"?ut==="onCompositionEnd"&&ba&&(tt=Up()):(Di=we,wf="value"in Di?Di.value:Di.textContent,ba=!0)),Le=Pl(he,ut),0<Le.length&&(ut=new zp(ut,e,null,a,we),Ee.push({event:ut,listeners:Le}),tt?ut.data=tt:(tt=Vp(a),tt!==null&&(ut.data=tt)))),(tt=OS?NS(e,a):kS(e,a))&&(ut=Pl(he,"onBeforeInput"),0<ut.length&&(Le=new zp("onBeforeInput","beforeinput",null,a,we),Ee.push({event:Le,listeners:ut}),Le.data=tt)),vA(Ee,e,he,a,we)}O1(Ee,r)})}function ic(e,r,a){return{instance:e,listener:r,currentTarget:a}}function Pl(e,r){for(var a=r+"Capture",l=[];e!==null;){var p=e,b=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||b===null||(p=Ro(e,a),p!=null&&l.unshift(ic(e,p,b)),p=Ro(e,r),p!=null&&l.push(ic(e,p,b))),e.tag===3)return l;e=e.return}return[]}function RA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function k1(e,r,a,l,p){for(var b=r._reactName,N=[];a!==null&&a!==l;){var q=a,J=q.alternate,he=q.stateNode;if(q=q.tag,J!==null&&J===l)break;q!==5&&q!==26&&q!==27||he===null||(J=he,p?(he=Ro(a,b),he!=null&&N.unshift(ic(a,he,J))):p||(he=Ro(a,b),he!=null&&N.push(ic(a,he,J)))),a=a.return}N.length!==0&&e.push({event:r,listeners:N})}var xA=/\r\n?/g,TA=/\u0000|\uFFFD/g;function I1(e){return(typeof e=="string"?e:""+e).replace(xA,`
`).replace(TA,"")}function C1(e,r){return r=I1(r),I1(e)===r}function Nt(e,r,a,l,p,b){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||ma(e,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&ma(e,""+l);break;case"className":Ui(e,"class",l);break;case"tabIndex":Ui(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ui(e,a,l);break;case"style":Cp(e,l,b);break;case"data":if(r!=="object"){Ui(e,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Yc(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(a==="formAction"?(r!=="input"&&Nt(e,r,"name",p.name,p,null),Nt(e,r,"formEncType",p.formEncType,p,null),Nt(e,r,"formMethod",p.formMethod,p,null),Nt(e,r,"formTarget",p.formTarget,p,null)):(Nt(e,r,"encType",p.encType,p,null),Nt(e,r,"method",p.method,p,null),Nt(e,r,"target",p.target,p,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Yc(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=ti);break;case"onScroll":l!=null&&ot("scroll",e);break;case"onScrollEnd":l!=null&&ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(p.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Yc(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":ot("beforetoggle",e),ot("toggle",e),Mi(e,"popover",l);break;case"xlinkActuate":ei(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ei(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ei(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ei(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ei(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ei(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ei(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ei(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ei(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Mi(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=tS.get(a)||a,Mi(e,a,l))}}function eh(e,r,a,l,p,b){switch(a){case"style":Cp(e,l,b);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(p.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"children":typeof l=="string"?ma(e,l):(typeof l=="number"||typeof l=="bigint")&&ma(e,""+l);break;case"onScroll":l!=null&&ot("scroll",e);break;case"onScrollEnd":l!=null&&ot("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(p=a.endsWith("Capture"),r=a.slice(2,p?a.length-7:void 0),b=e[ft]||null,b=b!=null?b[a]:null,typeof b=="function"&&e.removeEventListener(r,b,p),typeof l=="function")){typeof b!="function"&&b!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(r,l,p);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Mi(e,a,l)}}}function Nn(e,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ot("error",e),ot("load",e);var l=!1,p=!1,b;for(b in a)if(a.hasOwnProperty(b)){var N=a[b];if(N!=null)switch(b){case"src":l=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Nt(e,r,b,N,a,null)}}p&&Nt(e,r,"srcSet",a.srcSet,a,null),l&&Nt(e,r,"src",a.src,a,null);return;case"input":ot("invalid",e);var q=b=N=p=null,J=null,he=null;for(l in a)if(a.hasOwnProperty(l)){var we=a[l];if(we!=null)switch(l){case"name":p=we;break;case"type":N=we;break;case"checked":J=we;break;case"defaultChecked":he=we;break;case"value":b=we;break;case"defaultValue":q=we;break;case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(i(137,r));break;default:Nt(e,r,l,we,a,null)}}Op(e,b,q,J,he,N,p,!1);return;case"select":ot("invalid",e),l=N=b=null;for(p in a)if(a.hasOwnProperty(p)&&(q=a[p],q!=null))switch(p){case"value":b=q;break;case"defaultValue":N=q;break;case"multiple":l=q;default:Nt(e,r,p,q,a,null)}r=b,a=N,e.multiple=!!l,r!=null?pa(e,!!l,r,!1):a!=null&&pa(e,!!l,a,!0);return;case"textarea":ot("invalid",e),b=p=l=null;for(N in a)if(a.hasOwnProperty(N)&&(q=a[N],q!=null))switch(N){case"value":l=q;break;case"defaultValue":p=q;break;case"children":b=q;break;case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(91));break;default:Nt(e,r,N,q,a,null)}kp(e,l,p,b);return;case"option":for(J in a)a.hasOwnProperty(J)&&(l=a[J],l!=null)&&(J==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Nt(e,r,J,l,a,null));return;case"dialog":ot("beforetoggle",e),ot("toggle",e),ot("cancel",e),ot("close",e);break;case"iframe":case"object":ot("load",e);break;case"video":case"audio":for(l=0;l<rc.length;l++)ot(rc[l],e);break;case"image":ot("error",e),ot("load",e);break;case"details":ot("toggle",e);break;case"embed":case"source":case"link":ot("error",e),ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(he in a)if(a.hasOwnProperty(he)&&(l=a[he],l!=null))switch(he){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Nt(e,r,he,l,a,null)}return;default:if(pf(r)){for(we in a)a.hasOwnProperty(we)&&(l=a[we],l!==void 0&&eh(e,r,we,l,a,void 0));return}}for(q in a)a.hasOwnProperty(q)&&(l=a[q],l!=null&&Nt(e,r,q,l,a,null))}function OA(e,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,b=null,N=null,q=null,J=null,he=null,we=null;for(be in a){var Ee=a[be];if(a.hasOwnProperty(be)&&Ee!=null)switch(be){case"checked":break;case"value":break;case"defaultValue":J=Ee;default:l.hasOwnProperty(be)||Nt(e,r,be,null,l,Ee)}}for(var ye in l){var be=l[ye];if(Ee=a[ye],l.hasOwnProperty(ye)&&(be!=null||Ee!=null))switch(ye){case"type":b=be;break;case"name":p=be;break;case"checked":he=be;break;case"defaultChecked":we=be;break;case"value":N=be;break;case"defaultValue":q=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(i(137,r));break;default:be!==Ee&&Nt(e,r,ye,be,l,Ee)}}df(e,N,q,J,he,we,b,p);return;case"select":be=N=q=ye=null;for(b in a)if(J=a[b],a.hasOwnProperty(b)&&J!=null)switch(b){case"value":break;case"multiple":be=J;default:l.hasOwnProperty(b)||Nt(e,r,b,null,l,J)}for(p in l)if(b=l[p],J=a[p],l.hasOwnProperty(p)&&(b!=null||J!=null))switch(p){case"value":ye=b;break;case"defaultValue":q=b;break;case"multiple":N=b;default:b!==J&&Nt(e,r,p,b,l,J)}r=q,a=N,l=be,ye!=null?pa(e,!!a,ye,!1):!!l!=!!a&&(r!=null?pa(e,!!a,r,!0):pa(e,!!a,a?[]:"",!1));return;case"textarea":be=ye=null;for(q in a)if(p=a[q],a.hasOwnProperty(q)&&p!=null&&!l.hasOwnProperty(q))switch(q){case"value":break;case"children":break;default:Nt(e,r,q,null,l,p)}for(N in l)if(p=l[N],b=a[N],l.hasOwnProperty(N)&&(p!=null||b!=null))switch(N){case"value":ye=p;break;case"defaultValue":be=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==b&&Nt(e,r,N,p,l,b)}Np(e,ye,be);return;case"option":for(var De in a)ye=a[De],a.hasOwnProperty(De)&&ye!=null&&!l.hasOwnProperty(De)&&(De==="selected"?e.selected=!1:Nt(e,r,De,null,l,ye));for(J in l)ye=l[J],be=a[J],l.hasOwnProperty(J)&&ye!==be&&(ye!=null||be!=null)&&(J==="selected"?e.selected=ye&&typeof ye!="function"&&typeof ye!="symbol":Nt(e,r,J,ye,l,be));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ye in a)ye=a[Ye],a.hasOwnProperty(Ye)&&ye!=null&&!l.hasOwnProperty(Ye)&&Nt(e,r,Ye,null,l,ye);for(he in l)if(ye=l[he],be=a[he],l.hasOwnProperty(he)&&ye!==be&&(ye!=null||be!=null))switch(he){case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(i(137,r));break;default:Nt(e,r,he,ye,l,be)}return;default:if(pf(r)){for(var kt in a)ye=a[kt],a.hasOwnProperty(kt)&&ye!==void 0&&!l.hasOwnProperty(kt)&&eh(e,r,kt,void 0,l,ye);for(we in l)ye=l[we],be=a[we],!l.hasOwnProperty(we)||ye===be||ye===void 0&&be===void 0||eh(e,r,we,ye,l,be);return}}for(var oe in a)ye=a[oe],a.hasOwnProperty(oe)&&ye!=null&&!l.hasOwnProperty(oe)&&Nt(e,r,oe,null,l,ye);for(Ee in l)ye=l[Ee],be=a[Ee],!l.hasOwnProperty(Ee)||ye===be||ye==null&&be==null||Nt(e,r,Ee,ye,l,be)}function B1(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function NA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var p=a[l],b=p.transferSize,N=p.initiatorType,q=p.duration;if(b&&q&&B1(N)){for(N=0,q=p.responseEnd,l+=1;l<a.length;l++){var J=a[l],he=J.startTime;if(he>q)break;var we=J.transferSize,Ee=J.initiatorType;we&&B1(Ee)&&(J=J.responseEnd,N+=we*(J<q?1:(q-he)/(J-he)))}if(--l,r+=8*(b+N)/(p.duration/1e3),e++,10<e)break}}if(0<e)return r/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var th=null,nh=null;function ql(e){return e.nodeType===9?e:e.ownerDocument}function M1(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function U1(e,r){if(e===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&r==="foreignObject"?0:e}function rh(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var ih=null;function kA(){var e=window.event;return e&&e.type==="popstate"?e===ih?!1:(ih=e,!0):(ih=null,!1)}var D1=typeof setTimeout=="function"?setTimeout:void 0,IA=typeof clearTimeout=="function"?clearTimeout:void 0,L1=typeof Promise=="function"?Promise:void 0,CA=typeof queueMicrotask=="function"?queueMicrotask:typeof L1<"u"?function(e){return L1.resolve(null).then(e).catch(BA)}:D1;function BA(e){setTimeout(function(){throw e})}function Ji(e){return e==="head"}function z1(e,r){var a=r,l=0;do{var p=a.nextSibling;if(e.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(p),Fa(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")sc(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,sc(a);for(var b=a.firstChild;b;){var N=b.nextSibling,q=b.nodeName;b[Qr]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&b.rel.toLowerCase()==="stylesheet"||a.removeChild(b),b=N}}else a==="body"&&sc(e.ownerDocument.body);a=p}while(a);Fa(r)}function H1(e,r){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function sh(e){var r=e.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":sh(a),As(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function MA(e,r,a,l){for(;e.nodeType===1;){var p=a;if(e.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Qr])switch(r){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(b=e.getAttribute("rel"),b==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(b!==p.rel||e.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||e.getAttribute("title")!==(p.title==null?null:p.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(b=e.getAttribute("src"),(b!==(p.src==null?null:p.src)||e.getAttribute("type")!==(p.type==null?null:p.type)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&b&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(r==="input"&&e.type==="hidden"){var b=p.name==null?null:""+p.name;if(p.type==="hidden"&&e.getAttribute("name")===b)return e}else return e;if(e=yr(e.nextSibling),e===null)break}return null}function UA(e,r,a){if(r==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=yr(e.nextSibling),e===null))return null;return e}function j1(e,r){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=yr(e.nextSibling),e===null))return null;return e}function ah(e){return e.data==="$?"||e.data==="$~"}function oh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function DA(e,r){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=r;else if(e.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function yr(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return e}var ch=null;function P1(e){e=e.nextSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(r===0)return yr(e.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}e=e.nextSibling}return null}function q1(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return e;r--}else a!=="/$"&&a!=="/&"||r++}e=e.previousSibling}return null}function K1(e,r,a){switch(r=ql(a),e){case"html":if(e=r.documentElement,!e)throw Error(i(452));return e;case"head":if(e=r.head,!e)throw Error(i(453));return e;case"body":if(e=r.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function sc(e){for(var r=e.attributes;r.length;)e.removeAttributeNode(r[0]);As(e)}var gr=new Map,V1=new Set;function Kl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var gi=C.d;C.d={f:LA,r:zA,D:HA,C:jA,L:PA,m:qA,X:VA,S:KA,M:GA};function LA(){var e=gi.f(),r=Ml();return e||r}function zA(e){var r=Br(e);r!==null&&r.tag===5&&r.type==="form"?oy(r):gi.r(e)}var Ka=typeof document>"u"?null:document;function G1(e,r,a){var l=Ka;if(l&&typeof r=="string"&&r){var p=lr(r);p='link[rel="'+e+'"][href="'+p+'"]',typeof a=="string"&&(p+='[crossorigin="'+a+'"]'),V1.has(p)||(V1.add(p),e={rel:e,crossOrigin:a,href:r},l.querySelector(p)===null&&(r=l.createElement("link"),Nn(r,"link",e),sn(r),l.head.appendChild(r)))}}function HA(e){gi.D(e),G1("dns-prefetch",e,null)}function jA(e,r){gi.C(e,r),G1("preconnect",e,r)}function PA(e,r,a){gi.L(e,r,a);var l=Ka;if(l&&e&&r){var p='link[rel="preload"][as="'+lr(r)+'"]';r==="image"&&a&&a.imageSrcSet?(p+='[imagesrcset="'+lr(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(p+='[imagesizes="'+lr(a.imageSizes)+'"]')):p+='[href="'+lr(e)+'"]';var b=p;switch(r){case"style":b=Va(e);break;case"script":b=Ga(e)}gr.has(b)||(e=I({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:e,as:r},a),gr.set(b,e),l.querySelector(p)!==null||r==="style"&&l.querySelector(ac(b))||r==="script"&&l.querySelector(oc(b))||(r=l.createElement("link"),Nn(r,"link",e),sn(r),l.head.appendChild(r)))}}function qA(e,r){gi.m(e,r);var a=Ka;if(a&&e){var l=r&&typeof r.as=="string"?r.as:"script",p='link[rel="modulepreload"][as="'+lr(l)+'"][href="'+lr(e)+'"]',b=p;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Ga(e)}if(!gr.has(b)&&(e=I({rel:"modulepreload",href:e},r),gr.set(b,e),a.querySelector(p)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(oc(b)))return}l=a.createElement("link"),Nn(l,"link",e),sn(l),a.head.appendChild(l)}}}function KA(e,r,a){gi.S(e,r,a);var l=Ka;if(l&&e){var p=Mr(l).hoistableStyles,b=Va(e);r=r||"default";var N=p.get(b);if(!N){var q={loading:0,preload:null};if(N=l.querySelector(ac(b)))q.loading=5;else{e=I({rel:"stylesheet",href:e,"data-precedence":r},a),(a=gr.get(b))&&lh(e,a);var J=N=l.createElement("link");sn(J),Nn(J,"link",e),J._p=new Promise(function(he,we){J.onload=he,J.onerror=we}),J.addEventListener("load",function(){q.loading|=1}),J.addEventListener("error",function(){q.loading|=2}),q.loading|=4,Vl(N,r,l)}N={type:"stylesheet",instance:N,count:1,state:q},p.set(b,N)}}}function VA(e,r){gi.X(e,r);var a=Ka;if(a&&e){var l=Mr(a).hoistableScripts,p=Ga(e),b=l.get(p);b||(b=a.querySelector(oc(p)),b||(e=I({src:e,async:!0},r),(r=gr.get(p))&&uh(e,r),b=a.createElement("script"),sn(b),Nn(b,"link",e),a.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},l.set(p,b))}}function GA(e,r){gi.M(e,r);var a=Ka;if(a&&e){var l=Mr(a).hoistableScripts,p=Ga(e),b=l.get(p);b||(b=a.querySelector(oc(p)),b||(e=I({src:e,async:!0,type:"module"},r),(r=gr.get(p))&&uh(e,r),b=a.createElement("script"),sn(b),Nn(b,"link",e),a.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},l.set(p,b))}}function F1(e,r,a,l){var p=(p=Z.current)?Kl(p):null;if(!p)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Va(a.href),a=Mr(p).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Va(a.href);var b=Mr(p).hoistableStyles,N=b.get(e);if(N||(p=p.ownerDocument||p,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(e,N),(b=p.querySelector(ac(e)))&&!b._p&&(N.instance=b,N.state.loading=5),gr.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},gr.set(e,a),b||FA(p,e,a,N.state))),r&&l===null)throw Error(i(528,""));return N}if(r&&l!==null)throw Error(i(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ga(a),a=Mr(p).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Va(e){return'href="'+lr(e)+'"'}function ac(e){return'link[rel="stylesheet"]['+e+"]"}function Y1(e){return I({},e,{"data-precedence":e.precedence,precedence:null})}function FA(e,r,a,l){e.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=e.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Nn(r,"link",a),sn(r),e.head.appendChild(r))}function Ga(e){return'[src="'+lr(e)+'"]'}function oc(e){return"script[async]"+e}function Z1(e,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=e.querySelector('style[data-href~="'+lr(a.href)+'"]');if(l)return r.instance=l,sn(l),l;var p=I({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),sn(l),Nn(l,"style",p),Vl(l,a.precedence,e),r.instance=l;case"stylesheet":p=Va(a.href);var b=e.querySelector(ac(p));if(b)return r.state.loading|=4,r.instance=b,sn(b),b;l=Y1(a),(p=gr.get(p))&&lh(l,p),b=(e.ownerDocument||e).createElement("link"),sn(b);var N=b;return N._p=new Promise(function(q,J){N.onload=q,N.onerror=J}),Nn(b,"link",l),r.state.loading|=4,Vl(b,a.precedence,e),r.instance=b;case"script":return b=Ga(a.src),(p=e.querySelector(oc(b)))?(r.instance=p,sn(p),p):(l=a,(p=gr.get(b))&&(l=I({},a),uh(l,p)),e=e.ownerDocument||e,p=e.createElement("script"),sn(p),Nn(p,"link",l),e.head.appendChild(p),r.instance=p);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Vl(l,a.precedence,e));return r.instance}function Vl(e,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=l.length?l[l.length-1]:null,b=p,N=0;N<l.length;N++){var q=l[N];if(q.dataset.precedence===r)b=q;else if(b!==p)break}b?b.parentNode.insertBefore(e,b.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(e,r.firstChild))}function lh(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.title==null&&(e.title=r.title)}function uh(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.integrity==null&&(e.integrity=r.integrity)}var Gl=null;function X1(e,r,a){if(Gl===null){var l=new Map,p=Gl=new Map;p.set(a,l)}else p=Gl,l=p.get(a),l||(l=new Map,p.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),p=0;p<a.length;p++){var b=a[p];if(!(b[Qr]||b[st]||e==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var N=b.getAttribute(r)||"";N=e+N;var q=l.get(N);q?q.push(b):l.set(N,[b])}}return l}function W1(e,r,a){e=e.ownerDocument||e,e.head.insertBefore(a,r==="title"?e.querySelector("head > title"):null)}function YA(e,r,a){if(a===1||r.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(e=r.disabled,typeof r.precedence=="string"&&e==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function $1(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ZA(e,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var p=Va(l.href),b=r.querySelector(ac(p));if(b){r=b._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(e.count++,e=Fl.bind(e),r.then(e,e)),a.state.loading|=4,a.instance=b,sn(b);return}b=r.ownerDocument||r,l=Y1(l),(p=gr.get(p))&&lh(l,p),b=b.createElement("link"),sn(b);var N=b;N._p=new Promise(function(q,J){N.onload=q,N.onerror=J}),Nn(b,"link",l),a.instance=b}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Fl.bind(e),r.addEventListener("load",a),r.addEventListener("error",a))}}var fh=0;function XA(e,r){return e.stylesheets&&e.count===0&&Zl(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Zl(e,e.stylesheets),e.unsuspend){var b=e.unsuspend;e.unsuspend=null,b()}},6e4+r);0<e.imgBytes&&fh===0&&(fh=62500*NA());var p=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Zl(e,e.stylesheets),e.unsuspend)){var b=e.unsuspend;e.unsuspend=null,b()}},(e.imgBytes>fh?50:800)+r);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(p)}}:null}function Fl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Yl=null;function Zl(e,r){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Yl=new Map,r.forEach(WA,e),Yl=null,Fl.call(e))}function WA(e,r){if(!(r.state.loading&4)){var a=Yl.get(e);if(a)var l=a.get(null);else{a=new Map,Yl.set(e,a);for(var p=e.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<p.length;b++){var N=p[b];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(a.set(N.dataset.precedence,N),l=N)}l&&a.set(null,l)}p=r.instance,N=p.getAttribute("data-precedence"),b=a.get(N)||l,b===l&&a.set(null,p),a.set(N,p),this.count++,l=Fl.bind(this),p.addEventListener("load",l),p.addEventListener("error",l),b?b.parentNode.insertBefore(p,b.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(p,e.firstChild)),r.state.loading|=4}}var cc={$$typeof:V,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function $A(e,r,a,l,p,b,N,q,J){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qt(0),this.hiddenUpdates=qt(null),this.identifierPrefix=l,this.onUncaughtError=p,this.onCaughtError=b,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=J,this.incompleteTransitions=new Map}function Q1(e,r,a,l,p,b,N,q,J,he,we,Ee){return e=new $A(e,r,a,N,J,he,we,Ee,q),r=1,b===!0&&(r|=24),b=Qn(3,null,null,r),e.current=b,b.stateNode=e,r=Vf(),r.refCount++,e.pooledCache=r,r.refCount++,b.memoizedState={element:l,isDehydrated:a,cache:r},Zf(b),e}function J1(e){return e?(e=Ea,e):Ea}function eg(e,r,a,l,p,b){p=J1(p),l.context===null?l.context=p:l.pendingContext=p,l=qi(r),l.payload={element:a},b=b===void 0?null:b,b!==null&&(l.callback=b),a=Ki(e,l,r),a!==null&&(Fn(a,e,r),jo(a,e,r))}function tg(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<r?a:r}}function dh(e,r){tg(e,r),(e=e.alternate)&&tg(e,r)}function ng(e){if(e.tag===13||e.tag===31){var r=Os(e,67108864);r!==null&&Fn(r,e,67108864),dh(e,67108864)}}function rg(e){if(e.tag===13||e.tag===31){var r=rr();r=Kt(r);var a=Os(e,r);a!==null&&Fn(a,e,r),dh(e,r)}}var Xl=!0;function QA(e,r,a,l){var p=A.T;A.T=null;var b=C.p;try{C.p=2,hh(e,r,a,l)}finally{C.p=b,A.T=p}}function JA(e,r,a,l){var p=A.T;A.T=null;var b=C.p;try{C.p=8,hh(e,r,a,l)}finally{C.p=b,A.T=p}}function hh(e,r,a,l){if(Xl){var p=ph(l);if(p===null)Jd(e,r,l,Wl,a),sg(e,l);else if(tR(p,e,r,a,l))l.stopPropagation();else if(sg(e,l),r&4&&-1<eR.indexOf(e)){for(;p!==null;){var b=Br(p);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var N=Ir(b.pendingLanes);if(N!==0){var q=b;for(q.pendingLanes|=2,q.entangledLanes|=2;N;){var J=1<<31-Ue(N);q.entanglements[1]|=J,N&=~J}Hr(b),(vt&6)===0&&(Cl=je()+500,nc(0))}}break;case 31:case 13:q=Os(b,2),q!==null&&Fn(q,b,2),Ml(),dh(b,2)}if(b=ph(l),b===null&&Jd(e,r,l,Wl,a),b===p)break;p=b}p!==null&&l.stopPropagation()}else Jd(e,r,l,null,a)}}function ph(e){return e=yf(e),mh(e)}var Wl=null;function mh(e){if(Wl=null,e=Cr(e),e!==null){var r=c(e);if(r===null)e=null;else{var a=r.tag;if(a===13){if(e=u(r),e!==null)return e;e=null}else if(a===31){if(e=d(r),e!==null)return e;e=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null)}}return Wl=e,null}function ig(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ct()){case Ce:return 2;case H:return 8;case S:case x:return 32;case P:return 268435456;default:return 32}default:return 32}}var yh=!1,es=null,ts=null,ns=null,lc=new Map,uc=new Map,rs=[],eR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sg(e,r){switch(e){case"focusin":case"focusout":es=null;break;case"dragenter":case"dragleave":ts=null;break;case"mouseover":case"mouseout":ns=null;break;case"pointerover":case"pointerout":lc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":uc.delete(r.pointerId)}}function fc(e,r,a,l,p,b){return e===null||e.nativeEvent!==b?(e={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:b,targetContainers:[p]},r!==null&&(r=Br(r),r!==null&&ng(r)),e):(e.eventSystemFlags|=l,r=e.targetContainers,p!==null&&r.indexOf(p)===-1&&r.push(p),e)}function tR(e,r,a,l,p){switch(r){case"focusin":return es=fc(es,e,r,a,l,p),!0;case"dragenter":return ts=fc(ts,e,r,a,l,p),!0;case"mouseover":return ns=fc(ns,e,r,a,l,p),!0;case"pointerover":var b=p.pointerId;return lc.set(b,fc(lc.get(b)||null,e,r,a,l,p)),!0;case"gotpointercapture":return b=p.pointerId,uc.set(b,fc(uc.get(b)||null,e,r,a,l,p)),!0}return!1}function ag(e){var r=Cr(e.target);if(r!==null){var a=c(r);if(a!==null){if(r=a.tag,r===13){if(r=u(a),r!==null){e.blockedOn=r,Qt(e.priority,function(){rg(a)});return}}else if(r===31){if(r=d(a),r!==null){e.blockedOn=r,Qt(e.priority,function(){rg(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $l(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var a=ph(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);mf=l,a.target.dispatchEvent(l),mf=null}else return r=Br(a),r!==null&&ng(r),e.blockedOn=a,!1;r.shift()}return!0}function og(e,r,a){$l(e)&&a.delete(r)}function nR(){yh=!1,es!==null&&$l(es)&&(es=null),ts!==null&&$l(ts)&&(ts=null),ns!==null&&$l(ns)&&(ns=null),lc.forEach(og),uc.forEach(og)}function Ql(e,r){e.blockedOn===r&&(e.blockedOn=null,yh||(yh=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,nR)))}var Jl=null;function cg(e){Jl!==e&&(Jl=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Jl===e&&(Jl=null);for(var r=0;r<e.length;r+=3){var a=e[r],l=e[r+1],p=e[r+2];if(typeof l!="function"){if(mh(l||a)===null)continue;break}var b=Br(a);b!==null&&(e.splice(r,3),r-=3,pd(b,{pending:!0,data:p,method:a.method,action:l},l,p))}}))}function Fa(e){function r(J){return Ql(J,e)}es!==null&&Ql(es,e),ts!==null&&Ql(ts,e),ns!==null&&Ql(ns,e),lc.forEach(r),uc.forEach(r);for(var a=0;a<rs.length;a++){var l=rs[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<rs.length&&(a=rs[0],a.blockedOn===null);)ag(a),a.blockedOn===null&&rs.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var p=a[l],b=a[l+1],N=p[ft]||null;if(typeof b=="function")N||cg(a);else if(N){var q=null;if(b&&b.hasAttribute("formAction")){if(p=b,N=b[ft]||null)q=N.formAction;else if(mh(p)!==null)continue}else q=N.action;typeof q=="function"?a[l+1]=q:(a.splice(l,3),l-=3),cg(a)}}}function lg(){function e(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(N){return p=N})},focusReset:"manual",scroll:"manual"})}function r(){p!==null&&(p(),p=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,p=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),p!==null&&(p(),p=null)}}}function gh(e){this._internalRoot=e}eu.prototype.render=gh.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(i(409));var a=r.current,l=rr();eg(a,l,e,r,null,null)},eu.prototype.unmount=gh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;eg(e.current,2,null,e,null,null),Ml(),r[$r]=null}};function eu(e){this._internalRoot=e}eu.prototype.unstable_scheduleHydration=function(e){if(e){var r=$t();e={blockedOn:null,target:e,priority:r};for(var a=0;a<rs.length&&r!==0&&r<rs[a].priority;a++);rs.splice(a,0,e),a===0&&ag(e)}};var ug=t.version;if(ug!=="19.2.3")throw Error(i(527,ug,"19.2.3"));C.findDOMNode=function(e){var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=w(r),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var rR={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tu.isDisabled&&tu.supportsFiber)try{me=tu.inject(rR),ze=tu}catch{}}return pc.createRoot=function(e,r){if(!o(e))throw Error(i(299));var a=!1,l="",p=gy,b=by,N=wy;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(b=r.onCaughtError),r.onRecoverableError!==void 0&&(N=r.onRecoverableError)),r=Q1(e,1,!1,null,null,a,l,null,p,b,N,lg),e[$r]=r.current,Qd(e),new gh(r)},pc.hydrateRoot=function(e,r,a){if(!o(e))throw Error(i(299));var l=!1,p="",b=gy,N=by,q=wy,J=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onUncaughtError!==void 0&&(b=a.onUncaughtError),a.onCaughtError!==void 0&&(N=a.onCaughtError),a.onRecoverableError!==void 0&&(q=a.onRecoverableError),a.formState!==void 0&&(J=a.formState)),r=Q1(e,1,!0,r,a??null,l,p,J,b,N,q,lg),r.context=J1(null),a=r.current,l=rr(),l=Kt(l),p=qi(l),p.callback=null,Ki(a,p,l),a=l,r.current.lanes=a,Bi(r,a),Hr(r),e[$r]=r.current,Qd(e),new eu(r)},pc.version="19.2.3",pc}var Ag;function wR(){if(Ag)return Eh.exports;Ag=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Eh.exports=bR(),Eh.exports}var _R=wR();const vR=""+new URL("token_logo-Dt5qbkym.png",import.meta.url).href,Ya=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function Mc(s){return s instanceof Uint8Array||ArrayBuffer.isView(s)&&s.constructor.name==="Uint8Array"}function xc(s){if(!Number.isSafeInteger(s)||s<0)throw new Error("positive integer expected, got "+s)}function Ni(s,...t){if(!Mc(s))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(s.length))throw new Error("Uint8Array expected of length "+t+", got length="+s.length)}function bw(s){if(typeof s!="function"||typeof s.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");xc(s.outputLen),xc(s.blockLen)}function co(s,t=!0){if(s.destroyed)throw new Error("Hash instance has been destroyed");if(t&&s.finished)throw new Error("Hash#digest() has already been called")}function ww(s,t){Ni(s);const n=t.outputLen;if(s.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function ER(s){return new Uint32Array(s.buffer,s.byteOffset,Math.floor(s.byteLength/4))}function ws(...s){for(let t=0;t<s.length;t++)s[t].fill(0)}function xh(s){return new DataView(s.buffer,s.byteOffset,s.byteLength)}function jr(s,t){return s<<32-t|s>>>t}const SR=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function AR(s){return s<<24&4278190080|s<<8&16711680|s>>>8&65280|s>>>24&255}function RR(s){for(let t=0;t<s.length;t++)s[t]=AR(s[t]);return s}const Rg=SR?s=>s:RR,_w=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",xR=Array.from({length:256},(s,t)=>t.toString(16).padStart(2,"0"));function Qs(s){if(Ni(s),_w)return s.toHex();let t="";for(let n=0;n<s.length;n++)t+=xR[s[n]];return t}const bi={_0:48,_9:57,A:65,F:70,a:97,f:102};function xg(s){if(s>=bi._0&&s<=bi._9)return s-bi._0;if(s>=bi.A&&s<=bi.F)return s-(bi.A-10);if(s>=bi.a&&s<=bi.f)return s-(bi.a-10)}function Tu(s){if(typeof s!="string")throw new Error("hex string expected, got "+typeof s);if(_w)return Uint8Array.fromHex(s);const t=s.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const i=new Uint8Array(n);for(let o=0,c=0;o<n;o++,c+=2){const u=xg(s.charCodeAt(c)),d=xg(s.charCodeAt(c+1));if(u===void 0||d===void 0){const g=s[c]+s[c+1];throw new Error('hex string expected, got non-hex character "'+g+'" at index '+c)}i[o]=u*16+d}return i}function TR(s){if(typeof s!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(s))}function Vu(s){return typeof s=="string"&&(s=TR(s)),Ni(s),s}function Vr(...s){let t=0;for(let i=0;i<s.length;i++){const o=s[i];Ni(o),t+=o.length}const n=new Uint8Array(t);for(let i=0,o=0;i<s.length;i++){const c=s[i];n.set(c,o),o+=c.length}return n}class j0{}function P0(s){const t=i=>s().update(Vu(i)).digest(),n=s();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>s(),t}function q0(s=32){if(Ya&&typeof Ya.getRandomValues=="function")return Ya.getRandomValues(new Uint8Array(s));if(Ya&&typeof Ya.randomBytes=="function")return Uint8Array.from(Ya.randomBytes(s));throw new Error("crypto.getRandomValues must be defined")}function OR(s,t,n,i){if(typeof s.setBigUint64=="function")return s.setBigUint64(t,n,i);const o=BigInt(32),c=BigInt(4294967295),u=Number(n>>o&c),d=Number(n&c),g=i?4:0,w=i?0:4;s.setUint32(t+g,u,i),s.setUint32(t+w,d,i)}function NR(s,t,n){return s&t^~s&n}function kR(s,t,n){return s&t^s&n^t&n}class vw extends j0{constructor(t,n,i,o){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=i,this.isLE=o,this.buffer=new Uint8Array(t),this.view=xh(this.buffer)}update(t){co(this),t=Vu(t),Ni(t);const{view:n,buffer:i,blockLen:o}=this,c=t.length;for(let u=0;u<c;){const d=Math.min(o-this.pos,c-u);if(d===o){const g=xh(t);for(;o<=c-u;u+=o)this.process(g,u);continue}i.set(t.subarray(u,u+d),this.pos),this.pos+=d,u+=d,this.pos===o&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){co(this),ww(t,this),this.finished=!0;const{buffer:n,view:i,blockLen:o,isLE:c}=this;let{pos:u}=this;n[u++]=128,ws(this.buffer.subarray(u)),this.padOffset>o-u&&(this.process(i,0),u=0);for(let I=u;I<o;I++)n[I]=0;OR(i,o-8,BigInt(this.length*8),c),this.process(i,0);const d=xh(t),g=this.outputLen;if(g%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const w=g/4,E=this.get();if(w>E.length)throw new Error("_sha2: outputLen bigger than state");for(let I=0;I<w;I++)d.setUint32(4*I,E[I],c)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const i=t.slice(0,n);return this.destroy(),i}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:i,length:o,finished:c,destroyed:u,pos:d}=this;return t.destroyed=u,t.finished=c,t.length=o,t.pos=d,o%n&&t.buffer.set(i),t}clone(){return this._cloneInto()}}const ss=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Mn=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),ru=BigInt(2**32-1),Tg=BigInt(32);function IR(s,t=!1){return t?{h:Number(s&ru),l:Number(s>>Tg&ru)}:{h:Number(s>>Tg&ru)|0,l:Number(s&ru)|0}}function Ew(s,t=!1){const n=s.length;let i=new Uint32Array(n),o=new Uint32Array(n);for(let c=0;c<n;c++){const{h:u,l:d}=IR(s[c],t);[i[c],o[c]]=[u,d]}return[i,o]}const Og=(s,t,n)=>s>>>n,Ng=(s,t,n)=>s<<32-n|t>>>n,Za=(s,t,n)=>s>>>n|t<<32-n,Xa=(s,t,n)=>s<<32-n|t>>>n,iu=(s,t,n)=>s<<64-n|t>>>n-32,su=(s,t,n)=>s>>>n-32|t<<64-n,CR=(s,t,n)=>s<<n|t>>>32-n,BR=(s,t,n)=>t<<n|s>>>32-n,MR=(s,t,n)=>t<<n-32|s>>>64-n,UR=(s,t,n)=>s<<n-32|t>>>64-n;function wi(s,t,n,i){const o=(t>>>0)+(i>>>0);return{h:s+n+(o/2**32|0)|0,l:o|0}}const DR=(s,t,n)=>(s>>>0)+(t>>>0)+(n>>>0),LR=(s,t,n,i)=>t+n+i+(s/2**32|0)|0,zR=(s,t,n,i)=>(s>>>0)+(t>>>0)+(n>>>0)+(i>>>0),HR=(s,t,n,i,o)=>t+n+i+o+(s/2**32|0)|0,jR=(s,t,n,i,o)=>(s>>>0)+(t>>>0)+(n>>>0)+(i>>>0)+(o>>>0),PR=(s,t,n,i,o,c)=>t+n+i+o+c+(s/2**32|0)|0,qR=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),as=new Uint32Array(64);class KR extends vw{constructor(t=32){super(64,t,8,!1),this.A=ss[0]|0,this.B=ss[1]|0,this.C=ss[2]|0,this.D=ss[3]|0,this.E=ss[4]|0,this.F=ss[5]|0,this.G=ss[6]|0,this.H=ss[7]|0}get(){const{A:t,B:n,C:i,D:o,E:c,F:u,G:d,H:g}=this;return[t,n,i,o,c,u,d,g]}set(t,n,i,o,c,u,d,g){this.A=t|0,this.B=n|0,this.C=i|0,this.D=o|0,this.E=c|0,this.F=u|0,this.G=d|0,this.H=g|0}process(t,n){for(let I=0;I<16;I++,n+=4)as[I]=t.getUint32(n,!1);for(let I=16;I<64;I++){const k=as[I-15],R=as[I-2],M=jr(k,7)^jr(k,18)^k>>>3,U=jr(R,17)^jr(R,19)^R>>>10;as[I]=U+as[I-7]+M+as[I-16]|0}let{A:i,B:o,C:c,D:u,E:d,F:g,G:w,H:E}=this;for(let I=0;I<64;I++){const k=jr(d,6)^jr(d,11)^jr(d,25),R=E+k+NR(d,g,w)+qR[I]+as[I]|0,U=(jr(i,2)^jr(i,13)^jr(i,22))+kR(i,o,c)|0;E=w,w=g,g=d,d=u+R|0,u=c,c=o,o=i,i=R+U|0}i=i+this.A|0,o=o+this.B|0,c=c+this.C|0,u=u+this.D|0,d=d+this.E|0,g=g+this.F|0,w=w+this.G|0,E=E+this.H|0,this.set(i,o,c,u,d,g,w,E)}roundClean(){ws(as)}destroy(){this.set(0,0,0,0,0,0,0,0),ws(this.buffer)}}const Sw=Ew(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(s=>BigInt(s))),VR=Sw[0],GR=Sw[1],os=new Uint32Array(80),cs=new Uint32Array(80);class FR extends vw{constructor(t=64){super(128,t,16,!1),this.Ah=Mn[0]|0,this.Al=Mn[1]|0,this.Bh=Mn[2]|0,this.Bl=Mn[3]|0,this.Ch=Mn[4]|0,this.Cl=Mn[5]|0,this.Dh=Mn[6]|0,this.Dl=Mn[7]|0,this.Eh=Mn[8]|0,this.El=Mn[9]|0,this.Fh=Mn[10]|0,this.Fl=Mn[11]|0,this.Gh=Mn[12]|0,this.Gl=Mn[13]|0,this.Hh=Mn[14]|0,this.Hl=Mn[15]|0}get(){const{Ah:t,Al:n,Bh:i,Bl:o,Ch:c,Cl:u,Dh:d,Dl:g,Eh:w,El:E,Fh:I,Fl:k,Gh:R,Gl:M,Hh:U,Hl:z}=this;return[t,n,i,o,c,u,d,g,w,E,I,k,R,M,U,z]}set(t,n,i,o,c,u,d,g,w,E,I,k,R,M,U,z){this.Ah=t|0,this.Al=n|0,this.Bh=i|0,this.Bl=o|0,this.Ch=c|0,this.Cl=u|0,this.Dh=d|0,this.Dl=g|0,this.Eh=w|0,this.El=E|0,this.Fh=I|0,this.Fl=k|0,this.Gh=R|0,this.Gl=M|0,this.Hh=U|0,this.Hl=z|0}process(t,n){for(let V=0;V<16;V++,n+=4)os[V]=t.getUint32(n),cs[V]=t.getUint32(n+=4);for(let V=16;V<80;V++){const $=os[V-15]|0,ne=cs[V-15]|0,ce=Za($,ne,1)^Za($,ne,8)^Og($,ne,7),ie=Xa($,ne,1)^Xa($,ne,8)^Ng($,ne,7),ue=os[V-2]|0,G=cs[V-2]|0,Y=Za(ue,G,19)^iu(ue,G,61)^Og(ue,G,6),X=Xa(ue,G,19)^su(ue,G,61)^Ng(ue,G,6),W=zR(ie,X,cs[V-7],cs[V-16]),T=HR(W,ce,Y,os[V-7],os[V-16]);os[V]=T|0,cs[V]=W|0}let{Ah:i,Al:o,Bh:c,Bl:u,Ch:d,Cl:g,Dh:w,Dl:E,Eh:I,El:k,Fh:R,Fl:M,Gh:U,Gl:z,Hh:j,Hl:F}=this;for(let V=0;V<80;V++){const $=Za(I,k,14)^Za(I,k,18)^iu(I,k,41),ne=Xa(I,k,14)^Xa(I,k,18)^su(I,k,41),ce=I&R^~I&U,ie=k&M^~k&z,ue=jR(F,ne,ie,GR[V],cs[V]),G=PR(ue,j,$,ce,VR[V],os[V]),Y=ue|0,X=Za(i,o,28)^iu(i,o,34)^iu(i,o,39),W=Xa(i,o,28)^su(i,o,34)^su(i,o,39),T=i&c^i&d^c&d,h=o&u^o&g^u&g;j=U|0,F=z|0,U=R|0,z=M|0,R=I|0,M=k|0,{h:I,l:k}=wi(w|0,E|0,G|0,Y|0),w=d|0,E=g|0,d=c|0,g=u|0,c=i|0,u=o|0;const _=DR(Y,W,h);i=LR(_,G,X,T),o=_|0}({h:i,l:o}=wi(this.Ah|0,this.Al|0,i|0,o|0)),{h:c,l:u}=wi(this.Bh|0,this.Bl|0,c|0,u|0),{h:d,l:g}=wi(this.Ch|0,this.Cl|0,d|0,g|0),{h:w,l:E}=wi(this.Dh|0,this.Dl|0,w|0,E|0),{h:I,l:k}=wi(this.Eh|0,this.El|0,I|0,k|0),{h:R,l:M}=wi(this.Fh|0,this.Fl|0,R|0,M|0),{h:U,l:z}=wi(this.Gh|0,this.Gl|0,U|0,z|0),{h:j,l:F}=wi(this.Hh|0,this.Hl|0,j|0,F|0),this.set(i,o,c,u,d,g,w,E,I,k,R,M,U,z,j,F)}roundClean(){ws(os,cs)}destroy(){ws(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Aw=P0(()=>new KR),YR=P0(()=>new FR);const K0=BigInt(0),g0=BigInt(1);function Js(s,t=""){if(typeof s!="boolean"){const n=t&&`"${t}"`;throw new Error(n+"expected boolean, got type="+typeof s)}return s}function Or(s,t,n=""){const i=Mc(s),o=s?.length,c=t!==void 0;if(!i||c&&o!==t){const u=n&&`"${n}" `,d=c?` of length ${t}`:"",g=i?`length=${o}`:`type=${typeof s}`;throw new Error(u+"expected Uint8Array"+d+", got "+g)}return s}function au(s){const t=s.toString(16);return t.length&1?"0"+t:t}function Rw(s){if(typeof s!="string")throw new Error("hex string expected, got "+typeof s);return s===""?K0:BigInt("0x"+s)}function Gu(s){return Rw(Qs(s))}function Tc(s){return Ni(s),Rw(Qs(Uint8Array.from(s).reverse()))}function V0(s,t){return Tu(s.toString(16).padStart(t*2,"0"))}function xw(s,t){return V0(s,t).reverse()}function ln(s,t,n){let i;if(typeof t=="string")try{i=Tu(t)}catch(c){throw new Error(s+" must be hex string or Uint8Array, cause: "+c)}else if(Mc(t))i=Uint8Array.from(t);else throw new Error(s+" must be hex string or Uint8Array");const o=i.length;if(typeof n=="number"&&o!==n)throw new Error(s+" of length "+n+" expected, got "+o);return i}function kg(s){return Uint8Array.from(s)}const Th=s=>typeof s=="bigint"&&K0<=s;function ZR(s,t,n){return Th(s)&&Th(t)&&Th(n)&&t<=s&&s<n}function b0(s,t,n,i){if(!ZR(t,n,i))throw new Error("expected valid "+s+": "+n+" <= n < "+i+", got "+t)}function Tw(s){let t;for(t=0;s>K0;s>>=g0,t+=1);return t}const Uc=s=>(g0<<BigInt(s))-g0;function XR(s,t,n){if(typeof s!="number"||s<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const i=R=>new Uint8Array(R),o=R=>Uint8Array.of(R);let c=i(s),u=i(s),d=0;const g=()=>{c.fill(1),u.fill(0),d=0},w=(...R)=>n(u,c,...R),E=(R=i(0))=>{u=w(o(0),R),c=w(),R.length!==0&&(u=w(o(1),R),c=w())},I=()=>{if(d++>=1e3)throw new Error("drbg: tried 1000 values");let R=0;const M=[];for(;R<t;){c=w();const U=c.slice();M.push(U),R+=c.length}return Vr(...M)};return(R,M)=>{g(),E(R);let U;for(;!(U=M(I()));)E();return g(),U}}function Dc(s,t,n={}){if(!s||typeof s!="object")throw new Error("expected valid options object");function i(o,c,u){const d=s[o];if(u&&d===void 0)return;const g=typeof d;if(g!==c||d===null)throw new Error(`param "${o}" is invalid: expected ${c}, got ${g}`)}Object.entries(t).forEach(([o,c])=>i(o,c,!1)),Object.entries(n).forEach(([o,c])=>i(o,c,!0))}function Ou(s){const t=new WeakMap;return(n,...i)=>{const o=t.get(n);if(o!==void 0)return o;const c=s(n,...i);return t.set(n,c),c}}const Xn=BigInt(0),Cn=BigInt(1),Fs=BigInt(2),Ow=BigInt(3),Nw=BigInt(4),kw=BigInt(5),WR=BigInt(7),Iw=BigInt(8),$R=BigInt(9),Cw=BigInt(16);function wn(s,t){const n=s%t;return n>=Xn?n:t+n}function cn(s,t,n){let i=s;for(;t-- >Xn;)i*=i,i%=n;return i}function Ig(s,t){if(s===Xn)throw new Error("invert: expected non-zero number");if(t<=Xn)throw new Error("invert: expected positive modulus, got "+t);let n=wn(s,t),i=t,o=Xn,c=Cn;for(;n!==Xn;){const d=i/n,g=i%n,w=o-c*d;i=n,n=g,o=c,c=w}if(i!==Cn)throw new Error("invert: does not exist");return wn(o,t)}function G0(s,t,n){if(!s.eql(s.sqr(t),n))throw new Error("Cannot find square root")}function Bw(s,t){const n=(s.ORDER+Cn)/Nw,i=s.pow(t,n);return G0(s,i,t),i}function QR(s,t){const n=(s.ORDER-kw)/Iw,i=s.mul(t,Fs),o=s.pow(i,n),c=s.mul(t,o),u=s.mul(s.mul(c,Fs),o),d=s.mul(c,s.sub(u,s.ONE));return G0(s,d,t),d}function JR(s){const t=ra(s),n=Mw(s),i=n(t,t.neg(t.ONE)),o=n(t,i),c=n(t,t.neg(i)),u=(s+WR)/Cw;return(d,g)=>{let w=d.pow(g,u),E=d.mul(w,i);const I=d.mul(w,o),k=d.mul(w,c),R=d.eql(d.sqr(E),g),M=d.eql(d.sqr(I),g);w=d.cmov(w,E,R),E=d.cmov(k,I,M);const U=d.eql(d.sqr(E),g),z=d.cmov(w,E,U);return G0(d,z,g),z}}function Mw(s){if(s<Ow)throw new Error("sqrt is not defined for small field");let t=s-Cn,n=0;for(;t%Fs===Xn;)t/=Fs,n++;let i=Fs;const o=ra(s);for(;Cg(o,i)===1;)if(i++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Bw;let c=o.pow(i,t);const u=(t+Cn)/Fs;return function(g,w){if(g.is0(w))return w;if(Cg(g,w)!==1)throw new Error("Cannot find square root");let E=n,I=g.mul(g.ONE,c),k=g.pow(w,t),R=g.pow(w,u);for(;!g.eql(k,g.ONE);){if(g.is0(k))return g.ZERO;let M=1,U=g.sqr(k);for(;!g.eql(U,g.ONE);)if(M++,U=g.sqr(U),M===E)throw new Error("Cannot find square root");const z=Cn<<BigInt(E-M-1),j=g.pow(I,z);E=M,I=g.sqr(j),k=g.mul(k,I),R=g.mul(R,j)}return R}}function e2(s){return s%Nw===Ow?Bw:s%Iw===kw?QR:s%Cw===$R?JR(s):Mw(s)}const t2=(s,t)=>(wn(s,t)&Cn)===Cn,n2=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function r2(s){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=n2.reduce((i,o)=>(i[o]="function",i),t);return Dc(s,n),s}function i2(s,t,n){if(n<Xn)throw new Error("invalid exponent, negatives unsupported");if(n===Xn)return s.ONE;if(n===Cn)return t;let i=s.ONE,o=t;for(;n>Xn;)n&Cn&&(i=s.mul(i,o)),o=s.sqr(o),n>>=Cn;return i}function Uw(s,t,n=!1){const i=new Array(t.length).fill(n?s.ZERO:void 0),o=t.reduce((u,d,g)=>s.is0(d)?u:(i[g]=u,s.mul(u,d)),s.ONE),c=s.inv(o);return t.reduceRight((u,d,g)=>s.is0(d)?u:(i[g]=s.mul(u,i[g]),s.mul(u,d)),c),i}function Cg(s,t){const n=(s.ORDER-Cn)/Fs,i=s.pow(t,n),o=s.eql(i,s.ONE),c=s.eql(i,s.ZERO),u=s.eql(i,s.neg(s.ONE));if(!o&&!c&&!u)throw new Error("invalid Legendre symbol result");return o?1:c?0:-1}function Dw(s,t){t!==void 0&&xc(t);const n=t!==void 0?t:s.toString(2).length,i=Math.ceil(n/8);return{nBitLength:n,nByteLength:i}}function ra(s,t,n=!1,i={}){if(s<=Xn)throw new Error("invalid field: expected ORDER > 0, got "+s);let o,c,u=!1,d;if(typeof t=="object"&&t!=null){if(i.sqrt||n)throw new Error("cannot specify opts in two arguments");const k=t;k.BITS&&(o=k.BITS),k.sqrt&&(c=k.sqrt),typeof k.isLE=="boolean"&&(n=k.isLE),typeof k.modFromBytes=="boolean"&&(u=k.modFromBytes),d=k.allowedLengths}else typeof t=="number"&&(o=t),i.sqrt&&(c=i.sqrt);const{nBitLength:g,nByteLength:w}=Dw(s,o);if(w>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let E;const I=Object.freeze({ORDER:s,isLE:n,BITS:g,BYTES:w,MASK:Uc(g),ZERO:Xn,ONE:Cn,allowedLengths:d,create:k=>wn(k,s),isValid:k=>{if(typeof k!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof k);return Xn<=k&&k<s},is0:k=>k===Xn,isValidNot0:k=>!I.is0(k)&&I.isValid(k),isOdd:k=>(k&Cn)===Cn,neg:k=>wn(-k,s),eql:(k,R)=>k===R,sqr:k=>wn(k*k,s),add:(k,R)=>wn(k+R,s),sub:(k,R)=>wn(k-R,s),mul:(k,R)=>wn(k*R,s),pow:(k,R)=>i2(I,k,R),div:(k,R)=>wn(k*Ig(R,s),s),sqrN:k=>k*k,addN:(k,R)=>k+R,subN:(k,R)=>k-R,mulN:(k,R)=>k*R,inv:k=>Ig(k,s),sqrt:c||(k=>(E||(E=e2(s)),E(I,k))),toBytes:k=>n?xw(k,w):V0(k,w),fromBytes:(k,R=!0)=>{if(d){if(!d.includes(k.length)||k.length>w)throw new Error("Field.fromBytes: expected "+d+" bytes, got "+k.length);const U=new Uint8Array(w);U.set(k,n?0:U.length-k.length),k=U}if(k.length!==w)throw new Error("Field.fromBytes: expected "+w+" bytes, got "+k.length);let M=n?Tc(k):Gu(k);if(u&&(M=wn(M,s)),!R&&!I.isValid(M))throw new Error("invalid field element: outside of range 0..ORDER");return M},invertBatch:k=>Uw(I,k),cmov:(k,R,M)=>M?R:k});return Object.freeze(I)}function Lw(s){if(typeof s!="bigint")throw new Error("field order must be bigint");const t=s.toString(2).length;return Math.ceil(t/8)}function zw(s){const t=Lw(s);return t+Math.ceil(t/2)}function s2(s,t,n=!1){const i=s.length,o=Lw(t),c=zw(t);if(i<16||i<c||i>1024)throw new Error("expected "+c+"-1024 bytes of input, got "+i);const u=n?Tc(s):Gu(s),d=wn(u,t-Cn)+Cn;return n?xw(d,o):V0(d,o)}const lo=BigInt(0),Ys=BigInt(1);function Nu(s,t){const n=t.negate();return s?n:t}function Zs(s,t){const n=Uw(s.Fp,t.map(i=>i.Z));return t.map((i,o)=>s.fromAffine(i.toAffine(n[o])))}function Hw(s,t){if(!Number.isSafeInteger(s)||s<=0||s>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+s)}function Oh(s,t){Hw(s,t);const n=Math.ceil(t/s)+1,i=2**(s-1),o=2**s,c=Uc(s),u=BigInt(s);return{windows:n,windowSize:i,mask:c,maxNumber:o,shiftBy:u}}function Bg(s,t,n){const{windowSize:i,mask:o,maxNumber:c,shiftBy:u}=n;let d=Number(s&o),g=s>>u;d>i&&(d-=c,g+=Ys);const w=t*i,E=w+Math.abs(d)-1,I=d===0,k=d<0,R=t%2!==0;return{nextN:g,offset:E,isZero:I,isNeg:k,isNegF:R,offsetF:w}}function a2(s,t){if(!Array.isArray(s))throw new Error("array expected");s.forEach((n,i)=>{if(!(n instanceof t))throw new Error("invalid point at index "+i)})}function o2(s,t){if(!Array.isArray(s))throw new Error("array of scalars expected");s.forEach((n,i)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+i)})}const Nh=new WeakMap,jw=new WeakMap;function kh(s){return jw.get(s)||1}function Mg(s){if(s!==lo)throw new Error("invalid wNAF")}class Pw{constructor(t,n){this.BASE=t.BASE,this.ZERO=t.ZERO,this.Fn=t.Fn,this.bits=n}_unsafeLadder(t,n,i=this.ZERO){let o=t;for(;n>lo;)n&Ys&&(i=i.add(o)),o=o.double(),n>>=Ys;return i}precomputeWindow(t,n){const{windows:i,windowSize:o}=Oh(n,this.bits),c=[];let u=t,d=u;for(let g=0;g<i;g++){d=u,c.push(d);for(let w=1;w<o;w++)d=d.add(u),c.push(d);u=d.double()}return c}wNAF(t,n,i){if(!this.Fn.isValid(i))throw new Error("invalid scalar");let o=this.ZERO,c=this.BASE;const u=Oh(t,this.bits);for(let d=0;d<u.windows;d++){const{nextN:g,offset:w,isZero:E,isNeg:I,isNegF:k,offsetF:R}=Bg(i,d,u);i=g,E?c=c.add(Nu(k,n[R])):o=o.add(Nu(I,n[w]))}return Mg(i),{p:o,f:c}}wNAFUnsafe(t,n,i,o=this.ZERO){const c=Oh(t,this.bits);for(let u=0;u<c.windows&&i!==lo;u++){const{nextN:d,offset:g,isZero:w,isNeg:E}=Bg(i,u,c);if(i=d,!w){const I=n[g];o=o.add(E?I.negate():I)}}return Mg(i),o}getPrecomputes(t,n,i){let o=Nh.get(n);return o||(o=this.precomputeWindow(n,t),t!==1&&(typeof i=="function"&&(o=i(o)),Nh.set(n,o))),o}cached(t,n,i){const o=kh(t);return this.wNAF(o,this.getPrecomputes(o,t,i),n)}unsafe(t,n,i,o){const c=kh(t);return c===1?this._unsafeLadder(t,n,o):this.wNAFUnsafe(c,this.getPrecomputes(c,t,i),n,o)}createCache(t,n){Hw(n,this.bits),jw.set(t,n),Nh.delete(t)}hasCache(t){return kh(t)!==1}}function c2(s,t,n,i){let o=t,c=s.ZERO,u=s.ZERO;for(;n>lo||i>lo;)n&Ys&&(c=c.add(o)),i&Ys&&(u=u.add(o)),o=o.double(),n>>=Ys,i>>=Ys;return{p1:c,p2:u}}function qw(s,t,n,i){a2(n,s),o2(i,t);const o=n.length,c=i.length;if(o!==c)throw new Error("arrays of points and scalars must have equal length");const u=s.ZERO,d=Tw(BigInt(o));let g=1;d>12?g=d-3:d>4?g=d-2:d>0&&(g=2);const w=Uc(g),E=new Array(Number(w)+1).fill(u),I=Math.floor((t.BITS-1)/g)*g;let k=u;for(let R=I;R>=0;R-=g){E.fill(u);for(let U=0;U<c;U++){const z=i[U],j=Number(z>>BigInt(R)&w);E[j]=E[j].add(n[U])}let M=u;for(let U=E.length-1,z=u;U>0;U--)z=z.add(E[U]),M=M.add(z);if(k=k.add(M),R!==0)for(let U=0;U<g;U++)k=k.double()}return k}function Ug(s,t,n){if(t){if(t.ORDER!==s)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return r2(t),t}else return ra(s,{isLE:n})}function Kw(s,t,n={},i){if(i===void 0&&(i=s==="edwards"),!t||typeof t!="object")throw new Error(`expected valid ${s} CURVE object`);for(const g of["p","n","h"]){const w=t[g];if(!(typeof w=="bigint"&&w>lo))throw new Error(`CURVE.${g} must be positive bigint`)}const o=Ug(t.p,n.Fp,i),c=Ug(t.n,n.Fn,i),d=["Gx","Gy","a",s==="weierstrass"?"b":"d"];for(const g of d)if(!o.isValid(t[g]))throw new Error(`CURVE.${g} must be valid field element of CURVE.Fp`);return t=Object.freeze(Object.assign({},t)),{CURVE:t,Fp:o,Fn:c}}const ls=BigInt(0),An=BigInt(1),Ih=BigInt(2),l2=BigInt(8);function u2(s,t,n,i){const o=s.sqr(n),c=s.sqr(i),u=s.add(s.mul(t.a,o),c),d=s.add(s.ONE,s.mul(t.d,s.mul(o,c)));return s.eql(u,d)}function f2(s,t={}){const n=Kw("edwards",s,t,t.FpFnLE),{Fp:i,Fn:o}=n;let c=n.CURVE;const{h:u}=c;Dc(t,{},{uvRatio:"function"});const d=Ih<<BigInt(o.BYTES*8)-An,g=z=>i.create(z),w=t.uvRatio||((z,j)=>{try{return{isValid:!0,value:i.sqrt(i.div(z,j))}}catch{return{isValid:!1,value:ls}}});if(!u2(i,c,c.Gx,c.Gy))throw new Error("bad curve params: generator point");function E(z,j,F=!1){const V=F?An:ls;return b0("coordinate "+z,j,V,d),j}function I(z){if(!(z instanceof M))throw new Error("ExtendedPoint expected")}const k=Ou((z,j)=>{const{X:F,Y:V,Z:$}=z,ne=z.is0();j==null&&(j=ne?l2:i.inv($));const ce=g(F*j),ie=g(V*j),ue=i.mul($,j);if(ne)return{x:ls,y:An};if(ue!==An)throw new Error("invZ was invalid");return{x:ce,y:ie}}),R=Ou(z=>{const{a:j,d:F}=c;if(z.is0())throw new Error("bad point: ZERO");const{X:V,Y:$,Z:ne,T:ce}=z,ie=g(V*V),ue=g($*$),G=g(ne*ne),Y=g(G*G),X=g(ie*j),W=g(G*g(X+ue)),T=g(Y+g(F*g(ie*ue)));if(W!==T)throw new Error("bad point: equation left != right (1)");const h=g(V*$),_=g(ne*ce);if(h!==_)throw new Error("bad point: equation left != right (2)");return!0});class M{constructor(j,F,V,$){this.X=E("x",j),this.Y=E("y",F),this.Z=E("z",V,!0),this.T=E("t",$),Object.freeze(this)}static CURVE(){return c}static fromAffine(j){if(j instanceof M)throw new Error("extended point not allowed");const{x:F,y:V}=j||{};return E("x",F),E("y",V),new M(F,V,An,g(F*V))}static fromBytes(j,F=!1){const V=i.BYTES,{a:$,d:ne}=c;j=kg(Or(j,V,"point")),Js(F,"zip215");const ce=kg(j),ie=j[V-1];ce[V-1]=ie&-129;const ue=Tc(ce),G=F?d:i.ORDER;b0("point.y",ue,ls,G);const Y=g(ue*ue),X=g(Y-An),W=g(ne*Y-$);let{isValid:T,value:h}=w(X,W);if(!T)throw new Error("bad point: invalid y coordinate");const _=(h&An)===An,A=(ie&128)!==0;if(!F&&h===ls&&A)throw new Error("bad point: x=0 and x_0=1");return A!==_&&(h=g(-h)),M.fromAffine({x:h,y:ue})}static fromHex(j,F=!1){return M.fromBytes(ln("point",j),F)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(j=8,F=!0){return U.createCache(this,j),F||this.multiply(Ih),this}assertValidity(){R(this)}equals(j){I(j);const{X:F,Y:V,Z:$}=this,{X:ne,Y:ce,Z:ie}=j,ue=g(F*ie),G=g(ne*$),Y=g(V*ie),X=g(ce*$);return ue===G&&Y===X}is0(){return this.equals(M.ZERO)}negate(){return new M(g(-this.X),this.Y,this.Z,g(-this.T))}double(){const{a:j}=c,{X:F,Y:V,Z:$}=this,ne=g(F*F),ce=g(V*V),ie=g(Ih*g($*$)),ue=g(j*ne),G=F+V,Y=g(g(G*G)-ne-ce),X=ue+ce,W=X-ie,T=ue-ce,h=g(Y*W),_=g(X*T),A=g(Y*T),C=g(W*X);return new M(h,_,C,A)}add(j){I(j);const{a:F,d:V}=c,{X:$,Y:ne,Z:ce,T:ie}=this,{X:ue,Y:G,Z:Y,T:X}=j,W=g($*ue),T=g(ne*G),h=g(ie*V*X),_=g(ce*Y),A=g(($+ne)*(ue+G)-W-T),C=_-h,L=_+h,B=g(T-F*W),v=g(A*C),m=g(L*B),f=g(A*B),y=g(C*L);return new M(v,m,y,f)}subtract(j){return this.add(j.negate())}multiply(j){if(!o.isValidNot0(j))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:F,f:V}=U.cached(this,j,$=>Zs(M,$));return Zs(M,[F,V])[0]}multiplyUnsafe(j,F=M.ZERO){if(!o.isValid(j))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return j===ls?M.ZERO:this.is0()||j===An?this:U.unsafe(this,j,V=>Zs(M,V),F)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}isTorsionFree(){return U.unsafe(this,c.n).is0()}toAffine(j){return k(this,j)}clearCofactor(){return u===An?this:this.multiplyUnsafe(u)}toBytes(){const{x:j,y:F}=this.toAffine(),V=i.toBytes(F);return V[V.length-1]|=j&An?128:0,V}toHex(){return Qs(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(j){return Zs(M,j)}static msm(j,F){return qw(M,o,j,F)}_setWindowSize(j){this.precompute(j)}toRawBytes(){return this.toBytes()}}M.BASE=new M(c.Gx,c.Gy,An,g(c.Gx*c.Gy)),M.ZERO=new M(ls,An,An,ls),M.Fp=i,M.Fn=o;const U=new Pw(M,o.BITS);return M.BASE.precompute(8),M}function d2(s,t,n={}){if(typeof t!="function")throw new Error('"hash" function param is required');Dc(n,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:i}=n,{BASE:o,Fp:c,Fn:u}=s,d=n.randomBytes||q0,g=n.adjustScalarBytes||(G=>G),w=n.domain||((G,Y,X)=>{if(Js(X,"phflag"),Y.length||X)throw new Error("Contexts/pre-hash are not supported");return G});function E(G){return u.create(Tc(G))}function I(G){const Y=V.secretKey;G=ln("private key",G,Y);const X=ln("hashed private key",t(G),2*Y),W=g(X.slice(0,Y)),T=X.slice(Y,2*Y),h=E(W);return{head:W,prefix:T,scalar:h}}function k(G){const{head:Y,prefix:X,scalar:W}=I(G),T=o.multiply(W),h=T.toBytes();return{head:Y,prefix:X,scalar:W,point:T,pointBytes:h}}function R(G){return k(G).pointBytes}function M(G=Uint8Array.of(),...Y){const X=Vr(...Y);return E(t(w(X,ln("context",G),!!i)))}function U(G,Y,X={}){G=ln("message",G),i&&(G=i(G));const{prefix:W,scalar:T,pointBytes:h}=k(Y),_=M(X.context,W,G),A=o.multiply(_).toBytes(),C=M(X.context,A,h,G),L=u.create(_+C*T);if(!u.isValid(L))throw new Error("sign failed: invalid s");const B=Vr(A,u.toBytes(L));return Or(B,V.signature,"result")}const z={zip215:!0};function j(G,Y,X,W=z){const{context:T,zip215:h}=W,_=V.signature;G=ln("signature",G,_),Y=ln("message",Y),X=ln("publicKey",X,V.publicKey),h!==void 0&&Js(h,"zip215"),i&&(Y=i(Y));const A=_/2,C=G.subarray(0,A),L=Tc(G.subarray(A,_));let B,v,m;try{B=s.fromBytes(X,h),v=s.fromBytes(C,h),m=o.multiplyUnsafe(L)}catch{return!1}if(!h&&B.isSmallOrder())return!1;const f=M(T,v.toBytes(),B.toBytes(),Y);return v.add(B.multiplyUnsafe(f)).subtract(m).clearCofactor().is0()}const F=c.BYTES,V={secretKey:F,publicKey:F,signature:2*F,seed:F};function $(G=d(V.seed)){return Or(G,V.seed,"seed")}function ne(G){const Y=ue.randomSecretKey(G);return{secretKey:Y,publicKey:R(Y)}}function ce(G){return Mc(G)&&G.length===u.BYTES}function ie(G,Y){try{return!!s.fromBytes(G,Y)}catch{return!1}}const ue={getExtendedPublicKey:k,randomSecretKey:$,isValidSecretKey:ce,isValidPublicKey:ie,toMontgomery(G){const{y:Y}=s.fromBytes(G),X=V.publicKey,W=X===32;if(!W&&X!==57)throw new Error("only defined for 25519 and 448");const T=W?c.div(An+Y,An-Y):c.div(Y-An,Y+An);return c.toBytes(T)},toMontgomerySecret(G){const Y=V.secretKey;Or(G,Y);const X=t(G.subarray(0,Y));return g(X).subarray(0,Y)},randomPrivateKey:$,precompute(G=8,Y=s.BASE){return Y.precompute(G,!1)}};return Object.freeze({keygen:ne,getPublicKey:R,sign:U,verify:j,utils:ue,Point:s,lengths:V})}function h2(s){const t={a:s.a,d:s.d,p:s.Fp.ORDER,n:s.n,h:s.h,Gx:s.Gx,Gy:s.Gy},n=s.Fp,i=ra(t.n,s.nBitLength,!0),o={Fp:n,Fn:i,uvRatio:s.uvRatio},c={randomBytes:s.randomBytes,adjustScalarBytes:s.adjustScalarBytes,domain:s.domain,prehash:s.prehash,mapToCurve:s.mapToCurve};return{CURVE:t,curveOpts:o,hash:s.hash,eddsaOpts:c}}function p2(s,t){const n=t.Point;return Object.assign({},t,{ExtendedPoint:n,CURVE:s,nBitLength:n.Fn.BITS,nByteLength:n.Fn.BYTES})}function m2(s){const{CURVE:t,curveOpts:n,hash:i,eddsaOpts:o}=h2(s),c=f2(t,n),u=d2(c,i,o);return p2(s,u)}const y2=BigInt(1),Dg=BigInt(2);BigInt(3);const g2=BigInt(5),b2=BigInt(8),F0=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),Vw={p:F0,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:b2,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function w2(s){const t=BigInt(10),n=BigInt(20),i=BigInt(40),o=BigInt(80),c=F0,d=s*s%c*s%c,g=cn(d,Dg,c)*d%c,w=cn(g,y2,c)*s%c,E=cn(w,g2,c)*w%c,I=cn(E,t,c)*E%c,k=cn(I,n,c)*I%c,R=cn(k,i,c)*k%c,M=cn(R,o,c)*R%c,U=cn(M,o,c)*R%c,z=cn(U,t,c)*E%c;return{pow_p_5_8:cn(z,Dg,c)*s%c,b2:d}}function _2(s){return s[0]&=248,s[31]&=127,s[31]|=64,s}const Lg=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function v2(s,t){const n=F0,i=wn(t*t*t,n),o=wn(i*i*t,n),c=w2(s*o).pow_p_5_8;let u=wn(s*i*c,n);const d=wn(t*u*u,n),g=u,w=wn(u*Lg,n),E=d===s,I=d===wn(-s,n),k=d===wn(-s*Lg,n);return E&&(u=g),(I||k)&&(u=w),t2(u,n)&&(u=wn(-u,n)),{isValid:E||I,value:u}}const E2=ra(Vw.p,{isLE:!0}),S2={...Vw,Fp:E2,hash:YR,adjustScalarBytes:_2,uvRatio:v2},yo=m2(S2);var Eu={exports:{}};const A2={},R2=Object.freeze(Object.defineProperty({__proto__:null,default:A2},Symbol.toStringTag,{value:"Module"})),x2=Ku(R2);var T2=Eu.exports,zg;function Y0(){return zg||(zg=1,(function(s){(function(t,n){function i(T,h){if(!T)throw new Error(h||"Assertion failed")}function o(T,h){T.super_=h;var _=function(){};_.prototype=h.prototype,T.prototype=new _,T.prototype.constructor=T}function c(T,h,_){if(c.isBN(T))return T;this.negative=0,this.words=null,this.length=0,this.red=null,T!==null&&((h==="le"||h==="be")&&(_=h,h=10),this._init(T||0,h||10,_||"be"))}typeof t=="object"?t.exports=c:n.BN=c,c.BN=c,c.wordSize=26;var u;try{typeof window<"u"&&typeof window.Buffer<"u"?u=window.Buffer:u=x2.Buffer}catch{}c.isBN=function(h){return h instanceof c?!0:h!==null&&typeof h=="object"&&h.constructor.wordSize===c.wordSize&&Array.isArray(h.words)},c.max=function(h,_){return h.cmp(_)>0?h:_},c.min=function(h,_){return h.cmp(_)<0?h:_},c.prototype._init=function(h,_,A){if(typeof h=="number")return this._initNumber(h,_,A);if(typeof h=="object")return this._initArray(h,_,A);_==="hex"&&(_=16),i(_===(_|0)&&_>=2&&_<=36),h=h.toString().replace(/\s+/g,"");var C=0;h[0]==="-"&&(C++,this.negative=1),C<h.length&&(_===16?this._parseHex(h,C,A):(this._parseBase(h,_,C),A==="le"&&this._initArray(this.toArray(),_,A)))},c.prototype._initNumber=function(h,_,A){h<0&&(this.negative=1,h=-h),h<67108864?(this.words=[h&67108863],this.length=1):h<4503599627370496?(this.words=[h&67108863,h/67108864&67108863],this.length=2):(i(h<9007199254740992),this.words=[h&67108863,h/67108864&67108863,1],this.length=3),A==="le"&&this._initArray(this.toArray(),_,A)},c.prototype._initArray=function(h,_,A){if(i(typeof h.length=="number"),h.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(h.length/3),this.words=new Array(this.length);for(var C=0;C<this.length;C++)this.words[C]=0;var L,B,v=0;if(A==="be")for(C=h.length-1,L=0;C>=0;C-=3)B=h[C]|h[C-1]<<8|h[C-2]<<16,this.words[L]|=B<<v&67108863,this.words[L+1]=B>>>26-v&67108863,v+=24,v>=26&&(v-=26,L++);else if(A==="le")for(C=0,L=0;C<h.length;C+=3)B=h[C]|h[C+1]<<8|h[C+2]<<16,this.words[L]|=B<<v&67108863,this.words[L+1]=B>>>26-v&67108863,v+=24,v>=26&&(v-=26,L++);return this._strip()};function d(T,h){var _=T.charCodeAt(h);if(_>=48&&_<=57)return _-48;if(_>=65&&_<=70)return _-55;if(_>=97&&_<=102)return _-87;i(!1,"Invalid character in "+T)}function g(T,h,_){var A=d(T,_);return _-1>=h&&(A|=d(T,_-1)<<4),A}c.prototype._parseHex=function(h,_,A){this.length=Math.ceil((h.length-_)/6),this.words=new Array(this.length);for(var C=0;C<this.length;C++)this.words[C]=0;var L=0,B=0,v;if(A==="be")for(C=h.length-1;C>=_;C-=2)v=g(h,_,C)<<L,this.words[B]|=v&67108863,L>=18?(L-=18,B+=1,this.words[B]|=v>>>26):L+=8;else{var m=h.length-_;for(C=m%2===0?_+1:_;C<h.length;C+=2)v=g(h,_,C)<<L,this.words[B]|=v&67108863,L>=18?(L-=18,B+=1,this.words[B]|=v>>>26):L+=8}this._strip()};function w(T,h,_,A){for(var C=0,L=0,B=Math.min(T.length,_),v=h;v<B;v++){var m=T.charCodeAt(v)-48;C*=A,m>=49?L=m-49+10:m>=17?L=m-17+10:L=m,i(m>=0&&L<A,"Invalid character"),C+=L}return C}c.prototype._parseBase=function(h,_,A){this.words=[0],this.length=1;for(var C=0,L=1;L<=67108863;L*=_)C++;C--,L=L/_|0;for(var B=h.length-A,v=B%C,m=Math.min(B,B-v)+A,f=0,y=A;y<m;y+=C)f=w(h,y,y+C,_),this.imuln(L),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(v!==0){var O=1;for(f=w(h,y,h.length,_),y=0;y<v;y++)O*=_;this.imuln(O),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this._strip()},c.prototype.copy=function(h){h.words=new Array(this.length);for(var _=0;_<this.length;_++)h.words[_]=this.words[_];h.length=this.length,h.negative=this.negative,h.red=this.red};function E(T,h){T.words=h.words,T.length=h.length,T.negative=h.negative,T.red=h.red}if(c.prototype._move=function(h){E(h,this)},c.prototype.clone=function(){var h=new c(null);return this.copy(h),h},c.prototype._expand=function(h){for(;this.length<h;)this.words[this.length++]=0;return this},c.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},c.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{c.prototype[Symbol.for("nodejs.util.inspect.custom")]=I}catch{c.prototype.inspect=I}else c.prototype.inspect=I;function I(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var k=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],R=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];c.prototype.toString=function(h,_){h=h||10,_=_|0||1;var A;if(h===16||h==="hex"){A="";for(var C=0,L=0,B=0;B<this.length;B++){var v=this.words[B],m=((v<<C|L)&16777215).toString(16);L=v>>>24-C&16777215,C+=2,C>=26&&(C-=26,B--),L!==0||B!==this.length-1?A=k[6-m.length]+m+A:A=m+A}for(L!==0&&(A=L.toString(16)+A);A.length%_!==0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}if(h===(h|0)&&h>=2&&h<=36){var f=R[h],y=M[h];A="";var O=this.clone();for(O.negative=0;!O.isZero();){var D=O.modrn(y).toString(h);O=O.idivn(y),O.isZero()?A=D+A:A=k[f-D.length]+D+A}for(this.isZero()&&(A="0"+A);A.length%_!==0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}i(!1,"Base should be between 2 and 36")},c.prototype.toNumber=function(){var h=this.words[0];return this.length===2?h+=this.words[1]*67108864:this.length===3&&this.words[2]===1?h+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-h:h},c.prototype.toJSON=function(){return this.toString(16,2)},u&&(c.prototype.toBuffer=function(h,_){return this.toArrayLike(u,h,_)}),c.prototype.toArray=function(h,_){return this.toArrayLike(Array,h,_)};var U=function(h,_){return h.allocUnsafe?h.allocUnsafe(_):new h(_)};c.prototype.toArrayLike=function(h,_,A){this._strip();var C=this.byteLength(),L=A||Math.max(1,C);i(C<=L,"byte array longer than desired length"),i(L>0,"Requested array length <= 0");var B=U(h,L),v=_==="le"?"LE":"BE";return this["_toArrayLike"+v](B,C),B},c.prototype._toArrayLikeLE=function(h,_){for(var A=0,C=0,L=0,B=0;L<this.length;L++){var v=this.words[L]<<B|C;h[A++]=v&255,A<h.length&&(h[A++]=v>>8&255),A<h.length&&(h[A++]=v>>16&255),B===6?(A<h.length&&(h[A++]=v>>24&255),C=0,B=0):(C=v>>>24,B+=2)}if(A<h.length)for(h[A++]=C;A<h.length;)h[A++]=0},c.prototype._toArrayLikeBE=function(h,_){for(var A=h.length-1,C=0,L=0,B=0;L<this.length;L++){var v=this.words[L]<<B|C;h[A--]=v&255,A>=0&&(h[A--]=v>>8&255),A>=0&&(h[A--]=v>>16&255),B===6?(A>=0&&(h[A--]=v>>24&255),C=0,B=0):(C=v>>>24,B+=2)}if(A>=0)for(h[A--]=C;A>=0;)h[A--]=0},Math.clz32?c.prototype._countBits=function(h){return 32-Math.clz32(h)}:c.prototype._countBits=function(h){var _=h,A=0;return _>=4096&&(A+=13,_>>>=13),_>=64&&(A+=7,_>>>=7),_>=8&&(A+=4,_>>>=4),_>=2&&(A+=2,_>>>=2),A+_},c.prototype._zeroBits=function(h){if(h===0)return 26;var _=h,A=0;return(_&8191)===0&&(A+=13,_>>>=13),(_&127)===0&&(A+=7,_>>>=7),(_&15)===0&&(A+=4,_>>>=4),(_&3)===0&&(A+=2,_>>>=2),(_&1)===0&&A++,A},c.prototype.bitLength=function(){var h=this.words[this.length-1],_=this._countBits(h);return(this.length-1)*26+_};function z(T){for(var h=new Array(T.bitLength()),_=0;_<h.length;_++){var A=_/26|0,C=_%26;h[_]=T.words[A]>>>C&1}return h}c.prototype.zeroBits=function(){if(this.isZero())return 0;for(var h=0,_=0;_<this.length;_++){var A=this._zeroBits(this.words[_]);if(h+=A,A!==26)break}return h},c.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},c.prototype.toTwos=function(h){return this.negative!==0?this.abs().inotn(h).iaddn(1):this.clone()},c.prototype.fromTwos=function(h){return this.testn(h-1)?this.notn(h).iaddn(1).ineg():this.clone()},c.prototype.isNeg=function(){return this.negative!==0},c.prototype.neg=function(){return this.clone().ineg()},c.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},c.prototype.iuor=function(h){for(;this.length<h.length;)this.words[this.length++]=0;for(var _=0;_<h.length;_++)this.words[_]=this.words[_]|h.words[_];return this._strip()},c.prototype.ior=function(h){return i((this.negative|h.negative)===0),this.iuor(h)},c.prototype.or=function(h){return this.length>h.length?this.clone().ior(h):h.clone().ior(this)},c.prototype.uor=function(h){return this.length>h.length?this.clone().iuor(h):h.clone().iuor(this)},c.prototype.iuand=function(h){var _;this.length>h.length?_=h:_=this;for(var A=0;A<_.length;A++)this.words[A]=this.words[A]&h.words[A];return this.length=_.length,this._strip()},c.prototype.iand=function(h){return i((this.negative|h.negative)===0),this.iuand(h)},c.prototype.and=function(h){return this.length>h.length?this.clone().iand(h):h.clone().iand(this)},c.prototype.uand=function(h){return this.length>h.length?this.clone().iuand(h):h.clone().iuand(this)},c.prototype.iuxor=function(h){var _,A;this.length>h.length?(_=this,A=h):(_=h,A=this);for(var C=0;C<A.length;C++)this.words[C]=_.words[C]^A.words[C];if(this!==_)for(;C<_.length;C++)this.words[C]=_.words[C];return this.length=_.length,this._strip()},c.prototype.ixor=function(h){return i((this.negative|h.negative)===0),this.iuxor(h)},c.prototype.xor=function(h){return this.length>h.length?this.clone().ixor(h):h.clone().ixor(this)},c.prototype.uxor=function(h){return this.length>h.length?this.clone().iuxor(h):h.clone().iuxor(this)},c.prototype.inotn=function(h){i(typeof h=="number"&&h>=0);var _=Math.ceil(h/26)|0,A=h%26;this._expand(_),A>0&&_--;for(var C=0;C<_;C++)this.words[C]=~this.words[C]&67108863;return A>0&&(this.words[C]=~this.words[C]&67108863>>26-A),this._strip()},c.prototype.notn=function(h){return this.clone().inotn(h)},c.prototype.setn=function(h,_){i(typeof h=="number"&&h>=0);var A=h/26|0,C=h%26;return this._expand(A+1),_?this.words[A]=this.words[A]|1<<C:this.words[A]=this.words[A]&~(1<<C),this._strip()},c.prototype.iadd=function(h){var _;if(this.negative!==0&&h.negative===0)return this.negative=0,_=this.isub(h),this.negative^=1,this._normSign();if(this.negative===0&&h.negative!==0)return h.negative=0,_=this.isub(h),h.negative=1,_._normSign();var A,C;this.length>h.length?(A=this,C=h):(A=h,C=this);for(var L=0,B=0;B<C.length;B++)_=(A.words[B]|0)+(C.words[B]|0)+L,this.words[B]=_&67108863,L=_>>>26;for(;L!==0&&B<A.length;B++)_=(A.words[B]|0)+L,this.words[B]=_&67108863,L=_>>>26;if(this.length=A.length,L!==0)this.words[this.length]=L,this.length++;else if(A!==this)for(;B<A.length;B++)this.words[B]=A.words[B];return this},c.prototype.add=function(h){var _;return h.negative!==0&&this.negative===0?(h.negative=0,_=this.sub(h),h.negative^=1,_):h.negative===0&&this.negative!==0?(this.negative=0,_=h.sub(this),this.negative=1,_):this.length>h.length?this.clone().iadd(h):h.clone().iadd(this)},c.prototype.isub=function(h){if(h.negative!==0){h.negative=0;var _=this.iadd(h);return h.negative=1,_._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(h),this.negative=1,this._normSign();var A=this.cmp(h);if(A===0)return this.negative=0,this.length=1,this.words[0]=0,this;var C,L;A>0?(C=this,L=h):(C=h,L=this);for(var B=0,v=0;v<L.length;v++)_=(C.words[v]|0)-(L.words[v]|0)+B,B=_>>26,this.words[v]=_&67108863;for(;B!==0&&v<C.length;v++)_=(C.words[v]|0)+B,B=_>>26,this.words[v]=_&67108863;if(B===0&&v<C.length&&C!==this)for(;v<C.length;v++)this.words[v]=C.words[v];return this.length=Math.max(this.length,v),C!==this&&(this.negative=1),this._strip()},c.prototype.sub=function(h){return this.clone().isub(h)};function j(T,h,_){_.negative=h.negative^T.negative;var A=T.length+h.length|0;_.length=A,A=A-1|0;var C=T.words[0]|0,L=h.words[0]|0,B=C*L,v=B&67108863,m=B/67108864|0;_.words[0]=v;for(var f=1;f<A;f++){for(var y=m>>>26,O=m&67108863,D=Math.min(f,h.length-1),Z=Math.max(0,f-T.length+1);Z<=D;Z++){var se=f-Z|0;C=T.words[se]|0,L=h.words[Z]|0,B=C*L+O,y+=B/67108864|0,O=B&67108863}_.words[f]=O|0,m=y|0}return m!==0?_.words[f]=m|0:_.length--,_._strip()}var F=function(h,_,A){var C=h.words,L=_.words,B=A.words,v=0,m,f,y,O=C[0]|0,D=O&8191,Z=O>>>13,se=C[1]|0,re=se&8191,le=se>>>13,Ae=C[2]|0,Ie=Ae&8191,Ve=Ae>>>13,It=C[3]|0,Ge=It&8191,$e=It>>>13,Yt=C[4]|0,Ze=Yt&8191,Qe=Yt>>>13,_n=C[5]|0,ht=_n&8191,Fe=_n>>>13,Tt=C[6]|0,We=Tt&8191,je=Tt>>>13,Ct=C[7]|0,Ce=Ct&8191,H=Ct>>>13,S=C[8]|0,x=S&8191,P=S>>>13,ee=C[9]|0,ae=ee&8191,me=ee>>>13,ze=L[0]|0,Pe=ze&8191,Ue=ze>>>13,_t=L[1]|0,Xe=_t&8191,tn=_t>>>13,Ss=L[2]|0,Lt=Ss&8191,zt=Ss>>>13,Ir=L[3]|0,Ht=Ir&8191,Mt=Ir>>>13,Gc=L[4]|0,Zt=Gc&8191,qt=Gc>>>13,Bi=L[5]|0,nn=Bi&8191,Xt=Bi>>>13,vo=L[6]|0,Wt=vo&8191,Kt=vo>>>13,ca=L[7]|0,$t=ca&8191,Qt=ca>>>13,Er=L[8]|0,st=Er&8191,ft=Er>>>13,$r=L[9]|0,Vt=$r&8191,rn=$r>>>13;A.negative=h.negative^_.negative,A.length=19,m=Math.imul(D,Pe),f=Math.imul(D,Ue),f=f+Math.imul(Z,Pe)|0,y=Math.imul(Z,Ue);var Eo=(v+m|0)+((f&8191)<<13)|0;v=(y+(f>>>13)|0)+(Eo>>>26)|0,Eo&=67108863,m=Math.imul(re,Pe),f=Math.imul(re,Ue),f=f+Math.imul(le,Pe)|0,y=Math.imul(le,Ue),m=m+Math.imul(D,Xe)|0,f=f+Math.imul(D,tn)|0,f=f+Math.imul(Z,Xe)|0,y=y+Math.imul(Z,tn)|0;var la=(v+m|0)+((f&8191)<<13)|0;v=(y+(f>>>13)|0)+(la>>>26)|0,la&=67108863,m=Math.imul(Ie,Pe),f=Math.imul(Ie,Ue),f=f+Math.imul(Ve,Pe)|0,y=Math.imul(Ve,Ue),m=m+Math.imul(re,Xe)|0,f=f+Math.imul(re,tn)|0,f=f+Math.imul(le,Xe)|0,y=y+Math.imul(le,tn)|0,m=m+Math.imul(D,Lt)|0,f=f+Math.imul(D,zt)|0,f=f+Math.imul(Z,Lt)|0,y=y+Math.imul(Z,zt)|0;var Qr=(v+m|0)+((f&8191)<<13)|0;v=(y+(f>>>13)|0)+(Qr>>>26)|0,Qr&=67108863,m=Math.imul(Ge,Pe),f=Math.imul(Ge,Ue),f=f+Math.imul($e,Pe)|0,y=Math.imul($e,Ue),m=m+Math.imul(Ie,Xe)|0,f=f+Math.imul(Ie,tn)|0,f=f+Math.imul(Ve,Xe)|0,y=y+Math.imul(Ve,tn)|0,m=m+Math.imul(re,Lt)|0,f=f+Math.imul(re,zt)|0,f=f+Math.imul(le,Lt)|0,y=y+Math.imul(le,zt)|0,m=m+Math.imul(D,Ht)|0,f=f+Math.imul(D,Mt)|0,f=f+Math.imul(Z,Ht)|0,y=y+Math.imul(Z,Mt)|0;var As=(v+m|0)+((f&8191)<<13)|0;v=(y+(f>>>13)|0)+(As>>>26)|0,As&=67108863,m=Math.imul(Ze,Pe),f=Math.imul(Ze,Ue),f=f+Math.imul(Qe,Pe)|0,y=Math.imul(Qe,Ue),m=m+Math.imul(Ge,Xe)|0,f=f+Math.imul(Ge,tn)|0,f=f+Math.imul($e,Xe)|0,y=y+Math.imul($e,tn)|0,m=m+Math.imul(Ie,Lt)|0,f=f+Math.imul(Ie,zt)|0,f=f+Math.imul(Ve,Lt)|0,y=y+Math.imul(Ve,zt)|0,m=m+Math.imul(re,Ht)|0,f=f+Math.imul(re,Mt)|0,f=f+Math.imul(le,Ht)|0,y=y+Math.imul(le,Mt)|0,m=m+Math.imul(D,Zt)|0,f=f+Math.imul(D,qt)|0,f=f+Math.imul(Z,Zt)|0,y=y+Math.imul(Z,qt)|0;var Cr=(v+m|0)+((f&8191)<<13)|0;v=(y+(f>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,m=Math.imul(ht,Pe),f=Math.imul(ht,Ue),f=f+Math.imul(Fe,Pe)|0,y=Math.imul(Fe,Ue),m=m+Math.imul(Ze,Xe)|0,f=f+Math.imul(Ze,tn)|0,f=f+Math.imul(Qe,Xe)|0,y=y+Math.imul(Qe,tn)|0,m=m+Math.imul(Ge,Lt)|0,f=f+Math.imul(Ge,zt)|0,f=f+Math.imul($e,Lt)|0,y=y+Math.imul($e,zt)|0,m=m+Math.imul(Ie,Ht)|0,f=f+Math.imul(Ie,Mt)|0,f=f+Math.imul(Ve,Ht)|0,y=y+Math.imul(Ve,Mt)|0,m=m+Math.imul(re,Zt)|0,f=f+Math.imul(re,qt)|0,f=f+Math.imul(le,Zt)|0,y=y+Math.imul(le,qt)|0,m=m+Math.imul(D,nn)|0,f=f+Math.imul(D,Xt)|0,f=f+Math.imul(Z,nn)|0,y=y+Math.imul(Z,Xt)|0;var Br=(v+m|0)+((f&8191)<<13)|0;v=(y+(f>>>13)|0)+(Br>>>26)|0,Br&=67108863,m=Math.imul(We,Pe),f=Math.imul(We,Ue),f=f+Math.imul(je,Pe)|0,y=Math.imul(je,Ue),m=m+Math.imul(ht,Xe)|0,f=f+Math.imul(ht,tn)|0,f=f+Math.imul(Fe,Xe)|0,y=y+Math.imul(Fe,tn)|0,m=m+Math.imul(Ze,Lt)|0,f=f+Math.imul(Ze,zt)|0,f=f+Math.imul(Qe,Lt)|0,y=y+Math.imul(Qe,zt)|0,m=m+Math.imul(Ge,Ht)|0,f=f+Math.imul(Ge,Mt)|0,f=f+Math.imul($e,Ht)|0,y=y+Math.imul($e,Mt)|0,m=m+Math.imul(Ie,Zt)|0,f=f+Math.imul(Ie,qt)|0,f=f+Math.imul(Ve,Zt)|0,y=y+Math.imul(Ve,qt)|0,m=m+Math.imul(re,nn)|0,f=f+Math.imul(re,Xt)|0,f=f+Math.imul(le,nn)|0,y=y+Math.imul(le,Xt)|0,m=m+Math.imul(D,Wt)|0,f=f+Math.imul(D,Kt)|0,f=f+Math.imul(Z,Wt)|0,y=y+Math.imul(Z,Kt)|0;var Jr=(v+m|0)+((f&8191)<<13)|0;v=(y+(f>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,m=Math.imul(Ce,Pe),f=Math.imul(Ce,Ue),f=f+Math.imul(H,Pe)|0,y=Math.imul(H,Ue),m=m+Math.imul(We,Xe)|0,f=f+Math.imul(We,tn)|0,f=f+Math.imul(je,Xe)|0,y=y+Math.imul(je,tn)|0,m=m+Math.imul(ht,Lt)|0,f=f+Math.imul(ht,zt)|0,f=f+Math.imul(Fe,Lt)|0,y=y+Math.imul(Fe,zt)|0,m=m+Math.imul(Ze,Ht)|0,f=f+Math.imul(Ze,Mt)|0,f=f+Math.imul(Qe,Ht)|0,y=y+Math.imul(Qe,Mt)|0,m=m+Math.imul(Ge,Zt)|0,f=f+Math.imul(Ge,qt)|0,f=f+Math.imul($e,Zt)|0,y=y+Math.imul($e,qt)|0,m=m+Math.imul(Ie,nn)|0,f=f+Math.imul(Ie,Xt)|0,f=f+Math.imul(Ve,nn)|0,y=y+Math.imul(Ve,Xt)|0,m=m+Math.imul(re,Wt)|0,f=f+Math.imul(re,Kt)|0,f=f+Math.imul(le,Wt)|0,y=y+Math.imul(le,Kt)|0,m=m+Math.imul(D,$t)|0,f=f+Math.imul(D,Qt)|0,f=f+Math.imul(Z,$t)|0,y=y+Math.imul(Z,Qt)|0;var Mr=(v+m|0)+((f&8191)<<13)|0;v=(y+(f>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,m=Math.imul(x,Pe),f=Math.imul(x,Ue),f=f+Math.imul(P,Pe)|0,y=Math.imul(P,Ue),m=m+Math.imul(Ce,Xe)|0,f=f+Math.imul(Ce,tn)|0,f=f+Math.imul(H,Xe)|0,y=y+Math.imul(H,tn)|0,m=m+Math.imul(We,Lt)|0,f=f+Math.imul(We,zt)|0,f=f+Math.imul(je,Lt)|0,y=y+Math.imul(je,zt)|0,m=m+Math.imul(ht,Ht)|0,f=f+Math.imul(ht,Mt)|0,f=f+Math.imul(Fe,Ht)|0,y=y+Math.imul(Fe,Mt)|0,m=m+Math.imul(Ze,Zt)|0,f=f+Math.imul(Ze,qt)|0,f=f+Math.imul(Qe,Zt)|0,y=y+Math.imul(Qe,qt)|0,m=m+Math.imul(Ge,nn)|0,f=f+Math.imul(Ge,Xt)|0,f=f+Math.imul($e,nn)|0,y=y+Math.imul($e,Xt)|0,m=m+Math.imul(Ie,Wt)|0,f=f+Math.imul(Ie,Kt)|0,f=f+Math.imul(Ve,Wt)|0,y=y+Math.imul(Ve,Kt)|0,m=m+Math.imul(re,$t)|0,f=f+Math.imul(re,Qt)|0,f=f+Math.imul(le,$t)|0,y=y+Math.imul(le,Qt)|0,m=m+Math.imul(D,st)|0,f=f+Math.imul(D,ft)|0,f=f+Math.imul(Z,st)|0,y=y+Math.imul(Z,ft)|0;var sn=(v+m|0)+((f&8191)<<13)|0;v=(y+(f>>>13)|0)+(sn>>>26)|0,sn&=67108863,m=Math.imul(ae,Pe),f=Math.imul(ae,Ue),f=f+Math.imul(me,Pe)|0,y=Math.imul(me,Ue),m=m+Math.imul(x,Xe)|0,f=f+Math.imul(x,tn)|0,f=f+Math.imul(P,Xe)|0,y=y+Math.imul(P,tn)|0,m=m+Math.imul(Ce,Lt)|0,f=f+Math.imul(Ce,zt)|0,f=f+Math.imul(H,Lt)|0,y=y+Math.imul(H,zt)|0,m=m+Math.imul(We,Ht)|0,f=f+Math.imul(We,Mt)|0,f=f+Math.imul(je,Ht)|0,y=y+Math.imul(je,Mt)|0,m=m+Math.imul(ht,Zt)|0,f=f+Math.imul(ht,qt)|0,f=f+Math.imul(Fe,Zt)|0,y=y+Math.imul(Fe,qt)|0,m=m+Math.imul(Ze,nn)|0,f=f+Math.imul(Ze,Xt)|0,f=f+Math.imul(Qe,nn)|0,y=y+Math.imul(Qe,Xt)|0,m=m+Math.imul(Ge,Wt)|0,f=f+Math.imul(Ge,Kt)|0,f=f+Math.imul($e,Wt)|0,y=y+Math.imul($e,Kt)|0,m=m+Math.imul(Ie,$t)|0,f=f+Math.imul(Ie,Qt)|0,f=f+Math.imul(Ve,$t)|0,y=y+Math.imul(Ve,Qt)|0,m=m+Math.imul(re,st)|0,f=f+Math.imul(re,ft)|0,f=f+Math.imul(le,st)|0,y=y+Math.imul(le,ft)|0,m=m+Math.imul(D,Vt)|0,f=f+Math.imul(D,rn)|0,f=f+Math.imul(Z,Vt)|0,y=y+Math.imul(Z,rn)|0;var ua=(v+m|0)+((f&8191)<<13)|0;v=(y+(f>>>13)|0)+(ua>>>26)|0,ua&=67108863,m=Math.imul(ae,Xe),f=Math.imul(ae,tn),f=f+Math.imul(me,Xe)|0,y=Math.imul(me,tn),m=m+Math.imul(x,Lt)|0,f=f+Math.imul(x,zt)|0,f=f+Math.imul(P,Lt)|0,y=y+Math.imul(P,zt)|0,m=m+Math.imul(Ce,Ht)|0,f=f+Math.imul(Ce,Mt)|0,f=f+Math.imul(H,Ht)|0,y=y+Math.imul(H,Mt)|0,m=m+Math.imul(We,Zt)|0,f=f+Math.imul(We,qt)|0,f=f+Math.imul(je,Zt)|0,y=y+Math.imul(je,qt)|0,m=m+Math.imul(ht,nn)|0,f=f+Math.imul(ht,Xt)|0,f=f+Math.imul(Fe,nn)|0,y=y+Math.imul(Fe,Xt)|0,m=m+Math.imul(Ze,Wt)|0,f=f+Math.imul(Ze,Kt)|0,f=f+Math.imul(Qe,Wt)|0,y=y+Math.imul(Qe,Kt)|0,m=m+Math.imul(Ge,$t)|0,f=f+Math.imul(Ge,Qt)|0,f=f+Math.imul($e,$t)|0,y=y+Math.imul($e,Qt)|0,m=m+Math.imul(Ie,st)|0,f=f+Math.imul(Ie,ft)|0,f=f+Math.imul(Ve,st)|0,y=y+Math.imul(Ve,ft)|0,m=m+Math.imul(re,Vt)|0,f=f+Math.imul(re,rn)|0,f=f+Math.imul(le,Vt)|0,y=y+Math.imul(le,rn)|0;var fa=(v+m|0)+((f&8191)<<13)|0;v=(y+(f>>>13)|0)+(fa>>>26)|0,fa&=67108863,m=Math.imul(ae,Lt),f=Math.imul(ae,zt),f=f+Math.imul(me,Lt)|0,y=Math.imul(me,zt),m=m+Math.imul(x,Ht)|0,f=f+Math.imul(x,Mt)|0,f=f+Math.imul(P,Ht)|0,y=y+Math.imul(P,Mt)|0,m=m+Math.imul(Ce,Zt)|0,f=f+Math.imul(Ce,qt)|0,f=f+Math.imul(H,Zt)|0,y=y+Math.imul(H,qt)|0,m=m+Math.imul(We,nn)|0,f=f+Math.imul(We,Xt)|0,f=f+Math.imul(je,nn)|0,y=y+Math.imul(je,Xt)|0,m=m+Math.imul(ht,Wt)|0,f=f+Math.imul(ht,Kt)|0,f=f+Math.imul(Fe,Wt)|0,y=y+Math.imul(Fe,Kt)|0,m=m+Math.imul(Ze,$t)|0,f=f+Math.imul(Ze,Qt)|0,f=f+Math.imul(Qe,$t)|0,y=y+Math.imul(Qe,Qt)|0,m=m+Math.imul(Ge,st)|0,f=f+Math.imul(Ge,ft)|0,f=f+Math.imul($e,st)|0,y=y+Math.imul($e,ft)|0,m=m+Math.imul(Ie,Vt)|0,f=f+Math.imul(Ie,rn)|0,f=f+Math.imul(Ve,Vt)|0,y=y+Math.imul(Ve,rn)|0;var Sr=(v+m|0)+((f&8191)<<13)|0;v=(y+(f>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,m=Math.imul(ae,Ht),f=Math.imul(ae,Mt),f=f+Math.imul(me,Ht)|0,y=Math.imul(me,Mt),m=m+Math.imul(x,Zt)|0,f=f+Math.imul(x,qt)|0,f=f+Math.imul(P,Zt)|0,y=y+Math.imul(P,qt)|0,m=m+Math.imul(Ce,nn)|0,f=f+Math.imul(Ce,Xt)|0,f=f+Math.imul(H,nn)|0,y=y+Math.imul(H,Xt)|0,m=m+Math.imul(We,Wt)|0,f=f+Math.imul(We,Kt)|0,f=f+Math.imul(je,Wt)|0,y=y+Math.imul(je,Kt)|0,m=m+Math.imul(ht,$t)|0,f=f+Math.imul(ht,Qt)|0,f=f+Math.imul(Fe,$t)|0,y=y+Math.imul(Fe,Qt)|0,m=m+Math.imul(Ze,st)|0,f=f+Math.imul(Ze,ft)|0,f=f+Math.imul(Qe,st)|0,y=y+Math.imul(Qe,ft)|0,m=m+Math.imul(Ge,Vt)|0,f=f+Math.imul(Ge,rn)|0,f=f+Math.imul($e,Vt)|0,y=y+Math.imul($e,rn)|0;var Ur=(v+m|0)+((f&8191)<<13)|0;v=(y+(f>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,m=Math.imul(ae,Zt),f=Math.imul(ae,qt),f=f+Math.imul(me,Zt)|0,y=Math.imul(me,qt),m=m+Math.imul(x,nn)|0,f=f+Math.imul(x,Xt)|0,f=f+Math.imul(P,nn)|0,y=y+Math.imul(P,Xt)|0,m=m+Math.imul(Ce,Wt)|0,f=f+Math.imul(Ce,Kt)|0,f=f+Math.imul(H,Wt)|0,y=y+Math.imul(H,Kt)|0,m=m+Math.imul(We,$t)|0,f=f+Math.imul(We,Qt)|0,f=f+Math.imul(je,$t)|0,y=y+Math.imul(je,Qt)|0,m=m+Math.imul(ht,st)|0,f=f+Math.imul(ht,ft)|0,f=f+Math.imul(Fe,st)|0,y=y+Math.imul(Fe,ft)|0,m=m+Math.imul(Ze,Vt)|0,f=f+Math.imul(Ze,rn)|0,f=f+Math.imul(Qe,Vt)|0,y=y+Math.imul(Qe,rn)|0;var So=(v+m|0)+((f&8191)<<13)|0;v=(y+(f>>>13)|0)+(So>>>26)|0,So&=67108863,m=Math.imul(ae,nn),f=Math.imul(ae,Xt),f=f+Math.imul(me,nn)|0,y=Math.imul(me,Xt),m=m+Math.imul(x,Wt)|0,f=f+Math.imul(x,Kt)|0,f=f+Math.imul(P,Wt)|0,y=y+Math.imul(P,Kt)|0,m=m+Math.imul(Ce,$t)|0,f=f+Math.imul(Ce,Qt)|0,f=f+Math.imul(H,$t)|0,y=y+Math.imul(H,Qt)|0,m=m+Math.imul(We,st)|0,f=f+Math.imul(We,ft)|0,f=f+Math.imul(je,st)|0,y=y+Math.imul(je,ft)|0,m=m+Math.imul(ht,Vt)|0,f=f+Math.imul(ht,rn)|0,f=f+Math.imul(Fe,Vt)|0,y=y+Math.imul(Fe,rn)|0;var da=(v+m|0)+((f&8191)<<13)|0;v=(y+(f>>>13)|0)+(da>>>26)|0,da&=67108863,m=Math.imul(ae,Wt),f=Math.imul(ae,Kt),f=f+Math.imul(me,Wt)|0,y=Math.imul(me,Kt),m=m+Math.imul(x,$t)|0,f=f+Math.imul(x,Qt)|0,f=f+Math.imul(P,$t)|0,y=y+Math.imul(P,Qt)|0,m=m+Math.imul(Ce,st)|0,f=f+Math.imul(Ce,ft)|0,f=f+Math.imul(H,st)|0,y=y+Math.imul(H,ft)|0,m=m+Math.imul(We,Vt)|0,f=f+Math.imul(We,rn)|0,f=f+Math.imul(je,Vt)|0,y=y+Math.imul(je,rn)|0;var ha=(v+m|0)+((f&8191)<<13)|0;v=(y+(f>>>13)|0)+(ha>>>26)|0,ha&=67108863,m=Math.imul(ae,$t),f=Math.imul(ae,Qt),f=f+Math.imul(me,$t)|0,y=Math.imul(me,Qt),m=m+Math.imul(x,st)|0,f=f+Math.imul(x,ft)|0,f=f+Math.imul(P,st)|0,y=y+Math.imul(P,ft)|0,m=m+Math.imul(Ce,Vt)|0,f=f+Math.imul(Ce,rn)|0,f=f+Math.imul(H,Vt)|0,y=y+Math.imul(H,rn)|0;var Ao=(v+m|0)+((f&8191)<<13)|0;v=(y+(f>>>13)|0)+(Ao>>>26)|0,Ao&=67108863,m=Math.imul(ae,st),f=Math.imul(ae,ft),f=f+Math.imul(me,st)|0,y=Math.imul(me,ft),m=m+Math.imul(x,Vt)|0,f=f+Math.imul(x,rn)|0,f=f+Math.imul(P,Vt)|0,y=y+Math.imul(P,rn)|0;var Mi=(v+m|0)+((f&8191)<<13)|0;v=(y+(f>>>13)|0)+(Mi>>>26)|0,Mi&=67108863,m=Math.imul(ae,Vt),f=Math.imul(ae,rn),f=f+Math.imul(me,Vt)|0,y=Math.imul(me,rn);var Ui=(v+m|0)+((f&8191)<<13)|0;return v=(y+(f>>>13)|0)+(Ui>>>26)|0,Ui&=67108863,B[0]=Eo,B[1]=la,B[2]=Qr,B[3]=As,B[4]=Cr,B[5]=Br,B[6]=Jr,B[7]=Mr,B[8]=sn,B[9]=ua,B[10]=fa,B[11]=Sr,B[12]=Ur,B[13]=So,B[14]=da,B[15]=ha,B[16]=Ao,B[17]=Mi,B[18]=Ui,v!==0&&(B[19]=v,A.length++),A};Math.imul||(F=j);function V(T,h,_){_.negative=h.negative^T.negative,_.length=T.length+h.length;for(var A=0,C=0,L=0;L<_.length-1;L++){var B=C;C=0;for(var v=A&67108863,m=Math.min(L,h.length-1),f=Math.max(0,L-T.length+1);f<=m;f++){var y=L-f,O=T.words[y]|0,D=h.words[f]|0,Z=O*D,se=Z&67108863;B=B+(Z/67108864|0)|0,se=se+v|0,v=se&67108863,B=B+(se>>>26)|0,C+=B>>>26,B&=67108863}_.words[L]=v,A=B,B=C}return A!==0?_.words[L]=A:_.length--,_._strip()}function $(T,h,_){return V(T,h,_)}c.prototype.mulTo=function(h,_){var A,C=this.length+h.length;return this.length===10&&h.length===10?A=F(this,h,_):C<63?A=j(this,h,_):C<1024?A=V(this,h,_):A=$(this,h,_),A},c.prototype.mul=function(h){var _=new c(null);return _.words=new Array(this.length+h.length),this.mulTo(h,_)},c.prototype.mulf=function(h){var _=new c(null);return _.words=new Array(this.length+h.length),$(this,h,_)},c.prototype.imul=function(h){return this.clone().mulTo(h,this)},c.prototype.imuln=function(h){var _=h<0;_&&(h=-h),i(typeof h=="number"),i(h<67108864);for(var A=0,C=0;C<this.length;C++){var L=(this.words[C]|0)*h,B=(L&67108863)+(A&67108863);A>>=26,A+=L/67108864|0,A+=B>>>26,this.words[C]=B&67108863}return A!==0&&(this.words[C]=A,this.length++),this.length=h===0?1:this.length,_?this.ineg():this},c.prototype.muln=function(h){return this.clone().imuln(h)},c.prototype.sqr=function(){return this.mul(this)},c.prototype.isqr=function(){return this.imul(this.clone())},c.prototype.pow=function(h){var _=z(h);if(_.length===0)return new c(1);for(var A=this,C=0;C<_.length&&_[C]===0;C++,A=A.sqr());if(++C<_.length)for(var L=A.sqr();C<_.length;C++,L=L.sqr())_[C]!==0&&(A=A.mul(L));return A},c.prototype.iushln=function(h){i(typeof h=="number"&&h>=0);var _=h%26,A=(h-_)/26,C=67108863>>>26-_<<26-_,L;if(_!==0){var B=0;for(L=0;L<this.length;L++){var v=this.words[L]&C,m=(this.words[L]|0)-v<<_;this.words[L]=m|B,B=v>>>26-_}B&&(this.words[L]=B,this.length++)}if(A!==0){for(L=this.length-1;L>=0;L--)this.words[L+A]=this.words[L];for(L=0;L<A;L++)this.words[L]=0;this.length+=A}return this._strip()},c.prototype.ishln=function(h){return i(this.negative===0),this.iushln(h)},c.prototype.iushrn=function(h,_,A){i(typeof h=="number"&&h>=0);var C;_?C=(_-_%26)/26:C=0;var L=h%26,B=Math.min((h-L)/26,this.length),v=67108863^67108863>>>L<<L,m=A;if(C-=B,C=Math.max(0,C),m){for(var f=0;f<B;f++)m.words[f]=this.words[f];m.length=B}if(B!==0)if(this.length>B)for(this.length-=B,f=0;f<this.length;f++)this.words[f]=this.words[f+B];else this.words[0]=0,this.length=1;var y=0;for(f=this.length-1;f>=0&&(y!==0||f>=C);f--){var O=this.words[f]|0;this.words[f]=y<<26-L|O>>>L,y=O&v}return m&&y!==0&&(m.words[m.length++]=y),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},c.prototype.ishrn=function(h,_,A){return i(this.negative===0),this.iushrn(h,_,A)},c.prototype.shln=function(h){return this.clone().ishln(h)},c.prototype.ushln=function(h){return this.clone().iushln(h)},c.prototype.shrn=function(h){return this.clone().ishrn(h)},c.prototype.ushrn=function(h){return this.clone().iushrn(h)},c.prototype.testn=function(h){i(typeof h=="number"&&h>=0);var _=h%26,A=(h-_)/26,C=1<<_;if(this.length<=A)return!1;var L=this.words[A];return!!(L&C)},c.prototype.imaskn=function(h){i(typeof h=="number"&&h>=0);var _=h%26,A=(h-_)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=A)return this;if(_!==0&&A++,this.length=Math.min(A,this.length),_!==0){var C=67108863^67108863>>>_<<_;this.words[this.length-1]&=C}return this._strip()},c.prototype.maskn=function(h){return this.clone().imaskn(h)},c.prototype.iaddn=function(h){return i(typeof h=="number"),i(h<67108864),h<0?this.isubn(-h):this.negative!==0?this.length===1&&(this.words[0]|0)<=h?(this.words[0]=h-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(h),this.negative=1,this):this._iaddn(h)},c.prototype._iaddn=function(h){this.words[0]+=h;for(var _=0;_<this.length&&this.words[_]>=67108864;_++)this.words[_]-=67108864,_===this.length-1?this.words[_+1]=1:this.words[_+1]++;return this.length=Math.max(this.length,_+1),this},c.prototype.isubn=function(h){if(i(typeof h=="number"),i(h<67108864),h<0)return this.iaddn(-h);if(this.negative!==0)return this.negative=0,this.iaddn(h),this.negative=1,this;if(this.words[0]-=h,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var _=0;_<this.length&&this.words[_]<0;_++)this.words[_]+=67108864,this.words[_+1]-=1;return this._strip()},c.prototype.addn=function(h){return this.clone().iaddn(h)},c.prototype.subn=function(h){return this.clone().isubn(h)},c.prototype.iabs=function(){return this.negative=0,this},c.prototype.abs=function(){return this.clone().iabs()},c.prototype._ishlnsubmul=function(h,_,A){var C=h.length+A,L;this._expand(C);var B,v=0;for(L=0;L<h.length;L++){B=(this.words[L+A]|0)+v;var m=(h.words[L]|0)*_;B-=m&67108863,v=(B>>26)-(m/67108864|0),this.words[L+A]=B&67108863}for(;L<this.length-A;L++)B=(this.words[L+A]|0)+v,v=B>>26,this.words[L+A]=B&67108863;if(v===0)return this._strip();for(i(v===-1),v=0,L=0;L<this.length;L++)B=-(this.words[L]|0)+v,v=B>>26,this.words[L]=B&67108863;return this.negative=1,this._strip()},c.prototype._wordDiv=function(h,_){var A=this.length-h.length,C=this.clone(),L=h,B=L.words[L.length-1]|0,v=this._countBits(B);A=26-v,A!==0&&(L=L.ushln(A),C.iushln(A),B=L.words[L.length-1]|0);var m=C.length-L.length,f;if(_!=="mod"){f=new c(null),f.length=m+1,f.words=new Array(f.length);for(var y=0;y<f.length;y++)f.words[y]=0}var O=C.clone()._ishlnsubmul(L,1,m);O.negative===0&&(C=O,f&&(f.words[m]=1));for(var D=m-1;D>=0;D--){var Z=(C.words[L.length+D]|0)*67108864+(C.words[L.length+D-1]|0);for(Z=Math.min(Z/B|0,67108863),C._ishlnsubmul(L,Z,D);C.negative!==0;)Z--,C.negative=0,C._ishlnsubmul(L,1,D),C.isZero()||(C.negative^=1);f&&(f.words[D]=Z)}return f&&f._strip(),C._strip(),_!=="div"&&A!==0&&C.iushrn(A),{div:f||null,mod:C}},c.prototype.divmod=function(h,_,A){if(i(!h.isZero()),this.isZero())return{div:new c(0),mod:new c(0)};var C,L,B;return this.negative!==0&&h.negative===0?(B=this.neg().divmod(h,_),_!=="mod"&&(C=B.div.neg()),_!=="div"&&(L=B.mod.neg(),A&&L.negative!==0&&L.iadd(h)),{div:C,mod:L}):this.negative===0&&h.negative!==0?(B=this.divmod(h.neg(),_),_!=="mod"&&(C=B.div.neg()),{div:C,mod:B.mod}):(this.negative&h.negative)!==0?(B=this.neg().divmod(h.neg(),_),_!=="div"&&(L=B.mod.neg(),A&&L.negative!==0&&L.isub(h)),{div:B.div,mod:L}):h.length>this.length||this.cmp(h)<0?{div:new c(0),mod:this}:h.length===1?_==="div"?{div:this.divn(h.words[0]),mod:null}:_==="mod"?{div:null,mod:new c(this.modrn(h.words[0]))}:{div:this.divn(h.words[0]),mod:new c(this.modrn(h.words[0]))}:this._wordDiv(h,_)},c.prototype.div=function(h){return this.divmod(h,"div",!1).div},c.prototype.mod=function(h){return this.divmod(h,"mod",!1).mod},c.prototype.umod=function(h){return this.divmod(h,"mod",!0).mod},c.prototype.divRound=function(h){var _=this.divmod(h);if(_.mod.isZero())return _.div;var A=_.div.negative!==0?_.mod.isub(h):_.mod,C=h.ushrn(1),L=h.andln(1),B=A.cmp(C);return B<0||L===1&&B===0?_.div:_.div.negative!==0?_.div.isubn(1):_.div.iaddn(1)},c.prototype.modrn=function(h){var _=h<0;_&&(h=-h),i(h<=67108863);for(var A=(1<<26)%h,C=0,L=this.length-1;L>=0;L--)C=(A*C+(this.words[L]|0))%h;return _?-C:C},c.prototype.modn=function(h){return this.modrn(h)},c.prototype.idivn=function(h){var _=h<0;_&&(h=-h),i(h<=67108863);for(var A=0,C=this.length-1;C>=0;C--){var L=(this.words[C]|0)+A*67108864;this.words[C]=L/h|0,A=L%h}return this._strip(),_?this.ineg():this},c.prototype.divn=function(h){return this.clone().idivn(h)},c.prototype.egcd=function(h){i(h.negative===0),i(!h.isZero());var _=this,A=h.clone();_.negative!==0?_=_.umod(h):_=_.clone();for(var C=new c(1),L=new c(0),B=new c(0),v=new c(1),m=0;_.isEven()&&A.isEven();)_.iushrn(1),A.iushrn(1),++m;for(var f=A.clone(),y=_.clone();!_.isZero();){for(var O=0,D=1;(_.words[0]&D)===0&&O<26;++O,D<<=1);if(O>0)for(_.iushrn(O);O-- >0;)(C.isOdd()||L.isOdd())&&(C.iadd(f),L.isub(y)),C.iushrn(1),L.iushrn(1);for(var Z=0,se=1;(A.words[0]&se)===0&&Z<26;++Z,se<<=1);if(Z>0)for(A.iushrn(Z);Z-- >0;)(B.isOdd()||v.isOdd())&&(B.iadd(f),v.isub(y)),B.iushrn(1),v.iushrn(1);_.cmp(A)>=0?(_.isub(A),C.isub(B),L.isub(v)):(A.isub(_),B.isub(C),v.isub(L))}return{a:B,b:v,gcd:A.iushln(m)}},c.prototype._invmp=function(h){i(h.negative===0),i(!h.isZero());var _=this,A=h.clone();_.negative!==0?_=_.umod(h):_=_.clone();for(var C=new c(1),L=new c(0),B=A.clone();_.cmpn(1)>0&&A.cmpn(1)>0;){for(var v=0,m=1;(_.words[0]&m)===0&&v<26;++v,m<<=1);if(v>0)for(_.iushrn(v);v-- >0;)C.isOdd()&&C.iadd(B),C.iushrn(1);for(var f=0,y=1;(A.words[0]&y)===0&&f<26;++f,y<<=1);if(f>0)for(A.iushrn(f);f-- >0;)L.isOdd()&&L.iadd(B),L.iushrn(1);_.cmp(A)>=0?(_.isub(A),C.isub(L)):(A.isub(_),L.isub(C))}var O;return _.cmpn(1)===0?O=C:O=L,O.cmpn(0)<0&&O.iadd(h),O},c.prototype.gcd=function(h){if(this.isZero())return h.abs();if(h.isZero())return this.abs();var _=this.clone(),A=h.clone();_.negative=0,A.negative=0;for(var C=0;_.isEven()&&A.isEven();C++)_.iushrn(1),A.iushrn(1);do{for(;_.isEven();)_.iushrn(1);for(;A.isEven();)A.iushrn(1);var L=_.cmp(A);if(L<0){var B=_;_=A,A=B}else if(L===0||A.cmpn(1)===0)break;_.isub(A)}while(!0);return A.iushln(C)},c.prototype.invm=function(h){return this.egcd(h).a.umod(h)},c.prototype.isEven=function(){return(this.words[0]&1)===0},c.prototype.isOdd=function(){return(this.words[0]&1)===1},c.prototype.andln=function(h){return this.words[0]&h},c.prototype.bincn=function(h){i(typeof h=="number");var _=h%26,A=(h-_)/26,C=1<<_;if(this.length<=A)return this._expand(A+1),this.words[A]|=C,this;for(var L=C,B=A;L!==0&&B<this.length;B++){var v=this.words[B]|0;v+=L,L=v>>>26,v&=67108863,this.words[B]=v}return L!==0&&(this.words[B]=L,this.length++),this},c.prototype.isZero=function(){return this.length===1&&this.words[0]===0},c.prototype.cmpn=function(h){var _=h<0;if(this.negative!==0&&!_)return-1;if(this.negative===0&&_)return 1;this._strip();var A;if(this.length>1)A=1;else{_&&(h=-h),i(h<=67108863,"Number is too big");var C=this.words[0]|0;A=C===h?0:C<h?-1:1}return this.negative!==0?-A|0:A},c.prototype.cmp=function(h){if(this.negative!==0&&h.negative===0)return-1;if(this.negative===0&&h.negative!==0)return 1;var _=this.ucmp(h);return this.negative!==0?-_|0:_},c.prototype.ucmp=function(h){if(this.length>h.length)return 1;if(this.length<h.length)return-1;for(var _=0,A=this.length-1;A>=0;A--){var C=this.words[A]|0,L=h.words[A]|0;if(C!==L){C<L?_=-1:C>L&&(_=1);break}}return _},c.prototype.gtn=function(h){return this.cmpn(h)===1},c.prototype.gt=function(h){return this.cmp(h)===1},c.prototype.gten=function(h){return this.cmpn(h)>=0},c.prototype.gte=function(h){return this.cmp(h)>=0},c.prototype.ltn=function(h){return this.cmpn(h)===-1},c.prototype.lt=function(h){return this.cmp(h)===-1},c.prototype.lten=function(h){return this.cmpn(h)<=0},c.prototype.lte=function(h){return this.cmp(h)<=0},c.prototype.eqn=function(h){return this.cmpn(h)===0},c.prototype.eq=function(h){return this.cmp(h)===0},c.red=function(h){return new X(h)},c.prototype.toRed=function(h){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),h.convertTo(this)._forceRed(h)},c.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},c.prototype._forceRed=function(h){return this.red=h,this},c.prototype.forceRed=function(h){return i(!this.red,"Already a number in reduction context"),this._forceRed(h)},c.prototype.redAdd=function(h){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,h)},c.prototype.redIAdd=function(h){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,h)},c.prototype.redSub=function(h){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,h)},c.prototype.redISub=function(h){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,h)},c.prototype.redShl=function(h){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,h)},c.prototype.redMul=function(h){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.mul(this,h)},c.prototype.redIMul=function(h){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.imul(this,h)},c.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},c.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},c.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},c.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},c.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},c.prototype.redPow=function(h){return i(this.red&&!h.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,h)};var ne={k256:null,p224:null,p192:null,p25519:null};function ce(T,h){this.name=T,this.p=new c(h,16),this.n=this.p.bitLength(),this.k=new c(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}ce.prototype._tmp=function(){var h=new c(null);return h.words=new Array(Math.ceil(this.n/13)),h},ce.prototype.ireduce=function(h){var _=h,A;do this.split(_,this.tmp),_=this.imulK(_),_=_.iadd(this.tmp),A=_.bitLength();while(A>this.n);var C=A<this.n?-1:_.ucmp(this.p);return C===0?(_.words[0]=0,_.length=1):C>0?_.isub(this.p):_.strip!==void 0?_.strip():_._strip(),_},ce.prototype.split=function(h,_){h.iushrn(this.n,0,_)},ce.prototype.imulK=function(h){return h.imul(this.k)};function ie(){ce.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(ie,ce),ie.prototype.split=function(h,_){for(var A=4194303,C=Math.min(h.length,9),L=0;L<C;L++)_.words[L]=h.words[L];if(_.length=C,h.length<=9){h.words[0]=0,h.length=1;return}var B=h.words[9];for(_.words[_.length++]=B&A,L=10;L<h.length;L++){var v=h.words[L]|0;h.words[L-10]=(v&A)<<4|B>>>22,B=v}B>>>=22,h.words[L-10]=B,B===0&&h.length>10?h.length-=10:h.length-=9},ie.prototype.imulK=function(h){h.words[h.length]=0,h.words[h.length+1]=0,h.length+=2;for(var _=0,A=0;A<h.length;A++){var C=h.words[A]|0;_+=C*977,h.words[A]=_&67108863,_=C*64+(_/67108864|0)}return h.words[h.length-1]===0&&(h.length--,h.words[h.length-1]===0&&h.length--),h};function ue(){ce.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(ue,ce);function G(){ce.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(G,ce);function Y(){ce.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(Y,ce),Y.prototype.imulK=function(h){for(var _=0,A=0;A<h.length;A++){var C=(h.words[A]|0)*19+_,L=C&67108863;C>>>=26,h.words[A]=L,_=C}return _!==0&&(h.words[h.length++]=_),h},c._prime=function(h){if(ne[h])return ne[h];var _;if(h==="k256")_=new ie;else if(h==="p224")_=new ue;else if(h==="p192")_=new G;else if(h==="p25519")_=new Y;else throw new Error("Unknown prime "+h);return ne[h]=_,_};function X(T){if(typeof T=="string"){var h=c._prime(T);this.m=h.p,this.prime=h}else i(T.gtn(1),"modulus must be greater than 1"),this.m=T,this.prime=null}X.prototype._verify1=function(h){i(h.negative===0,"red works only with positives"),i(h.red,"red works only with red numbers")},X.prototype._verify2=function(h,_){i((h.negative|_.negative)===0,"red works only with positives"),i(h.red&&h.red===_.red,"red works only with red numbers")},X.prototype.imod=function(h){return this.prime?this.prime.ireduce(h)._forceRed(this):(E(h,h.umod(this.m)._forceRed(this)),h)},X.prototype.neg=function(h){return h.isZero()?h.clone():this.m.sub(h)._forceRed(this)},X.prototype.add=function(h,_){this._verify2(h,_);var A=h.add(_);return A.cmp(this.m)>=0&&A.isub(this.m),A._forceRed(this)},X.prototype.iadd=function(h,_){this._verify2(h,_);var A=h.iadd(_);return A.cmp(this.m)>=0&&A.isub(this.m),A},X.prototype.sub=function(h,_){this._verify2(h,_);var A=h.sub(_);return A.cmpn(0)<0&&A.iadd(this.m),A._forceRed(this)},X.prototype.isub=function(h,_){this._verify2(h,_);var A=h.isub(_);return A.cmpn(0)<0&&A.iadd(this.m),A},X.prototype.shl=function(h,_){return this._verify1(h),this.imod(h.ushln(_))},X.prototype.imul=function(h,_){return this._verify2(h,_),this.imod(h.imul(_))},X.prototype.mul=function(h,_){return this._verify2(h,_),this.imod(h.mul(_))},X.prototype.isqr=function(h){return this.imul(h,h.clone())},X.prototype.sqr=function(h){return this.mul(h,h)},X.prototype.sqrt=function(h){if(h.isZero())return h.clone();var _=this.m.andln(3);if(i(_%2===1),_===3){var A=this.m.add(new c(1)).iushrn(2);return this.pow(h,A)}for(var C=this.m.subn(1),L=0;!C.isZero()&&C.andln(1)===0;)L++,C.iushrn(1);i(!C.isZero());var B=new c(1).toRed(this),v=B.redNeg(),m=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new c(2*f*f).toRed(this);this.pow(f,m).cmp(v)!==0;)f.redIAdd(v);for(var y=this.pow(f,C),O=this.pow(h,C.addn(1).iushrn(1)),D=this.pow(h,C),Z=L;D.cmp(B)!==0;){for(var se=D,re=0;se.cmp(B)!==0;re++)se=se.redSqr();i(re<Z);var le=this.pow(y,new c(1).iushln(Z-re-1));O=O.redMul(le),y=le.redSqr(),D=D.redMul(y),Z=re}return O},X.prototype.invm=function(h){var _=h._invmp(this.m);return _.negative!==0?(_.negative=0,this.imod(_).redNeg()):this.imod(_)},X.prototype.pow=function(h,_){if(_.isZero())return new c(1).toRed(this);if(_.cmpn(1)===0)return h.clone();var A=4,C=new Array(1<<A);C[0]=new c(1).toRed(this),C[1]=h;for(var L=2;L<C.length;L++)C[L]=this.mul(C[L-1],h);var B=C[0],v=0,m=0,f=_.bitLength()%26;for(f===0&&(f=26),L=_.length-1;L>=0;L--){for(var y=_.words[L],O=f-1;O>=0;O--){var D=y>>O&1;if(B!==C[0]&&(B=this.sqr(B)),D===0&&v===0){m=0;continue}v<<=1,v|=D,m++,!(m!==A&&(L!==0||O!==0))&&(B=this.mul(B,C[v]),m=0,v=0)}f=26}return B},X.prototype.convertTo=function(h){var _=h.umod(this.m);return _===h?_.clone():_},X.prototype.convertFrom=function(h){var _=h.clone();return _.red=null,_},c.mont=function(h){return new W(h)};function W(T){X.call(this,T),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new c(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(W,X),W.prototype.convertTo=function(h){return this.imod(h.ushln(this.shift))},W.prototype.convertFrom=function(h){var _=this.imod(h.mul(this.rinv));return _.red=null,_},W.prototype.imul=function(h,_){if(h.isZero()||_.isZero())return h.words[0]=0,h.length=1,h;var A=h.imul(_),C=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),L=A.isub(C).iushrn(this.shift),B=L;return L.cmp(this.m)>=0?B=L.isub(this.m):L.cmpn(0)<0&&(B=L.iadd(this.m)),B._forceRed(this)},W.prototype.mul=function(h,_){if(h.isZero()||_.isZero())return new c(0)._forceRed(this);var A=h.mul(_),C=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),L=A.isub(C).iushrn(this.shift),B=L;return L.cmp(this.m)>=0?B=L.isub(this.m):L.cmpn(0)<0&&(B=L.iadd(this.m)),B._forceRed(this)},W.prototype.invm=function(h){var _=this.imod(h._invmp(this.m).mul(this.r2));return _._forceRed(this)}})(s,T2)})(Eu)),Eu.exports}var O2=Y0();const hn=Ii(O2);var ou={exports:{}};var Hg;function Z0(){return Hg||(Hg=1,(function(s,t){var n=z0(),i=n.Buffer;function o(u,d){for(var g in u)d[g]=u[g]}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?s.exports=n:(o(n,t),t.Buffer=c);function c(u,d,g){return i(u,d,g)}c.prototype=Object.create(i.prototype),o(i,c),c.from=function(u,d,g){if(typeof u=="number")throw new TypeError("Argument must not be a number");return i(u,d,g)},c.alloc=function(u,d,g){if(typeof u!="number")throw new TypeError("Argument must be a number");var w=i(u);return d!==void 0?typeof g=="string"?w.fill(d,g):w.fill(d):w.fill(0),w},c.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return i(u)},c.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(u)}})(ou,ou.exports)),ou.exports}var Ch,jg;function N2(){if(jg)return Ch;jg=1;var s=Z0().Buffer;function t(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var i=new Uint8Array(256),o=0;o<i.length;o++)i[o]=255;for(var c=0;c<n.length;c++){var u=n.charAt(c),d=u.charCodeAt(0);if(i[d]!==255)throw new TypeError(u+" is ambiguous");i[d]=c}var g=n.length,w=n.charAt(0),E=Math.log(g)/Math.log(256),I=Math.log(256)/Math.log(g);function k(U){if((Array.isArray(U)||U instanceof Uint8Array)&&(U=s.from(U)),!s.isBuffer(U))throw new TypeError("Expected Buffer");if(U.length===0)return"";for(var z=0,j=0,F=0,V=U.length;F!==V&&U[F]===0;)F++,z++;for(var $=(V-F)*I+1>>>0,ne=new Uint8Array($);F!==V;){for(var ce=U[F],ie=0,ue=$-1;(ce!==0||ie<j)&&ue!==-1;ue--,ie++)ce+=256*ne[ue]>>>0,ne[ue]=ce%g>>>0,ce=ce/g>>>0;if(ce!==0)throw new Error("Non-zero carry");j=ie,F++}for(var G=$-j;G!==$&&ne[G]===0;)G++;for(var Y=w.repeat(z);G<$;++G)Y+=n.charAt(ne[G]);return Y}function R(U){if(typeof U!="string")throw new TypeError("Expected String");if(U.length===0)return s.alloc(0);for(var z=0,j=0,F=0;U[z]===w;)j++,z++;for(var V=(U.length-z)*E+1>>>0,$=new Uint8Array(V);z<U.length;){var ne=U.charCodeAt(z);if(ne>255)return;var ce=i[ne];if(ce===255)return;for(var ie=0,ue=V-1;(ce!==0||ie<F)&&ue!==-1;ue--,ie++)ce+=g*$[ue]>>>0,$[ue]=ce%256>>>0,ce=ce/256>>>0;if(ce!==0)throw new Error("Non-zero carry");F=ie,z++}for(var G=V-F;G!==V&&$[G]===0;)G++;var Y=s.allocUnsafe(j+(V-G));Y.fill(0,0,j);for(var X=j;G!==V;)Y[X++]=$[G++];return Y}function M(U){var z=R(U);if(z)return z;throw new Error("Non-base"+g+" character")}return{encode:k,decodeUnsafe:R,decode:M}}return Ch=t,Ch}var Bh,Pg;function k2(){if(Pg)return Bh;Pg=1;var s=N2(),t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return Bh=s(t),Bh}var I2=k2();const In=Ii(I2),ku=Aw;var Rt={},Mh,qg;function C2(){if(qg)return Mh;qg=1;var s=Z0().Buffer;function t(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var i=new Uint8Array(256),o=0;o<i.length;o++)i[o]=255;for(var c=0;c<n.length;c++){var u=n.charAt(c),d=u.charCodeAt(0);if(i[d]!==255)throw new TypeError(u+" is ambiguous");i[d]=c}var g=n.length,w=n.charAt(0),E=Math.log(g)/Math.log(256),I=Math.log(256)/Math.log(g);function k(U){if((Array.isArray(U)||U instanceof Uint8Array)&&(U=s.from(U)),!s.isBuffer(U))throw new TypeError("Expected Buffer");if(U.length===0)return"";for(var z=0,j=0,F=0,V=U.length;F!==V&&U[F]===0;)F++,z++;for(var $=(V-F)*I+1>>>0,ne=new Uint8Array($);F!==V;){for(var ce=U[F],ie=0,ue=$-1;(ce!==0||ie<j)&&ue!==-1;ue--,ie++)ce+=256*ne[ue]>>>0,ne[ue]=ce%g>>>0,ce=ce/g>>>0;if(ce!==0)throw new Error("Non-zero carry");j=ie,F++}for(var G=$-j;G!==$&&ne[G]===0;)G++;for(var Y=w.repeat(z);G<$;++G)Y+=n.charAt(ne[G]);return Y}function R(U){if(typeof U!="string")throw new TypeError("Expected String");if(U.length===0)return s.alloc(0);for(var z=0,j=0,F=0;U[z]===w;)j++,z++;for(var V=(U.length-z)*E+1>>>0,$=new Uint8Array(V);z<U.length;){var ne=U.charCodeAt(z);if(ne>255)return;var ce=i[ne];if(ce===255)return;for(var ie=0,ue=V-1;(ce!==0||ie<F)&&ue!==-1;ue--,ie++)ce+=g*$[ue]>>>0,$[ue]=ce%256>>>0,ce=ce/256>>>0;if(ce!==0)throw new Error("Non-zero carry");F=ie,z++}for(var G=V-F;G!==V&&$[G]===0;)G++;var Y=s.allocUnsafe(j+(V-G));Y.fill(0,0,j);for(var X=j;G!==V;)Y[X++]=$[G++];return Y}function M(U){var z=R(U);if(z)return z;throw new Error("Non-base"+g+" character")}return{encode:k,decodeUnsafe:R,decode:M}}return Mh=t,Mh}var Uh,Kg;function B2(){if(Kg)return Uh;Kg=1;var s=C2(),t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return Uh=s(t),Uh}function Ai(s,t,n){return t<=s&&s<=n}function Fu(s){if(s===void 0)return{};if(s===Object(s))return s;throw TypeError("Could not convert argument to dictionary")}function M2(s){for(var t=String(s),n=t.length,i=0,o=[];i<n;){var c=t.charCodeAt(i);if(c<55296||c>57343)o.push(c);else if(56320<=c&&c<=57343)o.push(65533);else if(55296<=c&&c<=56319)if(i===n-1)o.push(65533);else{var u=s.charCodeAt(i+1);if(56320<=u&&u<=57343){var d=c&1023,g=u&1023;o.push(65536+(d<<10)+g),i+=1}else o.push(65533)}i+=1}return o}function U2(s){for(var t="",n=0;n<s.length;++n){var i=s[n];i<=65535?t+=String.fromCharCode(i):(i-=65536,t+=String.fromCharCode((i>>10)+55296,(i&1023)+56320))}return t}var Iu=-1;function X0(s){this.tokens=[].slice.call(s)}X0.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Iu},prepend:function(s){if(Array.isArray(s))for(var t=s;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(s)},push:function(s){if(Array.isArray(s))for(var t=s;t.length;)this.tokens.push(t.shift());else this.tokens.push(s)}};var uo=-1;function Dh(s,t){if(s)throw TypeError("Decoder error");return t||65533}var Cu="utf-8";function Bu(s,t){if(!(this instanceof Bu))return new Bu(s,t);if(s=s!==void 0?String(s).toLowerCase():Cu,s!==Cu)throw new Error("Encoding not supported. Only utf-8 is supported");t=Fu(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Bu.prototype={decode:function(t,n){var i;typeof t=="object"&&t instanceof ArrayBuffer?i=new Uint8Array(t):typeof t=="object"&&"buffer"in t&&t.buffer instanceof ArrayBuffer?i=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):i=new Uint8Array(0),n=Fu(n),this._streaming||(this._decoder=new D2({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var o=new X0(i),c=[],u;!o.endOfStream()&&(u=this._decoder.handler(o,o.read()),u!==uo);)u!==null&&(Array.isArray(u)?c.push.apply(c,u):c.push(u));if(!this._streaming){do{if(u=this._decoder.handler(o,o.read()),u===uo)break;u!==null&&(Array.isArray(u)?c.push.apply(c,u):c.push(u))}while(!o.endOfStream());this._decoder=null}return c.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(c[0]===65279?(this._BOMseen=!0,c.shift()):this._BOMseen=!0),U2(c)}};function Mu(s,t){if(!(this instanceof Mu))return new Mu(s,t);if(s=s!==void 0?String(s).toLowerCase():Cu,s!==Cu)throw new Error("Encoding not supported. Only utf-8 is supported");t=Fu(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Mu.prototype={encode:function(t,n){t=t?String(t):"",n=Fu(n),this._streaming||(this._encoder=new L2(this._options)),this._streaming=!!n.stream;for(var i=[],o=new X0(M2(t)),c;!o.endOfStream()&&(c=this._encoder.handler(o,o.read()),c!==uo);)Array.isArray(c)?i.push.apply(i,c):i.push(c);if(!this._streaming){for(;c=this._encoder.handler(o,o.read()),c!==uo;)Array.isArray(c)?i.push.apply(i,c):i.push(c);this._encoder=null}return new Uint8Array(i)}};function D2(s){var t=s.fatal,n=0,i=0,o=0,c=128,u=191;this.handler=function(d,g){if(g===Iu&&o!==0)return o=0,Dh(t);if(g===Iu)return uo;if(o===0){if(Ai(g,0,127))return g;if(Ai(g,194,223))o=1,n=g-192;else if(Ai(g,224,239))g===224&&(c=160),g===237&&(u=159),o=2,n=g-224;else if(Ai(g,240,244))g===240&&(c=144),g===244&&(u=143),o=3,n=g-240;else return Dh(t);return n=n<<6*o,null}if(!Ai(g,c,u))return n=o=i=0,c=128,u=191,d.prepend(g),Dh(t);if(c=128,u=191,i+=1,n+=g-128<<6*(o-i),i!==o)return null;var w=n;return n=o=i=0,w}}function L2(s){s.fatal,this.handler=function(t,n){if(n===Iu)return uo;if(Ai(n,0,127))return n;var i,o;Ai(n,128,2047)?(i=1,o=192):Ai(n,2048,65535)?(i=2,o=224):Ai(n,65536,1114111)&&(i=3,o=240);for(var c=[(n>>6*i)+o];i>0;){var u=n>>6*(i-1);c.push(128|u&63),i-=1}return c}}const z2=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:Bu,TextEncoder:Mu},Symbol.toStringTag,{value:"Module"})),H2=Ku(z2);var Vg;function j2(){if(Vg)return Rt;Vg=1;var s=Rt&&Rt.__createBinding||(Object.create?(function(G,Y,X,W){W===void 0&&(W=X),Object.defineProperty(G,W,{enumerable:!0,get:function(){return Y[X]}})}):(function(G,Y,X,W){W===void 0&&(W=X),G[W]=Y[X]})),t=Rt&&Rt.__setModuleDefault||(Object.create?(function(G,Y){Object.defineProperty(G,"default",{enumerable:!0,value:Y})}):function(G,Y){G.default=Y}),n=Rt&&Rt.__decorate||function(G,Y,X,W){var T=arguments.length,h=T<3?Y:W===null?W=Object.getOwnPropertyDescriptor(Y,X):W,_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(G,Y,X,W);else for(var A=G.length-1;A>=0;A--)(_=G[A])&&(h=(T<3?_(h):T>3?_(Y,X,h):_(Y,X))||h);return T>3&&h&&Object.defineProperty(Y,X,h),h},i=Rt&&Rt.__importStar||function(G){if(G&&G.__esModule)return G;var Y={};if(G!=null)for(var X in G)X!=="default"&&Object.hasOwnProperty.call(G,X)&&s(Y,G,X);return t(Y,G),Y},o=Rt&&Rt.__importDefault||function(G){return G&&G.__esModule?G:{default:G}};Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.deserializeUnchecked=Rt.deserialize=Rt.serialize=Rt.BinaryReader=Rt.BinaryWriter=Rt.BorshError=Rt.baseDecode=Rt.baseEncode=void 0;const c=o(Y0()),u=o(B2()),d=i(H2),g=typeof TextDecoder!="function"?d.TextDecoder:TextDecoder,w=new g("utf-8",{fatal:!0});function E(G){return typeof G=="string"&&(G=Buffer.from(G,"utf8")),u.default.encode(Buffer.from(G))}Rt.baseEncode=E;function I(G){return Buffer.from(u.default.decode(G))}Rt.baseDecode=I;const k=1024;class R extends Error{constructor(Y){super(Y),this.fieldPath=[],this.originalMessage=Y}addToFieldPath(Y){this.fieldPath.splice(0,0,Y),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}Rt.BorshError=R;class M{constructor(){this.buf=Buffer.alloc(k),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(k)]))}writeU8(Y){this.maybeResize(),this.buf.writeUInt8(Y,this.length),this.length+=1}writeU16(Y){this.maybeResize(),this.buf.writeUInt16LE(Y,this.length),this.length+=2}writeU32(Y){this.maybeResize(),this.buf.writeUInt32LE(Y,this.length),this.length+=4}writeU64(Y){this.maybeResize(),this.writeBuffer(Buffer.from(new c.default(Y).toArray("le",8)))}writeU128(Y){this.maybeResize(),this.writeBuffer(Buffer.from(new c.default(Y).toArray("le",16)))}writeU256(Y){this.maybeResize(),this.writeBuffer(Buffer.from(new c.default(Y).toArray("le",32)))}writeU512(Y){this.maybeResize(),this.writeBuffer(Buffer.from(new c.default(Y).toArray("le",64)))}writeBuffer(Y){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),Y,Buffer.alloc(k)]),this.length+=Y.length}writeString(Y){this.maybeResize();const X=Buffer.from(Y,"utf8");this.writeU32(X.length),this.writeBuffer(X)}writeFixedArray(Y){this.writeBuffer(Buffer.from(Y))}writeArray(Y,X){this.maybeResize(),this.writeU32(Y.length);for(const W of Y)this.maybeResize(),X(W)}toArray(){return this.buf.subarray(0,this.length)}}Rt.BinaryWriter=M;function U(G,Y,X){const W=X.value;X.value=function(...T){try{return W.apply(this,T)}catch(h){if(h instanceof RangeError){const _=h.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(_)>=0)throw new R("Reached the end of buffer when deserializing")}throw h}}}class z{constructor(Y){this.buf=Y,this.offset=0}readU8(){const Y=this.buf.readUInt8(this.offset);return this.offset+=1,Y}readU16(){const Y=this.buf.readUInt16LE(this.offset);return this.offset+=2,Y}readU32(){const Y=this.buf.readUInt32LE(this.offset);return this.offset+=4,Y}readU64(){const Y=this.readBuffer(8);return new c.default(Y,"le")}readU128(){const Y=this.readBuffer(16);return new c.default(Y,"le")}readU256(){const Y=this.readBuffer(32);return new c.default(Y,"le")}readU512(){const Y=this.readBuffer(64);return new c.default(Y,"le")}readBuffer(Y){if(this.offset+Y>this.buf.length)throw new R(`Expected buffer length ${Y} isn't within bounds`);const X=this.buf.slice(this.offset,this.offset+Y);return this.offset+=Y,X}readString(){const Y=this.readU32(),X=this.readBuffer(Y);try{return w.decode(X)}catch(W){throw new R(`Error decoding UTF-8 string: ${W}`)}}readFixedArray(Y){return new Uint8Array(this.readBuffer(Y))}readArray(Y){const X=this.readU32(),W=Array();for(let T=0;T<X;++T)W.push(Y());return W}}n([U],z.prototype,"readU8",null),n([U],z.prototype,"readU16",null),n([U],z.prototype,"readU32",null),n([U],z.prototype,"readU64",null),n([U],z.prototype,"readU128",null),n([U],z.prototype,"readU256",null),n([U],z.prototype,"readU512",null),n([U],z.prototype,"readString",null),n([U],z.prototype,"readFixedArray",null),n([U],z.prototype,"readArray",null),Rt.BinaryReader=z;function j(G){return G.charAt(0).toUpperCase()+G.slice(1)}function F(G,Y,X,W,T){try{if(typeof W=="string")T[`write${j(W)}`](X);else if(W instanceof Array)if(typeof W[0]=="number"){if(X.length!==W[0])throw new R(`Expecting byte array of length ${W[0]}, but got ${X.length} bytes`);T.writeFixedArray(X)}else if(W.length===2&&typeof W[1]=="number"){if(X.length!==W[1])throw new R(`Expecting byte array of length ${W[1]}, but got ${X.length} bytes`);for(let h=0;h<W[1];h++)F(G,null,X[h],W[0],T)}else T.writeArray(X,h=>{F(G,Y,h,W[0],T)});else if(W.kind!==void 0)switch(W.kind){case"option":{X==null?T.writeU8(0):(T.writeU8(1),F(G,Y,X,W.type,T));break}case"map":{T.writeU32(X.size),X.forEach((h,_)=>{F(G,Y,_,W.key,T),F(G,Y,h,W.value,T)});break}default:throw new R(`FieldType ${W} unrecognized`)}else V(G,X,T)}catch(h){throw h instanceof R&&h.addToFieldPath(Y),h}}function V(G,Y,X){if(typeof Y.borshSerialize=="function"){Y.borshSerialize(X);return}const W=G.get(Y.constructor);if(!W)throw new R(`Class ${Y.constructor.name} is missing in schema`);if(W.kind==="struct")W.fields.map(([T,h])=>{F(G,T,Y[T],h,X)});else if(W.kind==="enum"){const T=Y[W.field];for(let h=0;h<W.values.length;++h){const[_,A]=W.values[h];if(_===T){X.writeU8(h),F(G,_,Y[_],A,X);break}}}else throw new R(`Unexpected schema kind: ${W.kind} for ${Y.constructor.name}`)}function $(G,Y,X=M){const W=new X;return V(G,Y,W),W.toArray()}Rt.serialize=$;function ne(G,Y,X,W){try{if(typeof X=="string")return W[`read${j(X)}`]();if(X instanceof Array){if(typeof X[0]=="number")return W.readFixedArray(X[0]);if(typeof X[1]=="number"){const T=[];for(let h=0;h<X[1];h++)T.push(ne(G,null,X[0],W));return T}else return W.readArray(()=>ne(G,Y,X[0],W))}if(X.kind==="option")return W.readU8()?ne(G,Y,X.type,W):void 0;if(X.kind==="map"){let T=new Map;const h=W.readU32();for(let _=0;_<h;_++){const A=ne(G,Y,X.key,W),C=ne(G,Y,X.value,W);T.set(A,C)}return T}return ce(G,X,W)}catch(T){throw T instanceof R&&T.addToFieldPath(Y),T}}function ce(G,Y,X){if(typeof Y.borshDeserialize=="function")return Y.borshDeserialize(X);const W=G.get(Y);if(!W)throw new R(`Class ${Y.name} is missing in schema`);if(W.kind==="struct"){const T={};for(const[h,_]of G.get(Y).fields)T[h]=ne(G,h,_,X);return new Y(T)}if(W.kind==="enum"){const T=X.readU8();if(T>=W.values.length)throw new R(`Enum index: ${T} is out of range`);const[h,_]=W.values[T],A=ne(G,h,_,X);return new Y({[h]:A})}throw new R(`Unexpected schema kind: ${W.kind} for ${Y.constructor.name}`)}function ie(G,Y,X,W=z){const T=new W(X),h=ce(G,Y,T);if(T.offset<X.length)throw new R(`Unexpected ${X.length-T.offset} bytes after deserialized data`);return h}Rt.deserialize=ie;function ue(G,Y,X,W=z){const T=new W(X);return ce(G,Y,T)}return Rt.deserializeUnchecked=ue,Rt}var Lh=j2(),ge={},Gg;function P2(){if(Gg)return ge;Gg=1,Object.defineProperty(ge,"__esModule",{value:!0}),ge.s16=ge.s8=ge.nu64be=ge.u48be=ge.u40be=ge.u32be=ge.u24be=ge.u16be=ge.nu64=ge.u48=ge.u40=ge.u32=ge.u24=ge.u16=ge.u8=ge.offset=ge.greedy=ge.Constant=ge.UTF8=ge.CString=ge.Blob=ge.Boolean=ge.BitField=ge.BitStructure=ge.VariantLayout=ge.Union=ge.UnionLayoutDiscriminator=ge.UnionDiscriminator=ge.Structure=ge.Sequence=ge.DoubleBE=ge.Double=ge.FloatBE=ge.Float=ge.NearInt64BE=ge.NearInt64=ge.NearUInt64BE=ge.NearUInt64=ge.IntBE=ge.Int=ge.UIntBE=ge.UInt=ge.OffsetLayout=ge.GreedyCount=ge.ExternalLayout=ge.bindConstructorLayout=ge.nameWithProperty=ge.Layout=ge.uint8ArrayToBuffer=ge.checkUint8Array=void 0,ge.constant=ge.utf8=ge.cstr=ge.blob=ge.unionLayoutDiscriminator=ge.union=ge.seq=ge.bits=ge.struct=ge.f64be=ge.f64=ge.f32be=ge.f32=ge.ns64be=ge.s48be=ge.s40be=ge.s32be=ge.s24be=ge.s16be=ge.ns64=ge.s48=ge.s40=ge.s32=ge.s24=void 0;const s=z0();function t(f){if(!(f instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}ge.checkUint8Array=t;function n(f){return t(f),s.Buffer.from(f.buffer,f.byteOffset,f.length)}ge.uint8ArrayToBuffer=n;class i{constructor(y,O){if(!Number.isInteger(y))throw new TypeError("span must be an integer");this.span=y,this.property=O}makeDestinationObject(){return{}}getSpan(y,O){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(y){const O=Object.create(this.constructor.prototype);return Object.assign(O,this),O.property=y,O}fromArray(y){}}ge.Layout=i;function o(f,y){return y.property?f+"["+y.property+"]":f}ge.nameWithProperty=o;function c(f,y){if(typeof f!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(f,"layout_"))throw new Error("Class is already bound to a layout");if(!(y&&y instanceof i))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(y,"boundConstructor_"))throw new Error("layout is already bound to a constructor");f.layout_=y,y.boundConstructor_=f,y.makeDestinationObject=(()=>new f),Object.defineProperty(f.prototype,"encode",{value(O,D){return y.encode(this,O,D)},writable:!0}),Object.defineProperty(f,"decode",{value(O,D){return y.decode(O,D)},writable:!0})}ge.bindConstructorLayout=c;class u extends i{isCount(){throw new Error("ExternalLayout is abstract")}}ge.ExternalLayout=u;class d extends u{constructor(y=1,O){if(!Number.isInteger(y)||0>=y)throw new TypeError("elementSpan must be a (positive) integer");super(-1,O),this.elementSpan=y}isCount(){return!0}decode(y,O=0){t(y);const D=y.length-O;return Math.floor(D/this.elementSpan)}encode(y,O,D){return 0}}ge.GreedyCount=d;class g extends u{constructor(y,O=0,D){if(!(y instanceof i))throw new TypeError("layout must be a Layout");if(!Number.isInteger(O))throw new TypeError("offset must be integer or undefined");super(y.span,D||y.property),this.layout=y,this.offset=O}isCount(){return this.layout instanceof w||this.layout instanceof E}decode(y,O=0){return this.layout.decode(y,O+this.offset)}encode(y,O,D=0){return this.layout.encode(y,O,D+this.offset)}}ge.OffsetLayout=g;class w extends i{constructor(y,O){if(super(y,O),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(y,O=0){return n(y).readUIntLE(O,this.span)}encode(y,O,D=0){return n(O).writeUIntLE(y,D,this.span),this.span}}ge.UInt=w;class E extends i{constructor(y,O){if(super(y,O),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(y,O=0){return n(y).readUIntBE(O,this.span)}encode(y,O,D=0){return n(O).writeUIntBE(y,D,this.span),this.span}}ge.UIntBE=E;class I extends i{constructor(y,O){if(super(y,O),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(y,O=0){return n(y).readIntLE(O,this.span)}encode(y,O,D=0){return n(O).writeIntLE(y,D,this.span),this.span}}ge.Int=I;class k extends i{constructor(y,O){if(super(y,O),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(y,O=0){return n(y).readIntBE(O,this.span)}encode(y,O,D=0){return n(O).writeIntBE(y,D,this.span),this.span}}ge.IntBE=k;const R=Math.pow(2,32);function M(f){const y=Math.floor(f/R),O=f-y*R;return{hi32:y,lo32:O}}function U(f,y){return f*R+y}class z extends i{constructor(y){super(8,y)}decode(y,O=0){const D=n(y),Z=D.readUInt32LE(O),se=D.readUInt32LE(O+4);return U(se,Z)}encode(y,O,D=0){const Z=M(y),se=n(O);return se.writeUInt32LE(Z.lo32,D),se.writeUInt32LE(Z.hi32,D+4),8}}ge.NearUInt64=z;class j extends i{constructor(y){super(8,y)}decode(y,O=0){const D=n(y),Z=D.readUInt32BE(O),se=D.readUInt32BE(O+4);return U(Z,se)}encode(y,O,D=0){const Z=M(y),se=n(O);return se.writeUInt32BE(Z.hi32,D),se.writeUInt32BE(Z.lo32,D+4),8}}ge.NearUInt64BE=j;class F extends i{constructor(y){super(8,y)}decode(y,O=0){const D=n(y),Z=D.readUInt32LE(O),se=D.readInt32LE(O+4);return U(se,Z)}encode(y,O,D=0){const Z=M(y),se=n(O);return se.writeUInt32LE(Z.lo32,D),se.writeInt32LE(Z.hi32,D+4),8}}ge.NearInt64=F;class V extends i{constructor(y){super(8,y)}decode(y,O=0){const D=n(y),Z=D.readInt32BE(O),se=D.readUInt32BE(O+4);return U(Z,se)}encode(y,O,D=0){const Z=M(y),se=n(O);return se.writeInt32BE(Z.hi32,D),se.writeUInt32BE(Z.lo32,D+4),8}}ge.NearInt64BE=V;class $ extends i{constructor(y){super(4,y)}decode(y,O=0){return n(y).readFloatLE(O)}encode(y,O,D=0){return n(O).writeFloatLE(y,D),4}}ge.Float=$;class ne extends i{constructor(y){super(4,y)}decode(y,O=0){return n(y).readFloatBE(O)}encode(y,O,D=0){return n(O).writeFloatBE(y,D),4}}ge.FloatBE=ne;class ce extends i{constructor(y){super(8,y)}decode(y,O=0){return n(y).readDoubleLE(O)}encode(y,O,D=0){return n(O).writeDoubleLE(y,D),8}}ge.Double=ce;class ie extends i{constructor(y){super(8,y)}decode(y,O=0){return n(y).readDoubleBE(O)}encode(y,O,D=0){return n(O).writeDoubleBE(y,D),8}}ge.DoubleBE=ie;class ue extends i{constructor(y,O,D){if(!(y instanceof i))throw new TypeError("elementLayout must be a Layout");if(!(O instanceof u&&O.isCount()||Number.isInteger(O)&&0<=O))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let Z=-1;!(O instanceof u)&&0<y.span&&(Z=O*y.span),super(Z,D),this.elementLayout=y,this.count=O}getSpan(y,O=0){if(0<=this.span)return this.span;let D=0,Z=this.count;if(Z instanceof u&&(Z=Z.decode(y,O)),0<this.elementLayout.span)D=Z*this.elementLayout.span;else{let se=0;for(;se<Z;)D+=this.elementLayout.getSpan(y,O+D),++se}return D}decode(y,O=0){const D=[];let Z=0,se=this.count;for(se instanceof u&&(se=se.decode(y,O));Z<se;)D.push(this.elementLayout.decode(y,O)),O+=this.elementLayout.getSpan(y,O),Z+=1;return D}encode(y,O,D=0){const Z=this.elementLayout,se=y.reduce((re,le)=>re+Z.encode(le,O,D+re),0);return this.count instanceof u&&this.count.encode(y.length,O,D),se}}ge.Sequence=ue;class G extends i{constructor(y,O,D){if(!(Array.isArray(y)&&y.reduce((se,re)=>se&&re instanceof i,!0)))throw new TypeError("fields must be array of Layout instances");typeof O=="boolean"&&D===void 0&&(D=O,O=void 0);for(const se of y)if(0>se.span&&se.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let Z=-1;try{Z=y.reduce((se,re)=>se+re.getSpan(),0)}catch{}super(Z,O),this.fields=y,this.decodePrefixes=!!D}getSpan(y,O=0){if(0<=this.span)return this.span;let D=0;try{D=this.fields.reduce((Z,se)=>{const re=se.getSpan(y,O);return O+=re,Z+re},0)}catch{throw new RangeError("indeterminate span")}return D}decode(y,O=0){t(y);const D=this.makeDestinationObject();for(const Z of this.fields)if(Z.property!==void 0&&(D[Z.property]=Z.decode(y,O)),O+=Z.getSpan(y,O),this.decodePrefixes&&y.length===O)break;return D}encode(y,O,D=0){const Z=D;let se=0,re=0;for(const le of this.fields){let Ae=le.span;if(re=0<Ae?Ae:0,le.property!==void 0){const Ie=y[le.property];Ie!==void 0&&(re=le.encode(Ie,O,D),0>Ae&&(Ae=le.getSpan(O,D)))}se=D,D+=Ae}return se+re-Z}fromArray(y){const O=this.makeDestinationObject();for(const D of this.fields)D.property!==void 0&&0<y.length&&(O[D.property]=y.shift());return O}layoutFor(y){if(typeof y!="string")throw new TypeError("property must be string");for(const O of this.fields)if(O.property===y)return O}offsetOf(y){if(typeof y!="string")throw new TypeError("property must be string");let O=0;for(const D of this.fields){if(D.property===y)return O;0>D.span?O=-1:0<=O&&(O+=D.span)}}}ge.Structure=G;class Y{constructor(y){this.property=y}decode(y,O){throw new Error("UnionDiscriminator is abstract")}encode(y,O,D){throw new Error("UnionDiscriminator is abstract")}}ge.UnionDiscriminator=Y;class X extends Y{constructor(y,O){if(!(y instanceof u&&y.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(O||y.property||"variant"),this.layout=y}decode(y,O){return this.layout.decode(y,O)}encode(y,O,D){return this.layout.encode(y,O,D)}}ge.UnionLayoutDiscriminator=X;class W extends i{constructor(y,O,D){let Z;if(y instanceof w||y instanceof E)Z=new X(new g(y));else if(y instanceof u&&y.isCount())Z=new X(y);else if(y instanceof Y)Z=y;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(O===void 0&&(O=null),!(O===null||O instanceof i))throw new TypeError("defaultLayout must be null or a Layout");if(O!==null){if(0>O.span)throw new Error("defaultLayout must have constant span");O.property===void 0&&(O=O.replicate("content"))}let se=-1;O&&(se=O.span,0<=se&&(y instanceof w||y instanceof E)&&(se+=Z.layout.span)),super(se,D),this.discriminator=Z,this.usesPrefixDiscriminator=y instanceof w||y instanceof E,this.defaultLayout=O,this.registry={};let re=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(le){return re(le)},this.configGetSourceVariant=function(le){re=le.bind(this)}}getSpan(y,O=0){if(0<=this.span)return this.span;const D=this.getVariant(y,O);if(!D)throw new Error("unable to determine span for unrecognized variant");return D.getSpan(y,O)}defaultGetSourceVariant(y){if(Object.prototype.hasOwnProperty.call(y,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(y,this.defaultLayout.property))return;const O=this.registry[y[this.discriminator.property]];if(O&&(!O.layout||O.property&&Object.prototype.hasOwnProperty.call(y,O.property)))return O}else for(const O in this.registry){const D=this.registry[O];if(D.property&&Object.prototype.hasOwnProperty.call(y,D.property))return D}throw new Error("unable to infer src variant")}decode(y,O=0){let D;const Z=this.discriminator,se=Z.decode(y,O),re=this.registry[se];if(re===void 0){const le=this.defaultLayout;let Ae=0;this.usesPrefixDiscriminator&&(Ae=Z.layout.span),D=this.makeDestinationObject(),D[Z.property]=se,D[le.property]=le.decode(y,O+Ae)}else D=re.decode(y,O);return D}encode(y,O,D=0){const Z=this.getSourceVariant(y);if(Z===void 0){const se=this.discriminator,re=this.defaultLayout;let le=0;return this.usesPrefixDiscriminator&&(le=se.layout.span),se.encode(y[se.property],O,D),le+re.encode(y[re.property],O,D+le)}return Z.encode(y,O,D)}addVariant(y,O,D){const Z=new T(this,y,O,D);return this.registry[y]=Z,Z}getVariant(y,O=0){let D;return y instanceof Uint8Array?D=this.discriminator.decode(y,O):D=y,this.registry[D]}}ge.Union=W;class T extends i{constructor(y,O,D,Z){if(!(y instanceof W))throw new TypeError("union must be a Union");if(!Number.isInteger(O)||0>O)throw new TypeError("variant must be a (non-negative) integer");if(typeof D=="string"&&Z===void 0&&(Z=D,D=null),D){if(!(D instanceof i))throw new TypeError("layout must be a Layout");if(y.defaultLayout!==null&&0<=D.span&&D.span>y.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof Z!="string")throw new TypeError("variant must have a String property")}let se=y.span;0>y.span&&(se=D?D.span:0,0<=se&&y.usesPrefixDiscriminator&&(se+=y.discriminator.layout.span)),super(se,Z),this.union=y,this.variant=O,this.layout=D||null}getSpan(y,O=0){if(0<=this.span)return this.span;let D=0;this.union.usesPrefixDiscriminator&&(D=this.union.discriminator.layout.span);let Z=0;return this.layout&&(Z=this.layout.getSpan(y,O+D)),D+Z}decode(y,O=0){const D=this.makeDestinationObject();if(this!==this.union.getVariant(y,O))throw new Error("variant mismatch");let Z=0;return this.union.usesPrefixDiscriminator&&(Z=this.union.discriminator.layout.span),this.layout?D[this.property]=this.layout.decode(y,O+Z):this.property?D[this.property]=!0:this.union.usesPrefixDiscriminator&&(D[this.union.discriminator.property]=this.variant),D}encode(y,O,D=0){let Z=0;if(this.union.usesPrefixDiscriminator&&(Z=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(y,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,O,D);let se=Z;if(this.layout&&(this.layout.encode(y[this.property],O,D+Z),se+=this.layout.getSpan(O,D+Z),0<=this.union.span&&se>this.union.span))throw new Error("encoded variant overruns containing union");return se}fromArray(y){if(this.layout)return this.layout.fromArray(y)}}ge.VariantLayout=T;function h(f){return 0>f&&(f+=4294967296),f}class _ extends i{constructor(y,O,D){if(!(y instanceof w||y instanceof E))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof O=="string"&&D===void 0&&(D=O,O=!1),4<y.span)throw new RangeError("word cannot exceed 32 bits");super(y.span,D),this.word=y,this.msb=!!O,this.fields=[];let Z=0;this._packedSetValue=function(se){return Z=h(se),this},this._packedGetValue=function(){return Z}}decode(y,O=0){const D=this.makeDestinationObject(),Z=this.word.decode(y,O);this._packedSetValue(Z);for(const se of this.fields)se.property!==void 0&&(D[se.property]=se.decode(y));return D}encode(y,O,D=0){const Z=this.word.decode(O,D);this._packedSetValue(Z);for(const se of this.fields)if(se.property!==void 0){const re=y[se.property];re!==void 0&&se.encode(re)}return this.word.encode(this._packedGetValue(),O,D)}addField(y,O){const D=new A(this,y,O);return this.fields.push(D),D}addBoolean(y){const O=new C(this,y);return this.fields.push(O),O}fieldFor(y){if(typeof y!="string")throw new TypeError("property must be string");for(const O of this.fields)if(O.property===y)return O}}ge.BitStructure=_;class A{constructor(y,O,D){if(!(y instanceof _))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(O)||0>=O)throw new TypeError("bits must be positive integer");const Z=8*y.span,se=y.fields.reduce((re,le)=>re+le.bits,0);if(O+se>Z)throw new Error("bits too long for span remainder ("+(Z-se)+" of "+Z+" remain)");this.container=y,this.bits=O,this.valueMask=(1<<O)-1,O===32&&(this.valueMask=4294967295),this.start=se,this.container.msb&&(this.start=Z-se-O),this.wordMask=h(this.valueMask<<this.start),this.property=D}decode(y,O){const D=this.container._packedGetValue();return h(D&this.wordMask)>>>this.start}encode(y){if(typeof y!="number"||!Number.isInteger(y)||y!==h(y&this.valueMask))throw new TypeError(o("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const O=this.container._packedGetValue(),D=h(y<<this.start);this.container._packedSetValue(h(O&~this.wordMask)|D)}}ge.BitField=A;class C extends A{constructor(y,O){super(y,1,O)}decode(y,O){return!!super.decode(y,O)}encode(y){typeof y=="boolean"&&(y=+y),super.encode(y)}}ge.Boolean=C;class L extends i{constructor(y,O){if(!(y instanceof u&&y.isCount()||Number.isInteger(y)&&0<=y))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let D=-1;y instanceof u||(D=y),super(D,O),this.length=y}getSpan(y,O){let D=this.span;return 0>D&&(D=this.length.decode(y,O)),D}decode(y,O=0){let D=this.span;return 0>D&&(D=this.length.decode(y,O)),n(y).slice(O,O+D)}encode(y,O,D){let Z=this.length;if(this.length instanceof u&&(Z=y.length),!(y instanceof Uint8Array&&Z===y.length))throw new TypeError(o("Blob.encode",this)+" requires (length "+Z+") Uint8Array as src");if(D+Z>O.length)throw new RangeError("encoding overruns Uint8Array");const se=n(y);return n(O).write(se.toString("hex"),D,Z,"hex"),this.length instanceof u&&this.length.encode(Z,O,D),Z}}ge.Blob=L;class B extends i{constructor(y){super(-1,y)}getSpan(y,O=0){t(y);let D=O;for(;D<y.length&&y[D]!==0;)D+=1;return 1+D-O}decode(y,O=0){const D=this.getSpan(y,O);return n(y).slice(O,O+D-1).toString("utf-8")}encode(y,O,D=0){typeof y!="string"&&(y=String(y));const Z=s.Buffer.from(y,"utf8"),se=Z.length;if(D+se>O.length)throw new RangeError("encoding overruns Buffer");const re=n(O);return Z.copy(re,D),re[D+se]=0,se+1}}ge.CString=B;class v extends i{constructor(y,O){if(typeof y=="string"&&O===void 0&&(O=y,y=void 0),y===void 0)y=-1;else if(!Number.isInteger(y))throw new TypeError("maxSpan must be an integer");super(-1,O),this.maxSpan=y}getSpan(y,O=0){return t(y),y.length-O}decode(y,O=0){const D=this.getSpan(y,O);if(0<=this.maxSpan&&this.maxSpan<D)throw new RangeError("text length exceeds maxSpan");return n(y).slice(O,O+D).toString("utf-8")}encode(y,O,D=0){typeof y!="string"&&(y=String(y));const Z=s.Buffer.from(y,"utf8"),se=Z.length;if(0<=this.maxSpan&&this.maxSpan<se)throw new RangeError("text length exceeds maxSpan");if(D+se>O.length)throw new RangeError("encoding overruns Buffer");return Z.copy(n(O),D),se}}ge.UTF8=v;class m extends i{constructor(y,O){super(0,O),this.value=y}decode(y,O){return this.value}encode(y,O,D){return 0}}return ge.Constant=m,ge.greedy=((f,y)=>new d(f,y)),ge.offset=((f,y,O)=>new g(f,y,O)),ge.u8=(f=>new w(1,f)),ge.u16=(f=>new w(2,f)),ge.u24=(f=>new w(3,f)),ge.u32=(f=>new w(4,f)),ge.u40=(f=>new w(5,f)),ge.u48=(f=>new w(6,f)),ge.nu64=(f=>new z(f)),ge.u16be=(f=>new E(2,f)),ge.u24be=(f=>new E(3,f)),ge.u32be=(f=>new E(4,f)),ge.u40be=(f=>new E(5,f)),ge.u48be=(f=>new E(6,f)),ge.nu64be=(f=>new j(f)),ge.s8=(f=>new I(1,f)),ge.s16=(f=>new I(2,f)),ge.s24=(f=>new I(3,f)),ge.s32=(f=>new I(4,f)),ge.s40=(f=>new I(5,f)),ge.s48=(f=>new I(6,f)),ge.ns64=(f=>new F(f)),ge.s16be=(f=>new k(2,f)),ge.s24be=(f=>new k(3,f)),ge.s32be=(f=>new k(4,f)),ge.s40be=(f=>new k(5,f)),ge.s48be=(f=>new k(6,f)),ge.ns64be=(f=>new V(f)),ge.f32=(f=>new $(f)),ge.f32be=(f=>new ne(f)),ge.f64=(f=>new ce(f)),ge.f64be=(f=>new ie(f)),ge.struct=((f,y,O)=>new G(f,y,O)),ge.bits=((f,y,O)=>new _(f,y,O)),ge.seq=((f,y,O)=>new ue(f,y,O)),ge.union=((f,y,O)=>new W(f,y,O)),ge.unionLayoutDiscriminator=((f,y)=>new X(f,y)),ge.blob=((f,y)=>new L(f,y)),ge.cstr=(f=>new B(f)),ge.utf8=((f,y)=>new v(f,y)),ge.constant=((f,y)=>new m(f,y)),ge}var Q=P2(),q2=8078e3,K2=8078001,V2=8078004,G2=8078005,F2=8078006,Y2=8078011;function Gw(s){return Array.isArray(s)?"%5B"+s.map(Gw).join("%2C%20")+"%5D":typeof s=="bigint"?`${s}n`:encodeURIComponent(String(s!=null&&Object.getPrototypeOf(s)===null?{...s}:s))}function Z2([s,t]){return`${s}=${Gw(t)}`}function X2(s){const t=Object.entries(s).map(Z2).join("&");return btoa(t)}function W2(s,t={}){{let n=`Solana error #${s}; Decode this error by running \`npx @solana/errors decode -- ${s}`;return Object.keys(t).length&&(n+=` '${X2(t)}'`),`${n}\``}}var ro=class extends Error{cause=this.cause;context;constructor(...[s,t]){let n,i;if(t){const{cause:c,...u}=t;c&&(i={cause:c}),Object.keys(u).length>0&&(n=u)}const o=W2(s,n);super(o,i),this.context={__code:s,...n},this.name="SolanaError"}};function $2(s,t){return"fixedSize"in t?t.fixedSize:t.getSizeFromValue(s)}function Q2(s){return Object.freeze({...s,encode:t=>{const n=new Uint8Array($2(t,s));return s.write(t,n,0),n}})}function J2(s){return Object.freeze({...s,decode:(t,n=0)=>s.read(t,n)[0]})}function Wa(s){return"fixedSize"in s&&typeof s.fixedSize=="number"}function ex(s,t){if(Wa(s)!==Wa(t))throw new ro(V2);if(Wa(s)&&Wa(t)&&s.fixedSize!==t.fixedSize)throw new ro(G2,{decoderFixedSize:t.fixedSize,encoderFixedSize:s.fixedSize});if(!Wa(s)&&!Wa(t)&&s.maxSize!==t.maxSize)throw new ro(F2,{decoderMaxSize:t.maxSize,encoderMaxSize:s.maxSize});return{...t,...s,decode:t.decode,encode:s.encode,read:t.read,write:s.write}}function tx(s,t,n=0){if(t.length-n<=0)throw new ro(q2,{codecDescription:s})}function nx(s,t,n,i=0){const o=n.length-i;if(o<t)throw new ro(K2,{bytesLength:o,codecDescription:s,expected:t})}function rx(s,t,n,i){if(i<t||i>n)throw new ro(Y2,{codecDescription:s,max:n,min:t,value:i})}function Fw(s){return s?.endian!==1}function ix(s){return Q2({fixedSize:s.size,write(t,n,i){s.range&&rx(s.name,s.range[0],s.range[1],t);const o=new ArrayBuffer(s.size);return s.set(new DataView(o),t,Fw(s.config)),n.set(new Uint8Array(o),i),i+s.size}})}function sx(s){return J2({fixedSize:s.size,read(t,n=0){tx(s.name,t,n),nx(s.name,s.size,t,n);const i=new DataView(ax(t,n,s.size));return[s.get(i,Fw(s.config)),n+s.size]}})}function ax(s,t,n){const i=s.byteOffset+(t??0),o=n??s.byteLength;return s.buffer.slice(i,i+o)}var Yw=(s={})=>ix({config:s,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(t,n,i)=>t.setBigUint64(0,BigInt(n),i),size:8}),ox=(s={})=>sx({config:s,get:(t,n)=>t.getBigUint64(0,n),name:"u64",size:8}),cx=(s={})=>ex(Yw(s),ox(s));let lx=class extends TypeError{constructor(t,n){let i;const{message:o,explanation:c,...u}=t,{path:d}=t,g=d.length===0?o:`At path: ${d.join(".")} -- ${o}`;super(c??g),c!=null&&(this.cause=g),Object.assign(this,u),this.name=this.constructor.name,this.failures=()=>i??(i=[t,...n()])}};function ux(s){return Lc(s)&&typeof s[Symbol.iterator]=="function"}function Lc(s){return typeof s=="object"&&s!=null}function Uu(s){return Lc(s)&&!Array.isArray(s)}function Nr(s){return typeof s=="symbol"?s.toString():typeof s=="string"?JSON.stringify(s):`${s}`}function fx(s){const{done:t,value:n}=s.next();return t?void 0:n}function dx(s,t,n,i){if(s===!0)return;s===!1?s={}:typeof s=="string"&&(s={message:s});const{path:o,branch:c}=t,{type:u}=n,{refinement:d,message:g=`Expected a value of type \`${u}\`${d?` with refinement \`${d}\``:""}, but received: \`${Nr(i)}\``}=s;return{value:i,type:u,refinement:d,key:o[o.length-1],path:o,branch:c,...s,message:g}}function*Fg(s,t,n,i){ux(s)||(s=[s]);for(const o of s){const c=dx(o,t,n,i);c&&(yield c)}}function*W0(s,t,n={}){const{path:i=[],branch:o=[s],coerce:c=!1,mask:u=!1}=n,d={path:i,branch:o,mask:u};c&&(s=t.coercer(s,d));let g="valid";for(const w of t.validator(s,d))w.explanation=n.message,g="not_valid",yield[w,void 0];for(let[w,E,I]of t.entries(s,d)){const k=W0(E,I,{path:w===void 0?i:[...i,w],branch:w===void 0?o:[...o,E],coerce:c,mask:u,message:n.message});for(const R of k)R[0]?(g=R[0].refinement!=null?"not_refined":"not_valid",yield[R[0],void 0]):c&&(E=R[1],w===void 0?s=E:s instanceof Map?s.set(w,E):s instanceof Set?s.add(E):Lc(s)&&(E!==void 0||w in s)&&(s[w]=E))}if(g!=="not_valid")for(const w of t.refiner(s,d))w.explanation=n.message,g="not_refined",yield[w,void 0];g==="valid"&&(yield[void 0,s])}let Wr=class{constructor(t){const{type:n,schema:i,validator:o,refiner:c,coercer:u=g=>g,entries:d=function*(){}}=t;this.type=n,this.schema=i,this.entries=d,this.coercer=u,o?this.validator=(g,w)=>{const E=o(g,w);return Fg(E,w,this,g)}:this.validator=()=>[],c?this.refiner=(g,w)=>{const E=c(g,w);return Fg(E,w,this,g)}:this.refiner=()=>[]}assert(t,n){return Zw(t,this,n)}create(t,n){return Te(t,this,n)}is(t){return Xw(t,this)}mask(t,n){return hx(t,this,n)}validate(t,n={}){return zc(t,this,n)}};function Zw(s,t,n){const i=zc(s,t,{message:n});if(i[0])throw i[0]}function Te(s,t,n){const i=zc(s,t,{coerce:!0,message:n});if(i[0])throw i[0];return i[1]}function hx(s,t,n){const i=zc(s,t,{coerce:!0,mask:!0,message:n});if(i[0])throw i[0];return i[1]}function Xw(s,t){return!zc(s,t)[0]}function zc(s,t,n={}){const i=W0(s,t,n),o=fx(i);return o[0]?[new lx(o[0],function*(){for(const u of i)u[0]&&(yield u[0])}),void 0]:[void 0,o[1]]}function ia(s,t){return new Wr({type:s,schema:null,validator:t})}function px(){return ia("any",()=>!0)}function Ne(s){return new Wr({type:"array",schema:s,*entries(t){if(s&&Array.isArray(t))for(const[n,i]of t.entries())yield[n,i,s]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${Nr(t)}`}})}function Xr(){return ia("boolean",s=>typeof s=="boolean")}function $0(s){return ia("instance",t=>t instanceof s||`Expected a \`${s.name}\` instance, but received: ${Nr(t)}`)}function Jt(s){const t=Nr(s),n=typeof s;return new Wr({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?s:null,validator(i){return i===s||`Expected the literal \`${t}\`, but received: ${Nr(i)}`}})}function mx(){return ia("never",()=>!1)}function ke(s){return new Wr({...s,validator:(t,n)=>t===null||s.validator(t,n),refiner:(t,n)=>t===null||s.refiner(t,n)})}function fe(){return ia("number",s=>typeof s=="number"&&!isNaN(s)||`Expected a number, but received: ${Nr(s)}`)}function Ke(s){return new Wr({...s,validator:(t,n)=>t===void 0||s.validator(t,n),refiner:(t,n)=>t===void 0||s.refiner(t,n)})}function Ww(s,t){return new Wr({type:"record",schema:null,*entries(n){if(Lc(n))for(const i in n){const o=n[i];yield[i,i,s],yield[i,o,t]}},validator(n){return Uu(n)||`Expected an object, but received: ${Nr(n)}`},coercer(n){return Uu(n)?{...n}:n}})}function xe(){return ia("string",s=>typeof s=="string"||`Expected a string, but received: ${Nr(s)}`)}function Q0(s){const t=mx();return new Wr({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const i=Math.max(s.length,n.length);for(let o=0;o<i;o++)yield[o,n[o],s[o]||t]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${Nr(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function Se(s){const t=Object.keys(s);return new Wr({type:"type",schema:s,*entries(n){if(Lc(n))for(const i of t)yield[i,n[i],s[i]]},validator(n){return Uu(n)||`Expected an object, but received: ${Nr(n)}`},coercer(n){return Uu(n)?{...n}:n}})}function jn(s){const t=s.map(n=>n.type).join(" | ");return new Wr({type:"union",schema:null,coercer(n,i){for(const o of s){const[c,u]=o.validate(n,{coerce:!0,mask:i.mask});if(!c)return u}return n},validator(n,i){const o=[];for(const c of s){const[...u]=W0(n,c,i),[d]=u;if(d[0])for(const[g]of u)g&&o.push(g);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${Nr(n)}`,...o]}})}function go(){return ia("unknown",()=>!0)}function Hc(s,t,n){return new Wr({...s,coercer:(i,o)=>Xw(i,t)?s.coercer(n(i,o),o):s.coercer(i,o)})}var cu,yx=new Uint8Array(16);function $w(){if(!cu&&(cu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!cu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return cu(yx)}const gx=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Yu(s){return typeof s=="string"&&gx.test(s)}var kn=[];for(var zh=0;zh<256;++zh)kn.push((zh+256).toString(16).substr(1));function Zu(s){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(kn[s[t+0]]+kn[s[t+1]]+kn[s[t+2]]+kn[s[t+3]]+"-"+kn[s[t+4]]+kn[s[t+5]]+"-"+kn[s[t+6]]+kn[s[t+7]]+"-"+kn[s[t+8]]+kn[s[t+9]]+"-"+kn[s[t+10]]+kn[s[t+11]]+kn[s[t+12]]+kn[s[t+13]]+kn[s[t+14]]+kn[s[t+15]]).toLowerCase();if(!Yu(n))throw TypeError("Stringified UUID is invalid");return n}var Yg,Hh,jh=0,Ph=0;function bx(s,t,n){var i=t&&n||0,o=t||new Array(16);s=s||{};var c=s.node||Yg,u=s.clockseq!==void 0?s.clockseq:Hh;if(c==null||u==null){var d=s.random||(s.rng||$w)();c==null&&(c=Yg=[d[0]|1,d[1],d[2],d[3],d[4],d[5]]),u==null&&(u=Hh=(d[6]<<8|d[7])&16383)}var g=s.msecs!==void 0?s.msecs:Date.now(),w=s.nsecs!==void 0?s.nsecs:Ph+1,E=g-jh+(w-Ph)/1e4;if(E<0&&s.clockseq===void 0&&(u=u+1&16383),(E<0||g>jh)&&s.nsecs===void 0&&(w=0),w>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");jh=g,Ph=w,Hh=u,g+=122192928e5;var I=((g&268435455)*1e4+w)%4294967296;o[i++]=I>>>24&255,o[i++]=I>>>16&255,o[i++]=I>>>8&255,o[i++]=I&255;var k=g/4294967296*1e4&268435455;o[i++]=k>>>8&255,o[i++]=k&255,o[i++]=k>>>24&15|16,o[i++]=k>>>16&255,o[i++]=u>>>8|128,o[i++]=u&255;for(var R=0;R<6;++R)o[i+R]=c[R];return t||Zu(o)}function Qw(s){if(!Yu(s))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(s.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=t&255,n[4]=(t=parseInt(s.slice(9,13),16))>>>8,n[5]=t&255,n[6]=(t=parseInt(s.slice(14,18),16))>>>8,n[7]=t&255,n[8]=(t=parseInt(s.slice(19,23),16))>>>8,n[9]=t&255,n[10]=(t=parseInt(s.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=t&255,n}function wx(s){s=unescape(encodeURIComponent(s));for(var t=[],n=0;n<s.length;++n)t.push(s.charCodeAt(n));return t}var _x="6ba7b810-9dad-11d1-80b4-00c04fd430c8",vx="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Jw(s,t,n){function i(o,c,u,d){if(typeof o=="string"&&(o=wx(o)),typeof c=="string"&&(c=Qw(c)),c.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var g=new Uint8Array(16+o.length);if(g.set(c),g.set(o,c.length),g=n(g),g[6]=g[6]&15|t,g[8]=g[8]&63|128,u){d=d||0;for(var w=0;w<16;++w)u[d+w]=g[w];return u}return Zu(g)}try{i.name=s}catch{}return i.DNS=_x,i.URL=vx,i}function Ex(s){if(typeof s=="string"){var t=unescape(encodeURIComponent(s));s=new Uint8Array(t.length);for(var n=0;n<t.length;++n)s[n]=t.charCodeAt(n)}return Sx(Ax(Rx(s),s.length*8))}function Sx(s){for(var t=[],n=s.length*32,i="0123456789abcdef",o=0;o<n;o+=8){var c=s[o>>5]>>>o%32&255,u=parseInt(i.charAt(c>>>4&15)+i.charAt(c&15),16);t.push(u)}return t}function e_(s){return(s+64>>>9<<4)+14+1}function Ax(s,t){s[t>>5]|=128<<t%32,s[e_(t)-1]=t;for(var n=1732584193,i=-271733879,o=-1732584194,c=271733878,u=0;u<s.length;u+=16){var d=n,g=i,w=o,E=c;n=Un(n,i,o,c,s[u],7,-680876936),c=Un(c,n,i,o,s[u+1],12,-389564586),o=Un(o,c,n,i,s[u+2],17,606105819),i=Un(i,o,c,n,s[u+3],22,-1044525330),n=Un(n,i,o,c,s[u+4],7,-176418897),c=Un(c,n,i,o,s[u+5],12,1200080426),o=Un(o,c,n,i,s[u+6],17,-1473231341),i=Un(i,o,c,n,s[u+7],22,-45705983),n=Un(n,i,o,c,s[u+8],7,1770035416),c=Un(c,n,i,o,s[u+9],12,-1958414417),o=Un(o,c,n,i,s[u+10],17,-42063),i=Un(i,o,c,n,s[u+11],22,-1990404162),n=Un(n,i,o,c,s[u+12],7,1804603682),c=Un(c,n,i,o,s[u+13],12,-40341101),o=Un(o,c,n,i,s[u+14],17,-1502002290),i=Un(i,o,c,n,s[u+15],22,1236535329),n=Dn(n,i,o,c,s[u+1],5,-165796510),c=Dn(c,n,i,o,s[u+6],9,-1069501632),o=Dn(o,c,n,i,s[u+11],14,643717713),i=Dn(i,o,c,n,s[u],20,-373897302),n=Dn(n,i,o,c,s[u+5],5,-701558691),c=Dn(c,n,i,o,s[u+10],9,38016083),o=Dn(o,c,n,i,s[u+15],14,-660478335),i=Dn(i,o,c,n,s[u+4],20,-405537848),n=Dn(n,i,o,c,s[u+9],5,568446438),c=Dn(c,n,i,o,s[u+14],9,-1019803690),o=Dn(o,c,n,i,s[u+3],14,-187363961),i=Dn(i,o,c,n,s[u+8],20,1163531501),n=Dn(n,i,o,c,s[u+13],5,-1444681467),c=Dn(c,n,i,o,s[u+2],9,-51403784),o=Dn(o,c,n,i,s[u+7],14,1735328473),i=Dn(i,o,c,n,s[u+12],20,-1926607734),n=Ln(n,i,o,c,s[u+5],4,-378558),c=Ln(c,n,i,o,s[u+8],11,-2022574463),o=Ln(o,c,n,i,s[u+11],16,1839030562),i=Ln(i,o,c,n,s[u+14],23,-35309556),n=Ln(n,i,o,c,s[u+1],4,-1530992060),c=Ln(c,n,i,o,s[u+4],11,1272893353),o=Ln(o,c,n,i,s[u+7],16,-155497632),i=Ln(i,o,c,n,s[u+10],23,-1094730640),n=Ln(n,i,o,c,s[u+13],4,681279174),c=Ln(c,n,i,o,s[u],11,-358537222),o=Ln(o,c,n,i,s[u+3],16,-722521979),i=Ln(i,o,c,n,s[u+6],23,76029189),n=Ln(n,i,o,c,s[u+9],4,-640364487),c=Ln(c,n,i,o,s[u+12],11,-421815835),o=Ln(o,c,n,i,s[u+15],16,530742520),i=Ln(i,o,c,n,s[u+2],23,-995338651),n=zn(n,i,o,c,s[u],6,-198630844),c=zn(c,n,i,o,s[u+7],10,1126891415),o=zn(o,c,n,i,s[u+14],15,-1416354905),i=zn(i,o,c,n,s[u+5],21,-57434055),n=zn(n,i,o,c,s[u+12],6,1700485571),c=zn(c,n,i,o,s[u+3],10,-1894986606),o=zn(o,c,n,i,s[u+10],15,-1051523),i=zn(i,o,c,n,s[u+1],21,-2054922799),n=zn(n,i,o,c,s[u+8],6,1873313359),c=zn(c,n,i,o,s[u+15],10,-30611744),o=zn(o,c,n,i,s[u+6],15,-1560198380),i=zn(i,o,c,n,s[u+13],21,1309151649),n=zn(n,i,o,c,s[u+4],6,-145523070),c=zn(c,n,i,o,s[u+11],10,-1120210379),o=zn(o,c,n,i,s[u+2],15,718787259),i=zn(i,o,c,n,s[u+9],21,-343485551),n=ms(n,d),i=ms(i,g),o=ms(o,w),c=ms(c,E)}return[n,i,o,c]}function Rx(s){if(s.length===0)return[];for(var t=s.length*8,n=new Uint32Array(e_(t)),i=0;i<t;i+=8)n[i>>5]|=(s[i/8]&255)<<i%32;return n}function ms(s,t){var n=(s&65535)+(t&65535),i=(s>>16)+(t>>16)+(n>>16);return i<<16|n&65535}function xx(s,t){return s<<t|s>>>32-t}function Xu(s,t,n,i,o,c){return ms(xx(ms(ms(t,s),ms(i,c)),o),n)}function Un(s,t,n,i,o,c,u){return Xu(t&n|~t&i,s,t,o,c,u)}function Dn(s,t,n,i,o,c,u){return Xu(t&i|n&~i,s,t,o,c,u)}function Ln(s,t,n,i,o,c,u){return Xu(t^n^i,s,t,o,c,u)}function zn(s,t,n,i,o,c,u){return Xu(n^(t|~i),s,t,o,c,u)}var Tx=Jw("v3",48,Ex);function Ox(s,t,n){s=s||{};var i=s.random||(s.rng||$w)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=i[o];return t}return Zu(i)}function Nx(s,t,n,i){switch(s){case 0:return t&n^~t&i;case 1:return t^n^i;case 2:return t&n^t&i^n&i;case 3:return t^n^i}}function qh(s,t){return s<<t|s>>>32-t}function kx(s){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof s=="string"){var i=unescape(encodeURIComponent(s));s=[];for(var o=0;o<i.length;++o)s.push(i.charCodeAt(o))}else Array.isArray(s)||(s=Array.prototype.slice.call(s));s.push(128);for(var c=s.length/4+2,u=Math.ceil(c/16),d=new Array(u),g=0;g<u;++g){for(var w=new Uint32Array(16),E=0;E<16;++E)w[E]=s[g*64+E*4]<<24|s[g*64+E*4+1]<<16|s[g*64+E*4+2]<<8|s[g*64+E*4+3];d[g]=w}d[u-1][14]=(s.length-1)*8/Math.pow(2,32),d[u-1][14]=Math.floor(d[u-1][14]),d[u-1][15]=(s.length-1)*8&4294967295;for(var I=0;I<u;++I){for(var k=new Uint32Array(80),R=0;R<16;++R)k[R]=d[I][R];for(var M=16;M<80;++M)k[M]=qh(k[M-3]^k[M-8]^k[M-14]^k[M-16],1);for(var U=n[0],z=n[1],j=n[2],F=n[3],V=n[4],$=0;$<80;++$){var ne=Math.floor($/20),ce=qh(U,5)+Nx(ne,z,j,F)+V+t[ne]+k[$]>>>0;V=F,F=j,j=qh(z,30)>>>0,z=U,U=ce}n[0]=n[0]+U>>>0,n[1]=n[1]+z>>>0,n[2]=n[2]+j>>>0,n[3]=n[3]+F>>>0,n[4]=n[4]+V>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var Ix=Jw("v5",80,kx);const Cx="00000000-0000-0000-0000-000000000000";function Bx(s){if(!Yu(s))throw TypeError("Invalid UUID");return parseInt(s.substr(14,1),16)}const Mx=Object.freeze(Object.defineProperty({__proto__:null,NIL:Cx,parse:Qw,stringify:Zu,v1:bx,v3:Tx,v4:Ox,v5:Ix,validate:Yu,version:Bx},Symbol.toStringTag,{value:"Module"})),t_=Ku(Mx);var Kh,Zg;function Ux(){if(Zg)return Kh;Zg=1;const s=t_.v4;return Kh=function(n,i,o,c){if(typeof n!="string")throw new TypeError(n+" must be a string");c=c||{};const u=typeof c.version=="number"?c.version:2;if(u!==1&&u!==2)throw new TypeError(u+" must be 1 or 2");const d={method:n};if(u===2&&(d.jsonrpc="2.0"),i){if(typeof i!="object"&&!Array.isArray(i))throw new TypeError(i+" must be an object, array or omitted");d.params=i}if(typeof o>"u"){const g=typeof c.generator=="function"?c.generator:function(){return s()};d.id=g(d,c)}else u===2&&o===null?c.notificationIdNull&&(d.id=null):d.id=o;return d},Kh}var Vh,Xg;function Dx(){if(Xg)return Vh;Xg=1;const s=t_.v4,t=Ux(),n=function(i,o){if(!(this instanceof n))return new n(i,o);o||(o={}),this.options={reviver:typeof o.reviver<"u"?o.reviver:null,replacer:typeof o.replacer<"u"?o.replacer:null,generator:typeof o.generator<"u"?o.generator:function(){return s()},version:typeof o.version<"u"?o.version:2,notificationIdNull:typeof o.notificationIdNull=="boolean"?o.notificationIdNull:!1},this.callServer=i};return Vh=n,n.prototype.request=function(i,o,c,u){const d=this;let g=null;const w=Array.isArray(i)&&typeof o=="function";if(this.options.version===1&&w)throw new TypeError("JSON-RPC 1.0 does not support batching");if(w||!w&&i&&typeof i=="object"&&typeof o=="function")u=o,g=i;else{typeof c=="function"&&(u=c,c=void 0);const k=typeof u=="function";try{g=t(i,o,c,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(R){if(k){u(R);return}throw R}if(!k)return g}let I;try{I=JSON.stringify(g,this.options.replacer)}catch(k){u(k);return}return this.callServer(I,function(k,R){d._parseResponse(k,R,u)}),g},n.prototype._parseResponse=function(i,o,c){if(i){c(i);return}if(!o){c();return}let u;try{u=JSON.parse(o,this.options.reviver)}catch(d){c(d);return}if(c.length===3)if(Array.isArray(u)){const d=function(w){return typeof w.error<"u"},g=function(w){return!d(w)};c(null,u.filter(d),u.filter(g));return}else{c(null,u.error,u.result);return}c(null,u)},Vh}var Lx=Dx();const zx=Ii(Lx);var Gh={exports:{}},Wg;function Hx(){return Wg||(Wg=1,(function(s){var t=Object.prototype.hasOwnProperty,n="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1));function o(g,w,E){this.fn=g,this.context=w,this.once=E||!1}function c(g,w,E,I,k){if(typeof E!="function")throw new TypeError("The listener must be a function");var R=new o(E,I||g,k),M=n?n+w:w;return g._events[M]?g._events[M].fn?g._events[M]=[g._events[M],R]:g._events[M].push(R):(g._events[M]=R,g._eventsCount++),g}function u(g,w){--g._eventsCount===0?g._events=new i:delete g._events[w]}function d(){this._events=new i,this._eventsCount=0}d.prototype.eventNames=function(){var w=[],E,I;if(this._eventsCount===0)return w;for(I in E=this._events)t.call(E,I)&&w.push(n?I.slice(1):I);return Object.getOwnPropertySymbols?w.concat(Object.getOwnPropertySymbols(E)):w},d.prototype.listeners=function(w){var E=n?n+w:w,I=this._events[E];if(!I)return[];if(I.fn)return[I.fn];for(var k=0,R=I.length,M=new Array(R);k<R;k++)M[k]=I[k].fn;return M},d.prototype.listenerCount=function(w){var E=n?n+w:w,I=this._events[E];return I?I.fn?1:I.length:0},d.prototype.emit=function(w,E,I,k,R,M){var U=n?n+w:w;if(!this._events[U])return!1;var z=this._events[U],j=arguments.length,F,V;if(z.fn){switch(z.once&&this.removeListener(w,z.fn,void 0,!0),j){case 1:return z.fn.call(z.context),!0;case 2:return z.fn.call(z.context,E),!0;case 3:return z.fn.call(z.context,E,I),!0;case 4:return z.fn.call(z.context,E,I,k),!0;case 5:return z.fn.call(z.context,E,I,k,R),!0;case 6:return z.fn.call(z.context,E,I,k,R,M),!0}for(V=1,F=new Array(j-1);V<j;V++)F[V-1]=arguments[V];z.fn.apply(z.context,F)}else{var $=z.length,ne;for(V=0;V<$;V++)switch(z[V].once&&this.removeListener(w,z[V].fn,void 0,!0),j){case 1:z[V].fn.call(z[V].context);break;case 2:z[V].fn.call(z[V].context,E);break;case 3:z[V].fn.call(z[V].context,E,I);break;case 4:z[V].fn.call(z[V].context,E,I,k);break;default:if(!F)for(ne=1,F=new Array(j-1);ne<j;ne++)F[ne-1]=arguments[ne];z[V].fn.apply(z[V].context,F)}}return!0},d.prototype.on=function(w,E,I){return c(this,w,E,I,!1)},d.prototype.once=function(w,E,I){return c(this,w,E,I,!0)},d.prototype.removeListener=function(w,E,I,k){var R=n?n+w:w;if(!this._events[R])return this;if(!E)return u(this,R),this;var M=this._events[R];if(M.fn)M.fn===E&&(!k||M.once)&&(!I||M.context===I)&&u(this,R);else{for(var U=0,z=[],j=M.length;U<j;U++)(M[U].fn!==E||k&&!M[U].once||I&&M[U].context!==I)&&z.push(M[U]);z.length?this._events[R]=z.length===1?z[0]:z:u(this,R)}return this},d.prototype.removeAllListeners=function(w){var E;return w?(E=n?n+w:w,this._events[E]&&u(this,E)):(this._events=new i,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,s.exports=d})(Gh)),Gh.exports}var jx=Hx();const n_=Ii(jx);var Px=class extends n_{socket;constructor(s,t){super(),this.socket=new window.WebSocket(s,t.protocols),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=n=>this.emit("message",n.data),this.socket.onerror=n=>this.emit("error",n),this.socket.onclose=n=>{this.emit("close",n.code,n.reason)}}send(s,t,n){const i=n||t;try{this.socket.send(s),i()}catch(o){i(o)}}close(s,t){this.socket.close(s,t)}addEventListener(s,t,n){this.socket.addEventListener(s,t,n)}};function qx(s,t){return new Px(s,t)}var Kx=class{encode(s){return JSON.stringify(s)}decode(s){return JSON.parse(s)}},Vx=class extends n_{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(s,t="ws://localhost:8080",{autoconnect:n=!0,reconnect:i=!0,reconnect_interval:o=1e3,max_reconnects:c=5,...u}={},d,g){super(),this.webSocketFactory=s,this.queue={},this.rpc_id=0,this.address=t,this.autoconnect=n,this.ready=!1,this.reconnect=i,this.reconnect_timer_id=void 0,this.reconnect_interval=o,this.max_reconnects=c,this.rest_options=u,this.current_reconnects=0,this.generate_request_id=d||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),g?this.dataPack=g:this.dataPack=new Kx,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(s,t,n,i){return!i&&typeof n=="object"&&(i=n,n=null),new Promise((o,c)=>{if(!this.ready)return c(new Error("socket not ready"));const u=this.generate_request_id(s,t),d={jsonrpc:"2.0",method:s,params:t||void 0,id:u};this.socket.send(this.dataPack.encode(d),i,g=>{if(g)return c(g);this.queue[u]={promise:[o,c]},n&&(this.queue[u].timeout=setTimeout(()=>{delete this.queue[u],c(new Error("reply timeout"))},n))})})}async login(s){const t=await this.call("rpc.login",s);if(!t)throw new Error("authentication failed");return t}async listMethods(){return await this.call("__listMethods")}notify(s,t){return new Promise((n,i)=>{if(!this.ready)return i(new Error("socket not ready"));const o={jsonrpc:"2.0",method:s,params:t};this.socket.send(this.dataPack.encode(o),c=>{if(c)return i(c);n()})})}async subscribe(s){typeof s=="string"&&(s=[s]);const t=await this.call("rpc.on",s);if(typeof s=="string"&&t[s]!=="ok")throw new Error("Failed subscribing to an event '"+s+"' with: "+t[s]);return t}async unsubscribe(s){typeof s=="string"&&(s=[s]);const t=await this.call("rpc.off",s);if(typeof s=="string"&&t[s]!=="ok")throw new Error("Failed unsubscribing from an event with: "+t);return t}close(s,t){this.socket&&this.socket.close(s||1e3,t)}setAutoReconnect(s){this.reconnect=s}setReconnectInterval(s){this.reconnect_interval=s}setMaxReconnects(s){this.max_reconnects=s}getCurrentReconnects(){return this.current_reconnects}getMaxReconnects(){return this.max_reconnects}isReconnecting(){return this.reconnect_timer_id!==void 0}willReconnect(){return this.reconnect&&(this.max_reconnects===0||this.current_reconnects<this.max_reconnects)}_connect(s,t){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(s,t),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:n})=>{n instanceof ArrayBuffer&&(n=Be.Buffer.from(n).toString());try{n=this.dataPack.decode(n)}catch{return}if(n.notification&&this.listeners(n.notification).length){if(!Object.keys(n.params).length)return this.emit(n.notification);const i=[n.notification];if(n.params.constructor===Object)i.push(n.params);else for(let o=0;o<n.params.length;o++)i.push(n.params[o]);return Promise.resolve().then(()=>{this.emit.apply(this,i)})}if(!this.queue[n.id])return n.method?Promise.resolve().then(()=>{this.emit(n.method,n?.params)}):void 0;"error"in n=="result"in n&&this.queue[n.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[n.id].timeout&&clearTimeout(this.queue[n.id].timeout),n.error?this.queue[n.id].promise[1](n.error):this.queue[n.id].promise[0](n.result),delete this.queue[n.id]}),this.socket.addEventListener("error",n=>this.emit("error",n)),this.socket.addEventListener("close",({code:n,reason:i})=>{this.ready&&setTimeout(()=>this.emit("close",n,i),0),this.ready=!1,this.socket=void 0,n!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)?this.reconnect_timer_id=setTimeout(()=>this._connect(s,t),this.reconnect_interval):this.reconnect&&this.max_reconnects>0&&this.current_reconnects>=this.max_reconnects&&setTimeout(()=>this.emit("max_reconnects_reached",n,i),1))})}};const Gx=BigInt(0),mc=BigInt(1),Fx=BigInt(2),Yx=BigInt(7),Zx=BigInt(256),Xx=BigInt(113),r_=[],i_=[],s_=[];for(let s=0,t=mc,n=1,i=0;s<24;s++){[n,i]=[i,(2*n+3*i)%5],r_.push(2*(5*i+n)),i_.push((s+1)*(s+2)/2%64);let o=Gx;for(let c=0;c<7;c++)t=(t<<mc^(t>>Yx)*Xx)%Zx,t&Fx&&(o^=mc<<(mc<<BigInt(c))-mc);s_.push(o)}const a_=Ew(s_,!0),Wx=a_[0],$x=a_[1],$g=(s,t,n)=>n>32?MR(s,t,n):CR(s,t,n),Qg=(s,t,n)=>n>32?UR(s,t,n):BR(s,t,n);function Qx(s,t=24){const n=new Uint32Array(10);for(let i=24-t;i<24;i++){for(let u=0;u<10;u++)n[u]=s[u]^s[u+10]^s[u+20]^s[u+30]^s[u+40];for(let u=0;u<10;u+=2){const d=(u+8)%10,g=(u+2)%10,w=n[g],E=n[g+1],I=$g(w,E,1)^n[d],k=Qg(w,E,1)^n[d+1];for(let R=0;R<50;R+=10)s[u+R]^=I,s[u+R+1]^=k}let o=s[2],c=s[3];for(let u=0;u<24;u++){const d=i_[u],g=$g(o,c,d),w=Qg(o,c,d),E=r_[u];o=s[E],c=s[E+1],s[E]=g,s[E+1]=w}for(let u=0;u<50;u+=10){for(let d=0;d<10;d++)n[d]=s[u+d];for(let d=0;d<10;d++)s[u+d]^=~n[(d+2)%10]&n[(d+4)%10]}s[0]^=Wx[i],s[1]^=$x[i]}ws(n)}class J0 extends j0{constructor(t,n,i,o=!1,c=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=i,this.enableXOF=o,this.rounds=c,xc(i),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=ER(this.state)}clone(){return this._cloneInto()}keccak(){Rg(this.state32),Qx(this.state32,this.rounds),Rg(this.state32),this.posOut=0,this.pos=0}update(t){co(this),t=Vu(t),Ni(t);const{blockLen:n,state:i}=this,o=t.length;for(let c=0;c<o;){const u=Math.min(n-this.pos,o-c);for(let d=0;d<u;d++)i[this.pos++]^=t[c++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:i,blockLen:o}=this;t[i]^=n,(n&128)!==0&&i===o-1&&this.keccak(),t[o-1]^=128,this.keccak()}writeInto(t){co(this,!1),Ni(t),this.finish();const n=this.state,{blockLen:i}=this;for(let o=0,c=t.length;o<c;){this.posOut>=i&&this.keccak();const u=Math.min(i-this.posOut,c-o);t.set(n.subarray(this.posOut,this.posOut+u),o),this.posOut+=u,o+=u}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return xc(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(ww(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,ws(this.state)}_cloneInto(t){const{blockLen:n,suffix:i,outputLen:o,rounds:c,enableXOF:u}=this;return t||(t=new J0(n,i,o,u,c)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=c,t.suffix=i,t.outputLen=o,t.enableXOF=u,t.destroyed=this.destroyed,t}}const Jx=(s,t,n)=>P0(()=>new J0(t,s,n)),Jg=Jx(1,136,256/8);class o_ extends j0{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,bw(t);const i=Vu(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,c=new Uint8Array(o);c.set(i.length>o?t.create().update(i).digest():i);for(let u=0;u<c.length;u++)c[u]^=54;this.iHash.update(c),this.oHash=t.create();for(let u=0;u<c.length;u++)c[u]^=106;this.oHash.update(c),ws(c)}update(t){return co(this),this.iHash.update(t),this}digestInto(t){co(this),Ni(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:i,finished:o,destroyed:c,blockLen:u,outputLen:d}=this;return t=t,t.finished=o,t.destroyed=c,t.blockLen=u,t.outputLen=d,t.oHash=n._cloneInto(t.oHash),t.iHash=i._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const c_=(s,t,n)=>new o_(s,t).update(n).digest();c_.create=(s,t)=>new o_(s,t);const eb=(s,t)=>(s+(s>=0?t:-t)/l_)/t;function eT(s,t,n){const[[i,o],[c,u]]=t,d=eb(u*s,n),g=eb(-o*s,n);let w=s-d*i-g*c,E=-d*o-g*u;const I=w<Ti,k=E<Ti;I&&(w=-w),k&&(E=-E);const R=Uc(Math.ceil(Tw(n)/2))+io;if(w<Ti||w>=R||E<Ti||E>=R)throw new Error("splitScalar (endomorphism): failed, k="+s);return{k1neg:I,k1:w,k2neg:k,k2:E}}function w0(s){if(!["compact","recovered","der"].includes(s))throw new Error('Signature format must be "compact", "recovered", or "der"');return s}function Fh(s,t){const n={};for(let i of Object.keys(t))n[i]=s[i]===void 0?t[i]:s[i];return Js(n.lowS,"lowS"),Js(n.prehash,"prehash"),n.format!==void 0&&w0(n.format),n}class tT extends Error{constructor(t=""){super(t)}}const Ei={Err:tT,_tlv:{encode:(s,t)=>{const{Err:n}=Ei;if(s<0||s>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const i=t.length/2,o=au(i);if(o.length/2&128)throw new n("tlv.encode: long form length too big");const c=i>127?au(o.length/2|128):"";return au(s)+c+o+t},decode(s,t){const{Err:n}=Ei;let i=0;if(s<0||s>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[i++]!==s)throw new n("tlv.decode: wrong tlv");const o=t[i++],c=!!(o&128);let u=0;if(!c)u=o;else{const g=o&127;if(!g)throw new n("tlv.decode(long): indefinite length not supported");if(g>4)throw new n("tlv.decode(long): byte length is too big");const w=t.subarray(i,i+g);if(w.length!==g)throw new n("tlv.decode: length bytes not complete");if(w[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const E of w)u=u<<8|E;if(i+=g,u<128)throw new n("tlv.decode(long): not minimal encoding")}const d=t.subarray(i,i+u);if(d.length!==u)throw new n("tlv.decode: wrong value length");return{v:d,l:t.subarray(i+u)}}},_int:{encode(s){const{Err:t}=Ei;if(s<Ti)throw new t("integer: negative integers are not allowed");let n=au(s);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(s){const{Err:t}=Ei;if(s[0]&128)throw new t("invalid signature integer: negative");if(s[0]===0&&!(s[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return Gu(s)}},toSig(s){const{Err:t,_int:n,_tlv:i}=Ei,o=ln("signature",s),{v:c,l:u}=i.decode(48,o);if(u.length)throw new t("invalid signature: left bytes after parsing");const{v:d,l:g}=i.decode(2,c),{v:w,l:E}=i.decode(2,g);if(E.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(d),s:n.decode(w)}},hexFromSig(s){const{_tlv:t,_int:n}=Ei,i=t.encode(2,n.encode(s.r)),o=t.encode(2,n.encode(s.s)),c=i+o;return t.encode(48,c)}},Ti=BigInt(0),io=BigInt(1),l_=BigInt(2),lu=BigInt(3),nT=BigInt(4);function eo(s,t){const{BYTES:n}=s;let i;if(typeof t=="bigint")i=t;else{let o=ln("private key",t);try{i=s.fromBytes(o)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof t}`)}}if(!s.isValidNot0(i))throw new Error("invalid private key: out of range [1..N-1]");return i}function rT(s,t={}){const n=Kw("weierstrass",s,t),{Fp:i,Fn:o}=n;let c=n.CURVE;const{h:u,n:d}=c;Dc(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:g}=t;if(g&&(!i.is0(c.a)||typeof g.beta!="bigint"||!Array.isArray(g.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const w=f_(i,o);function E(){if(!i.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function I(W,T,h){const{x:_,y:A}=T.toAffine(),C=i.toBytes(_);if(Js(h,"isCompressed"),h){E();const L=!i.isOdd(A);return Vr(u_(L),C)}else return Vr(Uint8Array.of(4),C,i.toBytes(A))}function k(W){Or(W,void 0,"Point");const{publicKey:T,publicKeyUncompressed:h}=w,_=W.length,A=W[0],C=W.subarray(1);if(_===T&&(A===2||A===3)){const L=i.fromBytes(C);if(!i.isValid(L))throw new Error("bad point: is not on curve, wrong x");const B=U(L);let v;try{v=i.sqrt(B)}catch(y){const O=y instanceof Error?": "+y.message:"";throw new Error("bad point: is not on curve, sqrt error"+O)}E();const m=i.isOdd(v);return(A&1)===1!==m&&(v=i.neg(v)),{x:L,y:v}}else if(_===h&&A===4){const L=i.BYTES,B=i.fromBytes(C.subarray(0,L)),v=i.fromBytes(C.subarray(L,L*2));if(!z(B,v))throw new Error("bad point: is not on curve");return{x:B,y:v}}else throw new Error(`bad point: got length ${_}, expected compressed=${T} or uncompressed=${h}`)}const R=t.toBytes||I,M=t.fromBytes||k;function U(W){const T=i.sqr(W),h=i.mul(T,W);return i.add(i.add(h,i.mul(W,c.a)),c.b)}function z(W,T){const h=i.sqr(T),_=U(W);return i.eql(h,_)}if(!z(c.Gx,c.Gy))throw new Error("bad curve params: generator point");const j=i.mul(i.pow(c.a,lu),nT),F=i.mul(i.sqr(c.b),BigInt(27));if(i.is0(i.add(j,F)))throw new Error("bad curve params: a or b");function V(W,T,h=!1){if(!i.isValid(T)||h&&i.is0(T))throw new Error(`bad point coordinate ${W}`);return T}function $(W){if(!(W instanceof G))throw new Error("ProjectivePoint expected")}function ne(W){if(!g||!g.basises)throw new Error("no endo");return eT(W,g.basises,o.ORDER)}const ce=Ou((W,T)=>{const{X:h,Y:_,Z:A}=W;if(i.eql(A,i.ONE))return{x:h,y:_};const C=W.is0();T==null&&(T=C?i.ONE:i.inv(A));const L=i.mul(h,T),B=i.mul(_,T),v=i.mul(A,T);if(C)return{x:i.ZERO,y:i.ZERO};if(!i.eql(v,i.ONE))throw new Error("invZ was invalid");return{x:L,y:B}}),ie=Ou(W=>{if(W.is0()){if(t.allowInfinityPoint&&!i.is0(W.Y))return;throw new Error("bad point: ZERO")}const{x:T,y:h}=W.toAffine();if(!i.isValid(T)||!i.isValid(h))throw new Error("bad point: x or y not field elements");if(!z(T,h))throw new Error("bad point: equation left != right");if(!W.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function ue(W,T,h,_,A){return h=new G(i.mul(h.X,W),h.Y,h.Z),T=Nu(_,T),h=Nu(A,h),T.add(h)}class G{constructor(T,h,_){this.X=V("x",T),this.Y=V("y",h,!0),this.Z=V("z",_),Object.freeze(this)}static CURVE(){return c}static fromAffine(T){const{x:h,y:_}=T||{};if(!T||!i.isValid(h)||!i.isValid(_))throw new Error("invalid affine point");if(T instanceof G)throw new Error("projective point not allowed");return i.is0(h)&&i.is0(_)?G.ZERO:new G(h,_,i.ONE)}static fromBytes(T){const h=G.fromAffine(M(Or(T,void 0,"point")));return h.assertValidity(),h}static fromHex(T){return G.fromBytes(ln("pointHex",T))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(T=8,h=!0){return X.createCache(this,T),h||this.multiply(lu),this}assertValidity(){ie(this)}hasEvenY(){const{y:T}=this.toAffine();if(!i.isOdd)throw new Error("Field doesn't support isOdd");return!i.isOdd(T)}equals(T){$(T);const{X:h,Y:_,Z:A}=this,{X:C,Y:L,Z:B}=T,v=i.eql(i.mul(h,B),i.mul(C,A)),m=i.eql(i.mul(_,B),i.mul(L,A));return v&&m}negate(){return new G(this.X,i.neg(this.Y),this.Z)}double(){const{a:T,b:h}=c,_=i.mul(h,lu),{X:A,Y:C,Z:L}=this;let B=i.ZERO,v=i.ZERO,m=i.ZERO,f=i.mul(A,A),y=i.mul(C,C),O=i.mul(L,L),D=i.mul(A,C);return D=i.add(D,D),m=i.mul(A,L),m=i.add(m,m),B=i.mul(T,m),v=i.mul(_,O),v=i.add(B,v),B=i.sub(y,v),v=i.add(y,v),v=i.mul(B,v),B=i.mul(D,B),m=i.mul(_,m),O=i.mul(T,O),D=i.sub(f,O),D=i.mul(T,D),D=i.add(D,m),m=i.add(f,f),f=i.add(m,f),f=i.add(f,O),f=i.mul(f,D),v=i.add(v,f),O=i.mul(C,L),O=i.add(O,O),f=i.mul(O,D),B=i.sub(B,f),m=i.mul(O,y),m=i.add(m,m),m=i.add(m,m),new G(B,v,m)}add(T){$(T);const{X:h,Y:_,Z:A}=this,{X:C,Y:L,Z:B}=T;let v=i.ZERO,m=i.ZERO,f=i.ZERO;const y=c.a,O=i.mul(c.b,lu);let D=i.mul(h,C),Z=i.mul(_,L),se=i.mul(A,B),re=i.add(h,_),le=i.add(C,L);re=i.mul(re,le),le=i.add(D,Z),re=i.sub(re,le),le=i.add(h,A);let Ae=i.add(C,B);return le=i.mul(le,Ae),Ae=i.add(D,se),le=i.sub(le,Ae),Ae=i.add(_,A),v=i.add(L,B),Ae=i.mul(Ae,v),v=i.add(Z,se),Ae=i.sub(Ae,v),f=i.mul(y,le),v=i.mul(O,se),f=i.add(v,f),v=i.sub(Z,f),f=i.add(Z,f),m=i.mul(v,f),Z=i.add(D,D),Z=i.add(Z,D),se=i.mul(y,se),le=i.mul(O,le),Z=i.add(Z,se),se=i.sub(D,se),se=i.mul(y,se),le=i.add(le,se),D=i.mul(Z,le),m=i.add(m,D),D=i.mul(Ae,le),v=i.mul(re,v),v=i.sub(v,D),D=i.mul(re,Z),f=i.mul(Ae,f),f=i.add(f,D),new G(v,m,f)}subtract(T){return this.add(T.negate())}is0(){return this.equals(G.ZERO)}multiply(T){const{endo:h}=t;if(!o.isValidNot0(T))throw new Error("invalid scalar: out of range");let _,A;const C=L=>X.cached(this,L,B=>Zs(G,B));if(h){const{k1neg:L,k1:B,k2neg:v,k2:m}=ne(T),{p:f,f:y}=C(B),{p:O,f:D}=C(m);A=y.add(D),_=ue(h.beta,f,O,L,v)}else{const{p:L,f:B}=C(T);_=L,A=B}return Zs(G,[_,A])[0]}multiplyUnsafe(T){const{endo:h}=t,_=this;if(!o.isValid(T))throw new Error("invalid scalar: out of range");if(T===Ti||_.is0())return G.ZERO;if(T===io)return _;if(X.hasCache(this))return this.multiply(T);if(h){const{k1neg:A,k1:C,k2neg:L,k2:B}=ne(T),{p1:v,p2:m}=c2(G,_,C,B);return ue(h.beta,v,m,A,L)}else return X.unsafe(_,T)}multiplyAndAddUnsafe(T,h,_){const A=this.multiplyUnsafe(h).add(T.multiplyUnsafe(_));return A.is0()?void 0:A}toAffine(T){return ce(this,T)}isTorsionFree(){const{isTorsionFree:T}=t;return u===io?!0:T?T(G,this):X.unsafe(this,d).is0()}clearCofactor(){const{clearCofactor:T}=t;return u===io?this:T?T(G,this):this.multiplyUnsafe(u)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}toBytes(T=!0){return Js(T,"isCompressed"),this.assertValidity(),R(G,this,T)}toHex(T=!0){return Qs(this.toBytes(T))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(T=!0){return this.toBytes(T)}_setWindowSize(T){this.precompute(T)}static normalizeZ(T){return Zs(G,T)}static msm(T,h){return qw(G,o,T,h)}static fromPrivateKey(T){return G.BASE.multiply(eo(o,T))}}G.BASE=new G(c.Gx,c.Gy,i.ONE),G.ZERO=new G(i.ZERO,i.ONE,i.ZERO),G.Fp=i,G.Fn=o;const Y=o.BITS,X=new Pw(G,t.endo?Math.ceil(Y/2):Y);return G.BASE.precompute(8),G}function u_(s){return Uint8Array.of(s?2:3)}function f_(s,t){return{secretKey:t.BYTES,publicKey:1+s.BYTES,publicKeyUncompressed:1+2*s.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}function iT(s,t={}){const{Fn:n}=s,i=t.randomBytes||q0,o=Object.assign(f_(s.Fp,n),{seed:zw(n.ORDER)});function c(R){try{return!!eo(n,R)}catch{return!1}}function u(R,M){const{publicKey:U,publicKeyUncompressed:z}=o;try{const j=R.length;return M===!0&&j!==U||M===!1&&j!==z?!1:!!s.fromBytes(R)}catch{return!1}}function d(R=i(o.seed)){return s2(Or(R,o.seed,"seed"),n.ORDER)}function g(R,M=!0){return s.BASE.multiply(eo(n,R)).toBytes(M)}function w(R){const M=d(R);return{secretKey:M,publicKey:g(M)}}function E(R){if(typeof R=="bigint")return!1;if(R instanceof s)return!0;const{secretKey:M,publicKey:U,publicKeyUncompressed:z}=o;if(n.allowedLengths||M===U)return;const j=ln("key",R).length;return j===U||j===z}function I(R,M,U=!0){if(E(R)===!0)throw new Error("first arg must be private key");if(E(M)===!1)throw new Error("second arg must be public key");const z=eo(n,R);return s.fromHex(M).multiply(z).toBytes(U)}return Object.freeze({getPublicKey:g,getSharedSecret:I,keygen:w,Point:s,utils:{isValidSecretKey:c,isValidPublicKey:u,randomSecretKey:d,isValidPrivateKey:c,randomPrivateKey:d,normPrivateKeyToScalar:R=>eo(n,R),precompute(R=8,M=s.BASE){return M.precompute(R,!1)}},lengths:o})}function sT(s,t,n={}){bw(t),Dc(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const i=n.randomBytes||q0,o=n.hmac||((h,..._)=>c_(t,h,Vr(..._))),{Fp:c,Fn:u}=s,{ORDER:d,BITS:g}=u,{keygen:w,getPublicKey:E,getSharedSecret:I,utils:k,lengths:R}=iT(s,n),M={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},U="compact";function z(h){const _=d>>io;return h>_}function j(h,_){if(!u.isValidNot0(_))throw new Error(`invalid signature ${h}: out of range 1..Point.Fn.ORDER`);return _}function F(h,_){w0(_);const A=R.signature,C=_==="compact"?A:_==="recovered"?A+1:void 0;return Or(h,C,`${_} signature`)}class V{constructor(_,A,C){this.r=j("r",_),this.s=j("s",A),C!=null&&(this.recovery=C),Object.freeze(this)}static fromBytes(_,A=U){F(_,A);let C;if(A==="der"){const{r:m,s:f}=Ei.toSig(Or(_));return new V(m,f)}A==="recovered"&&(C=_[0],A="compact",_=_.subarray(1));const L=u.BYTES,B=_.subarray(0,L),v=_.subarray(L,L*2);return new V(u.fromBytes(B),u.fromBytes(v),C)}static fromHex(_,A){return this.fromBytes(Tu(_),A)}addRecoveryBit(_){return new V(this.r,this.s,_)}recoverPublicKey(_){const A=c.ORDER,{r:C,s:L,recovery:B}=this;if(B==null||![0,1,2,3].includes(B))throw new Error("recovery id invalid");if(d*l_<A&&B>1)throw new Error("recovery id is ambiguous for h>1 curve");const m=B===2||B===3?C+d:C;if(!c.isValid(m))throw new Error("recovery id 2 or 3 invalid");const f=c.toBytes(m),y=s.fromBytes(Vr(u_((B&1)===0),f)),O=u.inv(m),D=ne(ln("msgHash",_)),Z=u.create(-D*O),se=u.create(L*O),re=s.BASE.multiplyUnsafe(Z).add(y.multiplyUnsafe(se));if(re.is0())throw new Error("point at infinify");return re.assertValidity(),re}hasHighS(){return z(this.s)}toBytes(_=U){if(w0(_),_==="der")return Tu(Ei.hexFromSig(this));const A=u.toBytes(this.r),C=u.toBytes(this.s);if(_==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return Vr(Uint8Array.of(this.recovery),A,C)}return Vr(A,C)}toHex(_){return Qs(this.toBytes(_))}assertValidity(){}static fromCompact(_){return V.fromBytes(ln("sig",_),"compact")}static fromDER(_){return V.fromBytes(ln("sig",_),"der")}normalizeS(){return this.hasHighS()?new V(this.r,u.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Qs(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Qs(this.toBytes("compact"))}}const $=n.bits2int||function(_){if(_.length>8192)throw new Error("input is too large");const A=Gu(_),C=_.length*8-g;return C>0?A>>BigInt(C):A},ne=n.bits2int_modN||function(_){return u.create($(_))},ce=Uc(g);function ie(h){return b0("num < 2^"+g,h,Ti,ce),u.toBytes(h)}function ue(h,_){return Or(h,void 0,"message"),_?Or(t(h),void 0,"prehashed message"):h}function G(h,_,A){if(["recovered","canonical"].some(Z=>Z in A))throw new Error("sign() legacy options not supported");const{lowS:C,prehash:L,extraEntropy:B}=Fh(A,M);h=ue(h,L);const v=ne(h),m=eo(u,_),f=[ie(m),ie(v)];if(B!=null&&B!==!1){const Z=B===!0?i(R.secretKey):B;f.push(ln("extraEntropy",Z))}const y=Vr(...f),O=v;function D(Z){const se=$(Z);if(!u.isValidNot0(se))return;const re=u.inv(se),le=s.BASE.multiply(se).toAffine(),Ae=u.create(le.x);if(Ae===Ti)return;const Ie=u.create(re*u.create(O+Ae*m));if(Ie===Ti)return;let Ve=(le.x===Ae?0:2)|Number(le.y&io),It=Ie;return C&&z(Ie)&&(It=u.neg(Ie),Ve^=1),new V(Ae,It,Ve)}return{seed:y,k2sig:D}}function Y(h,_,A={}){h=ln("message",h);const{seed:C,k2sig:L}=G(h,_,A);return XR(t.outputLen,u.BYTES,o)(C,L)}function X(h){let _;const A=typeof h=="string"||Mc(h),C=!A&&h!==null&&typeof h=="object"&&typeof h.r=="bigint"&&typeof h.s=="bigint";if(!A&&!C)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(C)_=new V(h.r,h.s);else if(A){try{_=V.fromBytes(ln("sig",h),"der")}catch(L){if(!(L instanceof Ei.Err))throw L}if(!_)try{_=V.fromBytes(ln("sig",h),"compact")}catch{return!1}}return _||!1}function W(h,_,A,C={}){const{lowS:L,prehash:B,format:v}=Fh(C,M);if(A=ln("publicKey",A),_=ue(ln("message",_),B),"strict"in C)throw new Error("options.strict was renamed to lowS");const m=v===void 0?X(h):V.fromBytes(ln("sig",h),v);if(m===!1)return!1;try{const f=s.fromBytes(A);if(L&&m.hasHighS())return!1;const{r:y,s:O}=m,D=ne(_),Z=u.inv(O),se=u.create(D*Z),re=u.create(y*Z),le=s.BASE.multiplyUnsafe(se).add(f.multiplyUnsafe(re));return le.is0()?!1:u.create(le.x)===y}catch{return!1}}function T(h,_,A={}){const{prehash:C}=Fh(A,M);return _=ue(_,C),V.fromBytes(h,"recovered").recoverPublicKey(_).toBytes()}return Object.freeze({keygen:w,getPublicKey:E,getSharedSecret:I,utils:k,lengths:R,Point:s,sign:Y,verify:W,recoverPublicKey:T,Signature:V,hash:t})}function aT(s){const t={a:s.a,b:s.b,p:s.Fp.ORDER,n:s.n,h:s.h,Gx:s.Gx,Gy:s.Gy},n=s.Fp;let i=s.allowedPrivateKeyLengths?Array.from(new Set(s.allowedPrivateKeyLengths.map(u=>Math.ceil(u/2)))):void 0;const o=ra(t.n,{BITS:s.nBitLength,allowedLengths:i,modFromBytes:s.wrapPrivateKey}),c={Fp:n,Fn:o,allowInfinityPoint:s.allowInfinityPoint,endo:s.endo,isTorsionFree:s.isTorsionFree,clearCofactor:s.clearCofactor,fromBytes:s.fromBytes,toBytes:s.toBytes};return{CURVE:t,curveOpts:c}}function oT(s){const{CURVE:t,curveOpts:n}=aT(s),i={hmac:s.hmac,randomBytes:s.randomBytes,lowS:s.lowS,bits2int:s.bits2int,bits2int_modN:s.bits2int_modN};return{CURVE:t,curveOpts:n,hash:s.hash,ecdsaOpts:i}}function cT(s,t){const n=t.Point;return Object.assign({},t,{ProjectivePoint:n,CURVE:Object.assign({},s,Dw(n.Fn.ORDER,n.Fn.BITS))})}function lT(s){const{CURVE:t,curveOpts:n,hash:i,ecdsaOpts:o}=oT(s),c=rT(t,n),u=sT(c,i,o);return cT(s,u)}function uT(s,t){const n=i=>lT({...s,hash:i});return{...n(t),create:n}}const ep={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},fT={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},tb=BigInt(2);function dT(s){const t=ep.p,n=BigInt(3),i=BigInt(6),o=BigInt(11),c=BigInt(22),u=BigInt(23),d=BigInt(44),g=BigInt(88),w=s*s*s%t,E=w*w*s%t,I=cn(E,n,t)*E%t,k=cn(I,n,t)*E%t,R=cn(k,tb,t)*w%t,M=cn(R,o,t)*R%t,U=cn(M,c,t)*M%t,z=cn(U,d,t)*U%t,j=cn(z,g,t)*z%t,F=cn(j,d,t)*U%t,V=cn(F,n,t)*E%t,$=cn(V,u,t)*M%t,ne=cn($,i,t)*w%t,ce=cn(ne,tb,t);if(!_0.eql(_0.sqr(ce),s))throw new Error("Cannot find square root");return ce}const _0=ra(ep.p,{sqrt:dT}),tp=uT({...ep,Fp:_0,lowS:!0,endo:fT},Aw),hT=yo.utils.randomPrivateKey,nb=()=>{const s=yo.utils.randomPrivateKey(),t=Du(s),n=new Uint8Array(64);return n.set(s),n.set(t,32),{publicKey:t,secretKey:n}},Du=yo.getPublicKey;function rb(s){try{return yo.ExtendedPoint.fromHex(s),!0}catch{return!1}}const np=(s,t)=>yo.sign(s,t.slice(0,32)),pT=yo.verify,it=s=>Be.Buffer.isBuffer(s)?s:s instanceof Uint8Array?Be.Buffer.from(s.buffer,s.byteOffset,s.byteLength):Be.Buffer.from(s);let rp=class{constructor(t){Object.assign(this,t)}encode(){return Be.Buffer.from(Lh.serialize(vc,this))}static decode(t){return Lh.deserialize(vc,this,t)}static decodeUnchecked(t){return Lh.deserializeUnchecked(vc,this,t)}};class mT extends rp{constructor(t){if(super(t),this.enum="",Object.keys(t).length!==1)throw new Error("Enum can only take single value");Object.keys(t).map(n=>{this.enum=n})}}const vc=new Map;var d_;const h_=32,Zr=32;function yT(s){return s._bn!==void 0}let ib=1;class _e extends rp{constructor(t){if(super({}),this._bn=void 0,yT(t))this._bn=t._bn;else{if(typeof t=="string"){const n=In.decode(t);if(n.length!=Zr)throw new Error("Invalid public key input");this._bn=new hn(n)}else this._bn=new hn(t);if(this._bn.byteLength()>Zr)throw new Error("Invalid public key input")}}static unique(){const t=new _e(ib);return ib+=1,new _e(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return In.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(Be.Buffer);if(t.length===Zr)return t;const n=Be.Buffer.alloc(32);return t.copy(n,32-t.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,n,i){const o=Be.Buffer.concat([t.toBuffer(),Be.Buffer.from(n),i.toBuffer()]),c=ku(o);return new _e(c)}static createProgramAddressSync(t,n){let i=Be.Buffer.alloc(0);t.forEach(function(c){if(c.length>h_)throw new TypeError("Max seed length exceeded");i=Be.Buffer.concat([i,it(c)])}),i=Be.Buffer.concat([i,n.toBuffer(),Be.Buffer.from("ProgramDerivedAddress")]);const o=ku(i);if(rb(o))throw new Error("Invalid seeds, address must fall off the curve");return new _e(o)}static async createProgramAddress(t,n){return this.createProgramAddressSync(t,n)}static findProgramAddressSync(t,n){let i=255,o;for(;i!=0;){try{const c=t.concat(Be.Buffer.from([i]));o=this.createProgramAddressSync(c,n)}catch(c){if(c instanceof TypeError)throw c;i--;continue}return[o,i]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,n){return this.findProgramAddressSync(t,n)}static isOnCurve(t){const n=new _e(t);return rb(n.toBytes())}}d_=_e;_e.default=new d_("11111111111111111111111111111111");vc.set(_e,{kind:"struct",fields:[["_bn","u256"]]});class gT{constructor(t){if(this._publicKey=void 0,this._secretKey=void 0,t){const n=it(t);if(t.length!==64)throw new Error("bad secret key size");this._publicKey=n.slice(32,64),this._secretKey=n.slice(0,32)}else this._secretKey=it(hT()),this._publicKey=it(Du(this._secretKey))}get publicKey(){return new _e(this._publicKey)}get secretKey(){return Be.Buffer.concat([this._secretKey,this._publicKey],64)}}const bT=new _e("BPFLoader1111111111111111111111111111111111"),ys=1232,Wu=127,Oc=64;class ip extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}}Object.defineProperty(ip.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class sp extends Error{constructor(t,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}}Object.defineProperty(sp.prototype,"name",{value:"TransactionExpiredTimeoutError"});class to extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}}Object.defineProperty(to.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class Nc{constructor(t,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=n}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const n of this.keySegments()){if(t<n.length)return n[t];t-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const i=new Map;this.keySegments().flat().forEach((c,u)=>{i.set(c.toBase58(),u)});const o=c=>{const u=i.get(c.toBase58());if(u===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return u};return t.map(c=>({programIdIndex:o(c.programId),accountKeyIndexes:c.keys.map(u=>o(u.pubkey)),data:c.data}))}}const ct=(s="publicKey")=>Q.blob(32,s),wT=(s="signature")=>Q.blob(64,s),Xs=(s="string")=>{const t=Q.struct([Q.u32("length"),Q.u32("lengthPadding"),Q.blob(Q.offset(Q.u32(),-8),"chars")],s),n=t.decode.bind(t),i=t.encode.bind(t),o=t;return o.decode=(c,u)=>n(c,u).chars.toString(),o.encode=(c,u,d)=>{const g={chars:Be.Buffer.from(c,"utf8")};return i(g,u,d)},o.alloc=c=>Q.u32().span+Q.u32().span+Be.Buffer.from(c,"utf8").length,o},_T=(s="authorized")=>Q.struct([ct("staker"),ct("withdrawer")],s),vT=(s="lockup")=>Q.struct([Q.ns64("unixTimestamp"),Q.ns64("epoch"),ct("custodian")],s),ET=(s="voteInit")=>Q.struct([ct("nodePubkey"),ct("authorizedVoter"),ct("authorizedWithdrawer"),Q.u8("commission")],s),ST=(s="voteAuthorizeWithSeedArgs")=>Q.struct([Q.u32("voteAuthorizationType"),ct("currentAuthorityDerivedKeyOwnerPubkey"),Xs("currentAuthorityDerivedKeySeed"),ct("newAuthorized")],s);function p_(s,t){const n=o=>{if(o.span>=0)return o.span;if(typeof o.alloc=="function")return o.alloc(t[o.property]);if("count"in o&&"elementLayout"in o){const c=t[o.property];if(Array.isArray(c))return c.length*n(o.elementLayout)}else if("fields"in o)return p_({layout:o},t[o.property]);return 0};let i=0;return s.layout.fields.forEach(o=>{i+=n(o)}),i}function Yn(s){let t=0,n=0;for(;;){let i=s.shift();if(t|=(i&127)<<n*7,n+=1,(i&128)===0)break}return t}function ar(s,t){let n=t;for(;;){let i=n&127;if(n>>=7,n==0){s.push(i);break}else i|=128,s.push(i)}}function wt(s,t){if(!s)throw new Error(t||"Assertion failed")}class $u{constructor(t,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=n}static compile(t,n){const i=new Map,o=u=>{const d=u.toBase58();let g=i.get(d);return g===void 0&&(g={isSigner:!1,isWritable:!1,isInvoked:!1},i.set(d,g)),g},c=o(n);c.isSigner=!0,c.isWritable=!0;for(const u of t){o(u.programId).isInvoked=!0;for(const d of u.keys){const g=o(d.pubkey);g.isSigner||=d.isSigner,g.isWritable||=d.isWritable}}return new $u(n,i)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];wt(t.length<=256,"Max static account keys length exceeded");const n=t.filter(([,g])=>g.isSigner&&g.isWritable),i=t.filter(([,g])=>g.isSigner&&!g.isWritable),o=t.filter(([,g])=>!g.isSigner&&g.isWritable),c=t.filter(([,g])=>!g.isSigner&&!g.isWritable),u={numRequiredSignatures:n.length+i.length,numReadonlySignedAccounts:i.length,numReadonlyUnsignedAccounts:c.length};{wt(n.length>0,"Expected at least one writable signer key");const[g]=n[0];wt(g===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const d=[...n.map(([g])=>new _e(g)),...i.map(([g])=>new _e(g)),...o.map(([g])=>new _e(g)),...c.map(([g])=>new _e(g))];return[u,d]}extractTableLookup(t){const[n,i]=this.drainKeysFoundInLookupTable(t.state.addresses,u=>!u.isSigner&&!u.isInvoked&&u.isWritable),[o,c]=this.drainKeysFoundInLookupTable(t.state.addresses,u=>!u.isSigner&&!u.isInvoked&&!u.isWritable);if(!(n.length===0&&o.length===0))return[{accountKey:t.key,writableIndexes:n,readonlyIndexes:o},{writable:i,readonly:c}]}drainKeysFoundInLookupTable(t,n){const i=new Array,o=new Array;for(const[c,u]of this.keyMetaMap.entries())if(n(u)){const d=new _e(c),g=t.findIndex(w=>w.equals(d));g>=0&&(wt(g<256,"Max lookup table index exceeded"),i.push(g),o.push(d),this.keyMetaMap.delete(c))}return[i,o]}}const m_="Reached end of buffer unexpectedly";function Gr(s){if(s.length===0)throw new Error(m_);return s.shift()}function Zn(s,...t){const[n]=t;if(t.length===2?n+(t[1]??0)>s.length:n>=s.length)throw new Error(m_);return s.splice(...t)}class kr{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(n=>new _e(n)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:In.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Nc(this.staticAccountKeys)}static compile(t){const n=$u.compile(t.instructions,t.payerKey),[i,o]=n.getMessageComponents(),u=new Nc(o).compileInstructions(t.instructions).map(d=>({programIdIndex:d.programIdIndex,accounts:d.accountKeyIndexes,data:In.encode(d.data)}));return new kr({header:i,accountKeys:o,recentBlockhash:t.recentBlockhash,instructions:u})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const n=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){const i=t-n,c=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return i<c}else{const i=n-this.header.numReadonlySignedAccounts;return t<i}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,n)=>!this.isProgramId(n))}serialize(){const t=this.accountKeys.length;let n=[];ar(n,t);const i=this.instructions.map(I=>{const{accounts:k,programIdIndex:R}=I,M=Array.from(In.decode(I.data));let U=[];ar(U,k.length);let z=[];return ar(z,M.length),{programIdIndex:R,keyIndicesCount:Be.Buffer.from(U),keyIndices:k,dataLength:Be.Buffer.from(z),data:M}});let o=[];ar(o,i.length);let c=Be.Buffer.alloc(ys);Be.Buffer.from(o).copy(c);let u=o.length;i.forEach(I=>{const R=Q.struct([Q.u8("programIdIndex"),Q.blob(I.keyIndicesCount.length,"keyIndicesCount"),Q.seq(Q.u8("keyIndex"),I.keyIndices.length,"keyIndices"),Q.blob(I.dataLength.length,"dataLength"),Q.seq(Q.u8("userdatum"),I.data.length,"data")]).encode(I,c,u);u+=R}),c=c.slice(0,u);const d=Q.struct([Q.blob(1,"numRequiredSignatures"),Q.blob(1,"numReadonlySignedAccounts"),Q.blob(1,"numReadonlyUnsignedAccounts"),Q.blob(n.length,"keyCount"),Q.seq(ct("key"),t,"keys"),ct("recentBlockhash")]),g={numRequiredSignatures:Be.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Be.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Be.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Be.Buffer.from(n),keys:this.accountKeys.map(I=>it(I.toBytes())),recentBlockhash:In.decode(this.recentBlockhash)};let w=Be.Buffer.alloc(2048);const E=d.encode(g,w);return c.copy(w,E),w.slice(0,E+c.length)}static from(t){let n=[...t];const i=Gr(n);if(i!==(i&Wu))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const o=Gr(n),c=Gr(n),u=Yn(n);let d=[];for(let k=0;k<u;k++){const R=Zn(n,0,Zr);d.push(new _e(Be.Buffer.from(R)))}const g=Zn(n,0,Zr),w=Yn(n);let E=[];for(let k=0;k<w;k++){const R=Gr(n),M=Yn(n),U=Zn(n,0,M),z=Yn(n),j=Zn(n,0,z),F=In.encode(Be.Buffer.from(j));E.push({programIdIndex:R,accounts:U,data:F})}const I={header:{numRequiredSignatures:i,numReadonlySignedAccounts:o,numReadonlyUnsignedAccounts:c},recentBlockhash:In.encode(Be.Buffer.from(g)),accountKeys:d,instructions:E};return new kr(I)}}class ea{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const n of this.addressTableLookups)t+=n.readonlyIndexes.length+n.writableIndexes.length;return t}getAccountKeys(t){let n;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)n=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Nc(this.staticAccountKeys,n)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const n=this.header.numRequiredSignatures,i=this.staticAccountKeys.length;if(t>=i){const o=t-i,c=this.addressTableLookups.reduce((u,d)=>u+d.writableIndexes.length,0);return o<c}else if(t>=this.header.numRequiredSignatures){const o=t-n,u=i-n-this.header.numReadonlyUnsignedAccounts;return o<u}else{const o=n-this.header.numReadonlySignedAccounts;return t<o}}resolveAddressTableLookups(t){const n={writable:[],readonly:[]};for(const i of this.addressTableLookups){const o=t.find(c=>c.key.equals(i.accountKey));if(!o)throw new Error(`Failed to find address lookup table account for table key ${i.accountKey.toBase58()}`);for(const c of i.writableIndexes)if(c<o.state.addresses.length)n.writable.push(o.state.addresses[c]);else throw new Error(`Failed to find address for index ${c} in address lookup table ${i.accountKey.toBase58()}`);for(const c of i.readonlyIndexes)if(c<o.state.addresses.length)n.readonly.push(o.state.addresses[c]);else throw new Error(`Failed to find address for index ${c} in address lookup table ${i.accountKey.toBase58()}`)}return n}static compile(t){const n=$u.compile(t.instructions,t.payerKey),i=new Array,o={writable:new Array,readonly:new Array},c=t.addressLookupTableAccounts||[];for(const E of c){const I=n.extractTableLookup(E);if(I!==void 0){const[k,{writable:R,readonly:M}]=I;i.push(k),o.writable.push(...R),o.readonly.push(...M)}}const[u,d]=n.getMessageComponents(),w=new Nc(d,o).compileInstructions(t.instructions);return new ea({header:u,staticAccountKeys:d,recentBlockhash:t.recentBlockhash,compiledInstructions:w,addressTableLookups:i})}serialize(){const t=Array();ar(t,this.staticAccountKeys.length);const n=this.serializeInstructions(),i=Array();ar(i,this.compiledInstructions.length);const o=this.serializeAddressTableLookups(),c=Array();ar(c,this.addressTableLookups.length);const u=Q.struct([Q.u8("prefix"),Q.struct([Q.u8("numRequiredSignatures"),Q.u8("numReadonlySignedAccounts"),Q.u8("numReadonlyUnsignedAccounts")],"header"),Q.blob(t.length,"staticAccountKeysLength"),Q.seq(ct(),this.staticAccountKeys.length,"staticAccountKeys"),ct("recentBlockhash"),Q.blob(i.length,"instructionsLength"),Q.blob(n.length,"serializedInstructions"),Q.blob(c.length,"addressTableLookupsLength"),Q.blob(o.length,"serializedAddressTableLookups")]),d=new Uint8Array(ys),w=u.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(E=>E.toBytes()),recentBlockhash:In.decode(this.recentBlockhash),instructionsLength:new Uint8Array(i),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(c),serializedAddressTableLookups:o},d);return d.slice(0,w)}serializeInstructions(){let t=0;const n=new Uint8Array(ys);for(const i of this.compiledInstructions){const o=Array();ar(o,i.accountKeyIndexes.length);const c=Array();ar(c,i.data.length);const u=Q.struct([Q.u8("programIdIndex"),Q.blob(o.length,"encodedAccountKeyIndexesLength"),Q.seq(Q.u8(),i.accountKeyIndexes.length,"accountKeyIndexes"),Q.blob(c.length,"encodedDataLength"),Q.blob(i.data.length,"data")]);t+=u.encode({programIdIndex:i.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(o),accountKeyIndexes:i.accountKeyIndexes,encodedDataLength:new Uint8Array(c),data:i.data},n,t)}return n.slice(0,t)}serializeAddressTableLookups(){let t=0;const n=new Uint8Array(ys);for(const i of this.addressTableLookups){const o=Array();ar(o,i.writableIndexes.length);const c=Array();ar(c,i.readonlyIndexes.length);const u=Q.struct([ct("accountKey"),Q.blob(o.length,"encodedWritableIndexesLength"),Q.seq(Q.u8(),i.writableIndexes.length,"writableIndexes"),Q.blob(c.length,"encodedReadonlyIndexesLength"),Q.seq(Q.u8(),i.readonlyIndexes.length,"readonlyIndexes")]);t+=u.encode({accountKey:i.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(o),writableIndexes:i.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(c),readonlyIndexes:i.readonlyIndexes},n,t)}return n.slice(0,t)}static deserialize(t){let n=[...t];const i=Gr(n),o=i&Wu;wt(i!==o,"Expected versioned message but received legacy message");const c=o;wt(c===0,`Expected versioned message with version 0 but found version ${c}`);const u={numRequiredSignatures:Gr(n),numReadonlySignedAccounts:Gr(n),numReadonlyUnsignedAccounts:Gr(n)},d=[],g=Yn(n);for(let M=0;M<g;M++)d.push(new _e(Zn(n,0,Zr)));const w=In.encode(Zn(n,0,Zr)),E=Yn(n),I=[];for(let M=0;M<E;M++){const U=Gr(n),z=Yn(n),j=Zn(n,0,z),F=Yn(n),V=new Uint8Array(Zn(n,0,F));I.push({programIdIndex:U,accountKeyIndexes:j,data:V})}const k=Yn(n),R=[];for(let M=0;M<k;M++){const U=new _e(Zn(n,0,Zr)),z=Yn(n),j=Zn(n,0,z),F=Yn(n),V=Zn(n,0,F);R.push({accountKey:U,writableIndexes:j,readonlyIndexes:V})}return new ea({header:u,staticAccountKeys:d,recentBlockhash:w,compiledInstructions:I,addressTableLookups:R})}}const ap={deserializeMessageVersion(s){const t=s[0],n=t&Wu;return n===t?"legacy":n},deserialize:s=>{const t=ap.deserializeMessageVersion(s);if(t==="legacy")return kr.from(s);if(t===0)return ea.deserialize(s);throw new Error(`Transaction message version ${t} deserialization is not supported`)}};let vi=(function(s){return s[s.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",s[s.PROCESSED=1]="PROCESSED",s[s.TIMED_OUT=2]="TIMED_OUT",s[s.NONCE_INVALID=3]="NONCE_INVALID",s})({});const AT=Be.Buffer.alloc(Oc).fill(0);class xt{constructor(t){this.keys=void 0,this.programId=void 0,this.data=Be.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:n,isWritable:i})=>({pubkey:t.toJSON(),isSigner:n,isWritable:i})),programId:this.programId.toJSON(),data:[...this.data]}}}class yt{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:n,nonceInfo:i}=t;this.minNonceContextSlot=n,this.nonceInfo=i}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:i}=t;this.recentBlockhash=n,this.lastValidBlockHeight=i}else{const{recentBlockhash:n,nonceInfo:i}=t;i&&(this.nonceInfo=i),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new xt(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,n;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(t=this.recentBlockhash,n=this.instructions),!t)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let i;if(this.feePayer)i=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)i=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let U=0;U<n.length;U++)if(n[U].programId===void 0)throw new Error(`Transaction instruction index ${U} has undefined program id`);const o=[],c=[];n.forEach(U=>{U.keys.forEach(j=>{c.push({...j})});const z=U.programId.toString();o.includes(z)||o.push(z)}),o.forEach(U=>{c.push({pubkey:new _e(U),isSigner:!1,isWritable:!1})});const u=[];c.forEach(U=>{const z=U.pubkey.toString(),j=u.findIndex(F=>F.pubkey.toString()===z);j>-1?(u[j].isWritable=u[j].isWritable||U.isWritable,u[j].isSigner=u[j].isSigner||U.isSigner):u.push(U)}),u.sort(function(U,z){if(U.isSigner!==z.isSigner)return U.isSigner?-1:1;if(U.isWritable!==z.isWritable)return U.isWritable?-1:1;const j={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return U.pubkey.toBase58().localeCompare(z.pubkey.toBase58(),"en",j)});const d=u.findIndex(U=>U.pubkey.equals(i));if(d>-1){const[U]=u.splice(d,1);U.isSigner=!0,U.isWritable=!0,u.unshift(U)}else u.unshift({pubkey:i,isSigner:!0,isWritable:!0});for(const U of this.signatures){const z=u.findIndex(j=>j.pubkey.equals(U.publicKey));if(z>-1)u[z].isSigner||(u[z].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${U.publicKey.toString()}`)}let g=0,w=0,E=0;const I=[],k=[];u.forEach(({pubkey:U,isSigner:z,isWritable:j})=>{z?(I.push(U.toString()),g+=1,j||(w+=1)):(k.push(U.toString()),j||(E+=1))});const R=I.concat(k),M=n.map(U=>{const{data:z,programId:j}=U;return{programIdIndex:R.indexOf(j.toString()),accounts:U.keys.map(F=>R.indexOf(F.pubkey.toString())),data:In.encode(z)}});return M.forEach(U=>{wt(U.programIdIndex>=0),U.accounts.forEach(z=>wt(z>=0))}),new kr({header:{numRequiredSignatures:g,numReadonlySignedAccounts:w,numReadonlyUnsignedAccounts:E},accountKeys:R,recentBlockhash:t,instructions:M})}_compile(){const t=this.compileMessage(),n=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((o,c)=>n[c].equals(o.publicKey))||(this.signatures=n.map(i=>({signature:null,publicKey:i}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error("No signers");const n=new Set;this.signatures=t.filter(i=>{const o=i.toString();return n.has(o)?!1:(n.add(o),!0)}).map(i=>({signature:null,publicKey:i}))}sign(...t){if(t.length===0)throw new Error("No signers");const n=new Set,i=[];for(const c of t){const u=c.publicKey.toString();n.has(u)||(n.add(u),i.push(c))}this.signatures=i.map(c=>({signature:null,publicKey:c.publicKey}));const o=this._compile();this._partialSign(o,...i)}partialSign(...t){if(t.length===0)throw new Error("No signers");const n=new Set,i=[];for(const c of t){const u=c.publicKey.toString();n.has(u)||(n.add(u),i.push(c))}const o=this._compile();this._partialSign(o,...i)}_partialSign(t,...n){const i=t.serialize();n.forEach(o=>{const c=np(i,o.secretKey);this._addSignature(o.publicKey,it(c))})}addSignature(t,n){this._compile(),this._addSignature(t,n)}_addSignature(t,n){wt(n.length===64);const i=this.signatures.findIndex(o=>t.equals(o.publicKey));if(i<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[i].signature=Be.Buffer.from(n)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,n){const i={};for(const{signature:o,publicKey:c}of this.signatures)o===null?n&&(i.missing||=[]).push(c):pT(o,t,c.toBytes())||(i.invalid||=[]).push(c);return i.invalid||i.missing?i:void 0}serialize(t){const{requireAllSignatures:n,verifySignatures:i}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),o=this.serializeMessage();if(i){const c=this._getMessageSignednessErrors(o,n);if(c){let u="Signature verification failed.";throw c.invalid&&(u+=`
Invalid signature for public key${c.invalid.length===1?"":"(s)"} [\`${c.invalid.map(d=>d.toBase58()).join("`, `")}\`].`),c.missing&&(u+=`
Missing signature for public key${c.missing.length===1?"":"(s)"} [\`${c.missing.map(d=>d.toBase58()).join("`, `")}\`].`),new Error(u)}}return this._serialize(o)}_serialize(t){const{signatures:n}=this,i=[];ar(i,n.length);const o=i.length+n.length*64+t.length,c=Be.Buffer.alloc(o);return wt(n.length<256),Be.Buffer.from(i).copy(c,0),n.forEach(({signature:u},d)=>{u!==null&&(wt(u.length===64,"signature has invalid length"),Be.Buffer.from(u).copy(c,i.length+d*64))}),t.copy(c,i.length+n.length*64),wt(c.length<=ys,`Transaction too large: ${c.length} > ${ys}`),c}get keys(){return wt(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return wt(this.instructions.length===1),this.instructions[0].programId}get data(){return wt(this.instructions.length===1),this.instructions[0].data}static from(t){let n=[...t];const i=Yn(n);let o=[];for(let c=0;c<i;c++){const u=Zn(n,0,Oc);o.push(In.encode(Be.Buffer.from(u)))}return yt.populate(kr.from(n),o)}static populate(t,n=[]){const i=new yt;return i.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(i.feePayer=t.accountKeys[0]),n.forEach((o,c)=>{const u={signature:o==In.encode(AT)?null:In.decode(o),publicKey:t.accountKeys[c]};i.signatures.push(u)}),t.instructions.forEach(o=>{const c=o.accounts.map(u=>{const d=t.accountKeys[u];return{pubkey:d,isSigner:i.signatures.some(g=>g.publicKey.toString()===d.toString())||t.isAccountSigner(u),isWritable:t.isAccountWritable(u)}});i.instructions.push(new xt({keys:c,programId:t.accountKeys[o.programIdIndex],data:In.decode(o.data)}))}),i._message=t,i._json=i.toJSON(),i}}class op{constructor(t){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=t.payerKey,this.instructions=t.instructions,this.recentBlockhash=t.recentBlockhash}static decompile(t,n){const{header:i,compiledInstructions:o,recentBlockhash:c}=t,{numRequiredSignatures:u,numReadonlySignedAccounts:d,numReadonlyUnsignedAccounts:g}=i,w=u-d;wt(w>0,"Message header is invalid");const E=t.staticAccountKeys.length-u-g;wt(E>=0,"Message header is invalid");const I=t.getAccountKeys(n),k=I.get(0);if(k===void 0)throw new Error("Failed to decompile message because no account keys were found");const R=[];for(const M of o){const U=[];for(const j of M.accountKeyIndexes){const F=I.get(j);if(F===void 0)throw new Error(`Failed to find key for account key index ${j}`);const V=j<u;let $;V?$=j<w:j<I.staticAccountKeys.length?$=j-u<E:$=j-I.staticAccountKeys.length<I.accountKeysFromLookups.writable.length,U.push({pubkey:F,isSigner:j<i.numRequiredSignatures,isWritable:$})}const z=I.get(M.programIdIndex);if(z===void 0)throw new Error(`Failed to find program id for program id index ${M.programIdIndex}`);R.push(new xt({programId:z,data:it(M.data),keys:U}))}return new op({payerKey:k,instructions:R,recentBlockhash:c})}compileToLegacyMessage(){return kr.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(t){return ea.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:t})}}class cp{get version(){return this.message.version}constructor(t,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)wt(n.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const i=[];for(let o=0;o<t.header.numRequiredSignatures;o++)i.push(new Uint8Array(Oc));this.signatures=i}this.message=t}serialize(){const t=this.message.serialize(),n=Array();ar(n,this.signatures.length);const i=Q.struct([Q.blob(n.length,"encodedSignaturesLength"),Q.seq(wT(),this.signatures.length,"signatures"),Q.blob(t.length,"serializedMessage")]),o=new Uint8Array(2048),c=i.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:t},o);return o.slice(0,c)}static deserialize(t){let n=[...t];const i=[],o=Yn(n);for(let u=0;u<o;u++)i.push(new Uint8Array(Zn(n,0,Oc)));const c=ap.deserialize(new Uint8Array(n));return new cp(c,i)}sign(t){const n=this.message.serialize(),i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const o of t){const c=i.findIndex(u=>u.equals(o.publicKey));wt(c>=0,`Cannot sign with non signer key ${o.publicKey.toBase58()}`),this.signatures[c]=np(n,o.secretKey)}}addSignature(t,n){wt(n.byteLength===64,"Signature must be 64 bytes long");const o=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(c=>c.equals(t));wt(o>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[o]=n}}const RT=160,xT=64,TT=RT/xT,y_=1e3/TT,qr=new _e("SysvarC1ock11111111111111111111111111111111"),OT=new _e("SysvarEpochSchedu1e111111111111111111111111"),NT=new _e("Sysvar1nstructions1111111111111111111111111"),Su=new _e("SysvarRecentB1ockHashes11111111111111111111"),fo=new _e("SysvarRent111111111111111111111111111111111"),kT=new _e("SysvarRewards111111111111111111111111111111"),IT=new _e("SysvarS1otHashes111111111111111111111111111"),CT=new _e("SysvarS1otHistory11111111111111111111111111"),Au=new _e("SysvarStakeHistory1111111111111111111111111");class _s extends Error{constructor({action:t,signature:n,transactionMessage:i,logs:o}){const c=o?`Logs: 
${JSON.stringify(o.slice(-10),null,2)}. `:"",u="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let d;switch(t){case"send":d=`Transaction ${n} resulted in an error. 
${i}. `+c+u;break;case"simulate":d=`Simulation failed. 
Message: ${i}. 
`+c+u;break;default:d=`Unknown action '${(g=>g)(t)}'`}super(d),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=n,this.transactionMessage=i,this.transactionLogs=o||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const t=this.transactionLogs;if(!(t!=null&&typeof t=="object"&&"then"in t))return t}async getLogs(t){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((n,i)=>{t.getTransaction(this.signature).then(o=>{if(o&&o.meta&&o.meta.logMessages){const c=o.meta.logMessages;this.transactionLogs=c,n(c)}else i(new Error("Log messages not found"))}).catch(i)})),await this.transactionLogs}}const BT={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class He extends Error{constructor({code:t,message:n,data:i},o){super(o!=null?`${o}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=t,this.data=i,this.name="SolanaJSONRPCError"}}async function v0(s,t,n,i){const o=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,maxRetries:i.maxRetries,minContextSlot:i.minContextSlot},c=await s.sendTransaction(t,n,o);let u;if(t.recentBlockhash!=null&&t.lastValidBlockHeight!=null)u=(await s.confirmTransaction({abortSignal:i?.abortSignal,signature:c,blockhash:t.recentBlockhash,lastValidBlockHeight:t.lastValidBlockHeight},i&&i.commitment)).value;else if(t.minNonceContextSlot!=null&&t.nonceInfo!=null){const{nonceInstruction:d}=t.nonceInfo,g=d.keys[0].pubkey;u=(await s.confirmTransaction({abortSignal:i?.abortSignal,minContextSlot:t.minNonceContextSlot,nonceAccountPubkey:g,nonceValue:t.nonceInfo.nonce,signature:c},i&&i.commitment)).value}else i?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),u=(await s.confirmTransaction(c,i&&i.commitment)).value;if(u.err)throw c!=null?new _s({action:"send",signature:c,transactionMessage:`Status: (${JSON.stringify(u)})`}):new Error(`Transaction ${c} failed (${JSON.stringify(u)})`);return c}function Gs(s){return new Promise(t=>setTimeout(t,s))}function mt(s,t){const n=s.layout.span>=0?s.layout.span:p_(s,t),i=Be.Buffer.alloc(n),o=Object.assign({instruction:s.index},t);return s.layout.encode(o,i),i}function Et(s,t){let n;try{n=s.layout.decode(t)}catch(i){throw new Error("invalid instruction; "+i)}if(n.instruction!==s.index)throw new Error(`invalid instruction; instruction index mismatch ${n.instruction} != ${s.index}`);return n}const g_=Q.nu64("lamportsPerSignature"),b_=Q.struct([Q.u32("version"),Q.u32("state"),ct("authorizedPubkey"),ct("nonce"),Q.struct([g_],"feeCalculator")]),E0=b_.span;class Qu{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){const n=b_.decode(it(t),0);return new Qu({authorizedPubkey:new _e(n.authorizedPubkey),nonce:new _e(n.nonce).toString(),feeCalculator:n.feeCalculator})}}function ho(s){const t=Q.blob(8,s),n=t.decode.bind(t),i=t.encode.bind(t),o=t,c=cx();return o.decode=(u,d)=>{const g=n(u,d);return c.decode(g)},o.encode=(u,d,g)=>{const w=c.encode(u);return i(w,d,g)},o}class MT{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const i=Q.u32("instruction").decode(t.data);let o;for(const[c,u]of Object.entries(Dt))if(u.index==i){o=c;break}if(!o)throw new Error("Instruction type incorrect; not a SystemInstruction");return o}static decodeCreateAccount(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{lamports:n,space:i,programId:o}=Et(Dt.Create,t.data);return{fromPubkey:t.keys[0].pubkey,newAccountPubkey:t.keys[1].pubkey,lamports:n,space:i,programId:new _e(o)}}static decodeTransfer(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{lamports:n}=Et(Dt.Transfer,t.data);return{fromPubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,lamports:n}}static decodeTransferWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{lamports:n,seed:i,programId:o}=Et(Dt.TransferWithSeed,t.data);return{fromPubkey:t.keys[0].pubkey,basePubkey:t.keys[1].pubkey,toPubkey:t.keys[2].pubkey,lamports:n,seed:i,programId:new _e(o)}}static decodeAllocate(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{space:n}=Et(Dt.Allocate,t.data);return{accountPubkey:t.keys[0].pubkey,space:n}}static decodeAllocateWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{base:n,seed:i,space:o,programId:c}=Et(Dt.AllocateWithSeed,t.data);return{accountPubkey:t.keys[0].pubkey,basePubkey:new _e(n),seed:i,space:o,programId:new _e(c)}}static decodeAssign(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{programId:n}=Et(Dt.Assign,t.data);return{accountPubkey:t.keys[0].pubkey,programId:new _e(n)}}static decodeAssignWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{base:n,seed:i,programId:o}=Et(Dt.AssignWithSeed,t.data);return{accountPubkey:t.keys[0].pubkey,basePubkey:new _e(n),seed:i,programId:new _e(o)}}static decodeCreateWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{base:n,seed:i,lamports:o,space:c,programId:u}=Et(Dt.CreateWithSeed,t.data);return{fromPubkey:t.keys[0].pubkey,newAccountPubkey:t.keys[1].pubkey,basePubkey:new _e(n),seed:i,lamports:o,space:c,programId:new _e(u)}}static decodeNonceInitialize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{authorized:n}=Et(Dt.InitializeNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,authorizedPubkey:new _e(n)}}static decodeNonceAdvance(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),Et(Dt.AdvanceNonceAccount,t.data),{noncePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey}}static decodeNonceWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,5);const{lamports:n}=Et(Dt.WithdrawNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey,lamports:n}}static decodeNonceAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{authorized:n}=Et(Dt.AuthorizeNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[1].pubkey,newAuthorizedPubkey:new _e(n)}}static checkProgramId(t){if(!t.equals(pn.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(t,n){if(t.length<n)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${n}`)}}const Dt=Object.freeze({Create:{index:0,layout:Q.struct([Q.u32("instruction"),Q.ns64("lamports"),Q.ns64("space"),ct("programId")])},Assign:{index:1,layout:Q.struct([Q.u32("instruction"),ct("programId")])},Transfer:{index:2,layout:Q.struct([Q.u32("instruction"),ho("lamports")])},CreateWithSeed:{index:3,layout:Q.struct([Q.u32("instruction"),ct("base"),Xs("seed"),Q.ns64("lamports"),Q.ns64("space"),ct("programId")])},AdvanceNonceAccount:{index:4,layout:Q.struct([Q.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:Q.struct([Q.u32("instruction"),Q.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:Q.struct([Q.u32("instruction"),ct("authorized")])},AuthorizeNonceAccount:{index:7,layout:Q.struct([Q.u32("instruction"),ct("authorized")])},Allocate:{index:8,layout:Q.struct([Q.u32("instruction"),Q.ns64("space")])},AllocateWithSeed:{index:9,layout:Q.struct([Q.u32("instruction"),ct("base"),Xs("seed"),Q.ns64("space"),ct("programId")])},AssignWithSeed:{index:10,layout:Q.struct([Q.u32("instruction"),ct("base"),Xs("seed"),ct("programId")])},TransferWithSeed:{index:11,layout:Q.struct([Q.u32("instruction"),ho("lamports"),Xs("seed"),ct("programId")])},UpgradeNonceAccount:{index:12,layout:Q.struct([Q.u32("instruction")])}});class pn{constructor(){}static createAccount(t){const n=Dt.Create,i=mt(n,{lamports:t.lamports,space:t.space,programId:it(t.programId.toBuffer())});return new xt({keys:[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:i})}static transfer(t){let n,i;if("basePubkey"in t){const o=Dt.TransferWithSeed;n=mt(o,{lamports:BigInt(t.lamports),seed:t.seed,programId:it(t.programId.toBuffer())}),i=[{pubkey:t.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}else{const o=Dt.Transfer;n=mt(o,{lamports:BigInt(t.lamports)}),i=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}return new xt({keys:i,programId:this.programId,data:n})}static assign(t){let n,i;if("basePubkey"in t){const o=Dt.AssignWithSeed;n=mt(o,{base:it(t.basePubkey.toBuffer()),seed:t.seed,programId:it(t.programId.toBuffer())}),i=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{const o=Dt.Assign;n=mt(o,{programId:it(t.programId.toBuffer())}),i=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new xt({keys:i,programId:this.programId,data:n})}static createAccountWithSeed(t){const n=Dt.CreateWithSeed,i=mt(n,{base:it(t.basePubkey.toBuffer()),seed:t.seed,lamports:t.lamports,space:t.space,programId:it(t.programId.toBuffer())});let o=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!1,isWritable:!0}];return t.basePubkey.equals(t.fromPubkey)||o.push({pubkey:t.basePubkey,isSigner:!0,isWritable:!1}),new xt({keys:o,programId:this.programId,data:i})}static createNonceAccount(t){const n=new yt;"basePubkey"in t&&"seed"in t?n.add(pn.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:E0,programId:this.programId})):n.add(pn.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:E0,programId:this.programId}));const i={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return n.add(this.nonceInitialize(i)),n}static nonceInitialize(t){const n=Dt.InitializeNonceAccount,i=mt(n,{authorized:it(t.authorizedPubkey.toBuffer())}),o={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Su,isSigner:!1,isWritable:!1},{pubkey:fo,isSigner:!1,isWritable:!1}],programId:this.programId,data:i};return new xt(o)}static nonceAdvance(t){const n=Dt.AdvanceNonceAccount,i=mt(n),o={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Su,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new xt(o)}static nonceWithdraw(t){const n=Dt.WithdrawNonceAccount,i=mt(n,{lamports:t.lamports});return new xt({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Su,isSigner:!1,isWritable:!1},{pubkey:fo,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static nonceAuthorize(t){const n=Dt.AuthorizeNonceAccount,i=mt(n,{authorized:it(t.newAuthorizedPubkey.toBuffer())});return new xt({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static allocate(t){let n,i;if("basePubkey"in t){const o=Dt.AllocateWithSeed;n=mt(o,{base:it(t.basePubkey.toBuffer()),seed:t.seed,space:t.space,programId:it(t.programId.toBuffer())}),i=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{const o=Dt.Allocate;n=mt(o,{space:t.space}),i=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new xt({keys:i,programId:this.programId,data:n})}}pn.programId=new _e("11111111111111111111111111111111");const UT=ys-300;class ta{constructor(){}static getMinNumSignatures(t){return 2*(Math.ceil(t/ta.chunkSize)+1+1)}static async load(t,n,i,o,c){{const I=await t.getMinimumBalanceForRentExemption(c.length),k=await t.getAccountInfo(i.publicKey,"confirmed");let R=null;if(k!==null){if(k.executable)return console.error("Program load failed, account is already executable"),!1;k.data.length!==c.length&&(R=R||new yt,R.add(pn.allocate({accountPubkey:i.publicKey,space:c.length}))),k.owner.equals(o)||(R=R||new yt,R.add(pn.assign({accountPubkey:i.publicKey,programId:o}))),k.lamports<I&&(R=R||new yt,R.add(pn.transfer({fromPubkey:n.publicKey,toPubkey:i.publicKey,lamports:I-k.lamports})))}else R=new yt().add(pn.createAccount({fromPubkey:n.publicKey,newAccountPubkey:i.publicKey,lamports:I>0?I:1,space:c.length,programId:o}));R!==null&&await v0(t,R,[n,i],{commitment:"confirmed"})}const u=Q.struct([Q.u32("instruction"),Q.u32("offset"),Q.u32("bytesLength"),Q.u32("bytesLengthPadding"),Q.seq(Q.u8("byte"),Q.offset(Q.u32(),-8),"bytes")]),d=ta.chunkSize;let g=0,w=c,E=[];for(;w.length>0;){const I=w.slice(0,d),k=Be.Buffer.alloc(d+16);u.encode({instruction:0,offset:g,bytes:I,bytesLength:0,bytesLengthPadding:0},k);const R=new yt().add({keys:[{pubkey:i.publicKey,isSigner:!0,isWritable:!0}],programId:o,data:k});E.push(v0(t,R,[n,i],{commitment:"confirmed"})),t._rpcEndpoint.includes("solana.com")&&await Gs(1e3/4),g+=d,w=w.slice(d)}await Promise.all(E);{const I=Q.struct([Q.u32("instruction")]),k=Be.Buffer.alloc(I.span);I.encode({instruction:1},k);const R=new yt().add({keys:[{pubkey:i.publicKey,isSigner:!0,isWritable:!0},{pubkey:fo,isSigner:!1,isWritable:!1}],programId:o,data:k}),M="processed",U=await t.sendTransaction(R,[n,i],{preflightCommitment:M}),{context:z,value:j}=await t.confirmTransaction({signature:U,lastValidBlockHeight:R.lastValidBlockHeight,blockhash:R.recentBlockhash},M);if(j.err)throw new Error(`Transaction ${U} failed (${JSON.stringify(j)})`);for(;;){try{if(await t.getSlot({commitment:M})>z.slot)break}catch{}await new Promise(F=>setTimeout(F,Math.round(y_/2)))}}return!0}}ta.chunkSize=UT;const DT=new _e("BPFLoader2111111111111111111111111111111111");class LT{static getMinNumSignatures(t){return ta.getMinNumSignatures(t)}static load(t,n,i,o,c){return ta.load(t,n,i,c,o)}}function zT(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Yh,sb;function HT(){if(sb)return Yh;sb=1;var s=Object.prototype.toString,t=Object.keys||function(i){var o=[];for(var c in i)o.push(c);return o};function n(i,o){var c,u,d,g,w,E,I;if(i===!0)return"true";if(i===!1)return"false";switch(typeof i){case"object":if(i===null)return null;if(i.toJSON&&typeof i.toJSON=="function")return n(i.toJSON(),o);if(I=s.call(i),I==="[object Array]"){for(d="[",u=i.length-1,c=0;c<u;c++)d+=n(i[c],!0)+",";return u>-1&&(d+=n(i[c],!0)),d+"]"}else if(I==="[object Object]"){for(g=t(i).sort(),u=g.length,d="",c=0;c<u;)w=g[c],E=n(i[w],!1),E!==void 0&&(d&&(d+=","),d+=JSON.stringify(w)+":"+E),c++;return"{"+d+"}"}else return JSON.stringify(i);case"function":case"undefined":return o?null:void 0;case"string":return JSON.stringify(i);default:return isFinite(i)?i:null}}return Yh=function(i){var o=n(i,!1);if(o!==void 0)return""+o},Yh}var jT=HT(),ab=zT(jT);const yc=32;function Zh(s){let t=0;for(;s>1;)s/=2,t++;return t}function PT(s){return s===0?1:(s--,s|=s>>1,s|=s>>2,s|=s>>4,s|=s>>8,s|=s>>16,s|=s>>32,s+1)}class w_{constructor(t,n,i,o,c){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=n,this.warmup=i,this.firstNormalEpoch=o,this.firstNormalSlot=c}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){const n=Zh(PT(t+yc+1))-Zh(yc)-1,i=this.getSlotsInEpoch(n),o=t-(i-yc);return[n,o]}else{const n=t-this.firstNormalSlot,i=Math.floor(n/this.slotsPerEpoch),o=this.firstNormalEpoch+i,c=n%this.slotsPerEpoch;return[o,c]}}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?(Math.pow(2,t)-1)*yc:(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+Zh(yc)):this.slotsPerEpoch}}var qT=globalThis.fetch;class KT extends Vx{constructor(t,n,i){const o=c=>{const u=qx(c,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in u?this.underlyingSocket=u.socket:this.underlyingSocket=u,u};super(o,t,n,i),this.underlyingSocket=void 0}call(...t){const n=this.underlyingSocket?.readyState;return n===1?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...t){const n=this.underlyingSocket?.readyState;return n===1?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}}function VT(s,t){let n;try{n=s.layout.decode(t)}catch(i){throw new Error("invalid instruction; "+i)}if(n.typeIndex!==s.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${s.index}`);return n}const ob=56;class S0{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){const t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){const n=VT(GT,t),i=t.length-ob;wt(i>=0,"lookup table is invalid"),wt(i%32===0,"lookup table is invalid");const o=i/32,{addresses:c}=Q.struct([Q.seq(ct(),o,"addresses")]).decode(t.slice(ob));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new _e(n.authority[0]):void 0,addresses:c.map(u=>new _e(u))}}}const GT={index:1,layout:Q.struct([Q.u32("typeIndex"),ho("deactivationSlot"),Q.nu64("lastExtendedSlot"),Q.u8("lastExtendedStartIndex"),Q.u8(),Q.seq(ct(),Q.offset(Q.u8(),-1),"authority")])},FT=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function YT(s){const t=s.match(FT);if(t==null)throw TypeError(`Failed to validate endpoint URL \`${s}\``);const[n,i,o,c]=t,u=s.startsWith("https:")?"wss:":"ws:",d=o==null?null:parseInt(o.slice(1),10),g=d==null?"":`:${d+1}`;return`${u}//${i}${g}${c}`}const en=Hc($0(_e),xe(),s=>new _e(s)),__=Q0([xe(),Jt("base64")]),lp=Hc($0(Be.Buffer),__,s=>Be.Buffer.from(s[0],"base64")),v_=30*1e3;function ZT(s){if(/^https?:/.test(s)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return s}function Ut(s){let t,n;if(typeof s=="string")t=s;else if(s){const{commitment:i,...o}=s;t=i,n=o}return{commitment:t,config:n}}function cb(s){return s.map(t=>"memcmp"in t?{...t,memcmp:{...t.memcmp,encoding:t.memcmp.encoding??"base58"}}:t)}function E_(s){return jn([Se({jsonrpc:Jt("2.0"),id:xe(),result:s}),Se({jsonrpc:Jt("2.0"),id:xe(),error:Se({code:go(),message:xe(),data:Ke(px())})})])}const XT=E_(go());function rt(s){return Hc(E_(s),XT,t=>"error"in t?t:{...t,result:Te(t.result,s)})}function dn(s){return rt(Se({context:Se({slot:fe()}),value:s}))}function Ju(s){return Se({context:Se({slot:fe()}),value:s})}function Xh(s,t){return s===0?new ea({header:t.header,staticAccountKeys:t.accountKeys.map(n=>new _e(n)),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:In.decode(n.data)})),addressTableLookups:t.addressTableLookups}):new kr(t)}const WT=Se({foundation:fe(),foundationTerm:fe(),initial:fe(),taper:fe(),terminal:fe()}),$T=rt(Ne(ke(Se({epoch:fe(),effectiveSlot:fe(),amount:fe(),postBalance:fe(),commission:Ke(ke(fe()))})))),QT=Ne(Se({slot:fe(),prioritizationFee:fe()})),JT=Se({total:fe(),validator:fe(),foundation:fe(),epoch:fe()}),eO=Se({epoch:fe(),slotIndex:fe(),slotsInEpoch:fe(),absoluteSlot:fe(),blockHeight:Ke(fe()),transactionCount:Ke(fe())}),tO=Se({slotsPerEpoch:fe(),leaderScheduleSlotOffset:fe(),warmup:Xr(),firstNormalEpoch:fe(),firstNormalSlot:fe()}),nO=Ww(xe(),Ne(fe())),sa=ke(jn([Se({}),xe()])),rO=Se({err:sa}),iO=Jt("receivedSignature"),sO=Se({"solana-core":xe(),"feature-set":Ke(fe())}),aO=Se({program:xe(),programId:en,parsed:go()}),oO=Se({programId:en,accounts:Ne(en),data:xe()}),lb=dn(Se({err:ke(jn([Se({}),xe()])),logs:ke(Ne(xe())),accounts:Ke(ke(Ne(ke(Se({executable:Xr(),owner:xe(),lamports:fe(),data:Ne(xe()),rentEpoch:Ke(fe())}))))),unitsConsumed:Ke(fe()),returnData:Ke(ke(Se({programId:xe(),data:Q0([xe(),Jt("base64")])}))),innerInstructions:Ke(ke(Ne(Se({index:fe(),instructions:Ne(jn([aO,oO]))}))))})),cO=dn(Se({byIdentity:Ww(xe(),Ne(fe())),range:Se({firstSlot:fe(),lastSlot:fe()})}));function lO(s,t,n,i,o,c){const u=n||qT;let d;c!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let g;return i&&(g=async(E,I)=>{const k=await new Promise((R,M)=>{try{i(E,I,(U,z)=>R([U,z]))}catch(U){M(U)}});return await u(...k)}),new zx(async(E,I)=>{const k={method:"POST",body:E,agent:d,headers:Object.assign({"Content-Type":"application/json"},t||{},lN)};try{let R=5,M,U=500;for(;g?M=await g(s,k):M=await u(s,k),!(M.status!==429||o===!0||(R-=1,R===0));)console.error(`Server responded with ${M.status} ${M.statusText}.  Retrying after ${U}ms delay...`),await Gs(U),U*=2;const z=await M.text();M.ok?I(null,z):I(new Error(`${M.status} ${M.statusText}: ${z}`))}catch(R){R instanceof Error&&I(R)}},{})}function uO(s){return(t,n)=>new Promise((i,o)=>{s.request(t,n,(c,u)=>{if(c){o(c);return}i(u)})})}function fO(s){return t=>new Promise((n,i)=>{t.length===0&&n([]);const o=t.map(c=>s.request(c.methodName,c.args));s.request(o,(c,u)=>{if(c){i(c);return}n(u)})})}const dO=rt(WT),hO=rt(JT),pO=rt(QT),mO=rt(eO),yO=rt(tO),gO=rt(nO),bO=rt(fe()),wO=dn(Se({total:fe(),circulating:fe(),nonCirculating:fe(),nonCirculatingAccounts:Ne(en)})),A0=Se({amount:xe(),uiAmount:ke(fe()),decimals:fe(),uiAmountString:Ke(xe())}),_O=dn(Ne(Se({address:en,amount:xe(),uiAmount:ke(fe()),decimals:fe(),uiAmountString:Ke(xe())}))),vO=dn(Ne(Se({pubkey:en,account:Se({executable:Xr(),owner:en,lamports:fe(),data:lp,rentEpoch:fe()})}))),R0=Se({program:xe(),parsed:go(),space:fe()}),EO=dn(Ne(Se({pubkey:en,account:Se({executable:Xr(),owner:en,lamports:fe(),data:R0,rentEpoch:fe()})}))),SO=dn(Ne(Se({lamports:fe(),address:en}))),kc=Se({executable:Xr(),owner:en,lamports:fe(),data:lp,rentEpoch:fe()}),AO=Se({pubkey:en,account:kc}),RO=Hc(jn([$0(Be.Buffer),R0]),jn([__,R0]),s=>Array.isArray(s)?Te(s,lp):s),x0=Se({executable:Xr(),owner:en,lamports:fe(),data:RO,rentEpoch:fe()}),xO=Se({pubkey:en,account:x0}),TO=Se({state:jn([Jt("active"),Jt("inactive"),Jt("activating"),Jt("deactivating")]),active:fe(),inactive:fe()}),OO=rt(Ne(Se({signature:xe(),slot:fe(),err:sa,memo:ke(xe()),blockTime:Ke(ke(fe()))}))),NO=rt(Ne(Se({signature:xe(),slot:fe(),err:sa,memo:ke(xe()),blockTime:Ke(ke(fe()))}))),kO=Se({subscription:fe(),result:Ju(kc)}),IO=Se({pubkey:en,account:kc}),CO=Se({subscription:fe(),result:Ju(IO)}),BO=Se({parent:fe(),slot:fe(),root:fe()}),MO=Se({subscription:fe(),result:BO}),UO=jn([Se({type:jn([Jt("firstShredReceived"),Jt("completed"),Jt("optimisticConfirmation"),Jt("root")]),slot:fe(),timestamp:fe()}),Se({type:Jt("createdBank"),parent:fe(),slot:fe(),timestamp:fe()}),Se({type:Jt("frozen"),slot:fe(),timestamp:fe(),stats:Se({numTransactionEntries:fe(),numSuccessfulTransactions:fe(),numFailedTransactions:fe(),maxTransactionsPerEntry:fe()})}),Se({type:Jt("dead"),slot:fe(),timestamp:fe(),err:xe()})]),DO=Se({subscription:fe(),result:UO}),LO=Se({subscription:fe(),result:Ju(jn([rO,iO]))}),zO=Se({subscription:fe(),result:fe()}),HO=Se({pubkey:xe(),gossip:ke(xe()),tpu:ke(xe()),rpc:ke(xe()),version:ke(xe())}),ub=Se({votePubkey:xe(),nodePubkey:xe(),activatedStake:fe(),epochVoteAccount:Xr(),epochCredits:Ne(Q0([fe(),fe(),fe()])),commission:fe(),lastVote:fe(),rootSlot:ke(fe())}),jO=rt(Se({current:Ne(ub),delinquent:Ne(ub)})),PO=jn([Jt("processed"),Jt("confirmed"),Jt("finalized")]),qO=Se({slot:fe(),confirmations:ke(fe()),err:sa,confirmationStatus:Ke(PO)}),KO=dn(Ne(ke(qO))),VO=rt(fe()),S_=Se({accountKey:en,writableIndexes:Ne(fe()),readonlyIndexes:Ne(fe())}),up=Se({signatures:Ne(xe()),message:Se({accountKeys:Ne(xe()),header:Se({numRequiredSignatures:fe(),numReadonlySignedAccounts:fe(),numReadonlyUnsignedAccounts:fe()}),instructions:Ne(Se({accounts:Ne(fe()),data:xe(),programIdIndex:fe()})),recentBlockhash:xe(),addressTableLookups:Ke(Ne(S_))})}),A_=Se({pubkey:en,signer:Xr(),writable:Xr(),source:Ke(jn([Jt("transaction"),Jt("lookupTable")]))}),R_=Se({accountKeys:Ne(A_),signatures:Ne(xe())}),x_=Se({parsed:go(),program:xe(),programId:en}),T_=Se({accounts:Ne(en),data:xe(),programId:en}),GO=jn([T_,x_]),FO=jn([Se({parsed:go(),program:xe(),programId:xe()}),Se({accounts:Ne(xe()),data:xe(),programId:xe()})]),O_=Hc(GO,FO,s=>"accounts"in s?Te(s,T_):Te(s,x_)),N_=Se({signatures:Ne(xe()),message:Se({accountKeys:Ne(A_),instructions:Ne(O_),recentBlockhash:xe(),addressTableLookups:Ke(ke(Ne(S_)))})}),Lu=Se({accountIndex:fe(),mint:xe(),owner:Ke(xe()),programId:Ke(xe()),uiTokenAmount:A0}),k_=Se({writable:Ne(en),readonly:Ne(en)}),ef=Se({err:sa,fee:fe(),innerInstructions:Ke(ke(Ne(Se({index:fe(),instructions:Ne(Se({accounts:Ne(fe()),data:xe(),programIdIndex:fe()}))})))),preBalances:Ne(fe()),postBalances:Ne(fe()),logMessages:Ke(ke(Ne(xe()))),preTokenBalances:Ke(ke(Ne(Lu))),postTokenBalances:Ke(ke(Ne(Lu))),loadedAddresses:Ke(k_),computeUnitsConsumed:Ke(fe()),costUnits:Ke(fe())}),fp=Se({err:sa,fee:fe(),innerInstructions:Ke(ke(Ne(Se({index:fe(),instructions:Ne(O_)})))),preBalances:Ne(fe()),postBalances:Ne(fe()),logMessages:Ke(ke(Ne(xe()))),preTokenBalances:Ke(ke(Ne(Lu))),postTokenBalances:Ke(ke(Ne(Lu))),loadedAddresses:Ke(k_),computeUnitsConsumed:Ke(fe()),costUnits:Ke(fe())}),bo=jn([Jt(0),Jt("legacy")]),aa=Se({pubkey:xe(),lamports:fe(),postBalance:ke(fe()),rewardType:ke(xe()),commission:Ke(ke(fe()))}),YO=rt(ke(Se({blockhash:xe(),previousBlockhash:xe(),parentSlot:fe(),transactions:Ne(Se({transaction:up,meta:ke(ef),version:Ke(bo)})),rewards:Ke(Ne(aa)),blockTime:ke(fe()),blockHeight:ke(fe())}))),ZO=rt(ke(Se({blockhash:xe(),previousBlockhash:xe(),parentSlot:fe(),rewards:Ke(Ne(aa)),blockTime:ke(fe()),blockHeight:ke(fe())}))),XO=rt(ke(Se({blockhash:xe(),previousBlockhash:xe(),parentSlot:fe(),transactions:Ne(Se({transaction:R_,meta:ke(ef),version:Ke(bo)})),rewards:Ke(Ne(aa)),blockTime:ke(fe()),blockHeight:ke(fe())}))),WO=rt(ke(Se({blockhash:xe(),previousBlockhash:xe(),parentSlot:fe(),transactions:Ne(Se({transaction:N_,meta:ke(fp),version:Ke(bo)})),rewards:Ke(Ne(aa)),blockTime:ke(fe()),blockHeight:ke(fe())}))),$O=rt(ke(Se({blockhash:xe(),previousBlockhash:xe(),parentSlot:fe(),transactions:Ne(Se({transaction:R_,meta:ke(fp),version:Ke(bo)})),rewards:Ke(Ne(aa)),blockTime:ke(fe()),blockHeight:ke(fe())}))),QO=rt(ke(Se({blockhash:xe(),previousBlockhash:xe(),parentSlot:fe(),rewards:Ke(Ne(aa)),blockTime:ke(fe()),blockHeight:ke(fe())}))),JO=rt(ke(Se({blockhash:xe(),previousBlockhash:xe(),parentSlot:fe(),transactions:Ne(Se({transaction:up,meta:ke(ef)})),rewards:Ke(Ne(aa)),blockTime:ke(fe())}))),fb=rt(ke(Se({blockhash:xe(),previousBlockhash:xe(),parentSlot:fe(),signatures:Ne(xe()),blockTime:ke(fe())}))),Wh=rt(ke(Se({slot:fe(),meta:ke(ef),blockTime:Ke(ke(fe())),transaction:up,version:Ke(bo)}))),uu=rt(ke(Se({slot:fe(),transaction:N_,meta:ke(fp),blockTime:Ke(ke(fe())),version:Ke(bo)}))),eN=dn(Se({blockhash:xe(),lastValidBlockHeight:fe()})),tN=dn(Xr()),nN=Se({slot:fe(),numTransactions:fe(),numSlots:fe(),samplePeriodSecs:fe()}),rN=rt(Ne(nN)),iN=dn(ke(Se({feeCalculator:Se({lamportsPerSignature:fe()})}))),sN=rt(xe()),aN=rt(xe()),oN=Se({err:sa,logs:Ne(xe()),signature:xe()}),cN=Se({result:Ju(oN),subscription:fe()}),lN={"solana-client":"js/1.0.0-maintenance"};class dp{constructor(t,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const w={};return async E=>{const{commitment:I,config:k}=Ut(E),R=this._buildArgs([],I,void 0,k),M=ab(R);return w[M]=w[M]??(async()=>{try{const U=await this._rpcRequest("getBlockHeight",R),z=Te(U,rt(fe()));if("error"in z)throw new He(z.error,"failed to get block height information");return z.result}finally{delete w[M]}})(),await w[M]}})();let i,o,c,u,d,g;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,i=n.wsEndpoint,o=n.httpHeaders,c=n.fetch,u=n.fetchMiddleware,d=n.disableRetryOnRateLimit,g=n.httpAgent),this._rpcEndpoint=ZT(t),this._rpcWsEndpoint=i||YT(t),this._rpcClient=lO(t,o,c,u,d,g),this._rpcRequest=uO(this._rpcClient),this._rpcBatchRequest=fO(this._rpcClient),this._rpcWebSocket=new KT(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(t,n){const{commitment:i,config:o}=Ut(n),c=this._buildArgs([t.toBase58()],i,void 0,o),u=await this._rpcRequest("getBalance",c),d=Te(u,dn(fe()));if("error"in d)throw new He(d.error,`failed to get balance for ${t.toBase58()}`);return d.result}async getBalance(t,n){return await this.getBalanceAndContext(t,n).then(i=>i.value).catch(i=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+i)})}async getBlockTime(t){const n=await this._rpcRequest("getBlockTime",[t]),i=Te(n,rt(ke(fe())));if("error"in i)throw new He(i.error,`failed to get block time for slot ${t}`);return i.result}async getMinimumLedgerSlot(){const t=await this._rpcRequest("minimumLedgerSlot",[]),n=Te(t,rt(fe()));if("error"in n)throw new He(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const t=await this._rpcRequest("getFirstAvailableBlock",[]),n=Te(t,bO);if("error"in n)throw new He(n.error,"failed to get first available block");return n.result}async getSupply(t){let n={};typeof t=="string"?n={commitment:t}:t?n={...t,commitment:t&&t.commitment||this.commitment}:n={commitment:this.commitment};const i=await this._rpcRequest("getSupply",[n]),o=Te(i,wO);if("error"in o)throw new He(o.error,"failed to get supply");return o.result}async getTokenSupply(t,n){const i=this._buildArgs([t.toBase58()],n),o=await this._rpcRequest("getTokenSupply",i),c=Te(o,dn(A0));if("error"in c)throw new He(c.error,"failed to get token supply");return c.result}async getTokenAccountBalance(t,n){const i=this._buildArgs([t.toBase58()],n),o=await this._rpcRequest("getTokenAccountBalance",i),c=Te(o,dn(A0));if("error"in c)throw new He(c.error,"failed to get token account balance");return c.result}async getTokenAccountsByOwner(t,n,i){const{commitment:o,config:c}=Ut(i);let u=[t.toBase58()];"mint"in n?u.push({mint:n.mint.toBase58()}):u.push({programId:n.programId.toBase58()});const d=this._buildArgs(u,o,"base64",c),g=await this._rpcRequest("getTokenAccountsByOwner",d),w=Te(g,vO);if("error"in w)throw new He(w.error,`failed to get token accounts owned by account ${t.toBase58()}`);return w.result}async getParsedTokenAccountsByOwner(t,n,i){let o=[t.toBase58()];"mint"in n?o.push({mint:n.mint.toBase58()}):o.push({programId:n.programId.toBase58()});const c=this._buildArgs(o,i,"jsonParsed"),u=await this._rpcRequest("getTokenAccountsByOwner",c),d=Te(u,EO);if("error"in d)throw new He(d.error,`failed to get token accounts owned by account ${t.toBase58()}`);return d.result}async getLargestAccounts(t){const n={...t,commitment:t&&t.commitment||this.commitment},i=n.filter||n.commitment?[n]:[],o=await this._rpcRequest("getLargestAccounts",i),c=Te(o,SO);if("error"in c)throw new He(c.error,"failed to get largest accounts");return c.result}async getTokenLargestAccounts(t,n){const i=this._buildArgs([t.toBase58()],n),o=await this._rpcRequest("getTokenLargestAccounts",i),c=Te(o,_O);if("error"in c)throw new He(c.error,"failed to get token largest accounts");return c.result}async getAccountInfoAndContext(t,n){const{commitment:i,config:o}=Ut(n),c=this._buildArgs([t.toBase58()],i,"base64",o),u=await this._rpcRequest("getAccountInfo",c),d=Te(u,dn(ke(kc)));if("error"in d)throw new He(d.error,`failed to get info about account ${t.toBase58()}`);return d.result}async getParsedAccountInfo(t,n){const{commitment:i,config:o}=Ut(n),c=this._buildArgs([t.toBase58()],i,"jsonParsed",o),u=await this._rpcRequest("getAccountInfo",c),d=Te(u,dn(ke(x0)));if("error"in d)throw new He(d.error,`failed to get info about account ${t.toBase58()}`);return d.result}async getAccountInfo(t,n){try{return(await this.getAccountInfoAndContext(t,n)).value}catch(i){throw new Error("failed to get info about account "+t.toBase58()+": "+i)}}async getMultipleParsedAccounts(t,n){const{commitment:i,config:o}=Ut(n),c=t.map(w=>w.toBase58()),u=this._buildArgs([c],i,"jsonParsed",o),d=await this._rpcRequest("getMultipleAccounts",u),g=Te(d,dn(Ne(ke(x0))));if("error"in g)throw new He(g.error,`failed to get info for accounts ${c}`);return g.result}async getMultipleAccountsInfoAndContext(t,n){const{commitment:i,config:o}=Ut(n),c=t.map(w=>w.toBase58()),u=this._buildArgs([c],i,"base64",o),d=await this._rpcRequest("getMultipleAccounts",u),g=Te(d,dn(Ne(ke(kc))));if("error"in g)throw new He(g.error,`failed to get info for accounts ${c}`);return g.result}async getMultipleAccountsInfo(t,n){return(await this.getMultipleAccountsInfoAndContext(t,n)).value}async getStakeActivation(t,n,i){const{commitment:o,config:c}=Ut(n),u=this._buildArgs([t.toBase58()],o,void 0,{...c,epoch:i??c?.epoch}),d=await this._rpcRequest("getStakeActivation",u),g=Te(d,rt(TO));if("error"in g)throw new He(g.error,`failed to get Stake Activation ${t.toBase58()}`);return g.result}async getProgramAccounts(t,n){const{commitment:i,config:o}=Ut(n),{encoding:c,...u}=o||{},d=this._buildArgs([t.toBase58()],i,c||"base64",{...u,...u.filters?{filters:cb(u.filters)}:null}),g=await this._rpcRequest("getProgramAccounts",d),w=Ne(AO),E=u.withContext===!0?Te(g,dn(w)):Te(g,rt(w));if("error"in E)throw new He(E.error,`failed to get accounts owned by program ${t.toBase58()}`);return E.result}async getParsedProgramAccounts(t,n){const{commitment:i,config:o}=Ut(n),c=this._buildArgs([t.toBase58()],i,"jsonParsed",o),u=await this._rpcRequest("getProgramAccounts",c),d=Te(u,rt(Ne(xO)));if("error"in d)throw new He(d.error,`failed to get accounts owned by program ${t.toBase58()}`);return d.result}async confirmTransaction(t,n){let i;if(typeof t=="string")i=t;else{const c=t;if(c.abortSignal?.aborted)return Promise.reject(c.abortSignal.reason);i=c.signature}let o;try{o=In.decode(i)}catch{throw new Error("signature must be base58 encoded: "+i)}return wt(o.length===64,"signature has invalid length"),typeof t=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:i}):"lastValidBlockHeight"in t?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:t}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:t})}getCancellationPromise(t){return new Promise((n,i)=>{t!=null&&(t.aborted?i(t.reason):t.addEventListener("abort",()=>{i(t.reason)}))})}getTransactionConfirmationPromise({commitment:t,signature:n}){let i,o,c=!1;const u=new Promise((g,w)=>{try{i=this.onSignature(n,(I,k)=>{i=void 0;const R={context:k,value:I};g({__type:vi.PROCESSED,response:R})},t);const E=new Promise(I=>{i==null?I():o=this._onSubscriptionStateChange(i,k=>{k==="subscribed"&&I()})});(async()=>{if(await E,c)return;const I=await this.getSignatureStatus(n);if(c||I==null)return;const{context:k,value:R}=I;if(R!=null)if(R?.err)w(R.err);else{switch(t){case"confirmed":case"single":case"singleGossip":{if(R.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(R.confirmationStatus==="processed"||R.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}c=!0,g({__type:vi.PROCESSED,response:{context:k,value:R}})}})()}catch(E){w(E)}});return{abortConfirmation:()=>{o&&(o(),o=void 0),i!=null&&(this.removeSignatureListener(i),i=void 0)},confirmationPromise:u}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:n,lastValidBlockHeight:i,signature:o}}){let c=!1;const u=new Promise(I=>{const k=async()=>{try{return await this.getBlockHeight(t)}catch{return-1}};(async()=>{let R=await k();if(!c){for(;R<=i;)if(await Gs(1e3),c||(R=await k(),c))return;I({__type:vi.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:d,confirmationPromise:g}=this.getTransactionConfirmationPromise({commitment:t,signature:o}),w=this.getCancellationPromise(n);let E;try{const I=await Promise.race([w,g,u]);if(I.__type===vi.PROCESSED)E=I.response;else throw new ip(o)}finally{c=!0,d()}return E}async confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:n,minContextSlot:i,nonceAccountPubkey:o,nonceValue:c,signature:u}}){let d=!1;const g=new Promise(R=>{let M=c,U=null;const z=async()=>{try{const{context:j,value:F}=await this.getNonceAndContext(o,{commitment:t,minContextSlot:i});return U=j.slot,F?.nonce}catch{return M}};(async()=>{if(M=await z(),!d)for(;;){if(c!==M){R({__type:vi.NONCE_INVALID,slotInWhichNonceDidAdvance:U});return}if(await Gs(2e3),d||(M=await z(),d))return}})()}),{abortConfirmation:w,confirmationPromise:E}=this.getTransactionConfirmationPromise({commitment:t,signature:u}),I=this.getCancellationPromise(n);let k;try{const R=await Promise.race([I,E,g]);if(R.__type===vi.PROCESSED)k=R.response;else{let M;for(;;){const U=await this.getSignatureStatus(u);if(U==null)break;if(U.context.slot<(R.slotInWhichNonceDidAdvance??i)){await Gs(400);continue}M=U;break}if(M?.value){const U=t||"finalized",{confirmationStatus:z}=M.value;switch(U){case"processed":case"recent":if(z!=="processed"&&z!=="confirmed"&&z!=="finalized")throw new to(u);break;case"confirmed":case"single":case"singleGossip":if(z!=="confirmed"&&z!=="finalized")throw new to(u);break;case"finalized":case"max":case"root":if(z!=="finalized")throw new to(u);break;default:}k={context:M.context,value:{err:M.value.err}}}else throw new to(u)}}finally{d=!0,w()}return k}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:n}){let i;const o=new Promise(g=>{let w=this._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{w=this._confirmTransactionInitialTimeout||3e4;break}}i=setTimeout(()=>g({__type:vi.TIMED_OUT,timeoutMs:w}),w)}),{abortConfirmation:c,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:t,signature:n});let d;try{const g=await Promise.race([u,o]);if(g.__type===vi.PROCESSED)d=g.response;else throw new sp(n,g.timeoutMs/1e3)}finally{clearTimeout(i),c()}return d}async getClusterNodes(){const t=await this._rpcRequest("getClusterNodes",[]),n=Te(t,rt(Ne(HO)));if("error"in n)throw new He(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(t){const n=this._buildArgs([],t),i=await this._rpcRequest("getVoteAccounts",n),o=Te(i,jO);if("error"in o)throw new He(o.error,"failed to get vote accounts");return o.result}async getSlot(t){const{commitment:n,config:i}=Ut(t),o=this._buildArgs([],n,void 0,i),c=await this._rpcRequest("getSlot",o),u=Te(c,rt(fe()));if("error"in u)throw new He(u.error,"failed to get slot");return u.result}async getSlotLeader(t){const{commitment:n,config:i}=Ut(t),o=this._buildArgs([],n,void 0,i),c=await this._rpcRequest("getSlotLeader",o),u=Te(c,rt(xe()));if("error"in u)throw new He(u.error,"failed to get slot leader");return u.result}async getSlotLeaders(t,n){const i=[t,n],o=await this._rpcRequest("getSlotLeaders",i),c=Te(o,rt(Ne(en)));if("error"in c)throw new He(c.error,"failed to get slot leaders");return c.result}async getSignatureStatus(t,n){const{context:i,value:o}=await this.getSignatureStatuses([t],n);wt(o.length===1);const c=o[0];return{context:i,value:c}}async getSignatureStatuses(t,n){const i=[t];n&&i.push(n);const o=await this._rpcRequest("getSignatureStatuses",i),c=Te(o,KO);if("error"in c)throw new He(c.error,"failed to get signature status");return c.result}async getTransactionCount(t){const{commitment:n,config:i}=Ut(t),o=this._buildArgs([],n,void 0,i),c=await this._rpcRequest("getTransactionCount",o),u=Te(c,rt(fe()));if("error"in u)throw new He(u.error,"failed to get transaction count");return u.result}async getTotalSupply(t){return(await this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(t){const n=this._buildArgs([],t),i=await this._rpcRequest("getInflationGovernor",n),o=Te(i,dO);if("error"in o)throw new He(o.error,"failed to get inflation");return o.result}async getInflationReward(t,n,i){const{commitment:o,config:c}=Ut(i),u=this._buildArgs([t.map(w=>w.toBase58())],o,void 0,{...c,epoch:n??c?.epoch}),d=await this._rpcRequest("getInflationReward",u),g=Te(d,$T);if("error"in g)throw new He(g.error,"failed to get inflation reward");return g.result}async getInflationRate(){const t=await this._rpcRequest("getInflationRate",[]),n=Te(t,hO);if("error"in n)throw new He(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(t){const{commitment:n,config:i}=Ut(t),o=this._buildArgs([],n,void 0,i),c=await this._rpcRequest("getEpochInfo",o),u=Te(c,mO);if("error"in u)throw new He(u.error,"failed to get epoch info");return u.result}async getEpochSchedule(){const t=await this._rpcRequest("getEpochSchedule",[]),n=Te(t,yO);if("error"in n)throw new He(n.error,"failed to get epoch schedule");const i=n.result;return new w_(i.slotsPerEpoch,i.leaderScheduleSlotOffset,i.warmup,i.firstNormalEpoch,i.firstNormalSlot)}async getLeaderSchedule(){const t=await this._rpcRequest("getLeaderSchedule",[]),n=Te(t,gO);if("error"in n)throw new He(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(t,n){const i=this._buildArgs([t],n),o=await this._rpcRequest("getMinimumBalanceForRentExemption",i),c=Te(o,VO);return"error"in c?(console.warn("Unable to fetch minimum balance for rent exemption"),0):c.result}async getRecentBlockhashAndContext(t){const{context:n,value:{blockhash:i}}=await this.getLatestBlockhashAndContext(t);return{context:n,value:{blockhash:i,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(t){const n=await this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),i=Te(n,rN);if("error"in i)throw new He(i.error,"failed to get recent performance samples");return i.result}async getFeeCalculatorForBlockhash(t,n){const i=this._buildArgs([t],n),o=await this._rpcRequest("getFeeCalculatorForBlockhash",i),c=Te(o,iN);if("error"in c)throw new He(c.error,"failed to get fee calculator");const{context:u,value:d}=c.result;return{context:u,value:d!==null?d.feeCalculator:null}}async getFeeForMessage(t,n){const i=it(t.serialize()).toString("base64"),o=this._buildArgs([i],n),c=await this._rpcRequest("getFeeForMessage",o),u=Te(c,dn(ke(fe())));if("error"in u)throw new He(u.error,"failed to get fee for message");if(u.result===null)throw new Error("invalid blockhash");return u.result}async getRecentPrioritizationFees(t){const n=t?.lockedWritableAccounts?.map(u=>u.toBase58()),i=n?.length?[n]:[],o=await this._rpcRequest("getRecentPrioritizationFees",i),c=Te(o,pO);if("error"in c)throw new He(c.error,"failed to get recent prioritization fees");return c.result}async getRecentBlockhash(t){try{return(await this.getRecentBlockhashAndContext(t)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(t){try{return(await this.getLatestBlockhashAndContext(t)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(t){const{commitment:n,config:i}=Ut(t),o=this._buildArgs([],n,void 0,i),c=await this._rpcRequest("getLatestBlockhash",o),u=Te(c,eN);if("error"in u)throw new He(u.error,"failed to get latest blockhash");return u.result}async isBlockhashValid(t,n){const{commitment:i,config:o}=Ut(n),c=this._buildArgs([t],i,void 0,o),u=await this._rpcRequest("isBlockhashValid",c),d=Te(u,tN);if("error"in d)throw new He(d.error,"failed to determine if the blockhash `"+t+"`is valid");return d.result}async getVersion(){const t=await this._rpcRequest("getVersion",[]),n=Te(t,rt(sO));if("error"in n)throw new He(n.error,"failed to get version");return n.result}async getGenesisHash(){const t=await this._rpcRequest("getGenesisHash",[]),n=Te(t,rt(xe()));if("error"in n)throw new He(n.error,"failed to get genesis hash");return n.result}async getBlock(t,n){const{commitment:i,config:o}=Ut(n),c=this._buildArgsAtLeastConfirmed([t],i,void 0,o),u=await this._rpcRequest("getBlock",c);try{switch(o?.transactionDetails){case"accounts":{const d=Te(u,XO);if("error"in d)throw d.error;return d.result}case"none":{const d=Te(u,ZO);if("error"in d)throw d.error;return d.result}default:{const d=Te(u,YO);if("error"in d)throw d.error;const{result:g}=d;return g?{...g,transactions:g.transactions.map(({transaction:w,meta:E,version:I})=>({meta:E,transaction:{...w,message:Xh(I,w.message)},version:I}))}:null}}}catch(d){throw new He(d,"failed to get confirmed block")}}async getParsedBlock(t,n){const{commitment:i,config:o}=Ut(n),c=this._buildArgsAtLeastConfirmed([t],i,"jsonParsed",o),u=await this._rpcRequest("getBlock",c);try{switch(o?.transactionDetails){case"accounts":{const d=Te(u,$O);if("error"in d)throw d.error;return d.result}case"none":{const d=Te(u,QO);if("error"in d)throw d.error;return d.result}default:{const d=Te(u,WO);if("error"in d)throw d.error;return d.result}}}catch(d){throw new He(d,"failed to get block")}}async getBlockProduction(t){let n,i;if(typeof t=="string")i=t;else if(t){const{commitment:d,...g}=t;i=d,n=g}const o=this._buildArgs([],i,"base64",n),c=await this._rpcRequest("getBlockProduction",o),u=Te(c,cO);if("error"in u)throw new He(u.error,"failed to get block production information");return u.result}async getTransaction(t,n){const{commitment:i,config:o}=Ut(n),c=this._buildArgsAtLeastConfirmed([t],i,void 0,o),u=await this._rpcRequest("getTransaction",c),d=Te(u,Wh);if("error"in d)throw new He(d.error,"failed to get transaction");const g=d.result;return g&&{...g,transaction:{...g.transaction,message:Xh(g.version,g.transaction.message)}}}async getParsedTransaction(t,n){const{commitment:i,config:o}=Ut(n),c=this._buildArgsAtLeastConfirmed([t],i,"jsonParsed",o),u=await this._rpcRequest("getTransaction",c),d=Te(u,uu);if("error"in d)throw new He(d.error,"failed to get transaction");return d.result}async getParsedTransactions(t,n){const{commitment:i,config:o}=Ut(n),c=t.map(g=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([g],i,"jsonParsed",o)}));return(await this._rpcBatchRequest(c)).map(g=>{const w=Te(g,uu);if("error"in w)throw new He(w.error,"failed to get transactions");return w.result})}async getTransactions(t,n){const{commitment:i,config:o}=Ut(n),c=t.map(g=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([g],i,void 0,o)}));return(await this._rpcBatchRequest(c)).map(g=>{const w=Te(g,Wh);if("error"in w)throw new He(w.error,"failed to get transactions");const E=w.result;return E&&{...E,transaction:{...E.transaction,message:Xh(E.version,E.transaction.message)}}})}async getConfirmedBlock(t,n){const i=this._buildArgsAtLeastConfirmed([t],n),o=await this._rpcRequest("getBlock",i),c=Te(o,JO);if("error"in c)throw new He(c.error,"failed to get confirmed block");const u=c.result;if(!u)throw new Error("Confirmed block "+t+" not found");const d={...u,transactions:u.transactions.map(({transaction:g,meta:w})=>{const E=new kr(g.message);return{meta:w,transaction:{...g,message:E}}})};return{...d,transactions:d.transactions.map(({transaction:g,meta:w})=>({meta:w,transaction:yt.populate(g.message,g.signatures)}))}}async getBlocks(t,n,i){const o=this._buildArgsAtLeastConfirmed(n!==void 0?[t,n]:[t],i),c=await this._rpcRequest("getBlocks",o),u=Te(c,rt(Ne(fe())));if("error"in u)throw new He(u.error,"failed to get blocks");return u.result}async getBlockSignatures(t,n){const i=this._buildArgsAtLeastConfirmed([t],n,void 0,{transactionDetails:"signatures",rewards:!1}),o=await this._rpcRequest("getBlock",i),c=Te(o,fb);if("error"in c)throw new He(c.error,"failed to get block");const u=c.result;if(!u)throw new Error("Block "+t+" not found");return u}async getConfirmedBlockSignatures(t,n){const i=this._buildArgsAtLeastConfirmed([t],n,void 0,{transactionDetails:"signatures",rewards:!1}),o=await this._rpcRequest("getBlock",i),c=Te(o,fb);if("error"in c)throw new He(c.error,"failed to get confirmed block");const u=c.result;if(!u)throw new Error("Confirmed block "+t+" not found");return u}async getConfirmedTransaction(t,n){const i=this._buildArgsAtLeastConfirmed([t],n),o=await this._rpcRequest("getTransaction",i),c=Te(o,Wh);if("error"in c)throw new He(c.error,"failed to get transaction");const u=c.result;if(!u)return u;const d=new kr(u.transaction.message),g=u.transaction.signatures;return{...u,transaction:yt.populate(d,g)}}async getParsedConfirmedTransaction(t,n){const i=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed"),o=await this._rpcRequest("getTransaction",i),c=Te(o,uu);if("error"in c)throw new He(c.error,"failed to get confirmed transaction");return c.result}async getParsedConfirmedTransactions(t,n){const i=t.map(u=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([u],n,"jsonParsed")}));return(await this._rpcBatchRequest(i)).map(u=>{const d=Te(u,uu);if("error"in d)throw new He(d.error,"failed to get confirmed transactions");return d.result})}async getConfirmedSignaturesForAddress(t,n,i){let o={},c=await this.getFirstAvailableBlock();for(;!("until"in o)&&(n--,!(n<=0||n<c));)try{const g=await this.getConfirmedBlockSignatures(n,"finalized");g.signatures.length>0&&(o.until=g.signatures[g.signatures.length-1].toString())}catch(g){if(g instanceof Error&&g.message.includes("skipped"))continue;throw g}let u=await this.getSlot("finalized");for(;!("before"in o)&&(i++,!(i>u));)try{const g=await this.getConfirmedBlockSignatures(i);g.signatures.length>0&&(o.before=g.signatures[g.signatures.length-1].toString())}catch(g){if(g instanceof Error&&g.message.includes("skipped"))continue;throw g}return(await this.getConfirmedSignaturesForAddress2(t,o)).map(g=>g.signature)}async getConfirmedSignaturesForAddress2(t,n,i){const o=this._buildArgsAtLeastConfirmed([t.toBase58()],i,void 0,n),c=await this._rpcRequest("getConfirmedSignaturesForAddress2",o),u=Te(c,OO);if("error"in u)throw new He(u.error,"failed to get confirmed signatures for address");return u.result}async getSignaturesForAddress(t,n,i){const o=this._buildArgsAtLeastConfirmed([t.toBase58()],i,void 0,n),c=await this._rpcRequest("getSignaturesForAddress",o),u=Te(c,NO);if("error"in u)throw new He(u.error,"failed to get signatures for address");return u.result}async getAddressLookupTable(t,n){const{context:i,value:o}=await this.getAccountInfoAndContext(t,n);let c=null;return o!==null&&(c=new S0({key:t,state:S0.deserialize(o.data)})),{context:i,value:c}}async getNonceAndContext(t,n){const{context:i,value:o}=await this.getAccountInfoAndContext(t,n);let c=null;return o!==null&&(c=Qu.fromAccountData(o.data)),{context:i,value:c}}async getNonce(t,n){return await this.getNonceAndContext(t,n).then(i=>i.value).catch(i=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+i)})}async requestAirdrop(t,n){const i=await this._rpcRequest("requestAirdrop",[t.toBase58(),n]),o=Te(i,sN);if("error"in o)throw new He(o.error,`airdrop to ${t.toBase58()} failed`);return o.result}async _blockhashWithExpiryBlockHeight(t){if(!t){for(;this._pollingBlockhash;)await Gs(100);const i=Date.now()-this._blockhashInfo.lastFetch>=v_;if(this._blockhashInfo.latestBlockhash!==null&&!i)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const t=Date.now(),n=this._blockhashInfo.latestBlockhash,i=n?n.blockhash:null;for(let o=0;o<50;o++){const c=await this.getLatestBlockhash("finalized");if(i!==c.blockhash)return this._blockhashInfo={latestBlockhash:c,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},c;await Gs(y_/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(t){const{commitment:n,config:i}=Ut(t),o=this._buildArgs([],n,"base64",i),c=await this._rpcRequest("getStakeMinimumDelegation",o),u=Te(c,dn(fe()));if("error"in u)throw new He(u.error,"failed to get stake minimum delegation");return u.result}async simulateTransaction(t,n,i){if("message"in t){const U=t.serialize(),z=Be.Buffer.from(U).toString("base64");if(Array.isArray(n)||i!==void 0)throw new Error("Invalid arguments");const j=n||{};j.encoding="base64","commitment"in j||(j.commitment=this.commitment),n&&typeof n=="object"&&"innerInstructions"in n&&(j.innerInstructions=n.innerInstructions);const F=[z,j],V=await this._rpcRequest("simulateTransaction",F),$=Te(V,lb);if("error"in $)throw new Error("failed to simulate transaction: "+$.error.message);return $.result}let o;if(t instanceof yt){let M=t;o=new yt,o.feePayer=M.feePayer,o.instructions=t.instructions,o.nonceInfo=M.nonceInfo,o.signatures=M.signatures}else o=yt.populate(t),o._message=o._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const c=n;if(o.nonceInfo&&c)o.sign(...c);else{let M=this._disableBlockhashCaching;for(;;){const U=await this._blockhashWithExpiryBlockHeight(M);if(o.lastValidBlockHeight=U.lastValidBlockHeight,o.recentBlockhash=U.blockhash,!c)break;if(o.sign(...c),!o.signature)throw new Error("!signature");const z=o.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(z)&&!this._blockhashInfo.transactionSignatures.includes(z)){this._blockhashInfo.simulatedSignatures.push(z);break}else M=!0}}const u=o._compile(),d=u.serialize(),w=o._serialize(d).toString("base64"),E={encoding:"base64",commitment:this.commitment};if(i){const M=(Array.isArray(i)?i:u.nonProgramIds()).map(U=>U.toBase58());E.accounts={encoding:"base64",addresses:M}}c&&(E.sigVerify=!0),n&&typeof n=="object"&&"innerInstructions"in n&&(E.innerInstructions=n.innerInstructions);const I=[w,E],k=await this._rpcRequest("simulateTransaction",I),R=Te(k,lb);if("error"in R){let M;if("data"in R.error&&(M=R.error.data.logs,M&&Array.isArray(M))){const U=`
    `,z=U+M.join(U);console.error(R.error.message,z)}throw new _s({action:"simulate",signature:"",transactionMessage:R.error.message,logs:M})}return R.result}async sendTransaction(t,n,i){if("version"in t){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const u=t.serialize();return await this.sendRawTransaction(u,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const o=n;if(t.nonceInfo)t.sign(...o);else{let u=this._disableBlockhashCaching;for(;;){const d=await this._blockhashWithExpiryBlockHeight(u);if(t.lastValidBlockHeight=d.lastValidBlockHeight,t.recentBlockhash=d.blockhash,t.sign(...o),!t.signature)throw new Error("!signature");const g=t.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(g))u=!0;else{this._blockhashInfo.transactionSignatures.push(g);break}}}const c=t.serialize();return await this.sendRawTransaction(c,i)}async sendRawTransaction(t,n){const i=it(t).toString("base64");return await this.sendEncodedTransaction(i,n)}async sendEncodedTransaction(t,n){const i={encoding:"base64"},o=n&&n.skipPreflight,c=o===!0?"processed":n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(i.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(i.minContextSlot=n.minContextSlot),o&&(i.skipPreflight=o),c&&(i.preflightCommitment=c);const u=[t,i],d=await this._rpcRequest("sendTransaction",u),g=Te(d,aN);if("error"in g){let w;throw"data"in g.error&&(w=g.error.data.logs),new _s({action:o?"send":"simulate",signature:"",transactionMessage:g.error.message,logs:w})}return g.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1,console.error("ws error:",t.message)}_wsOnClose(t){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),t===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,i])=>{this._setSubscription(n,{...i,state:"pending"})})}_setSubscription(t,n){const i=this._subscriptionsByHash[t]?.state;if(this._subscriptionsByHash[t]=n,i!==n.state){const o=this._subscriptionStateChangeCallbacksByHash[t];o&&o.forEach(c=>{try{c(n.state)}catch{}})}}_onSubscriptionStateChange(t,n){const i=this._subscriptionHashByClientSubscriptionId[t];if(i==null)return()=>{};const o=this._subscriptionStateChangeCallbacksByHash[i]||=new Set;return o.add(n),()=>{o.delete(n),o.size===0&&delete this._subscriptionStateChangeCallbacksByHash[i]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(i){i instanceof Error&&console.log(`Error when closing socket connection: ${i.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const t=this._rpcWebSocketGeneration,n=()=>t===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async i=>{const o=this._subscriptionsByHash[i];if(o!==void 0)switch(o.state){case"pending":case"unsubscribed":if(o.callbacks.size===0){delete this._subscriptionsByHash[i],o.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[o.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:c,method:u}=o;try{this._setSubscription(i,{...o,state:"subscribing"});const d=await this._rpcWebSocket.call(u,c);this._setSubscription(i,{...o,serverSubscriptionId:d,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[d]=o.callbacks,await this._updateSubscriptions()}catch(d){if(console.error(`Received ${d instanceof Error?"":"JSON-RPC "}error calling \`${u}\``,{args:c,error:d}),!n())return;this._setSubscription(i,{...o,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":o.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:c,unsubscribeMethod:u}=o;if(this._subscriptionsAutoDisposedByRpc.has(c))this._subscriptionsAutoDisposedByRpc.delete(c);else{this._setSubscription(i,{...o,state:"unsubscribing"}),this._setSubscription(i,{...o,state:"unsubscribing"});try{await this._rpcWebSocket.call(u,[c])}catch(d){if(d instanceof Error&&console.error(`${u} error:`,d.message),!n())return;this._setSubscription(i,{...o,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(i,{...o,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(t,n){const i=this._subscriptionCallbacksByServerSubscriptionId[t];i!==void 0&&i.forEach(o=>{try{o(...n)}catch(c){console.error(c)}})}_wsOnAccountNotification(t){const{result:n,subscription:i}=Te(t,kO);this._handleServerNotification(i,[n.value,n.context])}_makeSubscription(t,n){const i=this._nextClientSubscriptionId++,o=ab([t.method,n]),c=this._subscriptionsByHash[o];return c===void 0?this._subscriptionsByHash[o]={...t,args:n,callbacks:new Set([t.callback]),state:"pending"}:c.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[i]=o,this._subscriptionDisposeFunctionsByClientSubscriptionId[i]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[i],delete this._subscriptionHashByClientSubscriptionId[i];const u=this._subscriptionsByHash[o];wt(u!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${i}`),u.callbacks.delete(t.callback),await this._updateSubscriptions()},this._updateSubscriptions(),i}onAccountChange(t,n,i){const{commitment:o,config:c}=Ut(i),u=this._buildArgs([t.toBase58()],o||this._commitment||"finalized","base64",c);return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},u)}async removeAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"account change")}_wsOnProgramAccountNotification(t){const{result:n,subscription:i}=Te(t,CO);this._handleServerNotification(i,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(t,n,i,o){const{commitment:c,config:u}=Ut(i),d=this._buildArgs([t.toBase58()],c||this._commitment||"finalized","base64",u||(o?{filters:cb(o)}:void 0));return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},d)}async removeProgramAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"program account change")}onLogs(t,n,i){const o=this._buildArgs([typeof t=="object"?{mentions:[t.toString()]}:t],i||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},o)}async removeOnLogsListener(t){await this._unsubscribeClientSubscription(t,"logs")}_wsOnLogsNotification(t){const{result:n,subscription:i}=Te(t,cN);this._handleServerNotification(i,[n.value,n.context])}_wsOnSlotNotification(t){const{result:n,subscription:i}=Te(t,MO);this._handleServerNotification(i,[n])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(t){await this._unsubscribeClientSubscription(t,"slot change")}_wsOnSlotUpdatesNotification(t){const{result:n,subscription:i}=Te(t,DO);this._handleServerNotification(i,[n])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(t){await this._unsubscribeClientSubscription(t,"slot update")}async _unsubscribeClientSubscription(t,n){const i=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];i?await i():console.warn(`Ignored unsubscribe request because an active subscription with id \`${t}\` for '${n}' events could not be found.`)}_buildArgs(t,n,i,o){const c=n||this._commitment;if(c||i||o){let u={};i&&(u.encoding=i),c&&(u.commitment=c),o&&(u=Object.assign(u,o)),t.push(u)}return t}_buildArgsAtLeastConfirmed(t,n,i,o){const c=n||this._commitment;if(c&&!["confirmed","finalized"].includes(c))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,n,i,o)}_wsOnSignatureNotification(t){const{result:n,subscription:i}=Te(t,LO);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(i),this._handleServerNotification(i,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(t,n,i){const o=this._buildArgs([t],i||this._commitment||"finalized"),c=this._makeSubscription({callback:(u,d)=>{if(u.type==="status"){n(u.result,d);try{this.removeSignatureListener(c)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return c}onSignatureWithOptions(t,n,i){const{commitment:o,...c}={...i,commitment:i&&i.commitment||this._commitment||"finalized"},u=this._buildArgs([t],o,void 0,c),d=this._makeSubscription({callback:(g,w)=>{n(g,w);try{this.removeSignatureListener(d)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},u);return d}async removeSignatureListener(t){await this._unsubscribeClientSubscription(t,"signature result")}_wsOnRootNotification(t){const{result:n,subscription:i}=Te(t,zO);this._handleServerNotification(i,[n])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(t){await this._unsubscribeClientSubscription(t,"root change")}}class so{constructor(t){this._keypair=void 0,this._keypair=t??nb()}static generate(){return new so(nb())}static fromSecretKey(t,n){if(t.byteLength!==64)throw new Error("bad secret key size");const i=t.slice(32,64);if(!n||!n.skipValidation){const o=t.slice(0,32),c=Du(o);for(let u=0;u<32;u++)if(i[u]!==c[u])throw new Error("provided secretKey is invalid")}return new so({publicKey:i,secretKey:t})}static fromSeed(t){const n=Du(t),i=new Uint8Array(64);return i.set(t),i.set(n,32),new so({publicKey:n,secretKey:i})}get publicKey(){return new _e(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Ri=Object.freeze({CreateLookupTable:{index:0,layout:Q.struct([Q.u32("instruction"),ho("recentSlot"),Q.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:Q.struct([Q.u32("instruction")])},ExtendLookupTable:{index:2,layout:Q.struct([Q.u32("instruction"),ho(),Q.seq(ct(),Q.offset(Q.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Q.struct([Q.u32("instruction")])},CloseLookupTable:{index:4,layout:Q.struct([Q.u32("instruction")])}});class uN{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const i=Q.u32("instruction").decode(t.data);let o;for(const[c,u]of Object.entries(Ri))if(u.index==i){o=c;break}if(!o)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return o}static decodeCreateLookupTable(t){this.checkProgramId(t.programId),this.checkKeysLength(t.keys,4);const{recentSlot:n}=Et(Ri.CreateLookupTable,t.data);return{authority:t.keys[1].pubkey,payer:t.keys[2].pubkey,recentSlot:Number(n)}}static decodeExtendLookupTable(t){if(this.checkProgramId(t.programId),t.keys.length<2)throw new Error(`invalid instruction; found ${t.keys.length} keys, expected at least 2`);const{addresses:n}=Et(Ri.ExtendLookupTable,t.data);return{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey,payer:t.keys.length>2?t.keys[2].pubkey:void 0,addresses:n.map(i=>new _e(i))}}static decodeCloseLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,3),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey,recipient:t.keys[2].pubkey}}static decodeFreezeLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,2),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey}}static decodeDeactivateLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,2),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey}}static checkProgramId(t){if(!t.equals(hp.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(t,n){if(t.length<n)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${n}`)}}class hp{constructor(){}static createLookupTable(t){const[n,i]=_e.findProgramAddressSync([t.authority.toBuffer(),Yw().encode(t.recentSlot)],this.programId),o=Ri.CreateLookupTable,c=mt(o,{recentSlot:BigInt(t.recentSlot),bumpSeed:i}),u=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:pn.programId,isSigner:!1,isWritable:!1}];return[new xt({programId:this.programId,keys:u,data:c}),n]}static freezeLookupTable(t){const n=Ri.FreezeLookupTable,i=mt(n),o=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new xt({programId:this.programId,keys:o,data:i})}static extendLookupTable(t){const n=Ri.ExtendLookupTable,i=mt(n,{addresses:t.addresses.map(c=>c.toBytes())}),o=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return t.payer&&o.push({pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:pn.programId,isSigner:!1,isWritable:!1}),new xt({programId:this.programId,keys:o,data:i})}static deactivateLookupTable(t){const n=Ri.DeactivateLookupTable,i=mt(n),o=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new xt({programId:this.programId,keys:o,data:i})}static closeLookupTable(t){const n=Ri.CloseLookupTable,i=mt(n),o=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.recipient,isSigner:!1,isWritable:!0}];return new xt({programId:this.programId,keys:o,data:i})}}hp.programId=new _e("AddressLookupTab1e1111111111111111111111111");class fN{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const i=Q.u8("instruction").decode(t.data);let o;for(const[c,u]of Object.entries(Fr))if(u.index==i){o=c;break}if(!o)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return o}static decodeRequestUnits(t){this.checkProgramId(t.programId);const{units:n,additionalFee:i}=Et(Fr.RequestUnits,t.data);return{units:n,additionalFee:i}}static decodeRequestHeapFrame(t){this.checkProgramId(t.programId);const{bytes:n}=Et(Fr.RequestHeapFrame,t.data);return{bytes:n}}static decodeSetComputeUnitLimit(t){this.checkProgramId(t.programId);const{units:n}=Et(Fr.SetComputeUnitLimit,t.data);return{units:n}}static decodeSetComputeUnitPrice(t){this.checkProgramId(t.programId);const{microLamports:n}=Et(Fr.SetComputeUnitPrice,t.data);return{microLamports:n}}static checkProgramId(t){if(!t.equals(pp.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const Fr=Object.freeze({RequestUnits:{index:0,layout:Q.struct([Q.u8("instruction"),Q.u32("units"),Q.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:Q.struct([Q.u8("instruction"),Q.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:Q.struct([Q.u8("instruction"),Q.u32("units")])},SetComputeUnitPrice:{index:3,layout:Q.struct([Q.u8("instruction"),ho("microLamports")])}});class pp{constructor(){}static requestUnits(t){const n=Fr.RequestUnits,i=mt(n,t);return new xt({keys:[],programId:this.programId,data:i})}static requestHeapFrame(t){const n=Fr.RequestHeapFrame,i=mt(n,t);return new xt({keys:[],programId:this.programId,data:i})}static setComputeUnitLimit(t){const n=Fr.SetComputeUnitLimit,i=mt(n,t);return new xt({keys:[],programId:this.programId,data:i})}static setComputeUnitPrice(t){const n=Fr.SetComputeUnitPrice,i=mt(n,{microLamports:BigInt(t.microLamports)});return new xt({keys:[],programId:this.programId,data:i})}}pp.programId=new _e("ComputeBudget111111111111111111111111111111");const db=64,hb=32,pb=64,mb=Q.struct([Q.u8("numSignatures"),Q.u8("padding"),Q.u16("signatureOffset"),Q.u16("signatureInstructionIndex"),Q.u16("publicKeyOffset"),Q.u16("publicKeyInstructionIndex"),Q.u16("messageDataOffset"),Q.u16("messageDataSize"),Q.u16("messageInstructionIndex")]);class tf{constructor(){}static createInstructionWithPublicKey(t){const{publicKey:n,message:i,signature:o,instructionIndex:c}=t;wt(n.length===hb,`Public Key must be ${hb} bytes but received ${n.length} bytes`),wt(o.length===pb,`Signature must be ${pb} bytes but received ${o.length} bytes`);const u=mb.span,d=u+n.length,g=d+o.length,w=1,E=Be.Buffer.alloc(g+i.length),I=c??65535;return mb.encode({numSignatures:w,padding:0,signatureOffset:d,signatureInstructionIndex:I,publicKeyOffset:u,publicKeyInstructionIndex:I,messageDataOffset:g,messageDataSize:i.length,messageInstructionIndex:I},E),E.fill(n,u),E.fill(o,d),E.fill(i,g),new xt({keys:[],programId:tf.programId,data:E})}static createInstructionWithPrivateKey(t){const{privateKey:n,message:i,instructionIndex:o}=t;wt(n.length===db,`Private key must be ${db} bytes but received ${n.length} bytes`);try{const c=so.fromSecretKey(n),u=c.publicKey.toBytes(),d=np(i,c.secretKey);return this.createInstructionWithPublicKey({publicKey:u,message:i,signature:d,instructionIndex:o})}catch(c){throw new Error(`Error creating instruction; ${c}`)}}}tf.programId=new _e("Ed25519SigVerify111111111111111111111111111");const dN=(s,t)=>{const n=tp.sign(s,t);return[n.toCompactRawBytes(),n.recovery]};tp.utils.isValidPrivateKey;const hN=tp.getPublicKey,yb=32,$h=20,gb=64,pN=11,Qh=Q.struct([Q.u8("numSignatures"),Q.u16("signatureOffset"),Q.u8("signatureInstructionIndex"),Q.u16("ethAddressOffset"),Q.u8("ethAddressInstructionIndex"),Q.u16("messageDataOffset"),Q.u16("messageDataSize"),Q.u8("messageInstructionIndex"),Q.blob(20,"ethAddress"),Q.blob(64,"signature"),Q.u8("recoveryId")]);class ao{constructor(){}static publicKeyToEthAddress(t){wt(t.length===gb,`Public key must be ${gb} bytes but received ${t.length} bytes`);try{return Be.Buffer.from(Jg(it(t))).slice(-$h)}catch(n){throw new Error(`Error constructing Ethereum address: ${n}`)}}static createInstructionWithPublicKey(t){const{publicKey:n,message:i,signature:o,recoveryId:c,instructionIndex:u}=t;return ao.createInstructionWithEthAddress({ethAddress:ao.publicKeyToEthAddress(n),message:i,signature:o,recoveryId:c,instructionIndex:u})}static createInstructionWithEthAddress(t){const{ethAddress:n,message:i,signature:o,recoveryId:c,instructionIndex:u=0}=t;let d;typeof n=="string"?n.startsWith("0x")?d=Be.Buffer.from(n.substr(2),"hex"):d=Be.Buffer.from(n,"hex"):d=n,wt(d.length===$h,`Address must be ${$h} bytes but received ${d.length} bytes`);const g=1+pN,w=g,E=g+d.length,I=E+o.length+1,k=1,R=Be.Buffer.alloc(Qh.span+i.length);return Qh.encode({numSignatures:k,signatureOffset:E,signatureInstructionIndex:u,ethAddressOffset:w,ethAddressInstructionIndex:u,messageDataOffset:I,messageDataSize:i.length,messageInstructionIndex:u,signature:it(o),ethAddress:it(d),recoveryId:c},R),R.fill(it(i),Qh.span),new xt({keys:[],programId:ao.programId,data:R})}static createInstructionWithPrivateKey(t){const{privateKey:n,message:i,instructionIndex:o}=t;wt(n.length===yb,`Private key must be ${yb} bytes but received ${n.length} bytes`);try{const c=it(n),u=hN(c,!1).slice(1),d=Be.Buffer.from(Jg(it(i))),[g,w]=dN(d,c);return this.createInstructionWithPublicKey({publicKey:u,message:i,signature:g,recoveryId:w,instructionIndex:o})}catch(c){throw new Error(`Error creating instruction; ${c}`)}}}ao.programId=new _e("KeccakSecp256k11111111111111111111111111111");var I_;const C_=new _e("StakeConfig11111111111111111111111111111111");class B_{constructor(t,n){this.staker=void 0,this.withdrawer=void 0,this.staker=t,this.withdrawer=n}}class jc{constructor(t,n,i){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=n,this.custodian=i}}I_=jc;jc.default=new I_(0,0,_e.default);class mN{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const i=Q.u32("instruction").decode(t.data);let o;for(const[c,u]of Object.entries(Rn))if(u.index==i){o=c;break}if(!o)throw new Error("Instruction type incorrect; not a StakeInstruction");return o}static decodeInitialize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{authorized:n,lockup:i}=Et(Rn.Initialize,t.data);return{stakePubkey:t.keys[0].pubkey,authorized:new B_(new _e(n.staker),new _e(n.withdrawer)),lockup:new jc(i.unixTimestamp,i.epoch,new _e(i.custodian))}}static decodeDelegate(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,6),Et(Rn.Delegate,t.data),{stakePubkey:t.keys[0].pubkey,votePubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[5].pubkey}}static decodeAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{newAuthorized:n,stakeAuthorizationType:i}=Et(Rn.Authorize,t.data),o={stakePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey,newAuthorizedPubkey:new _e(n),stakeAuthorizationType:{index:i}};return t.keys.length>3&&(o.custodianPubkey=t.keys[3].pubkey),o}static decodeAuthorizeWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{newAuthorized:n,stakeAuthorizationType:i,authoritySeed:o,authorityOwner:c}=Et(Rn.AuthorizeWithSeed,t.data),u={stakePubkey:t.keys[0].pubkey,authorityBase:t.keys[1].pubkey,authoritySeed:o,authorityOwner:new _e(c),newAuthorizedPubkey:new _e(n),stakeAuthorizationType:{index:i}};return t.keys.length>3&&(u.custodianPubkey=t.keys[3].pubkey),u}static decodeSplit(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{lamports:n}=Et(Rn.Split,t.data);return{stakePubkey:t.keys[0].pubkey,splitStakePubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[2].pubkey,lamports:n}}static decodeMerge(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),Et(Rn.Merge,t.data),{stakePubkey:t.keys[0].pubkey,sourceStakePubKey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey}}static decodeWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,5);const{lamports:n}=Et(Rn.Withdraw,t.data),i={stakePubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey,lamports:n};return t.keys.length>5&&(i.custodianPubkey=t.keys[5].pubkey),i}static decodeDeactivate(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),Et(Rn.Deactivate,t.data),{stakePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey}}static checkProgramId(t){if(!t.equals(nf.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(t,n){if(t.length<n)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${n}`)}}const Rn=Object.freeze({Initialize:{index:0,layout:Q.struct([Q.u32("instruction"),_T(),vT()])},Authorize:{index:1,layout:Q.struct([Q.u32("instruction"),ct("newAuthorized"),Q.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:Q.struct([Q.u32("instruction")])},Split:{index:3,layout:Q.struct([Q.u32("instruction"),Q.ns64("lamports")])},Withdraw:{index:4,layout:Q.struct([Q.u32("instruction"),Q.ns64("lamports")])},Deactivate:{index:5,layout:Q.struct([Q.u32("instruction")])},Merge:{index:7,layout:Q.struct([Q.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:Q.struct([Q.u32("instruction"),ct("newAuthorized"),Q.u32("stakeAuthorizationType"),Xs("authoritySeed"),ct("authorityOwner")])}}),yN=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class nf{constructor(){}static initialize(t){const{stakePubkey:n,authorized:i,lockup:o}=t,c=o||jc.default,u=Rn.Initialize,d=mt(u,{authorized:{staker:it(i.staker.toBuffer()),withdrawer:it(i.withdrawer.toBuffer())},lockup:{unixTimestamp:c.unixTimestamp,epoch:c.epoch,custodian:it(c.custodian.toBuffer())}}),g={keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:fo,isSigner:!1,isWritable:!1}],programId:this.programId,data:d};return new xt(g)}static createAccountWithSeed(t){const n=new yt;n.add(pn.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:this.space,programId:this.programId}));const{stakePubkey:i,authorized:o,lockup:c}=t;return n.add(this.initialize({stakePubkey:i,authorized:o,lockup:c}))}static createAccount(t){const n=new yt;n.add(pn.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,lamports:t.lamports,space:this.space,programId:this.programId}));const{stakePubkey:i,authorized:o,lockup:c}=t;return n.add(this.initialize({stakePubkey:i,authorized:o,lockup:c}))}static delegate(t){const{stakePubkey:n,authorizedPubkey:i,votePubkey:o}=t,c=Rn.Delegate,u=mt(c);return new yt().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:qr,isSigner:!1,isWritable:!1},{pubkey:Au,isSigner:!1,isWritable:!1},{pubkey:C_,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:u})}static authorize(t){const{stakePubkey:n,authorizedPubkey:i,newAuthorizedPubkey:o,stakeAuthorizationType:c,custodianPubkey:u}=t,d=Rn.Authorize,g=mt(d,{newAuthorized:it(o.toBuffer()),stakeAuthorizationType:c.index}),w=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:qr,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1}];return u&&w.push({pubkey:u,isSigner:!0,isWritable:!1}),new yt().add({keys:w,programId:this.programId,data:g})}static authorizeWithSeed(t){const{stakePubkey:n,authorityBase:i,authoritySeed:o,authorityOwner:c,newAuthorizedPubkey:u,stakeAuthorizationType:d,custodianPubkey:g}=t,w=Rn.AuthorizeWithSeed,E=mt(w,{newAuthorized:it(u.toBuffer()),stakeAuthorizationType:d.index,authoritySeed:o,authorityOwner:it(c.toBuffer())}),I=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:qr,isSigner:!1,isWritable:!1}];return g&&I.push({pubkey:g,isSigner:!0,isWritable:!1}),new yt().add({keys:I,programId:this.programId,data:E})}static splitInstruction(t){const{stakePubkey:n,authorizedPubkey:i,splitStakePubkey:o,lamports:c}=t,u=Rn.Split,d=mt(u,{lamports:c});return new xt({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:d})}static split(t,n){const i=new yt;return i.add(pn.createAccount({fromPubkey:t.authorizedPubkey,newAccountPubkey:t.splitStakePubkey,lamports:n,space:this.space,programId:this.programId})),i.add(this.splitInstruction(t))}static splitWithSeed(t,n){const{stakePubkey:i,authorizedPubkey:o,splitStakePubkey:c,basePubkey:u,seed:d,lamports:g}=t,w=new yt;return w.add(pn.allocate({accountPubkey:c,basePubkey:u,seed:d,space:this.space,programId:this.programId})),n&&n>0&&w.add(pn.transfer({fromPubkey:t.authorizedPubkey,toPubkey:c,lamports:n})),w.add(this.splitInstruction({stakePubkey:i,authorizedPubkey:o,splitStakePubkey:c,lamports:g}))}static merge(t){const{stakePubkey:n,sourceStakePubKey:i,authorizedPubkey:o}=t,c=Rn.Merge,u=mt(c);return new yt().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:qr,isSigner:!1,isWritable:!1},{pubkey:Au,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1}],programId:this.programId,data:u})}static withdraw(t){const{stakePubkey:n,authorizedPubkey:i,toPubkey:o,lamports:c,custodianPubkey:u}=t,d=Rn.Withdraw,g=mt(d,{lamports:c}),w=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:qr,isSigner:!1,isWritable:!1},{pubkey:Au,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}];return u&&w.push({pubkey:u,isSigner:!0,isWritable:!1}),new yt().add({keys:w,programId:this.programId,data:g})}static deactivate(t){const{stakePubkey:n,authorizedPubkey:i}=t,o=Rn.Deactivate,c=mt(o);return new yt().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:qr,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:c})}}nf.programId=new _e("Stake11111111111111111111111111111111111111");nf.space=200;class M_{constructor(t,n,i,o){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=t,this.authorizedVoter=n,this.authorizedWithdrawer=i,this.commission=o}}class gN{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const i=Q.u32("instruction").decode(t.data);let o;for(const[c,u]of Object.entries(Yr))if(u.index==i){o=c;break}if(!o)throw new Error("Instruction type incorrect; not a VoteInstruction");return o}static decodeInitializeAccount(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,4);const{voteInit:n}=Et(Yr.InitializeAccount,t.data);return{votePubkey:t.keys[0].pubkey,nodePubkey:t.keys[3].pubkey,voteInit:new M_(new _e(n.nodePubkey),new _e(n.authorizedVoter),new _e(n.authorizedWithdrawer),n.commission)}}static decodeAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{newAuthorized:n,voteAuthorizationType:i}=Et(Yr.Authorize,t.data);return{votePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey,newAuthorizedPubkey:new _e(n),voteAuthorizationType:{index:i}}}static decodeAuthorizeWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:i,newAuthorized:o,voteAuthorizationType:c}}=Et(Yr.AuthorizeWithSeed,t.data);return{currentAuthorityDerivedKeyBasePubkey:t.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new _e(n),currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:new _e(o),voteAuthorizationType:{index:c},votePubkey:t.keys[0].pubkey}}static decodeWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{lamports:n}=Et(Yr.Withdraw,t.data);return{votePubkey:t.keys[0].pubkey,authorizedWithdrawerPubkey:t.keys[2].pubkey,lamports:n,toPubkey:t.keys[1].pubkey}}static checkProgramId(t){if(!t.equals(wo.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(t,n){if(t.length<n)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${n}`)}}const Yr=Object.freeze({InitializeAccount:{index:0,layout:Q.struct([Q.u32("instruction"),ET()])},Authorize:{index:1,layout:Q.struct([Q.u32("instruction"),ct("newAuthorized"),Q.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:Q.struct([Q.u32("instruction"),Q.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:Q.struct([Q.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:Q.struct([Q.u32("instruction"),ST()])}}),bN=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class wo{constructor(){}static initializeAccount(t){const{votePubkey:n,nodePubkey:i,voteInit:o}=t,c=Yr.InitializeAccount,u=mt(c,{voteInit:{nodePubkey:it(o.nodePubkey.toBuffer()),authorizedVoter:it(o.authorizedVoter.toBuffer()),authorizedWithdrawer:it(o.authorizedWithdrawer.toBuffer()),commission:o.commission}}),d={keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:fo,isSigner:!1,isWritable:!1},{pubkey:qr,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:u};return new xt(d)}static createAccount(t){const n=new yt;return n.add(pn.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.votePubkey,lamports:t.lamports,space:this.space,programId:this.programId})),n.add(this.initializeAccount({votePubkey:t.votePubkey,nodePubkey:t.voteInit.nodePubkey,voteInit:t.voteInit}))}static authorize(t){const{votePubkey:n,authorizedPubkey:i,newAuthorizedPubkey:o,voteAuthorizationType:c}=t,u=Yr.Authorize,d=mt(u,{newAuthorized:it(o.toBuffer()),voteAuthorizationType:c.index}),g=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:qr,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}];return new yt().add({keys:g,programId:this.programId,data:d})}static authorizeWithSeed(t){const{currentAuthorityDerivedKeyBasePubkey:n,currentAuthorityDerivedKeyOwnerPubkey:i,currentAuthorityDerivedKeySeed:o,newAuthorizedPubkey:c,voteAuthorizationType:u,votePubkey:d}=t,g=Yr.AuthorizeWithSeed,w=mt(g,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:it(i.toBuffer()),currentAuthorityDerivedKeySeed:o,newAuthorized:it(c.toBuffer()),voteAuthorizationType:u.index}}),E=[{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:qr,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new yt().add({keys:E,programId:this.programId,data:w})}static withdraw(t){const{votePubkey:n,authorizedWithdrawerPubkey:i,lamports:o,toPubkey:c}=t,u=Yr.Withdraw,d=mt(u,{lamports:o}),g=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1}];return new yt().add({keys:g,programId:this.programId,data:d})}static safeWithdraw(t,n,i){if(t.lamports>n-i)throw new Error("Withdraw will leave vote account with insufficient funds.");return wo.withdraw(t)}static updateValidatorIdentity(t){const{votePubkey:n,authorizedWithdrawerPubkey:i,nodePubkey:o}=t,c=Yr.UpdateValidatorIdentity,u=mt(c),d=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!0,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}];return new yt().add({keys:d,programId:this.programId,data:u})}}wo.programId=new _e("Vote111111111111111111111111111111111111111");wo.space=3762;const U_=new _e("Va1idator1nfo111111111111111111111111111111"),wN=Se({name:xe(),website:Ke(xe()),details:Ke(xe()),iconUrl:Ke(xe()),keybaseUsername:Ke(xe())});class mp{constructor(t,n){this.key=void 0,this.info=void 0,this.key=t,this.info=n}static fromConfigData(t){let n=[...t];if(Yn(n)!==2)return null;const o=[];for(let c=0;c<2;c++){const u=new _e(Zn(n,0,Zr)),d=Gr(n)===1;o.push({publicKey:u,isSigner:d})}if(o[0].publicKey.equals(U_)&&o[1].isSigner){const c=Xs().decode(Be.Buffer.from(n)),u=JSON.parse(c);return Zw(u,wN),new mp(o[1].publicKey,u)}return null}}const _N=new _e("Vote111111111111111111111111111111111111111"),vN=Q.struct([ct("nodePubkey"),ct("authorizedWithdrawer"),Q.u8("commission"),Q.nu64(),Q.seq(Q.struct([Q.nu64("slot"),Q.u32("confirmationCount")]),Q.offset(Q.u32(),-8),"votes"),Q.u8("rootSlotValid"),Q.nu64("rootSlot"),Q.nu64(),Q.seq(Q.struct([Q.nu64("epoch"),ct("authorizedVoter")]),Q.offset(Q.u32(),-8),"authorizedVoters"),Q.struct([Q.seq(Q.struct([ct("authorizedPubkey"),Q.nu64("epochOfLastAuthorizedSwitch"),Q.nu64("targetEpoch")]),32,"buf"),Q.nu64("idx"),Q.u8("isEmpty")],"priorVoters"),Q.nu64(),Q.seq(Q.struct([Q.nu64("epoch"),Q.nu64("credits"),Q.nu64("prevCredits")]),Q.offset(Q.u32(),-8),"epochCredits"),Q.struct([Q.nu64("slot"),Q.nu64("timestamp")],"lastTimestamp")]);class yp{constructor(t){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=t.nodePubkey,this.authorizedWithdrawer=t.authorizedWithdrawer,this.commission=t.commission,this.rootSlot=t.rootSlot,this.votes=t.votes,this.authorizedVoters=t.authorizedVoters,this.priorVoters=t.priorVoters,this.epochCredits=t.epochCredits,this.lastTimestamp=t.lastTimestamp}static fromAccountData(t){const i=vN.decode(it(t),4);let o=i.rootSlot;return i.rootSlotValid||(o=null),new yp({nodePubkey:new _e(i.nodePubkey),authorizedWithdrawer:new _e(i.authorizedWithdrawer),commission:i.commission,votes:i.votes,rootSlot:o,authorizedVoters:i.authorizedVoters.map(EN),priorVoters:SN(i.priorVoters),epochCredits:i.epochCredits,lastTimestamp:i.lastTimestamp})}}function EN({authorizedVoter:s,epoch:t}){return{epoch:t,authorizedVoter:new _e(s)}}function bb({authorizedPubkey:s,epochOfLastAuthorizedSwitch:t,targetEpoch:n}){return{authorizedPubkey:new _e(s),epochOfLastAuthorizedSwitch:t,targetEpoch:n}}function SN({buf:s,idx:t,isEmpty:n}){return n?[]:[...s.slice(t+1).map(bb),...s.slice(0,t).map(bb)]}const wb={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function D_(s,t){const n=t===!1?"http":"https";if(!s)return wb[n].devnet;const i=wb[n][s];if(!i)throw new Error(`Unknown ${n} cluster: ${s}`);return i}async function AN(s,t,n,i){let o,c;n&&Object.prototype.hasOwnProperty.call(n,"lastValidBlockHeight")||n&&Object.prototype.hasOwnProperty.call(n,"nonceValue")?(o=n,c=i):c=n;const u=c&&{skipPreflight:c.skipPreflight,preflightCommitment:c.preflightCommitment||c.commitment,minContextSlot:c.minContextSlot},d=await s.sendRawTransaction(t,u),g=c&&c.commitment,E=(await(o?s.confirmTransaction(o,g):s.confirmTransaction(d,g))).value;if(E.err)throw d!=null?new _s({action:u?.skipPreflight?"send":"simulate",signature:d,transactionMessage:`Status: (${JSON.stringify(E)})`}):new Error(`Raw transaction ${d} failed (${JSON.stringify(E)})`);return d}const T0=1e9,RN=Object.freeze(Object.defineProperty({__proto__:null,Account:gT,AddressLookupTableAccount:S0,AddressLookupTableInstruction:uN,AddressLookupTableProgram:hp,Authorized:B_,BLOCKHASH_CACHE_TIMEOUT_MS:v_,BPF_LOADER_DEPRECATED_PROGRAM_ID:bT,BPF_LOADER_PROGRAM_ID:DT,BpfLoader:LT,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:Fr,ComputeBudgetInstruction:fN,ComputeBudgetProgram:pp,Connection:dp,Ed25519Program:tf,Enum:mT,EpochSchedule:w_,FeeCalculatorLayout:g_,Keypair:so,LAMPORTS_PER_SOL:T0,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Ri,Loader:ta,Lockup:jc,MAX_SEED_LENGTH:h_,Message:kr,MessageAccountKeys:Nc,MessageV0:ea,NONCE_ACCOUNT_LENGTH:E0,NonceAccount:Qu,PACKET_DATA_SIZE:ys,PUBLIC_KEY_LENGTH:Zr,PublicKey:_e,SIGNATURE_LENGTH_IN_BYTES:Oc,SOLANA_SCHEMA:vc,STAKE_CONFIG_ID:C_,STAKE_INSTRUCTION_LAYOUTS:Rn,SYSTEM_INSTRUCTION_LAYOUTS:Dt,SYSVAR_CLOCK_PUBKEY:qr,SYSVAR_EPOCH_SCHEDULE_PUBKEY:OT,SYSVAR_INSTRUCTIONS_PUBKEY:NT,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:Su,SYSVAR_RENT_PUBKEY:fo,SYSVAR_REWARDS_PUBKEY:kT,SYSVAR_SLOT_HASHES_PUBKEY:IT,SYSVAR_SLOT_HISTORY_PUBKEY:CT,SYSVAR_STAKE_HISTORY_PUBKEY:Au,Secp256k1Program:ao,SendTransactionError:_s,SolanaJSONRPCError:He,SolanaJSONRPCErrorCode:BT,StakeAuthorizationLayout:yN,StakeInstruction:mN,StakeProgram:nf,Struct:rp,SystemInstruction:MT,SystemProgram:pn,Transaction:yt,TransactionExpiredBlockheightExceededError:ip,TransactionExpiredNonceInvalidError:to,TransactionExpiredTimeoutError:sp,TransactionInstruction:xt,TransactionMessage:op,TransactionStatus:vi,VALIDATOR_INFO_KEY:U_,VERSION_PREFIX_MASK:Wu,VOTE_PROGRAM_ID:_N,ValidatorInfo:mp,VersionedMessage:ap,VersionedTransaction:cp,VoteAccount:yp,VoteAuthorizationLayout:bN,VoteInit:M_,VoteInstruction:gN,VoteProgram:wo,clusterApiUrl:D_,sendAndConfirmRawTransaction:AN,sendAndConfirmTransaction:v0},Symbol.toStringTag,{value:"Module"}));function xN(s){if(s.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let w=0;w<t.length;w++)t[w]=255;for(let w=0;w<s.length;w++){const E=s.charAt(w),I=E.charCodeAt(0);if(t[I]!==255)throw new TypeError(E+" is ambiguous");t[I]=w}const n=s.length,i=s.charAt(0),o=Math.log(n)/Math.log(256),c=Math.log(256)/Math.log(n);function u(w){if(w instanceof Uint8Array||(ArrayBuffer.isView(w)?w=new Uint8Array(w.buffer,w.byteOffset,w.byteLength):Array.isArray(w)&&(w=Uint8Array.from(w))),!(w instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(w.length===0)return"";let E=0,I=0,k=0;const R=w.length;for(;k!==R&&w[k]===0;)k++,E++;const M=(R-k)*c+1>>>0,U=new Uint8Array(M);for(;k!==R;){let F=w[k],V=0;for(let $=M-1;(F!==0||V<I)&&$!==-1;$--,V++)F+=256*U[$]>>>0,U[$]=F%n>>>0,F=F/n>>>0;if(F!==0)throw new Error("Non-zero carry");I=V,k++}let z=M-I;for(;z!==M&&U[z]===0;)z++;let j=i.repeat(E);for(;z<M;++z)j+=s.charAt(U[z]);return j}function d(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return new Uint8Array;let E=0,I=0,k=0;for(;w[E]===i;)I++,E++;const R=(w.length-E)*o+1>>>0,M=new Uint8Array(R);for(;E<w.length;){const F=w.charCodeAt(E);if(F>255)return;let V=t[F];if(V===255)return;let $=0;for(let ne=R-1;(V!==0||$<k)&&ne!==-1;ne--,$++)V+=n*M[ne]>>>0,M[ne]=V%256>>>0,V=V/256>>>0;if(V!==0)throw new Error("Non-zero carry");k=$,E++}let U=R-k;for(;U!==R&&M[U]===0;)U++;const z=new Uint8Array(I+(R-U));let j=I;for(;U!==R;)z[j++]=M[U++];return z}function g(w){const E=d(w);if(E)return E;throw new Error("Non-base"+n+" character")}return{encode:u,decodeUnsafe:d,decode:g}}var TN="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const ON=xN(TN);var Jh,_b;function NN(){if(_b)return Jh;_b=1;var s=Z0().Buffer;function t(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var i=new Uint8Array(256),o=0;o<i.length;o++)i[o]=255;for(var c=0;c<n.length;c++){var u=n.charAt(c),d=u.charCodeAt(0);if(i[d]!==255)throw new TypeError(u+" is ambiguous");i[d]=c}var g=n.length,w=n.charAt(0),E=Math.log(g)/Math.log(256),I=Math.log(256)/Math.log(g);function k(U){if((Array.isArray(U)||U instanceof Uint8Array)&&(U=s.from(U)),!s.isBuffer(U))throw new TypeError("Expected Buffer");if(U.length===0)return"";for(var z=0,j=0,F=0,V=U.length;F!==V&&U[F]===0;)F++,z++;for(var $=(V-F)*I+1>>>0,ne=new Uint8Array($);F!==V;){for(var ce=U[F],ie=0,ue=$-1;(ce!==0||ie<j)&&ue!==-1;ue--,ie++)ce+=256*ne[ue]>>>0,ne[ue]=ce%g>>>0,ce=ce/g>>>0;if(ce!==0)throw new Error("Non-zero carry");j=ie,F++}for(var G=$-j;G!==$&&ne[G]===0;)G++;for(var Y=w.repeat(z);G<$;++G)Y+=n.charAt(ne[G]);return Y}function R(U){if(typeof U!="string")throw new TypeError("Expected String");if(U.length===0)return s.alloc(0);for(var z=0,j=0,F=0;U[z]===w;)j++,z++;for(var V=(U.length-z)*E+1>>>0,$=new Uint8Array(V);z<U.length;){var ne=U.charCodeAt(z);if(ne>255)return;var ce=i[ne];if(ce===255)return;for(var ie=0,ue=V-1;(ce!==0||ie<F)&&ue!==-1;ue--,ie++)ce+=g*$[ue]>>>0,$[ue]=ce%256>>>0,ce=ce/256>>>0;if(ce!==0)throw new Error("Non-zero carry");F=ie,z++}for(var G=V-F;G!==V&&$[G]===0;)G++;var Y=s.allocUnsafe(j+(V-G));Y.fill(0,0,j);for(var X=j;G!==V;)Y[X++]=$[G++];return Y}function M(U){var z=R(U);if(z)return z;throw new Error("Non-base"+g+" character")}return{encode:k,decodeUnsafe:R,decode:M}}return Jh=t,Jh}var e0,vb;function kN(){if(vb)return e0;vb=1;var s=NN(),t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return e0=s(t),e0}var IN=kN();const rf=Ii(IN);var fu={exports:{}},Eb;function CN(){if(Eb)return fu.exports;Eb=1;const s=/[\p{Lu}]/u,t=/[\p{Ll}]/u,n=/^[\p{Lu}](?![\p{Lu}])/gu,i=/([\p{Alpha}\p{N}_]|$)/u,o=/[_.\- ]+/,c=new RegExp("^"+o.source),u=new RegExp(o.source+i.source,"gu"),d=new RegExp("\\d+"+i.source,"gu"),g=(k,R,M)=>{let U=!1,z=!1,j=!1;for(let F=0;F<k.length;F++){const V=k[F];U&&s.test(V)?(k=k.slice(0,F)+"-"+k.slice(F),U=!1,j=z,z=!0,F++):z&&j&&t.test(V)?(k=k.slice(0,F-1)+"-"+k.slice(F-1),j=z,z=!1,U=!0):(U=R(V)===V&&M(V)!==V,j=z,z=M(V)===V&&R(V)!==V)}return k},w=(k,R)=>(n.lastIndex=0,k.replace(n,M=>R(M))),E=(k,R)=>(u.lastIndex=0,d.lastIndex=0,k.replace(u,(M,U)=>R(U)).replace(d,M=>R(M))),I=(k,R)=>{if(!(typeof k=="string"||Array.isArray(k)))throw new TypeError("Expected the input to be `string | string[]`");if(R={pascalCase:!1,preserveConsecutiveUppercase:!1,...R},Array.isArray(k)?k=k.map(j=>j.trim()).filter(j=>j.length).join("-"):k=k.trim(),k.length===0)return"";const M=R.locale===!1?j=>j.toLowerCase():j=>j.toLocaleLowerCase(R.locale),U=R.locale===!1?j=>j.toUpperCase():j=>j.toLocaleUpperCase(R.locale);return k.length===1?R.pascalCase?U(k):M(k):(k!==M(k)&&(k=g(k,M,U)),k=k.replace(c,""),R.preserveConsecutiveUppercase?k=w(k,M):k=M(k),R.pascalCase&&(k=U(k.charAt(0))+k.slice(1)),E(k,U))};return fu.exports=I,fu.exports.default=I,fu.exports}var BN=CN();const MN=Ii(BN);var gc={},Me={},Sb;function Ab(){if(Sb)return Me;Sb=1;class s{constructor(v,m){if(!Number.isInteger(v))throw new TypeError("span must be an integer");this.span=v,this.property=m}makeDestinationObject(){return{}}decode(v,m){throw new Error("Layout is abstract")}encode(v,m,f){throw new Error("Layout is abstract")}getSpan(v,m){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(v){const m=Object.create(this.constructor.prototype);return Object.assign(m,this),m.property=v,m}fromArray(v){}}Me.Layout=s;function t(B,v){return v.property?B+"["+v.property+"]":B}Me.nameWithProperty=t;function n(B,v){if(typeof B!="function")throw new TypeError("Class must be constructor");if(B.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(v&&v instanceof s))throw new TypeError("layout must be a Layout");if(v.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");B.layout_=v,v.boundConstructor_=B,v.makeDestinationObject=(()=>new B),Object.defineProperty(B.prototype,"encode",{value:function(m,f){return v.encode(this,m,f)},writable:!0}),Object.defineProperty(B,"decode",{value:function(m,f){return v.decode(m,f)},writable:!0})}Me.bindConstructorLayout=n;class i extends s{isCount(){throw new Error("ExternalLayout is abstract")}}class o extends i{constructor(v,m){if(v===void 0&&(v=1),!Number.isInteger(v)||0>=v)throw new TypeError("elementSpan must be a (positive) integer");super(-1,m),this.elementSpan=v}isCount(){return!0}decode(v,m){m===void 0&&(m=0);const f=v.length-m;return Math.floor(f/this.elementSpan)}encode(v,m,f){return 0}}class c extends i{constructor(v,m,f){if(!(v instanceof s))throw new TypeError("layout must be a Layout");if(m===void 0)m=0;else if(!Number.isInteger(m))throw new TypeError("offset must be integer or undefined");super(v.span,f||v.property),this.layout=v,this.offset=m}isCount(){return this.layout instanceof u||this.layout instanceof d}decode(v,m){return m===void 0&&(m=0),this.layout.decode(v,m+this.offset)}encode(v,m,f){return f===void 0&&(f=0),this.layout.encode(v,m,f+this.offset)}}class u extends s{constructor(v,m){if(super(v,m),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(v,m){return m===void 0&&(m=0),v.readUIntLE(m,this.span)}encode(v,m,f){return f===void 0&&(f=0),m.writeUIntLE(v,f,this.span),this.span}}class d extends s{constructor(v,m){if(super(v,m),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(v,m){return m===void 0&&(m=0),v.readUIntBE(m,this.span)}encode(v,m,f){return f===void 0&&(f=0),m.writeUIntBE(v,f,this.span),this.span}}class g extends s{constructor(v,m){if(super(v,m),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(v,m){return m===void 0&&(m=0),v.readIntLE(m,this.span)}encode(v,m,f){return f===void 0&&(f=0),m.writeIntLE(v,f,this.span),this.span}}class w extends s{constructor(v,m){if(super(v,m),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(v,m){return m===void 0&&(m=0),v.readIntBE(m,this.span)}encode(v,m,f){return f===void 0&&(f=0),m.writeIntBE(v,f,this.span),this.span}}const E=Math.pow(2,32);function I(B){const v=Math.floor(B/E),m=B-v*E;return{hi32:v,lo32:m}}function k(B,v){return B*E+v}class R extends s{constructor(v){super(8,v)}decode(v,m){m===void 0&&(m=0);const f=v.readUInt32LE(m),y=v.readUInt32LE(m+4);return k(y,f)}encode(v,m,f){f===void 0&&(f=0);const y=I(v);return m.writeUInt32LE(y.lo32,f),m.writeUInt32LE(y.hi32,f+4),8}}class M extends s{constructor(v){super(8,v)}decode(v,m){m===void 0&&(m=0);const f=v.readUInt32BE(m),y=v.readUInt32BE(m+4);return k(f,y)}encode(v,m,f){f===void 0&&(f=0);const y=I(v);return m.writeUInt32BE(y.hi32,f),m.writeUInt32BE(y.lo32,f+4),8}}class U extends s{constructor(v){super(8,v)}decode(v,m){m===void 0&&(m=0);const f=v.readUInt32LE(m),y=v.readInt32LE(m+4);return k(y,f)}encode(v,m,f){f===void 0&&(f=0);const y=I(v);return m.writeUInt32LE(y.lo32,f),m.writeInt32LE(y.hi32,f+4),8}}class z extends s{constructor(v){super(8,v)}decode(v,m){m===void 0&&(m=0);const f=v.readInt32BE(m),y=v.readUInt32BE(m+4);return k(f,y)}encode(v,m,f){f===void 0&&(f=0);const y=I(v);return m.writeInt32BE(y.hi32,f),m.writeUInt32BE(y.lo32,f+4),8}}class j extends s{constructor(v){super(4,v)}decode(v,m){return m===void 0&&(m=0),v.readFloatLE(m)}encode(v,m,f){return f===void 0&&(f=0),m.writeFloatLE(v,f),4}}class F extends s{constructor(v){super(4,v)}decode(v,m){return m===void 0&&(m=0),v.readFloatBE(m)}encode(v,m,f){return f===void 0&&(f=0),m.writeFloatBE(v,f),4}}class V extends s{constructor(v){super(8,v)}decode(v,m){return m===void 0&&(m=0),v.readDoubleLE(m)}encode(v,m,f){return f===void 0&&(f=0),m.writeDoubleLE(v,f),8}}class $ extends s{constructor(v){super(8,v)}decode(v,m){return m===void 0&&(m=0),v.readDoubleBE(m)}encode(v,m,f){return f===void 0&&(f=0),m.writeDoubleBE(v,f),8}}class ne extends s{constructor(v,m,f){if(!(v instanceof s))throw new TypeError("elementLayout must be a Layout");if(!(m instanceof i&&m.isCount()||Number.isInteger(m)&&0<=m))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let y=-1;!(m instanceof i)&&0<v.span&&(y=m*v.span),super(y,f),this.elementLayout=v,this.count=m}getSpan(v,m){if(0<=this.span)return this.span;m===void 0&&(m=0);let f=0,y=this.count;if(y instanceof i&&(y=y.decode(v,m)),0<this.elementLayout.span)f=y*this.elementLayout.span;else{let O=0;for(;O<y;)f+=this.elementLayout.getSpan(v,m+f),++O}return f}decode(v,m){m===void 0&&(m=0);const f=[];let y=0,O=this.count;for(O instanceof i&&(O=O.decode(v,m));y<O;)f.push(this.elementLayout.decode(v,m)),m+=this.elementLayout.getSpan(v,m),y+=1;return f}encode(v,m,f){f===void 0&&(f=0);const y=this.elementLayout,O=v.reduce((D,Z)=>D+y.encode(Z,m,f+D),0);return this.count instanceof i&&this.count.encode(v.length,m,f),O}}class ce extends s{constructor(v,m,f){if(!(Array.isArray(v)&&v.reduce((O,D)=>O&&D instanceof s,!0)))throw new TypeError("fields must be array of Layout instances");typeof m=="boolean"&&f===void 0&&(f=m,m=void 0);for(const O of v)if(0>O.span&&O.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let y=-1;try{y=v.reduce((O,D)=>O+D.getSpan(),0)}catch{}super(y,m),this.fields=v,this.decodePrefixes=!!f}getSpan(v,m){if(0<=this.span)return this.span;m===void 0&&(m=0);let f=0;try{f=this.fields.reduce((y,O)=>{const D=O.getSpan(v,m);return m+=D,y+D},0)}catch{throw new RangeError("indeterminate span")}return f}decode(v,m){m===void 0&&(m=0);const f=this.makeDestinationObject();for(const y of this.fields)if(y.property!==void 0&&(f[y.property]=y.decode(v,m)),m+=y.getSpan(v,m),this.decodePrefixes&&v.length===m)break;return f}encode(v,m,f){f===void 0&&(f=0);const y=f;let O=0,D=0;for(const Z of this.fields){let se=Z.span;if(D=0<se?se:0,Z.property!==void 0){const re=v[Z.property];re!==void 0&&(D=Z.encode(re,m,f),0>se&&(se=Z.getSpan(m,f)))}O=f,f+=se}return O+D-y}fromArray(v){const m=this.makeDestinationObject();for(const f of this.fields)f.property!==void 0&&0<v.length&&(m[f.property]=v.shift());return m}layoutFor(v){if(typeof v!="string")throw new TypeError("property must be string");for(const m of this.fields)if(m.property===v)return m}offsetOf(v){if(typeof v!="string")throw new TypeError("property must be string");let m=0;for(const f of this.fields){if(f.property===v)return m;0>f.span?m=-1:0<=m&&(m+=f.span)}}}class ie{constructor(v){this.property=v}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class ue extends ie{constructor(v,m){if(!(v instanceof i&&v.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(m||v.property||"variant"),this.layout=v}decode(v,m){return this.layout.decode(v,m)}encode(v,m,f){return this.layout.encode(v,m,f)}}class G extends s{constructor(v,m,f){const y=v instanceof u||v instanceof d;if(y)v=new ue(new c(v));else if(v instanceof i&&v.isCount())v=new ue(v);else if(!(v instanceof ie))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(m===void 0&&(m=null),!(m===null||m instanceof s))throw new TypeError("defaultLayout must be null or a Layout");if(m!==null){if(0>m.span)throw new Error("defaultLayout must have constant span");m.property===void 0&&(m=m.replicate("content"))}let O=-1;m&&(O=m.span,0<=O&&y&&(O+=v.layout.span)),super(O,f),this.discriminator=v,this.usesPrefixDiscriminator=y,this.defaultLayout=m,this.registry={};let D=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(Z){return D(Z)},this.configGetSourceVariant=function(Z){D=Z.bind(this)}}getSpan(v,m){if(0<=this.span)return this.span;m===void 0&&(m=0);const f=this.getVariant(v,m);if(!f)throw new Error("unable to determine span for unrecognized variant");return f.getSpan(v,m)}defaultGetSourceVariant(v){if(v.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&v.hasOwnProperty(this.defaultLayout.property))return;const m=this.registry[v[this.discriminator.property]];if(m&&(!m.layout||v.hasOwnProperty(m.property)))return m}else for(const m in this.registry){const f=this.registry[m];if(v.hasOwnProperty(f.property))return f}throw new Error("unable to infer src variant")}decode(v,m){m===void 0&&(m=0);let f;const y=this.discriminator,O=y.decode(v,m);let D=this.registry[O];if(D===void 0){let Z=0;D=this.defaultLayout,this.usesPrefixDiscriminator&&(Z=y.layout.span),f=this.makeDestinationObject(),f[y.property]=O,f[D.property]=this.defaultLayout.decode(v,m+Z)}else f=D.decode(v,m);return f}encode(v,m,f){f===void 0&&(f=0);const y=this.getSourceVariant(v);if(y===void 0){const O=this.discriminator,D=this.defaultLayout;let Z=0;return this.usesPrefixDiscriminator&&(Z=O.layout.span),O.encode(v[O.property],m,f),Z+D.encode(v[D.property],m,f+Z)}return y.encode(v,m,f)}addVariant(v,m,f){const y=new Y(this,v,m,f);return this.registry[v]=y,y}getVariant(v,m){let f=v;return Buffer.isBuffer(v)&&(m===void 0&&(m=0),f=this.discriminator.decode(v,m)),this.registry[f]}}class Y extends s{constructor(v,m,f,y){if(!(v instanceof G))throw new TypeError("union must be a Union");if(!Number.isInteger(m)||0>m)throw new TypeError("variant must be a (non-negative) integer");if(typeof f=="string"&&y===void 0&&(y=f,f=null),f){if(!(f instanceof s))throw new TypeError("layout must be a Layout");if(v.defaultLayout!==null&&0<=f.span&&f.span>v.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof y!="string")throw new TypeError("variant must have a String property")}let O=v.span;0>v.span&&(O=f?f.span:0,0<=O&&v.usesPrefixDiscriminator&&(O+=v.discriminator.layout.span)),super(O,y),this.union=v,this.variant=m,this.layout=f||null}getSpan(v,m){if(0<=this.span)return this.span;m===void 0&&(m=0);let f=0;return this.union.usesPrefixDiscriminator&&(f=this.union.discriminator.layout.span),f+this.layout.getSpan(v,m+f)}decode(v,m){const f=this.makeDestinationObject();if(m===void 0&&(m=0),this!==this.union.getVariant(v,m))throw new Error("variant mismatch");let y=0;return this.union.usesPrefixDiscriminator&&(y=this.union.discriminator.layout.span),this.layout?f[this.property]=this.layout.decode(v,m+y):this.property?f[this.property]=!0:this.union.usesPrefixDiscriminator&&(f[this.union.discriminator.property]=this.variant),f}encode(v,m,f){f===void 0&&(f=0);let y=0;if(this.union.usesPrefixDiscriminator&&(y=this.union.discriminator.layout.span),this.layout&&!v.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,m,f);let O=y;if(this.layout&&(this.layout.encode(v[this.property],m,f+y),O+=this.layout.getSpan(m,f+y),0<=this.union.span&&O>this.union.span))throw new Error("encoded variant overruns containing union");return O}fromArray(v){if(this.layout)return this.layout.fromArray(v)}}function X(B){return 0>B&&(B+=4294967296),B}class W extends s{constructor(v,m,f){if(!(v instanceof u||v instanceof d))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof m=="string"&&f===void 0&&(f=m,m=void 0),4<v.span)throw new RangeError("word cannot exceed 32 bits");super(v.span,f),this.word=v,this.msb=!!m,this.fields=[];let y=0;this._packedSetValue=function(O){return y=X(O),this},this._packedGetValue=function(){return y}}decode(v,m){const f=this.makeDestinationObject();m===void 0&&(m=0);const y=this.word.decode(v,m);this._packedSetValue(y);for(const O of this.fields)O.property!==void 0&&(f[O.property]=O.decode(y));return f}encode(v,m,f){f===void 0&&(f=0);const y=this.word.decode(m,f);this._packedSetValue(y);for(const O of this.fields)if(O.property!==void 0){const D=v[O.property];D!==void 0&&O.encode(D)}return this.word.encode(this._packedGetValue(),m,f)}addField(v,m){const f=new T(this,v,m);return this.fields.push(f),f}addBoolean(v){const m=new h(this,v);return this.fields.push(m),m}fieldFor(v){if(typeof v!="string")throw new TypeError("property must be string");for(const m of this.fields)if(m.property===v)return m}}class T{constructor(v,m,f){if(!(v instanceof W))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(m)||0>=m)throw new TypeError("bits must be positive integer");const y=8*v.span,O=v.fields.reduce((D,Z)=>D+Z.bits,0);if(m+O>y)throw new Error("bits too long for span remainder ("+(y-O)+" of "+y+" remain)");this.container=v,this.bits=m,this.valueMask=(1<<m)-1,m===32&&(this.valueMask=4294967295),this.start=O,this.container.msb&&(this.start=y-O-m),this.wordMask=X(this.valueMask<<this.start),this.property=f}decode(){const v=this.container._packedGetValue();return X(v&this.wordMask)>>>this.start}encode(v){if(!Number.isInteger(v)||v!==X(v&this.valueMask))throw new TypeError(t("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const m=this.container._packedGetValue(),f=X(v<<this.start);this.container._packedSetValue(X(m&~this.wordMask)|f)}}class h extends T{constructor(v,m){super(v,1,m)}decode(v,m){return!!T.prototype.decode.call(this,v,m)}encode(v){return typeof v=="boolean"&&(v=+v),T.prototype.encode.call(this,v)}}class _ extends s{constructor(v,m){if(!(v instanceof i&&v.isCount()||Number.isInteger(v)&&0<=v))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let f=-1;v instanceof i||(f=v),super(f,m),this.length=v}getSpan(v,m){let f=this.span;return 0>f&&(f=this.length.decode(v,m)),f}decode(v,m){m===void 0&&(m=0);let f=this.span;return 0>f&&(f=this.length.decode(v,m)),v.slice(m,m+f)}encode(v,m,f){let y=this.length;if(this.length instanceof i&&(y=v.length),!(Buffer.isBuffer(v)&&y===v.length))throw new TypeError(t("Blob.encode",this)+" requires (length "+y+") Buffer as src");if(f+y>m.length)throw new RangeError("encoding overruns Buffer");return m.write(v.toString("hex"),f,y,"hex"),this.length instanceof i&&this.length.encode(y,m,f),y}}class A extends s{constructor(v){super(-1,v)}getSpan(v,m){if(!Buffer.isBuffer(v))throw new TypeError("b must be a Buffer");m===void 0&&(m=0);let f=m;for(;f<v.length&&v[f]!==0;)f+=1;return 1+f-m}decode(v,m,f){m===void 0&&(m=0);let y=this.getSpan(v,m);return v.slice(m,m+y-1).toString("utf-8")}encode(v,m,f){f===void 0&&(f=0),typeof v!="string"&&(v=v.toString());const y=new Buffer(v,"utf8"),O=y.length;if(f+O>m.length)throw new RangeError("encoding overruns Buffer");return y.copy(m,f),m[f+O]=0,O+1}}class C extends s{constructor(v,m){if(typeof v=="string"&&m===void 0&&(m=v,v=void 0),v===void 0)v=-1;else if(!Number.isInteger(v))throw new TypeError("maxSpan must be an integer");super(-1,m),this.maxSpan=v}getSpan(v,m){if(!Buffer.isBuffer(v))throw new TypeError("b must be a Buffer");return m===void 0&&(m=0),v.length-m}decode(v,m,f){m===void 0&&(m=0);let y=this.getSpan(v,m);if(0<=this.maxSpan&&this.maxSpan<y)throw new RangeError("text length exceeds maxSpan");return v.slice(m,m+y).toString("utf-8")}encode(v,m,f){f===void 0&&(f=0),typeof v!="string"&&(v=v.toString());const y=new Buffer(v,"utf8"),O=y.length;if(0<=this.maxSpan&&this.maxSpan<O)throw new RangeError("text length exceeds maxSpan");if(f+O>m.length)throw new RangeError("encoding overruns Buffer");return y.copy(m,f),O}}class L extends s{constructor(v,m){super(0,m),this.value=v}decode(v,m,f){return this.value}encode(v,m,f){return 0}}return Me.ExternalLayout=i,Me.GreedyCount=o,Me.OffsetLayout=c,Me.UInt=u,Me.UIntBE=d,Me.Int=g,Me.IntBE=w,Me.Float=j,Me.FloatBE=F,Me.Double=V,Me.DoubleBE=$,Me.Sequence=ne,Me.Structure=ce,Me.UnionDiscriminator=ie,Me.UnionLayoutDiscriminator=ue,Me.Union=G,Me.VariantLayout=Y,Me.BitStructure=W,Me.BitField=T,Me.Boolean=h,Me.Blob=_,Me.CString=A,Me.UTF8=C,Me.Constant=L,Me.greedy=((B,v)=>new o(B,v)),Me.offset=((B,v,m)=>new c(B,v,m)),Me.u8=(B=>new u(1,B)),Me.u16=(B=>new u(2,B)),Me.u24=(B=>new u(3,B)),Me.u32=(B=>new u(4,B)),Me.u40=(B=>new u(5,B)),Me.u48=(B=>new u(6,B)),Me.nu64=(B=>new R(B)),Me.u16be=(B=>new d(2,B)),Me.u24be=(B=>new d(3,B)),Me.u32be=(B=>new d(4,B)),Me.u40be=(B=>new d(5,B)),Me.u48be=(B=>new d(6,B)),Me.nu64be=(B=>new M(B)),Me.s8=(B=>new g(1,B)),Me.s16=(B=>new g(2,B)),Me.s24=(B=>new g(3,B)),Me.s32=(B=>new g(4,B)),Me.s40=(B=>new g(5,B)),Me.s48=(B=>new g(6,B)),Me.ns64=(B=>new U(B)),Me.s16be=(B=>new w(2,B)),Me.s24be=(B=>new w(3,B)),Me.s32be=(B=>new w(4,B)),Me.s40be=(B=>new w(5,B)),Me.s48be=(B=>new w(6,B)),Me.ns64be=(B=>new z(B)),Me.f32=(B=>new j(B)),Me.f32be=(B=>new F(B)),Me.f64=(B=>new V(B)),Me.f64be=(B=>new $(B)),Me.struct=((B,v,m)=>new ce(B,v,m)),Me.bits=((B,v,m)=>new W(B,v,m)),Me.seq=((B,v,m)=>new ne(B,v,m)),Me.union=((B,v,m)=>new G(B,v,m)),Me.unionLayoutDiscriminator=((B,v)=>new ue(B,v)),Me.blob=((B,v)=>new _(B,v)),Me.cstr=(B=>new A(B)),Me.utf8=((B,v)=>new C(B,v)),Me.const=((B,v)=>new L(B,v)),Me}const UN=Ku(RN);var Rb;function DN(){return Rb||(Rb=1,(function(s){var t=gc&&gc.__importDefault||function(W){return W&&W.__esModule?W:{default:W}};Object.defineProperty(s,"__esModule",{value:!0}),s.struct=s.f64=s.f32=s.i32=s.u32=s.i16=s.u16=s.i8=s.u8=void 0,s.u64=d,s.i64=g,s.u128=w,s.i128=E,s.u256=I,s.i256=k,s.publicKey=M,s.option=z,s.bool=j,s.vec=$,s.tagged=ne,s.vecU8=ce,s.str=ie,s.rustEnum=ue,s.array=G,s.map=X;const n=Ab(),i=UN,o=t(Y0());var c=Ab();Object.defineProperty(s,"u8",{enumerable:!0,get:function(){return c.u8}}),Object.defineProperty(s,"i8",{enumerable:!0,get:function(){return c.s8}}),Object.defineProperty(s,"u16",{enumerable:!0,get:function(){return c.u16}}),Object.defineProperty(s,"i16",{enumerable:!0,get:function(){return c.s16}}),Object.defineProperty(s,"u32",{enumerable:!0,get:function(){return c.u32}}),Object.defineProperty(s,"i32",{enumerable:!0,get:function(){return c.s32}}),Object.defineProperty(s,"f32",{enumerable:!0,get:function(){return c.f32}}),Object.defineProperty(s,"f64",{enumerable:!0,get:function(){return c.f64}}),Object.defineProperty(s,"struct",{enumerable:!0,get:function(){return c.struct}});class u extends n.Layout{constructor(T,h,_){super(T,_),this.blob=(0,n.blob)(T),this.signed=h}decode(T,h=0){const _=new o.default(this.blob.decode(T,h),10,"le");return this.signed?_.fromTwos(this.span*8).clone():_}encode(T,h,_=0){return this.signed&&(T=T.toTwos(this.span*8)),this.blob.encode(T.toArrayLike(Buffer,"le",this.span),h,_)}}function d(W){return new u(8,!1,W)}function g(W){return new u(8,!0,W)}function w(W){return new u(16,!1,W)}function E(W){return new u(16,!0,W)}function I(W){return new u(32,!1,W)}function k(W){return new u(32,!0,W)}class R extends n.Layout{constructor(T,h,_,A){super(T.span,A),this.layout=T,this.decoder=h,this.encoder=_}decode(T,h){return this.decoder(this.layout.decode(T,h))}encode(T,h,_){return this.layout.encode(this.encoder(T),h,_)}getSpan(T,h){return this.layout.getSpan(T,h)}}function M(W){return new R((0,n.blob)(32),T=>new i.PublicKey(T),T=>T.toBuffer(),W)}class U extends n.Layout{constructor(T,h){super(-1,h),this.layout=T,this.discriminator=(0,n.u8)()}encode(T,h,_=0){return T==null?this.discriminator.encode(0,h,_):(this.discriminator.encode(1,h,_),this.layout.encode(T,h,_+1)+1)}decode(T,h=0){const _=this.discriminator.decode(T,h);if(_===0)return null;if(_===1)return this.layout.decode(T,h+1);throw new Error("Invalid option "+this.property)}getSpan(T,h=0){const _=this.discriminator.decode(T,h);if(_===0)return 1;if(_===1)return this.layout.getSpan(T,h+1)+1;throw new Error("Invalid option "+this.property)}}function z(W,T){return new U(W,T)}function j(W){return new R((0,n.u8)(),F,V,W)}function F(W){if(W===0)return!1;if(W===1)return!0;throw new Error("Invalid bool: "+W)}function V(W){return W?1:0}function $(W,T){const h=(0,n.u32)("length"),_=(0,n.struct)([h,(0,n.seq)(W,(0,n.offset)(h,-h.span),"values")]);return new R(_,({values:A})=>A,A=>({values:A}),T)}function ne(W,T,h){const _=(0,n.struct)([d("tag"),T.replicate("data")]);function A({tag:C,data:L}){if(!C.eq(W))throw new Error("Invalid tag, expected: "+W.toString("hex")+", got: "+C.toString("hex"));return L}return new R(_,A,C=>({tag:W,data:C}),h)}function ce(W){const T=(0,n.u32)("length"),h=(0,n.struct)([T,(0,n.blob)((0,n.offset)(T,-T.span),"data")]);return new R(h,({data:_})=>_,_=>({data:_}),W)}function ie(W){return new R(ce(),T=>T.toString("utf-8"),T=>Buffer.from(T,"utf-8"),W)}function ue(W,T,h){const _=(0,n.union)(h??(0,n.u8)(),T);return W.forEach((A,C)=>_.addVariant(C,A,A.property)),_}function G(W,T,h){const _=(0,n.struct)([(0,n.seq)(W,T,"values")]);return new R(_,({values:A})=>A,A=>({values:A}),h)}class Y extends n.Layout{constructor(T,h,_){super(T.span+h.span,_),this.keyLayout=T,this.valueLayout=h}decode(T,h){h=h||0;const _=this.keyLayout.decode(T,h),A=this.valueLayout.decode(T,h+this.keyLayout.getSpan(T,h));return[_,A]}encode(T,h,_){_=_||0;const A=this.keyLayout.encode(T[0],h,_),C=this.valueLayout.encode(T[1],h,_+A);return A+C}getSpan(T,h){return this.keyLayout.getSpan(T,h)+this.valueLayout.getSpan(T,h)}}function X(W,T,h){const _=(0,n.u32)("length"),A=(0,n.struct)([_,(0,n.seq)(new Y(W,T),(0,n.offset)(_,-_.span),"values")]);return new R(A,({values:C})=>new Map(C),C=>({values:Array.from(C.entries())}),h)}})(gc)),gc}var nt=DN();function _o(s){let t=s.length;for(;--t>=0;)s[t]=0}const LN=3,zN=258,L_=29,HN=256,jN=HN+1+L_,z_=30,PN=512,qN=new Array((jN+2)*2);_o(qN);const KN=new Array(z_*2);_o(KN);const VN=new Array(PN);_o(VN);const GN=new Array(zN-LN+1);_o(GN);const FN=new Array(L_);_o(FN);const YN=new Array(z_);_o(YN);const ZN=(s,t,n,i)=>{let o=s&65535|0,c=s>>>16&65535|0,u=0;for(;n!==0;){u=n>2e3?2e3:n,n-=u;do o=o+t[i++]|0,c=c+o|0;while(--u);o%=65521,c%=65521}return o|c<<16|0};var O0=ZN;const XN=()=>{let s,t=[];for(var n=0;n<256;n++){s=n;for(var i=0;i<8;i++)s=s&1?3988292384^s>>>1:s>>>1;t[n]=s}return t},WN=new Uint32Array(XN()),$N=(s,t,n,i)=>{const o=WN,c=i+n;s^=-1;for(let u=i;u<c;u++)s=s>>>8^o[(s^t[u])&255];return s^-1};var Pr=$N,N0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},H_={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const QN=(s,t)=>Object.prototype.hasOwnProperty.call(s,t);var JN=function(s){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const i in n)QN(n,i)&&(s[i]=n[i])}}return s},ek=s=>{let t=0;for(let i=0,o=s.length;i<o;i++)t+=s[i].length;const n=new Uint8Array(t);for(let i=0,o=0,c=s.length;i<c;i++){let u=s[i];n.set(u,o),o+=u.length}return n},j_={assign:JN,flattenChunks:ek};let P_=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{P_=!1}const Ic=new Uint8Array(256);for(let s=0;s<256;s++)Ic[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;Ic[254]=Ic[254]=1;var tk=s=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(s);let t,n,i,o,c,u=s.length,d=0;for(o=0;o<u;o++)n=s.charCodeAt(o),(n&64512)===55296&&o+1<u&&(i=s.charCodeAt(o+1),(i&64512)===56320&&(n=65536+(n-55296<<10)+(i-56320),o++)),d+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(d),c=0,o=0;c<d;o++)n=s.charCodeAt(o),(n&64512)===55296&&o+1<u&&(i=s.charCodeAt(o+1),(i&64512)===56320&&(n=65536+(n-55296<<10)+(i-56320),o++)),n<128?t[c++]=n:n<2048?(t[c++]=192|n>>>6,t[c++]=128|n&63):n<65536?(t[c++]=224|n>>>12,t[c++]=128|n>>>6&63,t[c++]=128|n&63):(t[c++]=240|n>>>18,t[c++]=128|n>>>12&63,t[c++]=128|n>>>6&63,t[c++]=128|n&63);return t};const nk=(s,t)=>{if(t<65534&&s.subarray&&P_)return String.fromCharCode.apply(null,s.length===t?s:s.subarray(0,t));let n="";for(let i=0;i<t;i++)n+=String.fromCharCode(s[i]);return n};var rk=(s,t)=>{const n=t||s.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(s.subarray(0,t));let i,o;const c=new Array(n*2);for(o=0,i=0;i<n;){let u=s[i++];if(u<128){c[o++]=u;continue}let d=Ic[u];if(d>4){c[o++]=65533,i+=d-1;continue}for(u&=d===2?31:d===3?15:7;d>1&&i<n;)u=u<<6|s[i++]&63,d--;if(d>1){c[o++]=65533;continue}u<65536?c[o++]=u:(u-=65536,c[o++]=55296|u>>10&1023,c[o++]=56320|u&1023)}return nk(c,o)},ik=(s,t)=>{t=t||s.length,t>s.length&&(t=s.length);let n=t-1;for(;n>=0&&(s[n]&192)===128;)n--;return n<0||n===0?t:n+Ic[s[n]]>t?n:t},k0={string2buf:tk,buf2string:rk,utf8border:ik};function sk(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var ak=sk;const du=16209,ok=16191;var ck=function(t,n){let i,o,c,u,d,g,w,E,I,k,R,M,U,z,j,F,V,$,ne,ce,ie,ue,G,Y;const X=t.state;i=t.next_in,G=t.input,o=i+(t.avail_in-5),c=t.next_out,Y=t.output,u=c-(n-t.avail_out),d=c+(t.avail_out-257),g=X.dmax,w=X.wsize,E=X.whave,I=X.wnext,k=X.window,R=X.hold,M=X.bits,U=X.lencode,z=X.distcode,j=(1<<X.lenbits)-1,F=(1<<X.distbits)-1;e:do{M<15&&(R+=G[i++]<<M,M+=8,R+=G[i++]<<M,M+=8),V=U[R&j];t:for(;;){if($=V>>>24,R>>>=$,M-=$,$=V>>>16&255,$===0)Y[c++]=V&65535;else if($&16){ne=V&65535,$&=15,$&&(M<$&&(R+=G[i++]<<M,M+=8),ne+=R&(1<<$)-1,R>>>=$,M-=$),M<15&&(R+=G[i++]<<M,M+=8,R+=G[i++]<<M,M+=8),V=z[R&F];n:for(;;){if($=V>>>24,R>>>=$,M-=$,$=V>>>16&255,$&16){if(ce=V&65535,$&=15,M<$&&(R+=G[i++]<<M,M+=8,M<$&&(R+=G[i++]<<M,M+=8)),ce+=R&(1<<$)-1,ce>g){t.msg="invalid distance too far back",X.mode=du;break e}if(R>>>=$,M-=$,$=c-u,ce>$){if($=ce-$,$>E&&X.sane){t.msg="invalid distance too far back",X.mode=du;break e}if(ie=0,ue=k,I===0){if(ie+=w-$,$<ne){ne-=$;do Y[c++]=k[ie++];while(--$);ie=c-ce,ue=Y}}else if(I<$){if(ie+=w+I-$,$-=I,$<ne){ne-=$;do Y[c++]=k[ie++];while(--$);if(ie=0,I<ne){$=I,ne-=$;do Y[c++]=k[ie++];while(--$);ie=c-ce,ue=Y}}}else if(ie+=I-$,$<ne){ne-=$;do Y[c++]=k[ie++];while(--$);ie=c-ce,ue=Y}for(;ne>2;)Y[c++]=ue[ie++],Y[c++]=ue[ie++],Y[c++]=ue[ie++],ne-=3;ne&&(Y[c++]=ue[ie++],ne>1&&(Y[c++]=ue[ie++]))}else{ie=c-ce;do Y[c++]=Y[ie++],Y[c++]=Y[ie++],Y[c++]=Y[ie++],ne-=3;while(ne>2);ne&&(Y[c++]=Y[ie++],ne>1&&(Y[c++]=Y[ie++]))}}else if(($&64)===0){V=z[(V&65535)+(R&(1<<$)-1)];continue n}else{t.msg="invalid distance code",X.mode=du;break e}break}}else if(($&64)===0){V=U[(V&65535)+(R&(1<<$)-1)];continue t}else if($&32){X.mode=ok;break e}else{t.msg="invalid literal/length code",X.mode=du;break e}break}}while(i<o&&c<d);ne=M>>3,i-=ne,M-=ne<<3,R&=(1<<M)-1,t.next_in=i,t.next_out=c,t.avail_in=i<o?5+(o-i):5-(i-o),t.avail_out=c<d?257+(d-c):257-(c-d),X.hold=R,X.bits=M};const $a=15,xb=852,Tb=592,Ob=0,t0=1,Nb=2,lk=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),uk=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),fk=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dk=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),hk=(s,t,n,i,o,c,u,d)=>{const g=d.bits;let w=0,E=0,I=0,k=0,R=0,M=0,U=0,z=0,j=0,F=0,V,$,ne,ce,ie,ue=null,G;const Y=new Uint16Array($a+1),X=new Uint16Array($a+1);let W=null,T,h,_;for(w=0;w<=$a;w++)Y[w]=0;for(E=0;E<i;E++)Y[t[n+E]]++;for(R=g,k=$a;k>=1&&Y[k]===0;k--);if(R>k&&(R=k),k===0)return o[c++]=1<<24|64<<16|0,o[c++]=1<<24|64<<16|0,d.bits=1,0;for(I=1;I<k&&Y[I]===0;I++);for(R<I&&(R=I),z=1,w=1;w<=$a;w++)if(z<<=1,z-=Y[w],z<0)return-1;if(z>0&&(s===Ob||k!==1))return-1;for(X[1]=0,w=1;w<$a;w++)X[w+1]=X[w]+Y[w];for(E=0;E<i;E++)t[n+E]!==0&&(u[X[t[n+E]]++]=E);if(s===Ob?(ue=W=u,G=20):s===t0?(ue=lk,W=uk,G=257):(ue=fk,W=dk,G=0),F=0,E=0,w=I,ie=c,M=R,U=0,ne=-1,j=1<<R,ce=j-1,s===t0&&j>xb||s===Nb&&j>Tb)return 1;for(;;){T=w-U,u[E]+1<G?(h=0,_=u[E]):u[E]>=G?(h=W[u[E]-G],_=ue[u[E]-G]):(h=96,_=0),V=1<<w-U,$=1<<M,I=$;do $-=V,o[ie+(F>>U)+$]=T<<24|h<<16|_|0;while($!==0);for(V=1<<w-1;F&V;)V>>=1;if(V!==0?(F&=V-1,F+=V):F=0,E++,--Y[w]===0){if(w===k)break;w=t[n+u[E]]}if(w>R&&(F&ce)!==ne){for(U===0&&(U=R),ie+=I,M=w-U,z=1<<M;M+U<k&&(z-=Y[M+U],!(z<=0));)M++,z<<=1;if(j+=1<<M,s===t0&&j>xb||s===Nb&&j>Tb)return 1;ne=F&ce,o[ne]=R<<24|M<<16|ie-c|0}}return F!==0&&(o[ie+F]=w-U<<24|64<<16|0),d.bits=R,0};var Ec=hk;const pk=0,q_=1,K_=2,{Z_FINISH:kb,Z_BLOCK:mk,Z_TREES:hu,Z_OK:na,Z_STREAM_END:yk,Z_NEED_DICT:gk,Z_STREAM_ERROR:_r,Z_DATA_ERROR:V_,Z_MEM_ERROR:G_,Z_BUF_ERROR:bk,Z_DEFLATED:Ib}=H_,sf=16180,Cb=16181,Bb=16182,Mb=16183,Ub=16184,Db=16185,Lb=16186,zb=16187,Hb=16188,jb=16189,zu=16190,_i=16191,n0=16192,Pb=16193,r0=16194,qb=16195,Kb=16196,Vb=16197,Gb=16198,pu=16199,mu=16200,Fb=16201,Yb=16202,Zb=16203,Xb=16204,Wb=16205,i0=16206,$b=16207,Qb=16208,Ft=16209,F_=16210,Y_=16211,wk=852,_k=592,vk=15,Ek=vk,Jb=s=>(s>>>24&255)+(s>>>8&65280)+((s&65280)<<8)+((s&255)<<24);function Sk(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const oa=s=>{if(!s)return 1;const t=s.state;return!t||t.strm!==s||t.mode<sf||t.mode>Y_?1:0},Z_=s=>{if(oa(s))return _r;const t=s.state;return s.total_in=s.total_out=t.total=0,s.msg="",t.wrap&&(s.adler=t.wrap&1),t.mode=sf,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(wk),t.distcode=t.distdyn=new Int32Array(_k),t.sane=1,t.back=-1,na},X_=s=>{if(oa(s))return _r;const t=s.state;return t.wsize=0,t.whave=0,t.wnext=0,Z_(s)},W_=(s,t)=>{let n;if(oa(s))return _r;const i=s.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?_r:(i.window!==null&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,X_(s))},$_=(s,t)=>{if(!s)return _r;const n=new Sk;s.state=n,n.strm=s,n.window=null,n.mode=sf;const i=W_(s,t);return i!==na&&(s.state=null),i},Ak=s=>$_(s,Ek);let ew=!0,s0,a0;const Rk=s=>{if(ew){s0=new Int32Array(512),a0=new Int32Array(32);let t=0;for(;t<144;)s.lens[t++]=8;for(;t<256;)s.lens[t++]=9;for(;t<280;)s.lens[t++]=7;for(;t<288;)s.lens[t++]=8;for(Ec(q_,s.lens,0,288,s0,0,s.work,{bits:9}),t=0;t<32;)s.lens[t++]=5;Ec(K_,s.lens,0,32,a0,0,s.work,{bits:5}),ew=!1}s.lencode=s0,s.lenbits=9,s.distcode=a0,s.distbits=5},Q_=(s,t,n,i)=>{let o;const c=s.state;return c.window===null&&(c.wsize=1<<c.wbits,c.wnext=0,c.whave=0,c.window=new Uint8Array(c.wsize)),i>=c.wsize?(c.window.set(t.subarray(n-c.wsize,n),0),c.wnext=0,c.whave=c.wsize):(o=c.wsize-c.wnext,o>i&&(o=i),c.window.set(t.subarray(n-i,n-i+o),c.wnext),i-=o,i?(c.window.set(t.subarray(n-i,n),0),c.wnext=i,c.whave=c.wsize):(c.wnext+=o,c.wnext===c.wsize&&(c.wnext=0),c.whave<c.wsize&&(c.whave+=o))),0},xk=(s,t)=>{let n,i,o,c,u,d,g,w,E,I,k,R,M,U,z=0,j,F,V,$,ne,ce,ie,ue;const G=new Uint8Array(4);let Y,X;const W=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(oa(s)||!s.output||!s.input&&s.avail_in!==0)return _r;n=s.state,n.mode===_i&&(n.mode=n0),u=s.next_out,o=s.output,g=s.avail_out,c=s.next_in,i=s.input,d=s.avail_in,w=n.hold,E=n.bits,I=d,k=g,ue=na;e:for(;;)switch(n.mode){case sf:if(n.wrap===0){n.mode=n0;break}for(;E<16;){if(d===0)break e;d--,w+=i[c++]<<E,E+=8}if(n.wrap&2&&w===35615){n.wbits===0&&(n.wbits=15),n.check=0,G[0]=w&255,G[1]=w>>>8&255,n.check=Pr(n.check,G,2,0),w=0,E=0,n.mode=Cb;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((w&255)<<8)+(w>>8))%31){s.msg="incorrect header check",n.mode=Ft;break}if((w&15)!==Ib){s.msg="unknown compression method",n.mode=Ft;break}if(w>>>=4,E-=4,ie=(w&15)+8,n.wbits===0&&(n.wbits=ie),ie>15||ie>n.wbits){s.msg="invalid window size",n.mode=Ft;break}n.dmax=1<<n.wbits,n.flags=0,s.adler=n.check=1,n.mode=w&512?jb:_i,w=0,E=0;break;case Cb:for(;E<16;){if(d===0)break e;d--,w+=i[c++]<<E,E+=8}if(n.flags=w,(n.flags&255)!==Ib){s.msg="unknown compression method",n.mode=Ft;break}if(n.flags&57344){s.msg="unknown header flags set",n.mode=Ft;break}n.head&&(n.head.text=w>>8&1),n.flags&512&&n.wrap&4&&(G[0]=w&255,G[1]=w>>>8&255,n.check=Pr(n.check,G,2,0)),w=0,E=0,n.mode=Bb;case Bb:for(;E<32;){if(d===0)break e;d--,w+=i[c++]<<E,E+=8}n.head&&(n.head.time=w),n.flags&512&&n.wrap&4&&(G[0]=w&255,G[1]=w>>>8&255,G[2]=w>>>16&255,G[3]=w>>>24&255,n.check=Pr(n.check,G,4,0)),w=0,E=0,n.mode=Mb;case Mb:for(;E<16;){if(d===0)break e;d--,w+=i[c++]<<E,E+=8}n.head&&(n.head.xflags=w&255,n.head.os=w>>8),n.flags&512&&n.wrap&4&&(G[0]=w&255,G[1]=w>>>8&255,n.check=Pr(n.check,G,2,0)),w=0,E=0,n.mode=Ub;case Ub:if(n.flags&1024){for(;E<16;){if(d===0)break e;d--,w+=i[c++]<<E,E+=8}n.length=w,n.head&&(n.head.extra_len=w),n.flags&512&&n.wrap&4&&(G[0]=w&255,G[1]=w>>>8&255,n.check=Pr(n.check,G,2,0)),w=0,E=0}else n.head&&(n.head.extra=null);n.mode=Db;case Db:if(n.flags&1024&&(R=n.length,R>d&&(R=d),R&&(n.head&&(ie=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(c,c+R),ie)),n.flags&512&&n.wrap&4&&(n.check=Pr(n.check,i,R,c)),d-=R,c+=R,n.length-=R),n.length))break e;n.length=0,n.mode=Lb;case Lb:if(n.flags&2048){if(d===0)break e;R=0;do ie=i[c+R++],n.head&&ie&&n.length<65536&&(n.head.name+=String.fromCharCode(ie));while(ie&&R<d);if(n.flags&512&&n.wrap&4&&(n.check=Pr(n.check,i,R,c)),d-=R,c+=R,ie)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=zb;case zb:if(n.flags&4096){if(d===0)break e;R=0;do ie=i[c+R++],n.head&&ie&&n.length<65536&&(n.head.comment+=String.fromCharCode(ie));while(ie&&R<d);if(n.flags&512&&n.wrap&4&&(n.check=Pr(n.check,i,R,c)),d-=R,c+=R,ie)break e}else n.head&&(n.head.comment=null);n.mode=Hb;case Hb:if(n.flags&512){for(;E<16;){if(d===0)break e;d--,w+=i[c++]<<E,E+=8}if(n.wrap&4&&w!==(n.check&65535)){s.msg="header crc mismatch",n.mode=Ft;break}w=0,E=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),s.adler=n.check=0,n.mode=_i;break;case jb:for(;E<32;){if(d===0)break e;d--,w+=i[c++]<<E,E+=8}s.adler=n.check=Jb(w),w=0,E=0,n.mode=zu;case zu:if(n.havedict===0)return s.next_out=u,s.avail_out=g,s.next_in=c,s.avail_in=d,n.hold=w,n.bits=E,gk;s.adler=n.check=1,n.mode=_i;case _i:if(t===mk||t===hu)break e;case n0:if(n.last){w>>>=E&7,E-=E&7,n.mode=i0;break}for(;E<3;){if(d===0)break e;d--,w+=i[c++]<<E,E+=8}switch(n.last=w&1,w>>>=1,E-=1,w&3){case 0:n.mode=Pb;break;case 1:if(Rk(n),n.mode=pu,t===hu){w>>>=2,E-=2;break e}break;case 2:n.mode=Kb;break;case 3:s.msg="invalid block type",n.mode=Ft}w>>>=2,E-=2;break;case Pb:for(w>>>=E&7,E-=E&7;E<32;){if(d===0)break e;d--,w+=i[c++]<<E,E+=8}if((w&65535)!==(w>>>16^65535)){s.msg="invalid stored block lengths",n.mode=Ft;break}if(n.length=w&65535,w=0,E=0,n.mode=r0,t===hu)break e;case r0:n.mode=qb;case qb:if(R=n.length,R){if(R>d&&(R=d),R>g&&(R=g),R===0)break e;o.set(i.subarray(c,c+R),u),d-=R,c+=R,g-=R,u+=R,n.length-=R;break}n.mode=_i;break;case Kb:for(;E<14;){if(d===0)break e;d--,w+=i[c++]<<E,E+=8}if(n.nlen=(w&31)+257,w>>>=5,E-=5,n.ndist=(w&31)+1,w>>>=5,E-=5,n.ncode=(w&15)+4,w>>>=4,E-=4,n.nlen>286||n.ndist>30){s.msg="too many length or distance symbols",n.mode=Ft;break}n.have=0,n.mode=Vb;case Vb:for(;n.have<n.ncode;){for(;E<3;){if(d===0)break e;d--,w+=i[c++]<<E,E+=8}n.lens[W[n.have++]]=w&7,w>>>=3,E-=3}for(;n.have<19;)n.lens[W[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Y={bits:n.lenbits},ue=Ec(pk,n.lens,0,19,n.lencode,0,n.work,Y),n.lenbits=Y.bits,ue){s.msg="invalid code lengths set",n.mode=Ft;break}n.have=0,n.mode=Gb;case Gb:for(;n.have<n.nlen+n.ndist;){for(;z=n.lencode[w&(1<<n.lenbits)-1],j=z>>>24,F=z>>>16&255,V=z&65535,!(j<=E);){if(d===0)break e;d--,w+=i[c++]<<E,E+=8}if(V<16)w>>>=j,E-=j,n.lens[n.have++]=V;else{if(V===16){for(X=j+2;E<X;){if(d===0)break e;d--,w+=i[c++]<<E,E+=8}if(w>>>=j,E-=j,n.have===0){s.msg="invalid bit length repeat",n.mode=Ft;break}ie=n.lens[n.have-1],R=3+(w&3),w>>>=2,E-=2}else if(V===17){for(X=j+3;E<X;){if(d===0)break e;d--,w+=i[c++]<<E,E+=8}w>>>=j,E-=j,ie=0,R=3+(w&7),w>>>=3,E-=3}else{for(X=j+7;E<X;){if(d===0)break e;d--,w+=i[c++]<<E,E+=8}w>>>=j,E-=j,ie=0,R=11+(w&127),w>>>=7,E-=7}if(n.have+R>n.nlen+n.ndist){s.msg="invalid bit length repeat",n.mode=Ft;break}for(;R--;)n.lens[n.have++]=ie}}if(n.mode===Ft)break;if(n.lens[256]===0){s.msg="invalid code -- missing end-of-block",n.mode=Ft;break}if(n.lenbits=9,Y={bits:n.lenbits},ue=Ec(q_,n.lens,0,n.nlen,n.lencode,0,n.work,Y),n.lenbits=Y.bits,ue){s.msg="invalid literal/lengths set",n.mode=Ft;break}if(n.distbits=6,n.distcode=n.distdyn,Y={bits:n.distbits},ue=Ec(K_,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Y),n.distbits=Y.bits,ue){s.msg="invalid distances set",n.mode=Ft;break}if(n.mode=pu,t===hu)break e;case pu:n.mode=mu;case mu:if(d>=6&&g>=258){s.next_out=u,s.avail_out=g,s.next_in=c,s.avail_in=d,n.hold=w,n.bits=E,ck(s,k),u=s.next_out,o=s.output,g=s.avail_out,c=s.next_in,i=s.input,d=s.avail_in,w=n.hold,E=n.bits,n.mode===_i&&(n.back=-1);break}for(n.back=0;z=n.lencode[w&(1<<n.lenbits)-1],j=z>>>24,F=z>>>16&255,V=z&65535,!(j<=E);){if(d===0)break e;d--,w+=i[c++]<<E,E+=8}if(F&&(F&240)===0){for($=j,ne=F,ce=V;z=n.lencode[ce+((w&(1<<$+ne)-1)>>$)],j=z>>>24,F=z>>>16&255,V=z&65535,!($+j<=E);){if(d===0)break e;d--,w+=i[c++]<<E,E+=8}w>>>=$,E-=$,n.back+=$}if(w>>>=j,E-=j,n.back+=j,n.length=V,F===0){n.mode=Wb;break}if(F&32){n.back=-1,n.mode=_i;break}if(F&64){s.msg="invalid literal/length code",n.mode=Ft;break}n.extra=F&15,n.mode=Fb;case Fb:if(n.extra){for(X=n.extra;E<X;){if(d===0)break e;d--,w+=i[c++]<<E,E+=8}n.length+=w&(1<<n.extra)-1,w>>>=n.extra,E-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Yb;case Yb:for(;z=n.distcode[w&(1<<n.distbits)-1],j=z>>>24,F=z>>>16&255,V=z&65535,!(j<=E);){if(d===0)break e;d--,w+=i[c++]<<E,E+=8}if((F&240)===0){for($=j,ne=F,ce=V;z=n.distcode[ce+((w&(1<<$+ne)-1)>>$)],j=z>>>24,F=z>>>16&255,V=z&65535,!($+j<=E);){if(d===0)break e;d--,w+=i[c++]<<E,E+=8}w>>>=$,E-=$,n.back+=$}if(w>>>=j,E-=j,n.back+=j,F&64){s.msg="invalid distance code",n.mode=Ft;break}n.offset=V,n.extra=F&15,n.mode=Zb;case Zb:if(n.extra){for(X=n.extra;E<X;){if(d===0)break e;d--,w+=i[c++]<<E,E+=8}n.offset+=w&(1<<n.extra)-1,w>>>=n.extra,E-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){s.msg="invalid distance too far back",n.mode=Ft;break}n.mode=Xb;case Xb:if(g===0)break e;if(R=k-g,n.offset>R){if(R=n.offset-R,R>n.whave&&n.sane){s.msg="invalid distance too far back",n.mode=Ft;break}R>n.wnext?(R-=n.wnext,M=n.wsize-R):M=n.wnext-R,R>n.length&&(R=n.length),U=n.window}else U=o,M=u-n.offset,R=n.length;R>g&&(R=g),g-=R,n.length-=R;do o[u++]=U[M++];while(--R);n.length===0&&(n.mode=mu);break;case Wb:if(g===0)break e;o[u++]=n.length,g--,n.mode=mu;break;case i0:if(n.wrap){for(;E<32;){if(d===0)break e;d--,w|=i[c++]<<E,E+=8}if(k-=g,s.total_out+=k,n.total+=k,n.wrap&4&&k&&(s.adler=n.check=n.flags?Pr(n.check,o,k,u-k):O0(n.check,o,k,u-k)),k=g,n.wrap&4&&(n.flags?w:Jb(w))!==n.check){s.msg="incorrect data check",n.mode=Ft;break}w=0,E=0}n.mode=$b;case $b:if(n.wrap&&n.flags){for(;E<32;){if(d===0)break e;d--,w+=i[c++]<<E,E+=8}if(n.wrap&4&&w!==(n.total&4294967295)){s.msg="incorrect length check",n.mode=Ft;break}w=0,E=0}n.mode=Qb;case Qb:ue=yk;break e;case Ft:ue=V_;break e;case F_:return G_;case Y_:default:return _r}return s.next_out=u,s.avail_out=g,s.next_in=c,s.avail_in=d,n.hold=w,n.bits=E,(n.wsize||k!==s.avail_out&&n.mode<Ft&&(n.mode<i0||t!==kb))&&Q_(s,s.output,s.next_out,k-s.avail_out),I-=s.avail_in,k-=s.avail_out,s.total_in+=I,s.total_out+=k,n.total+=k,n.wrap&4&&k&&(s.adler=n.check=n.flags?Pr(n.check,o,k,s.next_out-k):O0(n.check,o,k,s.next_out-k)),s.data_type=n.bits+(n.last?64:0)+(n.mode===_i?128:0)+(n.mode===pu||n.mode===r0?256:0),(I===0&&k===0||t===kb)&&ue===na&&(ue=bk),ue},Tk=s=>{if(oa(s))return _r;let t=s.state;return t.window&&(t.window=null),s.state=null,na},Ok=(s,t)=>{if(oa(s))return _r;const n=s.state;return(n.wrap&2)===0?_r:(n.head=t,t.done=!1,na)},Nk=(s,t)=>{const n=t.length;let i,o,c;return oa(s)||(i=s.state,i.wrap!==0&&i.mode!==zu)?_r:i.mode===zu&&(o=1,o=O0(o,t,n,0),o!==i.check)?V_:(c=Q_(s,t,n,n),c?(i.mode=F_,G_):(i.havedict=1,na))};var kk=X_,Ik=W_,Ck=Z_,Bk=Ak,Mk=$_,Uk=xk,Dk=Tk,Lk=Ok,zk=Nk,Hk="pako inflate (from Nodeca project)",Si={inflateReset:kk,inflateReset2:Ik,inflateResetKeep:Ck,inflateInit:Bk,inflateInit2:Mk,inflate:Uk,inflateEnd:Dk,inflateGetHeader:Lk,inflateSetDictionary:zk,inflateInfo:Hk};function jk(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Pk=jk;const J_=Object.prototype.toString,{Z_NO_FLUSH:qk,Z_FINISH:Kk,Z_OK:Cc,Z_STREAM_END:o0,Z_NEED_DICT:c0,Z_STREAM_ERROR:Vk,Z_DATA_ERROR:tw,Z_MEM_ERROR:Gk}=H_;function af(s){this.options=j_.assign({chunkSize:1024*64,windowBits:15,to:""},s||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(s&&s.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ak,this.strm.avail_out=0;let n=Si.inflateInit2(this.strm,t.windowBits);if(n!==Cc)throw new Error(N0[n]);if(this.header=new Pk,Si.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=k0.string2buf(t.dictionary):J_.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=Si.inflateSetDictionary(this.strm,t.dictionary),n!==Cc)))throw new Error(N0[n])}af.prototype.push=function(s,t){const n=this.strm,i=this.options.chunkSize,o=this.options.dictionary;let c,u,d;if(this.ended)return!1;for(t===~~t?u=t:u=t===!0?Kk:qk,J_.call(s)==="[object ArrayBuffer]"?n.input=new Uint8Array(s):n.input=s,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),c=Si.inflate(n,u),c===c0&&o&&(c=Si.inflateSetDictionary(n,o),c===Cc?c=Si.inflate(n,u):c===tw&&(c=c0));n.avail_in>0&&c===o0&&n.state.wrap>0&&s[n.next_in]!==0;)Si.inflateReset(n),c=Si.inflate(n,u);switch(c){case Vk:case tw:case c0:case Gk:return this.onEnd(c),this.ended=!0,!1}if(d=n.avail_out,n.next_out&&(n.avail_out===0||c===o0))if(this.options.to==="string"){let g=k0.utf8border(n.output,n.next_out),w=n.next_out-g,E=k0.buf2string(n.output,g);n.next_out=w,n.avail_out=i-w,w&&n.output.set(n.output.subarray(g,g+w),0),this.onData(E)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(c===Cc&&d===0)){if(c===o0)return c=Si.inflateEnd(this.strm),this.onEnd(c),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};af.prototype.onData=function(s){this.chunks.push(s)};af.prototype.onEnd=function(s){s===Cc&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=j_.flattenChunks(this.chunks)),this.chunks=[],this.err=s,this.msg=this.strm.msg};function Fk(s,t){const n=new af(t);if(n.push(s),n.err)throw n.msg||N0[n.err];return n.result}var Yk=Fk,Zk={inflate:Yk};const{inflate:Xk}=Zk;var Wk=Xk,l0={exports:{}},nw;function $k(){return nw||(nw=1,(function(s){var t=Object.prototype.hasOwnProperty,n="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1));function o(g,w,E){this.fn=g,this.context=w,this.once=E||!1}function c(g,w,E,I,k){if(typeof E!="function")throw new TypeError("The listener must be a function");var R=new o(E,I||g,k),M=n?n+w:w;return g._events[M]?g._events[M].fn?g._events[M]=[g._events[M],R]:g._events[M].push(R):(g._events[M]=R,g._eventsCount++),g}function u(g,w){--g._eventsCount===0?g._events=new i:delete g._events[w]}function d(){this._events=new i,this._eventsCount=0}d.prototype.eventNames=function(){var w=[],E,I;if(this._eventsCount===0)return w;for(I in E=this._events)t.call(E,I)&&w.push(n?I.slice(1):I);return Object.getOwnPropertySymbols?w.concat(Object.getOwnPropertySymbols(E)):w},d.prototype.listeners=function(w){var E=n?n+w:w,I=this._events[E];if(!I)return[];if(I.fn)return[I.fn];for(var k=0,R=I.length,M=new Array(R);k<R;k++)M[k]=I[k].fn;return M},d.prototype.listenerCount=function(w){var E=n?n+w:w,I=this._events[E];return I?I.fn?1:I.length:0},d.prototype.emit=function(w,E,I,k,R,M){var U=n?n+w:w;if(!this._events[U])return!1;var z=this._events[U],j=arguments.length,F,V;if(z.fn){switch(z.once&&this.removeListener(w,z.fn,void 0,!0),j){case 1:return z.fn.call(z.context),!0;case 2:return z.fn.call(z.context,E),!0;case 3:return z.fn.call(z.context,E,I),!0;case 4:return z.fn.call(z.context,E,I,k),!0;case 5:return z.fn.call(z.context,E,I,k,R),!0;case 6:return z.fn.call(z.context,E,I,k,R,M),!0}for(V=1,F=new Array(j-1);V<j;V++)F[V-1]=arguments[V];z.fn.apply(z.context,F)}else{var $=z.length,ne;for(V=0;V<$;V++)switch(z[V].once&&this.removeListener(w,z[V].fn,void 0,!0),j){case 1:z[V].fn.call(z[V].context);break;case 2:z[V].fn.call(z[V].context,E);break;case 3:z[V].fn.call(z[V].context,E,I);break;case 4:z[V].fn.call(z[V].context,E,I,k);break;default:if(!F)for(ne=1,F=new Array(j-1);ne<j;ne++)F[ne-1]=arguments[ne];z[V].fn.apply(z[V].context,F)}}return!0},d.prototype.on=function(w,E,I){return c(this,w,E,I,!1)},d.prototype.once=function(w,E,I){return c(this,w,E,I,!0)},d.prototype.removeListener=function(w,E,I,k){var R=n?n+w:w;if(!this._events[R])return this;if(!E)return u(this,R),this;var M=this._events[R];if(M.fn)M.fn===E&&(!k||M.once)&&(!I||M.context===I)&&u(this,R);else{for(var U=0,z=[],j=M.length;U<j;U++)(M[U].fn!==E||k&&!M[U].once||I&&M[U].context!==I)&&z.push(M[U]);z.length?this._events[R]=z.length===1?z[0]:z:u(this,R)}return this},d.prototype.removeAllListeners=function(w){var E;return w?(E=n?n+w:w,this._events[E]&&u(this,E)):(this._events=new i,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,s.exports=d})(l0)),l0.exports}var Qk=$k();const Jk=Ii(Qk);function eI(s,t){return Array.apply(0,new Array(Math.ceil(s.length/t))).map((n,i)=>s.slice(i*t,(i+1)*t))}const Ps=s=>"version"in s;function tI(s){return s.reduce((t,n)=>t+n.toString(16).padStart(2,"0"),"0x")}function nI(s){s.indexOf("0x")===0&&(s=s.substr(2)),s.length%2===1&&(s="0"+s);let t=s.match(/.{2}/g);return t===null?Be.Buffer.from([]):Be.Buffer.from(t.map(n=>parseInt(n,16)))}var rI=Object.freeze({__proto__:null,encode:tI,decode:nI});function ev(s){return new TextDecoder("utf-8").decode(s)}function iI(s){return new TextEncoder().encode(s)}var sI=Object.freeze({__proto__:null,decode:ev,encode:iI});function I0(s){return rf.encode(s)}function aI(s){return rf.decode(s)}var oI=Object.freeze({__proto__:null,encode:I0,decode:aI});function cI(s){return s.toString("base64")}function gp(s){return Be.Buffer.from(s,"base64")}var lI=Object.freeze({__proto__:null,encode:cI,decode:gp}),uI=Object.freeze({__proto__:null,hex:rI,utf8:sI,bs58:oI,base64:lI});function ds(s){return"accounts"in s}async function fI(s){const t=(await _e.findProgramAddress([],s))[0];return await _e.createWithSeed(t,dI(),s)}function dI(){return"anchor:idl"}const hI=nt.struct([nt.publicKey("authority"),nt.vecU8("data")]);function pI(s){return hI.decode(s)}function mI(s){const t=["name","path","account","relations","generic"],n=c=>c.split(".").map(u=>MN(u,{locale:!1})).join("."),i=c=>{for(const u in c){const d=c[u];t.includes(u)?c[u]=Array.isArray(d)?d.map(n):n(d):typeof d=="object"&&i(d)}},o=structuredClone(s);return i(o),o}function no(s,t,n,i){return s?.length?s[0].name?n(s):i(s):t()}function yI(s){const t=new Map;return s.errors&&s.errors.forEach(n=>{var i;let o=(i=n.msg)!==null&&i!==void 0?i:n.name;t.set(n.code,o)}),t}function gI(s,...t){if(s.args.length!=t.length)throw new Error("Invalid argument length");const n={};let i=0;return s.args.forEach(o=>{n[o.name]=t[i],i+=1}),n}function tv(s,t={}){s.forEach(n=>{if(ds(n))tv(n.accounts,t[n.name]);else if(!t[n.name])throw new Error(`Account \`${n.name}\` not provided.`)})}function wr(s){return s instanceof _e?s:new _e(s)}class bI extends TypeError{constructor(t,n){let i;const{message:o,...c}=t,{path:u}=t,d=u.length===0?o:"At path: "+u.join(".")+" -- "+o;super(d),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,c),this.name=this.constructor.name,this.failures=()=>{var g;return(g=i)!=null?g:i=[t,...n()]}}}function wI(s){return oo(s)&&typeof s[Symbol.iterator]=="function"}function oo(s){return typeof s=="object"&&s!=null}function vs(s){return typeof s=="string"?JSON.stringify(s):""+s}function _I(s){const{done:t,value:n}=s.next();return t?void 0:n}function vI(s,t,n,i){if(s===!0)return;s===!1?s={}:typeof s=="string"&&(s={message:s});const{path:o,branch:c}=t,{type:u}=n,{refinement:d,message:g="Expected a value of type `"+u+"`"+(d?" with refinement `"+d+"`":"")+", but received: `"+vs(i)+"`"}=s;return{value:i,type:u,refinement:d,key:o[o.length-1],path:o,branch:c,...s,message:g}}function*rw(s,t,n,i){wI(s)||(s=[s]);for(const o of s){const c=vI(o,t,n,i);c&&(yield c)}}function*bp(s,t,n){n===void 0&&(n={});const{path:i=[],branch:o=[s],coerce:c=!1,mask:u=!1}=n,d={path:i,branch:o};if(c&&(s=t.coercer(s,d),u&&t.type!=="type"&&oo(t.schema)&&oo(s)&&!Array.isArray(s)))for(const w in s)t.schema[w]===void 0&&delete s[w];let g=!0;for(const w of t.validator(s,d))g=!1,yield[w,void 0];for(let[w,E,I]of t.entries(s,d)){const k=bp(E,I,{path:w===void 0?i:[...i,w],branch:w===void 0?o:[...o,E],coerce:c,mask:u});for(const R of k)R[0]?(g=!1,yield[R[0],void 0]):c&&(E=R[1],w===void 0?s=E:s instanceof Map?s.set(w,E):s instanceof Set?s.add(E):oo(s)&&(s[w]=E))}if(g)for(const w of t.refiner(s,d))g=!1,yield[w,void 0];g&&(yield[void 0,s])}class Es{constructor(t){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:n,schema:i,validator:o,refiner:c,coercer:u=g=>g,entries:d=function*(){}}=t;this.type=n,this.schema=i,this.entries=d,this.coercer=u,o?this.validator=(g,w)=>{const E=o(g,w);return rw(E,w,this,g)}:this.validator=()=>[],c?this.refiner=(g,w)=>{const E=c(g,w);return rw(E,w,this,g)}:this.refiner=()=>[]}assert(t){return EI(t,this)}create(t){return wp(t,this)}is(t){return nv(t,this)}mask(t){return SI(t,this)}validate(t,n){return n===void 0&&(n={}),Pc(t,this,n)}}function EI(s,t){const n=Pc(s,t);if(n[0])throw n[0]}function wp(s,t){const n=Pc(s,t,{coerce:!0});if(n[0])throw n[0];return n[1]}function SI(s,t){const n=Pc(s,t,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}function nv(s,t){return!Pc(s,t)[0]}function Pc(s,t,n){n===void 0&&(n={});const i=bp(s,t,n),o=_I(i);return o[0]?[new bI(o[0],function*(){for(const u of i)u[0]&&(yield u[0])}),void 0]:[void 0,o[1]]}function qc(s,t){return new Es({type:s,schema:null,validator:t})}function AI(){return qc("any",()=>!0)}function u0(s){return new Es({type:"array",schema:s,*entries(t){if(s&&Array.isArray(t))for(const[n,i]of t.entries())yield[n,i,s]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||"Expected an array value, but received: "+vs(t)}})}function RI(){return qc("boolean",s=>typeof s=="boolean")}function iw(s){const t=vs(s);return new Es({type:"literal",schema:s,validator(n){return n===s||"Expected the literal `"+t+"`, but received: "+vs(n)}})}function yu(s){return new Es({...s,validator:(t,n)=>t===null||s.validator(t,n),refiner:(t,n)=>t===null||s.refiner(t,n)})}function Ru(){return qc("number",s=>typeof s=="number"&&!isNaN(s)||"Expected a number, but received: "+vs(s))}function xu(s){return new Es({...s,validator:(t,n)=>t===void 0||s.validator(t,n),refiner:(t,n)=>t===void 0||s.refiner(t,n)})}function Ws(){return qc("string",s=>typeof s=="string"||"Expected a string, but received: "+vs(s))}function gs(s){const t=Object.keys(s);return new Es({type:"type",schema:s,*entries(n){if(oo(n))for(const i of t)yield[i,n[i],s[i]]},validator(n){return oo(n)||"Expected an object, but received: "+vs(n)}})}function rv(s){const t=s.map(n=>n.type).join(" | ");return new Es({type:"union",schema:null,coercer(n,i){return(s.find(c=>{const[u]=c.validate(n,{coerce:!0});return!u})||_p()).coercer(n,i)},validator(n,i){const o=[];for(const c of s){const[...u]=bp(n,c,i),[d]=u;if(d[0])for(const[g]of u)g&&o.push(g);else return[]}return["Expected the value to satisfy a union of `"+t+"`, but received: "+vs(n),...o]}})}function _p(){return qc("unknown",()=>!0)}function xI(s,t,n){return new Es({...s,coercer:(i,o)=>nv(i,t)?s.coercer(n(i,o),o):s.coercer(i,o)})}async function TI(s,t,n,i){s=wr(s),i||(i=Hu());const o=new yt;if(o.add(new xt({programId:s,keys:t??[],data:n})),i.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");return await i.sendAndConfirm(o,[])}const sw=99;async function OI(s,t,n){return(await vp(s,t,n)).map(o=>o?{publicKey:o.publicKey,account:o.account}:null)}async function vp(s,t,n){if(t.length<=sw)return await aw(s,t,n);{const i=eI(t,sw);return(await Promise.all(i.map(c=>aw(s,c,n)))).flat()}}async function aw(s,t,n){const i=n??s.commitment,{value:o,context:c}=await s.getMultipleAccountsInfoAndContext(t,i);return o.map((d,g)=>d===null?null:{publicKey:t[g],account:d,context:c})}async function iv(s,t,n,i,o){var c;n&&n.length>0&&t.sign(...n);const u=t._compile(),d=u.serialize(),w=t._serialize(d).toString("base64"),E={encoding:"base64",commitment:i??s.commitment};if(o){const M=(Array.isArray(o)?o:u.nonProgramIds()).map(U=>U.toBase58());E.accounts={encoding:"base64",addresses:M}}n&&n.length>0&&(E.sigVerify=!0);const I=[w,E],k=await s._rpcRequest("simulateTransaction",I),R=wp(k,CI);if("error"in R){let M;if("data"in R.error&&(M=(c=R.error.data)===null||c===void 0?void 0:c.logs,M&&Array.isArray(M))){const U=`
    `,z=U+M.join(U);console.error(R.error.message,z)}throw new _s("failed to simulate transaction: "+R.error.message,M)}return R.result}function NI(s){return xI(sv(s),kI,t=>"error"in t?t:{...t,result:wp(t.result,s)})}const kI=sv(_p());function sv(s){return rv([gs({jsonrpc:iw("2.0"),id:Ws(),result:s}),gs({jsonrpc:iw("2.0"),id:Ws(),error:gs({code:_p(),message:Ws(),data:xu(AI())})})])}function II(s){return NI(gs({context:gs({slot:Ru()}),value:s}))}const CI=II(gs({err:yu(rv([gs({}),Ws()])),logs:yu(u0(Ws())),accounts:xu(yu(u0(yu(gs({executable:RI(),owner:Ws(),lamports:Ru(),data:u0(Ws()),rentEpoch:xu(Ru())}))))),unitsConsumed:xu(Ru())}));var BI=Object.freeze({__proto__:null,invoke:TI,getMultipleAccounts:OI,getMultipleAccountsAndContext:vp,simulateTransaction:iv});class Bc{constructor(t,n,i=Bc.defaultOptions()){this.connection=t,this.wallet=n,this.opts=i,this.publicKey=n?.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(t,n=Bc.defaultOptions()){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(t,n,i){var o,c,u,d;if(i===void 0&&(i=this.opts),Ps(t))n&&t.sign(n);else if(t.feePayer=(o=t.feePayer)!==null&&o!==void 0?o:this.wallet.publicKey,t.recentBlockhash=(await this.connection.getLatestBlockhash(i.preflightCommitment)).blockhash,n)for(const w of n)t.partialSign(w);t=await this.wallet.signTransaction(t);const g=t.serialize();try{return await ow(this.connection,g,i)}catch(w){if(w instanceof C0){const E=I0(Ps(t)?((c=t.signatures)===null||c===void 0?void 0:c[0])||new Uint8Array:(u=t.signature)!==null&&u!==void 0?u:new Uint8Array),I=Ps(t)?0:void 0,k=await this.connection.getTransaction(E,{commitment:"confirmed",maxSupportedTransactionVersion:I});if(k){const R=(d=k.meta)===null||d===void 0?void 0:d.logMessages;throw R?new _s(w.message,R):w}else throw w}else throw w}}async sendAll(t,n){var i,o,c;n===void 0&&(n=this.opts);const u=(await this.connection.getLatestBlockhash(n.preflightCommitment)).blockhash;let d=t.map(E=>{var I,k;if(Ps(E.tx)){let R=E.tx;return E.signers&&R.sign(E.signers),R}else{let R=E.tx,M=(I=E.signers)!==null&&I!==void 0?I:[];return R.feePayer=(k=R.feePayer)!==null&&k!==void 0?k:this.wallet.publicKey,R.recentBlockhash=u,M.forEach(U=>{R.partialSign(U)}),R}});const g=await this.wallet.signAllTransactions(d),w=[];for(let E=0;E<d.length;E+=1){const I=g[E],k=I.serialize();try{w.push(await ow(this.connection,k,n))}catch(R){if(R instanceof C0){const M=I0(Ps(I)?((i=I.signatures)===null||i===void 0?void 0:i[0])||new Uint8Array:(o=I.signature)!==null&&o!==void 0?o:new Uint8Array),U=Ps(I)?0:void 0,z=await this.connection.getTransaction(M,{commitment:"confirmed",maxSupportedTransactionVersion:U});if(z){const j=(c=z.meta)===null||c===void 0?void 0:c.logMessages;throw j?new _s(R.message,j):R}else throw R}else throw R}}return w}async simulate(t,n,i,o){let c=(await this.connection.getLatestBlockhash(i??this.connection.commitment)).blockhash,u;if(Ps(t)?(n&&n.length>0&&(t.sign(n),t=await this.wallet.signTransaction(t)),u=await this.connection.simulateTransaction(t,{commitment:i})):(t.feePayer=t.feePayer||this.wallet.publicKey,t.recentBlockhash=c,n&&n.length>0&&(t=await this.wallet.signTransaction(t)),u=await iv(this.connection,t,n,i,o)),u.value.err)throw new MI(u.value);return u.value}}class MI extends Error{constructor(t,n){super(n),this.simulationResponse=t}}async function ow(s,t,n){const i=n?{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot}:{};let o;const c=Date.now();for(;Date.now()-c<6e4;)try{const u=await s.sendRawTransaction(t,i);if(n?.blockhash)if(i.maxRetries===0){const d=AbortSignal.timeout(15e3);o=(await s.confirmTransaction({abortSignal:d,signature:u,...n.blockhash},n&&n.commitment)).value}else o=(await s.confirmTransaction({signature:u,...n.blockhash},n&&n.commitment)).value;else o=(await s.confirmTransaction(u,n&&n.commitment)).value;if(o.err)throw new C0(`Raw transaction ${u} failed (${JSON.stringify(o)})`);return u}catch(u){if(u.name==="TimeoutError")continue;throw u}throw Error("Transaction failed to confirm in 60s")}class C0 extends Error{constructor(t){super(t)}}function Hu(){return Bc.local()}var UI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function DI(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var pe={};Object.defineProperty(pe,"__esModule",{value:!0});var av=pe.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=nE=pe.ANCHOR_ERROR__REQUIRE_VIOLATED=tE=pe.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=eE=pe.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=Jv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=Qv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=$v=pe.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=Wv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=Xv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=Zv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=Yv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=Fv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=Gv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=Vv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=Kv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=qv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=Pv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=jv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=Hv=pe.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=zv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=Lv=pe.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=Dv=pe.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=Uv=pe.ANCHOR_ERROR__CONSTRAINT_SPACE=Mv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=Bv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=Cv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=Iv=pe.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=kv=pe.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=Nv=pe.ANCHOR_ERROR__CONSTRAINT_ZERO=Ov=pe.ANCHOR_ERROR__CONSTRAINT_ADDRESS=Tv=pe.ANCHOR_ERROR__CONSTRAINT_CLOSE=xv=pe.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=Rv=pe.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=Av=pe.ANCHOR_ERROR__CONSTRAINT_STATE=Sv=pe.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=Ev=pe.ANCHOR_ERROR__CONSTRAINT_SEEDS=vv=pe.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=_v=pe.ANCHOR_ERROR__CONSTRAINT_OWNER=wv=pe.ANCHOR_ERROR__CONSTRAINT_RAW=bv=pe.ANCHOR_ERROR__CONSTRAINT_SIGNER=gv=pe.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=yv=pe.ANCHOR_ERROR__CONSTRAINT_MUT=mv=pe.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=pv=pe.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=hv=pe.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=dv=pe.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=fv=pe.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=uv=pe.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=lv=pe.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=cv=pe.ANCHOR_ERROR__INSTRUCTION_MISSING=void 0,ov=pe.ANCHOR_ERROR__DEPRECATED=OE=pe.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=TE=pe.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=xE=pe.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=RE=pe.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=AE=pe.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=SE=pe.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=EE=pe.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=vE=pe.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=_E=pe.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=wE=pe.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=bE=pe.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=gE=pe.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=yE=pe.ANCHOR_ERROR__INVALID_PROGRAM_ID=mE=pe.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=pE=pe.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=hE=pe.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=dE=pe.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=fE=pe.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=uE=pe.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=lE=pe.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=cE=pe.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=oE=pe.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=aE=pe.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=sE=pe.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=iE=pe.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=rE=pe.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=void 0,cv=pe.ANCHOR_ERROR__INSTRUCTION_MISSING=100,lv=pe.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=101,uv=pe.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=102,fv=pe.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=103,dv=pe.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=1e3,hv=pe.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=1001,pv=pe.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=1002,mv=pe.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=1500,yv=pe.ANCHOR_ERROR__CONSTRAINT_MUT=2e3,gv=pe.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=2001,bv=pe.ANCHOR_ERROR__CONSTRAINT_SIGNER=2002,wv=pe.ANCHOR_ERROR__CONSTRAINT_RAW=2003,_v=pe.ANCHOR_ERROR__CONSTRAINT_OWNER=2004,vv=pe.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=2005,Ev=pe.ANCHOR_ERROR__CONSTRAINT_SEEDS=2006,Sv=pe.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=2007,Av=pe.ANCHOR_ERROR__CONSTRAINT_STATE=2008,Rv=pe.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=2009,xv=pe.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=2010,Tv=pe.ANCHOR_ERROR__CONSTRAINT_CLOSE=2011,Ov=pe.ANCHOR_ERROR__CONSTRAINT_ADDRESS=2012,Nv=pe.ANCHOR_ERROR__CONSTRAINT_ZERO=2013,kv=pe.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=2014,Iv=pe.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=2015,Cv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=2016,Bv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=2017,Mv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=2018,Uv=pe.ANCHOR_ERROR__CONSTRAINT_SPACE=2019,Dv=pe.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=2020,Lv=pe.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=2021,zv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=2022,Hv=pe.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=2023,jv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=2024,Pv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=2025,qv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=2026,Kv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=2027,Vv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=2028,Gv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=2029,Fv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=2030,Yv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=2031,Zv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=2032,Xv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=2033,Wv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=2034,$v=pe.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=2035,Qv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=2036,Jv=pe.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=2037,eE=pe.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=2038,tE=pe.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=2039,nE=pe.ANCHOR_ERROR__REQUIRE_VIOLATED=2500;av=pe.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=2501;var rE=pe.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=2502,iE=pe.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=2503,sE=pe.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=2504,aE=pe.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=2505,oE=pe.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=2506,cE=pe.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=3e3,lE=pe.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=3001,uE=pe.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=3002,fE=pe.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=3003,dE=pe.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=3004,hE=pe.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=3005,pE=pe.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=3006,mE=pe.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=3007,yE=pe.ANCHOR_ERROR__INVALID_PROGRAM_ID=3008,gE=pe.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=3009,bE=pe.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=3010,wE=pe.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=3011,_E=pe.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=3012,vE=pe.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=3013,EE=pe.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=3014,SE=pe.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=3015,AE=pe.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=3016,RE=pe.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=3017,xE=pe.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=4100,TE=pe.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=4101,OE=pe.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=4102;ov=pe.ANCHOR_ERROR__DEPRECATED=5e3;const LI=new Set(["debug-logs"]),NE=new Map;function zI(s){if(!LI.has(s))throw new Error("Invalid feature");NE.set(s,!0)}function Ep(s){return NE.get(s)!==void 0}var HI=Object.freeze({__proto__:null,set:zI,isSet:Ep});class fs extends Error{constructor(t){super(t),this.name="IdlError"}}class Kc{constructor(t){this.stack=t}static parse(t){var n;const i=/^Program (\w*) invoke/,o=/^Program \w* success/,c=[];for(let u=0;u<t.length;u++){if(o.exec(t[u])){c.pop();continue}const d=(n=i.exec(t[u]))===null||n===void 0?void 0:n[1];d&&c.push(new _e(d))}return new Kc(c)}}class Sc extends Error{constructor(t,n,i,o,c,u){super(i.join(`
`).replace("Program log: ","")),this.errorLogs=i,this.logs=o,this.error={errorCode:t,errorMessage:n,comparedValues:u,origin:c},this._programErrorStack=Kc.parse(o)}static parse(t){if(!t)return null;const n=t.findIndex(k=>k.startsWith("Program log: AnchorError"));if(n===-1)return null;const i=t[n],o=[i];let c;if(n+1<t.length){if(t[n+1]==="Program log: Left:"){const k=/^Program log: (.*)$/,R=k.exec(t[n+2])[1],M=k.exec(t[n+4])[1];c=[new _e(R),new _e(M)],o.push(...t.slice(n+1,n+5))}else if(t[n+1].startsWith("Program log: Left:")){const k=/^Program log: (Left|Right): (.*)$/,R=k.exec(t[n+1])[2],M=k.exec(t[n+2])[2];o.push(...t.slice(n+1,n+3)),c=[R,M]}}const d=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(i),w=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(i),I=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(i);if(d){const[k,R,M]=d.slice(1,4),U={code:k,number:parseInt(R)};return new Sc(U,M,o,t,void 0,c)}else if(w){const[k,R,M,U,z]=w.slice(1,6),j={code:M,number:parseInt(U)},F={file:k,line:parseInt(R)};return new Sc(j,z,o,t,F,c)}else if(I){const[k,R,M,U]=I.slice(1,5),z=k,j={code:R,number:parseInt(M)};return new Sc(j,U,o,t,z,c)}else return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class ju extends Error{constructor(t,n,i){super(),this.code=t,this.msg=n,this.logs=i,i&&(this._programErrorStack=Kc.parse(i))}static parse(t,n){const i=t.toString();let o;if(i.includes("custom program error:")){let d=i.split("custom program error: ");if(d.length!==2)return null;o=d[1]}else{const d=i.match(/"Custom":([0-9]+)}/g);if(!d||d.length>1)return null;o=d[0].match(/([0-9]+)/g)[0]}let c;try{c=parseInt(o)}catch{return null}let u=n.get(c);return u!==void 0?new ju(c,u,t.logs):(u=jI.get(c),u!==void 0?new ju(c,u,t.logs):null)}get program(){var t;return(t=this._programErrorStack)===null||t===void 0?void 0:t.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var t;return(t=this._programErrorStack)===null||t===void 0?void 0:t.stack}toString(){return this.msg}}function kE(s,t){Ep("debug-logs")&&console.log("Translating error:",s);const n=Sc.parse(s.logs);if(n)return n;const i=ju.parse(s,t);if(i)return i;if(s.logs){const o={get:function(c,u){return u==="programErrorStack"?c.programErrorStack.stack:u==="program"?c.programErrorStack.stack[s.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return s.programErrorStack=Kc.parse(s.logs),new Proxy(s,o)}return s}const Oe={InstructionMissing:cv,InstructionFallbackNotFound:lv,InstructionDidNotDeserialize:uv,InstructionDidNotSerialize:fv,IdlInstructionStub:dv,IdlInstructionInvalidProgram:hv,IdlAccountNotEmpty:pv,EventInstructionStub:mv,ConstraintMut:yv,ConstraintHasOne:gv,ConstraintSigner:bv,ConstraintRaw:wv,ConstraintOwner:_v,ConstraintRentExempt:vv,ConstraintSeeds:Ev,ConstraintExecutable:Sv,ConstraintState:Av,ConstraintAssociated:Rv,ConstraintAssociatedInit:xv,ConstraintClose:Tv,ConstraintAddress:Ov,ConstraintZero:Nv,ConstraintTokenMint:kv,ConstraintTokenOwner:Iv,ConstraintMintMintAuthority:Cv,ConstraintMintFreezeAuthority:Bv,ConstraintMintDecimals:Mv,ConstraintSpace:Uv,ConstraintAccountIsNone:Dv,ConstraintTokenTokenProgram:Lv,ConstraintMintTokenProgram:zv,ConstraintAssociatedTokenTokenProgram:Hv,ConstraintMintGroupPointerExtension:jv,ConstraintMintGroupPointerExtensionAuthority:Pv,ConstraintMintGroupPointerExtensionGroupAddress:qv,ConstraintMintGroupMemberPointerExtension:Kv,ConstraintMintGroupMemberPointerExtensionAuthority:Vv,ConstraintMintGroupMemberPointerExtensionMemberAddress:Gv,ConstraintMintMetadataPointerExtension:Fv,ConstraintMintMetadataPointerExtensionAuthority:Yv,ConstraintMintMetadataPointerExtensionMetadataAddress:Zv,ConstraintMintCloseAuthorityExtension:Xv,ConstraintMintCloseAuthorityExtensionAuthority:Wv,ConstraintMintPermanentDelegateExtension:$v,ConstraintMintPermanentDelegateExtensionDelegate:Qv,ConstraintMintTransferHookExtension:Jv,ConstraintMintTransferHookExtensionAuthority:eE,ConstraintMintTransferHookExtensionProgramId:tE,RequireViolated:nE,RequireEqViolated:av,RequireKeysEqViolated:rE,RequireNeqViolated:iE,RequireKeysNeqViolated:sE,RequireGtViolated:aE,RequireGteViolated:oE,AccountDiscriminatorAlreadySet:cE,AccountDiscriminatorNotFound:lE,AccountDiscriminatorMismatch:uE,AccountDidNotDeserialize:fE,AccountDidNotSerialize:dE,AccountNotEnoughKeys:hE,AccountNotMutable:pE,AccountOwnedByWrongProgram:mE,InvalidProgramId:yE,InvalidProgramExecutable:gE,AccountNotSigner:bE,AccountNotSystemOwned:wE,AccountNotInitialized:_E,AccountNotProgramData:vE,AccountNotAssociatedTokenAccount:EE,AccountSysvarMismatch:SE,AccountReallocExceedsLimit:AE,AccountDuplicateReallocs:RE,DeclaredProgramIdMismatch:xE,TryingToInitPayerAsProgramAccount:TE,InvalidNumericConversion:OE,Deprecated:ov},jI=new Map([[Oe.InstructionMissing,"Instruction discriminator not provided"],[Oe.InstructionFallbackNotFound,"Fallback functions are not supported"],[Oe.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[Oe.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[Oe.IdlInstructionStub,"The program was compiled without idl instructions"],[Oe.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[Oe.IdlAccountNotEmpty,"IDL account must be empty in order to resize, try closing first"],[Oe.EventInstructionStub,"The program was compiled without `event-cpi` feature"],[Oe.ConstraintMut,"A mut constraint was violated"],[Oe.ConstraintHasOne,"A has one constraint was violated"],[Oe.ConstraintSigner,"A signer constraint was violated"],[Oe.ConstraintRaw,"A raw constraint was violated"],[Oe.ConstraintOwner,"An owner constraint was violated"],[Oe.ConstraintRentExempt,"A rent exemption constraint was violated"],[Oe.ConstraintSeeds,"A seeds constraint was violated"],[Oe.ConstraintExecutable,"An executable constraint was violated"],[Oe.ConstraintState,"Deprecated Error, feel free to replace with something else"],[Oe.ConstraintAssociated,"An associated constraint was violated"],[Oe.ConstraintAssociatedInit,"An associated init constraint was violated"],[Oe.ConstraintClose,"A close constraint was violated"],[Oe.ConstraintAddress,"An address constraint was violated"],[Oe.ConstraintZero,"Expected zero account discriminant"],[Oe.ConstraintTokenMint,"A token mint constraint was violated"],[Oe.ConstraintTokenOwner,"A token owner constraint was violated"],[Oe.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[Oe.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[Oe.ConstraintMintDecimals,"A mint decimals constraint was violated"],[Oe.ConstraintSpace,"A space constraint was violated"],[Oe.ConstraintAccountIsNone,"A required account for the constraint is None"],[Oe.ConstraintTokenTokenProgram,"A token account token program constraint was violated"],[Oe.ConstraintMintTokenProgram,"A mint token program constraint was violated"],[Oe.ConstraintAssociatedTokenTokenProgram,"An associated token account token program constraint was violated"],[Oe.ConstraintMintGroupPointerExtension,"A group pointer extension constraint was violated"],[Oe.ConstraintMintGroupPointerExtensionAuthority,"A group pointer extension authority constraint was violated"],[Oe.ConstraintMintGroupPointerExtensionGroupAddress,"A group pointer extension group address constraint was violated"],[Oe.ConstraintMintGroupMemberPointerExtension,"A group member pointer extension constraint was violated"],[Oe.ConstraintMintGroupMemberPointerExtensionAuthority,"A group member pointer extension authority constraint was violated"],[Oe.ConstraintMintGroupMemberPointerExtensionMemberAddress,"A group member pointer extension group address constraint was violated"],[Oe.ConstraintMintMetadataPointerExtension,"A metadata pointer extension constraint was violated"],[Oe.ConstraintMintMetadataPointerExtensionAuthority,"A metadata pointer extension authority constraint was violated"],[Oe.ConstraintMintMetadataPointerExtensionMetadataAddress,"A metadata pointer extension metadata address constraint was violated"],[Oe.ConstraintMintCloseAuthorityExtension,"A close authority constraint was violated"],[Oe.ConstraintMintCloseAuthorityExtensionAuthority,"A close authority extension authority constraint was violated"],[Oe.ConstraintMintPermanentDelegateExtension,"A permanent delegate extension constraint was violated"],[Oe.ConstraintMintPermanentDelegateExtensionDelegate,"A permanent delegate extension delegate constraint was violated"],[Oe.ConstraintMintTransferHookExtension,"A transfer hook extension constraint was violated"],[Oe.ConstraintMintTransferHookExtensionAuthority,"A transfer hook extension authority constraint was violated"],[Oe.ConstraintMintTransferHookExtensionProgramId,"A transfer hook extension transfer hook program id constraint was violated"],[Oe.RequireViolated,"A require expression was violated"],[Oe.RequireEqViolated,"A require_eq expression was violated"],[Oe.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[Oe.RequireNeqViolated,"A require_neq expression was violated"],[Oe.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[Oe.RequireGtViolated,"A require_gt expression was violated"],[Oe.RequireGteViolated,"A require_gte expression was violated"],[Oe.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[Oe.AccountDiscriminatorNotFound,"No discriminator was found on the account"],[Oe.AccountDiscriminatorMismatch,"Account discriminator did not match what was expected"],[Oe.AccountDidNotDeserialize,"Failed to deserialize the account"],[Oe.AccountDidNotSerialize,"Failed to serialize the account"],[Oe.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[Oe.AccountNotMutable,"The given account is not mutable"],[Oe.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[Oe.InvalidProgramId,"Program ID was not as expected"],[Oe.InvalidProgramExecutable,"Program account is not executable"],[Oe.AccountNotSigner,"The given account did not sign"],[Oe.AccountNotSystemOwned,"The given account is not owned by the system program"],[Oe.AccountNotInitialized,"The program expected this account to be already initialized"],[Oe.AccountNotProgramData,"The given account is not a program data account"],[Oe.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[Oe.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[Oe.AccountReallocExceedsLimit,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[Oe.AccountDuplicateReallocs,"The account was duplicated for more than one reallocation"],[Oe.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[Oe.TryingToInitPayerAsProgramAccount,"You cannot/should not initialize the payer account as a program account"],[Oe.InvalidNumericConversion,"The program could not perform the numeric conversion, out of range integral type conversion attempted"],[Oe.Deprecated,"The API being used is deprecated and should no longer be used"]]);class pt{static fieldLayout(t,n=[],i){const o=t.name;switch(t.type){case"bool":return nt.bool(o);case"u8":return nt.u8(o);case"i8":return nt.i8(o);case"u16":return nt.u16(o);case"i16":return nt.i16(o);case"u32":return nt.u32(o);case"i32":return nt.i32(o);case"f32":return nt.f32(o);case"u64":return nt.u64(o);case"i64":return nt.i64(o);case"f64":return nt.f64(o);case"u128":return nt.u128(o);case"i128":return nt.i128(o);case"u256":return nt.u256(o);case"i256":return nt.i256(o);case"bytes":return nt.vecU8(o);case"string":return nt.str(o);case"pubkey":return nt.publicKey(o);default:{if("option"in t.type)return nt.option(pt.fieldLayout({type:t.type.option},n,i),o);if("vec"in t.type)return nt.vec(pt.fieldLayout({type:t.type.vec},n,i),o);if("array"in t.type){let[c,u]=t.type.array;return u=pt.resolveArrayLen(u,i),nt.array(pt.fieldLayout({type:c},n,i),u,o)}if("defined"in t.type){if(!n)throw new fs("User defined types not provided");const c=t.type.defined.name,u=n.find(d=>d.name===c);if(!u)throw new fs(`Type not found: ${t.name}`);return pt.typeDefLayout({typeDef:u,types:n,genericArgs:i??t.type.defined.generics,name:o})}if("generic"in t.type){const c=i?.at(0);if(c?.kind!=="type")throw new fs(`Invalid generic field: ${t.name}`);return pt.fieldLayout({...t,type:c.type},n)}throw new fs(`Not yet implemented: ${JSON.stringify(t.type)}`)}}}static typeDefLayout({typeDef:t,types:n,name:i,genericArgs:o}){switch(t.type.kind){case"struct":{const c=no(t.type.fields,()=>[],u=>u.map(d=>{const g=o&&pt.resolveGenericArgs({type:d.type,typeDef:t,genericArgs:o});return pt.fieldLayout(d,n,g)}),u=>u.map((d,g)=>{const w=o&&pt.resolveGenericArgs({type:d,typeDef:t,genericArgs:o});return pt.fieldLayout({name:g.toString(),type:d},n,w)}));return nt.struct(c,i)}case"enum":{const c=t.type.variants.map(u=>{const d=no(u.fields,()=>[],g=>g.map(w=>{const E=o&&pt.resolveGenericArgs({type:w.type,typeDef:t,genericArgs:o});return pt.fieldLayout(w,n,E)}),g=>g.map((w,E)=>{const I=o&&pt.resolveGenericArgs({type:w,typeDef:t,genericArgs:o});return pt.fieldLayout({name:E.toString(),type:w},n,I)}));return nt.struct(d,u.name)});return i!==void 0?nt.rustEnum(c).replicate(i):nt.rustEnum(c,i)}case"type":return pt.fieldLayout({type:t.type.alias,name:i},n)}}static typeSize(t,n,i){var o;switch(t){case"bool":return 1;case"u8":return 1;case"i8":return 1;case"i16":return 2;case"u16":return 2;case"u32":return 4;case"i32":return 4;case"f32":return 4;case"u64":return 8;case"i64":return 8;case"f64":return 8;case"u128":return 16;case"i128":return 16;case"u256":return 32;case"i256":return 32;case"bytes":return 1;case"string":return 1;case"pubkey":return 32;default:if("option"in t)return 1+pt.typeSize(t.option,n,i);if("coption"in t)return 4+pt.typeSize(t.coption,n,i);if("vec"in t)return 1;if("array"in t){let[c,u]=t.array;return u=pt.resolveArrayLen(u,i),pt.typeSize(c,n,i)*u}if("defined"in t){const c=(o=n.types)===null||o===void 0?void 0:o.find(d=>d.name===t.defined.name);if(!c)throw new fs(`Type not found: ${JSON.stringify(t)}`);const u=d=>{const g=i??t.defined.generics,w=g&&pt.resolveGenericArgs({type:d,typeDef:c,genericArgs:g});return pt.typeSize(d,n,w)};switch(c.type.kind){case"struct":return no(c.type.fields,()=>[0],d=>d.map(g=>u(g.type)),d=>d.map(g=>u(g))).reduce((d,g)=>d+g,0);case"enum":{const d=c.type.variants.map(g=>no(g.fields,()=>[0],w=>w.map(E=>u(E.type)),w=>w.map(E=>u(E))).reduce((w,E)=>w+E,0));return Math.max(...d)+1}case"type":return pt.typeSize(c.type.alias,n,i)}}if("generic"in t){const c=i?.at(0);if(c?.kind!=="type")throw new fs(`Invalid generic: ${t.generic}`);return pt.typeSize(c.type,n,i)}throw new Error(`Invalid type ${JSON.stringify(t)}`)}}static resolveArrayLen(t,n){if(typeof t=="number")return t;if(n){const i=n.find(o=>o.kind==="const");i?.kind==="const"&&(t=+i.value)}if(typeof t!="number")throw new fs("Generic array length did not resolve");return t}static resolveGenericArgs({type:t,typeDef:n,genericArgs:i,isDefined:o}){if(typeof t!="object")return null;for(const c in n.generics){const u=n.generics[c];if("generic"in t&&u.name===t.generic)return[i[c]];if("option"in t){const d=pt.resolveGenericArgs({type:t.option,typeDef:n,genericArgs:i,isDefined:o});if(!d||!o)return d;if(d[0].kind==="type")return[{kind:"type",type:{option:d[0].type}}]}if("vec"in t){const d=pt.resolveGenericArgs({type:t.vec,typeDef:n,genericArgs:i,isDefined:o});if(!d||!o)return d;if(d[0].kind==="type")return[{kind:"type",type:{vec:d[0].type}}]}if("array"in t){const[d,g]=t.array,w=typeof g=="object",E=pt.resolveGenericArgs({type:d,typeDef:n,genericArgs:i,isDefined:o})||[];if(w){const I=n.generics.findIndex(k=>k.name===g.generic);I!==-1&&E.push(i[I])}if(E.length>0){if(!o)return E;if(E[0].kind==="type"&&E[1].kind==="const")return[{kind:"type",type:{array:[E[0].type,+E[1].value]}}]}if(w&&u.name===g.generic){const I=i[c];return o?[{kind:"type",type:{array:[d,+I.value]}}]:[I]}return null}if("defined"in t)return t.defined.generics?t.defined.generics.flatMap(d=>{switch(d.kind){case"type":return pt.resolveGenericArgs({type:d.type,typeDef:n,genericArgs:i,isDefined:!0});case"const":return[d]}}).filter(d=>d!==null):null}return null}}class PI{constructor(t){this.idl=t;const n=t.instructions.map(i=>{const o=i.name,c=i.args.map(d=>pt.fieldLayout(d,t.types)),u=nt.struct(c,o);return[o,{discriminator:i.discriminator,layout:u}]});this.ixLayouts=new Map(n)}encode(t,n){const i=Be.Buffer.alloc(1e3),o=this.ixLayouts.get(t);if(!o)throw new Error(`Unknown method: ${t}`);const c=o.layout.encode(n,i),u=i.slice(0,c);return Be.Buffer.concat([Be.Buffer.from(o.discriminator),u])}decode(t,n="hex"){typeof t=="string"&&(t=n==="hex"?Be.Buffer.from(t,"hex"):rf.decode(t));for(const[i,o]of this.ixLayouts){const c=t.subarray(0,o.discriminator.length);if(c.equals(Be.Buffer.from(o.discriminator)))return{name:i,data:o.layout.decode(t.subarray(c.length))}}return null}format(t,n){return ir.format(t,n,this.idl)}}class ir{static format(t,n,i){const o=i.instructions.find(g=>t.name===g.name);if(!o)return console.error("Invalid instruction given"),null;const c=o.args.map(g=>({name:g.name,type:ir.formatIdlType(g.type),data:ir.formatIdlData(g,t.data[g.name],i.types)})),u=ir.flattenIdlAccounts(o.accounts),d=n.map((g,w)=>w<u.length?{name:u[w].name,...g}:{name:void 0,...g});return{args:c,accounts:d}}static formatIdlType(t){if(typeof t=="string")return t;if("option"in t)return`Option<${this.formatIdlType(t.option)}>`;if("coption"in t)return`COption<${this.formatIdlType(t.coption)}>`;if("vec"in t)return`Vec<${this.formatIdlType(t.vec)}>`;if("array"in t)return`Array<${t.array[0]}; ${t.array[1]}>`;if("defined"in t){const n=t.defined.name;if(t.defined.generics){const i=t.defined.generics.map(o=>{switch(o.kind){case"type":return ir.formatIdlType(o.type);case"const":return o.value}}).join(", ");return`${n}<${i}>`}return n}throw new Error(`Unknown IDL type: ${t}`)}static formatIdlData(t,n,i){if(typeof t.type=="string")return n.toString();if("vec"in t.type)return"["+n.map(o=>this.formatIdlData({name:"",type:t.type.vec},o,i)).join(", ")+"]";if("option"in t.type)return n===null?"null":this.formatIdlData({name:"",type:t.type.option},n,i);if("defined"in t.type){if(!i)throw new Error("User defined types not provided");const o=t.type.defined.name,c=i.find(u=>u.name===o);if(!c)throw new Error(`Type not found: ${o}`);return ir.formatIdlDataDefined(c,n,i)}return"unknown"}static formatIdlDataDefined(t,n,i){switch(t.type.kind){case"struct":return"{ "+no(t.type.fields,()=>"",o=>Object.entries(n).map(([c,u])=>{const d=o.find(g=>g.name===c);if(!d)throw new Error(`Field not found: ${c}`);return c+": "+ir.formatIdlData(d,u,i)}).join(", "),o=>Object.entries(n).map(([c,u])=>c+": "+ir.formatIdlData({name:"",type:o[c]},u,i)).join(", "))+" }";case"enum":{const o=Object.keys(n)[0],c=t.type.variants.find(d=>d.name===o);if(!c)throw new Error(`Unable to find variant: ${o}`);const u=n[o];return no(c.fields,()=>o,d=>{const g=Object.keys(u).map(w=>{const E=u[w],I=d.find(k=>k.name===w);if(!I)throw new Error(`Field not found: ${w}`);return w+": "+ir.formatIdlData(I,E,i)}).join(", ");return`${o} { ${g} }`},d=>{const g=Object.entries(u).map(([w,E])=>w+": "+ir.formatIdlData({name:"",type:d[w]},E,i)).join(", ");return`${o} { ${g} }`})}case"type":return ir.formatIdlType(t.type.alias)}}static flattenIdlAccounts(t,n){return t.map(i=>{const o=qI(i.name);if(i.hasOwnProperty("accounts")){const c=n?`${n} > ${o}`:o;return ir.flattenIdlAccounts(i.accounts,c)}else return{...i,name:n?`${n} > ${o}`:o}}).flat()}}function qI(s){const t=s.replace(/([A-Z])/g," $1");return t.charAt(0).toUpperCase()+t.slice(1)}class Sp{constructor(t){if(this.idl=t,!t.accounts){this.accountLayouts=new Map;return}const n=t.types;if(!n)throw new Error("Accounts require `idl.types`");const i=t.accounts.map(o=>{const c=n.find(u=>u.name===o.name);if(!c)throw new Error(`Account not found: ${o.name}`);return[o.name,{discriminator:o.discriminator,layout:pt.typeDefLayout({typeDef:c,types:n})}]});this.accountLayouts=new Map(i)}async encode(t,n){const i=Be.Buffer.alloc(1e3),o=this.accountLayouts.get(t);if(!o)throw new Error(`Unknown account: ${t}`);const c=o.layout.encode(n,i),u=i.slice(0,c),d=this.accountDiscriminator(t);return Be.Buffer.concat([d,u])}decode(t,n){const i=this.accountDiscriminator(t);if(i.compare(n.slice(0,i.length)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(t,n)}decodeAny(t){for(const[n,i]of this.accountLayouts)if(t.subarray(0,i.discriminator.length).equals(Be.Buffer.from(i.discriminator)))return this.decodeUnchecked(n,t);throw new Error("Account not found")}decodeUnchecked(t,n){const i=this.accountDiscriminator(t),o=n.subarray(i.length),c=this.accountLayouts.get(t);if(!c)throw new Error(`Unknown account: ${t}`);return c.layout.decode(o)}memcmp(t,n){const i=this.accountDiscriminator(t);return{offset:0,bytes:rf.encode(n?Be.Buffer.concat([i,n]):i)}}size(t){return this.accountDiscriminator(t).length+pt.typeSize({defined:{name:t}},this.idl)}accountDiscriminator(t){var n;const i=(n=this.idl.accounts)===null||n===void 0?void 0:n.find(o=>o.name===t);if(!i)throw new Error(`Account not found: ${t}`);return Be.Buffer.from(i.discriminator)}}class KI{constructor(t){if(!t.events){this.layouts=new Map;return}const n=t.types;if(!n)throw new Error("Events require `idl.types`");const i=t.events.map(o=>{const c=n.find(u=>u.name===o.name);if(!c)throw new Error(`Event not found: ${o.name}`);return[o.name,{discriminator:o.discriminator,layout:pt.typeDefLayout({typeDef:c,types:n})}]});this.layouts=new Map(i)}decode(t){let n;try{n=gp(t)}catch{return null}for(const[i,o]of this.layouts){const c=n.subarray(0,o.discriminator.length);if(c.equals(Be.Buffer.from(o.discriminator)))return{name:i,data:o.layout.decode(n.subarray(c.length))}}return null}}class VI{constructor(t){const n=t.types;if(!n){this.typeLayouts=new Map;return}const i=n.filter(o=>!o.generics).map(o=>[o.name,pt.typeDefLayout({typeDef:o,types:n})]);this.typeLayouts=new Map(i)}encode(t,n){const i=Be.Buffer.alloc(1e3),o=this.typeLayouts.get(t);if(!o)throw new Error(`Unknown type: ${t}`);const c=o.encode(n,i);return i.slice(0,c)}decode(t,n){const i=this.typeLayouts.get(t);if(!i)throw new Error(`Unknown type: ${t}`);return i.decode(n)}}class IE{constructor(t){this.instruction=new PI(t),this.accounts=new Sp(t),this.events=new KI(t),this.types=new VI(t)}}class Wn{constructor(t,n){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=n}makeDestinationObject(){return{}}decode(t,n){throw new Error("Layout is abstract")}encode(t,n,i){throw new Error("Layout is abstract")}getSpan(t,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=t,n}fromArray(t){}}var of=Wn;function GI(s,t){return t.property?s+"["+t.property+"]":s}class $s extends Wn{isCount(){throw new Error("ExternalLayout is abstract")}}class CE extends $s{constructor(t,n,i){if(!(t instanceof Wn))throw new TypeError("layout must be a Layout");if(n===void 0)n=0;else if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(t.span,i||t.property),this.layout=t,this.offset=n}isCount(){return this.layout instanceof cf||this.layout instanceof BE}decode(t,n){return n===void 0&&(n=0),this.layout.decode(t,n+this.offset)}encode(t,n,i){return i===void 0&&(i=0),this.layout.encode(t,n,i+this.offset)}}class cf extends Wn{constructor(t,n){if(super(t,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,n){return n===void 0&&(n=0),t.readUIntLE(n,this.span)}encode(t,n,i){return i===void 0&&(i=0),n.writeUIntLE(t,i,this.span),this.span}}class BE extends Wn{constructor(t,n){if(super(t,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,n){return n===void 0&&(n=0),t.readUIntBE(n,this.span)}encode(t,n,i){return i===void 0&&(i=0),n.writeUIntBE(t,i,this.span),this.span}}const B0=Math.pow(2,32);function ME(s){const t=Math.floor(s/B0),n=s-t*B0;return{hi32:t,lo32:n}}function UE(s,t){return s*B0+t}class FI extends Wn{constructor(t){super(8,t)}decode(t,n){n===void 0&&(n=0);const i=t.readUInt32LE(n),o=t.readUInt32LE(n+4);return UE(o,i)}encode(t,n,i){i===void 0&&(i=0);const o=ME(t);return n.writeUInt32LE(o.lo32,i),n.writeUInt32LE(o.hi32,i+4),8}}class YI extends Wn{constructor(t){super(8,t)}decode(t,n){n===void 0&&(n=0);const i=t.readUInt32LE(n),o=t.readInt32LE(n+4);return UE(o,i)}encode(t,n,i){i===void 0&&(i=0);const o=ME(t);return n.writeUInt32LE(o.lo32,i),n.writeInt32LE(o.hi32,i+4),8}}class ZI extends Wn{constructor(t,n,i){if(!(Array.isArray(t)&&t.reduce((c,u)=>c&&u instanceof Wn,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&i===void 0&&(i=n,n=void 0);for(const c of t)if(0>c.span&&c.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let o=-1;try{o=t.reduce((c,u)=>c+u.getSpan(),0)}catch{}super(o,n),this.fields=t,this.decodePrefixes=!!i}getSpan(t,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let i=0;try{i=this.fields.reduce((o,c)=>{const u=c.getSpan(t,n);return n+=u,o+u},0)}catch{throw new RangeError("indeterminate span")}return i}decode(t,n){n===void 0&&(n=0);const i=this.makeDestinationObject();for(const o of this.fields)if(o.property!==void 0&&(i[o.property]=o.decode(t,n)),n+=o.getSpan(t,n),this.decodePrefixes&&t.length===n)break;return i}encode(t,n,i){i===void 0&&(i=0);const o=i;let c=0,u=0;for(const d of this.fields){let g=d.span;if(u=0<g?g:0,d.property!==void 0){const w=t[d.property];w!==void 0&&(u=d.encode(w,n,i),0>g&&(g=d.getSpan(n,i)))}c=i,i+=g}return c+u-o}fromArray(t){const n=this.makeDestinationObject();for(const i of this.fields)i.property!==void 0&&0<t.length&&(n[i.property]=t.shift());return n}layoutFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===t)return n}offsetOf(t){if(typeof t!="string")throw new TypeError("property must be string");let n=0;for(const i of this.fields){if(i.property===t)return n;0>i.span?n=-1:0<=n&&(n+=i.span)}}}class DE{constructor(t){this.property=t}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class cw extends DE{constructor(t,n){if(!(t instanceof $s&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||t.property||"variant"),this.layout=t}decode(t,n){return this.layout.decode(t,n)}encode(t,n,i){return this.layout.encode(t,n,i)}}class LE extends Wn{constructor(t,n,i){const o=t instanceof cf||t instanceof BE;if(o)t=new cw(new CE(t));else if(t instanceof $s&&t.isCount())t=new cw(t);else if(!(t instanceof DE))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof Wn))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let c=-1;n&&(c=n.span,0<=c&&o&&(c+=t.layout.span)),super(c,i),this.discriminator=t,this.usesPrefixDiscriminator=o,this.defaultLayout=n,this.registry={};let u=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(d){return u(d)},this.configGetSourceVariant=function(d){u=d.bind(this)}}getSpan(t,n){if(0<=this.span)return this.span;n===void 0&&(n=0);const i=this.getVariant(t,n);if(!i)throw new Error("unable to determine span for unrecognized variant");return i.getSpan(t,n)}defaultGetSourceVariant(t){if(t.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&t.hasOwnProperty(this.defaultLayout.property))return;const n=this.registry[t[this.discriminator.property]];if(n&&(!n.layout||t.hasOwnProperty(n.property)))return n}else for(const n in this.registry){const i=this.registry[n];if(t.hasOwnProperty(i.property))return i}throw new Error("unable to infer src variant")}decode(t,n){n===void 0&&(n=0);let i;const o=this.discriminator,c=o.decode(t,n);let u=this.registry[c];if(u===void 0){let d=0;u=this.defaultLayout,this.usesPrefixDiscriminator&&(d=o.layout.span),i=this.makeDestinationObject(),i[o.property]=c,i[u.property]=this.defaultLayout.decode(t,n+d)}else i=u.decode(t,n);return i}encode(t,n,i){i===void 0&&(i=0);const o=this.getSourceVariant(t);if(o===void 0){const c=this.discriminator,u=this.defaultLayout;let d=0;return this.usesPrefixDiscriminator&&(d=c.layout.span),c.encode(t[c.property],n,i),d+u.encode(t[u.property],n,i+d)}return o.encode(t,n,i)}addVariant(t,n,i){const o=new XI(this,t,n,i);return this.registry[t]=o,o}getVariant(t,n){let i=t;return Buffer.isBuffer(t)&&(n===void 0&&(n=0),i=this.discriminator.decode(t,n)),this.registry[i]}}class XI extends Wn{constructor(t,n,i,o){if(!(t instanceof LE))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof i=="string"&&o===void 0&&(o=i,i=null),i){if(!(i instanceof Wn))throw new TypeError("layout must be a Layout");if(t.defaultLayout!==null&&0<=i.span&&i.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof o!="string")throw new TypeError("variant must have a String property")}let c=t.span;0>t.span&&(c=i?i.span:0,0<=c&&t.usesPrefixDiscriminator&&(c+=t.discriminator.layout.span)),super(c,o),this.union=t,this.variant=n,this.layout=i||null}getSpan(t,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),i+this.layout.getSpan(t,n+i)}decode(t,n){const i=this.makeDestinationObject();if(n===void 0&&(n=0),this!==this.union.getVariant(t,n))throw new Error("variant mismatch");let o=0;return this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout?i[this.property]=this.layout.decode(t,n+o):this.property?i[this.property]=!0:this.union.usesPrefixDiscriminator&&(i[this.union.discriminator.property]=this.variant),i}encode(t,n,i){i===void 0&&(i=0);let o=0;if(this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout&&!t.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,i);let c=o;if(this.layout&&(this.layout.encode(t[this.property],n,i+o),c+=this.layout.getSpan(n,i+o),0<=this.union.span&&c>this.union.span))throw new Error("encoded variant overruns containing union");return c}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}class WI extends Wn{constructor(t,n){if(!(t instanceof $s&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let i=-1;t instanceof $s||(i=t),super(i,n),this.length=t}getSpan(t,n){let i=this.span;return 0>i&&(i=this.length.decode(t,n)),i}decode(t,n){n===void 0&&(n=0);let i=this.span;return 0>i&&(i=this.length.decode(t,n)),t.slice(n,n+i)}encode(t,n,i){let o=this.length;if(this.length instanceof $s&&(o=t.length),!(Buffer.isBuffer(t)&&o===t.length))throw new TypeError(GI("Blob.encode",this)+" requires (length "+o+") Buffer as src");if(i+o>n.length)throw new RangeError("encoding overruns Buffer");return n.write(t.toString("hex"),i,o,"hex"),this.length instanceof $s&&this.length.encode(o,n,i),o}}var $I=((s,t,n)=>new CE(s,t,n)),QI=(s=>new cf(1,s)),xi=(s=>new cf(4,s)),JI=(s=>new FI(s)),ki=(s=>new YI(s)),En=((s,t,n)=>new ZI(s,t,n)),zE=((s,t,n)=>new LE(s,t,n)),Vc=((s,t)=>new WI(s,t));class e3 extends of{constructor(t){super(-1,t),this.property=t,this.layout=En([xi("length"),xi("lengthPadding"),Vc($I(xi(),-8),"chars")],this.property)}encode(t,n,i=0){if(t==null)return this.layout.span;const o={chars:Buffer.from(t,"utf8")};return this.layout.encode(o,n,i)}decode(t,n=0){return this.layout.decode(t,n).chars.toString()}getSpan(t,n=0){return xi().span+xi().span+new hn(new Uint8Array(t).slice(n,n+4),10,"le").toNumber()}}function lf(s){return new e3(s)}function vr(s){return Vc(32,s)}const or=zE(xi("instruction"));or.addVariant(0,En([ki("lamports"),ki("space"),vr("owner")]),"createAccount");or.addVariant(1,En([vr("owner")]),"assign");or.addVariant(2,En([ki("lamports")]),"transfer");or.addVariant(3,En([vr("base"),lf("seed"),ki("lamports"),ki("space"),vr("owner")]),"createAccountWithSeed");or.addVariant(4,En([vr("authorized")]),"advanceNonceAccount");or.addVariant(5,En([ki("lamports")]),"withdrawNonceAccount");or.addVariant(6,En([vr("authorized")]),"initializeNonceAccount");or.addVariant(7,En([vr("authorized")]),"authorizeNonceAccount");or.addVariant(8,En([ki("space")]),"allocate");or.addVariant(9,En([vr("base"),lf("seed"),ki("space"),vr("owner")]),"allocateWithSeed");or.addVariant(10,En([vr("base"),lf("seed"),vr("owner")]),"assignWithSeed");or.addVariant(11,En([ki("lamports"),lf("seed"),vr("owner")]),"transferWithSeed");Math.max(...Object.values(or.registry).map(s=>s.span));class t3 extends of{constructor(t,n,i,o){super(t.span,o),this.layout=t,this.decoder=n,this.encoder=i}decode(t,n){return this.decoder(this.layout.decode(t,n))}encode(t,n,i){return this.layout.encode(this.encoder(t),n,i)}getSpan(t,n){return this.layout.getSpan(t,n)}}function lw(s){return new t3(Vc(32),t=>new _e(t),t=>t.toBuffer(),s)}En([xi("version"),xi("state"),lw("authorizedPubkey"),lw("nonce"),En([JI("lamportsPerSignature")],"feeCalculator")]);function n3(s){return new TextDecoder().decode(ku(s))}var r3=Object.freeze({__proto__:null,hash:n3});function i3(s,t,n){const i=Be.Buffer.concat([s.toBuffer(),Be.Buffer.from(t),n.toBuffer()]);return new _e(ku(i))}var s3=Object.freeze({__proto__:null,createWithSeedSync:i3});const HE=new _e("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),jE=new _e("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");function a3({mint:s,owner:t}){return _e.findProgramAddressSync([t.toBuffer(),HE.toBuffer(),s.toBuffer()],jE)[0]}var o3=Object.freeze({__proto__:null,TOKEN_PROGRAM_ID:HE,ASSOCIATED_PROGRAM_ID:jE,associatedAddress:a3}),M0={exports:{}};(function(s,t){var n=typeof self<"u"?self:UI,i=(function(){function c(){this.fetch=!1,this.DOMException=n.DOMException}return c.prototype=n,new c})();(function(c){(function(u){var d={searchParams:"URLSearchParams"in c,iterable:"Symbol"in c&&"iterator"in Symbol,blob:"FileReader"in c&&"Blob"in c&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in c,arrayBuffer:"ArrayBuffer"in c};function g(h){return h&&DataView.prototype.isPrototypeOf(h)}if(d.arrayBuffer)var w=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],E=ArrayBuffer.isView||function(h){return h&&w.indexOf(Object.prototype.toString.call(h))>-1};function I(h){if(typeof h!="string"&&(h=String(h)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(h))throw new TypeError("Invalid character in header field name");return h.toLowerCase()}function k(h){return typeof h!="string"&&(h=String(h)),h}function R(h){var _={next:function(){var A=h.shift();return{done:A===void 0,value:A}}};return d.iterable&&(_[Symbol.iterator]=function(){return _}),_}function M(h){this.map={},h instanceof M?h.forEach(function(_,A){this.append(A,_)},this):Array.isArray(h)?h.forEach(function(_){this.append(_[0],_[1])},this):h&&Object.getOwnPropertyNames(h).forEach(function(_){this.append(_,h[_])},this)}M.prototype.append=function(h,_){h=I(h),_=k(_);var A=this.map[h];this.map[h]=A?A+", "+_:_},M.prototype.delete=function(h){delete this.map[I(h)]},M.prototype.get=function(h){return h=I(h),this.has(h)?this.map[h]:null},M.prototype.has=function(h){return this.map.hasOwnProperty(I(h))},M.prototype.set=function(h,_){this.map[I(h)]=k(_)},M.prototype.forEach=function(h,_){for(var A in this.map)this.map.hasOwnProperty(A)&&h.call(_,this.map[A],A,this)},M.prototype.keys=function(){var h=[];return this.forEach(function(_,A){h.push(A)}),R(h)},M.prototype.values=function(){var h=[];return this.forEach(function(_){h.push(_)}),R(h)},M.prototype.entries=function(){var h=[];return this.forEach(function(_,A){h.push([A,_])}),R(h)},d.iterable&&(M.prototype[Symbol.iterator]=M.prototype.entries);function U(h){if(h.bodyUsed)return Promise.reject(new TypeError("Already read"));h.bodyUsed=!0}function z(h){return new Promise(function(_,A){h.onload=function(){_(h.result)},h.onerror=function(){A(h.error)}})}function j(h){var _=new FileReader,A=z(_);return _.readAsArrayBuffer(h),A}function F(h){var _=new FileReader,A=z(_);return _.readAsText(h),A}function V(h){for(var _=new Uint8Array(h),A=new Array(_.length),C=0;C<_.length;C++)A[C]=String.fromCharCode(_[C]);return A.join("")}function $(h){if(h.slice)return h.slice(0);var _=new Uint8Array(h.byteLength);return _.set(new Uint8Array(h)),_.buffer}function ne(){return this.bodyUsed=!1,this._initBody=function(h){this._bodyInit=h,h?typeof h=="string"?this._bodyText=h:d.blob&&Blob.prototype.isPrototypeOf(h)?this._bodyBlob=h:d.formData&&FormData.prototype.isPrototypeOf(h)?this._bodyFormData=h:d.searchParams&&URLSearchParams.prototype.isPrototypeOf(h)?this._bodyText=h.toString():d.arrayBuffer&&d.blob&&g(h)?(this._bodyArrayBuffer=$(h.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):d.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(h)||E(h))?this._bodyArrayBuffer=$(h):this._bodyText=h=Object.prototype.toString.call(h):this._bodyText="",this.headers.get("content-type")||(typeof h=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):d.searchParams&&URLSearchParams.prototype.isPrototypeOf(h)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},d.blob&&(this.blob=function(){var h=U(this);if(h)return h;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?U(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(j)}),this.text=function(){var h=U(this);if(h)return h;if(this._bodyBlob)return F(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(V(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},d.formData&&(this.formData=function(){return this.text().then(G)}),this.json=function(){return this.text().then(JSON.parse)},this}var ce=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function ie(h){var _=h.toUpperCase();return ce.indexOf(_)>-1?_:h}function ue(h,_){_=_||{};var A=_.body;if(h instanceof ue){if(h.bodyUsed)throw new TypeError("Already read");this.url=h.url,this.credentials=h.credentials,_.headers||(this.headers=new M(h.headers)),this.method=h.method,this.mode=h.mode,this.signal=h.signal,!A&&h._bodyInit!=null&&(A=h._bodyInit,h.bodyUsed=!0)}else this.url=String(h);if(this.credentials=_.credentials||this.credentials||"same-origin",(_.headers||!this.headers)&&(this.headers=new M(_.headers)),this.method=ie(_.method||this.method||"GET"),this.mode=_.mode||this.mode||null,this.signal=_.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&A)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(A)}ue.prototype.clone=function(){return new ue(this,{body:this._bodyInit})};function G(h){var _=new FormData;return h.trim().split("&").forEach(function(A){if(A){var C=A.split("="),L=C.shift().replace(/\+/g," "),B=C.join("=").replace(/\+/g," ");_.append(decodeURIComponent(L),decodeURIComponent(B))}}),_}function Y(h){var _=new M,A=h.replace(/\r?\n[\t ]+/g," ");return A.split(/\r?\n/).forEach(function(C){var L=C.split(":"),B=L.shift().trim();if(B){var v=L.join(":").trim();_.append(B,v)}}),_}ne.call(ue.prototype);function X(h,_){_||(_={}),this.type="default",this.status=_.status===void 0?200:_.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in _?_.statusText:"OK",this.headers=new M(_.headers),this.url=_.url||"",this._initBody(h)}ne.call(X.prototype),X.prototype.clone=function(){return new X(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new M(this.headers),url:this.url})},X.error=function(){var h=new X(null,{status:0,statusText:""});return h.type="error",h};var W=[301,302,303,307,308];X.redirect=function(h,_){if(W.indexOf(_)===-1)throw new RangeError("Invalid status code");return new X(null,{status:_,headers:{location:h}})},u.DOMException=c.DOMException;try{new u.DOMException}catch{u.DOMException=function(_,A){this.message=_,this.name=A;var C=Error(_);this.stack=C.stack},u.DOMException.prototype=Object.create(Error.prototype),u.DOMException.prototype.constructor=u.DOMException}function T(h,_){return new Promise(function(A,C){var L=new ue(h,_);if(L.signal&&L.signal.aborted)return C(new u.DOMException("Aborted","AbortError"));var B=new XMLHttpRequest;function v(){B.abort()}B.onload=function(){var m={status:B.status,statusText:B.statusText,headers:Y(B.getAllResponseHeaders()||"")};m.url="responseURL"in B?B.responseURL:m.headers.get("X-Request-URL");var f="response"in B?B.response:B.responseText;A(new X(f,m))},B.onerror=function(){C(new TypeError("Network request failed"))},B.ontimeout=function(){C(new TypeError("Network request failed"))},B.onabort=function(){C(new u.DOMException("Aborted","AbortError"))},B.open(L.method,L.url,!0),L.credentials==="include"?B.withCredentials=!0:L.credentials==="omit"&&(B.withCredentials=!1),"responseType"in B&&d.blob&&(B.responseType="blob"),L.headers.forEach(function(m,f){B.setRequestHeader(f,m)}),L.signal&&(L.signal.addEventListener("abort",v),B.onreadystatechange=function(){B.readyState===4&&L.signal.removeEventListener("abort",v)}),B.send(typeof L._bodyInit>"u"?null:L._bodyInit)})}return T.polyfill=!0,c.fetch||(c.fetch=T,c.Headers=M,c.Request=ue,c.Response=X),u.Headers=M,u.Request=ue,u.Response=X,u.fetch=T,Object.defineProperty(u,"__esModule",{value:!0}),u})({})})(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var o=i;t=o.fetch,t.default=o.fetch,t.fetch=o.fetch,t.Headers=o.Headers,t.Request=o.Request,t.Response=o.Response,s.exports=t})(M0,M0.exports);var c3=DI(M0.exports);async function l3(s,t,n=5){const i=`https://api.apr.dev/api/v0/program/${t.toString()}/latest?limit=${n}`,[o,c]=await Promise.all([PE(s,t),c3(i)]),u=(await c.json()).filter(g=>!g.aborted&&g.state==="Built"&&g.verified==="Verified");if(u.length===0)return null;const d=u[0];return o.slot.toNumber()!==d.verified_slot?null:d}async function PE(s,t){const n=await s.getAccountInfo(t);if(n===null)throw new Error("program account not found");const{program:i}=U0(n.data),o=await s.getAccountInfo(i.programdataAddress);if(o===null)throw new Error("program data account not found");const{programData:c}=U0(o.data);return c}const u3=nt.rustEnum([nt.struct([],"uninitialized"),nt.struct([nt.option(nt.publicKey(),"authorityAddress")],"buffer"),nt.struct([nt.publicKey("programdataAddress")],"program"),nt.struct([nt.u64("slot"),nt.option(nt.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,nt.u32());function U0(s){return u3.decode(s)}var f3=Object.freeze({__proto__:null,verifiedBuild:l3,fetchData:PE,decodeUpgradeableLoaderState:U0}),hs=Object.freeze({__proto__:null,sha256:r3,rpc:BI,publicKey:s3,bytes:uI,token:o3,features:HI,registry:f3});const D0="Program log: ",qE="Program data: ",d3=D0.length,h3=qE.length;class p3{constructor(t,n,i){this._programId=t,this._provider=n,this._eventParser=new bs(t,i),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(t,n,i){var o;let c=this._listenerIdCount;return this._listenerIdCount+=1,this._eventListeners.has(t)||this._eventListeners.set(t,[]),this._eventListeners.set(t,((o=this._eventListeners.get(t))!==null&&o!==void 0?o:[]).concat(c)),this._eventCallbacks.set(c,[t,n]),this._onLogsSubscriptionId!==void 0||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,(u,d)=>{if(!u.err)for(const g of this._eventParser.parseLogs(u.logs)){const w=this._eventListeners.get(g.name);w&&w.forEach(E=>{const I=this._eventCallbacks.get(E);if(I){const[,k]=I;k(g.data,d.slot,u.signature)}})}},i)),c}async removeEventListener(t){const n=this._eventCallbacks.get(t);if(!n)throw new Error(`Event listener ${t} doesn't exist!`);const[i]=n;let o=this._eventListeners.get(i);if(!o)throw new Error(`Event listeners don't exist for ${i}!`);if(this._eventCallbacks.delete(t),o=o.filter(c=>c!==t),this._eventListeners.set(i,o),o.length===0&&this._eventListeners.delete(i),this._eventCallbacks.size===0){if(this._eventListeners.size!==0)throw new Error(`Expected event listeners size to be 0 but got ${this._eventListeners.size}`);this._onLogsSubscriptionId!==void 0&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0)}}}class bs{constructor(t,n){this.coder=n,this.programId=t}*parseLogs(t,n=!1){const i=new y3([...t]),o=new m3,c=i.next();if(c===null)return;const u=bs.INVOKE_RE.exec(c);if(!u||u[2]!==bs.ROOT_DEPTH)throw new Error(`Unexpected first log line: ${c}`);for(o.push(u[1]);i.peek()!==null;){const d=i.next();if(d===null)break;let[g,w,E]=this.handleLog(o,d,n);if(g&&(yield g),w&&o.push(w),E){o.pop();const I=i.peek();if(I&&I.endsWith("invoke [1]")){const k=bs.INVOKE_RE.exec(I);k&&o.push(k[1])}}}}handleLog(t,n,i){return t.stack.length>0&&t.program()===this.programId.toString()?this.handleProgramLog(n,i):[null,...this.handleSystemLog(n)]}handleProgramLog(t,n){if(t.startsWith(D0)||t.startsWith(qE)){const i=t.startsWith(D0)?t.slice(d3):t.slice(h3),o=this.coder.events.decode(i);if(n&&o===null)throw new Error(`Unable to decode event ${i}`);return[o,null,!1]}else return[null,...this.handleSystemLog(t)]}handleSystemLog(t){return t.startsWith(`Program ${this.programId.toString()} log:`)?[this.programId.toString(),!1]:t.includes("invoke")&&!t.endsWith("[1]")?["cpi",!1]:/^Program ([1-9A-HJ-NP-Za-km-z]+) success$/.test(t)?[null,!0]:[null,!1]}}bs.INVOKE_RE=/^Program ([1-9A-HJ-NP-Za-km-z]+) invoke \[(\d+)\]$/;bs.ROOT_DEPTH="1";class m3{constructor(){this.stack=[]}program(){if(!this.stack.length)throw new Error("Expected the stack to have elements");return this.stack[this.stack.length-1]}push(t){this.stack.push(t)}pop(){if(!this.stack.length)throw new Error("Expected the stack to have elements");this.stack.pop()}}class y3{constructor(t){this.logs=t,this.logs=this.logs.filter(n=>n.startsWith("Program "))}next(){if(this.logs.length===0)return null;let t=this.logs[0];return this.logs=this.logs.slice(1),t}peek(){return this.logs.length>0?this.logs[0]:null}}function uf(s,t){var n,i;let o={};const c=s.args?s.args.length:0;if(t.length>c){if(t.length!==c+1)throw new Error(`provided too many arguments ${t} to instruction ${s?.name} expecting: ${(i=(n=s.args)===null||n===void 0?void 0:n.map(u=>u.name))!==null&&i!==void 0?i:[]}`);o=t.pop()}return[t,o]}class Pu{static build(t,n,i){if(t.name==="_inner")throw new fs("the _inner name is reserved");const o=(...c)=>{const[u,d]=uf(t,[...c]);tv(t.accounts,d.accounts),g3(t,...c);const g=o.accounts(d.accounts);return d.remainingAccounts!==void 0&&g.push(...d.remainingAccounts),Ep("debug-logs")&&console.log("Outgoing account metas:",g),new xt({keys:g,programId:i,data:n(t.name,gI(t,...u))})};return o.accounts=c=>Pu.accountsArray(c,t.accounts,i,t.name),o}static accountsArray(t,n,i,o){return t?n.map(c=>{if(ds(c)){const E=t[c.name];return Pu.accountsArray(E,c.accounts,i,o).flat()}let u;try{u=wr(t[c.name])}catch{throw new Error(`Wrong input type for account "${c.name}" in the instruction accounts object${o!==void 0?' for instruction "'+o+'"':""}. Expected PublicKey or string.`)}const d=c.optional&&u.equals(i),g=!!(c.writable&&!d),w=!!(c.signer&&!d);return{pubkey:u,isWritable:g,isSigner:w}}).flat():[]}}function g3(s,...t){}class b3{static build(t,n){return(...o)=>{var c,u,d;const[,g]=uf(t,[...o]),w=new yt;if(g.preInstructions&&g.instructions)throw new Error("instructions is deprecated, use preInstructions");return(c=g.preInstructions)===null||c===void 0||c.forEach(E=>w.add(E)),(u=g.instructions)===null||u===void 0||u.forEach(E=>w.add(E)),w.add(n(...o)),(d=g.postInstructions)===null||d===void 0||d.forEach(E=>w.add(E)),w}}}class w3{static build(t,n,i,o){return async(...u)=>{var d;const g=n(...u),[,w]=uf(t,[...u]);if(o.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await o.sendAndConfirm(g,(d=w.signers)!==null&&d!==void 0?d:[],w.options)}catch(E){throw kE(E,i)}}}}class _3{static build(t,n,i,o){var c;return((c=t.accounts)!==null&&c!==void 0?c:[]).reduce((u,d)=>(u[d.name]=new v3(t,d,i,o,n),u),{})}}class v3{get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}constructor(t,n,i,o,c){this._idlAccount=n,this._programId=i,this._provider=o??Hu(),this._coder=c??new IE(t),this._size=this._coder.accounts.size(n.name)}async fetchNullable(t,n){const{data:i}=await this.fetchNullableAndContext(t,n);return i}async fetchNullableAndContext(t,n){const i=await this.getAccountInfoAndContext(t,n),{value:o,context:c}=i;return{data:o&&o.data.length!==0?this._coder.accounts.decode(this._idlAccount.name,o.data):null,context:c}}async fetch(t,n){const{data:i}=await this.fetchNullableAndContext(t,n);if(i===null)throw new Error(`Account does not exist or has no data ${t.toString()}`);return i}async fetchAndContext(t,n){const{data:i,context:o}=await this.fetchNullableAndContext(t,n);if(i===null)throw new Error(`Account does not exist ${t.toString()}`);return{data:i,context:o}}async fetchMultiple(t,n){return(await this.fetchMultipleAndContext(t,n)).map(o=>o?o.data:null)}async fetchMultipleAndContext(t,n){return(await vp(this._provider.connection,t.map(o=>wr(o)),n)).map(o=>{if(o==null)return null;const{account:c,context:u}=o;return{data:this._coder.accounts.decode(this._idlAccount.name,c.data),context:u}})}async all(t){const n=this.coder.accounts.memcmp(this._idlAccount.name,t instanceof Buffer?t:void 0),i=[];return n?.offset!=null&&n?.bytes!=null&&i.push({memcmp:{offset:n.offset,bytes:n.bytes}}),n?.dataSize!=null&&i.push({dataSize:n.dataSize}),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[...i,...Array.isArray(t)?t:[]]})).map(({pubkey:c,account:u})=>({publicKey:c,account:this._coder.accounts.decode(this._idlAccount.name,u.data)}))}subscribe(t,n){const i=bc.get(t.toString());if(i)return i.ee;const o=new Jk;t=wr(t);const c=this._provider.connection.onAccountChange(t,u=>{const d=this._coder.accounts.decode(this._idlAccount.name,u.data);o.emit("change",d)},n);return bc.set(t.toString(),{ee:o,listener:c}),o}async unsubscribe(t){let n=bc.get(t.toString());if(!n){console.warn("Address is not subscribed");return}bc&&await this._provider.connection.removeAccountChangeListener(n.listener).then(()=>{bc.delete(t.toString())}).catch(console.error)}async createInstruction(t,n){const i=this.size;if(this._provider.publicKey===void 0)throw new Error("This function requires the Provider interface implementor to have a 'publicKey' field.");return pn.createAccount({fromPubkey:this._provider.publicKey,newAccountPubkey:t.publicKey,space:n??i,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(n??i),programId:this._programId})}async getAccountInfo(t,n){return await this._provider.connection.getAccountInfo(wr(t),n)}async getAccountInfoAndContext(t,n){return await this._provider.connection.getAccountInfoAndContext(wr(t),n)}}const bc=new Map;class E3{static build(t,n,i,o,c,u,d){return async(...w)=>{var E;const I=n(...w),[,k]=uf(t,[...w]);let R;if(o.simulate===void 0)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{R=await o.simulate(I,k.signers,(E=k.options)===null||E===void 0?void 0:E.commitment)}catch(z){throw kE(z,i)}if(R===void 0)throw new Error("Unable to simulate transaction");const M=R.logs;if(!M)throw new Error("Simulated logs not found");const U=[];if(d.events){let z=new bs(u,c);for(const j of z.parseLogs(M))U.push(j)}return{events:U,raw:M}}}}function f0(s){return new KE(Vc(8),t=>Ap.fromBuffer(t),t=>t.toBuffer(),s)}function gu(s){return new KE(Vc(32),t=>new _e(t),t=>t.toBuffer(),s)}function d0(s,t){return new S3(s,t)}class KE extends of{constructor(t,n,i,o){super(t.span,o),this.layout=t,this.decoder=n,this.encoder=i}decode(t,n){return this.decoder(this.layout.decode(t,n))}encode(t,n,i){return this.layout.encode(this.encoder(t),n,i)}getSpan(t,n){return this.layout.getSpan(t,n)}}class S3 extends of{constructor(t,n){super(-1,n),this.layout=t,this.discriminator=xi()}encode(t,n,i=0){return t==null?this.layout.span+this.discriminator.encode(0,n,i):(this.discriminator.encode(1,n,i),this.layout.encode(t,n,i+4)+4)}decode(t,n=0){const i=this.discriminator.decode(t,n);if(i===0)return null;if(i===1)return this.layout.decode(t,n+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(t,n=0){return this.layout.getSpan(t,n+4)+4}}class Ap extends hn{toBuffer(){const t=super.toArray().reverse(),n=Buffer.from(t);if(n.length===8)return n;if(n.length>=8)throw new Error("u64 too large");const i=Buffer.alloc(8);return n.copy(i),i}static fromBuffer(t){if(t.length!==8)throw new Error(`Invalid buffer length: ${t.length}`);return new Ap([...t].reverse().map(n=>`00${n.toString(16)}`.slice(-2)).join(""),16)}}const A3=En([gu("mint"),gu("owner"),f0("amount"),d0(gu(),"delegate"),(s=>{const t=zE(QI("discriminator"),null,s);return t.addVariant(0,En([]),"uninitialized"),t.addVariant(1,En([]),"initialized"),t.addVariant(2,En([]),"frozen"),t})("state"),d0(f0(),"isNative"),f0("delegatedAmount"),d0(gu(),"closeAuthority")]);function R3(s){return A3.decode(s)}class x3{constructor(t,n,i,o,c,u,d,g){this._args=t,this._accounts=n,this._provider=i,this._programId=o,this._idlIx=c,this._idlTypes=d,this._customResolver=g,this._accountStore=new T3(i,u,o)}args(t){this._args=t}async resolve(){this.resolveEventCpi(this._idlIx.accounts),this.resolveConst(this._idlIx.accounts);let t=0;for(;await this.resolvePdasAndRelations(this._idlIx.accounts)+await this.resolveCustom()>0;)if(t++,t===16){const n=u=>ds(u)?u.accounts.some(n):!!(u.address||u.pda||u.relations),i=(u,d=[],g=[])=>{for(const w of u)ds(w)?g.push(...i(w.accounts,[...d,w.name])):g.push([...d,w.name]);return g},o=this._idlIx.accounts.filter(n),c=i(o).filter(u=>!this.get(u)).map(u=>u.reduce((d,g)=>d+"."+g)).map(u=>`\`${u}\``).join(", ");throw new Error(["Reached maximum depth for account resolution.",`Unresolved accounts: ${c}`].join(" "))}}resolveOptionals(t){Object.assign(this._accounts,this.resolveOptionalsHelper(t,this._idlIx.accounts))}get(t){const n=t.reduce((i,o)=>i&&i[o],this._accounts);if(n&&n.toBase58)return n}set(t,n){let i=this._accounts;t.forEach((o,c)=>{var u;c===t.length-1&&(i[o]=n),i[o]=(u=i[o])!==null&&u!==void 0?u:{},i=i[o]})}resolveOptionalsHelper(t,n){const i={};for(const o of n){const c=o.name,u=t[c];u!==void 0&&(VE(u)?ds(o)?i[c]=this.resolveOptionalsHelper(u,o.accounts):i[c]=GE(u):u!==null?i[c]=wr(u):o.optional&&(i[c]=this._programId))}return i}async resolveCustom(){if(this._customResolver){const{accounts:t,resolved:n}=await this._customResolver({args:this._args,accounts:this._accounts,provider:this._provider,programId:this._programId,idlIx:this._idlIx});return this._accounts=t,n}return 0}resolveEventCpi(t,n=[]){for(const i in t){const o=t[i];ds(o)&&this.resolveEventCpi(o.accounts,[...n,o.name]);const c=+i+1;if(c===t.length)return;const u=t[i].name,d=t[c].name;if(u==="eventAuthority"&&d==="program"){const g=[...n,u],w=[...n,d];this.get(g)||this.set(g,_e.findProgramAddressSync([Buffer.from("__event_authority")],this._programId)[0]),this.get(w)||this.set(w,this._programId);return}}}resolveConst(t,n=[]){for(const i of t){const o=i.name;if(ds(i))this.resolveConst(i.accounts,[...n,o]);else{const c=i;if((c.signer||c.address)&&!this.get([...n,o])){if(c.signer){if(!this._provider.publicKey)throw new Error("This function requires the `Provider` interface implementor to have a `publicKey` field.");this.set([...n,o],this._provider.publicKey)}c.address&&this.set([...n,o],wr(c.address))}}}}async resolvePdasAndRelations(t,n=[]){let i=0;for(const o of t){const c=o.name;if(ds(o))i+=await this.resolvePdasAndRelations(o.accounts,[...n,c]);else{const u=o;if((u.pda||u.relations)&&!this.get([...n,c])){i++;try{if(u.pda){const d=await Promise.all(u.pda.seeds.map(E=>this.toBuffer(E,n)));if(d.some(E=>!E))continue;const g=await this.parseProgramId(u,n),[w]=_e.findProgramAddressSync(d,g);this.set([...n,c],w)}}catch{}try{if(u.relations){const d=this.get([...n,u.relations[0]]);if(d){const g=await this._accountStore.fetchAccount({publicKey:d});this.set([...n,c],g[c])}}}catch{}}}}return i}async parseProgramId(t,n=[]){var i;if(!(!((i=t.pda)===null||i===void 0)&&i.program))return this._programId;const o=await this.toBuffer(t.pda.program,n);if(!o)throw new Error(`Program seed not resolved: ${t.name}`);return new _e(o)}async toBuffer(t,n=[]){switch(t.kind){case"const":return this.toBufferConst(t);case"arg":return await this.toBufferArg(t);case"account":return await this.toBufferAccount(t,n);default:throw new Error(`Unexpected seed: ${t}`)}}toBufferConst(t){return this.toBufferValue("bytes",t.value)}async toBufferArg(t){const[n,...i]=t.path.split("."),o=this._idlIx.args.findIndex(d=>d.name===n);if(o===-1)throw new Error(`Unable to find argument for seed: ${n}`);const c=i.reduce((d,g)=>(d??{})[g],this._args[o]);if(c===void 0)return;const u=this.getType(this._idlIx.args[o].type,i);return this.toBufferValue(u,c)}async toBufferAccount(t,n=[]){const[i,...o]=t.path.split("."),c=this.get([...n,i]);if(!c)return;if(!o.length)return this.toBufferValue("pubkey",c);if(!t.account)throw new Error(`Seed account is required in order to resolve type: ${t.path}`);let d=await this._accountStore.fetchAccount({publicKey:c,name:t.account}),g=o;for(;g.length>0;)d=d[g[0]],g=g.slice(1);if(d===void 0)return;const w=this.getType({defined:{name:t.account}},o);return this.toBufferValue(w,d)}toBufferValue(t,n){switch(t){case"u8":case"i8":return Buffer.from([n]);case"u16":case"i16":return new hn(n).toArrayLike(Buffer,"le",2);case"u32":case"i32":return new hn(n).toArrayLike(Buffer,"le",4);case"u64":case"i64":return new hn(n).toArrayLike(Buffer,"le",8);case"u128":case"i128":return new hn(n).toArrayLike(Buffer,"le",16);case"u256":case"i256":return new hn(n).toArrayLike(Buffer,"le",32);case"string":return Buffer.from(n);case"pubkey":return n.toBuffer();case"bytes":return Buffer.from(n);default:if(t?.array)return Buffer.from(n);throw new Error(`Unexpected seed type: ${t}`)}}getType(t,n=[]){var i;const o=(i=t?.defined)===null||i===void 0?void 0:i.name;if(o){if(o==="tokenAccount")switch(n.at(0)){case"mint":case"owner":return"pubkey";case"amount":case"delagatedAmount":return"u64";default:throw new Error(`Unknown token account path: ${n}`)}const c=this._idlTypes.find(E=>E.name===o);if(!c)throw new Error(`Type not found: ${o}`);const[u,...d]=n,w=c.type.fields.find(E=>E.name===u);if(!w)throw new Error(`Field not found: ${u}`);return this.getType(w.type,d)}return t}}class T3{constructor(t,n,i){this._provider=t,this._cache=new Map,this._idls={},this._idls[i.toBase58()]=n}async fetchAccount({publicKey:t,name:n}){const i=t.toBase58();if(!this._cache.has(i)){const o=await this._provider.connection.getAccountInfo(t);if(o===null)throw new Error(`Account not found: ${i}`);if(n==="tokenAccount"){const c=R3(o.data);this._cache.set(i,c)}else{const c=await this.getAccountsNs(o.owner);if(c){const u=Object.values(c)[0];if(u){const d=u.coder.accounts.decodeAny(o.data);this._cache.set(i,d)}}}}return this._cache.get(i)}async getAccountsNs(t){const n=t.toBase58();if(!this._idls[n]){const i=await po.fetchIdl(t,this._provider);if(i){const o=new po(i,this._provider);this._idls[n]=o.account}}return this._idls[n]}}class O3{static build(t,n,i,o,c,u,d,g,w,E,I){return(...k)=>new N3(k,o,c,u,d,g,t,n,i,w,E,I)}}function VE(s){return typeof s=="object"&&s!==null&&!("_bn"in s)}function GE(s,t){const n={};for(const i in s){const o=s[i];if(o===null)throw new Error("Failed to resolve optionals due to IDL type mismatch with input accounts!");n[i]=VE(o)?GE(o):wr(o)}return n}class N3{constructor(t,n,i,o,c,u,d,g,w,E,I,k){this._args=t,this._ixFn=n,this._txFn=i,this._rpcFn=o,this._simulateFn=c,this._viewFn=u,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._resolveAccounts=!0,this._accountsResolver=new x3(t,this._accounts,d,g,w,E,I,k)}args(t){this._args=t,this._accountsResolver.args(t)}accounts(t){return this.accountsPartial(t)}accountsPartial(t){return this._resolveAccounts=!0,this._accountsResolver.resolveOptionals(t),this}accountsStrict(t){return this._resolveAccounts=!1,this._accountsResolver.resolveOptionals(t),this}signers(t){return this._signers=this._signers.concat(t),this}remainingAccounts(t){return this._remainingAccounts=this._remainingAccounts.concat(t),this}preInstructions(t,n=!1){return n?this._preInstructions=t.concat(this._preInstructions):this._preInstructions=this._preInstructions.concat(t),this}postInstructions(t){return this._postInstructions=this._postInstructions.concat(t),this}async pubkeys(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._accounts}async instruction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async transaction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async simulate(t){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async view(t){if(this._resolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw new Error(["Method does not support views.","The instruction should return a value, and its accounts must be read-only"].join(" "));return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async rpc(t){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async rpcAndKeys(t){return{signature:await this.rpc(t),pubkeys:await this.pubkeys()}}async prepare(){return{instruction:await this.instruction(),signers:this._signers,pubkeys:await this.pubkeys()}}}class k3{static build(t,n,i,o){const c=n.accounts.find(g=>g.writable),u=!!n.returns;return c||!u?void 0:async(...g)=>{let w=await i(...g);const E=`Program return: ${t} `;let I=w.raw.find(U=>U.startsWith(E));if(!I)throw new Error("View expected return log");let k=gp(I.slice(E.length)),R=n.returns;if(!R)throw new Error("View expected return type");return pt.fieldLayout({type:R},o.types).decode(k)}}}class I3{static build(t,n,i,o,c){const u={},d={},g={},w={},E={},I={},k=yI(t),R=t.accounts?_3.build(t,n,i,o):{};return t.instructions.forEach(M=>{const U=Pu.build(M,(ce,ie)=>n.instruction.encode(ce,ie),i),z=b3.build(M,U),j=w3.build(M,z,k,o),F=E3.build(M,z,k,o,n,i,t),V=k3.build(i,M,F,t),$=O3.build(o,i,M,U,z,j,F,V,R,t.types||[],c?.(M)),ne=M.name;d[ne]=U,g[ne]=z,u[ne]=j,w[ne]=F,E[ne]=$,V&&(I[ne]=V)}),[u,d,g,R,w,E,I]}}class po{get programId(){return this._programId}get idl(){return this._idl}get rawIdl(){return this._rawIdl}get coder(){return this._coder}get provider(){return this._provider}constructor(t,n=Hu(),i,o){this._idl=mI(t),this._rawIdl=t,this._provider=n,this._programId=wr(t.address),this._coder=i??new IE(this._idl),this._events=new p3(this._programId,n,this._coder);const[c,u,d,g,w,E,I]=I3.build(this._idl,this._coder,this._programId,n,o);this.rpc=c,this.instruction=u,this.transaction=d,this.account=g,this.simulate=w,this.methods=E,this.views=I}static async at(t,n){const i=wr(t),o=await po.fetchIdl(i,n);if(!o)throw new Error(`IDL not found for program: ${t.toString()}`);return new po(o,n)}static async fetchIdl(t,n){n=n??Hu();const i=wr(t),o=await fI(i),c=await n.connection.getAccountInfo(o);if(!c)return null;let u=pI(c.data.slice(8));const d=Wk(u.data);return JSON.parse(ev(d))}addEventListener(t,n,i){return this._events.addEventListener(t,n,i)}async removeEventListener(t){return await this._events.removeEventListener(t)}}new _e("11111111111111111111111111111111");function mo(s){const t=typeof s=="bigint"?s:BigInt(s),n=new Uint8Array(8);let i=t;for(let o=0;o<8;o++)n[o]=Number(i&0xffn),i>>=8n;return n}function C3(...s){const t=s.reduce((o,c)=>o+c.length,0),n=new Uint8Array(t);let i=0;for(const o of s)n.set(o,i),i+=o.length;return n}async function B3(s){if(!globalThis.crypto?.subtle)throw new Error("WebCrypto not available (crypto.subtle missing)");const t=await globalThis.crypto.subtle.digest("SHA-256",s);return new Uint8Array(t)}async function M3(s,t,n,i,o){const c=t instanceof _e?t:new _e(t),u=new TextEncoder().encode("commit"),d=C3(u,mo(s),c.toBytes(),mo(n),Uint8Array.from([i&255]),o);return B3(d)}function U3(){const s=new Uint8Array(32);return globalThis.crypto.getRandomValues(s),s}function uw(s){return[...s].map(t=>t.toString(16).padStart(2,"0")).join("")}function FE(s){const t=(s||"").trim();if(t.length%2!==0)throw new Error("Invalid hex length");const n=new Uint8Array(t.length/2);for(let i=0;i<n.length;i++)n[i]=parseInt(t.slice(i*2,i*2+2),16);return n}function Ci(s){return new TextEncoder().encode(s)}function Oi(s){const[t]=_e.findProgramAddressSync([Ci("config")],s);return t}function YE(s,t){const[n]=_e.findProgramAddressSync([Ci("round_registry"),t.toBytes()],s);return n}function br(s,t){const[n]=_e.findProgramAddressSync([Ci("round"),mo(t)],s);return n}function Ac(s,t){const[n]=_e.findProgramAddressSync([Ci("chrono_vault"),mo(t)],s);return n}function ZE(s,t,n,i){const o=n instanceof _e?n:new _e(n),[c]=_e.findProgramAddressSync([Ci("ticket"),mo(t),o.toBytes(),mo(i)],s);return c}function qu(s,t){const[n]=_e.findProgramAddressSync([Ci("tokenomics"),t.toBytes()],s);return n}function XE(s,t){const[n]=_e.findProgramAddressSync([Ci("reward_fee_pool"),t.toBytes()],s);return n}function D3(s,t){const[n]=_e.findProgramAddressSync([Ci("replication_pool"),t.toBytes()],s);return n}function L3(s){const[t]=_e.findProgramAddressSync([Ci("treasury")],s);return t}async function fw(s,t,n){const i=await s.getParsedTokenAccountsByOwner(t,{mint:n},"confirmed");return i.value.length?new _e(i.value[0].pubkey):null}function Rp(s,t){return`timlg_play_v1:${s}:round:${t}`}function z3(s,t){if(!s)return null;try{const n=localStorage.getItem(Rp(s,t));if(!n)return null;const i=JSON.parse(n);return Array.isArray(i)?i.length>0?i[i.length-1]:null:i}catch{return null}}function H3(s,t){if(!s)return[];try{const n=localStorage.getItem(Rp(s,t));if(!n)return[];const i=JSON.parse(n);return Array.isArray(i)?i:[i]}catch{return[]}}function j3(s,t,n){if(!s)return;const i=Rp(s,t);try{const o=localStorage.getItem(i);let c=[];if(o){const d=JSON.parse(o);Array.isArray(d)?c=d:c=[d]}const u=c.findIndex(d=>d.ticketPda===n.ticketPda);u>=0?c[u]=n:c.push(n),localStorage.setItem(i,JSON.stringify(c))}catch(o){console.error("Failed to save local state",o)}}function P3(s){if(!s)return[];const t=`timlg_play_v1:${s}:round:`,n=[];try{for(let i=0;i<localStorage.length;i++){const o=localStorage.key(i);if(o&&o.startsWith(t)){const c=localStorage.getItem(o);if(c){const u=JSON.parse(c);Array.isArray(u)?n.push(...u):n.push(u)}}}}catch(i){console.error("Failed to scan local storage",i)}return n}function q3(s,t){return z3(s,t)}function Rc(s,t){return H3(s,t)}function K3(s){return P3(s)}function Kr(s,t,n){j3(s,t,n)}function V3(s){const t=typeof s=="string"?s:s?.toBase58?.()??"";return t.length>10?`${t.slice(0,4)}${t.slice(-4)}`:t}function G3(s){return`https://explorer.solana.com/address/${typeof s=="string"?s:s?.toBase58?.()??""}?cluster=devnet`}function h0(s){return(s?.error?.errorMessage||s?.message||String(s)).replace(/\s+/g," ").trim()}function F3({logs:s=[],onClear:t,title:n="Activity log",defaultOpen:i=!1,maxHeight:o=220}){const c=Re.useMemo(()=>s?.length?s.join(`
`):"",[s]);return K.jsxs("details",{className:"beta-log",open:i,children:[K.jsx("summary",{className:"beta-log__summary",children:K.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[K.jsx("b",{children:n}),K.jsx("span",{className:"beta-log__meta",children:s?.length?`${s.length} lines`:"empty"})]})}),K.jsxs("div",{className:"beta-log__toolbar",children:[K.jsx("button",{className:"beta-btn",onClick:()=>navigator.clipboard?.writeText(c),disabled:!s?.length,title:"Copy to clipboard",type:"button",children:"Copy"}),K.jsx("button",{className:"beta-btn",onClick:()=>t?.(),disabled:!s?.length,type:"button",children:"Clear"})]}),K.jsx("pre",{className:"beta-log__pre",style:{maxHeight:o},children:s?.length?c:""})]})}function Y3({rpcUrl:s,connection:t,program:n,walletReady:i,programPk:o,chronoMint:c,pubkey:u,appendLog:d,chainState:g,refreshProtocolState:w,statusLine:E,onActionComplete:I,nist:k,logs:R,onClearLog:M}){const U=typeof d=="function"?d:()=>{},z=Re.useMemo(()=>new _e(String(c).trim()),[c]),j=u?.toBase58?.()??null,[F,V]=Re.useState(3),[$,ne]=Re.useState(-1),[ce,ie]=Re.useState(!1),[ue,G]=Re.useState(""),[Y,X]=Re.useState(null),[W,T]=Re.useState([]),[h,_]=Re.useState(Date.now());Re.useEffect(()=>{const Ce=setInterval(()=>_(Date.now()),1e3);return()=>clearInterval(Ce)},[]);const A=w,C=Number(k?.pulse?.pulseIndex??0),L=k?.pulseTimeMs??Date.now(),B=Date.now()-L,v=Math.max(0,Math.floor(B/6e4)),m=L+v*6e4,f=C+v,y=f+F,O=L+(v+F)*60*1e3,D=g?.activeRounds?.[y.toString()]||null,Z=g?.round?.pulseIndexTarget!=null?Number(g.round.pulseIndexTarget):null,se=Z!=null?y-Z:0,re=g?.roundId!=null?g.roundId+se:null,le=D?D.roundId:re,Ae=le!=null?br(o,le):null,Ie=le!=null?Ac(o,le):null;Re.useEffect(()=>{if(!j||le==null){X(null),T([]);return}const Ce=q3(j,le),H=Rc(j,le);X(Ce||null),T(H)},[j,le]);function Ve(Ce,H,S={}){const x=Object.entries(H).filter(([,P])=>P==null).map(([P])=>P);if(x.length)throw console.error(`${Ce}: missing accounts`,{missing:x,accounts:H,chainState:g,...S}),new Error(`${Ce}: missing accounts: ${x.join(", ")}`)}async function It(){if(!u)return U("Commit: connect wallet first.");if(!i||!n)return U("Commit: wallet/program not ready yet.");if(!D||le==null)return U(F===1||F===2?`Commit: #${y} was skipped or too close to NIST (Operator Finalized). Try a later pulse.`:`Commit: Round for Target #${y} not created yet (Operator Pending).`);if(!Ae)return U("Commit: round PDA missing.");const Ce=g?.currentSlot,H=D.commitDeadlineSlot;if(Ce!=null&&H!=null&&BigInt(Ce)>=H)return U(`Commit: Window closed (slot=${Ce} >= commit_deadline_slot=${H.toString()}).`);if(D.pulseSet)return U("Commit: Window closed (pulseSet=true).");ie(!0),G("");try{const S=le,x=u;let P=$;P===-1&&(P=Math.floor(Math.random()*2),U(`Randomly picked: ${P===1?"Bull (1)":"Bear (0)"} `));const ee=await fw(t,x,z);if(!ee)throw new Error("You don't have TIMLG yet. Use the faucet first.");const ae=Math.floor(Math.random()*1e9),me=U3(),ze=await M3(S,x,ae,P,me),Pe={config:g.configPda??Oi(o),roundRegistry:g.roundRegistryPda??g.rrPda??YE(o,Oi(o)),round:Ae,ticket:ZE(o,S,x,ae),user:x,chronoMint:z,chronoVault:Ie,userChronoAta:ee,systemProgram:pn.programId,tokenProgram:hs.token.TOKEN_PROGRAM_ID};Ve("Commit",Pe,{roundId:S,nonce:ae,guess:P}),U(`Commit: sending tx (round=${S}, guess=${P}, nonce=${ae})`);const Ue={version:1,roundId:S,guess:P,nonce:ae,saltHex:uw(me),commitmentHex:uw(ze),ticketPda:Pe.ticket.toBase58(),committedAt:Date.now(),commitTx:"pending"};Kr(j,S,Ue),X(Ue);let _t=await n.methods.commitTicket(new hn(S),new hn(ae),Array.from(ze)).accounts(Pe).rpc();G(_t),U(`Commit OK  tx=${_t}`),Ue.commitTx=_t,Kr(j,S,Ue),X({...Ue}),await w?.(),I?.()}catch(S){U(`Commit failed: ${h0(S)}`),console.error("Commit error:",S)}finally{ie(!1)}}async function Ge(){if(!u)return U("Reveal: connect wallet first.");if(!i||!n)return U("Reveal: wallet/program not ready yet.");if(!D||le==null)return U("Reveal: round not loaded.");if(!D.pulseSet)return U("Reveal: pulse not set yet (pulseSet=false).");const Ce=Y;if(!Ce?.nonce||!Ce?.saltHex||!Ce?.ticketPda)return U("Reveal: missing local receipt.");ie(!0),G("");try{const H=le,S=Number(Ce.nonce),x=FE(Ce.saltHex),P=Number(Ce.guess??$),ee={config:g.configPda??Oi(o),round:Ae,ticket:new _e(Ce.ticketPda),user:u};Ve("Reveal",ee,{roundId:H,nonce:S,revealGuess:P}),U(`Reveal: sending tx (round=${H}, nonce=${S})`);const ae=await n.methods.revealTicket(new hn(H),new hn(S),P,Array.from(x)).accounts(ee).rpc();if(G(ae),U(`Reveal OK  tx=${ae}`),Ce){const me={...Ce,revealTx:ae,revealedAt:Date.now()};Kr(u.toBase58(),H,me),X(me)}await A?.()}catch(H){U(`Reveal failed: ${h0(H)}`),console.error("Reveal error:",H)}finally{ie(!1)}}async function $e(){if(!u)return U("Claim: connect wallet first.");if(!i||!n)return U("Claim: wallet/program not ready yet.");if(!D||le==null)return U("Claim: round not loaded.");if(!D.tokenSettled)return U("Claim: tokenSettled=false (operator hasn't settled).");if(!g.tokenomicsExists||!g.rewardFeePoolPda)return U("Claim: tokenomics missing.");const Ce=Y;if(!Ce?.nonce||!Ce?.ticketPda)return U("Claim: missing local ticket.");ie(!0),G("");try{const H=le,S=Number(Ce.nonce),x=await fw(t,u,z);if(!x)throw new Error("Missing TIMLG token account.");const P={config:g.configPda??Oi(o),tokenomics:g.tokenomicsPda,round:Ae,ticket:new _e(Ce.ticketPda),user:u,chronoMint:z,chronoVault:Ie,userChronoAta:x,rewardFeePool:g.rewardFeePoolPda,tokenProgram:hs.token.TOKEN_PROGRAM_ID};Ve("Claim",P,{roundId:H,nonce:S}),U(`Claim: sending tx (round=${H}, nonce=${S})`);const ee=await n.methods.claimReward(new hn(H),new hn(S)).accounts(P).rpc();if(G(ee),U(`Claim OK  tx=${ee}`),Ce){const ae={...Ce,claimTx:ee,claimedAt:Date.now()};Kr(u.toBase58(),H,ae),X(ae)}await A?.()}catch(H){U(`Claim failed: ${h0(H)}`),console.error("Claim error:",H)}finally{ie(!1)}}const[Yt,Ze]=Re.useState(null),Qe=D?.commitDeadlineSlot?.toString();Re.useEffect(()=>{const Ce=D?.commitDeadlineSlot,H=g?.currentSlot;if(Ce==null||H==null){Ze(null);return}const S=Number(Ce-10n-BigInt(H));if(S<=0){Ze(0);return}let x=Math.max(0,Math.floor(S*.4));Ze(x);const P=setInterval(()=>{Ze(ee=>ee!=null&&ee>0?ee-1:0)},1e3);return()=>clearInterval(P)},[Qe,y]),Re.useEffect(()=>{const Ce=D?.commitDeadlineSlot,H=g?.currentSlot;if(Ce==null||H==null||Yt==null||Yt<=0)return;const S=Math.max(0,Math.floor(Number(Ce-10n-BigInt(H))*.4));Math.abs(S-Yt)>3&&Ze(S)},[g?.currentSlot]);const _n=g?.currentSlot,ht=D?.commitDeadlineSlot,Fe=D?.revealDeadlineSlot,Tt=!!(u&&D&&_n!=null&&ht!=null&&BigInt(_n)<ht-10n&&!D.pulseSet),We=Tt,je=!!(u&&D&&Y&&D.pulseSet&&Fe!=null&&BigInt(_n)<=Fe),Ct=!!(u&&D&&D.tokenSettled&&Y);return K.jsxs("div",{className:"beta-card",children:[K.jsx("div",{className:"beta-card__head",style:{paddingBottom:0,borderBottom:"none"},children:K.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[K.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:2},children:[K.jsx("div",{style:{display:"flex",alignItems:"center",gap:8},children:K.jsx("span",{className:"beta-card__title",style:{fontSize:18,fontWeight:"900"},children:D?`Round #${D.roundId}`:re!=null&&y<Number(g?.round?.pulseIndexTarget??0)?`Round #${re}`:"Round Pending..."})}),K.jsxs("div",{style:{fontSize:11,display:"flex",flexWrap:"wrap",gap:8,color:"#444"},children:[K.jsxs("span",{children:["Target: #",y," ",O&&K.jsxs("span",{style:{fontWeight:"700"},children:["(Arr: ",new Date(O).toLocaleTimeString([],{hour12:!1,timeZone:"UTC"}),")"]})]}),K.jsx("span",{style:{opacity:.3},children:"|"}),K.jsxs("span",{children:["Current:"," ",K.jsxs("a",{href:k?.pulseUrl??"#",target:"_blank",rel:"noreferrer",style:{color:"inherit",textDecoration:"underline"},children:["#",f]}),K.jsxs("span",{style:{fontWeight:"700"},children:[" (At: ",new Date(m).toLocaleTimeString([],{hour12:!1,timeZone:"UTC"}),")"]})]}),K.jsx("span",{style:{opacity:.3},children:"|"}),K.jsxs("span",{children:["UTC: ",K.jsx("b",{style:{color:"inherit",fontWeight:"700"},children:new Date(h).toLocaleTimeString([],{hour12:!1,timeZone:"UTC"})})]})]})]}),K.jsx("div",{style:{textAlign:"right"},children:D?Tt?K.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[K.jsx("span",{style:{color:"#4caf50",fontWeight:"bold",fontSize:14},children:" OPEN"}),Yt!=null&&Yt>0&&K.jsxs("span",{style:{fontSize:11,color:"#444",fontWeight:"500"},children:["Closing in ",K.jsxs("b",{children:[Yt,"s"]})," ",K.jsx("span",{style:{opacity:.5,fontSize:9},children:"(est.)"})]})]}):K.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[K.jsx("span",{style:{color:"#aaa",fontWeight:"bold",fontSize:14},children:" CLOSED"}),K.jsx("span",{style:{fontSize:12,opacity:.5},children:D.pulseSet?"Revealing...":"Outcome Pending"})]}):K.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[K.jsx("span",{style:{color:"#555",fontWeight:"bold",fontSize:14},children:" PENDING"}),K.jsx("span",{style:{fontSize:10,opacity:.5},children:"Operator Syncing..."})]})})]})}),K.jsxs("div",{className:"beta-card__body",children:[K.jsx("div",{style:{height:16}}),K.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr",gap:12,alignItems:"end",marginBottom:16},children:[K.jsxs("div",{className:"beta-field",children:[K.jsx("span",{className:"beta-field__label",children:"Target Pulse"}),K.jsx("select",{className:"beta-input",value:F,onChange:Ce=>V(Number(Ce.target.value)),disabled:ce,style:{height:42},children:[{offset:1,label:"Current + 1"},{offset:2,label:"Current + 2"},{offset:3,label:"Current + 3"},{offset:4,label:"Current + 4"},{offset:5,label:"Current + 5"}].map(Ce=>K.jsx("option",{value:Ce.offset,children:Ce.label},Ce.offset))})]}),K.jsxs("div",{className:"beta-field",children:[K.jsx("span",{className:"beta-field__label",children:"Prediction"}),K.jsxs("select",{className:"beta-input",value:Y?Y.guess:$,onChange:Ce=>ne(Number(Ce.target.value)),disabled:ce,style:{height:42,opacity:1},children:[K.jsx("option",{value:0,children:"0 (Bear)"}),K.jsx("option",{value:1,children:"1 (Bull)"}),!Y&&K.jsx("option",{value:-1,children:"Random "})]})]}),K.jsxs("div",{className:"beta-field",children:[K.jsx("span",{className:"beta-field__label",style:{fontWeight:"normal",opacity:.7,textAlign:"left"},children:W.length>0?`Tickets Found (${W.length}) `:"Cost: 1.00 TIMLG + Fee"}),K.jsx("button",{className:"beta-play-btn",onClick:It,disabled:!We||ce,style:{height:42,padding:"0 12px",fontSize:15,fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",background:!We||ce?"#d1d1d1":"#81c784",color:!We||ce?"#888":"#fff",cursor:!We||ce?"default":"pointer"},children:ce?"...":"Commit"})]})]}),(je||Ct)&&K.jsxs("div",{style:{marginBottom:16},children:[je&&K.jsx("button",{className:"beta-play-btn",onClick:Ge,disabled:ce,style:{width:"100%",height:38,background:"#f39c12",color:"#000",fontWeight:"bold"},children:ce?"...":" REVEAL TICKET NOW"}),Ct&&K.jsx("button",{className:"beta-play-btn",onClick:$e,disabled:ce,style:{width:"100%",height:38,background:"#27ae60",color:"#fff",fontWeight:"bold"},children:ce?"...":" CLAIM YOUR WIN!"})]}),K.jsx("div",{style:{marginTop:24},children:K.jsx(F3,{logs:R,onClear:M,title:"Terminal Output",defaultOpen:!1,maxHeight:160})})]})]})}const us=(s,t=4)=>{if(!s)return"";const n=s.toString();return n.slice(0,t)+".."+n.slice(-t)},qs="https://explorer.solana.com",Ks="?cluster=devnet",Z3=({ticket:s,connection:t,programPk:n,claimGraceSlots:i,onClose:o,currentSlot:c})=>{const[u,d]=Re.useState([]),[g,w]=Re.useState(!1),[E,I]=Re.useState(null),[k,R]=Re.useState(!1),{roundId:M,ticketPk:U,receipt:z,ticket:j,round:F}=s||{};if(Re.useEffect(()=>{!U||!t||(w(!0),t.getSignaturesForAddress(U,{limit:10}).then(C=>d(C)).catch(C=>console.error("Err fetching sigs:",C)).finally(()=>w(!1)))},[U,t]),Re.useEffect(()=>{if(!F||!t||!n||!M)return;const C=F?.pulseSetSlot||F?.pulse_set_slot;if(!C)return;(async()=>{try{const B=await br(n,Number(M)),v=await t.getSignaturesForAddress(B,{limit:50}),m=Number(C),f=v.find(y=>Math.abs(y.slot-m)<=1);f&&I(f.signature)}catch(B){console.error("Err fetching round sigs:",B)}})()},[F,t,n,M]),!s)return null;const V=j?.revealed?j.guess:z?.guess??j?.guess,$=V===1,ne=V===0,ie=(()=>{if(z?.refunded===!0)return"REFUNDED";const C=!!j?.revealed,L=!!j?.win,B=!!j?.claimed,v=!!(j?.processed||j?.tokenSettled);if(B)return"CLAIMED";if(L){if(v){if(c&&F&&i!=null)try{const m=BigInt(F.revealDeadlineSlot||F.reveal_deadline_slot||0),f=BigInt(i),y=BigInt(c);if(m>0n&&y>m+f)return"SWEPT"}catch(m){console.warn("Error calculating swept status:",m)}return"CLAIM PRIZE"}return"WIN"}if(C&&!L)return"LOSS";if(!C&&!L){if(!F||F.finalized)return"EXPIRED";const m=Number(c||0),f=F.revealDeadlineSlot||F.reveal_deadline_slot;if(f&&m>0){const y=Number(f);if(m>y+150)return"REFUND AVAILABLE";if(m>y)return"EXPIRED";if(!!(F?.pulseSet||F?.pulse_set)&&m<=y)return"REVEAL NOW"}}return"PENDING"})(),G=(C=>C==="CLAIM PRIZE"||C==="READY TO CLAIM"||C==="WINNER"||C==="CLAIMED"||C==="REFUNDED"?"#4caf50":C==="LOSS"||C==="REFUND AVAILABLE"||C==="SWEPT"?"#f44336":C==="REVEAL NOW"?"#ff9800":"#9e9e9e")(ie),Y=C=>{if(!C)return null;const L=C.toString();return u.find(B=>{const v=B.slot.toString();return v===L||Math.abs(Number(v)-Number(L))<=1})},X=Y(j?.createdSlot||j?.created_slot),W=Y(j?.revealedSlot||j?.revealed_slot),T=Y(j?.claimedSlot||j?.claimed_slot),h=F?.pulseIndexTarget??F?.pulse_index_target,_=h?`https://beacon.nist.gov/beacon/2.0/chain/1/pulse/${h}`:"#",A=n&&M!=null?br(n,Number(M)):null;return K.jsx("div",{className:"beta-modal-overlay",onClick:o,children:K.jsxs("div",{className:"beta-modal",onClick:C=>C.stopPropagation(),children:[K.jsxs("div",{className:"beta-modal__head",style:{alignItems:"flex-start",paddingBottom:16},children:[K.jsxs("div",{children:[K.jsx("h3",{className:"beta-modal__title",style:{marginBottom:4,lineHeight:1},children:"Ticket Details"}),K.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[K.jsx("span",{style:{fontSize:11,opacity:.5},children:"Ticket:"}),K.jsxs("a",{href:`${qs}/address/${U?.toString()}${Ks}`,target:"_blank",rel:"noreferrer",className:"beta-link",style:{fontSize:11,fontFamily:"monospace"},children:[us(U,6)," "]})]})]}),K.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[K.jsx("button",{className:"beta-btn",onClick:C=>{C.stopPropagation();try{const L=y=>{if(!y)return null;const O=y.toString();return O==="0"?null:O},B={snapshot:{timestamp:new Date().toISOString(),slot:L(c)},address:U?U.toString():"unknown",roundId:Number(M),nonce:Number(j?.nonce??z?.nonce??0),bitIndex:j?.bitIndex??j?.bit_index??null,status:ie,prediction:$?"Bull":ne?"Bear":"Unknown",outcome:j?.win?"Win":j?.revealed?"Loss":ie==="REFUND AVAILABLE"?"Refundable":ie==="SWEPT"?"Swept":ie==="EXPIRED"?"Expired":ie==="REFUNDED"?"Refunded":"Pending",cryptography:{commitmentHash:j?.commitment?Buffer.from(j.commitment).toString("hex"):z?.commitment||null,localSalt:z?.saltHex||(z?.salt?Array.isArray(z.salt)?Buffer.from(z.salt).toString("hex"):z.salt:null),isValid:!0},transactions:{commit:X?X.signature:null,reveal:W?W.signature:null,claim:T?T.signature:null,refund:z?.refundedTx||null}},v=new Blob([JSON.stringify(B,null,2)],{type:"application/json"}),m=URL.createObjectURL(v),f=document.createElement("a");f.href=m,f.download=`chronos_ticket_${M}_${U?U.toString().slice(0,8):"data"}.json`,document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(m)}catch(L){console.error("Download failed:",L),alert("Download failed. See console.")}},style:{fontSize:11,padding:"6px 12px",height:28,background:"rgba(255,255,255,0.08)",border:"1px solid rgba(255,255,255,0.25)",borderRadius:4,cursor:"pointer",color:"#ffffff",fontWeight:500,transition:"all 0.2s"},onMouseEnter:C=>{C.target.style.background="rgba(255,255,255,0.15)",C.target.style.borderColor="rgba(255,255,255,0.5)"},onMouseLeave:C=>{C.target.style.background="rgba(255,255,255,0.08)",C.target.style.borderColor="rgba(255,255,255,0.25)"},title:"Download Receipt JSON",children:" Download JSON"}),K.jsx("button",{className:"beta-modal__close",onClick:o,style:{marginLeft:0},children:""})]})]}),K.jsxs("div",{className:"beta-modal__body",children:[K.jsxs("div",{style:{background:`linear-gradient(to right, ${G}22, transparent)`,borderLeft:`3px solid ${G}`,padding:"10px 14px",marginBottom:20,borderRadius:"0 8px 8px 0"},children:[K.jsx("div",{style:{fontSize:11,textTransform:"uppercase",color:G,fontWeight:"bold",letterSpacing:1},children:"Status"}),K.jsx("div",{style:{fontSize:24,fontWeight:800,color:"#fff"},children:ie})]}),K.jsxs("div",{className:"beta-detail-grid",children:[K.jsxs("div",{className:"beta-detail-row",children:[K.jsx("span",{className:"beta-detail-label",children:"Round ID"}),K.jsx("span",{className:"beta-detail-value",children:A?K.jsxs("a",{href:`${qs}/address/${A.toString()}${Ks}`,target:"_blank",rel:"noreferrer",className:"beta-link",children:["#",String(M)," "]}):`#${String(M)}`})]}),K.jsxs("div",{className:"beta-detail-row",children:[K.jsx("span",{className:"beta-detail-label",children:"Target Pulse"}),K.jsx("span",{className:"beta-detail-value",children:h?K.jsxs("a",{href:_,target:"_blank",rel:"noreferrer",className:"beta-link",children:["#",String(h)," "]}):""})]}),K.jsxs("div",{className:"beta-detail-row",children:[K.jsx("span",{className:"beta-detail-label",children:"Prediction"}),K.jsx("span",{className:"beta-detail-value",style:{color:$?"#4caf50":ne?"#f44336":"#ddd"},children:$?" Bull (1)":ne?" Bear (0)":""})]}),j?.bit_index!==void 0&&K.jsxs("div",{className:"beta-detail-row",children:[K.jsx("span",{className:"beta-detail-label",children:"Bit Index"}),K.jsx("span",{className:"beta-detail-value",children:j.bit_index})]}),K.jsxs("div",{className:"beta-detail-row",children:[K.jsx("span",{className:"beta-detail-label",children:"Nonce"}),K.jsx("span",{className:"beta-detail-value",children:String(j?.nonce??z?.nonce??"")})]}),K.jsx("div",{style:{marginTop:20,marginBottom:8,fontSize:11,fontWeight:"bold",opacity:.5},children:"ON-CHAIN TRANSACTIONS"}),K.jsxs("div",{className:"beta-detail-row",children:[K.jsx("span",{className:"beta-detail-label",children:"Commit (Buy)"}),K.jsx("span",{className:"beta-detail-value",children:X?K.jsxs("a",{href:`${qs}/tx/${X.signature}${Ks}`,target:"_blank",rel:"noreferrer",className:"beta-link",children:[us(X.signature)," "]}):g?K.jsx("span",{style:{opacity:.5},children:"Searching..."}):""})]}),K.jsxs("div",{className:"beta-detail-row",children:[K.jsx("span",{className:"beta-detail-label",children:"Reveal"}),K.jsx("span",{className:"beta-detail-value",children:W?K.jsxs("a",{href:`${qs}/tx/${W.signature}${Ks}`,target:"_blank",rel:"noreferrer",className:"beta-link",children:[us(W.signature)," "]}):g?K.jsx("span",{style:{opacity:.5},children:"Searching..."}):j?.revealed?"":"Pending"})]}),j?.win&&K.jsxs("div",{className:"beta-detail-row",children:[K.jsx("span",{className:"beta-detail-label",children:"Claim Reward"}),K.jsx("span",{className:"beta-detail-value",children:T?K.jsxs("a",{href:`${qs}/tx/${T.signature}${Ks}`,target:"_blank",rel:"noreferrer",className:"beta-link",children:[us(T.signature)," "]}):j?.claimed?"":"Unclaimed"})]}),K.jsxs("div",{className:"beta-detail-row",children:[K.jsx("span",{className:"beta-detail-label",children:"Refund txn"}),K.jsx("span",{className:"beta-detail-value beta-detail-value--long",children:z?.refunded?z.refundedTx?K.jsxs("a",{href:`${qs}/tx/${z.refundedTx}${Ks}`,target:"_blank",rel:"noreferrer",className:"beta-link",children:[us(z.refundedTx,8)," "]}):"Refunded (Local Record)":K.jsx("span",{style:{opacity:.5},children:""})})]}),K.jsxs("div",{className:"beta-detail-row",children:[K.jsx("span",{className:"beta-detail-label",children:"Commitment Hash"}),K.jsx("span",{className:"beta-detail-value",children:j?.commitment?X?K.jsxs("a",{href:`${qs}/tx/${X.signature}${Ks}`,target:"_blank",rel:"noreferrer",className:"beta-link",title:Buffer.from(j.commitment).toString("hex"),children:[us(Buffer.from(j.commitment).toString("hex"),10)," "]}):K.jsx("span",{title:Buffer.from(j.commitment).toString("hex"),children:us(Buffer.from(j.commitment).toString("hex"),10)}):z?.commitment?K.jsx("span",{title:z.commitment,children:us(z.commitment,10)}):K.jsx("span",{style:{opacity:.5},children:"Pending / Not Found"})})]}),K.jsxs("div",{className:"beta-detail-row",children:[K.jsx("span",{className:"beta-detail-label",children:"Revealed Data"}),K.jsx("span",{className:"beta-detail-value beta-detail-value--long",children:j?.revealed?K.jsx("div",{style:{display:"flex",flexDirection:"column",gap:4,textAlign:"right"},children:K.jsxs("div",{children:["Guess: ",j.guess]})}):K.jsx("span",{style:{opacity:.5},children:"Not Revealed"})})]}),K.jsx("div",{style:{marginTop:24,textAlign:"center"},children:K.jsx("button",{onClick:()=>R(!k),className:"beta-btn",style:{fontSize:12,padding:"6px 12px",background:"rgba(255, 50, 50, 0.1)",border:"1px solid rgba(255, 50, 50, 0.3)",color:"#ff8888"},children:k?"Hide Private Key ":"Show Private Key (Local Salt) "})}),k&&K.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"1px dashed rgba(255, 50, 50, 0.3)",animation:"fadeIn 0.3s"},children:[K.jsx("div",{style:{marginBottom:12,fontSize:11,fontWeight:"bold",opacity:.8,color:"#ff8888",textTransform:"uppercase"},children:" SENSITIVE DATA - DO NOT SHARE"}),K.jsxs("div",{className:"beta-detail-row",children:[K.jsx("span",{className:"beta-detail-label",style:{color:"#ff8888"},children:"Local Salt (Secret)"}),K.jsx("span",{className:"beta-detail-value",style:{wordBreak:"break-all",fontSize:10,lineHeight:"1.4em"},children:z?.saltHex||z?.salt?z.saltHex||(Array.isArray(z.salt)?Buffer.from(z.salt).toString("hex"):z.salt):K.jsx("span",{style:{opacity:.5},children:""})})]})]})]})]})]})})};function Ja(s){if(!s)return null;const t=s.toString();return t==="0"?null:t}const L0=s=>s?Array.from(new Uint8Array(s)).map(t=>t.toString(16).padStart(2,"0")).join(""):"";function X3(s){const{ticketPk:t,roundId:n,onChainTicket:i,receipt:o,status:c,currentSlot:u,createdTx:d,revealedTx:g,claimedTx:w}=s,E=i?.guess===1||o?.guess===1,I=i?.guess===0||o?.guess===0;return{snapshot:{timestamp:new Date().toISOString(),slot:Ja(u)},address:t?t.toString():"unknown",roundId:Number(n),nonce:Number(i?.nonce??o?.nonce??0),bitIndex:i?.bitIndex??i?.bit_index??null,status:c,prediction:E?"Bull":I?"Bear":"Unknown",outcome:i?.win?"Win":i?.revealed?"Loss":c==="REFUND AVAILABLE"?"Refundable":c==="SWEPT"?"Swept":c==="EXPIRED"?"Expired":c==="REFUNDED"?"Refunded":"Pending",cryptography:{commitmentHash:i?.commitment?L0(i.commitment):o?.commitment||null,localSalt:o?.saltHex||(o?.salt?Array.isArray(o.salt)?L0(o.salt):o.salt:null),isValid:!0},transactions:{commit:d?d.signature:null,reveal:g?g.signature:null,claim:w?w.signature:null,refund:o?.refundedTx||null}}}function W3(s,t,n,i,o,c){return{snapshot:{type:"ROUND_BATCH_EXPORT",version:"1.0",timestamp:new Date().toISOString(),wallet:c},round:{id:Number(s),address:t?.toString()||null,status:n,slots:{commitOpen:Ja(i?.createdSlot||i?.created_slot),commitClose:Ja(i?.commitDeadlineSlot||i?.commit_deadline_slot),pulse:Ja(i?.pulseSetSlot||i?.pulse_set_slot),revealDeadline:Ja(i?.revealDeadlineSlot||i?.reveal_deadline_slot),settled:Ja(i?.tokenSettledSlot||i?.token_settled_slot)},oracle:{pulseHash:i?.pulse?L0(i.pulse):null}},tickets:o}}function dw(s,t){try{const n=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),i=URL.createObjectURL(n),o=document.createElement("a");o.href=i,o.download=s,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(i)}catch(n){console.error("Download error:",n),alert("Error preparing download: "+n.message)}}const Vs=s=>s!=null&&s.toString()!=="0"?s.toString():"null",$3=s=>s?Array.from(new Uint8Array(s)).map(t=>t.toString(16).padStart(2,"0")).join(""):"";function Q3({round:s,roundId:t,rPda:n,onClose:i,currentSlot:o,programPk:c,claimGraceSlots:u,connection:d}){console.log("RoundDetailModal mounted",{roundId:t,programPk:c,rPda:n,hasRound:!!s});const[g,w]=Re.useState(null),[E,I]=Re.useState(null);return Re.useEffect(()=>{if(!n&&c&&t)try{const k=new _e(c),R=BigInt(t),M=br(k,R);w(M)}catch(k){console.error("Failed to derive PDA",k)}},[n,c,t]),Re.useEffect(()=>{const k=n||g;!s&&k&&d&&(I("checking"),d.getAccountInfo(k).then(R=>{I(R?"exists":"closed")}).catch(R=>{console.error("Err fetching round acc",R),I("unknown")}))},[s,n,g,d]),K.jsx("div",{className:"beta-modal-overlay",onClick:i,children:K.jsxs("div",{className:"beta-modal",onClick:k=>k.stopPropagation(),style:{maxWidth:500},children:[K.jsxs("div",{className:"beta-modal__head",children:[K.jsxs("div",{className:"beta-modal__title",children:["Round Details #",t]}),K.jsx("button",{className:"beta-btn-close",onClick:i,style:{color:"white"},children:""})]}),K.jsxs("div",{className:"beta-modal__body",children:[E==="closed"&&K.jsxs("div",{style:{background:"rgba(239, 68, 68, 0.1)",color:"#ef4444",padding:"8px 12px",borderRadius:6,fontSize:12,marginBottom:16,border:"1px solid rgba(239, 68, 68, 0.2)"},children:[K.jsx("strong",{children:" Round Closed On-Chain"}),K.jsx("br",{}),"This round has been settled and the rent reclaimed (swept). Most data is no longer available on the blockchain."]}),K.jsxs("div",{style:{marginBottom:16},children:[K.jsx("div",{style:{fontSize:12,opacity:.5,marginBottom:4},children:"ROUND ADDRESS (PDA)"}),K.jsx("div",{className:"beta-code-block",style:{fontSize:11,wordBreak:"break-all"},children:K.jsxs("a",{href:`https://explorer.solana.com/address/${n||g?(n||g).toString():""}?cluster=devnet`,target:"_blank",rel:"noopener noreferrer",style:{color:"inherit",textDecoration:"underline",textUnderlineOffset:3},children:[n||g?(n||g).toString():"Loading..."," "]})})]}),K.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12,marginBottom:16},children:[K.jsxs("div",{children:[K.jsx("div",{style:{fontSize:11,opacity:.5},children:"Target Pulse"}),K.jsx("div",{style:{fontWeight:"bold"},children:s?.pulseIndexTarget||s?.pulse_index_target?`#${s.pulseIndexTarget||s.pulse_index_target}`:""})]}),K.jsxs("div",{children:[K.jsx("div",{style:{fontSize:11,opacity:.5},children:"Finalized"}),K.jsx("div",{style:{fontWeight:"bold"},children:s?.finalized||E==="closed"?"YES":"NO"})]})]}),K.jsxs("div",{className:"beta-card",style:{padding:12,background:"rgba(0,0,0,0.02)",border:"1px solid rgba(0,0,0,0.05)"},children:[K.jsx("div",{style:{fontSize:12,fontWeight:"bold",marginBottom:8,opacity:.7},children:"TIMELINE (SLOTS)"}),K.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",rowGap:6,fontSize:12},children:[K.jsx("span",{style:{opacity:.6},children:"Current Slot:"}),K.jsx("span",{style:{textAlign:"right",fontWeight:"bold",color:"#2D68EA"},children:Vs(o)}),K.jsx("div",{style:{height:1,background:"rgba(0,0,0,0.1)",gridColumn:"1/-1",margin:"4px 0"}}),K.jsx("span",{style:{opacity:.6},children:"Created:"}),K.jsx("span",{style:{textAlign:"right"},children:Vs(s?.createdSlot||s?.created_slot)}),K.jsx("span",{style:{opacity:.6},children:"Commit Deadline:"}),K.jsx("span",{style:{textAlign:"right"},children:Vs(s?.commitDeadlineSlot||s?.commit_deadline_slot)}),K.jsx("span",{style:{opacity:.6},children:"Pulse Set at:"}),K.jsx("span",{style:{textAlign:"right"},children:Vs(s?.pulseSetSlot||s?.pulse_set_slot)}),K.jsx("span",{style:{opacity:.6},children:"Reveal Deadline:"}),K.jsx("span",{style:{textAlign:"right"},children:Vs(s?.revealDeadlineSlot||s?.reveal_deadline_slot)}),K.jsx("span",{style:{opacity:.6},children:"Sweep at:"}),K.jsx("span",{style:{textAlign:"right"},children:Vs((s?.revealDeadlineSlot||s?.reveal_deadline_slot)&&u?BigInt(s?.revealDeadlineSlot||s?.reveal_deadline_slot)+BigInt(u):null)}),K.jsx("span",{style:{opacity:.6},children:"Settled at:"}),K.jsx("span",{style:{textAlign:"right"},children:Vs(s?.tokenSettledSlot||s?.token_settled_slot)})]})]}),K.jsxs("div",{style:{marginTop:16},children:[K.jsx("div",{style:{fontSize:12,opacity:.5,marginBottom:4},children:"ORACLE PULSE HASH (SHA3-512)"}),E==="closed"?K.jsx("div",{className:"beta-code-block",style:{fontSize:11,background:"rgba(0,0,0,0.03)",color:"#888",border:"1px solid rgba(0,0,0,0.05)",textAlign:"center"},children:" Data cleared (Round Swept)"}):!s?.pulse||Object.values(s.pulse).every(k=>k===0)?K.jsx("div",{className:"beta-code-block",style:{fontSize:11,background:"rgba(234, 179, 8, 0.1)",color:"#ca8a04",border:"1px solid rgba(234, 179, 8, 0.2)",textAlign:"center"},children:" Waiting for external oracle pulse..."}):K.jsx("div",{className:"beta-code-block",style:{fontSize:10,wordBreak:"break-all",background:"#f0fdf4",color:"#166534",border:"1px solid #bbf7d0"},children:K.jsxs("a",{href:`https://explorer.solana.com/block/${s?.pulseSetSlot||s?.pulse_set_slot||0}?cluster=devnet`,target:"_blank",rel:"noopener noreferrer",style:{color:"inherit",textDecoration:"none"},children:[$3(s.pulse)," "]})})]})]}),K.jsx("div",{className:"beta-modal__footer",children:K.jsx("button",{className:"beta-btn beta-btn--soft",onClick:i,style:{width:"100%",color:"white",background:"rgba(255,255,255,0.1)"},children:" Close "})})]})})}const J3="DrsJxZRNuEFHVyj3Sz5CzpVeacpAGHBoZrg9NtRH9JqR",e6={name:"chronos_mvp",version:"0.1.0",spec:"0.1.0",description:"Created with Anchor"},t6=JSON.parse('[{"name":"add_oracle","discriminator":[185,165,165,167,208,207,55,35],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"oracle_set","writable":true,"pda":{"seeds":[{"kind":"const","value":[111,114,97,99,108,101,95,115,101,116]},{"kind":"account","path":"config"}]}},{"name":"admin","signer":true}],"args":[{"name":"oracle","type":"pubkey"}]},{"name":"claim_reward","discriminator":[149,95,181,242,94,90,158,162],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"tokenomics","pda":{"seeds":[{"kind":"const","value":[116,111,107,101,110,111,109,105,99,115]},{"kind":"account","path":"config"}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"ticket","writable":true,"pda":{"seeds":[{"kind":"const","value":[116,105,99,107,101,116]},{"kind":"arg","path":"round_id"},{"kind":"account","path":"user"},{"kind":"arg","path":"nonce"}]}},{"name":"user","writable":true,"signer":true},{"name":"chrono_mint","writable":true},{"name":"chrono_vault","writable":true},{"name":"user_chrono_ata","writable":true},{"name":"reward_fee_pool","writable":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}],"args":[{"name":"round_id","type":"u64"},{"name":"nonce","type":"u64"}]},{"name":"commit_batch","discriminator":[27,234,100,224,134,31,168,142],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"chrono_mint"},{"name":"chrono_vault","writable":true},{"name":"user","writable":true,"signer":true},{"name":"user_chrono_ata","writable":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"round_id","type":"u64"},{"name":"entries","type":{"vec":{"defined":{"name":"CommitEntry"}}}}]},{"name":"commit_batch_signed","discriminator":[114,249,180,103,248,14,43,173],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"chrono_mint"},{"name":"chrono_vault","writable":true},{"name":"payer","docs":["Relayer (paga fees)"],"writable":true,"signer":true},{"name":"user_escrow","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,95,101,115,99,114,111,119]},{"kind":"account","path":"user"}]}},{"name":"user_escrow_ata","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,95,101,115,99,114,111,119,95,118,97,117,108,116]},{"kind":"account","path":"user"}]}},{"name":"user"},{"name":"instructions"},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"round_id","type":"u64"},{"name":"entries","type":{"vec":{"defined":{"name":"CommitSignedEntry"}}}}]},{"name":"commit_ticket","discriminator":[15,97,55,56,38,249,88,220],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"chrono_mint"},{"name":"chrono_vault","writable":true},{"name":"ticket","writable":true,"pda":{"seeds":[{"kind":"const","value":[116,105,99,107,101,116]},{"kind":"arg","path":"round_id"},{"kind":"account","path":"user"},{"kind":"arg","path":"nonce"}]}},{"name":"user","writable":true,"signer":true},{"name":"user_chrono_ata","writable":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"round_id","type":"u64"},{"name":"nonce","type":"u64"},{"name":"commitment","type":{"array":["u8",32]}}]},{"name":"create_round","discriminator":[229,218,236,169,231,80,134,112],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"chrono_mint"},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"vault","writable":true,"pda":{"seeds":[{"kind":"const","value":[118,97,117,108,116]},{"kind":"arg","path":"round_id"}]}},{"name":"chrono_vault","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,104,114,111,110,111,95,118,97,117,108,116]},{"kind":"arg","path":"round_id"}]}},{"name":"admin","writable":true,"signer":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[{"name":"round_id","type":"u64"},{"name":"pulse_index_target","type":"u64"},{"name":"commit_deadline_slot","type":"u64"},{"name":"reveal_deadline_slot","type":"u64"}]},{"name":"create_round_auto","discriminator":[203,214,64,8,185,82,116,71],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"chrono_mint"},{"name":"round_registry","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100,95,114,101,103,105,115,116,114,121]},{"kind":"account","path":"config"}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"account","path":"round_registry.next_round_id","account":"RoundRegistry"}]}},{"name":"vault","writable":true,"pda":{"seeds":[{"kind":"const","value":[118,97,117,108,116]},{"kind":"account","path":"round_registry.next_round_id","account":"RoundRegistry"}]}},{"name":"chrono_vault","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,104,114,111,110,111,95,118,97,117,108,116]},{"kind":"account","path":"round_registry.next_round_id","account":"RoundRegistry"}]}},{"name":"admin","writable":true,"signer":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[{"name":"pulse_index_target","type":"u64"},{"name":"commit_deadline_slot","type":"u64"},{"name":"reveal_deadline_slot","type":"u64"}]},{"name":"deposit_escrow","discriminator":[226,112,158,176,178,118,153,128],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"chrono_mint","writable":true},{"name":"user_escrow","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,95,101,115,99,114,111,119]},{"kind":"account","path":"user"}]}},{"name":"user_escrow_ata","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,95,101,115,99,114,111,119,95,118,97,117,108,116]},{"kind":"account","path":"user"}]}},{"name":"user","writable":true,"signer":true},{"name":"user_chrono_ata","writable":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}],"args":[{"name":"amount","type":"u64"}]},{"name":"finalize_round","discriminator":[239,160,254,11,254,144,53,148],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"admin","signer":true}],"args":[{"name":"round_id","type":"u64"}]},{"name":"fund_vault","discriminator":[26,33,207,242,119,108,134,73],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"vault","writable":true,"pda":{"seeds":[{"kind":"const","value":[118,97,117,108,116]},{"kind":"arg","path":"round_id"}]}},{"name":"funder","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"round_id","type":"u64"},{"name":"amount","type":"u64"}]},{"name":"init_user_escrow","discriminator":[122,51,129,53,23,2,205,146],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"chrono_mint","writable":true},{"name":"user_escrow","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,95,101,115,99,114,111,119]},{"kind":"account","path":"user"}]}},{"name":"user_escrow_ata","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,95,101,115,99,114,111,119,95,118,97,117,108,116]},{"kind":"account","path":"user"}]}},{"name":"user","writable":true,"signer":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[]},{"name":"initialize_config","discriminator":[208,127,21,1,194,190,196,70],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"chrono_mint","docs":["Mint SPL del token CHRONO (ya creado off-chain en tests o en deploy script)"],"writable":true},{"name":"treasury_sol","docs":[" NUEVO: Treasury SOL (lamports) como system-owned PDA (igual que vault)"],"writable":true,"pda":{"seeds":[{"kind":"const","value":[116,114,101,97,115,117,114,121,95,115,111,108]}]}},{"name":"treasury","docs":["Treasury SPL = TokenAccount PDA controlado por el programa (authority = config PDA)"],"writable":true,"pda":{"seeds":[{"kind":"const","value":[116,114,101,97,115,117,114,121]}]}},{"name":"admin","writable":true,"signer":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[{"name":"stake_amount","type":"u64"},{"name":"commit_window_slots","type":"u64"},{"name":"reveal_window_slots","type":"u64"}]},{"name":"initialize_oracle_set","discriminator":[130,190,220,106,237,202,154,216],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"oracle_set","writable":true,"pda":{"seeds":[{"kind":"const","value":[111,114,97,99,108,101,95,115,101,116]},{"kind":"account","path":"config"}]}},{"name":"admin","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[{"name":"threshold","type":"u8"},{"name":"initial_oracles","type":{"vec":"pubkey"}}]},{"name":"initialize_round_registry","discriminator":[168,224,102,212,197,199,124,55],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round_registry","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100,95,114,101,103,105,115,116,114,121]},{"kind":"account","path":"config"}]}},{"name":"admin","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[{"name":"start_round_id","type":"u64"}]},{"name":"initialize_tokenomics","discriminator":[212,84,141,244,21,193,39,208],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"chrono_mint"},{"name":"tokenomics","writable":true,"pda":{"seeds":[{"kind":"const","value":[116,111,107,101,110,111,109,105,99,115]},{"kind":"account","path":"config"}]}},{"name":"reward_fee_pool","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,101,119,97,114,100,95,102,101,101,95,112,111,111,108]},{"kind":"account","path":"tokenomics"}]}},{"name":"replication_pool","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,101,112,108,105,99,97,116,105,111,110,95,112,111,111,108]},{"kind":"account","path":"tokenomics"}]}},{"name":"admin","writable":true,"signer":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[{"name":"reward_fee_bps","type":"u16"}]},{"name":"remove_oracle","discriminator":[60,93,51,197,182,42,170,26],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"oracle_set","writable":true,"pda":{"seeds":[{"kind":"const","value":[111,114,97,99,108,101,95,115,101,116]},{"kind":"account","path":"config"}]}},{"name":"admin","signer":true}],"args":[{"name":"oracle","type":"pubkey"}]},{"name":"reveal_batch","discriminator":[42,176,196,168,123,47,195,121],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"user","signer":true}],"args":[{"name":"round_id","type":"u64"},{"name":"entries","type":{"vec":{"defined":{"name":"RevealEntry"}}}}]},{"name":"reveal_batch_signed","discriminator":[157,126,204,244,23,210,88,121],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"payer","docs":["Relayer paying tx fees (must sign tx)"],"signer":true},{"name":"instructions","address":"Sysvar1nstructions1111111111111111111111111"}],"args":[{"name":"round_id","type":"u64"},{"name":"entries","type":{"vec":{"defined":{"name":"RevealSignedEntry"}}}}]},{"name":"reveal_ticket","discriminator":[223,24,70,21,181,13,151,239],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"ticket","writable":true,"pda":{"seeds":[{"kind":"const","value":[116,105,99,107,101,116]},{"kind":"arg","path":"round_id"},{"kind":"account","path":"user"},{"kind":"arg","path":"nonce"}]}},{"name":"user","signer":true}],"args":[{"name":"round_id","type":"u64"},{"name":"nonce","type":"u64"},{"name":"guess","type":"u8"},{"name":"salt","type":{"array":["u8",32]}}]},{"name":"set_claim_grace_slots","discriminator":[186,199,198,137,128,29,135,49],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"admin","signer":true}],"args":[{"name":"claim_grace_slots","type":"u64"}]},{"name":"set_oracle_pubkey","discriminator":[90,135,153,229,200,95,163,243],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"admin","signer":true}],"args":[{"name":"oracle_pubkey","type":"pubkey"}]},{"name":"set_oracle_threshold","discriminator":[181,85,21,30,120,168,37,233],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"oracle_set","writable":true,"pda":{"seeds":[{"kind":"const","value":[111,114,97,99,108,101,95,115,101,116]},{"kind":"account","path":"config"}]}},{"name":"admin","signer":true}],"args":[{"name":"threshold","type":"u8"}]},{"name":"set_pause","discriminator":[63,32,154,2,56,103,79,45],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"admin","signer":true}],"args":[{"name":"paused","type":"bool"}]},{"name":"set_pulse_signed","discriminator":[50,221,54,125,25,40,123,89],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"instructions","address":"Sysvar1nstructions1111111111111111111111111"}],"args":[{"name":"round_id","type":"u64"},{"name":"pulse","type":{"array":["u8",64]}}]},{"name":"settle_round_tokens","discriminator":[237,209,221,2,7,78,113,158],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"tokenomics","pda":{"seeds":[{"kind":"const","value":[116,111,107,101,110,111,109,105,99,115]},{"kind":"account","path":"config"}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"chrono_mint","writable":true},{"name":"chrono_vault","writable":true},{"name":"treasury","writable":true},{"name":"replication_pool","writable":true},{"name":"admin","writable":true,"signer":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}],"args":[{"name":"round_id","type":"u64"}]},{"name":"sweep_unclaimed","discriminator":[64,168,221,224,42,216,138,144],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"round","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,117,110,100]},{"kind":"arg","path":"round_id"}]}},{"name":"vault","writable":true,"pda":{"seeds":[{"kind":"const","value":[118,97,117,108,116]},{"kind":"arg","path":"round_id"}]}},{"name":"treasury_sol","docs":[" NUEVO: destino del sweep = treasury SOL PDA (lamports)"],"writable":true,"pda":{"seeds":[{"kind":"const","value":[116,114,101,97,115,117,114,121,95,115,111,108]}]}},{"name":"admin","signer":true},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"round_id","type":"u64"}]},{"name":"withdraw_escrow","discriminator":[81,84,226,128,245,47,96,104],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"chrono_mint","writable":true},{"name":"user_escrow","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,95,101,115,99,114,111,119]},{"kind":"account","path":"user"}]}},{"name":"user_escrow_ata","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114,95,101,115,99,114,111,119,95,118,97,117,108,116]},{"kind":"account","path":"user"}]}},{"name":"user","writable":true,"signer":true},{"name":"user_chrono_ata","writable":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}],"args":[{"name":"amount","type":"u64"}]}]'),n6=[{name:"Config",discriminator:[155,12,170,224,30,250,204,130]},{name:"OracleSet",discriminator:[128,26,73,134,218,90,126,42]},{name:"Round",discriminator:[87,127,165,51,73,78,116,174]},{name:"RoundRegistry",discriminator:[89,3,13,175,73,80,211,206]},{name:"Ticket",discriminator:[41,228,24,165,78,90,235,200]},{name:"Tokenomics",discriminator:[252,176,228,183,130,36,15,194]},{name:"UserEscrow",discriminator:[242,233,85,38,26,5,142,109]}],r6=[{code:6e3,name:"Unauthorized",msg:"Unauthorized"},{code:6001,name:"Paused",msg:"Protocol paused"},{code:6002,name:"InvalidDeadlines",msg:"Invalid deadlines"},{code:6003,name:"CommitClosed",msg:"Commit window closed"},{code:6004,name:"RevealClosed",msg:"Reveal window closed"},{code:6005,name:"PulseNotSet",msg:"Pulse not set"},{code:6006,name:"PulseAlreadySet",msg:"Round pulse already set"},{code:6007,name:"AlreadyFinalized",msg:"Round already finalized"},{code:6008,name:"NotFinalized",msg:"Round not finalized"},{code:6009,name:"CannotFinalizeYet",msg:"Cannot finalize yet"},{code:6010,name:"AlreadyRevealed",msg:"Already revealed"},{code:6011,name:"CommitmentMismatch",msg:"Commitment mismatch"},{code:6012,name:"InvalidGuess",msg:"Invalid guess (must be 0/1)"},{code:6013,name:"TooManyEntries",msg:"Too many entries"},{code:6014,name:"TicketPdaMismatch",msg:"Ticket PDA mismatch"},{code:6015,name:"TicketAlreadyExists",msg:"Ticket already exists"},{code:6016,name:"TicketNotOwnedByProgram",msg:"Ticket not owned by program"},{code:6017,name:"VaultPdaMismatch",msg:"Vault PDA mismatch"},{code:6018,name:"InsufficientVaultFunds",msg:"Insufficient vault funds"},{code:6019,name:"MissingOrInvalidEd25519Ix",msg:"Missing or invalid ed25519 verify instruction"},{code:6020,name:"Ed25519PubkeyMismatch",msg:"Ed25519 pubkey mismatch"},{code:6021,name:"Ed25519MessageMismatch",msg:"Ed25519 message mismatch"},{code:6022,name:"OracleNotSet",msg:"Oracle pubkey not set"},{code:6023,name:"BitIndexMismatch",msg:"Bit index mismatch"},{code:6024,name:"AccountBorrowFailed",msg:"Failed to borrow account data"},{code:6025,name:"RoundFinalized",msg:"Round is finalized"},{code:6026,name:"CommitAfterPulseSet",msg:"Commit not allowed after pulse is set"},{code:6027,name:"SweepTooEarly",msg:"Sweep not allowed yet (grace period not elapsed)"},{code:6028,name:"AlreadySwept",msg:"Vault already swept for this round"},{code:6029,name:"ClaimAfterSweep",msg:"Cannot claim after vault sweep"},{code:6030,name:"InvalidStakeAmount",msg:"Invalid stake amount"},{code:6031,name:"InvalidWindow",msg:"Invalid window"},{code:6032,name:"MissingBump",msg:"Missing bump"},{code:6033,name:"MathOverflow",msg:"Math overflow"},{code:6034,name:"ChronoMintMismatch",msg:"chrono_mint does not match config"},{code:6035,name:"InvalidUserChronoAta",msg:"Invalid user CHRONO token account"},{code:6036,name:"TicketNotRevealed",msg:"Ticket not revealed"},{code:6037,name:"NotWinner",msg:"Not a winner"},{code:6038,name:"AlreadyClaimed",msg:"Already claimed"},{code:6039,name:"StakeNotPaid",msg:"Stake not paid for this ticket"},{code:6040,name:"InsufficientEscrow",msg:"Insufficient escrow funds"},{code:6041,name:"SignedBatchMixedUsers",msg:"Signed batch contains mixed users"},{code:6042,name:"RoundNotSettled",msg:"Round tokens not settled yet"},{code:6043,name:"SettleTooEarly",msg:"Too early to settle round tokens"},{code:6044,name:"RoundTokensAlreadySettled",msg:"Round tokens already settled"},{code:6045,name:"OracleSetFull",msg:"OracleSet is full"},{code:6046,name:"OracleAlreadyExists",msg:"Oracle already exists in allowlist"},{code:6047,name:"OracleNotFound",msg:"Oracle not found in allowlist"},{code:6048,name:"InvalidThreshold",msg:"Invalid threshold"},{code:6049,name:"ThresholdExceedsOracleCount",msg:"Threshold exceeds current oracle count"},{code:6050,name:"InvalidFeeBps",msg:"Invalid fee bps (must be 0..=10_000)."},{code:6051,name:"InvalidBps",msg:"Invalid basis points (must be <= 10000)"},{code:6052,name:"TokenomicsNotInitialized",msg:"Tokenomics not initialized"}],i6=[{name:"CommitEntry",type:{kind:"struct",fields:[{name:"nonce",type:"u64"},{name:"commitment",type:{array:["u8",32]}}]}},{name:"CommitSignedEntry",type:{kind:"struct",fields:[{name:"user",type:"pubkey"},{name:"nonce",type:"u64"},{name:"commitment",type:{array:["u8",32]}}]}},{name:"Config",type:{kind:"struct",fields:[{name:"admin",type:"pubkey"},{name:"bump",type:"u8"},{name:"stake_amount",type:"u64"},{name:"commit_window_slots",type:"u64"},{name:"reveal_window_slots",type:"u64"},{name:"claim_grace_slots",type:"u64"},{name:"oracle_pubkey",type:"pubkey"},{name:"paused",type:"bool"},{name:"version",type:"u16"},{name:"chrono_mint",type:"pubkey"},{name:"treasury",type:"pubkey"},{name:"treasury_bump",type:"u8"},{name:"treasury_sol",type:"pubkey"},{name:"treasury_sol_bump",type:"u8"}]}},{name:"OracleSet",type:{kind:"struct",fields:[{name:"admin",type:"pubkey"},{name:"bump",type:"u8"},{name:"threshold",docs:["Minimum number of oracle attestations required (PR2 will consume this)."],type:"u8"},{name:"oracles",docs:["Allowlisted oracle pubkeys.","NOTE: fixed max_len to keep account size deterministic."],type:{vec:"pubkey"}},{name:"version",type:"u16"}]}},{name:"RevealEntry",type:{kind:"struct",fields:[{name:"nonce",type:"u64"},{name:"guess",type:"u8"},{name:"salt",type:{array:["u8",32]}}]}},{name:"RevealSignedEntry",type:{kind:"struct",fields:[{name:"user",type:"pubkey"},{name:"nonce",type:"u64"},{name:"guess",type:"u8"},{name:"salt",type:{array:["u8",32]}}]}},{name:"Round",type:{kind:"struct",fields:[{name:"round_id",type:"u64"},{name:"bump",type:"u8"},{name:"state",type:"u8"},{name:"vault",type:"pubkey"},{name:"vault_bump",type:"u8"},{name:"pulse_index_target",type:"u64"},{name:"commit_deadline_slot",type:"u64"},{name:"reveal_deadline_slot",type:"u64"},{name:"created_slot",type:"u64"},{name:"pulse_set",type:"bool"},{name:"pulse",type:{array:["u8",64]}},{name:"pulse_set_slot",type:"u64"},{name:"finalized",type:"bool"},{name:"finalized_slot",type:"u64"},{name:"swept",type:"bool"},{name:"swept_slot",type:"u64"},{name:"chrono_vault",type:"pubkey"},{name:"chrono_vault_bump",type:"u8"},{name:"committed_count",type:"u64"},{name:"revealed_count",type:"u64"},{name:"win_count",type:"u64"},{name:"settled_count",type:"u64"},{name:"token_settled",type:"bool"},{name:"token_settled_slot",type:"u64"}]}},{name:"RoundRegistry",type:{kind:"struct",fields:[{name:"admin",type:"pubkey"},{name:"bump",type:"u8"},{name:"next_round_id",type:"u64"},{name:"version",type:"u16"}]}},{name:"Ticket",type:{kind:"struct",fields:[{name:"round_id",type:"u64"},{name:"user",type:"pubkey"},{name:"nonce",type:"u64"},{name:"bump",type:"u8"},{name:"commitment",type:{array:["u8",32]}},{name:"stake_paid",type:"bool"},{name:"stake_slashed",type:"bool"},{name:"processed",type:"bool"},{name:"revealed",type:"bool"},{name:"guess",type:"u8"},{name:"win",type:"bool"},{name:"bit_index",type:"u16"},{name:"claimed",type:"bool"},{name:"claimed_slot",type:"u64"},{name:"created_slot",type:"u64"},{name:"revealed_slot",type:"u64"}]}},{name:"Tokenomics",type:{kind:"struct",fields:[{name:"admin",type:"pubkey"},{name:"bump",type:"u8"},{name:"reward_fee_bps",docs:["Fee charged on minted rewards (basis points). 100 = 1%."],type:"u16"},{name:"reward_fee_pool",docs:["SPL TokenAccount PDAs (CHRONO mint)"],type:"pubkey"},{name:"reward_fee_pool_bump",type:"u8"},{name:"replication_pool",type:"pubkey"},{name:"replication_pool_bump",type:"u8"},{name:"version",type:"u16"}]}},{name:"UserEscrow",type:{kind:"struct",fields:[{name:"user",type:"pubkey"},{name:"bump",type:"u8"},{name:"created_slot",type:"u64"},{name:"updated_slot",type:"u64"}]}}],WE={address:J3,metadata:e6,instructions:t6,accounts:n6,errors:r6,types:i6},hw=122,s6=16,bu=5e3,a6=3e4;function p0(s,t=0){try{return s==null?t:typeof s=="number"?s:typeof s?.toNumber=="function"?s.toNumber():typeof s?.toString=="function"?Number(s.toString()):t}catch{return t}}function sr(s,t,n=void 0){for(const i of t)if(s&&s[i]!==void 0)return s[i];return n}function o6({ticket:s,round:t}){const n=!!sr(s,["revealed"],!1),i=!!sr(s,["win"],!1);return sr(s,["claimed"],!1)?"CLAIMED":n?i?!!sr(t,["tokenSettled","token_settled"],!1)?"CLAIM":"WIN":"LOSE":"PENDING"}function c6(s){const t=String(s?.message||s||"");return t.includes("429")||t.toLowerCase().includes("too many requests")}function wu(s){if(!s)return"Unknown error";const t=typeof s=="string"?s:s?.message||s?.toString?.()||"Unknown error";return t.toLowerCase().includes("user rejected")?"User rejected":t.toLowerCase().includes("declined")?"User declined":t}function _u(s){const t=s?.logs||s?.error?.logs||s?.data?.logs;return Array.isArray(t)&&t.length?t:null}function l6({program:s,connection:t,programPk:n,userPubkey:i,mintPk:o,appendLog:c,onAfterAction:u,setLastTx:d,limit:g=20}){const w=Re.useMemo(()=>new Sp(WE),[]),[E,I]=Re.useState([]),[k,R]=Re.useState(!1),[M,U]=Re.useState(null),[z,j]=Re.useState(null),[F,V]=Re.useState(0),$=Re.useRef(!1),ne=Re.useRef(bu),ce=Re.useRef(0),ie=Re.useRef(null),ue=Re.useCallback(async(T="manual")=>{if(!t||!n||!i){j(Date.now());return}const h=Date.now();if(T==="action"&&(ce.current=0),!(h<ce.current)&&!$.current)try{$.current=!0,R(!0),U(null),V(0);const _=i.toBase58(),C=(await t.getProgramAccounts(n,{commitment:"confirmed",filters:[{dataSize:hw},{memcmp:{offset:s6,bytes:_}}]})).map(D=>{try{const Z=w.decode("Ticket",Be.Buffer.from(D.account.data)),se=p0(sr(Z,["roundId","round_id"],0),0),re=p0(sr(Z,["createdSlot","created_slot"],0),0),le=p0(sr(Z,["nonce"],0),0),Ie=Rc(_,se).find(Ve=>Ve.ticketPda===D.pubkey.toBase58())||null;return{ticketPk:D.pubkey,ticket:Z,roundId:se,createdSlot:re,nonce:le,receipt:Ie}}catch{return null}}).filter(Boolean),L=new Set(C.map(D=>D.ticketPk.toBase58())),v=K3(_).filter(D=>D.refunded&&!L.has(D.ticketPda)).map(D=>({ticketPk:new _e(D.ticketPda),ticket:null,roundId:D.roundId,createdSlot:D.createdSlot||0,nonce:D.nonce,receipt:D})),m=[...C,...v].sort((D,Z)=>(Z.createdSlot??0)-(D.createdSlot??0)).slice(0,Math.max(1,g)),f=Array.from(new Set(m.map(D=>D.roundId))).filter(D=>D!=null),y=new Map;if(f.length){const D=await Promise.all(f.map(re=>br(n,re))),Z=[],se=100;for(let re=0;re<D.length;re+=se){const le=D.slice(re,re+se),Ae=await t.getMultipleAccountsInfo(le,"confirmed");Z.push(...Ae)}for(let re=0;re<f.length;re++){const le=Z[re];if(le?.data)try{y.set(f[re],w.decode("Round",Be.Buffer.from(le.data)))}catch{}}}const O=m.map(D=>{const Z=y.get(D.roundId)||null,se=!!sr(D.ticket,["revealed"],!1),re=sr(D.ticket,["guess"],null),le=se?re:D.receipt?.guess??null,Ae=!!sr(D.ticket,["win"],!1),Ie=!!sr(D.ticket,["claimed"],!1),Ve=!!sr(Z,["pulseSet","pulse_set"],!1),It=!!sr(Z,["tokenSettled","token_settled"],!1),Ge=o6({ticket:D.ticket,round:Z});return{...D,round:Z,guess:le,win:Ae,revealed:se,claimed:Ie,pulseSet:Ve,tokenSettled:It,uiStatus:Ge}});I(O),j(Date.now()),ne.current=bu,ce.current=0}catch(_){const A=_?.message||String(_);if(U(A),j(Date.now()),c6(_)){const C=Math.min(ne.current*2,a6),L=Math.floor(500+Math.random()*1500);ne.current=C;const B=C+L,v=Date.now()+B;ce.current=v,V(Math.ceil(B/1e3)),ie.current&&clearInterval(ie.current),ie.current=setInterval(()=>{const m=Math.max(0,Math.ceil((ce.current-Date.now())/1e3));V(m),m<=0&&(clearInterval(ie.current),ie.current=null)},500)}else T!=="poll"&&c?.(`Tickets refresh error: ${A}`)}finally{$.current=!1,R(!1)}},[t,n,i,w,g,c]);Re.useEffect(()=>{let T=null,h=!1;const _=async()=>{h||(document.visibilityState==="visible"&&await ue("poll"),T=setTimeout(_,bu))},A=800+Math.floor(Math.random()*1200);T=setTimeout(()=>ue("init"),A);const C=setTimeout(_,bu);return()=>{h=!0,T&&clearTimeout(T),C&&clearTimeout(C),ie.current&&clearInterval(ie.current),ie.current=null}},[ue]);const G=Re.useCallback(async T=>{if(!s||!i)throw new Error("Wallet not connected");if(!T?.receipt?.saltHex)throw new Error("Missing local receipt for this ticket (salt).");const h=await Oi(n),_=await br(n,T.roundId),A=FE(T.receipt.saltHex);c?.(`Reveal: sending tx (round=${T.roundId}, nonce=${T.nonce})`);try{const C=await s.methods.revealTicket(new hn(T.roundId),new hn(T.nonce),Number(T.receipt.guess),Array.from(A)).accounts({config:h,round:_,user:i,ticket:T.ticketPk}).rpc();c?.(`Reveal OK  tx=${C}`);try{if(T.receipt){const L={...T.receipt,revealTx:C,revealedAt:Date.now()};Kr(i.toBase58(),T.roundId,L)}}catch(L){console.error("Failed to save reveal receipt",L)}return d?.(C),u?.(),await ue("action"),C}catch(C){const L=wu(C);if(L.includes("already processed")||L.includes("0x0")){if(c?.("Reveal success (already processed) "),T.receipt){const v={...T.receipt,revealTx:"already-processed",revealedAt:Date.now()};Kr(i.toBase58(),T.roundId,v)}return await ue("action"),"already-processed"}c?.(`Reveal failed: ${L}`);const B=_u(C);return B?.length&&B.slice(0,12).forEach(v=>c?.(`  ${v}`)),null}},[s,n,i,c,d,u,ue]),Y=Re.useCallback(async T=>{if(!s||!i)throw new Error("Wallet not connected");if(!o)throw new Error("Mint not set");const h=await Oi(n),_=await br(n,T.roundId),A=await qu(n,h),C=await XE(n,A),L=await Ac(n,T.roundId),B=await hs.token.associatedAddress({mint:o,owner:i});c?.(`Claim: sending tx (round=${T.roundId}, nonce=${T.nonce})`);try{const v=await s.methods.claimReward(new hn(T.roundId),new hn(T.nonce)).accounts({config:h,tokenomics:A,round:_,ticket:T.ticketPk,user:i,chronoMint:o,chronoVault:L,userChronoAta:B,rewardFeePool:C,tokenProgram:hs.token.TOKEN_PROGRAM_ID}).rpc();c?.(`Claim OK  tx=${v}`);try{if(T.receipt){const m={...T.receipt,claimTx:v,claimedAt:Date.now()};Kr(i.toBase58(),T.roundId,m)}}catch(m){console.error("Failed to save claim receipt",m)}return d?.(v),u?.(),await ue("action"),v}catch(v){const m=wu(v);if(m.includes("already processed")||m.includes("0x0")){if(c?.("Claim success (already processed) "),T.receipt){const y={...T.receipt,claimTx:"already-processed",claimedAt:Date.now()};Kr(i.toBase58(),T.roundId,y)}return await ue("action"),"already-processed"}c?.(`Claim failed: ${m}`);const f=_u(v);return f?.length&&f.slice(0,12).forEach(y=>c?.(`  ${y}`)),null}},[s,n,i,o,c,d,u,ue]),X=Re.useCallback(async T=>{if(!s||!i)throw new Error("Wallet not connected");if(!o)throw new Error("Mint not set");const h=await Oi(n),_=await br(n,T.roundId),A=await Ac(n,T.roundId),C=await hs.token.associatedAddress({mint:o,owner:i});c?.(`Refund: recovering funds (round=${T.roundId})`);try{const L=await s.methods.recoverFunds(new hn(T.roundId)).accounts({config:h,round:_,ticket:T.ticketPk,user:i,userTokenAccount:C,chronoVault:A,chronoMint:o,tokenProgram:hs.token.TOKEN_PROGRAM_ID,systemProgram:pn.programId}).rpc();c?.(`Refund OK  tx=${L}`);try{const B=i.toBase58();let m=Rc(B,T.roundId).find(f=>f.ticketPda===T.ticketPk.toBase58());m?(m.refunded=!0,m.refundedTx=L,T.createdSlot&&(m.createdSlot=T.createdSlot)):m={ticketPda:T.ticketPk.toBase58(),roundId:T.roundId,nonce:T.nonce,commitment:null,timestamp:Date.now(),createdSlot:T.createdSlot,refunded:!0,refundedTx:L},Kr(B,T.roundId,m)}catch(B){console.error("Failed to update receipt for refund:",B)}return console.log("Receipt saved/updated successfully for",T.ticketPk.toBase58()),d?.(L),u?.(),await ue("action"),L}catch(L){console.error("Refund RPC Failed:",L),c?.(`Refund failed: ${wu(L)}`);const B=_u(L);return B?.length&&B.slice(0,12).forEach(v=>c?.(`  ${v}`)),null}},[s,n,i,o,c,d,u,ue]),W=Re.useCallback(async T=>{if(!s||!i)throw new Error("Wallet not connected");if(!o)throw new Error("Mint not set");c?.(`Settle: discovering tickets for round ${T.roundId}...`);const h=await Oi(n),_=await br(n,T.roundId),A=await qu(n,h),C=await Ac(n,T.roundId),L=await L3(n),B=await D3(n,A),v=new hn(T.roundId),m=v.toArrayLike(Be.Buffer,"le",8),f=await t.getProgramAccounts(n,{commitment:"confirmed",filters:[{dataSize:hw},{memcmp:{offset:8,bytes:hs.bytes.bs58.encode(m)}}]}),y=[];for(const O of f)try{w.decode("Ticket",O.account.data).processed===!1&&y.push({pubkey:O.pubkey,isSigner:!1,isWritable:!0})}catch{}if(y.length===0)return c?.("Settle: No unprocessed tickets found."),null;c?.(`Settle: found ${y.length} tickets to process.`);try{const O=await s.methods.settleRoundTokens(v).accounts({config:h,tokenomics:A,round:_,chronoMint:o,chronoVault:C,treasury:L,replicationPool:B,payer:i,tokenProgram:hs.token.TOKEN_PROGRAM_ID}).remainingAccounts(y).rpc();c?.(`Settle OK  tx=${O}`);try{const D=i.toBase58(),Z=Rc(D,T.roundId),se=new Set(Z.map(re=>re.ticketPda));for(const re of y){const le=re.pubkey.toBase58();if(se.has(le)){const Ae=Z.find(Ie=>Ie.ticketPda===le);Ae&&(Ae.claimTx=O,Ae.claimedAt=Date.now(),Kr(D,T.roundId,Ae))}}}catch(D){console.error("Failed to save settle receipts",D)}return d?.(O),u?.(),await ue("action"),O}catch(O){c?.(`Settle failed: ${wu(O)}`);const D=_u(O);return D?.length&&D.slice(0,12).forEach(Z=>c?.(`  ${Z}`)),null}},[s,n,i,o,t,w,c,d,u,ue]);return{rows:E,loading:k,error:M,lastUpdatedAt:z,retryInSec:F,forceRefresh:()=>ue("manual"),doRevealTicket:G,doClaimTicket:Y,doRefundTicket:X,doSettleRound:W}}const pw=({size:s=14})=>K.jsxs("svg",{width:s,height:s,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"block"},children:[K.jsx("path",{d:"M12 16L7 11H10V4H14V11H17L12 16Z",fill:"currentColor"}),K.jsx("path",{d:"M4 18C4 19.1 4.9 20 6 20H18C19.1 20 20 19.1 20 18V14H18V18H6V14H4V18Z",fill:"currentColor"})]}),mw=({size:s=15})=>K.jsxs("svg",{width:s,height:s,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"block"},children:[K.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2.5"}),K.jsx("path",{d:"M12 12V17",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round"}),K.jsx("circle",{cx:"12",cy:"7.5",r:"1.5",fill:"currentColor"})]});function wc(s){if(s<=0)return"0s";const t=Math.floor(s/60),n=Math.floor(s%60);return t>0?`${t}m ${n}s`:`${n}s`}function _c(s){try{return s==null?null:typeof s=="bigint"?s:typeof s=="number"||typeof s=="string"?BigInt(s):typeof s?.toString=="function"?BigInt(s.toString()):null}catch{return null}}function u6({program:s,connection:t,programPk:n,pubkey:i,mintPk:o,appendLog:c,onAfterAction:u,setLastTx:d,actionsEnabled:g=!0,refreshNonce:w=0,limit:E=20,currentSlot:I,activeRoundId:k,nist:R,claimGraceSlots:M}){const U=Re.useMemo(()=>i?i instanceof _e?i:new _e(i):null,[i]),{rows:z=[],loading:j,error:F,doRevealTicket:V,doClaimTicket:$,doRefundTicket:ne,doSettleRound:ce}=l6?.({program:s,connection:t,programPk:n,userPubkey:U,mintPk:o,appendLog:c,onAfterAction:u,setLastTx:d,refreshNonce:w,limit:E})||{},ie=z??[],[ue,G]=Re.useState(null),[Y,X]=Re.useState(null),[W,T]=Re.useState("ALL");function h(re,le){const Ae=!!re.revealed,Ie=!!re.win,Ve=!!re.claimed,It=!!re.tokenSettled;if(re.receipt?.refunded===!0)return"REFUNDED";if(Ve)return"CLAIMED";if(Ie){if(It){if(le&&re.round&&M!=null){const Ge=_c(re.round.revealDeadlineSlot||re.round.reveal_deadline_slot);if(Ge){const $e=Ge+BigInt(M);if(BigInt(le)>$e)return"SWEPT"}}return"CLAIM PRIZE"}return"WIN"}if(Ae&&!Ie)return"LOSS";if(!Ae&&!Ie){if(!re.round||re.round.finalized)return"EXPIRED";const Ge=_c(re.round.revealDeadlineSlot||re.round.reveal_deadline_slot),$e=!!re.round.finalized,Yt=!!(re.round.pulseSet||re.round.pulse_set);if(Ge&&le){const Ze=BigInt(le);if(!$e&&Ze>Ge+150n)return"REFUND AVAILABLE";if(!$e&&!Yt&&Ze>Ge)return"WAITING PULSE";if(Ze>Ge)return"EXPIRED";if(Yt&&Ze<=Ge)return"REVEAL NOW"}}return"PENDING"}const _=Re.useMemo(()=>[...ie].sort((re,le)=>re.roundId!==le.roundId?Number(re.roundId)-Number(le.roundId):Number(re.nonce)-Number(le.nonce)).map((re,le)=>({...re,absoluteIndex:le+1})),[ie]),A=Re.useMemo(()=>W==="ALL"?_:_.filter(re=>{const le=h(re,I);return W==="ACTION"?["REVEAL NOW","CLAIM PRIZE","REFUND AVAILABLE"].includes(le):W==="WIN"?le==="CLAIM PRIZE"||le==="WIN":le===W}),[ie,W,I,M]),C=Re.useMemo(()=>{const re={};for(const le of A){const Ae=Number(le.roundId);re[Ae]||(re[Ae]={roundId:Ae,tickets:[],round:le.round}),re[Ae].tickets.push(le)}return Object.values(re).sort((le,Ae)=>Ae.roundId-le.roundId)},[A]),[L,B]=Re.useState(1),[v,m]=Re.useState(5),f=Math.ceil(C.length/v)||1;Re.useEffect(()=>{L>f&&B(f)},[f,L]);const y=C.slice((L-1)*v,L*v),O=re=>re==="WIN"?"WINNER":re==="LOSE"||re==="LOSS"?"LOSS":re==="CLAIM"||re==="CLAIM PRIZE"?"READY TO CLAIM":re,D=async(re,le,Ae)=>{try{console.log("Downloading batch for round",re);const Ie=le[0]?.ticket?.user?.toString()||"unknown",Ve=await br(n,Number(re)),It=Rc(Ie,re.toString())||[],Ge=[],$e=5;for(let Qe=0;Qe<le.length;Qe+=$e){const _n=le.slice(Qe,Qe+$e),ht=await Promise.all(_n.map(async Fe=>{const Tt=Fe.ticket,We=It.find(S=>S.nonce!=null&&Tt?.nonce&&Number(S.nonce)===Number(Tt.nonce)||S.nonce!=null&&Fe.nonce!=null&&Number(S.nonce)===Number(Fe.nonce));let je=We?{...We}:Fe.receipt?{...Fe.receipt}:{};const Ct=h(Fe,I),Ce=Ct==="LOSS"||Ct==="WIN"||Ct==="CLAIM PRIZE"||Ct==="CLAIMED"||Fe.revealed,H=Ct==="CLAIMED"||Fe.claimed;return(!je.commitTx||!je.revealTx&&Ce||!je.claimTx&&H)&&Fe.ticketPk,{address:Fe.ticketPk?.toString(),nonce:Number(Fe.nonce??Tt?.nonce??0),bitIndex:Tt?.bitIndex??Tt?.bit_index??null,status:Ct,prediction:Fe.guess===1?"Bull":Fe.guess===0?"Bear":"Unknown",transactions:{commit:Fe.createdTx||je?.commitTx||null,reveal:Fe.revealedTx||je?.revealTx||null,claim:Fe.claimedTx||je?.claimTx||null}}}));Ge.push(...ht)}const Yt=le.map(Qe=>{const _n=h(Qe,I);return{address:Qe.ticketPk?.toString(),nonce:Number(Qe.nonce??Qe.ticket?.nonce??0),bitIndex:Qe.ticket?.bitIndex??null,status:_n,prediction:Qe.guess===1?"Bull":"Bear",receipt:Qe.receipt,transactions:{commit:Qe.createdTx,reveal:Qe.revealedTx,claim:Qe.claimedTx}}}),Ze=W3(re,Ve,"EXPORTED",Ae,Yt,Ie);dw(`chronos_round_${re}_batch.json`,Ze)}catch(Ie){console.error(Ie),alert("Export error: "+Ie.message)}},Z=(re,le)=>{const Ae=h(re,I),Ie={ticketPk:re.ticketPk,roundId:le,onChainTicket:re.ticket,receipt:re.receipt,status:Ae,currentSlot:I,createdTx:{signature:re.createdTx},revealedTx:{signature:re.revealedTx},claimedTx:{signature:re.claimedTx}},Ve=X3(Ie);dw(`chronos_ticket_${re.nonce}.json`,Ve)},se=re=>K.jsxs("div",{style:{marginTop:0,padding:"4px 16px",borderTop:re?"none":"1px solid rgba(0,0,0,0.05)",borderBottom:re?"1px solid rgba(0,0,0,0.05)":"none",display:"flex",justifyContent:"center",alignItems:"center",gap:6,background:"#fafafa",borderBottomLeftRadius:re?0:8,borderBottomRightRadius:re?0:8},children:[K.jsx("button",{className:"beta-btn beta-btn--soft",disabled:L<=1,onClick:()=>B(le=>le-1),style:{padding:"6px 12px",opacity:L<=1?.3:1},children:"Previous"}),(()=>{let Ae=[];return f<=11?Ae=Array.from({length:f},(Ie,Ve)=>Ve+1):L<=6?Ae=[1,2,3,4,5,6,7,8,9,"...",f]:L>=f-5?Ae=[1,"...",f-8,f-7,f-6,f-5,f-4,f-3,f-2,f-1,f]:Ae=[1,"...",L-3,L-2,L-1,L,L+1,L+2,L+3,"...",f],Ae.map((Ie,Ve)=>Ie==="..."?K.jsx("span",{style:{padding:"6px 10px",opacity:.5},children:"..."},`ell-${Ve}`):K.jsx("button",{className:`beta-btn ${Ie===L?"beta-btn--primary":"beta-btn--soft"}`,onClick:()=>B(Ie),style:{minWidth:32,padding:"6px 0",textAlign:"center",fontWeight:Ie===L?700:400,background:Ie===L?"#3B82F6":"rgba(0,0,0,0.05)",color:Ie===L?"white":"inherit",border:"none",borderRadius:4},children:Ie},Ie))})(),K.jsx("button",{className:"beta-btn beta-btn--soft",disabled:L>=f,onClick:()=>B(le=>le+1),style:{padding:"6px 12px",opacity:L>=f?.3:1},children:"Next"})]});return K.jsxs("div",{className:"beta-card",style:{padding:0,overflow:"hidden",background:"transparent",boxShadow:"none",border:"none"},children:[K.jsx("div",{className:"beta-card",style:{marginBottom:0,borderBottomLeftRadius:0,borderBottomRightRadius:0,borderBottom:"1px solid rgba(0,0,0,0.05)"},children:K.jsx("div",{className:"beta-card__head",style:{padding:"8px 24px"},children:K.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[K.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:8},children:[K.jsx("div",{className:"beta-card__title",style:{fontWeight:700,fontSize:18,whiteSpace:"nowrap"},children:"Order History"}),K.jsxs("span",{style:{fontSize:10,color:"#6B7280",fontWeight:600,opacity:j?.3:1,textTransform:"uppercase",letterSpacing:"0.02em"},children:[A.length," TICKETS / ",C.length," ROUNDS"]})]}),K.jsxs("div",{style:{display:"flex",gap:12},children:[K.jsxs("select",{className:"beta-input",value:W,onChange:re=>T(re.target.value),style:{padding:"6px 12px",fontSize:13,cursor:"pointer",minWidth:120},children:[K.jsx("option",{value:"ALL",children:"All Status"}),K.jsx("option",{value:"ACTION",children:"Action Required"}),K.jsx("option",{value:"WIN",children:"Wins"}),K.jsx("option",{value:"LOSS",children:"Loss"}),K.jsx("option",{value:"CLAIMED",children:"Claimed"}),K.jsx("option",{value:"REFUNDED",children:"Refunded"}),K.jsx("option",{value:"SWEPT",children:"Swept"}),K.jsx("option",{value:"EXPIRED",children:"Expired"}),K.jsx("option",{value:"PENDING",children:"Pending"})]}),K.jsxs("select",{className:"beta-input",value:v,onChange:re=>m(Number(re.target.value)),style:{padding:"6px 12px",fontSize:13,cursor:"pointer",minWidth:150},children:[K.jsx("option",{value:5,children:"5 Rounds / pg"}),K.jsx("option",{value:10,children:"10 Rounds / pg"}),K.jsx("option",{value:20,children:"20 Rounds / pg"}),K.jsx("option",{value:50,children:"50 Rounds / pg"}),K.jsx("option",{value:100,children:"100 Rounds / pg"})]})]})]})})}),y.length>0?K.jsxs("div",{className:"beta-card",style:{padding:0,overflow:"hidden",marginTop:0,borderTopLeftRadius:0,borderTopRightRadius:0,borderTop:"none"},children:[se(!0),K.jsx("div",{className:"beta-table-container",children:K.jsxs("table",{className:"beta-table",children:[K.jsx("thead",{children:K.jsxs("tr",{children:[K.jsx("th",{style:{paddingLeft:24,width:"38%"},children:"Identifier"}),K.jsx("th",{style:{width:"20%"},children:"Status"}),K.jsx("th",{style:{textAlign:"center",width:75},children:"Info"}),K.jsx("th",{style:{textAlign:"center",width:85},children:"Export"}),K.jsx("th",{style:{textAlign:"right",paddingRight:24,width:"22%"},children:"Action"})]})}),K.jsx("tbody",{children:y.map(({roundId:re,tickets:le,round:Ae})=>{const Ie=Ae?.commitDeadlineSlot??Ae?.commit_deadline_slot,Ve=Ae?.revealDeadlineSlot??Ae?.reveal_deadline_slot,It=Ae?.pulseIndexTarget??Ae?.pulse_index_target,Ge=_c(Ie)??0n,$e=_c(Ve)??0n,Yt=_c(It)??0n,Ze=I?BigInt(I):0n,Qe=!!Ae?.finalized,_n=!!(Ae?.pulseSet||Ae?.pulse_set),ht=!!(Ae?.tokenSettled||Ae?.token_settled),Fe=$e>0n&&M?$e+BigInt(M):0n,Tt=$e>0n?$e+150n:0n;let We="ARCHIVED",je=K.jsx("span",{style:{opacity:.5},children:""});if(Ae)if(Qe)if(Fe>0n&&Ze<Fe){We="CLAIM WINDOW";const P=Number(Fe-Ze);je=K.jsxs("span",{style:{opacity:.5},children:["Sweep risk in: ",K.jsx("b",{children:wc(P*.45)})]})}else We="ARCHIVED",je=K.jsx("span",{style:{opacity:.5},children:"Done"});else if(Ge>0n&&Ze<Ge){We="OPEN";const P=Number(Ge-Ze);je=K.jsxs("span",{style:{opacity:.5},children:["Commit ends: ",K.jsx("b",{children:wc(P*.45)})]})}else if(Tt>0n&&Ze>Tt)We="REFUND MODE",je=K.jsx("span",{style:{opacity:.6,fontWeight:"bold"},children:"Escape Hatch Active"});else if(_n)if(Ze<=$e){We="REVEAL OPEN";const P=Number($e-Ze);je=K.jsxs("span",{style:{opacity:.5},children:["Reveal ends: ",K.jsx("b",{children:wc(P*.45)})]})}else We="AWAITING SETTLE",je=K.jsx("span",{style:{color:"#888",fontWeight:400},children:"Auto-Settling..."});else if(We="WAITING PULSE",Ze>$e){const P=Number(Tt-Ze);P>0?je=K.jsxs("span",{style:{opacity:.5},children:["Refunds in: ",K.jsx("b",{children:wc(P*.45)})]}):je=K.jsx("span",{style:{opacity:.5},children:"Pulse Delayed"})}else{let P=!1;if(Yt&&R?.pulse?.pulseIndex){const ee=Number(R.pulse.pulseIndex),ae=Number(Yt);if(ae>ee){const me=new Date(R.pulse.timeStamp).getTime(),ze=ae-ee,Ue=me+ze*6e4+12e4-Date.now();Ue>0&&(je=K.jsxs("span",{style:{opacity:.5},children:["Pulse in ~",K.jsx("b",{children:wc(Ue/1e3)})]}),P=!0)}}P||(je=K.jsx("span",{style:{opacity:.5},children:"Waiting for Pulse..."}))}const Ct=le.filter(P=>h(P,I)==="REVEAL NOW"&&!P.revealed),Ce=le.filter(P=>h(P,I)==="CLAIM PRIZE"&&!P.claimed),H=le.filter(P=>h(P,I)==="REFUND AVAILABLE"&&!P.receipt?.refunded),S=Ae&&!Qe&&$e>0n&&Ze>$e&&_n&&!ht;let x="rgba(0, 0, 0, 0.02)";return(We==="OPEN"||We==="CLAIM WINDOW")&&(x="rgba(76, 175, 80, 0.08)"),We==="REVEAL OPEN"&&(x="rgba(33, 150, 243, 0.08)"),(We==="WAITING PULSE"||We==="AWAITING SETTLE")&&(x="rgba(255, 193, 7, 0.06)"),We==="REFUND MODE"&&(x="rgba(244, 67, 54, 0.05)"),K.jsxs(K.Fragment,{children:[K.jsxs("tr",{style:{background:x},children:[K.jsx("td",{style:{paddingLeft:24,borderBottom:"1px solid rgba(0,0,0,0.05)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:K.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,overflow:"hidden"},children:[K.jsxs("span",{style:{fontWeight:800,fontSize:15,whiteSpace:"nowrap"},children:["Round #",re]}),K.jsx("div",{style:{fontSize:13,opacity:.8,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:je})]})}),K.jsx("td",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:K.jsx("span",{style:{whiteSpace:"nowrap",fontWeight:600,fontSize:13,opacity:.8},children:We})}),K.jsx("td",{style:{textAlign:"center"},children:K.jsx("button",{className:"beta-btn--ghost beta-btn--mini",title:"Round Details",onClick:()=>X({round:Ae,roundId:re,currentSlot:I}),children:K.jsx(mw,{})})}),K.jsx("td",{style:{textAlign:"center"},children:K.jsx("button",{className:"beta-btn--ghost",title:"Download Batch",onClick:()=>D(re,le,Ae),children:K.jsx(pw,{})})}),K.jsx("td",{style:{textAlign:"right",paddingRight:24},children:Ct.length>0?K.jsxs("button",{className:"beta-btn beta-btn--sm",onClick:()=>Ct.forEach(P=>V(P)),children:["Reveal All (",Ct.length,")"]}):Ce.length>0?K.jsxs("button",{className:"beta-btn beta-btn--sm",onClick:()=>Ce.forEach(P=>$(P)),children:["Claim All (",Ce.length,")"]}):H.length>0?K.jsxs("button",{className:"beta-btn beta-btn--sm",onClick:()=>H.forEach(P=>ne(P)),children:["Refund All (",H.length,")"]}):S?K.jsx("button",{className:"beta-btn beta-btn--sm",onClick:()=>ce({roundId:re}),children:"Manual Settle"}):K.jsx("span",{style:{opacity:.3,fontSize:12},children:""})})]},`round-${re}`),le.map(P=>{const ee=h(P,I),ae=P.guess===1?"Bull ":P.guess===0?"Bear ":"";let me=K.jsx("span",{style:{opacity:.2},children:""});return ee==="REVEAL NOW"&&(me=K.jsx("button",{className:"beta-btn beta-btn--icon",onClick:()=>V(P),children:" Reveal"})),ee==="CLAIM PRIZE"&&(me=K.jsx("button",{className:"beta-btn beta-btn--icon",onClick:()=>$(P),children:" Claim"})),ee==="REFUND AVAILABLE"&&(me=K.jsx("button",{className:"beta-btn beta-btn--icon",onClick:()=>ne(P),children:" Refund"})),K.jsxs("tr",{children:[K.jsx("td",{style:{paddingLeft:48,borderBottom:"1px solid rgba(0,0,0,0.03)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:K.jsxs("div",{style:{fontSize:13,display:"flex",alignItems:"center",gap:8,overflow:"hidden"},children:[K.jsx("span",{style:{opacity:.4},children:""}),K.jsxs("span",{style:{whiteSpace:"nowrap"},children:["Ticket #",P.absoluteIndex]}),K.jsx("b",{style:{whiteSpace:"nowrap"},children:ae})]})}),K.jsx("td",{children:K.jsx("span",{style:{fontSize:13,fontWeight:500,opacity:.7},children:O(ee)})}),K.jsx("td",{style:{textAlign:"center"},children:K.jsx("button",{className:"beta-btn--ghost beta-btn--mini",onClick:()=>G(P),children:K.jsx(mw,{})})}),K.jsx("td",{style:{textAlign:"center"},children:K.jsx("button",{className:"beta-btn--ghost",onClick:()=>Z(P,re),children:K.jsx(pw,{})})}),K.jsx("td",{style:{textAlign:"right",paddingRight:24},children:me})]},P.ticketPk?.toString())})]})})})]})}),se(!1)]}):K.jsx("div",{className:"beta-card",style:{padding:40,textAlign:"center",opacity:.5},children:"No history found."}),K.jsx(Z3,{ticket:ue,connection:t,programPk:n,claimGraceSlots:M,onClose:()=>G(null),currentSlot:I}),Y&&K.jsx(Q3,{round:Y.round,roundId:Y.roundId,programPk:n,rPda:null,currentSlot:I,claimGraceSlots:M,connection:t,onClose:()=>X(null)})]})}function f6(){return typeof window>"u"?null:window?.phantom?.solana??window?.solana??null}function d6(s,t){return!s?.isPhantom||!t?null:{publicKey:t,signTransaction:s.signTransaction.bind(s),signAllTransactions:s.signAllTransactions.bind(s)}}function h6({rpcUrl:s,programId:t,pubkey:n}){const i=Re.useMemo(()=>f6(),[]),o=Re.useMemo(()=>new dp(s,"confirmed"),[s]),[c,u]=Re.useState(null),[d,g]=Re.useState(!1);return Re.useEffect(()=>{let w=!0;async function E(){try{if(!i||!n){w&&(u(null),g(!1));return}const I=d6(i,n);if(!I){w&&(u(null),g(!1));return}const k=new Bc(o,I,{commitment:"confirmed"}),R=await po.at(t,k);w&&(u(R),g(!0))}catch{w&&(u(null),g(!1))}}return E(),()=>{w=!1}},[i,n,t,o]),{program:c,connection:o,walletReady:d}}function p6({chainId:s=2}={}){const n="https://beacon.nist.gov/beacon/2.0",i=Re.useMemo(()=>[`${n}/chain/${s}/pulse/last`,`${n}/pulse/last`],[n,s]),[o,c]=Re.useState(null),[u,d]=Re.useState(""),[g,w]=Re.useState(Date.now());async function E(){d("");for(const U of i)try{const z=await fetch(U,{cache:"no-store"});if(!z.ok)throw new Error(`HTTP ${z.status}`);const j=await z.json(),F=j?.pulse||j;if(!F?.pulseIndex||!F?.timeStamp)throw new Error("Unexpected NIST response");c({pulseIndex:Number(F.pulseIndex),timeStamp:String(F.timeStamp)});return}catch(z){d(z?.message??String(z))}}Re.useEffect(()=>{E();const U=setInterval(()=>w(Date.now()),1e3),z=setInterval(()=>E(),15e3);return()=>{clearInterval(U),clearInterval(z)}},[]);let I=null,k=null,R=null;if(o?.timeStamp){const U=Date.parse(o.timeStamp);if(!Number.isNaN(U)){I=U;const z=Math.max(0,g-U);k=Math.floor(z/1e3);const j=6e4-z%6e4;R=Math.max(0,Math.ceil(j/1e3)),R>60&&(R=60)}}const M=o?.pulseIndex!=null?`${n}/chain/${s}/pulse/${o.pulseIndex}`:`${n}/chain/${s}/pulse/last`;return{pulse:o,pulseTimeMs:I,elapsedSec:k,nextInSec:R,err:u,pulseUrl:M}}function Tr(s,...t){for(const n of t)if(s&&Object.prototype.hasOwnProperty.call(s,n))return s[n]}function Qa(s){return s==null?null:typeof s=="bigint"?s:typeof s=="number"||typeof s=="string"?BigInt(s):typeof s=="object"&&typeof s.toString=="function"?BigInt(s.toString()):null}function m6({rpcUrl:s,connection:t,programId:n,pubkey:i}){const o=Re.useMemo(()=>t||new dp(s,"processed"),[t,s]),c=Re.useMemo(()=>new Sp(WE),[]),[u,d]=Re.useState(null),[g,w]=Re.useState(""),E=Re.useCallback(async()=>{if(!i){d(null),w("");return}try{const I=Oi(n),k=YE(n,I),R=await o.getAccountInfo(k,"processed"),M=await o.getAccountInfo(I,"processed");if(!R?.data||!M?.data){const L=qu(n,I);d({configPda:I,config:null,roundRegistryPda:k,rrPda:k,roundId:null,roundPda:null,chronoVaultPda:null,round:null,tokenomicsPda:L,tokenomicsExists:!1,rewardFeePoolPda:null,deriveTicketPda:()=>null}),w("Protocol not fully initialized (Config or RR missing).");return}const U=c.decode("Config",M.data),z={claimGraceSlots:Qa(Tr(U,"claimGraceSlots","claim_grace_slots")),paused:!!Tr(U,"paused")},j=c.decode("RoundRegistry",R.data),F=Tr(j,"nextRoundId","next_round_id"),V=Qa(F)??0n,$=V>0n?Number(V-1n):0,ne=await o.getSlot("processed"),ie=Math.max(0,$-10+1),ue=[];for(let L=ie;L<=$;L++)ue.push(L);const G=ue.map(L=>br(n,L)),Y=await o.getMultipleAccountsInfo(G,"processed"),X={};let W=null;Y.forEach((L,B)=>{if(!L?.data)return;const v=ue[B],m=c.decode("Round",L.data),f={roundId:v,pulseSet:!!Tr(m,"pulseSet","pulse_set"),finalized:!!Tr(m,"finalized"),tokenSettled:!!Tr(m,"tokenSettled","token_settled"),commitDeadlineSlot:Qa(Tr(m,"commitDeadlineSlot","commit_deadline_slot")),revealDeadlineSlot:Qa(Tr(m,"revealDeadlineSlot","reveal_deadline_slot")),pulseIndexTarget:Qa(Tr(m,"pulseIndexTarget","pulse_index_target")),pulse:Tr(m,"pulse"),pulseSetSlot:Qa(Tr(m,"pulseSetSlot","pulse_set_slot"))},y=Number(f.pulseIndexTarget);X[y.toString()]=f,v===$&&(W=f)});const T=qu(n,I),_=!!(await o.getAccountInfo(T,"processed"))?.data,A=_?XE(n,T):null;d({configPda:I,config:z,roundRegistryPda:k,rrPda:k,roundId:$,roundPda:br(n,$),chronoVaultPda:Ac(n,$),currentSlot:ne,round:W,activeRounds:X,tokenomicsPda:T,tokenomicsExists:_,rewardFeePoolPda:A,deriveTicketPda:(L,B,v)=>ZE(n,L,B,v)});const C=W?.pulseIndexTarget?.toString()??"N/A";w(`Pipeline: ${Object.keys(X).length} rounds. Latest Target: ${C}`)}catch(I){d(null),w("Play: could not load protocol state"),console.error("useProtocolState refresh error:",I)}},[c,o,n,i]);return Re.useEffect(()=>{if(!i)return;let I=!1;const k=async()=>{I||document.visibilityState==="visible"&&await E()},R=u?.round&&u?.currentSlot!=null&&u.round.commitDeadlineSlot!=null&&BigInt(u.currentSlot)<u.round.commitDeadlineSlot,U=u?.round&&(R||!u.round.pulseSet||!u.round.finalized)?2e3:8e3;k();const z=setInterval(k,U);return()=>{I=!0,clearInterval(z)}},[i,E,u?.round?.pulseSet,u?.round?.finalized]),{chainState:u,statusLine:g,refreshNow:E}}D_("devnet");const vu="https://api.devnet.solana.com",y6="BETA2026",yw="DrsJxZRNuEFHVyj3Sz5CzpVeacpAGHBoZrg9NtRH9JqR",gw="https://timlg-faucet.vercel.app/api/faucet",m0="7nJ9vaCpjo3zDY1fzZv1KicjoZ6yPpzHFcKq3HDh8cEf",g6=+"0.05",b6=1;function y0(){return typeof window>"u"?null:window?.phantom?.solana??window?.solana??null}function w6(){const s=new Date,t=n=>String(n).padStart(2,"0");return`${t(s.getUTCHours())}:${t(s.getUTCMinutes())}:${t(s.getUTCSeconds())}Z`}function _6(){const s=Re.useMemo(()=>new _e(yw),[]),t=Re.useMemo(()=>new _e(m0),[]),[n,i]=Re.useState(!0),[o,c]=Re.useState(null),[u,d]=Re.useState(null),[g,w]=Re.useState(null),[E,I]=Re.useState(y6),[k,R]=Re.useState(""),[M,U]=Re.useState(""),[z,j]=Re.useState([]),F=Re.useCallback(y=>{const O=String(y??"").trim();O&&j(D=>{const Z=[...D,`[${w6()}] ${O}`];return Z.length>400?Z.slice(-400):Z})},[]),V=Re.useCallback(()=>j([]),[]),$=o?.toBase58?.()??null,{program:ne,connection:ce,walletReady:ie}=h6({rpcUrl:vu,programId:s,pubkey:o}),ue=p6({chainId:2}),{chainState:G,statusLine:Y,refreshNow:X}=m6({rpcUrl:vu,connection:ce,programId:s,pubkey:o}),W=Re.useCallback(async y=>{try{const D=await ce.getBalance(y,"confirmed")/T0;return d(D),D}catch{return d(null),null}},[ce]),T=Re.useCallback(async y=>{try{const D=(await ce.getParsedTokenAccountsByOwner(y,{mint:t},"confirmed"))?.value?.[0]?.account?.data?.parsed?.info?.tokenAmount?.uiAmount??0;return w(D),D}catch{return w(null),null}},[ce,t]),[h,_]=Re.useState(0),A=Re.useCallback(()=>{_(y=>y+1),setTimeout(()=>_(y=>y+1),1e3),setTimeout(()=>_(y=>y+1),3e3)},[]);Re.useCallback(async()=>{o&&(await Promise.all([W(o),T(o),X()]),A())},[o,W,T,X,A]);async function C(){try{let y=window?.solana;if(y?.isPhantom||(y=window?.phantom?.solana),!y){i(!1),R("Phantom not detected."),F("Connect: Phantom not detected.");return}i(!!y?.isPhantom),R("Connecting");const O={isPhantom:y?.isPhantom,isSolflare:y?.isSolflare,source:y===window?.solana?"window.solana":"window.phantom.solana",isConnected:y?.isConnected,pubkey:y?.publicKey?.toBase58?.()};if(F(`Connect: provider state: ${JSON.stringify(O)}`),y?.isConnected&&y?.publicKey){c(y.publicKey),R("Wallet connected (researched) "),F(`Connected (cached): ${y.publicKey.toBase58()}`),await Promise.all([W(y.publicKey),T(y.publicKey),X()]);return}let D;try{D=await y.connect()}catch(Z){console.warn("Standard connect failed, retrying with onlyIfTrusted:false",Z),F(`Connect: retry forced (${Z.message})`),await new Promise(se=>setTimeout(se,200)),D=await y.connect({onlyIfTrusted:!1})}D?.publicKey&&(c(D.publicKey),F(`Connected: ${D.publicKey.toBase58()}`),R("Wallet connected "),await Promise.all([W(D.publicKey),T(D.publicKey),X()]))}catch(y){console.error("Phantom connect error:",y);let O=y?.message??String(y);y?.code===-32603&&(O="Wallet Error (-32603). The Phantom extension is stuck. PLEASE RESTART YOUR BROWSER entirely.");const D=JSON.stringify(y,Object.getOwnPropertyNames(y));R(`Error: ${O}`),F(`Connect error details: ${D}`)}}async function L(){try{const y=y0();F("Disconnect: wallet requested."),await y?.disconnect?.()}catch{}c(null),d(null),w(null),U(""),R("Disconnected.")}async function B(){if(!o){R("Connect your wallet first."),F("Airdrop SOL: connect wallet first.");return}try{R("Requesting 1 SOL airdrop (devnet)..."),F("Airdrop SOL: requesting 1 SOL");const y=await ce.requestAirdrop(o,1*T0);if(U(y),F(`Airdrop SOL: submitted tx=${y}`),(await ce.confirmTransaction(y,"confirmed"))?.value?.err){R("Airdrop failed."),F("Airdrop SOL: failed (confirm err).");return}await W(o),R("Airdrop OK "),F("Airdrop SOL: OK ")}catch(y){R(`Airdrop error: ${y?.message??String(y)}`),F(`Airdrop SOL error: ${y?.message??String(y)}`)}}async function v(){if(!o){R("Connect your wallet first."),F("TIMLG faucet: connect wallet first.");return}const y=y0();if(!y?.isPhantom){R("Phantom not detected."),F("TIMLG faucet: Phantom not detected.");return}const O=o.toBase58(),D=E?.trim()||"";R("Requesting TIMLG from faucet..."),F("TIMLG faucet: preparing request"),U("");try{const Z=`Recipient: ${O}
Timestamp: ${Date.now()}
Domain: timlg.org`;let se;if(y.signMessage){R("Waiting for Phantom signature approval..."),F("TIMLG faucet: waiting Phantom signature");const Ie=new TextEncoder().encode(Z),Ve=await y.signMessage(Ie,"utf8"),It=Ve?.signature??Ve;se=ON.encode(It)}R("Sending request to faucet..."),F("TIMLG faucet: sending request");const re=await fetch(gw,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({recipient:O,inviteCode:D,message:Z,signature:se})}),le=await re.json().catch(()=>({}));if(!(re.ok&&(le?.ok===void 0||le?.ok===!0))){const Ie=le?.error||`HTTP ${re.status}`;R(`Faucet error: ${Ie}`),F(`TIMLG faucet error: ${Ie}`);return}le?.signature&&(U(le.signature),F(`TIMLG faucet: tx=${le.signature}`)),await T(o),R("TIMLG sent "),F("TIMLG faucet: OK ")}catch(Z){const se=Z?.message??String(Z);R(`Faucet error: ${se}`),F(`TIMLG faucet error: ${se}`)}}Re.useEffect(()=>{const y=y0();i(!!y?.isPhantom);const O=Z=>Z&&c(Z),D=()=>{c(null),d(null),w(null)};return y?.on?.("connect",O),y?.on?.("disconnect",D),(async()=>{try{y?.isPhantom&&y?.publicKey&&(c(y.publicKey),await Promise.all([W(y.publicKey),T(y.publicKey)]))}catch{}})(),()=>{y?.off?.("connect",O),y?.off?.("disconnect",D)}},[W,T]),Re.useMemo(()=>$?u!=null&&u<g6?{label:"Needs SOL",tone:"warn"}:g!=null&&g<b6?{label:"Needs TIMLG",tone:"warn"}:{label:"Ready",tone:"ok"}:{label:"Connect wallet",tone:"muted"},[$,u,g]);const[m,f]=Re.useState(!1);return K.jsxs("div",{className:"beta-app",children:[!n&&K.jsxs("div",{className:"beta-card beta-card--warn",children:[K.jsx("b",{children:"Phantom not detected."}),K.jsxs("div",{style:{marginTop:6},children:["Install Phantom:"," ",K.jsx("a",{href:"https://phantom.app/",target:"_blank",rel:"noreferrer",children:"https://phantom.app/"})]})]}),K.jsx("header",{className:"beta-header",children:K.jsxs("div",{className:"beta-walletbar",children:[K.jsx("img",{src:vR,className:"beta-walletbar__watermark",alt:"","aria-hidden":"true"}),K.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",position:"relative",zIndex:1},children:[K.jsx("div",{className:"beta-walletbar__title",children:"Wallet"}),K.jsx("button",{className:"beta-tooltip",onClick:()=>f(!m),type:"button",style:{cursor:"pointer",border:"1px solid #aaa",color:"#666",background:m?"rgba(0,0,0,0.1)":"transparent"},children:m?"":"i"})]}),m&&K.jsxs("div",{className:"beta-info-panel",style:{marginTop:4,marginBottom:8},children:[K.jsxs("div",{children:[K.jsx("b",{children:"RPC:"})," ",vu]}),K.jsxs("div",{children:[K.jsx("b",{children:"Program:"})," ",yw]}),K.jsxs("div",{children:[K.jsx("b",{children:"Mint:"})," ",m0]}),K.jsxs("div",{children:[K.jsx("b",{children:"Faucet:"})," ",gw]}),K.jsx("div",{style:{marginTop:6},children:"Version: 0.1.0-beta"})]}),K.jsxs("div",{style:{display:"flex",gap:20,marginTop:6,position:"relative",zIndex:1},children:[K.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:6},children:[K.jsxs("div",{className:"beta-walletbar__row",children:[K.jsx("div",{className:"beta-walletbar__label",children:"Address"}),K.jsx("div",{className:"beta-walletbar__cell-info",children:$?K.jsx("a",{className:"beta-link",href:G3($),target:"_blank",rel:"noreferrer",style:{fontSize:14,fontWeight:700,textDecoration:"none"},children:V3($)}):K.jsx("span",{className:"beta-muted",style:{fontSize:14,fontWeight:700},children:"Not connected"})}),K.jsx("div",{className:"beta-walletbar__cell-action",children:K.jsx("button",{className:"beta-btn beta-walletbar__btn-main",onClick:$?L:C,type:"button",children:$?"Disconnect":"Connect"})})]}),K.jsxs("div",{className:"beta-walletbar__row",children:[K.jsx("div",{className:"beta-walletbar__label",children:"SOL Balance"}),K.jsx("div",{className:"beta-walletbar__cell-info",children:K.jsxs("span",{style:{fontSize:15,fontWeight:700},children:[u==null?"":u.toFixed(3)," SOL"]})}),K.jsx("div",{className:"beta-walletbar__cell-action",children:K.jsx("button",{className:"beta-btn",onClick:B,disabled:!$,type:"button",children:"Airdrop SOL"})})]}),K.jsxs("div",{className:"beta-walletbar__row",children:[K.jsx("div",{className:"beta-walletbar__label",children:"TIMLG Balance"}),K.jsx("div",{className:"beta-walletbar__cell-info",children:K.jsxs("span",{style:{fontSize:15,fontWeight:700},children:[g==null?"":Number(g).toFixed(2)," TIMLG"]})}),K.jsx("div",{className:"beta-walletbar__cell-action",children:K.jsx("button",{className:"beta-btn",style:{background:"#2D68EA",color:"white",border:"none"},onClick:v,disabled:!$,type:"button",children:"Get TIMLG"})})]}),K.jsxs("div",{className:"beta-walletbar__row",children:[K.jsx("div",{className:"beta-walletbar__label"}),K.jsx("div",{className:"beta-walletbar__cell-info",children:K.jsxs("div",{className:"beta-walletbar__label",style:{fontSize:13,display:"flex",alignItems:"center",gap:6},children:[K.jsx("span",{style:{fontSize:16,lineHeight:1},children:""})," INVITE CODE"]})}),K.jsx("div",{className:"beta-walletbar__cell-action",children:K.jsx("input",{className:"beta-input",style:{padding:"0 10px",textAlign:"center",fontSize:13,width:"100%",height:32,background:"rgba(0,0,0,0.05)",border:"1px solid #ccc",borderRadius:10},value:E,onChange:y=>I(y.target.value),placeholder:"Code..."})})]})]}),K.jsxs("div",{style:{width:220,borderLeft:"1px solid rgba(0,0,0,0.05)",paddingLeft:20,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",opacity:.3,fontSize:12,border:"1px dashed #ccc",borderRadius:8,background:"rgba(0,0,0,0.02)"},children:[K.jsx("span",{style:{fontWeight:600},children:"Performance Stats"}),K.jsx("span",{children:"(Coming Soon)"})]})]})]})}),K.jsxs("main",{className:"beta-main",children:[K.jsx(Y3,{rpcUrl:vu,connection:ce,program:ne,walletReady:ie,programPk:s,chronoMint:m0,pubkey:o,appendLog:F,chainState:G,refreshProtocolState:X,statusLine:Y,onActionComplete:A,nist:ue,logs:z,onClearLog:V}),K.jsx("div",{style:{marginTop:24},children:K.jsx(u6,{program:ne,connection:ce,programPk:s,pubkey:o,mintPk:t,appendLog:F,actionsEnabled:!0,limit:1e3,currentSlot:G?.currentSlot,claimGraceSlots:G?.config?.claimGraceSlots,activeRoundId:G?.roundId??null,nist:ue,refreshNonce:h,onAfterAction:A})})]})]})}class v6 extends hR.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("ErrorBoundary caught an error",t,n),this.setState({errorInfo:n})}render(){return this.state.hasError?K.jsxs("div",{style:{padding:20,color:"red",border:"1px solid red",margin:20},children:[K.jsx("h2",{children:"Something went wrong."}),K.jsxs("details",{style:{whiteSpace:"pre-wrap"},children:[this.state.error&&this.state.error.toString(),K.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]})]}):this.props.children}}let ps=null;function $E(){const s=document.getElementById("beta-root")||document.getElementById("root");if(s){if(ps){try{ps.unmount()}catch{}ps=null}ps=_R.createRoot(s),ps.render(K.jsx(Re.StrictMode,{children:K.jsx(v6,{children:K.jsx(_6,{})})}))}}function E6(){if(ps){try{ps.unmount()}catch{}ps=null}}typeof window<"u"&&(window.__mountBetaApp=$E,window.__unmountBetaApp=E6);$E();
